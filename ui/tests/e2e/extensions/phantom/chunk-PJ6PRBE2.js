import{R as _x,a as Wt,b as Qy,c as Xy,e as au,f as ks,g as xo,h as jr,j as $r,k as Jy,l as i6,m as wo,o as _G,p as eg,w as tg,x as rg,y as o6}from"./chunk-DHKCVHRA.js";import{B as Ax,D as AG,M as hEe,N as pEe,O as Yk,P as Zk,Q as Qk,R as mEe,Z as yEe,_ as gEe,a as SG,aa as bEe,b as EG,ba as b6,c as Ui,ca as vEe,d as n6,da as xEe,ga as xW,ha as Xk,ia as wEe,ja as SEe,ka as EEe,l as le,la as wW,ma as _Ee,n as Zs,na as AEe,oa as TEe,p as ng,pa as IEe,q as s6,qa as Jk,r as zk,ra as SW,sa as MEe,ta as kEe}from"./chunk-UTOBJRXZ.js";import{a as Ex}from"./chunk-3Q6WUW5S.js";import{e as vW}from"./chunk-I5GRDOQ7.js";import{$ as JG,A as LG,Aa as g6,B as UG,Ba as pW,C as FG,Ca as mW,D as f6,Da as yW,E as $k,F as qG,I as og,J as HG,K as KG,L as VG,M as Yo,N as jG,O as zG,P as u6,Q as l6,R as Ix,T as GG,U as WG,V as $G,W as YG,X as sg,Y as ZG,Z as QG,_ as XG,a as Ai,aa as eW,b as TG,ba as qd,bb as gW,c as IG,ca as d6,cb as bW,d as cu,da as tW,e as MG,ea as rW,f as a6,fa as nW,g as kG,ga as iW,h as Fd,ha as oW,i as PG,j as RG,ja as h6,k as BG,ka as sW,l as Gk,la as bl,m as ig,ma as aW,n as CG,o as wn,oa as p6,p as Tx,pa as ag,q as NG,qa as cW,ra as fW,s as c6,sa as uW,ta as lW,u as Ta,ua as m6,w as Wk,wa as dW,x as OG,xa as cg,ya as y6,z as DG,za as hW}from"./chunk-3KRCODTN.js";import{a as xG,c as F,d as wG,e as gl,f as Ge,h,i as I,j as lEe,k as dEe,l as _i,m as Buffer,n as p}from"./chunk-SVG5OEFH.js";var kx=F(dg=>{"use strict";h();p();var eP=lEe(),ug=dEe(),EW=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;dg.Buffer=qe;dg.SlowBuffer=OEe;dg.INSPECT_MAX_BYTES=50;var v6=2147483647;dg.kMaxLength=v6;qe.TYPED_ARRAY_SUPPORT=PEe();!qe.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function PEe(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(qe.prototype,"parent",{enumerable:!0,get:function(){if(qe.isBuffer(this))return this.buffer}});Object.defineProperty(qe.prototype,"offset",{enumerable:!0,get:function(){if(qe.isBuffer(this))return this.byteOffset}});function vl(t){if(t>v6)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,qe.prototype),e}function qe(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return iP(t)}return IW(t,e,r)}qe.poolSize=8192;function IW(t,e,r){if(typeof t=="string")return BEe(t,e);if(ArrayBuffer.isView(t))return CEe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(fu(t,ArrayBuffer)||t&&fu(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fu(t,SharedArrayBuffer)||t&&fu(t.buffer,SharedArrayBuffer)))return rP(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return qe.from(n,e,r);let i=NEe(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return qe.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}qe.from=function(t,e,r){return IW(t,e,r)};Object.setPrototypeOf(qe.prototype,Uint8Array.prototype);Object.setPrototypeOf(qe,Uint8Array);function MW(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function REe(t,e,r){return MW(t),t<=0?vl(t):e!==void 0?typeof r=="string"?vl(t).fill(e,r):vl(t).fill(e):vl(t)}qe.alloc=function(t,e,r){return REe(t,e,r)};function iP(t){return MW(t),vl(t<0?0:oP(t)|0)}qe.allocUnsafe=function(t){return iP(t)};qe.allocUnsafeSlow=function(t){return iP(t)};function BEe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!qe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=kW(t,e)|0,n=vl(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function tP(t){let e=t.length<0?0:oP(t.length)|0,r=vl(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function CEe(t){if(fu(t,Uint8Array)){let e=new Uint8Array(t);return rP(e.buffer,e.byteOffset,e.byteLength)}return tP(t)}function rP(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,qe.prototype),n}function NEe(t){if(qe.isBuffer(t)){let e=oP(t.length)|0,r=vl(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||aP(t.length)?vl(0):tP(t);if(t.type==="Buffer"&&Array.isArray(t.data))return tP(t.data)}function oP(t){if(t>=v6)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v6.toString(16)+" bytes");return t|0}function OEe(t){return+t!=t&&(t=0),qe.alloc(+t)}qe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==qe.prototype};qe.compare=function(e,r){if(fu(e,Uint8Array)&&(e=qe.from(e,e.offset,e.byteLength)),fu(r,Uint8Array)&&(r=qe.from(r,r.offset,r.byteLength)),!qe.isBuffer(e)||!qe.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};qe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};qe.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return qe.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=qe.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(fu(s,Uint8Array))o+s.length>i.length?(qe.isBuffer(s)||(s=qe.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(qe.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function kW(t,e){if(qe.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||fu(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return nP(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return UW(t).length;default:if(i)return n?-1:nP(t).length;e=(""+e).toLowerCase(),i=!0}}qe.byteLength=kW;function DEe(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return GEe(this,e,r);case"utf8":case"utf-8":return RW(this,e,r);case"ascii":return jEe(this,e,r);case"latin1":case"binary":return zEe(this,e,r);case"base64":return KEe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return WEe(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}qe.prototype._isBuffer=!0;function vp(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}qe.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)vp(this,r,r+1);return this};qe.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)vp(this,r,r+3),vp(this,r+1,r+2);return this};qe.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)vp(this,r,r+7),vp(this,r+1,r+6),vp(this,r+2,r+5),vp(this,r+3,r+4);return this};qe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?RW(this,0,e):DEe.apply(this,arguments)};qe.prototype.toLocaleString=qe.prototype.toString;qe.prototype.equals=function(e){if(!qe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:qe.compare(this,e)===0};qe.prototype.inspect=function(){let e="",r=dg.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};EW&&(qe.prototype[EW]=qe.prototype.inspect);qe.prototype.compare=function(e,r,n,i,o){if(fu(e,Uint8Array)&&(e=qe.from(e,e.offset,e.byteLength)),!qe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,c=n-r,l=Math.min(s,c),d=this.slice(i,o),g=e.slice(r,n);for(let b=0;b<l;++b)if(d[b]!==g[b]){s=d[b],c=g[b];break}return s<c?-1:c<s?1:0};function PW(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,aP(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=qe.from(e,n)),qe.isBuffer(e))return e.length===0?-1:_W(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_W(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _W(t,e,r,n,i){let o=1,s=t.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,r/=2}function l(g,b){return o===1?g[b]:g.readUInt16BE(b*o)}let d;if(i){let g=-1;for(d=r;d<s;d++)if(l(t,d)===l(e,g===-1?0:d-g)){if(g===-1&&(g=d),d-g+1===c)return g*o}else g!==-1&&(d-=d-g),g=-1}else for(r+c>s&&(r=s-c),d=r;d>=0;d--){let g=!0;for(let b=0;b<c;b++)if(l(t,d+b)!==l(e,b)){g=!1;break}if(g)return d}return-1}qe.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};qe.prototype.indexOf=function(e,r,n){return PW(this,e,r,n,!0)};qe.prototype.lastIndexOf=function(e,r,n){return PW(this,e,r,n,!1)};function LEe(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let c=parseInt(e.substr(s*2,2),16);if(aP(c))return s;t[r+s]=c}return s}function UEe(t,e,r,n){return x6(nP(e,t.length-r),t,r,n)}function FEe(t,e,r,n){return x6(QEe(e),t,r,n)}function qEe(t,e,r,n){return x6(UW(e),t,r,n)}function HEe(t,e,r,n){return x6(XEe(e,t.length-r),t,r,n)}qe.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return LEe(this,e,r,n);case"utf8":case"utf-8":return UEe(this,e,r,n);case"ascii":case"latin1":case"binary":return FEe(this,e,r,n);case"base64":return qEe(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return HEe(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};qe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function KEe(t,e,r){return e===0&&r===t.length?eP.fromByteArray(t):eP.fromByteArray(t.slice(e,r))}function RW(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,c=o>239?4:o>223?3:o>191?2:1;if(i+c<=r){let l,d,g,b;switch(c){case 1:o<128&&(s=o);break;case 2:l=t[i+1],(l&192)===128&&(b=(o&31)<<6|l&63,b>127&&(s=b));break;case 3:l=t[i+1],d=t[i+2],(l&192)===128&&(d&192)===128&&(b=(o&15)<<12|(l&63)<<6|d&63,b>2047&&(b<55296||b>57343)&&(s=b));break;case 4:l=t[i+1],d=t[i+2],g=t[i+3],(l&192)===128&&(d&192)===128&&(g&192)===128&&(b=(o&15)<<18|(l&63)<<12|(d&63)<<6|g&63,b>65535&&b<1114112&&(s=b))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=c}return VEe(n)}var AW=4096;function VEe(t){let e=t.length;if(e<=AW)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=AW));return r}function jEe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function zEe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function GEe(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=JEe[t[o]];return i}function WEe(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}qe.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,qe.prototype),i};function no(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}qe.prototype.readUintLE=qe.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||no(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};qe.prototype.readUintBE=qe.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||no(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};qe.prototype.readUint8=qe.prototype.readUInt8=function(e,r){return e=e>>>0,r||no(e,1,this.length),this[e]};qe.prototype.readUint16LE=qe.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||no(e,2,this.length),this[e]|this[e+1]<<8};qe.prototype.readUint16BE=qe.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||no(e,2,this.length),this[e]<<8|this[e+1]};qe.prototype.readUint32LE=qe.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||no(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};qe.prototype.readUint32BE=qe.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||no(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};qe.prototype.readBigUInt64LE=Hd(function(e){e=e>>>0,lg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Mx(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});qe.prototype.readBigUInt64BE=Hd(function(e){e=e>>>0,lg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Mx(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});qe.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||no(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};qe.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||no(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};qe.prototype.readInt8=function(e,r){return e=e>>>0,r||no(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};qe.prototype.readInt16LE=function(e,r){e=e>>>0,r||no(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};qe.prototype.readInt16BE=function(e,r){e=e>>>0,r||no(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};qe.prototype.readInt32LE=function(e,r){return e=e>>>0,r||no(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};qe.prototype.readInt32BE=function(e,r){return e=e>>>0,r||no(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};qe.prototype.readBigInt64LE=Hd(function(e){e=e>>>0,lg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Mx(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});qe.prototype.readBigInt64BE=Hd(function(e){e=e>>>0,lg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Mx(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});qe.prototype.readFloatLE=function(e,r){return e=e>>>0,r||no(e,4,this.length),ug.read(this,e,!0,23,4)};qe.prototype.readFloatBE=function(e,r){return e=e>>>0,r||no(e,4,this.length),ug.read(this,e,!1,23,4)};qe.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||no(e,8,this.length),ug.read(this,e,!0,52,8)};qe.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||no(e,8,this.length),ug.read(this,e,!1,52,8)};function Qs(t,e,r,n,i,o){if(!qe.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}qe.prototype.writeUintLE=qe.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;Qs(this,e,r,n,c,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};qe.prototype.writeUintBE=qe.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;Qs(this,e,r,n,c,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};qe.prototype.writeUint8=qe.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,1,255,0),this[r]=e&255,r+1};qe.prototype.writeUint16LE=qe.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};qe.prototype.writeUint16BE=qe.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};qe.prototype.writeUint32LE=qe.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};qe.prototype.writeUint32BE=qe.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function BW(t,e,r,n,i){LW(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function CW(t,e,r,n,i){LW(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}qe.prototype.writeBigUInt64LE=Hd(function(e,r=0){return BW(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});qe.prototype.writeBigUInt64BE=Hd(function(e,r=0){return CW(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});qe.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);Qs(this,e,r,n,l-1,-l)}let o=0,s=1,c=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&c===0&&this[r+o-1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};qe.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);Qs(this,e,r,n,l-1,-l)}let o=n-1,s=1,c=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&c===0&&this[r+o+1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};qe.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};qe.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};qe.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};qe.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};qe.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Qs(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};qe.prototype.writeBigInt64LE=Hd(function(e,r=0){return BW(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});qe.prototype.writeBigInt64BE=Hd(function(e,r=0){return CW(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function NW(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function OW(t,e,r,n,i){return e=+e,r=r>>>0,i||NW(t,e,r,4,34028234663852886e22,-34028234663852886e22),ug.write(t,e,r,n,23,4),r+4}qe.prototype.writeFloatLE=function(e,r,n){return OW(this,e,r,!0,n)};qe.prototype.writeFloatBE=function(e,r,n){return OW(this,e,r,!1,n)};function DW(t,e,r,n,i){return e=+e,r=r>>>0,i||NW(t,e,r,8,17976931348623157e292,-17976931348623157e292),ug.write(t,e,r,n,52,8),r+8}qe.prototype.writeDoubleLE=function(e,r,n){return DW(this,e,r,!0,n)};qe.prototype.writeDoubleBE=function(e,r,n){return DW(this,e,r,!1,n)};qe.prototype.copy=function(e,r,n,i){if(!qe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};qe.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!qe.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=qe.isBuffer(e)?e:qe.from(e,i),c=s.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%c]}return this};var fg={};function sP(t,e,r){fg[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}sP("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);sP("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);sP("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=TW(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=TW(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function TW(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $Ee(t,e,r){lg(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Mx(e,t.length-(r+1))}function LW(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",c;throw o>3?e===0||e===BigInt(0)?c=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:c=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:c=`>= ${e}${s} and <= ${r}${s}`,new fg.ERR_OUT_OF_RANGE("value",c,t)}$Ee(n,i,o)}function lg(t,e){if(typeof t!="number")throw new fg.ERR_INVALID_ARG_TYPE(e,"number",t)}function Mx(t,e,r){throw Math.floor(t)!==t?(lg(t,r),new fg.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new fg.ERR_BUFFER_OUT_OF_BOUNDS:new fg.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var YEe=/[^+/0-9A-Za-z-_]/g;function ZEe(t){if(t=t.split("=")[0],t=t.trim().replace(YEe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function nP(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function QEe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function XEe(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function UW(t){return eP.toByteArray(ZEe(t))}function x6(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function fu(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function aP(t){return t!==t}var JEe=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Hd(t){return typeof BigInt>"u"?e6e:t}function e6e(){throw new Error("BigInt not supported")}});var S6=F(Ps=>{"use strict";h();p();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.output=Ps.exists=Ps.hash=Ps.bytes=Ps.bool=Ps.number=void 0;function w6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ps.number=w6;function FW(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ps.bool=FW;function cP(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ps.bytes=cP;function qW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");w6(t.outputLen),w6(t.blockLen)}Ps.hash=qW;function HW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ps.exists=HW;function KW(t,e){cP(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ps.output=KW;var t6e={number:w6,bool:FW,bytes:cP,hash:qW,exists:HW,output:KW};Ps.default=t6e});var VW=F(E6=>{"use strict";h();p();Object.defineProperty(E6,"__esModule",{value:!0});E6.crypto=void 0;E6.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Kd=F(sr=>{"use strict";h();p();Object.defineProperty(sr,"__esModule",{value:!0});sr.randomBytes=sr.wrapConstructorWithOpts=sr.wrapConstructor=sr.checkOpts=sr.Hash=sr.concatBytes=sr.toBytes=sr.utf8ToBytes=sr.asyncLoop=sr.nextTick=sr.hexToBytes=sr.bytesToHex=sr.isLE=sr.rotr=sr.createView=sr.u32=sr.u8=void 0;var _6=VW(),r6e=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);sr.u8=r6e;var n6e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));sr.u32=n6e;var i6e=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);sr.createView=i6e;var o6e=(t,e)=>t<<32-e|t>>>e;sr.rotr=o6e;sr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sr.isLE)throw new Error("Non little-endian hardware is not supported");var s6e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function a6e(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=s6e[t[r]];return e}sr.bytesToHex=a6e;function c6e(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}sr.hexToBytes=c6e;var f6e=async()=>{};sr.nextTick=f6e;async function u6e(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,sr.nextTick)(),n+=o)}}sr.asyncLoop=u6e;function jW(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}sr.utf8ToBytes=jW;function uP(t){if(typeof t=="string"&&(t=jW(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}sr.toBytes=uP;function l6e(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}sr.concatBytes=l6e;var fP=class{clone(){return this._cloneInto()}};sr.Hash=fP;var d6e=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function h6e(t,e){if(e!==void 0&&(typeof e!="object"||!d6e(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}sr.checkOpts=h6e;function p6e(t){let e=n=>t().update(uP(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}sr.wrapConstructor=p6e;function m6e(t){let e=(n,i)=>t(i).update(uP(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}sr.wrapConstructorWithOpts=m6e;function y6e(t=32){if(_6.crypto.web)return _6.crypto.web.getRandomValues(new Uint8Array(t));if(_6.crypto.node)return new Uint8Array(_6.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}sr.randomBytes=y6e});var Rx=F(A6=>{"use strict";h();p();Object.defineProperty(A6,"__esModule",{value:!0});A6.SHA2=void 0;var lP=S6(),Px=Kd();function g6e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,d=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+d,c,n)}var dP=class extends Px.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Px.createView)(this.buffer)}update(e){lP.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,Px.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,Px.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lP.default.exists(this),lP.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;g6e(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,Px.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,g[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};A6.SHA2=dP});var mP=F(rc=>{"use strict";h();p();Object.defineProperty(rc,"__esModule",{value:!0});rc.add=rc.toBig=rc.split=rc.fromBig=void 0;var T6=BigInt(2**32-1),hP=BigInt(32);function pP(t,e=!1){return e?{h:Number(t&T6),l:Number(t>>hP&T6)}:{h:Number(t>>hP&T6)|0,l:Number(t&T6)|0}}rc.fromBig=pP;function zW(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=pP(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}rc.split=zW;var b6e=(t,e)=>BigInt(t>>>0)<<hP|BigInt(e>>>0);rc.toBig=b6e;var v6e=(t,e,r)=>t>>>r,x6e=(t,e,r)=>t<<32-r|e>>>r,w6e=(t,e,r)=>t>>>r|e<<32-r,S6e=(t,e,r)=>t<<32-r|e>>>r,E6e=(t,e,r)=>t<<64-r|e>>>r-32,_6e=(t,e,r)=>t>>>r-32|e<<64-r,A6e=(t,e)=>e,T6e=(t,e)=>t,I6e=(t,e,r)=>t<<r|e>>>32-r,M6e=(t,e,r)=>e<<r|t>>>32-r,k6e=(t,e,r)=>e<<r-32|t>>>64-r,P6e=(t,e,r)=>t<<r-32|e>>>64-r;function GW(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}rc.add=GW;var R6e=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),B6e=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,C6e=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),N6e=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,O6e=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),D6e=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,L6e={fromBig:pP,split:zW,toBig:rc.toBig,shrSH:v6e,shrSL:x6e,rotrSH:w6e,rotrSL:S6e,rotrBH:E6e,rotrBL:_6e,rotr32H:A6e,rotr32L:T6e,rotlSH:I6e,rotlSL:M6e,rotlBH:k6e,rotlBL:P6e,add:GW,add3L:R6e,add3H:B6e,add4L:C6e,add4H:N6e,add5H:D6e,add5L:O6e};rc.default=L6e});var WW=F(nc=>{"use strict";h();p();Object.defineProperty(nc,"__esModule",{value:!0});nc.sha384=nc.sha512_256=nc.sha512_224=nc.sha512=nc.SHA512=void 0;var U6e=Rx(),Jt=mP(),I6=Kd(),[F6e,q6e]=Jt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Vd=new Uint32Array(80),jd=new Uint32Array(80),xp=class extends U6e.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:d,El:g,Fh:b,Fl:_,Gh:T,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B]}set(e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=d|0,this.El=g|0,this.Fh=b|0,this.Fl=_|0,this.Gh=T|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let R=0;R<16;R++,r+=4)Vd[R]=e.getUint32(r),jd[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let L=Vd[R-15]|0,V=jd[R-15]|0,z=Jt.default.rotrSH(L,V,1)^Jt.default.rotrSH(L,V,8)^Jt.default.shrSH(L,V,7),oe=Jt.default.rotrSL(L,V,1)^Jt.default.rotrSL(L,V,8)^Jt.default.shrSL(L,V,7),$=Vd[R-2]|0,ne=jd[R-2]|0,S=Jt.default.rotrSH($,ne,19)^Jt.default.rotrBH($,ne,61)^Jt.default.shrSH($,ne,6),a=Jt.default.rotrSL($,ne,19)^Jt.default.rotrBL($,ne,61)^Jt.default.shrSL($,ne,6),u=Jt.default.add4L(oe,a,jd[R-7],jd[R-16]),m=Jt.default.add4H(u,z,S,Vd[R-7],Vd[R-16]);Vd[R]=m|0,jd[R]=u|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:d,Dl:g,Eh:b,El:_,Fh:T,Fl:M,Gh:k,Gl:B,Hh:P,Hl:D}=this;for(let R=0;R<80;R++){let L=Jt.default.rotrSH(b,_,14)^Jt.default.rotrSH(b,_,18)^Jt.default.rotrBH(b,_,41),V=Jt.default.rotrSL(b,_,14)^Jt.default.rotrSL(b,_,18)^Jt.default.rotrBL(b,_,41),z=b&T^~b&k,oe=_&M^~_&B,$=Jt.default.add5L(D,V,oe,q6e[R],jd[R]),ne=Jt.default.add5H($,P,L,z,F6e[R],Vd[R]),S=$|0,a=Jt.default.rotrSH(n,i,28)^Jt.default.rotrBH(n,i,34)^Jt.default.rotrBH(n,i,39),u=Jt.default.rotrSL(n,i,28)^Jt.default.rotrBL(n,i,34)^Jt.default.rotrBL(n,i,39),m=n&o^n&c^o&c,y=i&s^i&l^s&l;P=k|0,D=B|0,k=T|0,B=M|0,T=b|0,M=_|0,{h:b,l:_}=Jt.default.add(d|0,g|0,ne|0,S|0),d=c|0,g=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let w=Jt.default.add3L(S,u,y);n=Jt.default.add3H(w,ne,a,m),i=w|0}({h:n,l:i}=Jt.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Jt.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Jt.default.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:d,l:g}=Jt.default.add(this.Dh|0,this.Dl|0,d|0,g|0),{h:b,l:_}=Jt.default.add(this.Eh|0,this.El|0,b|0,_|0),{h:T,l:M}=Jt.default.add(this.Fh|0,this.Fl|0,T|0,M|0),{h:k,l:B}=Jt.default.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:P,l:D}=Jt.default.add(this.Hh|0,this.Hl|0,P|0,D|0),this.set(n,i,o,s,c,l,d,g,b,_,T,M,k,B,P,D)}roundClean(){Vd.fill(0),jd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};nc.SHA512=xp;var yP=class extends xp{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},gP=class extends xp{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},bP=class extends xp{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};nc.sha512=(0,I6.wrapConstructor)(()=>new xp);nc.sha512_224=(0,I6.wrapConstructor)(()=>new yP);nc.sha512_256=(0,I6.wrapConstructor)(()=>new gP);nc.sha384=(0,I6.wrapConstructor)(()=>new bP)});var wp=F((Emt,xP)=>{"use strict";h();p();var vP=65536,H6e=4294967295;function K6e(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var V6e=Wt().Buffer,M6=self.crypto||self.msCrypto;M6&&M6.getRandomValues?xP.exports=j6e:xP.exports=K6e;function j6e(t,e){if(t>H6e)throw new RangeError("requested too many random bytes");var r=V6e.allocUnsafe(t);if(t>0)if(t>vP)for(var n=0;n<t;n+=vP)M6.getRandomValues(r.slice(n,n+vP));else M6.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var qt=F((Tmt,wP)=>{h();p();typeof Object.create=="function"?wP.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:wP.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var SP=F((kmt,$W)=>{h();p();$W.exports=Ex().EventEmitter});var Bx=F(()=>{h();p()});var XW=F((Dmt,QW)=>{"use strict";h();p();function YW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(r),!0).forEach(function(n){G6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G6e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $6e(t,e,r){return e&&ZW(t.prototype,e),r&&ZW(t,r),t}var Y6e=_i(),k6=Y6e.Buffer,Z6e=Bx(),EP=Z6e.inspect,Q6e=EP&&EP.custom||"inspect";function X6e(t,e,r){k6.prototype.copy.call(t,e,r)}QW.exports=function(){function t(){W6e(this,t),this.head=null,this.tail=null,this.length=0}return $6e(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return k6.alloc(0);for(var n=k6.allocUnsafe(r>>>0),i=this.head,o=0;i;)X6e(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,c=r>s.length?s.length:r;if(c===s.length?o+=s:o+=s.slice(0,r),r-=c,r===0){c===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(c));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=k6.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,c=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,c),r-=c,r===0){c===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(c));break}++o}return this.length-=o,n}},{key:Q6e,value:function(r,n){return EP(this,z6e({},n,{depth:0,customInspect:!1}))}}]),t}()});var AP=F((Fmt,e$)=>{"use strict";h();p();function J6e(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(_P,this,t)):process.nextTick(_P,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(P6,r):(r._writableState.errorEmitted=!0,process.nextTick(JW,r,o)):process.nextTick(JW,r,o):e?(process.nextTick(P6,r),e(o)):process.nextTick(P6,r)}),this)}function JW(t,e){_P(t,e),P6(t)}function P6(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function e_e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _P(t,e){t.emit("error",e)}function t_e(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}e$.exports={destroy:J6e,undestroy:e_e,errorOrDestroy:t_e}});var Sp=F((Kmt,n$)=>{"use strict";h();p();function r_e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r$={};function ic(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){r_e(s,o);function s(c,l,d){return o.call(this,n(c,l,d))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,r$[t]=i}function t$(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function n_e(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function i_e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function o_e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ic("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ic("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&n_e(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(i_e(t," argument"))i="The ".concat(t," ").concat(n," ").concat(t$(e,"type"));else{var o=o_e(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(t$(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ic("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ic("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ic("ERR_STREAM_PREMATURE_CLOSE","Premature close");ic("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ic("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ic("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ic("ERR_STREAM_WRITE_AFTER_END","write after end");ic("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ic("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ic("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");n$.exports.codes=r$});var TP=F((zmt,i$)=>{"use strict";h();p();var s_e=Sp().codes.ERR_INVALID_OPT_VALUE;function a_e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function c_e(t,e,r,n){var i=a_e(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new s_e(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}i$.exports={getHighWaterMark:c_e}});var MP=F(($mt,o$)=>{h();p();o$.exports=f_e;function f_e(t,e){if(IP("noDeprecation"))return t;var r=!1;function n(){if(!r){if(IP("throwDeprecation"))throw new Error(e);IP("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function IP(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var C6=F((Qmt,l$)=>{"use strict";h();p();l$.exports=ii;function a$(t){var e=this;this.next=null,this.entry=null,this.finish=function(){D_e(e,t)}}var hg;ii.WritableState=Nx;var u_e={deprecate:MP()},c$=SP(),B6=_i().Buffer,l_e=self.Uint8Array||function(){};function d_e(t){return B6.from(t)}function h_e(t){return B6.isBuffer(t)||t instanceof l_e}var PP=AP(),p_e=TP(),m_e=p_e.getHighWaterMark,zd=Sp().codes,y_e=zd.ERR_INVALID_ARG_TYPE,g_e=zd.ERR_METHOD_NOT_IMPLEMENTED,b_e=zd.ERR_MULTIPLE_CALLBACK,v_e=zd.ERR_STREAM_CANNOT_PIPE,x_e=zd.ERR_STREAM_DESTROYED,w_e=zd.ERR_STREAM_NULL_VALUES,S_e=zd.ERR_STREAM_WRITE_AFTER_END,E_e=zd.ERR_UNKNOWN_ENCODING,pg=PP.errorOrDestroy;qt()(ii,c$);function __e(){}function Nx(t,e,r){hg=hg||Gd(),t=t||{},typeof r!="boolean"&&(r=e instanceof hg),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=m_e(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){R_e(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a$(this)}Nx.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Nx.prototype,"buffer",{get:u_e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var R6;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R6=Function.prototype[Symbol.hasInstance],Object.defineProperty(ii,Symbol.hasInstance,{value:function(e){return R6.call(this,e)?!0:this!==ii?!1:e&&e._writableState instanceof Nx}})):R6=function(e){return e instanceof this};function ii(t){hg=hg||Gd();var e=this instanceof hg;if(!e&&!R6.call(ii,this))return new ii(t);this._writableState=new Nx(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),c$.call(this)}ii.prototype.pipe=function(){pg(this,new v_e)};function A_e(t,e){var r=new S_e;pg(t,r),process.nextTick(e,r)}function T_e(t,e,r,n){var i;return r===null?i=new w_e:typeof r!="string"&&!e.objectMode&&(i=new y_e("chunk",["string","Buffer"],r)),i?(pg(t,i),process.nextTick(n,i),!1):!0}ii.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&h_e(t);return o&&!B6.isBuffer(t)&&(t=d_e(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=__e),n.ending?A_e(this,r):(o||T_e(this,n,t,r))&&(n.pendingcb++,i=M_e(this,n,o,t,e,r)),i};ii.prototype.cork=function(){this._writableState.corked++};ii.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&f$(this,t))};ii.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E_e(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ii.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function I_e(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=B6.from(e,r)),e}Object.defineProperty(ii.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M_e(t,e,r,n,i,o){if(!r){var s=I_e(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else kP(t,e,!1,c,n,i,o);return l}function kP(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new x_e("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k_e(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Cx,t,e),t._writableState.errorEmitted=!0,pg(t,n)):(i(n),t._writableState.errorEmitted=!0,pg(t,n),Cx(t,e))}function P_e(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function R_e(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new b_e;if(P_e(r),e)k_e(t,r,n,e,i);else{var o=u$(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&f$(t,r),n?process.nextTick(s$,t,r,o,i):s$(t,r,o,i)}}function s$(t,e,r,n){r||B_e(t,e),e.pendingcb--,n(),Cx(t,e)}function B_e(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function f$(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,kP(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a$(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,d=r.encoding,g=r.callback,b=e.objectMode?1:l.length;if(kP(t,e,!1,b,l,d,g),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ii.prototype._write=function(t,e,r){r(new g_e("_write()"))};ii.prototype._writev=null;ii.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||O_e(this,n,r),this};Object.defineProperty(ii.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u$(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function C_e(t,e){t._final(function(r){e.pendingcb--,r&&pg(t,r),e.prefinished=!0,t.emit("prefinish"),Cx(t,e)})}function N_e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(C_e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Cx(t,e){var r=u$(e);if(r&&(N_e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function O_e(t,e,r){e.ending=!0,Cx(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function D_e(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ii.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ii.prototype.destroy=PP.destroy;ii.prototype._undestroy=PP.undestroy;ii.prototype._destroy=function(t,e){e(t)}});var Gd=F((eyt,h$)=>{"use strict";h();p();var L_e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};h$.exports=uu;var d$=D6(),BP=C6();qt()(uu,d$);for(RP=L_e(BP.prototype),N6=0;N6<RP.length;N6++)O6=RP[N6],uu.prototype[O6]||(uu.prototype[O6]=BP.prototype[O6]);var RP,O6,N6;function uu(t){if(!(this instanceof uu))return new uu(t);d$.call(this,t),BP.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",U_e)))}Object.defineProperty(uu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(uu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(uu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function U_e(){this._writableState.ended||process.nextTick(F_e,this)}function F_e(t){t.end()}Object.defineProperty(uu.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var mg=F(m$=>{"use strict";h();p();var NP=Wt().Buffer,p$=NP.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function q_e(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function H_e(t){var e=q_e(t);if(typeof e!="string"&&(NP.isEncoding===p$||!p$(t)))throw new Error("Unknown encoding: "+t);return e||t}m$.StringDecoder=Ox;function Ox(t){this.encoding=H_e(t);var e;switch(this.encoding){case"utf16le":this.text=W_e,this.end=$_e,e=4;break;case"utf8":this.fillLast=j_e,e=4;break;case"base64":this.text=Y_e,this.end=Z_e,e=3;break;default:this.write=Q_e,this.end=X_e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=NP.allocUnsafe(e)}Ox.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ox.prototype.end=G_e;Ox.prototype.text=z_e;Ox.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function CP(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function K_e(t,e,r){var n=e.length-1;if(n<r)return 0;var i=CP(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=CP(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=CP(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function V_e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function j_e(t){var e=this.lastTotal-this.lastNeed,r=V_e(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function z_e(t,e){var r=K_e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function G_e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function W_e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function $_e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Y_e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Z_e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Q_e(t){return t.toString(this.encoding)}function X_e(t){return t&&t.length?this.write(t):""}});var Dx=F((syt,b$)=>{"use strict";h();p();var y$=Sp().codes.ERR_STREAM_PREMATURE_CLOSE;function J_e(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function e4e(){}function t4e(t){return t.setHeader&&typeof t.abort=="function"}function g$(t,e,r){if(typeof e=="function")return g$(t,null,e);e||(e={}),r=J_e(r||e4e);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||c()},s=t._writableState&&t._writableState.finished,c=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,l=!0,i||r.call(t)},g=function(M){r.call(t,M)},b=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new y$),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new y$),r.call(t,M)},_=function(){t.req.on("finish",c)};return t4e(t)?(t.on("complete",c),t.on("abort",b),t.req?_():t.on("request",_)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",c),e.error!==!1&&t.on("error",g),t.on("close",b),function(){t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",_),t.req&&t.req.removeListener("finish",c),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",g),t.removeListener("close",b)}}b$.exports=g$});var x$=F((fyt,v$)=>{"use strict";h();p();var L6;function Wd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var r4e=Dx(),$d=Symbol("lastResolve"),Ep=Symbol("lastReject"),Lx=Symbol("error"),U6=Symbol("ended"),_p=Symbol("lastPromise"),OP=Symbol("handlePromise"),Ap=Symbol("stream");function Yd(t,e){return{value:t,done:e}}function n4e(t){var e=t[$d];if(e!==null){var r=t[Ap].read();r!==null&&(t[_p]=null,t[$d]=null,t[Ep]=null,e(Yd(r,!1)))}}function i4e(t){process.nextTick(n4e,t)}function o4e(t,e){return function(r,n){t.then(function(){if(e[U6]){r(Yd(void 0,!0));return}e[OP](r,n)},n)}}var s4e=Object.getPrototypeOf(function(){}),a4e=Object.setPrototypeOf((L6={get stream(){return this[Ap]},next:function(){var e=this,r=this[Lx];if(r!==null)return Promise.reject(r);if(this[U6])return Promise.resolve(Yd(void 0,!0));if(this[Ap].destroyed)return new Promise(function(s,c){process.nextTick(function(){e[Lx]?c(e[Lx]):s(Yd(void 0,!0))})});var n=this[_p],i;if(n)i=new Promise(o4e(n,this));else{var o=this[Ap].read();if(o!==null)return Promise.resolve(Yd(o,!1));i=new Promise(this[OP])}return this[_p]=i,i}},Wd(L6,Symbol.asyncIterator,function(){return this}),Wd(L6,"return",function(){var e=this;return new Promise(function(r,n){e[Ap].destroy(null,function(i){if(i){n(i);return}r(Yd(void 0,!0))})})}),L6),s4e),c4e=function(e){var r,n=Object.create(a4e,(r={},Wd(r,Ap,{value:e,writable:!0}),Wd(r,$d,{value:null,writable:!0}),Wd(r,Ep,{value:null,writable:!0}),Wd(r,Lx,{value:null,writable:!0}),Wd(r,U6,{value:e._readableState.endEmitted,writable:!0}),Wd(r,OP,{value:function(o,s){var c=n[Ap].read();c?(n[_p]=null,n[$d]=null,n[Ep]=null,o(Yd(c,!1))):(n[$d]=o,n[Ep]=s)},writable:!0}),r));return n[_p]=null,r4e(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Ep];o!==null&&(n[_p]=null,n[$d]=null,n[Ep]=null,o(i)),n[Lx]=i;return}var s=n[$d];s!==null&&(n[_p]=null,n[$d]=null,n[Ep]=null,s(Yd(void 0,!0))),n[U6]=!0}),e.on("readable",i4e.bind(null,n)),n};v$.exports=c4e});var S$=F((dyt,w$)=>{h();p();w$.exports=function(){throw new Error("Readable.from is not available in the browser")}});var D6=F((yyt,B$)=>{"use strict";h();p();B$.exports=Rr;var yg;Rr.ReadableState=T$;var myt=Ex().EventEmitter,A$=function(e,r){return e.listeners(r).length},Fx=SP(),F6=_i().Buffer,f4e=self.Uint8Array||function(){};function u4e(t){return F6.from(t)}function l4e(t){return F6.isBuffer(t)||t instanceof f4e}var DP=Bx(),ar;DP&&DP.debuglog?ar=DP.debuglog("stream"):ar=function(){};var d4e=XW(),VP=AP(),h4e=TP(),p4e=h4e.getHighWaterMark,q6=Sp().codes,m4e=q6.ERR_INVALID_ARG_TYPE,y4e=q6.ERR_STREAM_PUSH_AFTER_EOF,g4e=q6.ERR_METHOD_NOT_IMPLEMENTED,b4e=q6.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,gg,LP,UP;qt()(Rr,Fx);var Ux=VP.errorOrDestroy,FP=["error","close","destroy","pause","resume"];function v4e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function T$(t,e,r){yg=yg||Gd(),t=t||{},typeof r!="boolean"&&(r=e instanceof yg),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=p4e(this,t,"readableHighWaterMark",r),this.buffer=new d4e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(gg||(gg=mg().StringDecoder),this.decoder=new gg(t.encoding),this.encoding=t.encoding)}function Rr(t){if(yg=yg||Gd(),!(this instanceof Rr))return new Rr(t);var e=this instanceof yg;this._readableState=new T$(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Fx.call(this)}Object.defineProperty(Rr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Rr.prototype.destroy=VP.destroy;Rr.prototype._undestroy=VP.undestroy;Rr.prototype._destroy=function(t,e){e(t)};Rr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=F6.from(t,e),e=""),n=!0),I$(this,t,e,!1,n)};Rr.prototype.unshift=function(t){return I$(this,t,null,!0,!1)};function I$(t,e,r,n,i){ar("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,S4e(t,o);else{var s;if(i||(s=x4e(o,e)),s)Ux(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==F6.prototype&&(e=u4e(e)),n)o.endEmitted?Ux(t,new b4e):qP(t,o,e,!0);else if(o.ended)Ux(t,new y4e);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?qP(t,o,e,!1):KP(t,o)):qP(t,o,e,!1)}else n||(o.reading=!1,KP(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function qP(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&H6(t)),KP(t,e)}function x4e(t,e){var r;return!l4e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new m4e("chunk",["string","Buffer","Uint8Array"],e)),r}Rr.prototype.isPaused=function(){return this._readableState.flowing===!1};Rr.prototype.setEncoding=function(t){gg||(gg=mg().StringDecoder);var e=new gg(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var E$=1073741824;function w4e(t){return t>=E$?t=E$:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function _$(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=w4e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Rr.prototype.read=function(t){ar("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ar("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?HP(this):H6(this),null;if(t=_$(t,e),t===0&&e.ended)return e.length===0&&HP(this),null;var n=e.needReadable;ar("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ar("length less than watermark",n)),e.ended||e.reading?(n=!1,ar("reading or ended",n)):n&&(ar("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_$(r,e)));var i;return t>0?i=P$(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&HP(this)),i!==null&&this.emit("data",i),i};function S4e(t,e){if(ar("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?H6(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,M$(t)))}}function H6(t){var e=t._readableState;ar("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ar("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(M$,t))}function M$(t){var e=t._readableState;ar("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,jP(t)}function KP(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(E4e,t,e))}function E4e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ar("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Rr.prototype._read=function(t){Ux(this,new g4e("_read()"))};Rr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ar("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?c:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(B,P){ar("onunpipe"),B===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,g())}function c(){ar("onend"),t.end()}var l=_4e(r);t.on("drain",l);var d=!1;function g(){ar("cleanup"),t.removeListener("close",T),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",_),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",k),r.removeListener("data",b),d=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",b);function b(B){ar("ondata");var P=t.write(B);ar("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&R$(n.pipes,t)!==-1)&&!d&&(ar("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function _(B){ar("onerror",B),k(),t.removeListener("error",_),A$(t,"error")===0&&Ux(t,B)}v4e(t,"error",_);function T(){t.removeListener("finish",M),k()}t.once("close",T);function M(){ar("onfinish"),t.removeListener("close",T),k()}t.once("finish",M);function k(){ar("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ar("pipe resume"),r.resume()),t};function _4e(t){return function(){var r=t._readableState;ar("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&A$(t,"data")&&(r.flowing=!0,jP(t))}}Rr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=R$(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Rr.prototype.on=function(t,e){var r=Fx.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ar("on readable",n.length,n.reading),n.length?H6(this):n.reading||process.nextTick(A4e,this)),r};Rr.prototype.addListener=Rr.prototype.on;Rr.prototype.removeListener=function(t,e){var r=Fx.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(k$,this),r};Rr.prototype.removeAllListeners=function(t){var e=Fx.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(k$,this),e};function k$(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function A4e(t){ar("readable nexttick read 0"),t.read(0)}Rr.prototype.resume=function(){var t=this._readableState;return t.flowing||(ar("resume"),t.flowing=!t.readableListening,T4e(this,t)),t.paused=!1,this};function T4e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(I4e,t,e))}function I4e(t,e){ar("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),jP(t),e.flowing&&!e.reading&&t.read(0)}Rr.prototype.pause=function(){return ar("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ar("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function jP(t){var e=t._readableState;for(ar("flow",e.flowing);e.flowing&&t.read()!==null;);}Rr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ar("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(ar("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var c=e.push(s);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(c){return function(){return t[c].apply(t,arguments)}}(i));for(var o=0;o<FP.length;o++)t.on(FP[o],this.emit.bind(this,FP[o]));return this._read=function(s){ar("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Rr.prototype[Symbol.asyncIterator]=function(){return LP===void 0&&(LP=x$()),LP(this)});Object.defineProperty(Rr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Rr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Rr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Rr._fromList=P$;Object.defineProperty(Rr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P$(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function HP(t){var e=t._readableState;ar("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(M4e,e,t))}function M4e(t,e){if(ar("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Rr.from=function(t,e){return UP===void 0&&(UP=S$()),UP(Rr,t,e)});function R$(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var j6=F((vyt,N$)=>{"use strict";h();p();N$.exports=xl;var K6=Sp().codes,k4e=K6.ERR_METHOD_NOT_IMPLEMENTED,P4e=K6.ERR_MULTIPLE_CALLBACK,R4e=K6.ERR_TRANSFORM_ALREADY_TRANSFORMING,B4e=K6.ERR_TRANSFORM_WITH_LENGTH_0,V6=Gd();qt()(xl,V6);function C4e(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new P4e);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function xl(t){if(!(this instanceof xl))return new xl(t);V6.call(this,t),this._transformState={afterTransform:C4e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",N4e)}function N4e(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){C$(t,e,r)}):C$(this,null,null)}xl.prototype.push=function(t,e){return this._transformState.needTransform=!1,V6.prototype.push.call(this,t,e)};xl.prototype._transform=function(t,e,r){r(new k4e("_transform()"))};xl.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};xl.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};xl.prototype._destroy=function(t,e){V6.prototype._destroy.call(this,t,function(r){e(r)})};function C$(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new B4e;if(t._transformState.transforming)throw new R4e;return t.push(null)}});var zP=F((Syt,D$)=>{"use strict";h();p();D$.exports=qx;var O$=j6();qt()(qx,O$);function qx(t){if(!(this instanceof qx))return new qx(t);O$.call(this,t)}qx.prototype._transform=function(t,e,r){r(null,t)}});var WP=F((Ayt,q$)=>{"use strict";h();p();var GP;function O4e(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var F$=Sp().codes,D4e=F$.ERR_MISSING_ARGS,L4e=F$.ERR_STREAM_DESTROYED;function L$(t){if(t)throw t}function U4e(t){return t.setHeader&&typeof t.abort=="function"}function F4e(t,e,r,n){n=O4e(n);var i=!1;t.on("close",function(){i=!0}),GP===void 0&&(GP=Dx()),GP(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,U4e(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new L4e("pipe"))}}}function U$(t){t()}function q4e(t,e){return t.pipe(e)}function H4e(t){return!t.length||typeof t[t.length-1]!="function"?L$:t.pop()}function K4e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=H4e(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new D4e("streams");var i,o=e.map(function(s,c){var l=c<e.length-1,d=c>0;return F4e(s,l,d,function(g){i||(i=g),g&&o.forEach(U$),!l&&(o.forEach(U$),n(i))})});return e.reduce(q4e)}q$.exports=K4e});var K$=F((oc,H$)=>{h();p();oc=H$.exports=D6();oc.Stream=oc;oc.Readable=oc;oc.Writable=C6();oc.Duplex=Gd();oc.Transform=j6();oc.PassThrough=zP();oc.finished=Dx();oc.pipeline=WP()});var $P=F((Pyt,j$)=>{"use strict";h();p();var z6=Wt().Buffer,V$=K$().Transform,V4e=qt();function j4e(t,e){if(!z6.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Zd(t){V$.call(this),this._block=z6.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}V4e(Zd,V$);Zd.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Zd.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Zd.prototype.update=function(t,e){if(j4e(t,"Data"),this._finalized)throw new Error("Digest already called");z6.isBuffer(t)||(t=z6.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};Zd.prototype._update=function(){throw new Error("_update is not implemented")};Zd.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Zd.prototype._digest=function(){throw new Error("_digest is not implemented")};j$.exports=Zd});var $6=F((Cyt,G$)=>{"use strict";h();p();var z4e=qt(),z$=$P(),G4e=Wt().Buffer,W4e=new Array(16);function G6(){z$.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}z4e(G6,z$);G6.prototype._update=function(){for(var t=W4e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,o=this._d;r=Zo(r,n,i,o,t[0],3614090360,7),o=Zo(o,r,n,i,t[1],3905402710,12),i=Zo(i,o,r,n,t[2],606105819,17),n=Zo(n,i,o,r,t[3],3250441966,22),r=Zo(r,n,i,o,t[4],4118548399,7),o=Zo(o,r,n,i,t[5],1200080426,12),i=Zo(i,o,r,n,t[6],2821735955,17),n=Zo(n,i,o,r,t[7],4249261313,22),r=Zo(r,n,i,o,t[8],1770035416,7),o=Zo(o,r,n,i,t[9],2336552879,12),i=Zo(i,o,r,n,t[10],4294925233,17),n=Zo(n,i,o,r,t[11],2304563134,22),r=Zo(r,n,i,o,t[12],1804603682,7),o=Zo(o,r,n,i,t[13],4254626195,12),i=Zo(i,o,r,n,t[14],2792965006,17),n=Zo(n,i,o,r,t[15],1236535329,22),r=Qo(r,n,i,o,t[1],4129170786,5),o=Qo(o,r,n,i,t[6],3225465664,9),i=Qo(i,o,r,n,t[11],643717713,14),n=Qo(n,i,o,r,t[0],3921069994,20),r=Qo(r,n,i,o,t[5],3593408605,5),o=Qo(o,r,n,i,t[10],38016083,9),i=Qo(i,o,r,n,t[15],3634488961,14),n=Qo(n,i,o,r,t[4],3889429448,20),r=Qo(r,n,i,o,t[9],568446438,5),o=Qo(o,r,n,i,t[14],3275163606,9),i=Qo(i,o,r,n,t[3],4107603335,14),n=Qo(n,i,o,r,t[8],1163531501,20),r=Qo(r,n,i,o,t[13],2850285829,5),o=Qo(o,r,n,i,t[2],4243563512,9),i=Qo(i,o,r,n,t[7],1735328473,14),n=Qo(n,i,o,r,t[12],2368359562,20),r=Xo(r,n,i,o,t[5],4294588738,4),o=Xo(o,r,n,i,t[8],2272392833,11),i=Xo(i,o,r,n,t[11],1839030562,16),n=Xo(n,i,o,r,t[14],4259657740,23),r=Xo(r,n,i,o,t[1],2763975236,4),o=Xo(o,r,n,i,t[4],1272893353,11),i=Xo(i,o,r,n,t[7],4139469664,16),n=Xo(n,i,o,r,t[10],3200236656,23),r=Xo(r,n,i,o,t[13],681279174,4),o=Xo(o,r,n,i,t[0],3936430074,11),i=Xo(i,o,r,n,t[3],3572445317,16),n=Xo(n,i,o,r,t[6],76029189,23),r=Xo(r,n,i,o,t[9],3654602809,4),o=Xo(o,r,n,i,t[12],3873151461,11),i=Xo(i,o,r,n,t[15],530742520,16),n=Xo(n,i,o,r,t[2],3299628645,23),r=Jo(r,n,i,o,t[0],4096336452,6),o=Jo(o,r,n,i,t[7],1126891415,10),i=Jo(i,o,r,n,t[14],2878612391,15),n=Jo(n,i,o,r,t[5],4237533241,21),r=Jo(r,n,i,o,t[12],1700485571,6),o=Jo(o,r,n,i,t[3],2399980690,10),i=Jo(i,o,r,n,t[10],4293915773,15),n=Jo(n,i,o,r,t[1],2240044497,21),r=Jo(r,n,i,o,t[8],1873313359,6),o=Jo(o,r,n,i,t[15],4264355552,10),i=Jo(i,o,r,n,t[6],2734768916,15),n=Jo(n,i,o,r,t[13],1309151649,21),r=Jo(r,n,i,o,t[4],4149444226,6),o=Jo(o,r,n,i,t[11],3174756917,10),i=Jo(i,o,r,n,t[2],718787259,15),n=Jo(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0};G6.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=G4e.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function W6(t,e){return t<<e|t>>>32-e}function Zo(t,e,r,n,i,o,s){return W6(t+(e&r|~e&n)+i+o|0,s)+e|0}function Qo(t,e,r,n,i,o,s){return W6(t+(e&n|r&~n)+i+o|0,s)+e|0}function Xo(t,e,r,n,i,o,s){return W6(t+(e^r^n)+i+o|0,s)+e|0}function Jo(t,e,r,n,i,o,s){return W6(t+(r^(e|~n))+i+o|0,s)+e|0}G$.exports=G6});var Z6=F((Dyt,J$)=>{"use strict";h();p();var YP=_i().Buffer,$4e=qt(),X$=$P(),Y4e=new Array(16),Hx=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Kx=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Vx=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],jx=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],zx=[0,1518500249,1859775393,2400959708,2840853838],Gx=[1352829926,1548603684,1836072691,2053994217,0];function Y6(){X$.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}$4e(Y6,X$);Y6.prototype._update=function(){for(var t=Y4e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=this._a|0,l=this._b|0,d=this._c|0,g=this._d|0,b=this._e|0,_=0;_<80;_+=1){var T,M;_<16?(T=W$(r,n,i,o,s,t[Hx[_]],zx[0],Vx[_]),M=Q$(c,l,d,g,b,t[Kx[_]],Gx[0],jx[_])):_<32?(T=$$(r,n,i,o,s,t[Hx[_]],zx[1],Vx[_]),M=Z$(c,l,d,g,b,t[Kx[_]],Gx[1],jx[_])):_<48?(T=Y$(r,n,i,o,s,t[Hx[_]],zx[2],Vx[_]),M=Y$(c,l,d,g,b,t[Kx[_]],Gx[2],jx[_])):_<64?(T=Z$(r,n,i,o,s,t[Hx[_]],zx[3],Vx[_]),M=$$(c,l,d,g,b,t[Kx[_]],Gx[3],jx[_])):(T=Q$(r,n,i,o,s,t[Hx[_]],zx[4],Vx[_]),M=W$(c,l,d,g,b,t[Kx[_]],Gx[4],jx[_])),r=s,s=o,o=Tp(i,10),i=n,n=T,c=b,b=g,g=Tp(d,10),d=l,l=M}var k=this._b+i+g|0;this._b=this._c+o+b|0,this._c=this._d+s+c|0,this._d=this._e+r+l|0,this._e=this._a+n+d|0,this._a=k};Y6.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=YP.alloc?YP.alloc(20):new YP(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Tp(t,e){return t<<e|t>>>32-e}function W$(t,e,r,n,i,o,s,c){return Tp(t+(e^r^n)+o+s|0,c)+i|0}function $$(t,e,r,n,i,o,s,c){return Tp(t+(e&r|~e&n)+o+s|0,c)+i|0}function Y$(t,e,r,n,i,o,s,c){return Tp(t+((e|~r)^n)+o+s|0,c)+i|0}function Z$(t,e,r,n,i,o,s,c){return Tp(t+(e&n|r&~n)+o+s|0,c)+i|0}function Q$(t,e,r,n,i,o,s,c){return Tp(t+(e^(r|~n))+o+s|0,c)+i|0}J$.exports=Y6});var Ip=F((Fyt,tY)=>{h();p();var eY=Wt().Buffer;function Q6(t,e){this._block=eY.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Q6.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=eY.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var c=o%n,l=Math.min(i-s,n-c),d=0;d<l;d++)r[c+d]=t[s+d];o+=l,s+=l,o%n===0&&this._update(r)}return this._len+=i,this};Q6.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};Q6.prototype._update=function(){throw new Error("_update must be implemented by subclass")};tY.exports=Q6});var iY=F((Kyt,nY)=>{h();p();var Z4e=qt(),rY=Ip(),Q4e=Wt().Buffer,X4e=[1518500249,1859775393,-1894007588,-899497514],J4e=new Array(80);function Wx(){this.init(),this._w=J4e,rY.call(this,64,56)}Z4e(Wx,rY);Wx.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function e8e(t){return t<<5|t>>>27}function t8e(t){return t<<30|t>>>2}function r8e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Wx.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var l=0;l<80;++l){var d=~~(l/20),g=e8e(r)+r8e(d,n,i,o)+s+e[l]+X4e[d]|0;s=o,o=i,i=t8e(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Wx.prototype._hash=function(){var t=Q4e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};nY.exports=Wx});var aY=F((zyt,sY)=>{h();p();var n8e=qt(),oY=Ip(),i8e=Wt().Buffer,o8e=[1518500249,1859775393,-1894007588,-899497514],s8e=new Array(80);function $x(){this.init(),this._w=s8e,oY.call(this,64,56)}n8e($x,oY);$x.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function a8e(t){return t<<1|t>>>31}function c8e(t){return t<<5|t>>>27}function f8e(t){return t<<30|t>>>2}function u8e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}$x.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=a8e(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var l=0;l<80;++l){var d=~~(l/20),g=c8e(r)+u8e(d,n,i,o)+s+e[l]+o8e[d]|0;s=o,o=i,i=f8e(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};$x.prototype._hash=function(){var t=i8e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};sY.exports=$x});var ZP=F(($yt,fY)=>{h();p();var l8e=qt(),cY=Ip(),d8e=Wt().Buffer,h8e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p8e=new Array(64);function Yx(){this.init(),this._w=p8e,cY.call(this,64,56)}l8e(Yx,cY);Yx.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function m8e(t,e,r){return r^t&(e^r)}function y8e(t,e,r){return t&e|r&(t|e)}function g8e(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function b8e(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function v8e(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function x8e(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Yx.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=this._f|0,l=this._g|0,d=this._h|0,g=0;g<16;++g)e[g]=t.readInt32BE(g*4);for(;g<64;++g)e[g]=x8e(e[g-2])+e[g-7]+v8e(e[g-15])+e[g-16]|0;for(var b=0;b<64;++b){var _=d+b8e(s)+m8e(s,c,l)+h8e[b]+e[b]|0,T=g8e(r)+y8e(r,n,i)|0;d=l,l=c,c=s,s=o+_|0,o=i,i=n,n=r,r=_+T|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=d+this._h|0};Yx.prototype._hash=function(){var t=d8e.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};fY.exports=Yx});var lY=F((Qyt,uY)=>{h();p();var w8e=qt(),S8e=ZP(),E8e=Ip(),_8e=Wt().Buffer,A8e=new Array(64);function X6(){this.init(),this._w=A8e,E8e.call(this,64,56)}w8e(X6,S8e);X6.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};X6.prototype._hash=function(){var t=_8e.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};uY.exports=X6});var QP=F((egt,bY)=>{h();p();var T8e=qt(),gY=Ip(),I8e=Wt().Buffer,dY=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],M8e=new Array(160);function Zx(){this.init(),this._w=M8e,gY.call(this,128,112)}T8e(Zx,gY);Zx.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function hY(t,e,r){return r^t&(e^r)}function pY(t,e,r){return t&e|r&(t|e)}function mY(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function yY(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function k8e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function P8e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function R8e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function B8e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function io(t,e){return t>>>0<e>>>0?1:0}Zx.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,c=this._fh|0,l=this._gh|0,d=this._hh|0,g=this._al|0,b=this._bl|0,_=this._cl|0,T=this._dl|0,M=this._el|0,k=this._fl|0,B=this._gl|0,P=this._hl|0,D=0;D<32;D+=2)e[D]=t.readInt32BE(D*4),e[D+1]=t.readInt32BE(D*4+4);for(;D<160;D+=2){var R=e[D-30],L=e[D-15*2+1],V=k8e(R,L),z=P8e(L,R);R=e[D-2*2],L=e[D-2*2+1];var oe=R8e(R,L),$=B8e(L,R),ne=e[D-7*2],S=e[D-7*2+1],a=e[D-16*2],u=e[D-16*2+1],m=z+S|0,y=V+ne+io(m,z)|0;m=m+$|0,y=y+oe+io(m,$)|0,m=m+u|0,y=y+a+io(m,u)|0,e[D]=y,e[D+1]=m}for(var w=0;w<160;w+=2){y=e[w],m=e[w+1];var E=pY(r,n,i),A=pY(g,b,_),x=mY(r,g),f=mY(g,r),v=yY(s,M),q=yY(M,s),U=dY[w],O=dY[w+1],W=hY(s,c,l),Q=hY(M,k,B),re=P+q|0,Ke=d+v+io(re,P)|0;re=re+Q|0,Ke=Ke+W+io(re,Q)|0,re=re+O|0,Ke=Ke+U+io(re,O)|0,re=re+m|0,Ke=Ke+y+io(re,m)|0;var se=f+A|0,Z=x+E+io(se,f)|0;d=l,P=B,l=c,B=k,c=s,k=M,M=T+re|0,s=o+Ke+io(M,T)|0,o=i,T=_,i=n,_=b,n=r,b=g,g=re+se|0,r=Ke+Z+io(g,re)|0}this._al=this._al+g|0,this._bl=this._bl+b|0,this._cl=this._cl+_|0,this._dl=this._dl+T|0,this._el=this._el+M|0,this._fl=this._fl+k|0,this._gl=this._gl+B|0,this._hl=this._hl+P|0,this._ah=this._ah+r+io(this._al,g)|0,this._bh=this._bh+n+io(this._bl,b)|0,this._ch=this._ch+i+io(this._cl,_)|0,this._dh=this._dh+o+io(this._dl,T)|0,this._eh=this._eh+s+io(this._el,M)|0,this._fh=this._fh+c+io(this._fl,k)|0,this._gh=this._gh+l+io(this._gl,B)|0,this._hh=this._hh+d+io(this._hl,P)|0};Zx.prototype._hash=function(){var t=I8e.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};bY.exports=Zx});var xY=F((ngt,vY)=>{h();p();var C8e=qt(),N8e=QP(),O8e=Ip(),D8e=Wt().Buffer,L8e=new Array(160);function J6(){this.init(),this._w=L8e,O8e.call(this,128,112)}C8e(J6,N8e);J6.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};J6.prototype._hash=function(){var t=D8e.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};vY.exports=J6});var e_=F((wl,wY)=>{h();p();var wl=wY.exports=function(e){e=e.toLowerCase();var r=wl[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};wl.sha=iY();wl.sha1=aY();wl.sha224=lY();wl.sha256=ZP();wl.sha384=xY();wl.sha512=QP()});var EY=F((cgt,SY)=>{h();p();SY.exports=sc;var XP=Ex().EventEmitter,U8e=qt();U8e(sc,XP);sc.Readable=D6();sc.Writable=C6();sc.Duplex=Gd();sc.Transform=j6();sc.PassThrough=zP();sc.finished=Dx();sc.pipeline=WP();sc.Stream=sc;function sc(){XP.call(this)}sc.prototype.pipe=function(t,e){var r=this;function n(g){t.writable&&t.write(g)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",c));var o=!1;function s(){o||(o=!0,t.end())}function c(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function l(g){if(d(),XP.listenerCount(this,"error")===0)throw g}r.on("error",l),t.on("error",l);function d(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t}});var Sl=F((lgt,TY)=>{h();p();var _Y=Wt().Buffer,AY=EY().Transform,F8e=mg().StringDecoder,q8e=qt();function cf(t){AY.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}q8e(cf,AY);cf.prototype.update=function(t,e,r){typeof t=="string"&&(t=_Y.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};cf.prototype.setAutoPadding=function(){};cf.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};cf.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};cf.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};cf.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};cf.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};cf.prototype._finalOrDigest=function(t){var e=this.__final()||_Y.alloc(0);return t&&(e=this._toString(e,t,!0)),e};cf.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new F8e(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};TY.exports=cf});var Mp=F((pgt,MY)=>{"use strict";h();p();var H8e=qt(),K8e=$6(),V8e=Z6(),j8e=e_(),IY=Sl();function t_(t){IY.call(this,"digest"),this._hash=t}H8e(t_,IY);t_.prototype._update=function(t){this._hash.update(t)};t_.prototype._final=function(){return this._hash.digest()};MY.exports=function(e){return e=e.toLowerCase(),e==="md5"?new K8e:e==="rmd160"||e==="ripemd160"?new V8e:new t_(j8e(e))}});var RY=F((ggt,PY)=>{"use strict";h();p();var z8e=qt(),kp=Wt().Buffer,kY=Sl(),G8e=kp.alloc(128),bg=64;function r_(t,e){kY.call(this,"digest"),typeof e=="string"&&(e=kp.from(e)),this._alg=t,this._key=e,e.length>bg?e=t(e):e.length<bg&&(e=kp.concat([e,G8e],bg));for(var r=this._ipad=kp.allocUnsafe(bg),n=this._opad=kp.allocUnsafe(bg),i=0;i<bg;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}z8e(r_,kY);r_.prototype._update=function(t){this._hash.push(t)};r_.prototype._final=function(){var t=this._alg(kp.concat(this._hash));return this._alg(kp.concat([this._opad,t]))};PY.exports=r_});var JP=F((xgt,BY)=>{h();p();var W8e=$6();BY.exports=function(t){return new W8e().update(t).digest()}});var rR=F((Egt,NY)=>{"use strict";h();p();var $8e=qt(),Y8e=RY(),CY=Sl(),Qx=Wt().Buffer,Z8e=JP(),eR=Z6(),tR=e_(),Q8e=Qx.alloc(128);function Xx(t,e){CY.call(this,"digest"),typeof e=="string"&&(e=Qx.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new eR:tR(t);e=n.update(e).digest()}else e.length<r&&(e=Qx.concat([e,Q8e],r));for(var i=this._ipad=Qx.allocUnsafe(r),o=this._opad=Qx.allocUnsafe(r),s=0;s<r;s++)i[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new eR:tR(t),this._hash.update(i)}$8e(Xx,CY);Xx.prototype._update=function(t){this._hash.update(t)};Xx.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new eR:tR(this._alg);return e.update(this._opad).update(t).digest()};NY.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Xx("rmd160",r):e==="md5"?new Y8e(Z8e,r):new Xx(e,r)}});var nR=F((Tgt,X8e)=>{X8e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var DY=F((Igt,OY)=>{"use strict";h();p();OY.exports=nR()});var iR=F((Pgt,LY)=>{h();p();var J8e=Math.pow(2,30)-1;LY.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>J8e||e!==e)throw new TypeError("Bad key length")}});var oR=F((Cgt,FY)=>{h();p();var n_;self.process&&self.process.browser?n_="utf-8":self.process&&self.process.version?(UY=parseInt(process.version.split(".")[0].slice(1),10),n_=UY>=6?"utf-8":"binary"):n_="utf-8";var UY;FY.exports=n_});var aR=F((Dgt,qY)=>{h();p();var sR=Wt().Buffer;qY.exports=function(t,e,r){if(sR.isBuffer(t))return t;if(typeof t=="string")return sR.from(t,e);if(ArrayBuffer.isView(t))return sR.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var cR=F((Fgt,jY)=>{h();p();var eAe=JP(),tAe=Z6(),rAe=e_(),Pp=Wt().Buffer,nAe=iR(),HY=oR(),KY=aR(),iAe=Pp.alloc(128),i_={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function VY(t,e,r){var n=oAe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Pp.concat([e,iAe],i));for(var o=Pp.allocUnsafe(i+i_[t]),s=Pp.allocUnsafe(i+i_[t]),c=0;c<i;c++)o[c]=e[c]^54,s[c]=e[c]^92;var l=Pp.allocUnsafe(i+r+4);o.copy(l,0,0,i),this.ipad1=l,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=i,this.hash=n,this.size=i_[t]}VY.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function oAe(t){function e(n){return rAe(t).update(n).digest()}function r(n){return new tAe().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?eAe:e}function sAe(t,e,r,n,i){nAe(r,n),t=KY(t,HY,"Password"),e=KY(e,HY,"Salt"),i=i||"sha1";var o=new VY(i,t,e.length),s=Pp.allocUnsafe(n),c=Pp.allocUnsafe(e.length+4);e.copy(c,0,0,e.length);for(var l=0,d=i_[i],g=Math.ceil(n/d),b=1;b<=g;b++){c.writeUInt32BE(b,e.length);for(var _=o.run(c,o.ipad1),T=_,M=1;M<r;M++){T=o.run(T,o.ipad2);for(var k=0;k<d;k++)_[k]^=T[k]}_.copy(s,l),l+=d}return s}jY.exports=sAe});var QY=F((Kgt,ZY)=>{h();p();var $Y=Wt().Buffer,aAe=iR(),zY=oR(),GY=cR(),WY=aR(),o_,Jx=self.crypto&&self.crypto.subtle,cAe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},fR=[];function fAe(t){if(self.process&&!self.process.browser||!Jx||!Jx.importKey||!Jx.deriveBits)return Promise.resolve(!1);if(fR[t]!==void 0)return fR[t];o_=o_||$Y.alloc(8);var e=YY(o_,o_,10,128,t).then(function(){return!0}).catch(function(){return!1});return fR[t]=e,e}var Rp;function uR(){return Rp||(self.process&&self.process.nextTick?Rp=self.process.nextTick:self.queueMicrotask?Rp=self.queueMicrotask:self.setImmediate?Rp=self.setImmediate:Rp=self.setTimeout,Rp)}function YY(t,e,r,n,i){return Jx.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return Jx.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},o,n<<3)}).then(function(o){return $Y.from(o)})}function uAe(t,e){t.then(function(r){uR()(function(){e(null,r)})},function(r){uR()(function(){e(r)})})}ZY.exports=function(t,e,r,n,i,o){typeof i=="function"&&(o=i,i=void 0),i=i||"sha1";var s=cAe[i.toLowerCase()];if(!s||typeof self.Promise!="function"){uR()(function(){var c;try{c=GY(t,e,r,n,i)}catch(l){return o(l)}o(null,c)});return}if(aAe(r,n),t=WY(t,zY,"Password"),e=WY(e,zY,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");uAe(fAe(s).then(function(c){return c?YY(t,e,r,n,s):GY(t,e,r,n,i)}),o)}});var s_=F(lR=>{h();p();lR.pbkdf2=QY();lR.pbkdf2Sync=cR()});var dR=F(ac=>{"use strict";h();p();ac.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};ac.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};ac.ip=function(e,r,n,i){for(var o=0,s=0,c=6;c>=0;c-=2){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>>l+c&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>>l+c&1}for(var c=6;c>=0;c-=2){for(var l=1;l<=25;l+=8)s<<=1,s|=r>>>l+c&1;for(var l=1;l<=25;l+=8)s<<=1,s|=e>>>l+c&1}n[i+0]=o>>>0,n[i+1]=s>>>0};ac.rip=function(e,r,n,i){for(var o=0,s=0,c=0;c<4;c++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+c&1,o<<=1,o|=e>>>l+c&1;for(var c=4;c<8;c++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+c&1,s<<=1,s|=e>>>l+c&1;n[i+0]=o>>>0,n[i+1]=s>>>0};ac.pc1=function(e,r,n,i){for(var o=0,s=0,c=7;c>=5;c--){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+c&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+c&1}for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+c&1;for(var c=1;c<=3;c++){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+c&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1}for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1;n[i+0]=o>>>0,n[i+1]=s>>>0};ac.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var a_=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ac.pc2=function(e,r,n,i){for(var o=0,s=0,c=a_.length>>>1,l=0;l<c;l++)o<<=1,o|=e>>>a_[l]&1;for(var l=c;l<a_.length;l++)s<<=1,s|=r>>>a_[l]&1;n[i+0]=o>>>0,n[i+1]=s>>>0};ac.expand=function(e,r,n){var i=0,o=0;i=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=o>>>0};var XY=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ac.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var o=e>>>18-i*6&63,s=XY[i*64+o];n<<=4,n|=s}for(var i=0;i<4;i++){var o=r>>>18-i*6&63,s=XY[4*64+i*64+o];n<<=4,n|=s}return n>>>0};var JY=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];ac.permute=function(e){for(var r=0,n=0;n<JY.length;n++)r<<=1,r|=e>>>JY[n]&1;return r>>>0};ac.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var o=[],s=0;s<r;s+=n)o.push(i.slice(s,s+n));return o.join(" ")}});var Ia=F((Qgt,tZ)=>{h();p();tZ.exports=eZ;function eZ(t,e){if(!t)throw new Error(e||"Assertion failed")}eZ.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var c_=F((e1t,rZ)=>{"use strict";h();p();var lAe=Ia();function cc(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}rZ.exports=cc;cc.prototype._init=function(){};cc.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};cc.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};cc.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};cc.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(o,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};cc.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(o,n);return r+=this._buffer(e,r),o};cc.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};cc.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};cc.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};cc.prototype._unpad=function(e){return e};cc.prototype._finalDecrypt=function(){lAe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var hR=F((n1t,oZ)=>{"use strict";h();p();var nZ=Ia(),dAe=qt(),Fi=dR(),iZ=c_();function hAe(){this.tmp=new Array(2),this.keys=null}function lu(t){iZ.call(this,t);var e=new hAe;this._desState=e,this.deriveKeys(e,t.key)}dAe(lu,iZ);oZ.exports=lu;lu.create=function(e){return new lu(e)};var pAe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];lu.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),nZ.equal(r.length,this.blockSize,"Invalid key length");var n=Fi.readUInt32BE(r,0),i=Fi.readUInt32BE(r,4);Fi.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=pAe[o>>>1];n=Fi.r28shl(n,s),i=Fi.r28shl(i,s),Fi.pc2(n,i,e.keys,o)}};lu.prototype._update=function(e,r,n,i){var o=this._desState,s=Fi.readUInt32BE(e,r),c=Fi.readUInt32BE(e,r+4);Fi.ip(s,c,o.tmp,0),s=o.tmp[0],c=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,c,o.tmp,0):this._decrypt(o,s,c,o.tmp,0),s=o.tmp[0],c=o.tmp[1],Fi.writeUInt32BE(n,s,i),Fi.writeUInt32BE(n,c,i+4)};lu.prototype._pad=function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};lu.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)nZ.equal(e[n],r);return e.slice(0,e.length-r)};lu.prototype._encrypt=function(e,r,n,i,o){for(var s=r,c=n,l=0;l<e.keys.length;l+=2){var d=e.keys[l],g=e.keys[l+1];Fi.expand(c,e.tmp,0),d^=e.tmp[0],g^=e.tmp[1];var b=Fi.substitute(d,g),_=Fi.permute(b),T=c;c=(s^_)>>>0,s=T}Fi.rip(c,s,i,o)};lu.prototype._decrypt=function(e,r,n,i,o){for(var s=n,c=r,l=e.keys.length-2;l>=0;l-=2){var d=e.keys[l],g=e.keys[l+1];Fi.expand(s,e.tmp,0),d^=e.tmp[0],g^=e.tmp[1];var b=Fi.substitute(d,g),_=Fi.permute(b),T=s;s=(c^_)>>>0,c=T}Fi.rip(s,c,i,o)}});var aZ=F(sZ=>{"use strict";h();p();var mAe=Ia(),yAe=qt(),f_={};function gAe(t){mAe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function bAe(t){function e(o){t.call(this,o),this._cbcInit()}yAe(e,t);for(var r=Object.keys(f_),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=f_[i]}return e.create=function(s){return new e(s)},e}sZ.instantiate=bAe;f_._cbcInit=function(){var e=new gAe(this.options.iv);this._cbcState=e};f_._update=function(e,r,n,i){var o=this._cbcState,s=this.constructor.super_.prototype,c=o.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)c[l]^=e[r+l];s._update.call(this,c,0,n,i);for(var l=0;l<this.blockSize;l++)c[l]=n[i+l]}else{s._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=c[l];for(var l=0;l<this.blockSize;l++)c[l]=e[r+l]}}});var uZ=F((f1t,fZ)=>{"use strict";h();p();var vAe=Ia(),xAe=qt(),cZ=c_(),Qd=hR();function wAe(t,e){vAe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Qd.create({type:"encrypt",key:r}),Qd.create({type:"decrypt",key:n}),Qd.create({type:"encrypt",key:i})]:this.ciphers=[Qd.create({type:"decrypt",key:i}),Qd.create({type:"encrypt",key:n}),Qd.create({type:"decrypt",key:r})]}function Bp(t){cZ.call(this,t);var e=new wAe(this.type,this.options.key);this._edeState=e}xAe(Bp,cZ);fZ.exports=Bp;Bp.create=function(e){return new Bp(e)};Bp.prototype._update=function(e,r,n,i){var o=this._edeState;o.ciphers[0]._update(e,r,n,i),o.ciphers[1]._update(n,i,n,i),o.ciphers[2]._update(n,i,n,i)};Bp.prototype._pad=Qd.prototype._pad;Bp.prototype._unpad=Qd.prototype._unpad});var lZ=F(vg=>{"use strict";h();p();vg.utils=dR();vg.Cipher=c_();vg.DES=hR();vg.CBC=aZ();vg.EDE=uZ()});var pZ=F((m1t,hZ)=>{h();p();var dZ=Sl(),El=lZ(),SAe=qt(),Cp=Wt().Buffer,ew={"des-ede3-cbc":El.CBC.instantiate(El.EDE),"des-ede3":El.EDE,"des-ede-cbc":El.CBC.instantiate(El.EDE),"des-ede":El.EDE,"des-cbc":El.CBC.instantiate(El.DES),"des-ecb":El.DES};ew.des=ew["des-cbc"];ew.des3=ew["des-ede3-cbc"];hZ.exports=u_;SAe(u_,dZ);function u_(t){dZ.call(this);var e=t.mode.toLowerCase(),r=ew[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;Cp.isBuffer(i)||(i=Cp.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=Cp.concat([i,i.slice(0,8)]));var o=t.iv;Cp.isBuffer(o)||(o=Cp.from(o)),this._des=r.create({key:i,iv:o,type:n})}u_.prototype._update=function(t){return Cp.from(this._des.update(t))};u_.prototype._final=function(){return Cp.from(this._des.final())}});var mZ=F(pR=>{h();p();pR.encrypt=function(t,e){return t._cipher.encryptBlock(e)};pR.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var xg=F((w1t,yZ)=>{h();p();yZ.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),o=0;o<n;++o)i[o]=e[o]^r[o];return i}});var bZ=F(mR=>{h();p();var gZ=xg();mR.encrypt=function(t,e){var r=gZ(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};mR.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return gZ(n,r)}});var wZ=F(xZ=>{h();p();var tw=Wt().Buffer,EAe=xg();function vZ(t,e,r){var n=e.length,i=EAe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=tw.concat([t._prev,r?e:i]),i}xZ.encrypt=function(t,e,r){for(var n=tw.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=tw.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=tw.concat([n,vZ(t,e.slice(0,i),r)]),e=e.slice(i);else{n=tw.concat([n,vZ(t,e,r)]);break}return n}});var EZ=F(SZ=>{h();p();var yR=Wt().Buffer;function _Ae(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=yR.concat([t._prev.slice(1),yR.from([r?e:i])]),i}SZ.encrypt=function(t,e,r){for(var n=e.length,i=yR.allocUnsafe(n),o=-1;++o<n;)i[o]=_Ae(t,e[o],r);return i}});var AZ=F(_Z=>{h();p();var l_=Wt().Buffer;function AAe(t,e,r){for(var n,i=-1,o=8,s=0,c,l;++i<o;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-i?128:0,l=n[0]^c,s+=(l&128)>>i%8,t._prev=TAe(t._prev,r?c:l);return s}function TAe(t,e){var r=t.length,n=-1,i=l_.allocUnsafe(t.length);for(t=l_.concat([t,l_.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}_Z.encrypt=function(t,e,r){for(var n=e.length,i=l_.allocUnsafe(n),o=-1;++o<n;)i[o]=AAe(t,e[o],r);return i}});var IZ=F(TZ=>{h();p();var IAe=xg();function MAe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}TZ.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,MAe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),IAe(e,r)}});var gR=F((F1t,MZ)=>{h();p();function kAe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}MZ.exports=kAe});var vR=F(PZ=>{h();p();var PAe=xg(),kZ=Wt().Buffer,RAe=gR();function BAe(t){var e=t._cipher.encryptBlockRaw(t._prev);return RAe(t._prev),e}var bR=16;PZ.encrypt=function(t,e){var r=Math.ceil(e.length/bR),n=t._cache.length;t._cache=kZ.concat([t._cache,kZ.allocUnsafe(r*bR)]);for(var i=0;i<r;i++){var o=BAe(t),s=n+i*bR;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),PAe(e,c)}});var xR=F((z1t,CAe)=>{CAe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var h_=F((G1t,RZ)=>{h();p();var NAe={ECB:mZ(),CBC:bZ(),CFB:wZ(),CFB8:EZ(),CFB1:AZ(),OFB:IZ(),CTR:vR(),GCM:vR()},d_=xR();for(wR in d_)d_[wR].module=NAe[d_[wR].mode];var wR;RZ.exports=d_});var rw=F((Y1t,CZ)=>{h();p();var p_=Wt().Buffer;function ER(t){p_.isBuffer(t)||(t=p_.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function SR(t){for(var e=0;e<t.length;t++)t[e]=0}function BZ(t,e,r,n,i){for(var o=r[0],s=r[1],c=r[2],l=r[3],d=t[0]^e[0],g=t[1]^e[1],b=t[2]^e[2],_=t[3]^e[3],T,M,k,B,P=4,D=1;D<i;D++)T=o[d>>>24]^s[g>>>16&255]^c[b>>>8&255]^l[_&255]^e[P++],M=o[g>>>24]^s[b>>>16&255]^c[_>>>8&255]^l[d&255]^e[P++],k=o[b>>>24]^s[_>>>16&255]^c[d>>>8&255]^l[g&255]^e[P++],B=o[_>>>24]^s[d>>>16&255]^c[g>>>8&255]^l[b&255]^e[P++],d=T,g=M,b=k,_=B;return T=(n[d>>>24]<<24|n[g>>>16&255]<<16|n[b>>>8&255]<<8|n[_&255])^e[P++],M=(n[g>>>24]<<24|n[b>>>16&255]<<16|n[_>>>8&255]<<8|n[d&255])^e[P++],k=(n[b>>>24]<<24|n[_>>>16&255]<<16|n[d>>>8&255]<<8|n[g&255])^e[P++],B=(n[_>>>24]<<24|n[d>>>16&255]<<16|n[g>>>8&255]<<8|n[b&255])^e[P++],T=T>>>0,M=M>>>0,k=k>>>0,B=B>>>0,[T,M,k,B]}var OAe=[0,1,2,4,8,16,32,64,128,27,54],Ti=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,c=0,l=0;l<256;++l){var d=c^c<<1^c<<2^c<<3^c<<4;d=d>>>8^d&255^99,r[s]=d,n[d]=s;var g=t[s],b=t[g],_=t[b],T=t[d]*257^d*16843008;i[0][s]=T<<24|T>>>8,i[1][s]=T<<16|T>>>16,i[2][s]=T<<8|T>>>24,i[3][s]=T,T=_*16843009^b*65537^g*257^s*16843008,o[0][d]=T<<24|T>>>8,o[1][d]=T<<16|T>>>16,o[2][d]=T<<8|T>>>24,o[3][d]=T,s===0?s=c=1:(s=g^t[t[t[_^g]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function fc(t){this._key=ER(t),this._reset()}fc.blockSize=4*4;fc.keySize=256/8;fc.prototype.blockSize=fc.blockSize;fc.prototype.keySize=fc.keySize;fc.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var s=i[o-1];o%e===0?(s=s<<8|s>>>24,s=Ti.SBOX[s>>>24]<<24|Ti.SBOX[s>>>16&255]<<16|Ti.SBOX[s>>>8&255]<<8|Ti.SBOX[s&255],s^=OAe[o/e|0]<<24):e>6&&o%e===4&&(s=Ti.SBOX[s>>>24]<<24|Ti.SBOX[s>>>16&255]<<16|Ti.SBOX[s>>>8&255]<<8|Ti.SBOX[s&255]),i[o]=i[o-e]^s}for(var c=[],l=0;l<n;l++){var d=n-l,g=i[d-(l%4?0:4)];l<4||d<=4?c[l]=g:c[l]=Ti.INV_SUB_MIX[0][Ti.SBOX[g>>>24]]^Ti.INV_SUB_MIX[1][Ti.SBOX[g>>>16&255]]^Ti.INV_SUB_MIX[2][Ti.SBOX[g>>>8&255]]^Ti.INV_SUB_MIX[3][Ti.SBOX[g&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c};fc.prototype.encryptBlockRaw=function(t){return t=ER(t),BZ(t,this._keySchedule,Ti.SUB_MIX,Ti.SBOX,this._nRounds)};fc.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=p_.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};fc.prototype.decryptBlock=function(t){t=ER(t);var e=t[1];t[1]=t[3],t[3]=e;var r=BZ(t,this._invKeySchedule,Ti.INV_SUB_MIX,Ti.INV_SBOX,this._nRounds),n=p_.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};fc.prototype.scrub=function(){SR(this._keySchedule),SR(this._invKeySchedule),SR(this._key)};CZ.exports.AES=fc});var DZ=F((X1t,OZ)=>{h();p();var wg=Wt().Buffer,DAe=wg.alloc(16,0);function LAe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function NZ(t){var e=wg.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function nw(t){this.h=t,this.state=wg.alloc(16,0),this.cache=wg.allocUnsafe(0)}nw.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};nw.prototype._multiply=function(){for(var t=LAe(this.h),e=[0,0,0,0],r,n,i,o=-1;++o<128;){for(n=(this.state[~~(o/8)]&1<<7-o%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=NZ(e)};nw.prototype.update=function(t){this.cache=wg.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};nw.prototype.final=function(t,e){return this.cache.length&&this.ghash(wg.concat([this.cache,DAe],16)),this.ghash(NZ([0,t,0,e])),this.state};OZ.exports=nw});var _R=F((tbt,FZ)=>{h();p();var UAe=rw(),Xs=Wt().Buffer,LZ=Sl(),FAe=qt(),UZ=DZ(),qAe=xg(),HAe=gR();function KAe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function VAe(t,e,r){if(e.length===12)return t._finID=Xs.concat([e,Xs.from([0,0,0,1])]),Xs.concat([e,Xs.from([0,0,0,2])]);var n=new UZ(r),i=e.length,o=i%16;n.update(e),o&&(o=16-o,n.update(Xs.alloc(o,0))),n.update(Xs.alloc(8,0));var s=i*8,c=Xs.alloc(8);c.writeUIntBE(s,0,8),n.update(c),t._finID=n.state;var l=Xs.from(t._finID);return HAe(l),l}function Np(t,e,r,n){LZ.call(this);var i=Xs.alloc(4,0);this._cipher=new UAe.AES(e);var o=this._cipher.encryptBlock(i);this._ghash=new UZ(o),r=VAe(this,r,o),this._prev=Xs.from(r),this._cache=Xs.allocUnsafe(0),this._secCache=Xs.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}FAe(Np,LZ);Np.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Xs.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Np.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=qAe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&KAe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Np.prototype.getAuthTag=function(){if(this._decrypt||!Xs.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Np.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Np.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};FZ.exports=Np});var TR=F((ibt,HZ)=>{h();p();var jAe=rw(),AR=Wt().Buffer,qZ=Sl(),zAe=qt();function m_(t,e,r,n){qZ.call(this),this._cipher=new jAe.AES(e),this._prev=AR.from(r),this._cache=AR.allocUnsafe(0),this._secCache=AR.allocUnsafe(0),this._decrypt=n,this._mode=t}zAe(m_,qZ);m_.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};m_.prototype._final=function(){this._cipher.scrub()};HZ.exports=m_});var iw=F((abt,KZ)=>{h();p();var Op=Wt().Buffer,GAe=$6();function WAe(t,e,r,n){if(Op.isBuffer(t)||(t=Op.from(t,"binary")),e&&(Op.isBuffer(e)||(e=Op.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=Op.alloc(i),s=Op.alloc(n||0),c=Op.alloc(0);i>0||n>0;){var l=new GAe;l.update(c),l.update(t),e&&l.update(e),c=l.digest();var d=0;if(i>0){var g=o.length-i;d=Math.min(i,c.length),c.copy(o,g,0,d),i-=d}if(d<c.length&&n>0){var b=s.length-n,_=Math.min(n,c.length-d);c.copy(s,b,d,d+_),n-=_}}return c.fill(0),{key:o,iv:s}}KZ.exports=WAe});var GZ=F(IR=>{h();p();var VZ=h_(),$Ae=_R(),_l=Wt().Buffer,YAe=TR(),jZ=Sl(),ZAe=rw(),QAe=iw(),XAe=qt();function ow(t,e,r){jZ.call(this),this._cache=new y_,this._cipher=new ZAe.AES(e),this._prev=_l.from(r),this._mode=t,this._autopadding=!0}XAe(ow,jZ);ow.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return _l.concat(n)};var JAe=_l.alloc(16,16);ow.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(JAe))throw this._cipher.scrub(),new Error("data not multiple of block length")};ow.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function y_(){this.cache=_l.allocUnsafe(0)}y_.prototype.add=function(t){this.cache=_l.concat([this.cache,t])};y_.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};y_.prototype.flush=function(){for(var t=16-this.cache.length,e=_l.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return _l.concat([this.cache,e])};function zZ(t,e,r){var n=VZ[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=_l.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=_l.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new YAe(n.module,e,r):n.type==="auth"?new $Ae(n.module,e,r):new ow(n.module,e,r)}function e5e(t,e){var r=VZ[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=QAe(e,!1,r.key,r.iv);return zZ(t,n.key,n.iv)}IR.createCipheriv=zZ;IR.createCipher=e5e});var ZZ=F(MR=>{h();p();var t5e=_R(),Sg=Wt().Buffer,WZ=h_(),r5e=TR(),$Z=Sl(),n5e=rw(),i5e=iw(),o5e=qt();function sw(t,e,r){$Z.call(this),this._cache=new g_,this._last=void 0,this._cipher=new n5e.AES(e),this._prev=Sg.from(r),this._mode=t,this._autopadding=!0}o5e(sw,$Z);sw.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Sg.concat(n)};sw.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return s5e(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};sw.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function g_(){this.cache=Sg.allocUnsafe(0)}g_.prototype.add=function(t){this.cache=Sg.concat([this.cache,t])};g_.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};g_.prototype.flush=function(){if(this.cache.length)return this.cache};function s5e(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function YZ(t,e,r){var n=WZ[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Sg.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Sg.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new r5e(n.module,e,r,!0):n.type==="auth"?new t5e(n.module,e,r,!0):new sw(n.module,e,r)}function a5e(t,e){var r=WZ[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=i5e(e,!1,r.key,r.iv);return YZ(t,n.key,n.iv)}MR.createDecipher=a5e;MR.createDecipheriv=YZ});var b_=F(ff=>{h();p();var QZ=GZ(),XZ=ZZ(),c5e=xR();function f5e(){return Object.keys(c5e)}ff.createCipher=ff.Cipher=QZ.createCipher;ff.createCipheriv=ff.Cipheriv=QZ.createCipheriv;ff.createDecipher=ff.Decipher=XZ.createDecipher;ff.createDecipheriv=ff.Decipheriv=XZ.createDecipheriv;ff.listCiphers=ff.getCiphers=f5e});var JZ=F(Al=>{h();p();Al["des-ecb"]={key:8,iv:0};Al["des-cbc"]=Al.des={key:8,iv:8};Al["des-ede3-cbc"]=Al.des3={key:24,iv:8};Al["des-ede3"]={key:24,iv:0};Al["des-ede-cbc"]={key:16,iv:8};Al["des-ede"]={key:16,iv:0}});var iQ=F(uf=>{h();p();var eQ=pZ(),kR=b_(),Xd=h_(),Tl=JZ(),tQ=iw();function u5e(t,e){t=t.toLowerCase();var r,n;if(Xd[t])r=Xd[t].key,n=Xd[t].iv;else if(Tl[t])r=Tl[t].key*8,n=Tl[t].iv;else throw new TypeError("invalid suite type");var i=tQ(e,!1,r,n);return rQ(t,i.key,i.iv)}function l5e(t,e){t=t.toLowerCase();var r,n;if(Xd[t])r=Xd[t].key,n=Xd[t].iv;else if(Tl[t])r=Tl[t].key*8,n=Tl[t].iv;else throw new TypeError("invalid suite type");var i=tQ(e,!1,r,n);return nQ(t,i.key,i.iv)}function rQ(t,e,r){if(t=t.toLowerCase(),Xd[t])return kR.createCipheriv(t,e,r);if(Tl[t])return new eQ({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function nQ(t,e,r){if(t=t.toLowerCase(),Xd[t])return kR.createDecipheriv(t,e,r);if(Tl[t])return new eQ({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function d5e(){return Object.keys(Tl).concat(kR.getCiphers())}uf.createCipher=uf.Cipher=u5e;uf.createCipheriv=uf.Cipheriv=rQ;uf.createDecipher=uf.Decipher=l5e;uf.createDecipheriv=uf.Decipheriv=nQ;uf.listCiphers=uf.getCiphers=d5e});var RR=F((oQ,PR)=>{h();p();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Qy().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,m){if(typeof a=="number")return this._initNumber(a,u,m);if(typeof a=="object")return this._initArray(a,u,m);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(u===16?this._parseHex(a,y,m):(this._parseBase(a,u,y),m==="le"&&this._initArray(this.toArray(),u,m)))},i.prototype._initNumber=function(a,u,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},i.prototype._initArray=function(a,u,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,A=0;if(m==="be")for(y=a.length-1,w=0;y>=0;y-=3)E=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(m==="le")for(y=0,w=0;y<a.length;y+=3)E=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function s(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var m=s(S,u);return u-1>=a&&(m|=s(S,u-1)<<4),m}i.prototype._parseHex=function(a,u,m){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,A;if(m==="be")for(y=a.length-1;y>=u;y-=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8;else{var x=a.length-u;for(y=x%2===0?u+1:u;y<a.length;y+=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8}this.strip()};function l(S,a,u,m){for(var y=0,w=Math.min(S.length,u),E=a;E<w;E++){var A=S.charCodeAt(E)-48;y*=m,A>=49?y+=A-49+10:A>=17?y+=A-17+10:y+=A}return y}i.prototype._parseBase=function(a,u,m){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=u)y++;y--,w=w/u|0;for(var E=a.length-m,A=E%y,x=Math.min(E,E-A)+m,f=0,v=m;v<x;v+=y)f=l(a,v,v+y,u),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var q=1;for(f=l(a,v,a.length,u),v=0;v<A;v++)q*=u;this.imuln(q),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,w=0,E=0;E<this.length;E++){var A=this.words[E],x=((A<<y|w)&16777215).toString(16);w=A>>>24-y&16777215,w!==0||E!==this.length-1?m=d[6-x.length]+x+m:m=x+m,y+=2,y>=26&&(y-=26,E--)}for(w!==0&&(m=w.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var f=g[a],v=b[a];m="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modn(v).toString(a);q=q.idivn(v),q.isZero()?m=U+m:m=d[f-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,m){var y=this.byteLength(),w=m||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var E=u==="le",A=new a(w),x,f,v=this.clone();if(E){for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[f]=x;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-y;f++)A[f]=0;for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[w-f-1]=x}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,m=0;return u&8191||(m+=13,u>>>=13),u&127||(m+=7,u>>>=7),u&15||(m+=4,u>>>=4),u&3||(m+=2,u>>>=2),u&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function _(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var m=u/26|0,y=u%26;a[u]=(S.words[m]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,m;this.length>a.length?(u=this,m=a):(u=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=u.words[y]^m.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,m=a%26;this._expand(u),m>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var w=0,E=0;E<y.length;E++)u=(m.words[E]|0)+(y.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;for(;w!==0&&E<m.length;E++)u=(m.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;m>0?(y=this,w=a):(y=a,w=this);for(var E=0,A=0;A<w.length;A++)u=(y.words[A]|0)-(w.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;for(;E!==0&&A<y.length;A++)u=(y.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;if(E===0&&A<y.length&&y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=Math.max(this.length,A),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function T(S,a,u){u.negative=a.negative^S.negative;var m=S.length+a.length|0;u.length=m,m=m-1|0;var y=S.words[0]|0,w=a.words[0]|0,E=y*w,A=E&67108863,x=E/67108864|0;u.words[0]=A;for(var f=1;f<m;f++){for(var v=x>>>26,q=x&67108863,U=Math.min(f,a.length-1),O=Math.max(0,f-S.length+1);O<=U;O++){var W=f-O|0;y=S.words[W]|0,w=a.words[O]|0,E=y*w+q,v+=E/67108864|0,q=E&67108863}u.words[f]=q|0,x=v|0}return x!==0?u.words[f]=x|0:u.length--,u.strip()}var M=function(a,u,m){var y=a.words,w=u.words,E=m.words,A=0,x,f,v,q=y[0]|0,U=q&8191,O=q>>>13,W=y[1]|0,Q=W&8191,re=W>>>13,Ke=y[2]|0,se=Ke&8191,Z=Ke>>>13,ct=y[3]|0,de=ct&8191,he=ct>>>13,ur=y[4]|0,me=ur&8191,Se=ur>>>13,qn=y[5]|0,Ce=qn&8191,ye=qn>>>13,Jn=y[6]|0,Ne=Jn&8191,Te=Jn>>>13,di=y[7]|0,Ee=di&8191,Ie=di>>>13,ei=y[8]|0,Me=ei&8191,ke=ei>>>13,Si=y[9]|0,Le=Si&8191,Pe=Si>>>13,hi=w[0]|0,_e=hi&8191,ve=hi>>>13,kn=w[1]|0,xe=kn&8191,Ae=kn>>>13,Hn=w[2]|0,we=Hn&8191,Re=Hn>>>13,Ei=w[3]|0,Ue=Ei&8191,Fe=Ei>>>13,un=w[4]|0,ge=un&8191,be=un>>>13,pi=w[5]|0,Be=pi&8191,Oe=pi>>>13,Di=w[6]|0,pe=Di&8191,De=Di>>>13,H=w[7]|0,j=H&8191,K=H>>>13,N=w[8]|0,G=N&8191,Y=N>>>13,ae=w[9]|0,ee=ae&8191,ie=ae>>>13;m.negative=a.negative^u.negative,m.length=19,x=Math.imul(U,_e),f=Math.imul(U,ve),f=f+Math.imul(O,_e)|0,v=Math.imul(O,ve);var ot=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(Q,_e),f=Math.imul(Q,ve),f=f+Math.imul(re,_e)|0,v=Math.imul(re,ve),x=x+Math.imul(U,xe)|0,f=f+Math.imul(U,Ae)|0,f=f+Math.imul(O,xe)|0,v=v+Math.imul(O,Ae)|0;var Ze=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(se,_e),f=Math.imul(se,ve),f=f+Math.imul(Z,_e)|0,v=Math.imul(Z,ve),x=x+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(re,xe)|0,v=v+Math.imul(re,Ae)|0,x=x+Math.imul(U,we)|0,f=f+Math.imul(U,Re)|0,f=f+Math.imul(O,we)|0,v=v+Math.imul(O,Re)|0;var At=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(de,_e),f=Math.imul(de,ve),f=f+Math.imul(he,_e)|0,v=Math.imul(he,ve),x=x+Math.imul(se,xe)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Ae)|0,x=x+Math.imul(Q,we)|0,f=f+Math.imul(Q,Re)|0,f=f+Math.imul(re,we)|0,v=v+Math.imul(re,Re)|0,x=x+Math.imul(U,Ue)|0,f=f+Math.imul(U,Fe)|0,f=f+Math.imul(O,Ue)|0,v=v+Math.imul(O,Fe)|0;var Je=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(me,_e),f=Math.imul(me,ve),f=f+Math.imul(Se,_e)|0,v=Math.imul(Se,ve),x=x+Math.imul(de,xe)|0,f=f+Math.imul(de,Ae)|0,f=f+Math.imul(he,xe)|0,v=v+Math.imul(he,Ae)|0,x=x+Math.imul(se,we)|0,f=f+Math.imul(se,Re)|0,f=f+Math.imul(Z,we)|0,v=v+Math.imul(Z,Re)|0,x=x+Math.imul(Q,Ue)|0,f=f+Math.imul(Q,Fe)|0,f=f+Math.imul(re,Ue)|0,v=v+Math.imul(re,Fe)|0,x=x+Math.imul(U,ge)|0,f=f+Math.imul(U,be)|0,f=f+Math.imul(O,ge)|0,v=v+Math.imul(O,be)|0;var lt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Ce,_e),f=Math.imul(Ce,ve),f=f+Math.imul(ye,_e)|0,v=Math.imul(ye,ve),x=x+Math.imul(me,xe)|0,f=f+Math.imul(me,Ae)|0,f=f+Math.imul(Se,xe)|0,v=v+Math.imul(Se,Ae)|0,x=x+Math.imul(de,we)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(he,we)|0,v=v+Math.imul(he,Re)|0,x=x+Math.imul(se,Ue)|0,f=f+Math.imul(se,Fe)|0,f=f+Math.imul(Z,Ue)|0,v=v+Math.imul(Z,Fe)|0,x=x+Math.imul(Q,ge)|0,f=f+Math.imul(Q,be)|0,f=f+Math.imul(re,ge)|0,v=v+Math.imul(re,be)|0,x=x+Math.imul(U,Be)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(O,Be)|0,v=v+Math.imul(O,Oe)|0;var dt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(Ne,_e),f=Math.imul(Ne,ve),f=f+Math.imul(Te,_e)|0,v=Math.imul(Te,ve),x=x+Math.imul(Ce,xe)|0,f=f+Math.imul(Ce,Ae)|0,f=f+Math.imul(ye,xe)|0,v=v+Math.imul(ye,Ae)|0,x=x+Math.imul(me,we)|0,f=f+Math.imul(me,Re)|0,f=f+Math.imul(Se,we)|0,v=v+Math.imul(Se,Re)|0,x=x+Math.imul(de,Ue)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(he,Ue)|0,v=v+Math.imul(he,Fe)|0,x=x+Math.imul(se,ge)|0,f=f+Math.imul(se,be)|0,f=f+Math.imul(Z,ge)|0,v=v+Math.imul(Z,be)|0,x=x+Math.imul(Q,Be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(re,Be)|0,v=v+Math.imul(re,Oe)|0,x=x+Math.imul(U,pe)|0,f=f+Math.imul(U,De)|0,f=f+Math.imul(O,pe)|0,v=v+Math.imul(O,De)|0;var gt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(Ee,_e),f=Math.imul(Ee,ve),f=f+Math.imul(Ie,_e)|0,v=Math.imul(Ie,ve),x=x+Math.imul(Ne,xe)|0,f=f+Math.imul(Ne,Ae)|0,f=f+Math.imul(Te,xe)|0,v=v+Math.imul(Te,Ae)|0,x=x+Math.imul(Ce,we)|0,f=f+Math.imul(Ce,Re)|0,f=f+Math.imul(ye,we)|0,v=v+Math.imul(ye,Re)|0,x=x+Math.imul(me,Ue)|0,f=f+Math.imul(me,Fe)|0,f=f+Math.imul(Se,Ue)|0,v=v+Math.imul(Se,Fe)|0,x=x+Math.imul(de,ge)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(he,ge)|0,v=v+Math.imul(he,be)|0,x=x+Math.imul(se,Be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(Z,Be)|0,v=v+Math.imul(Z,Oe)|0,x=x+Math.imul(Q,pe)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(re,pe)|0,v=v+Math.imul(re,De)|0,x=x+Math.imul(U,j)|0,f=f+Math.imul(U,K)|0,f=f+Math.imul(O,j)|0,v=v+Math.imul(O,K)|0;var yt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,x=Math.imul(Me,_e),f=Math.imul(Me,ve),f=f+Math.imul(ke,_e)|0,v=Math.imul(ke,ve),x=x+Math.imul(Ee,xe)|0,f=f+Math.imul(Ee,Ae)|0,f=f+Math.imul(Ie,xe)|0,v=v+Math.imul(Ie,Ae)|0,x=x+Math.imul(Ne,we)|0,f=f+Math.imul(Ne,Re)|0,f=f+Math.imul(Te,we)|0,v=v+Math.imul(Te,Re)|0,x=x+Math.imul(Ce,Ue)|0,f=f+Math.imul(Ce,Fe)|0,f=f+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Fe)|0,x=x+Math.imul(me,ge)|0,f=f+Math.imul(me,be)|0,f=f+Math.imul(Se,ge)|0,v=v+Math.imul(Se,be)|0,x=x+Math.imul(de,Be)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(he,Be)|0,v=v+Math.imul(he,Oe)|0,x=x+Math.imul(se,pe)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(Z,pe)|0,v=v+Math.imul(Z,De)|0,x=x+Math.imul(Q,j)|0,f=f+Math.imul(Q,K)|0,f=f+Math.imul(re,j)|0,v=v+Math.imul(re,K)|0,x=x+Math.imul(U,G)|0,f=f+Math.imul(U,Y)|0,f=f+Math.imul(O,G)|0,v=v+Math.imul(O,Y)|0;var ht=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,x=Math.imul(Le,_e),f=Math.imul(Le,ve),f=f+Math.imul(Pe,_e)|0,v=Math.imul(Pe,ve),x=x+Math.imul(Me,xe)|0,f=f+Math.imul(Me,Ae)|0,f=f+Math.imul(ke,xe)|0,v=v+Math.imul(ke,Ae)|0,x=x+Math.imul(Ee,we)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(Ie,we)|0,v=v+Math.imul(Ie,Re)|0,x=x+Math.imul(Ne,Ue)|0,f=f+Math.imul(Ne,Fe)|0,f=f+Math.imul(Te,Ue)|0,v=v+Math.imul(Te,Fe)|0,x=x+Math.imul(Ce,ge)|0,f=f+Math.imul(Ce,be)|0,f=f+Math.imul(ye,ge)|0,v=v+Math.imul(ye,be)|0,x=x+Math.imul(me,Be)|0,f=f+Math.imul(me,Oe)|0,f=f+Math.imul(Se,Be)|0,v=v+Math.imul(Se,Oe)|0,x=x+Math.imul(de,pe)|0,f=f+Math.imul(de,De)|0,f=f+Math.imul(he,pe)|0,v=v+Math.imul(he,De)|0,x=x+Math.imul(se,j)|0,f=f+Math.imul(se,K)|0,f=f+Math.imul(Z,j)|0,v=v+Math.imul(Z,K)|0,x=x+Math.imul(Q,G)|0,f=f+Math.imul(Q,Y)|0,f=f+Math.imul(re,G)|0,v=v+Math.imul(re,Y)|0,x=x+Math.imul(U,ee)|0,f=f+Math.imul(U,ie)|0,f=f+Math.imul(O,ee)|0,v=v+Math.imul(O,ie)|0;var mt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Le,xe),f=Math.imul(Le,Ae),f=f+Math.imul(Pe,xe)|0,v=Math.imul(Pe,Ae),x=x+Math.imul(Me,we)|0,f=f+Math.imul(Me,Re)|0,f=f+Math.imul(ke,we)|0,v=v+Math.imul(ke,Re)|0,x=x+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(Ie,Ue)|0,v=v+Math.imul(Ie,Fe)|0,x=x+Math.imul(Ne,ge)|0,f=f+Math.imul(Ne,be)|0,f=f+Math.imul(Te,ge)|0,v=v+Math.imul(Te,be)|0,x=x+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,Oe)|0,f=f+Math.imul(ye,Be)|0,v=v+Math.imul(ye,Oe)|0,x=x+Math.imul(me,pe)|0,f=f+Math.imul(me,De)|0,f=f+Math.imul(Se,pe)|0,v=v+Math.imul(Se,De)|0,x=x+Math.imul(de,j)|0,f=f+Math.imul(de,K)|0,f=f+Math.imul(he,j)|0,v=v+Math.imul(he,K)|0,x=x+Math.imul(se,G)|0,f=f+Math.imul(se,Y)|0,f=f+Math.imul(Z,G)|0,v=v+Math.imul(Z,Y)|0,x=x+Math.imul(Q,ee)|0,f=f+Math.imul(Q,ie)|0,f=f+Math.imul(re,ee)|0,v=v+Math.imul(re,ie)|0;var pt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,we),f=Math.imul(Le,Re),f=f+Math.imul(Pe,we)|0,v=Math.imul(Pe,Re),x=x+Math.imul(Me,Ue)|0,f=f+Math.imul(Me,Fe)|0,f=f+Math.imul(ke,Ue)|0,v=v+Math.imul(ke,Fe)|0,x=x+Math.imul(Ee,ge)|0,f=f+Math.imul(Ee,be)|0,f=f+Math.imul(Ie,ge)|0,v=v+Math.imul(Ie,be)|0,x=x+Math.imul(Ne,Be)|0,f=f+Math.imul(Ne,Oe)|0,f=f+Math.imul(Te,Be)|0,v=v+Math.imul(Te,Oe)|0,x=x+Math.imul(Ce,pe)|0,f=f+Math.imul(Ce,De)|0,f=f+Math.imul(ye,pe)|0,v=v+Math.imul(ye,De)|0,x=x+Math.imul(me,j)|0,f=f+Math.imul(me,K)|0,f=f+Math.imul(Se,j)|0,v=v+Math.imul(Se,K)|0,x=x+Math.imul(de,G)|0,f=f+Math.imul(de,Y)|0,f=f+Math.imul(he,G)|0,v=v+Math.imul(he,Y)|0,x=x+Math.imul(se,ee)|0,f=f+Math.imul(se,ie)|0,f=f+Math.imul(Z,ee)|0,v=v+Math.imul(Z,ie)|0;var tt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(Le,Ue),f=Math.imul(Le,Fe),f=f+Math.imul(Pe,Ue)|0,v=Math.imul(Pe,Fe),x=x+Math.imul(Me,ge)|0,f=f+Math.imul(Me,be)|0,f=f+Math.imul(ke,ge)|0,v=v+Math.imul(ke,be)|0,x=x+Math.imul(Ee,Be)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(Ie,Be)|0,v=v+Math.imul(Ie,Oe)|0,x=x+Math.imul(Ne,pe)|0,f=f+Math.imul(Ne,De)|0,f=f+Math.imul(Te,pe)|0,v=v+Math.imul(Te,De)|0,x=x+Math.imul(Ce,j)|0,f=f+Math.imul(Ce,K)|0,f=f+Math.imul(ye,j)|0,v=v+Math.imul(ye,K)|0,x=x+Math.imul(me,G)|0,f=f+Math.imul(me,Y)|0,f=f+Math.imul(Se,G)|0,v=v+Math.imul(Se,Y)|0,x=x+Math.imul(de,ee)|0,f=f+Math.imul(de,ie)|0,f=f+Math.imul(he,ee)|0,v=v+Math.imul(he,ie)|0;var st=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Le,ge),f=Math.imul(Le,be),f=f+Math.imul(Pe,ge)|0,v=Math.imul(Pe,be),x=x+Math.imul(Me,Be)|0,f=f+Math.imul(Me,Oe)|0,f=f+Math.imul(ke,Be)|0,v=v+Math.imul(ke,Oe)|0,x=x+Math.imul(Ee,pe)|0,f=f+Math.imul(Ee,De)|0,f=f+Math.imul(Ie,pe)|0,v=v+Math.imul(Ie,De)|0,x=x+Math.imul(Ne,j)|0,f=f+Math.imul(Ne,K)|0,f=f+Math.imul(Te,j)|0,v=v+Math.imul(Te,K)|0,x=x+Math.imul(Ce,G)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(ye,G)|0,v=v+Math.imul(ye,Y)|0,x=x+Math.imul(me,ee)|0,f=f+Math.imul(me,ie)|0,f=f+Math.imul(Se,ee)|0,v=v+Math.imul(Se,ie)|0;var Xe=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(Le,Be),f=Math.imul(Le,Oe),f=f+Math.imul(Pe,Be)|0,v=Math.imul(Pe,Oe),x=x+Math.imul(Me,pe)|0,f=f+Math.imul(Me,De)|0,f=f+Math.imul(ke,pe)|0,v=v+Math.imul(ke,De)|0,x=x+Math.imul(Ee,j)|0,f=f+Math.imul(Ee,K)|0,f=f+Math.imul(Ie,j)|0,v=v+Math.imul(Ie,K)|0,x=x+Math.imul(Ne,G)|0,f=f+Math.imul(Ne,Y)|0,f=f+Math.imul(Te,G)|0,v=v+Math.imul(Te,Y)|0,x=x+Math.imul(Ce,ee)|0,f=f+Math.imul(Ce,ie)|0,f=f+Math.imul(ye,ee)|0,v=v+Math.imul(ye,ie)|0;var rt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(Le,pe),f=Math.imul(Le,De),f=f+Math.imul(Pe,pe)|0,v=Math.imul(Pe,De),x=x+Math.imul(Me,j)|0,f=f+Math.imul(Me,K)|0,f=f+Math.imul(ke,j)|0,v=v+Math.imul(ke,K)|0,x=x+Math.imul(Ee,G)|0,f=f+Math.imul(Ee,Y)|0,f=f+Math.imul(Ie,G)|0,v=v+Math.imul(Ie,Y)|0,x=x+Math.imul(Ne,ee)|0,f=f+Math.imul(Ne,ie)|0,f=f+Math.imul(Te,ee)|0,v=v+Math.imul(Te,ie)|0;var it=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(it>>>26)|0,it&=67108863,x=Math.imul(Le,j),f=Math.imul(Le,K),f=f+Math.imul(Pe,j)|0,v=Math.imul(Pe,K),x=x+Math.imul(Me,G)|0,f=f+Math.imul(Me,Y)|0,f=f+Math.imul(ke,G)|0,v=v+Math.imul(ke,Y)|0,x=x+Math.imul(Ee,ee)|0,f=f+Math.imul(Ee,ie)|0,f=f+Math.imul(Ie,ee)|0,v=v+Math.imul(Ie,ie)|0;var Ye=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(Le,G),f=Math.imul(Le,Y),f=f+Math.imul(Pe,G)|0,v=Math.imul(Pe,Y),x=x+Math.imul(Me,ee)|0,f=f+Math.imul(Me,ie)|0,f=f+Math.imul(ke,ee)|0,v=v+Math.imul(ke,ie)|0;var ce=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,x=Math.imul(Le,ee),f=Math.imul(Le,ie),f=f+Math.imul(Pe,ee)|0,v=Math.imul(Pe,ie);var fe=(A+x|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,E[0]=ot,E[1]=Ze,E[2]=At,E[3]=Je,E[4]=lt,E[5]=dt,E[6]=gt,E[7]=yt,E[8]=ht,E[9]=mt,E[10]=pt,E[11]=tt,E[12]=st,E[13]=Xe,E[14]=rt,E[15]=it,E[16]=Ye,E[17]=ce,E[18]=fe,A!==0&&(E[19]=A,m.length++),m};Math.imul||(M=T);function k(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var m=0,y=0,w=0;w<u.length-1;w++){var E=y;y=0;for(var A=m&67108863,x=Math.min(w,a.length-1),f=Math.max(0,w-S.length+1);f<=x;f++){var v=w-f,q=S.words[v]|0,U=a.words[f]|0,O=q*U,W=O&67108863;E=E+(O/67108864|0)|0,W=W+A|0,A=W&67108863,E=E+(W>>>26)|0,y+=E>>>26,E&=67108863}u.words[w]=A,m=E,E=y}return m!==0?u.words[w]=m:u.length--,u.strip()}function B(S,a,u){var m=new P;return m.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=M(this,a,u):y<63?m=T(this,a,u):y<1024?m=k(this,a,u):m=B(this,a,u),m};function P(S,a){this.x=S,this.y=a}P.prototype.makeRBT=function(a){for(var u=new Array(a),m=i.prototype._countBits(a)-1,y=0;y<a;y++)u[y]=this.revBin(y,m,a);return u},P.prototype.revBin=function(a,u,m){if(a===0||a===m-1)return a;for(var y=0,w=0;w<u;w++)y|=(a&1)<<u-w-1,a>>=1;return y},P.prototype.permute=function(a,u,m,y,w,E){for(var A=0;A<E;A++)y[A]=u[a[A]],w[A]=m[a[A]]},P.prototype.transform=function(a,u,m,y,w,E){this.permute(E,a,u,m,y,w);for(var A=1;A<w;A<<=1)for(var x=A<<1,f=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),q=0;q<w;q+=x)for(var U=f,O=v,W=0;W<A;W++){var Q=m[q+W],re=y[q+W],Ke=m[q+W+A],se=y[q+W+A],Z=U*Ke-O*se;se=U*se+O*Ke,Ke=Z,m[q+W]=Q+Ke,y[q+W]=re+se,m[q+W+A]=Q-Ke,y[q+W+A]=re-se,W!==x&&(Z=f*U-v*O,O=f*O+v*U,U=Z)}},P.prototype.guessLen13b=function(a,u){var m=Math.max(u,a)|1,y=m&1,w=0;for(m=m/2|0;m;m=m>>>1)w++;return 1<<w+1+y},P.prototype.conjugate=function(a,u,m){if(!(m<=1))for(var y=0;y<m/2;y++){var w=a[y];a[y]=a[m-y-1],a[m-y-1]=w,w=u[y],u[y]=-u[m-y-1],u[m-y-1]=-w}},P.prototype.normalize13b=function(a,u){for(var m=0,y=0;y<u/2;y++){var w=Math.round(a[2*y+1]/u)*8192+Math.round(a[2*y]/u)+m;a[y]=w&67108863,w<67108864?m=0:m=w/67108864|0}return a},P.prototype.convert13b=function(a,u,m,y){for(var w=0,E=0;E<u;E++)w=w+(a[E]|0),m[2*E]=w&8191,w=w>>>13,m[2*E+1]=w&8191,w=w>>>13;for(E=2*u;E<y;++E)m[E]=0;r(w===0),r((w&-8192)===0)},P.prototype.stub=function(a){for(var u=new Array(a),m=0;m<a;m++)u[m]=0;return u},P.prototype.mulp=function(a,u,m){var y=2*this.guessLen13b(a.length,u.length),w=this.makeRBT(y),E=this.stub(y),A=new Array(y),x=new Array(y),f=new Array(y),v=new Array(y),q=new Array(y),U=new Array(y),O=m.words;O.length=y,this.convert13b(a.words,a.length,A,y),this.convert13b(u.words,u.length,v,y),this.transform(A,E,x,f,y,w),this.transform(v,E,q,U,y,w);for(var W=0;W<y;W++){var Q=x[W]*q[W]-f[W]*U[W];f[W]=x[W]*U[W]+f[W]*q[W],x[W]=Q}return this.conjugate(x,f,y),this.transform(x,f,O,E,y,w),this.conjugate(O,E,y),this.normalize13b(O,y),m.negative=a.negative^u.negative,m.length=a.length+u.length,m.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),B(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,m=0;m<this.length;m++){var y=(this.words[m]|0)*a,w=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=w>>>26,this.words[m]=w&67108863}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=_(a);if(u.length===0)return new i(1);for(var m=this,y=0;y<u.length&&u[y]===0;y++,m=m.sqr());if(++y<u.length)for(var w=m.sqr();y<u.length;y++,w=w.sqr())u[y]!==0&&(m=m.mul(w));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=67108863>>>26-u<<26-u,w;if(u!==0){var E=0;for(w=0;w<this.length;w++){var A=this.words[w]&y,x=(this.words[w]|0)-A<<u;this.words[w]=x|E,E=A>>>26-u}E&&(this.words[w]=E,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,m){r(typeof a=="number"&&a>=0);var y;u?y=(u-u%26)/26:y=0;var w=a%26,E=Math.min((a-w)/26,this.length),A=67108863^67108863>>>w<<w,x=m;if(y-=E,y=Math.max(0,y),x){for(var f=0;f<E;f++)x.words[f]=this.words[f];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=y);f--){var q=this.words[f]|0;this.words[f]=v<<26-w|q>>>w,v=q&A}return x&&v!==0&&(x.words[x.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,m){return r(this.negative===0),this.iushrn(a,u,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return!1;var w=this.words[m];return!!(w&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,m){var y=a.length+m,w;this._expand(y);var E,A=0;for(w=0;w<a.length;w++){E=(this.words[w+m]|0)+A;var x=(a.words[w]|0)*u;E-=x&67108863,A=(E>>26)-(x/67108864|0),this.words[w+m]=E&67108863}for(;w<this.length-m;w++)E=(this.words[w+m]|0)+A,A=E>>26,this.words[w+m]=E&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+A,A=E>>26,this.words[w]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var m=this.length-a.length,y=this.clone(),w=a,E=w.words[w.length-1]|0,A=this._countBits(E);m=26-A,m!==0&&(w=w.ushln(m),y.iushln(m),E=w.words[w.length-1]|0);var x=y.length-w.length,f;if(u!=="mod"){f=new i(null),f.length=x+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var q=y.clone()._ishlnsubmul(w,1,x);q.negative===0&&(y=q,f&&(f.words[x]=1));for(var U=x-1;U>=0;U--){var O=(y.words[w.length+U]|0)*67108864+(y.words[w.length+U-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,U),y.isZero()||(y.negative^=1);f&&(f.words[U]=O)}return f&&f.strip(),y.strip(),u!=="div"&&m!==0&&y.iushrn(m),{div:f||null,mod:y}},i.prototype.divmod=function(a,u,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,w,E;return this.negative!==0&&a.negative===0?(E=this.neg().divmod(a,u),u!=="mod"&&(y=E.div.neg()),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.iadd(a)),{div:y,mod:w}):this.negative===0&&a.negative!==0?(E=this.divmod(a.neg(),u),u!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):this.negative&a.negative?(E=this.neg().divmod(a.neg(),u),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.isub(a)),{div:E.div,mod:w}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(a):u.mod,y=a.ushrn(1),w=a.andln(1),E=m.cmp(y);return E<0||w===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,m=0,y=this.length-1;y>=0;y--)m=(u*m+(this.words[y]|0))%a;return m},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,m=this.length-1;m>=0;m--){var y=(this.words[m]|0)+u*67108864;this.words[m]=y/a|0,u=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=new i(0),A=new i(1),x=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++x;for(var f=m.clone(),v=u.clone();!u.isZero();){for(var q=0,U=1;!(u.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(u.iushrn(q);q-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(f),w.isub(v)),y.iushrn(1),w.iushrn(1);for(var O=0,W=1;!(m.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(m.iushrn(O);O-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(f),A.isub(v)),E.iushrn(1),A.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(E),w.isub(A)):(m.isub(u),E.isub(y),A.isub(w))}return{a:E,b:A,gcd:m.iushln(x)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,x=1;!(u.words[0]&x)&&A<26;++A,x<<=1);if(A>0)for(u.iushrn(A);A-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var f=0,v=1;!(m.words[0]&v)&&f<26;++f,v<<=1);if(f>0)for(m.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(w)):(m.isub(u),w.isub(y))}var q;return u.cmpn(1)===0?q=y:q=w,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),m=a.clone();u.negative=0,m.negative=0;for(var y=0;u.isEven()&&m.isEven();y++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=u.cmp(m);if(w<0){var E=u;u=m,m=E}else if(w===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var w=y,E=m;w!==0&&E<this.length;E++){var A=this.words[E]|0;A+=w,w=A>>>26,A&=67108863,this.words[E]=A}return w!==0&&(this.words[E]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var m;if(this.length>1)m=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,w=a.words[m]|0;if(y!==w){y<w?u=-1:y>w&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new $(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function R(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},R.prototype.ireduce=function(a){var u=a,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var y=m<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(a,u){a.iushrn(this.n,0,u)},R.prototype.imulK=function(a){return a.imul(this.k)};function L(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,R),L.prototype.split=function(a,u){for(var m=4194303,y=Math.min(a.length,9),w=0;w<y;w++)u.words[w]=a.words[w];if(u.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var E=a.words[9];for(u.words[u.length++]=E&m,w=10;w<a.length;w++){var A=a.words[w]|0;a.words[w-10]=(A&m)<<4|E>>>22,E=A}E>>>=22,a.words[w-10]=E,E===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,m=0;m<a.length;m++){var y=a.words[m]|0;u+=y*977,a.words[m]=u&67108863,u=y*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,R);function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(z,R);function oe(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(oe,R),oe.prototype.imulK=function(a){for(var u=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+u,w=y&67108863;y>>>=26,a.words[m]=w,u=y}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new L;else if(a==="p224")u=new V;else if(a==="p192")u=new z;else if(a==="p25519")u=new oe;else throw new Error("Unknown prime "+a);return D[a]=u,u};function $(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},$.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},$.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},$.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},$.prototype.add=function(a,u){this._verify2(a,u);var m=a.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(a,u){this._verify2(a,u);var m=a.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(a,u){this._verify2(a,u);var m=a.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(a,u){this._verify2(a,u);var m=a.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},$.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},$.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},$.prototype.isqr=function(a){return this.imul(a,a.clone())},$.prototype.sqr=function(a){return this.mul(a,a)},$.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var E=new i(1).toRed(this),A=E.redNeg(),x=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,x).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,y),q=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=w;U.cmp(E)!==0;){for(var W=U,Q=0;W.cmp(E)!==0;Q++)W=W.redSqr();r(Q<O);var re=this.pow(v,new i(1).iushln(O-Q-1));q=q.redMul(re),v=re.redSqr(),U=U.redMul(v),O=Q}return q},$.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},$.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new i(1).toRed(this),y[1]=a;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],a);var E=y[0],A=0,x=0,f=u.bitLength()%26;for(f===0&&(f=26),w=u.length-1;w>=0;w--){for(var v=u.words[w],q=f-1;q>=0;q--){var U=v>>q&1;if(E!==y[0]&&(E=this.sqr(E)),U===0&&A===0){x=0;continue}A<<=1,A|=U,x++,!(x!==m&&(w!==0||q!==0))&&(E=this.mul(E,y[A]),x=0,A=0)}f=26}return E},$.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},$.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new ne(a)};function ne(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,$),ne.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ne.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var m=a.mul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof PR>"u"||PR,oQ)});var aQ=F((sQ,BR)=>{h();p();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Qy().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,m){if(typeof a=="number")return this._initNumber(a,u,m);if(typeof a=="object")return this._initArray(a,u,m);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(u===16?this._parseHex(a,y,m):(this._parseBase(a,u,y),m==="le"&&this._initArray(this.toArray(),u,m)))},i.prototype._initNumber=function(a,u,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},i.prototype._initArray=function(a,u,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,A=0;if(m==="be")for(y=a.length-1,w=0;y>=0;y-=3)E=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(m==="le")for(y=0,w=0;y<a.length;y+=3)E=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function s(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var m=s(S,u);return u-1>=a&&(m|=s(S,u-1)<<4),m}i.prototype._parseHex=function(a,u,m){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,A;if(m==="be")for(y=a.length-1;y>=u;y-=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8;else{var x=a.length-u;for(y=x%2===0?u+1:u;y<a.length;y+=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8}this.strip()};function l(S,a,u,m){for(var y=0,w=Math.min(S.length,u),E=a;E<w;E++){var A=S.charCodeAt(E)-48;y*=m,A>=49?y+=A-49+10:A>=17?y+=A-17+10:y+=A}return y}i.prototype._parseBase=function(a,u,m){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=u)y++;y--,w=w/u|0;for(var E=a.length-m,A=E%y,x=Math.min(E,E-A)+m,f=0,v=m;v<x;v+=y)f=l(a,v,v+y,u),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var q=1;for(f=l(a,v,a.length,u),v=0;v<A;v++)q*=u;this.imuln(q),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,w=0,E=0;E<this.length;E++){var A=this.words[E],x=((A<<y|w)&16777215).toString(16);w=A>>>24-y&16777215,w!==0||E!==this.length-1?m=d[6-x.length]+x+m:m=x+m,y+=2,y>=26&&(y-=26,E--)}for(w!==0&&(m=w.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var f=g[a],v=b[a];m="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modn(v).toString(a);q=q.idivn(v),q.isZero()?m=U+m:m=d[f-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,m){var y=this.byteLength(),w=m||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var E=u==="le",A=new a(w),x,f,v=this.clone();if(E){for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[f]=x;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-y;f++)A[f]=0;for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[w-f-1]=x}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,m=0;return u&8191||(m+=13,u>>>=13),u&127||(m+=7,u>>>=7),u&15||(m+=4,u>>>=4),u&3||(m+=2,u>>>=2),u&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function _(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var m=u/26|0,y=u%26;a[u]=(S.words[m]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,m;this.length>a.length?(u=this,m=a):(u=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=u.words[y]^m.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,m=a%26;this._expand(u),m>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var w=0,E=0;E<y.length;E++)u=(m.words[E]|0)+(y.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;for(;w!==0&&E<m.length;E++)u=(m.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;m>0?(y=this,w=a):(y=a,w=this);for(var E=0,A=0;A<w.length;A++)u=(y.words[A]|0)-(w.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;for(;E!==0&&A<y.length;A++)u=(y.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;if(E===0&&A<y.length&&y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=Math.max(this.length,A),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function T(S,a,u){u.negative=a.negative^S.negative;var m=S.length+a.length|0;u.length=m,m=m-1|0;var y=S.words[0]|0,w=a.words[0]|0,E=y*w,A=E&67108863,x=E/67108864|0;u.words[0]=A;for(var f=1;f<m;f++){for(var v=x>>>26,q=x&67108863,U=Math.min(f,a.length-1),O=Math.max(0,f-S.length+1);O<=U;O++){var W=f-O|0;y=S.words[W]|0,w=a.words[O]|0,E=y*w+q,v+=E/67108864|0,q=E&67108863}u.words[f]=q|0,x=v|0}return x!==0?u.words[f]=x|0:u.length--,u.strip()}var M=function(a,u,m){var y=a.words,w=u.words,E=m.words,A=0,x,f,v,q=y[0]|0,U=q&8191,O=q>>>13,W=y[1]|0,Q=W&8191,re=W>>>13,Ke=y[2]|0,se=Ke&8191,Z=Ke>>>13,ct=y[3]|0,de=ct&8191,he=ct>>>13,ur=y[4]|0,me=ur&8191,Se=ur>>>13,qn=y[5]|0,Ce=qn&8191,ye=qn>>>13,Jn=y[6]|0,Ne=Jn&8191,Te=Jn>>>13,di=y[7]|0,Ee=di&8191,Ie=di>>>13,ei=y[8]|0,Me=ei&8191,ke=ei>>>13,Si=y[9]|0,Le=Si&8191,Pe=Si>>>13,hi=w[0]|0,_e=hi&8191,ve=hi>>>13,kn=w[1]|0,xe=kn&8191,Ae=kn>>>13,Hn=w[2]|0,we=Hn&8191,Re=Hn>>>13,Ei=w[3]|0,Ue=Ei&8191,Fe=Ei>>>13,un=w[4]|0,ge=un&8191,be=un>>>13,pi=w[5]|0,Be=pi&8191,Oe=pi>>>13,Di=w[6]|0,pe=Di&8191,De=Di>>>13,H=w[7]|0,j=H&8191,K=H>>>13,N=w[8]|0,G=N&8191,Y=N>>>13,ae=w[9]|0,ee=ae&8191,ie=ae>>>13;m.negative=a.negative^u.negative,m.length=19,x=Math.imul(U,_e),f=Math.imul(U,ve),f=f+Math.imul(O,_e)|0,v=Math.imul(O,ve);var ot=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(Q,_e),f=Math.imul(Q,ve),f=f+Math.imul(re,_e)|0,v=Math.imul(re,ve),x=x+Math.imul(U,xe)|0,f=f+Math.imul(U,Ae)|0,f=f+Math.imul(O,xe)|0,v=v+Math.imul(O,Ae)|0;var Ze=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(se,_e),f=Math.imul(se,ve),f=f+Math.imul(Z,_e)|0,v=Math.imul(Z,ve),x=x+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(re,xe)|0,v=v+Math.imul(re,Ae)|0,x=x+Math.imul(U,we)|0,f=f+Math.imul(U,Re)|0,f=f+Math.imul(O,we)|0,v=v+Math.imul(O,Re)|0;var At=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(de,_e),f=Math.imul(de,ve),f=f+Math.imul(he,_e)|0,v=Math.imul(he,ve),x=x+Math.imul(se,xe)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Ae)|0,x=x+Math.imul(Q,we)|0,f=f+Math.imul(Q,Re)|0,f=f+Math.imul(re,we)|0,v=v+Math.imul(re,Re)|0,x=x+Math.imul(U,Ue)|0,f=f+Math.imul(U,Fe)|0,f=f+Math.imul(O,Ue)|0,v=v+Math.imul(O,Fe)|0;var Je=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(me,_e),f=Math.imul(me,ve),f=f+Math.imul(Se,_e)|0,v=Math.imul(Se,ve),x=x+Math.imul(de,xe)|0,f=f+Math.imul(de,Ae)|0,f=f+Math.imul(he,xe)|0,v=v+Math.imul(he,Ae)|0,x=x+Math.imul(se,we)|0,f=f+Math.imul(se,Re)|0,f=f+Math.imul(Z,we)|0,v=v+Math.imul(Z,Re)|0,x=x+Math.imul(Q,Ue)|0,f=f+Math.imul(Q,Fe)|0,f=f+Math.imul(re,Ue)|0,v=v+Math.imul(re,Fe)|0,x=x+Math.imul(U,ge)|0,f=f+Math.imul(U,be)|0,f=f+Math.imul(O,ge)|0,v=v+Math.imul(O,be)|0;var lt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Ce,_e),f=Math.imul(Ce,ve),f=f+Math.imul(ye,_e)|0,v=Math.imul(ye,ve),x=x+Math.imul(me,xe)|0,f=f+Math.imul(me,Ae)|0,f=f+Math.imul(Se,xe)|0,v=v+Math.imul(Se,Ae)|0,x=x+Math.imul(de,we)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(he,we)|0,v=v+Math.imul(he,Re)|0,x=x+Math.imul(se,Ue)|0,f=f+Math.imul(se,Fe)|0,f=f+Math.imul(Z,Ue)|0,v=v+Math.imul(Z,Fe)|0,x=x+Math.imul(Q,ge)|0,f=f+Math.imul(Q,be)|0,f=f+Math.imul(re,ge)|0,v=v+Math.imul(re,be)|0,x=x+Math.imul(U,Be)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(O,Be)|0,v=v+Math.imul(O,Oe)|0;var dt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(Ne,_e),f=Math.imul(Ne,ve),f=f+Math.imul(Te,_e)|0,v=Math.imul(Te,ve),x=x+Math.imul(Ce,xe)|0,f=f+Math.imul(Ce,Ae)|0,f=f+Math.imul(ye,xe)|0,v=v+Math.imul(ye,Ae)|0,x=x+Math.imul(me,we)|0,f=f+Math.imul(me,Re)|0,f=f+Math.imul(Se,we)|0,v=v+Math.imul(Se,Re)|0,x=x+Math.imul(de,Ue)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(he,Ue)|0,v=v+Math.imul(he,Fe)|0,x=x+Math.imul(se,ge)|0,f=f+Math.imul(se,be)|0,f=f+Math.imul(Z,ge)|0,v=v+Math.imul(Z,be)|0,x=x+Math.imul(Q,Be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(re,Be)|0,v=v+Math.imul(re,Oe)|0,x=x+Math.imul(U,pe)|0,f=f+Math.imul(U,De)|0,f=f+Math.imul(O,pe)|0,v=v+Math.imul(O,De)|0;var gt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(Ee,_e),f=Math.imul(Ee,ve),f=f+Math.imul(Ie,_e)|0,v=Math.imul(Ie,ve),x=x+Math.imul(Ne,xe)|0,f=f+Math.imul(Ne,Ae)|0,f=f+Math.imul(Te,xe)|0,v=v+Math.imul(Te,Ae)|0,x=x+Math.imul(Ce,we)|0,f=f+Math.imul(Ce,Re)|0,f=f+Math.imul(ye,we)|0,v=v+Math.imul(ye,Re)|0,x=x+Math.imul(me,Ue)|0,f=f+Math.imul(me,Fe)|0,f=f+Math.imul(Se,Ue)|0,v=v+Math.imul(Se,Fe)|0,x=x+Math.imul(de,ge)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(he,ge)|0,v=v+Math.imul(he,be)|0,x=x+Math.imul(se,Be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(Z,Be)|0,v=v+Math.imul(Z,Oe)|0,x=x+Math.imul(Q,pe)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(re,pe)|0,v=v+Math.imul(re,De)|0,x=x+Math.imul(U,j)|0,f=f+Math.imul(U,K)|0,f=f+Math.imul(O,j)|0,v=v+Math.imul(O,K)|0;var yt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,x=Math.imul(Me,_e),f=Math.imul(Me,ve),f=f+Math.imul(ke,_e)|0,v=Math.imul(ke,ve),x=x+Math.imul(Ee,xe)|0,f=f+Math.imul(Ee,Ae)|0,f=f+Math.imul(Ie,xe)|0,v=v+Math.imul(Ie,Ae)|0,x=x+Math.imul(Ne,we)|0,f=f+Math.imul(Ne,Re)|0,f=f+Math.imul(Te,we)|0,v=v+Math.imul(Te,Re)|0,x=x+Math.imul(Ce,Ue)|0,f=f+Math.imul(Ce,Fe)|0,f=f+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Fe)|0,x=x+Math.imul(me,ge)|0,f=f+Math.imul(me,be)|0,f=f+Math.imul(Se,ge)|0,v=v+Math.imul(Se,be)|0,x=x+Math.imul(de,Be)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(he,Be)|0,v=v+Math.imul(he,Oe)|0,x=x+Math.imul(se,pe)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(Z,pe)|0,v=v+Math.imul(Z,De)|0,x=x+Math.imul(Q,j)|0,f=f+Math.imul(Q,K)|0,f=f+Math.imul(re,j)|0,v=v+Math.imul(re,K)|0,x=x+Math.imul(U,G)|0,f=f+Math.imul(U,Y)|0,f=f+Math.imul(O,G)|0,v=v+Math.imul(O,Y)|0;var ht=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,x=Math.imul(Le,_e),f=Math.imul(Le,ve),f=f+Math.imul(Pe,_e)|0,v=Math.imul(Pe,ve),x=x+Math.imul(Me,xe)|0,f=f+Math.imul(Me,Ae)|0,f=f+Math.imul(ke,xe)|0,v=v+Math.imul(ke,Ae)|0,x=x+Math.imul(Ee,we)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(Ie,we)|0,v=v+Math.imul(Ie,Re)|0,x=x+Math.imul(Ne,Ue)|0,f=f+Math.imul(Ne,Fe)|0,f=f+Math.imul(Te,Ue)|0,v=v+Math.imul(Te,Fe)|0,x=x+Math.imul(Ce,ge)|0,f=f+Math.imul(Ce,be)|0,f=f+Math.imul(ye,ge)|0,v=v+Math.imul(ye,be)|0,x=x+Math.imul(me,Be)|0,f=f+Math.imul(me,Oe)|0,f=f+Math.imul(Se,Be)|0,v=v+Math.imul(Se,Oe)|0,x=x+Math.imul(de,pe)|0,f=f+Math.imul(de,De)|0,f=f+Math.imul(he,pe)|0,v=v+Math.imul(he,De)|0,x=x+Math.imul(se,j)|0,f=f+Math.imul(se,K)|0,f=f+Math.imul(Z,j)|0,v=v+Math.imul(Z,K)|0,x=x+Math.imul(Q,G)|0,f=f+Math.imul(Q,Y)|0,f=f+Math.imul(re,G)|0,v=v+Math.imul(re,Y)|0,x=x+Math.imul(U,ee)|0,f=f+Math.imul(U,ie)|0,f=f+Math.imul(O,ee)|0,v=v+Math.imul(O,ie)|0;var mt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Le,xe),f=Math.imul(Le,Ae),f=f+Math.imul(Pe,xe)|0,v=Math.imul(Pe,Ae),x=x+Math.imul(Me,we)|0,f=f+Math.imul(Me,Re)|0,f=f+Math.imul(ke,we)|0,v=v+Math.imul(ke,Re)|0,x=x+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(Ie,Ue)|0,v=v+Math.imul(Ie,Fe)|0,x=x+Math.imul(Ne,ge)|0,f=f+Math.imul(Ne,be)|0,f=f+Math.imul(Te,ge)|0,v=v+Math.imul(Te,be)|0,x=x+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,Oe)|0,f=f+Math.imul(ye,Be)|0,v=v+Math.imul(ye,Oe)|0,x=x+Math.imul(me,pe)|0,f=f+Math.imul(me,De)|0,f=f+Math.imul(Se,pe)|0,v=v+Math.imul(Se,De)|0,x=x+Math.imul(de,j)|0,f=f+Math.imul(de,K)|0,f=f+Math.imul(he,j)|0,v=v+Math.imul(he,K)|0,x=x+Math.imul(se,G)|0,f=f+Math.imul(se,Y)|0,f=f+Math.imul(Z,G)|0,v=v+Math.imul(Z,Y)|0,x=x+Math.imul(Q,ee)|0,f=f+Math.imul(Q,ie)|0,f=f+Math.imul(re,ee)|0,v=v+Math.imul(re,ie)|0;var pt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,we),f=Math.imul(Le,Re),f=f+Math.imul(Pe,we)|0,v=Math.imul(Pe,Re),x=x+Math.imul(Me,Ue)|0,f=f+Math.imul(Me,Fe)|0,f=f+Math.imul(ke,Ue)|0,v=v+Math.imul(ke,Fe)|0,x=x+Math.imul(Ee,ge)|0,f=f+Math.imul(Ee,be)|0,f=f+Math.imul(Ie,ge)|0,v=v+Math.imul(Ie,be)|0,x=x+Math.imul(Ne,Be)|0,f=f+Math.imul(Ne,Oe)|0,f=f+Math.imul(Te,Be)|0,v=v+Math.imul(Te,Oe)|0,x=x+Math.imul(Ce,pe)|0,f=f+Math.imul(Ce,De)|0,f=f+Math.imul(ye,pe)|0,v=v+Math.imul(ye,De)|0,x=x+Math.imul(me,j)|0,f=f+Math.imul(me,K)|0,f=f+Math.imul(Se,j)|0,v=v+Math.imul(Se,K)|0,x=x+Math.imul(de,G)|0,f=f+Math.imul(de,Y)|0,f=f+Math.imul(he,G)|0,v=v+Math.imul(he,Y)|0,x=x+Math.imul(se,ee)|0,f=f+Math.imul(se,ie)|0,f=f+Math.imul(Z,ee)|0,v=v+Math.imul(Z,ie)|0;var tt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(Le,Ue),f=Math.imul(Le,Fe),f=f+Math.imul(Pe,Ue)|0,v=Math.imul(Pe,Fe),x=x+Math.imul(Me,ge)|0,f=f+Math.imul(Me,be)|0,f=f+Math.imul(ke,ge)|0,v=v+Math.imul(ke,be)|0,x=x+Math.imul(Ee,Be)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(Ie,Be)|0,v=v+Math.imul(Ie,Oe)|0,x=x+Math.imul(Ne,pe)|0,f=f+Math.imul(Ne,De)|0,f=f+Math.imul(Te,pe)|0,v=v+Math.imul(Te,De)|0,x=x+Math.imul(Ce,j)|0,f=f+Math.imul(Ce,K)|0,f=f+Math.imul(ye,j)|0,v=v+Math.imul(ye,K)|0,x=x+Math.imul(me,G)|0,f=f+Math.imul(me,Y)|0,f=f+Math.imul(Se,G)|0,v=v+Math.imul(Se,Y)|0,x=x+Math.imul(de,ee)|0,f=f+Math.imul(de,ie)|0,f=f+Math.imul(he,ee)|0,v=v+Math.imul(he,ie)|0;var st=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Le,ge),f=Math.imul(Le,be),f=f+Math.imul(Pe,ge)|0,v=Math.imul(Pe,be),x=x+Math.imul(Me,Be)|0,f=f+Math.imul(Me,Oe)|0,f=f+Math.imul(ke,Be)|0,v=v+Math.imul(ke,Oe)|0,x=x+Math.imul(Ee,pe)|0,f=f+Math.imul(Ee,De)|0,f=f+Math.imul(Ie,pe)|0,v=v+Math.imul(Ie,De)|0,x=x+Math.imul(Ne,j)|0,f=f+Math.imul(Ne,K)|0,f=f+Math.imul(Te,j)|0,v=v+Math.imul(Te,K)|0,x=x+Math.imul(Ce,G)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(ye,G)|0,v=v+Math.imul(ye,Y)|0,x=x+Math.imul(me,ee)|0,f=f+Math.imul(me,ie)|0,f=f+Math.imul(Se,ee)|0,v=v+Math.imul(Se,ie)|0;var Xe=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(Le,Be),f=Math.imul(Le,Oe),f=f+Math.imul(Pe,Be)|0,v=Math.imul(Pe,Oe),x=x+Math.imul(Me,pe)|0,f=f+Math.imul(Me,De)|0,f=f+Math.imul(ke,pe)|0,v=v+Math.imul(ke,De)|0,x=x+Math.imul(Ee,j)|0,f=f+Math.imul(Ee,K)|0,f=f+Math.imul(Ie,j)|0,v=v+Math.imul(Ie,K)|0,x=x+Math.imul(Ne,G)|0,f=f+Math.imul(Ne,Y)|0,f=f+Math.imul(Te,G)|0,v=v+Math.imul(Te,Y)|0,x=x+Math.imul(Ce,ee)|0,f=f+Math.imul(Ce,ie)|0,f=f+Math.imul(ye,ee)|0,v=v+Math.imul(ye,ie)|0;var rt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(Le,pe),f=Math.imul(Le,De),f=f+Math.imul(Pe,pe)|0,v=Math.imul(Pe,De),x=x+Math.imul(Me,j)|0,f=f+Math.imul(Me,K)|0,f=f+Math.imul(ke,j)|0,v=v+Math.imul(ke,K)|0,x=x+Math.imul(Ee,G)|0,f=f+Math.imul(Ee,Y)|0,f=f+Math.imul(Ie,G)|0,v=v+Math.imul(Ie,Y)|0,x=x+Math.imul(Ne,ee)|0,f=f+Math.imul(Ne,ie)|0,f=f+Math.imul(Te,ee)|0,v=v+Math.imul(Te,ie)|0;var it=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(it>>>26)|0,it&=67108863,x=Math.imul(Le,j),f=Math.imul(Le,K),f=f+Math.imul(Pe,j)|0,v=Math.imul(Pe,K),x=x+Math.imul(Me,G)|0,f=f+Math.imul(Me,Y)|0,f=f+Math.imul(ke,G)|0,v=v+Math.imul(ke,Y)|0,x=x+Math.imul(Ee,ee)|0,f=f+Math.imul(Ee,ie)|0,f=f+Math.imul(Ie,ee)|0,v=v+Math.imul(Ie,ie)|0;var Ye=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(Le,G),f=Math.imul(Le,Y),f=f+Math.imul(Pe,G)|0,v=Math.imul(Pe,Y),x=x+Math.imul(Me,ee)|0,f=f+Math.imul(Me,ie)|0,f=f+Math.imul(ke,ee)|0,v=v+Math.imul(ke,ie)|0;var ce=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,x=Math.imul(Le,ee),f=Math.imul(Le,ie),f=f+Math.imul(Pe,ee)|0,v=Math.imul(Pe,ie);var fe=(A+x|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,E[0]=ot,E[1]=Ze,E[2]=At,E[3]=Je,E[4]=lt,E[5]=dt,E[6]=gt,E[7]=yt,E[8]=ht,E[9]=mt,E[10]=pt,E[11]=tt,E[12]=st,E[13]=Xe,E[14]=rt,E[15]=it,E[16]=Ye,E[17]=ce,E[18]=fe,A!==0&&(E[19]=A,m.length++),m};Math.imul||(M=T);function k(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var m=0,y=0,w=0;w<u.length-1;w++){var E=y;y=0;for(var A=m&67108863,x=Math.min(w,a.length-1),f=Math.max(0,w-S.length+1);f<=x;f++){var v=w-f,q=S.words[v]|0,U=a.words[f]|0,O=q*U,W=O&67108863;E=E+(O/67108864|0)|0,W=W+A|0,A=W&67108863,E=E+(W>>>26)|0,y+=E>>>26,E&=67108863}u.words[w]=A,m=E,E=y}return m!==0?u.words[w]=m:u.length--,u.strip()}function B(S,a,u){var m=new P;return m.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=M(this,a,u):y<63?m=T(this,a,u):y<1024?m=k(this,a,u):m=B(this,a,u),m};function P(S,a){this.x=S,this.y=a}P.prototype.makeRBT=function(a){for(var u=new Array(a),m=i.prototype._countBits(a)-1,y=0;y<a;y++)u[y]=this.revBin(y,m,a);return u},P.prototype.revBin=function(a,u,m){if(a===0||a===m-1)return a;for(var y=0,w=0;w<u;w++)y|=(a&1)<<u-w-1,a>>=1;return y},P.prototype.permute=function(a,u,m,y,w,E){for(var A=0;A<E;A++)y[A]=u[a[A]],w[A]=m[a[A]]},P.prototype.transform=function(a,u,m,y,w,E){this.permute(E,a,u,m,y,w);for(var A=1;A<w;A<<=1)for(var x=A<<1,f=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),q=0;q<w;q+=x)for(var U=f,O=v,W=0;W<A;W++){var Q=m[q+W],re=y[q+W],Ke=m[q+W+A],se=y[q+W+A],Z=U*Ke-O*se;se=U*se+O*Ke,Ke=Z,m[q+W]=Q+Ke,y[q+W]=re+se,m[q+W+A]=Q-Ke,y[q+W+A]=re-se,W!==x&&(Z=f*U-v*O,O=f*O+v*U,U=Z)}},P.prototype.guessLen13b=function(a,u){var m=Math.max(u,a)|1,y=m&1,w=0;for(m=m/2|0;m;m=m>>>1)w++;return 1<<w+1+y},P.prototype.conjugate=function(a,u,m){if(!(m<=1))for(var y=0;y<m/2;y++){var w=a[y];a[y]=a[m-y-1],a[m-y-1]=w,w=u[y],u[y]=-u[m-y-1],u[m-y-1]=-w}},P.prototype.normalize13b=function(a,u){for(var m=0,y=0;y<u/2;y++){var w=Math.round(a[2*y+1]/u)*8192+Math.round(a[2*y]/u)+m;a[y]=w&67108863,w<67108864?m=0:m=w/67108864|0}return a},P.prototype.convert13b=function(a,u,m,y){for(var w=0,E=0;E<u;E++)w=w+(a[E]|0),m[2*E]=w&8191,w=w>>>13,m[2*E+1]=w&8191,w=w>>>13;for(E=2*u;E<y;++E)m[E]=0;r(w===0),r((w&-8192)===0)},P.prototype.stub=function(a){for(var u=new Array(a),m=0;m<a;m++)u[m]=0;return u},P.prototype.mulp=function(a,u,m){var y=2*this.guessLen13b(a.length,u.length),w=this.makeRBT(y),E=this.stub(y),A=new Array(y),x=new Array(y),f=new Array(y),v=new Array(y),q=new Array(y),U=new Array(y),O=m.words;O.length=y,this.convert13b(a.words,a.length,A,y),this.convert13b(u.words,u.length,v,y),this.transform(A,E,x,f,y,w),this.transform(v,E,q,U,y,w);for(var W=0;W<y;W++){var Q=x[W]*q[W]-f[W]*U[W];f[W]=x[W]*U[W]+f[W]*q[W],x[W]=Q}return this.conjugate(x,f,y),this.transform(x,f,O,E,y,w),this.conjugate(O,E,y),this.normalize13b(O,y),m.negative=a.negative^u.negative,m.length=a.length+u.length,m.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),B(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,m=0;m<this.length;m++){var y=(this.words[m]|0)*a,w=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=w>>>26,this.words[m]=w&67108863}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=_(a);if(u.length===0)return new i(1);for(var m=this,y=0;y<u.length&&u[y]===0;y++,m=m.sqr());if(++y<u.length)for(var w=m.sqr();y<u.length;y++,w=w.sqr())u[y]!==0&&(m=m.mul(w));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=67108863>>>26-u<<26-u,w;if(u!==0){var E=0;for(w=0;w<this.length;w++){var A=this.words[w]&y,x=(this.words[w]|0)-A<<u;this.words[w]=x|E,E=A>>>26-u}E&&(this.words[w]=E,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,m){r(typeof a=="number"&&a>=0);var y;u?y=(u-u%26)/26:y=0;var w=a%26,E=Math.min((a-w)/26,this.length),A=67108863^67108863>>>w<<w,x=m;if(y-=E,y=Math.max(0,y),x){for(var f=0;f<E;f++)x.words[f]=this.words[f];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=y);f--){var q=this.words[f]|0;this.words[f]=v<<26-w|q>>>w,v=q&A}return x&&v!==0&&(x.words[x.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,m){return r(this.negative===0),this.iushrn(a,u,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return!1;var w=this.words[m];return!!(w&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,m){var y=a.length+m,w;this._expand(y);var E,A=0;for(w=0;w<a.length;w++){E=(this.words[w+m]|0)+A;var x=(a.words[w]|0)*u;E-=x&67108863,A=(E>>26)-(x/67108864|0),this.words[w+m]=E&67108863}for(;w<this.length-m;w++)E=(this.words[w+m]|0)+A,A=E>>26,this.words[w+m]=E&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+A,A=E>>26,this.words[w]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var m=this.length-a.length,y=this.clone(),w=a,E=w.words[w.length-1]|0,A=this._countBits(E);m=26-A,m!==0&&(w=w.ushln(m),y.iushln(m),E=w.words[w.length-1]|0);var x=y.length-w.length,f;if(u!=="mod"){f=new i(null),f.length=x+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var q=y.clone()._ishlnsubmul(w,1,x);q.negative===0&&(y=q,f&&(f.words[x]=1));for(var U=x-1;U>=0;U--){var O=(y.words[w.length+U]|0)*67108864+(y.words[w.length+U-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,U),y.isZero()||(y.negative^=1);f&&(f.words[U]=O)}return f&&f.strip(),y.strip(),u!=="div"&&m!==0&&y.iushrn(m),{div:f||null,mod:y}},i.prototype.divmod=function(a,u,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,w,E;return this.negative!==0&&a.negative===0?(E=this.neg().divmod(a,u),u!=="mod"&&(y=E.div.neg()),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.iadd(a)),{div:y,mod:w}):this.negative===0&&a.negative!==0?(E=this.divmod(a.neg(),u),u!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):this.negative&a.negative?(E=this.neg().divmod(a.neg(),u),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.isub(a)),{div:E.div,mod:w}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(a):u.mod,y=a.ushrn(1),w=a.andln(1),E=m.cmp(y);return E<0||w===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,m=0,y=this.length-1;y>=0;y--)m=(u*m+(this.words[y]|0))%a;return m},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,m=this.length-1;m>=0;m--){var y=(this.words[m]|0)+u*67108864;this.words[m]=y/a|0,u=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=new i(0),A=new i(1),x=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++x;for(var f=m.clone(),v=u.clone();!u.isZero();){for(var q=0,U=1;!(u.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(u.iushrn(q);q-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(f),w.isub(v)),y.iushrn(1),w.iushrn(1);for(var O=0,W=1;!(m.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(m.iushrn(O);O-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(f),A.isub(v)),E.iushrn(1),A.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(E),w.isub(A)):(m.isub(u),E.isub(y),A.isub(w))}return{a:E,b:A,gcd:m.iushln(x)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,x=1;!(u.words[0]&x)&&A<26;++A,x<<=1);if(A>0)for(u.iushrn(A);A-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var f=0,v=1;!(m.words[0]&v)&&f<26;++f,v<<=1);if(f>0)for(m.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(w)):(m.isub(u),w.isub(y))}var q;return u.cmpn(1)===0?q=y:q=w,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),m=a.clone();u.negative=0,m.negative=0;for(var y=0;u.isEven()&&m.isEven();y++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=u.cmp(m);if(w<0){var E=u;u=m,m=E}else if(w===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var w=y,E=m;w!==0&&E<this.length;E++){var A=this.words[E]|0;A+=w,w=A>>>26,A&=67108863,this.words[E]=A}return w!==0&&(this.words[E]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var m;if(this.length>1)m=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,w=a.words[m]|0;if(y!==w){y<w?u=-1:y>w&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new $(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function R(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},R.prototype.ireduce=function(a){var u=a,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var y=m<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(a,u){a.iushrn(this.n,0,u)},R.prototype.imulK=function(a){return a.imul(this.k)};function L(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,R),L.prototype.split=function(a,u){for(var m=4194303,y=Math.min(a.length,9),w=0;w<y;w++)u.words[w]=a.words[w];if(u.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var E=a.words[9];for(u.words[u.length++]=E&m,w=10;w<a.length;w++){var A=a.words[w]|0;a.words[w-10]=(A&m)<<4|E>>>22,E=A}E>>>=22,a.words[w-10]=E,E===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,m=0;m<a.length;m++){var y=a.words[m]|0;u+=y*977,a.words[m]=u&67108863,u=y*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,R);function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(z,R);function oe(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(oe,R),oe.prototype.imulK=function(a){for(var u=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+u,w=y&67108863;y>>>=26,a.words[m]=w,u=y}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new L;else if(a==="p224")u=new V;else if(a==="p192")u=new z;else if(a==="p25519")u=new oe;else throw new Error("Unknown prime "+a);return D[a]=u,u};function $(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},$.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},$.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},$.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},$.prototype.add=function(a,u){this._verify2(a,u);var m=a.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(a,u){this._verify2(a,u);var m=a.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(a,u){this._verify2(a,u);var m=a.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(a,u){this._verify2(a,u);var m=a.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},$.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},$.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},$.prototype.isqr=function(a){return this.imul(a,a.clone())},$.prototype.sqr=function(a){return this.mul(a,a)},$.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var E=new i(1).toRed(this),A=E.redNeg(),x=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,x).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,y),q=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=w;U.cmp(E)!==0;){for(var W=U,Q=0;W.cmp(E)!==0;Q++)W=W.redSqr();r(Q<O);var re=this.pow(v,new i(1).iushln(O-Q-1));q=q.redMul(re),v=re.redSqr(),U=U.redMul(v),O=Q}return q},$.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},$.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new i(1).toRed(this),y[1]=a;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],a);var E=y[0],A=0,x=0,f=u.bitLength()%26;for(f===0&&(f=26),w=u.length-1;w>=0;w--){for(var v=u.words[w],q=f-1;q>=0;q--){var U=v>>q&1;if(E!==y[0]&&(E=this.sqr(E)),U===0&&A===0){x=0;continue}A<<=1,A|=U,x++,!(x!==m&&(w!==0||q!==0))&&(E=this.mul(E,y[A]),x=0,A=0)}f=26}return E},$.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},$.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new ne(a)};function ne(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,$),ne.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ne.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var m=a.mul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof BR>"u"||BR,sQ)});var v_=F((kbt,OR)=>{h();p();var CR;OR.exports=function(e){return CR||(CR=new Jd(null)),CR.generate(e)};function Jd(t){this.rand=t}OR.exports.Rand=Jd;Jd.prototype.generate=function(e){return this._rand(e)};Jd.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Jd.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Jd.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof self=="object"&&(Jd.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(NR=Dp(),typeof NR.randomBytes!="function")throw new Error("Not supported");Jd.prototype._rand=function(e){return NR.randomBytes(e)}}catch{}var NR});var DR=F((Bbt,cQ)=>{h();p();var Lp=aQ(),h5e=v_();function Up(t){this.rand=t||new h5e.Rand}cQ.exports=Up;Up.create=function(e){return new Up(e)};Up.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Lp(this.rand.generate(n));while(i.cmp(e)>=0);return i};Up.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Up.prototype.test=function(e,r,n){var i=e.bitLength(),o=Lp.mont(e),s=new Lp(1).toRed(o);r||(r=Math.max(1,i/48|0));for(var c=e.subn(1),l=0;!c.testn(l);l++);for(var d=e.shrn(l),g=c.toRed(o),b=!0;r>0;r--){var _=this._randrange(new Lp(2),c);n&&n(_);var T=_.toRed(o).redPow(d);if(!(T.cmp(s)===0||T.cmp(g)===0)){for(var M=1;M<l;M++){if(T=T.redSqr(),T.cmp(s)===0)return!1;if(T.cmp(g)===0)break}if(M===l)return!1}}return b};Up.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=Lp.mont(e),o=new Lp(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),d=s.toRed(i);r>0;r--){var g=this._randrange(new Lp(2),s),b=e.gcd(g);if(b.cmpn(1)!==0)return b;var _=g.toRed(i).redPow(l);if(!(_.cmp(o)===0||_.cmp(d)===0)){for(var T=1;T<c;T++){if(_=_.redSqr(),_.cmp(o)===0)return _.fromRed().subn(1).gcd(e);if(_.cmp(d)===0)break}if(T===c)return _=_.redSqr(),_.fromRed().subn(1).gcd(e)}}return!1}});var KR=F((Fbt,lQ)=>{h();p();var p5e=wp();lQ.exports=HR;HR.simpleSieve=FR;HR.fermatTest=qR;var So=RR(),m5e=new So(24),y5e=DR(),fQ=new y5e,g5e=new So(1),UR=new So(2),b5e=new So(5),Obt=new So(16),Dbt=new So(8),v5e=new So(10),x5e=new So(3),Lbt=new So(7),w5e=new So(11),uQ=new So(4),Ubt=new So(12),LR=null;function S5e(){if(LR!==null)return LR;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),o=0;o<r&&e[o]<=i&&n%e[o]!==0;o++);r!==o&&e[o]<=i||(e[r++]=n)}return LR=e,e}function FR(t){for(var e=S5e(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function qR(t){var e=So.mont(t);return UR.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function HR(t,e){if(t<16)return e===2||e===5?new So([140,123]):new So([140,39]);e=new So(e);for(var r,n;;){for(r=new So(p5e(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(g5e),r.testn(1)||r.iadd(UR),e.cmp(UR)){if(!e.cmp(b5e))for(;r.mod(v5e).cmp(x5e);)r.iadd(uQ)}else for(;r.mod(m5e).cmp(w5e);)r.iadd(uQ);if(n=r.shrn(1),FR(n)&&FR(r)&&qR(n)&&qR(r)&&fQ.test(n)&&fQ.test(r))return r}}});var dQ=F((Kbt,E5e)=>{E5e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var yQ=F((Vbt,mQ)=>{h();p();var uc=RR(),_5e=DR(),hQ=new _5e,A5e=new uc(24),T5e=new uc(11),I5e=new uc(10),M5e=new uc(3),k5e=new uc(7),pQ=KR(),P5e=wp();mQ.exports=Il;function R5e(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new uc(t),this}function B5e(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new uc(t),this}var x_={};function C5e(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in x_)return x_[n];var i=0;if(t.isEven()||!pQ.simpleSieve||!pQ.fermatTest(t)||!hQ.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,x_[n]=i,i;hQ.test(t.shrn(1))||(i+=2);var o;switch(r){case"02":t.mod(A5e).cmp(T5e)&&(i+=8);break;case"05":o=t.mod(I5e),o.cmp(M5e)&&o.cmp(k5e)&&(i+=8);break;default:i+=4}return x_[n]=i,i}function Il(t,e,r){this.setGenerator(e),this.__prime=new uc(t),this._prime=uc.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=R5e,this.setPrivateKey=B5e):this._primeCode=8}Object.defineProperty(Il.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=C5e(this.__prime,this.__gen)),this._primeCode}});Il.prototype.generateKeys=function(){return this._priv||(this._priv=new uc(P5e(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Il.prototype.computeSecret=function(t){t=new uc(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};Il.prototype.getPublicKey=function(e){return w_(this._pub,e)};Il.prototype.getPrivateKey=function(e){return w_(this._priv,e)};Il.prototype.getPrime=function(t){return w_(this.__prime,t)};Il.prototype.getGenerator=function(t){return w_(this._gen,t)};Il.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new uc(t),this};function w_(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}});var vQ=F(Eg=>{h();p();var N5e=KR(),gQ=dQ(),VR=yQ();function O5e(t){var e=new Buffer(gQ[t].prime,"hex"),r=new Buffer(gQ[t].gen,"hex");return new VR(e,r)}var D5e={binary:!0,hex:!0,base64:!0};function bQ(t,e,r,n){return Buffer.isBuffer(e)||D5e[e]===void 0?bQ(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new VR(N5e(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new VR(t,r,!0)))}Eg.DiffieHellmanGroup=Eg.createDiffieHellmanGroup=Eg.getDiffieHellman=O5e;Eg.createDiffieHellman=Eg.DiffieHellman=bQ});var jR=F((Ybt,xQ)=>{h();p();xQ.exports=Ex().EventEmitter});var TQ=F((Xbt,AQ)=>{"use strict";h();p();function wQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wQ(Object(r),!0).forEach(function(n){L5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L5e(t,e,r){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_Q(n.key),n)}}function F5e(t,e,r){return e&&EQ(t.prototype,e),r&&EQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Q(t){var e=q5e(t,"string");return typeof e=="symbol"?e:String(e)}function q5e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H5e=_i(),S_=H5e.Buffer,K5e=Bx(),zR=K5e.inspect,V5e=zR&&zR.custom||"inspect";function j5e(t,e,r){S_.prototype.copy.call(t,e,r)}AQ.exports=function(){function t(){U5e(this,t),this.head=null,this.tail=null,this.length=0}return F5e(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return S_.alloc(0);for(var n=S_.allocUnsafe(r>>>0),i=this.head,o=0;i;)j5e(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,c=r>s.length?s.length:r;if(c===s.length?o+=s:o+=s.slice(0,r),r-=c,r===0){c===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(c));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=S_.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,c=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,c),r-=c,r===0){c===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(c));break}++o}return this.length-=o,n}},{key:V5e,value:function(r,n){return zR(this,SQ(SQ({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var WR=F((tvt,MQ)=>{"use strict";h();p();function z5e(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(GR,this,t)):process.nextTick(GR,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(E_,r):(r._writableState.errorEmitted=!0,process.nextTick(IQ,r,o)):process.nextTick(IQ,r,o):e?(process.nextTick(E_,r),e(o)):process.nextTick(E_,r)}),this)}function IQ(t,e){GR(t,e),E_(t)}function E_(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function G5e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function GR(t,e){t.emit("error",e)}function W5e(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}MQ.exports={destroy:z5e,undestroy:G5e,errorOrDestroy:W5e}});var Fp=F((ivt,RQ)=>{"use strict";h();p();function $5e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var PQ={};function lc(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){$5e(s,o);function s(c,l,d){return o.call(this,n(c,l,d))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,PQ[t]=i}function kQ(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Y5e(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Z5e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Q5e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}lc("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);lc("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Y5e(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Z5e(t," argument"))i="The ".concat(t," ").concat(n," ").concat(kQ(e,"type"));else{var o=Q5e(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(kQ(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);lc("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");lc("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});lc("ERR_STREAM_PREMATURE_CLOSE","Premature close");lc("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});lc("ERR_MULTIPLE_CALLBACK","Callback called multiple times");lc("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");lc("ERR_STREAM_WRITE_AFTER_END","write after end");lc("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);lc("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);lc("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");RQ.exports.codes=PQ});var $R=F((avt,BQ)=>{"use strict";h();p();var X5e=Fp().codes.ERR_INVALID_OPT_VALUE;function J5e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function eTe(t,e,r,n){var i=J5e(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new X5e(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}BQ.exports={getHighWaterMark:eTe}});var QR=F((uvt,UQ)=>{"use strict";h();p();UQ.exports=oi;function NQ(t){var e=this;this.next=null,this.entry=null,this.finish=function(){ITe(e,t)}}var _g;oi.WritableState=cw;var tTe={deprecate:MP()},OQ=jR(),A_=_i().Buffer,rTe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function nTe(t){return A_.from(t)}function iTe(t){return A_.isBuffer(t)||t instanceof rTe}var ZR=WR(),oTe=$R(),sTe=oTe.getHighWaterMark,eh=Fp().codes,aTe=eh.ERR_INVALID_ARG_TYPE,cTe=eh.ERR_METHOD_NOT_IMPLEMENTED,fTe=eh.ERR_MULTIPLE_CALLBACK,uTe=eh.ERR_STREAM_CANNOT_PIPE,lTe=eh.ERR_STREAM_DESTROYED,dTe=eh.ERR_STREAM_NULL_VALUES,hTe=eh.ERR_STREAM_WRITE_AFTER_END,pTe=eh.ERR_UNKNOWN_ENCODING,Ag=ZR.errorOrDestroy;qt()(oi,OQ);function mTe(){}function cw(t,e,r){_g=_g||qp(),t=t||{},typeof r!="boolean"&&(r=e instanceof _g),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=sTe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){STe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new NQ(this)}cw.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(cw.prototype,"buffer",{get:tTe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var __;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(__=Function.prototype[Symbol.hasInstance],Object.defineProperty(oi,Symbol.hasInstance,{value:function(e){return __.call(this,e)?!0:this!==oi?!1:e&&e._writableState instanceof cw}})):__=function(e){return e instanceof this};function oi(t){_g=_g||qp();var e=this instanceof _g;if(!e&&!__.call(oi,this))return new oi(t);this._writableState=new cw(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),OQ.call(this)}oi.prototype.pipe=function(){Ag(this,new uTe)};function yTe(t,e){var r=new hTe;Ag(t,r),process.nextTick(e,r)}function gTe(t,e,r,n){var i;return r===null?i=new dTe:typeof r!="string"&&!e.objectMode&&(i=new aTe("chunk",["string","Buffer"],r)),i?(Ag(t,i),process.nextTick(n,i),!1):!0}oi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&iTe(t);return o&&!A_.isBuffer(t)&&(t=nTe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=mTe),n.ending?yTe(this,r):(o||gTe(this,n,t,r))&&(n.pendingcb++,i=vTe(this,n,o,t,e,r)),i};oi.prototype.cork=function(){this._writableState.corked++};oi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&DQ(this,t))};oi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new pTe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(oi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function bTe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=A_.from(e,r)),e}Object.defineProperty(oi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function vTe(t,e,r,n,i,o){if(!r){var s=bTe(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else YR(t,e,!1,c,n,i,o);return l}function YR(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new lTe("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function xTe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(aw,t,e),t._writableState.errorEmitted=!0,Ag(t,n)):(i(n),t._writableState.errorEmitted=!0,Ag(t,n),aw(t,e))}function wTe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function STe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new fTe;if(wTe(r),e)xTe(t,r,n,e,i);else{var o=LQ(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&DQ(t,r),n?process.nextTick(CQ,t,r,o,i):CQ(t,r,o,i)}}function CQ(t,e,r,n){r||ETe(t,e),e.pendingcb--,n(),aw(t,e)}function ETe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function DQ(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,YR(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new NQ(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,d=r.encoding,g=r.callback,b=e.objectMode?1:l.length;if(YR(t,e,!1,b,l,d,g),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}oi.prototype._write=function(t,e,r){r(new cTe("_write()"))};oi.prototype._writev=null;oi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||TTe(this,n,r),this};Object.defineProperty(oi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function LQ(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function _Te(t,e){t._final(function(r){e.pendingcb--,r&&Ag(t,r),e.prefinished=!0,t.emit("prefinish"),aw(t,e)})}function ATe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(_Te,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function aw(t,e){var r=LQ(e);if(r&&(ATe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function TTe(t,e,r){e.ending=!0,aw(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function ITe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(oi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});oi.prototype.destroy=ZR.destroy;oi.prototype._undestroy=ZR.undestroy;oi.prototype._destroy=function(t,e){e(t)}});var qp=F((hvt,qQ)=>{"use strict";h();p();var MTe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};qQ.exports=du;var FQ=eB(),JR=QR();qt()(du,FQ);for(XR=MTe(JR.prototype),T_=0;T_<XR.length;T_++)I_=XR[T_],du.prototype[I_]||(du.prototype[I_]=JR.prototype[I_]);var XR,I_,T_;function du(t){if(!(this instanceof du))return new du(t);FQ.call(this,t),JR.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",kTe)))}Object.defineProperty(du.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(du.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(du.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function kTe(){this._writableState.ended||process.nextTick(PTe,this)}function PTe(t){t.end()}Object.defineProperty(du.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var M_=F((yvt,VQ)=>{"use strict";h();p();var HQ=Fp().codes.ERR_STREAM_PREMATURE_CLOSE;function RTe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function BTe(){}function CTe(t){return t.setHeader&&typeof t.abort=="function"}function KQ(t,e,r){if(typeof e=="function")return KQ(t,null,e);e||(e={}),r=RTe(r||BTe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||c()},s=t._writableState&&t._writableState.finished,c=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,l=!0,i||r.call(t)},g=function(M){r.call(t,M)},b=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new HQ),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new HQ),r.call(t,M)},_=function(){t.req.on("finish",c)};return CTe(t)?(t.on("complete",c),t.on("abort",b),t.req?_():t.on("request",_)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",c),e.error!==!1&&t.on("error",g),t.on("close",b),function(){t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",_),t.req&&t.req.removeListener("finish",c),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",g),t.removeListener("close",b)}}VQ.exports=KQ});var zQ=F((vvt,jQ)=>{"use strict";h();p();var k_;function th(t,e,r){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NTe(t){var e=OTe(t,"string");return typeof e=="symbol"?e:String(e)}function OTe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DTe=M_(),rh=Symbol("lastResolve"),Hp=Symbol("lastReject"),fw=Symbol("error"),P_=Symbol("ended"),Kp=Symbol("lastPromise"),tB=Symbol("handlePromise"),Vp=Symbol("stream");function nh(t,e){return{value:t,done:e}}function LTe(t){var e=t[rh];if(e!==null){var r=t[Vp].read();r!==null&&(t[Kp]=null,t[rh]=null,t[Hp]=null,e(nh(r,!1)))}}function UTe(t){process.nextTick(LTe,t)}function FTe(t,e){return function(r,n){t.then(function(){if(e[P_]){r(nh(void 0,!0));return}e[tB](r,n)},n)}}var qTe=Object.getPrototypeOf(function(){}),HTe=Object.setPrototypeOf((k_={get stream(){return this[Vp]},next:function(){var e=this,r=this[fw];if(r!==null)return Promise.reject(r);if(this[P_])return Promise.resolve(nh(void 0,!0));if(this[Vp].destroyed)return new Promise(function(s,c){process.nextTick(function(){e[fw]?c(e[fw]):s(nh(void 0,!0))})});var n=this[Kp],i;if(n)i=new Promise(FTe(n,this));else{var o=this[Vp].read();if(o!==null)return Promise.resolve(nh(o,!1));i=new Promise(this[tB])}return this[Kp]=i,i}},th(k_,Symbol.asyncIterator,function(){return this}),th(k_,"return",function(){var e=this;return new Promise(function(r,n){e[Vp].destroy(null,function(i){if(i){n(i);return}r(nh(void 0,!0))})})}),k_),qTe),KTe=function(e){var r,n=Object.create(HTe,(r={},th(r,Vp,{value:e,writable:!0}),th(r,rh,{value:null,writable:!0}),th(r,Hp,{value:null,writable:!0}),th(r,fw,{value:null,writable:!0}),th(r,P_,{value:e._readableState.endEmitted,writable:!0}),th(r,tB,{value:function(o,s){var c=n[Vp].read();c?(n[Kp]=null,n[rh]=null,n[Hp]=null,o(nh(c,!1))):(n[rh]=o,n[Hp]=s)},writable:!0}),r));return n[Kp]=null,DTe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Hp];o!==null&&(n[Kp]=null,n[rh]=null,n[Hp]=null,o(i)),n[fw]=i;return}var s=n[rh];s!==null&&(n[Kp]=null,n[rh]=null,n[Hp]=null,s(nh(void 0,!0))),n[P_]=!0}),e.on("readable",UTe.bind(null,n)),n};jQ.exports=KTe});var WQ=F((Svt,GQ)=>{h();p();GQ.exports=function(){throw new Error("Readable.from is not available in the browser")}});var eB=F((Tvt,nX)=>{"use strict";h();p();nX.exports=Br;var Tg;Br.ReadableState=QQ;var Avt=Ex().EventEmitter,ZQ=function(e,r){return e.listeners(r).length},lw=jR(),R_=_i().Buffer,VTe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function jTe(t){return R_.from(t)}function zTe(t){return R_.isBuffer(t)||t instanceof VTe}var rB=Bx(),cr;rB&&rB.debuglog?cr=rB.debuglog("stream"):cr=function(){};var GTe=TQ(),fB=WR(),WTe=$R(),$Te=WTe.getHighWaterMark,B_=Fp().codes,YTe=B_.ERR_INVALID_ARG_TYPE,ZTe=B_.ERR_STREAM_PUSH_AFTER_EOF,QTe=B_.ERR_METHOD_NOT_IMPLEMENTED,XTe=B_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ig,nB,iB;qt()(Br,lw);var uw=fB.errorOrDestroy,oB=["error","close","destroy","pause","resume"];function JTe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function QQ(t,e,r){Tg=Tg||qp(),t=t||{},typeof r!="boolean"&&(r=e instanceof Tg),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=$Te(this,t,"readableHighWaterMark",r),this.buffer=new GTe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ig||(Ig=mg().StringDecoder),this.decoder=new Ig(t.encoding),this.encoding=t.encoding)}function Br(t){if(Tg=Tg||qp(),!(this instanceof Br))return new Br(t);var e=this instanceof Tg;this._readableState=new QQ(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),lw.call(this)}Object.defineProperty(Br.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Br.prototype.destroy=fB.destroy;Br.prototype._undestroy=fB.undestroy;Br.prototype._destroy=function(t,e){e(t)};Br.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=R_.from(t,e),e=""),n=!0),XQ(this,t,e,!1,n)};Br.prototype.unshift=function(t){return XQ(this,t,null,!0,!1)};function XQ(t,e,r,n,i){cr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,rIe(t,o);else{var s;if(i||(s=eIe(o,e)),s)uw(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==R_.prototype&&(e=jTe(e)),n)o.endEmitted?uw(t,new XTe):sB(t,o,e,!0);else if(o.ended)uw(t,new ZTe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?sB(t,o,e,!1):cB(t,o)):sB(t,o,e,!1)}else n||(o.reading=!1,cB(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function sB(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&C_(t)),cB(t,e)}function eIe(t,e){var r;return!zTe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new YTe("chunk",["string","Buffer","Uint8Array"],e)),r}Br.prototype.isPaused=function(){return this._readableState.flowing===!1};Br.prototype.setEncoding=function(t){Ig||(Ig=mg().StringDecoder);var e=new Ig(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var $Q=1073741824;function tIe(t){return t>=$Q?t=$Q:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function YQ(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=tIe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Br.prototype.read=function(t){cr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return cr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?aB(this):C_(this),null;if(t=YQ(t,e),t===0&&e.ended)return e.length===0&&aB(this),null;var n=e.needReadable;cr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,cr("length less than watermark",n)),e.ended||e.reading?(n=!1,cr("reading or ended",n)):n&&(cr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=YQ(r,e)));var i;return t>0?i=tX(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&aB(this)),i!==null&&this.emit("data",i),i};function rIe(t,e){if(cr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?C_(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,JQ(t)))}}function C_(t){var e=t._readableState;cr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(cr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(JQ,t))}function JQ(t){var e=t._readableState;cr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,uB(t)}function cB(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(nIe,t,e))}function nIe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(cr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Br.prototype._read=function(t){uw(this,new QTe("_read()"))};Br.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,cr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?c:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(B,P){cr("onunpipe"),B===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,g())}function c(){cr("onend"),t.end()}var l=iIe(r);t.on("drain",l);var d=!1;function g(){cr("cleanup"),t.removeListener("close",T),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",_),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",k),r.removeListener("data",b),d=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",b);function b(B){cr("ondata");var P=t.write(B);cr("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&rX(n.pipes,t)!==-1)&&!d&&(cr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function _(B){cr("onerror",B),k(),t.removeListener("error",_),ZQ(t,"error")===0&&uw(t,B)}JTe(t,"error",_);function T(){t.removeListener("finish",M),k()}t.once("close",T);function M(){cr("onfinish"),t.removeListener("close",T),k()}t.once("finish",M);function k(){cr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(cr("pipe resume"),r.resume()),t};function iIe(t){return function(){var r=t._readableState;cr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&ZQ(t,"data")&&(r.flowing=!0,uB(t))}}Br.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=rX(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Br.prototype.on=function(t,e){var r=lw.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,cr("on readable",n.length,n.reading),n.length?C_(this):n.reading||process.nextTick(oIe,this)),r};Br.prototype.addListener=Br.prototype.on;Br.prototype.removeListener=function(t,e){var r=lw.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(eX,this),r};Br.prototype.removeAllListeners=function(t){var e=lw.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(eX,this),e};function eX(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function oIe(t){cr("readable nexttick read 0"),t.read(0)}Br.prototype.resume=function(){var t=this._readableState;return t.flowing||(cr("resume"),t.flowing=!t.readableListening,sIe(this,t)),t.paused=!1,this};function sIe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(aIe,t,e))}function aIe(t,e){cr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),uB(t),e.flowing&&!e.reading&&t.read(0)}Br.prototype.pause=function(){return cr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(cr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function uB(t){var e=t._readableState;for(cr("flow",e.flowing);e.flowing&&t.read()!==null;);}Br.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(cr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(cr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var c=e.push(s);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(c){return function(){return t[c].apply(t,arguments)}}(i));for(var o=0;o<oB.length;o++)t.on(oB[o],this.emit.bind(this,oB[o]));return this._read=function(s){cr("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Br.prototype[Symbol.asyncIterator]=function(){return nB===void 0&&(nB=zQ()),nB(this)});Object.defineProperty(Br.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Br.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Br.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Br._fromList=tX;Object.defineProperty(Br.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function tX(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function aB(t){var e=t._readableState;cr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(cIe,e,t))}function cIe(t,e){if(cr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Br.from=function(t,e){return iB===void 0&&(iB=WQ()),iB(Br,t,e)});function rX(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var lB=F((kvt,oX)=>{"use strict";h();p();oX.exports=Ml;var N_=Fp().codes,fIe=N_.ERR_METHOD_NOT_IMPLEMENTED,uIe=N_.ERR_MULTIPLE_CALLBACK,lIe=N_.ERR_TRANSFORM_ALREADY_TRANSFORMING,dIe=N_.ERR_TRANSFORM_WITH_LENGTH_0,O_=qp();qt()(Ml,O_);function hIe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new uIe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ml(t){if(!(this instanceof Ml))return new Ml(t);O_.call(this,t),this._transformState={afterTransform:hIe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",pIe)}function pIe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){iX(t,e,r)}):iX(this,null,null)}Ml.prototype.push=function(t,e){return this._transformState.needTransform=!1,O_.prototype.push.call(this,t,e)};Ml.prototype._transform=function(t,e,r){r(new fIe("_transform()"))};Ml.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ml.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ml.prototype._destroy=function(t,e){O_.prototype._destroy.call(this,t,function(r){e(r)})};function iX(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new dIe;if(t._transformState.transforming)throw new lIe;return t.push(null)}});var cX=F((Bvt,aX)=>{"use strict";h();p();aX.exports=dw;var sX=lB();qt()(dw,sX);function dw(t){if(!(this instanceof dw))return new dw(t);sX.call(this,t)}dw.prototype._transform=function(t,e,r){r(null,t)}});var hX=F((Ovt,dX)=>{"use strict";h();p();var dB;function mIe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var lX=Fp().codes,yIe=lX.ERR_MISSING_ARGS,gIe=lX.ERR_STREAM_DESTROYED;function fX(t){if(t)throw t}function bIe(t){return t.setHeader&&typeof t.abort=="function"}function vIe(t,e,r,n){n=mIe(n);var i=!1;t.on("close",function(){i=!0}),dB===void 0&&(dB=M_()),dB(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,bIe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new gIe("pipe"))}}}function uX(t){t()}function xIe(t,e){return t.pipe(e)}function wIe(t){return!t.length||typeof t[t.length-1]!="function"?fX:t.pop()}function SIe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=wIe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new yIe("streams");var i,o=e.map(function(s,c){var l=c<e.length-1,d=c>0;return vIe(s,l,d,function(g){i||(i=g),g&&o.forEach(uX),!l&&(o.forEach(uX),n(i))})});return e.reduce(xIe)}dX.exports=SIe});var mX=F((dc,pX)=>{h();p();dc=pX.exports=eB();dc.Stream=dc;dc.Readable=dc;dc.Writable=QR();dc.Duplex=qp();dc.Transform=lB();dc.PassThrough=cX();dc.finished=M_();dc.pipeline=hX()});var D_=F((qvt,bX)=>{h();p();var Mg=Xy(),EIe=wp();function _Ie(t){var e=yX(t),r=e.toRed(Mg.mont(t.modulus)).redPow(new Mg(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function yX(t){var e=t.modulus.byteLength(),r;do r=new Mg(EIe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function gX(t,e){var r=_Ie(e),n=e.modulus.byteLength(),i=new Mg(t).mul(r.blinder).umod(e.modulus),o=i.toRed(Mg.mont(e.prime1)),s=i.toRed(Mg.mont(e.prime2)),c=e.coefficient,l=e.prime1,d=e.prime2,g=o.redPow(e.exponent1).fromRed(),b=s.redPow(e.exponent2).fromRed(),_=g.isub(b).imul(c).umod(l).imul(d);return b.iadd(_).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}gX.getr=yX;bX.exports=gX});var vX=F((Vvt,AIe)=>{AIe.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var hu=F((xX,hB)=>{h();p();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Qy().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,m){if(typeof a=="number")return this._initNumber(a,u,m);if(typeof a=="object")return this._initArray(a,u,m);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(u===16?this._parseHex(a,y,m):(this._parseBase(a,u,y),m==="le"&&this._initArray(this.toArray(),u,m)))},i.prototype._initNumber=function(a,u,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},i.prototype._initArray=function(a,u,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,A=0;if(m==="be")for(y=a.length-1,w=0;y>=0;y-=3)E=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(m==="le")for(y=0,w=0;y<a.length;y+=3)E=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function s(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var m=s(S,u);return u-1>=a&&(m|=s(S,u-1)<<4),m}i.prototype._parseHex=function(a,u,m){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,A;if(m==="be")for(y=a.length-1;y>=u;y-=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8;else{var x=a.length-u;for(y=x%2===0?u+1:u;y<a.length;y+=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8}this.strip()};function l(S,a,u,m){for(var y=0,w=Math.min(S.length,u),E=a;E<w;E++){var A=S.charCodeAt(E)-48;y*=m,A>=49?y+=A-49+10:A>=17?y+=A-17+10:y+=A}return y}i.prototype._parseBase=function(a,u,m){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=u)y++;y--,w=w/u|0;for(var E=a.length-m,A=E%y,x=Math.min(E,E-A)+m,f=0,v=m;v<x;v+=y)f=l(a,v,v+y,u),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var q=1;for(f=l(a,v,a.length,u),v=0;v<A;v++)q*=u;this.imuln(q),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,w=0,E=0;E<this.length;E++){var A=this.words[E],x=((A<<y|w)&16777215).toString(16);w=A>>>24-y&16777215,w!==0||E!==this.length-1?m=d[6-x.length]+x+m:m=x+m,y+=2,y>=26&&(y-=26,E--)}for(w!==0&&(m=w.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var f=g[a],v=b[a];m="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modn(v).toString(a);q=q.idivn(v),q.isZero()?m=U+m:m=d[f-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,m){var y=this.byteLength(),w=m||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var E=u==="le",A=new a(w),x,f,v=this.clone();if(E){for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[f]=x;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-y;f++)A[f]=0;for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[w-f-1]=x}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,m=0;return u&8191||(m+=13,u>>>=13),u&127||(m+=7,u>>>=7),u&15||(m+=4,u>>>=4),u&3||(m+=2,u>>>=2),u&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function _(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var m=u/26|0,y=u%26;a[u]=(S.words[m]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,m;this.length>a.length?(u=this,m=a):(u=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=u.words[y]^m.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,m=a%26;this._expand(u),m>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var w=0,E=0;E<y.length;E++)u=(m.words[E]|0)+(y.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;for(;w!==0&&E<m.length;E++)u=(m.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;m>0?(y=this,w=a):(y=a,w=this);for(var E=0,A=0;A<w.length;A++)u=(y.words[A]|0)-(w.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;for(;E!==0&&A<y.length;A++)u=(y.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;if(E===0&&A<y.length&&y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=Math.max(this.length,A),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function T(S,a,u){u.negative=a.negative^S.negative;var m=S.length+a.length|0;u.length=m,m=m-1|0;var y=S.words[0]|0,w=a.words[0]|0,E=y*w,A=E&67108863,x=E/67108864|0;u.words[0]=A;for(var f=1;f<m;f++){for(var v=x>>>26,q=x&67108863,U=Math.min(f,a.length-1),O=Math.max(0,f-S.length+1);O<=U;O++){var W=f-O|0;y=S.words[W]|0,w=a.words[O]|0,E=y*w+q,v+=E/67108864|0,q=E&67108863}u.words[f]=q|0,x=v|0}return x!==0?u.words[f]=x|0:u.length--,u.strip()}var M=function(a,u,m){var y=a.words,w=u.words,E=m.words,A=0,x,f,v,q=y[0]|0,U=q&8191,O=q>>>13,W=y[1]|0,Q=W&8191,re=W>>>13,Ke=y[2]|0,se=Ke&8191,Z=Ke>>>13,ct=y[3]|0,de=ct&8191,he=ct>>>13,ur=y[4]|0,me=ur&8191,Se=ur>>>13,qn=y[5]|0,Ce=qn&8191,ye=qn>>>13,Jn=y[6]|0,Ne=Jn&8191,Te=Jn>>>13,di=y[7]|0,Ee=di&8191,Ie=di>>>13,ei=y[8]|0,Me=ei&8191,ke=ei>>>13,Si=y[9]|0,Le=Si&8191,Pe=Si>>>13,hi=w[0]|0,_e=hi&8191,ve=hi>>>13,kn=w[1]|0,xe=kn&8191,Ae=kn>>>13,Hn=w[2]|0,we=Hn&8191,Re=Hn>>>13,Ei=w[3]|0,Ue=Ei&8191,Fe=Ei>>>13,un=w[4]|0,ge=un&8191,be=un>>>13,pi=w[5]|0,Be=pi&8191,Oe=pi>>>13,Di=w[6]|0,pe=Di&8191,De=Di>>>13,H=w[7]|0,j=H&8191,K=H>>>13,N=w[8]|0,G=N&8191,Y=N>>>13,ae=w[9]|0,ee=ae&8191,ie=ae>>>13;m.negative=a.negative^u.negative,m.length=19,x=Math.imul(U,_e),f=Math.imul(U,ve),f=f+Math.imul(O,_e)|0,v=Math.imul(O,ve);var ot=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(Q,_e),f=Math.imul(Q,ve),f=f+Math.imul(re,_e)|0,v=Math.imul(re,ve),x=x+Math.imul(U,xe)|0,f=f+Math.imul(U,Ae)|0,f=f+Math.imul(O,xe)|0,v=v+Math.imul(O,Ae)|0;var Ze=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(se,_e),f=Math.imul(se,ve),f=f+Math.imul(Z,_e)|0,v=Math.imul(Z,ve),x=x+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(re,xe)|0,v=v+Math.imul(re,Ae)|0,x=x+Math.imul(U,we)|0,f=f+Math.imul(U,Re)|0,f=f+Math.imul(O,we)|0,v=v+Math.imul(O,Re)|0;var At=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(de,_e),f=Math.imul(de,ve),f=f+Math.imul(he,_e)|0,v=Math.imul(he,ve),x=x+Math.imul(se,xe)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Ae)|0,x=x+Math.imul(Q,we)|0,f=f+Math.imul(Q,Re)|0,f=f+Math.imul(re,we)|0,v=v+Math.imul(re,Re)|0,x=x+Math.imul(U,Ue)|0,f=f+Math.imul(U,Fe)|0,f=f+Math.imul(O,Ue)|0,v=v+Math.imul(O,Fe)|0;var Je=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(me,_e),f=Math.imul(me,ve),f=f+Math.imul(Se,_e)|0,v=Math.imul(Se,ve),x=x+Math.imul(de,xe)|0,f=f+Math.imul(de,Ae)|0,f=f+Math.imul(he,xe)|0,v=v+Math.imul(he,Ae)|0,x=x+Math.imul(se,we)|0,f=f+Math.imul(se,Re)|0,f=f+Math.imul(Z,we)|0,v=v+Math.imul(Z,Re)|0,x=x+Math.imul(Q,Ue)|0,f=f+Math.imul(Q,Fe)|0,f=f+Math.imul(re,Ue)|0,v=v+Math.imul(re,Fe)|0,x=x+Math.imul(U,ge)|0,f=f+Math.imul(U,be)|0,f=f+Math.imul(O,ge)|0,v=v+Math.imul(O,be)|0;var lt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Ce,_e),f=Math.imul(Ce,ve),f=f+Math.imul(ye,_e)|0,v=Math.imul(ye,ve),x=x+Math.imul(me,xe)|0,f=f+Math.imul(me,Ae)|0,f=f+Math.imul(Se,xe)|0,v=v+Math.imul(Se,Ae)|0,x=x+Math.imul(de,we)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(he,we)|0,v=v+Math.imul(he,Re)|0,x=x+Math.imul(se,Ue)|0,f=f+Math.imul(se,Fe)|0,f=f+Math.imul(Z,Ue)|0,v=v+Math.imul(Z,Fe)|0,x=x+Math.imul(Q,ge)|0,f=f+Math.imul(Q,be)|0,f=f+Math.imul(re,ge)|0,v=v+Math.imul(re,be)|0,x=x+Math.imul(U,Be)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(O,Be)|0,v=v+Math.imul(O,Oe)|0;var dt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(Ne,_e),f=Math.imul(Ne,ve),f=f+Math.imul(Te,_e)|0,v=Math.imul(Te,ve),x=x+Math.imul(Ce,xe)|0,f=f+Math.imul(Ce,Ae)|0,f=f+Math.imul(ye,xe)|0,v=v+Math.imul(ye,Ae)|0,x=x+Math.imul(me,we)|0,f=f+Math.imul(me,Re)|0,f=f+Math.imul(Se,we)|0,v=v+Math.imul(Se,Re)|0,x=x+Math.imul(de,Ue)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(he,Ue)|0,v=v+Math.imul(he,Fe)|0,x=x+Math.imul(se,ge)|0,f=f+Math.imul(se,be)|0,f=f+Math.imul(Z,ge)|0,v=v+Math.imul(Z,be)|0,x=x+Math.imul(Q,Be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(re,Be)|0,v=v+Math.imul(re,Oe)|0,x=x+Math.imul(U,pe)|0,f=f+Math.imul(U,De)|0,f=f+Math.imul(O,pe)|0,v=v+Math.imul(O,De)|0;var gt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(Ee,_e),f=Math.imul(Ee,ve),f=f+Math.imul(Ie,_e)|0,v=Math.imul(Ie,ve),x=x+Math.imul(Ne,xe)|0,f=f+Math.imul(Ne,Ae)|0,f=f+Math.imul(Te,xe)|0,v=v+Math.imul(Te,Ae)|0,x=x+Math.imul(Ce,we)|0,f=f+Math.imul(Ce,Re)|0,f=f+Math.imul(ye,we)|0,v=v+Math.imul(ye,Re)|0,x=x+Math.imul(me,Ue)|0,f=f+Math.imul(me,Fe)|0,f=f+Math.imul(Se,Ue)|0,v=v+Math.imul(Se,Fe)|0,x=x+Math.imul(de,ge)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(he,ge)|0,v=v+Math.imul(he,be)|0,x=x+Math.imul(se,Be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(Z,Be)|0,v=v+Math.imul(Z,Oe)|0,x=x+Math.imul(Q,pe)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(re,pe)|0,v=v+Math.imul(re,De)|0,x=x+Math.imul(U,j)|0,f=f+Math.imul(U,K)|0,f=f+Math.imul(O,j)|0,v=v+Math.imul(O,K)|0;var yt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,x=Math.imul(Me,_e),f=Math.imul(Me,ve),f=f+Math.imul(ke,_e)|0,v=Math.imul(ke,ve),x=x+Math.imul(Ee,xe)|0,f=f+Math.imul(Ee,Ae)|0,f=f+Math.imul(Ie,xe)|0,v=v+Math.imul(Ie,Ae)|0,x=x+Math.imul(Ne,we)|0,f=f+Math.imul(Ne,Re)|0,f=f+Math.imul(Te,we)|0,v=v+Math.imul(Te,Re)|0,x=x+Math.imul(Ce,Ue)|0,f=f+Math.imul(Ce,Fe)|0,f=f+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Fe)|0,x=x+Math.imul(me,ge)|0,f=f+Math.imul(me,be)|0,f=f+Math.imul(Se,ge)|0,v=v+Math.imul(Se,be)|0,x=x+Math.imul(de,Be)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(he,Be)|0,v=v+Math.imul(he,Oe)|0,x=x+Math.imul(se,pe)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(Z,pe)|0,v=v+Math.imul(Z,De)|0,x=x+Math.imul(Q,j)|0,f=f+Math.imul(Q,K)|0,f=f+Math.imul(re,j)|0,v=v+Math.imul(re,K)|0,x=x+Math.imul(U,G)|0,f=f+Math.imul(U,Y)|0,f=f+Math.imul(O,G)|0,v=v+Math.imul(O,Y)|0;var ht=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,x=Math.imul(Le,_e),f=Math.imul(Le,ve),f=f+Math.imul(Pe,_e)|0,v=Math.imul(Pe,ve),x=x+Math.imul(Me,xe)|0,f=f+Math.imul(Me,Ae)|0,f=f+Math.imul(ke,xe)|0,v=v+Math.imul(ke,Ae)|0,x=x+Math.imul(Ee,we)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(Ie,we)|0,v=v+Math.imul(Ie,Re)|0,x=x+Math.imul(Ne,Ue)|0,f=f+Math.imul(Ne,Fe)|0,f=f+Math.imul(Te,Ue)|0,v=v+Math.imul(Te,Fe)|0,x=x+Math.imul(Ce,ge)|0,f=f+Math.imul(Ce,be)|0,f=f+Math.imul(ye,ge)|0,v=v+Math.imul(ye,be)|0,x=x+Math.imul(me,Be)|0,f=f+Math.imul(me,Oe)|0,f=f+Math.imul(Se,Be)|0,v=v+Math.imul(Se,Oe)|0,x=x+Math.imul(de,pe)|0,f=f+Math.imul(de,De)|0,f=f+Math.imul(he,pe)|0,v=v+Math.imul(he,De)|0,x=x+Math.imul(se,j)|0,f=f+Math.imul(se,K)|0,f=f+Math.imul(Z,j)|0,v=v+Math.imul(Z,K)|0,x=x+Math.imul(Q,G)|0,f=f+Math.imul(Q,Y)|0,f=f+Math.imul(re,G)|0,v=v+Math.imul(re,Y)|0,x=x+Math.imul(U,ee)|0,f=f+Math.imul(U,ie)|0,f=f+Math.imul(O,ee)|0,v=v+Math.imul(O,ie)|0;var mt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Le,xe),f=Math.imul(Le,Ae),f=f+Math.imul(Pe,xe)|0,v=Math.imul(Pe,Ae),x=x+Math.imul(Me,we)|0,f=f+Math.imul(Me,Re)|0,f=f+Math.imul(ke,we)|0,v=v+Math.imul(ke,Re)|0,x=x+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(Ie,Ue)|0,v=v+Math.imul(Ie,Fe)|0,x=x+Math.imul(Ne,ge)|0,f=f+Math.imul(Ne,be)|0,f=f+Math.imul(Te,ge)|0,v=v+Math.imul(Te,be)|0,x=x+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,Oe)|0,f=f+Math.imul(ye,Be)|0,v=v+Math.imul(ye,Oe)|0,x=x+Math.imul(me,pe)|0,f=f+Math.imul(me,De)|0,f=f+Math.imul(Se,pe)|0,v=v+Math.imul(Se,De)|0,x=x+Math.imul(de,j)|0,f=f+Math.imul(de,K)|0,f=f+Math.imul(he,j)|0,v=v+Math.imul(he,K)|0,x=x+Math.imul(se,G)|0,f=f+Math.imul(se,Y)|0,f=f+Math.imul(Z,G)|0,v=v+Math.imul(Z,Y)|0,x=x+Math.imul(Q,ee)|0,f=f+Math.imul(Q,ie)|0,f=f+Math.imul(re,ee)|0,v=v+Math.imul(re,ie)|0;var pt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,we),f=Math.imul(Le,Re),f=f+Math.imul(Pe,we)|0,v=Math.imul(Pe,Re),x=x+Math.imul(Me,Ue)|0,f=f+Math.imul(Me,Fe)|0,f=f+Math.imul(ke,Ue)|0,v=v+Math.imul(ke,Fe)|0,x=x+Math.imul(Ee,ge)|0,f=f+Math.imul(Ee,be)|0,f=f+Math.imul(Ie,ge)|0,v=v+Math.imul(Ie,be)|0,x=x+Math.imul(Ne,Be)|0,f=f+Math.imul(Ne,Oe)|0,f=f+Math.imul(Te,Be)|0,v=v+Math.imul(Te,Oe)|0,x=x+Math.imul(Ce,pe)|0,f=f+Math.imul(Ce,De)|0,f=f+Math.imul(ye,pe)|0,v=v+Math.imul(ye,De)|0,x=x+Math.imul(me,j)|0,f=f+Math.imul(me,K)|0,f=f+Math.imul(Se,j)|0,v=v+Math.imul(Se,K)|0,x=x+Math.imul(de,G)|0,f=f+Math.imul(de,Y)|0,f=f+Math.imul(he,G)|0,v=v+Math.imul(he,Y)|0,x=x+Math.imul(se,ee)|0,f=f+Math.imul(se,ie)|0,f=f+Math.imul(Z,ee)|0,v=v+Math.imul(Z,ie)|0;var tt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(Le,Ue),f=Math.imul(Le,Fe),f=f+Math.imul(Pe,Ue)|0,v=Math.imul(Pe,Fe),x=x+Math.imul(Me,ge)|0,f=f+Math.imul(Me,be)|0,f=f+Math.imul(ke,ge)|0,v=v+Math.imul(ke,be)|0,x=x+Math.imul(Ee,Be)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(Ie,Be)|0,v=v+Math.imul(Ie,Oe)|0,x=x+Math.imul(Ne,pe)|0,f=f+Math.imul(Ne,De)|0,f=f+Math.imul(Te,pe)|0,v=v+Math.imul(Te,De)|0,x=x+Math.imul(Ce,j)|0,f=f+Math.imul(Ce,K)|0,f=f+Math.imul(ye,j)|0,v=v+Math.imul(ye,K)|0,x=x+Math.imul(me,G)|0,f=f+Math.imul(me,Y)|0,f=f+Math.imul(Se,G)|0,v=v+Math.imul(Se,Y)|0,x=x+Math.imul(de,ee)|0,f=f+Math.imul(de,ie)|0,f=f+Math.imul(he,ee)|0,v=v+Math.imul(he,ie)|0;var st=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Le,ge),f=Math.imul(Le,be),f=f+Math.imul(Pe,ge)|0,v=Math.imul(Pe,be),x=x+Math.imul(Me,Be)|0,f=f+Math.imul(Me,Oe)|0,f=f+Math.imul(ke,Be)|0,v=v+Math.imul(ke,Oe)|0,x=x+Math.imul(Ee,pe)|0,f=f+Math.imul(Ee,De)|0,f=f+Math.imul(Ie,pe)|0,v=v+Math.imul(Ie,De)|0,x=x+Math.imul(Ne,j)|0,f=f+Math.imul(Ne,K)|0,f=f+Math.imul(Te,j)|0,v=v+Math.imul(Te,K)|0,x=x+Math.imul(Ce,G)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(ye,G)|0,v=v+Math.imul(ye,Y)|0,x=x+Math.imul(me,ee)|0,f=f+Math.imul(me,ie)|0,f=f+Math.imul(Se,ee)|0,v=v+Math.imul(Se,ie)|0;var Xe=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(Le,Be),f=Math.imul(Le,Oe),f=f+Math.imul(Pe,Be)|0,v=Math.imul(Pe,Oe),x=x+Math.imul(Me,pe)|0,f=f+Math.imul(Me,De)|0,f=f+Math.imul(ke,pe)|0,v=v+Math.imul(ke,De)|0,x=x+Math.imul(Ee,j)|0,f=f+Math.imul(Ee,K)|0,f=f+Math.imul(Ie,j)|0,v=v+Math.imul(Ie,K)|0,x=x+Math.imul(Ne,G)|0,f=f+Math.imul(Ne,Y)|0,f=f+Math.imul(Te,G)|0,v=v+Math.imul(Te,Y)|0,x=x+Math.imul(Ce,ee)|0,f=f+Math.imul(Ce,ie)|0,f=f+Math.imul(ye,ee)|0,v=v+Math.imul(ye,ie)|0;var rt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(Le,pe),f=Math.imul(Le,De),f=f+Math.imul(Pe,pe)|0,v=Math.imul(Pe,De),x=x+Math.imul(Me,j)|0,f=f+Math.imul(Me,K)|0,f=f+Math.imul(ke,j)|0,v=v+Math.imul(ke,K)|0,x=x+Math.imul(Ee,G)|0,f=f+Math.imul(Ee,Y)|0,f=f+Math.imul(Ie,G)|0,v=v+Math.imul(Ie,Y)|0,x=x+Math.imul(Ne,ee)|0,f=f+Math.imul(Ne,ie)|0,f=f+Math.imul(Te,ee)|0,v=v+Math.imul(Te,ie)|0;var it=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(it>>>26)|0,it&=67108863,x=Math.imul(Le,j),f=Math.imul(Le,K),f=f+Math.imul(Pe,j)|0,v=Math.imul(Pe,K),x=x+Math.imul(Me,G)|0,f=f+Math.imul(Me,Y)|0,f=f+Math.imul(ke,G)|0,v=v+Math.imul(ke,Y)|0,x=x+Math.imul(Ee,ee)|0,f=f+Math.imul(Ee,ie)|0,f=f+Math.imul(Ie,ee)|0,v=v+Math.imul(Ie,ie)|0;var Ye=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(Le,G),f=Math.imul(Le,Y),f=f+Math.imul(Pe,G)|0,v=Math.imul(Pe,Y),x=x+Math.imul(Me,ee)|0,f=f+Math.imul(Me,ie)|0,f=f+Math.imul(ke,ee)|0,v=v+Math.imul(ke,ie)|0;var ce=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,x=Math.imul(Le,ee),f=Math.imul(Le,ie),f=f+Math.imul(Pe,ee)|0,v=Math.imul(Pe,ie);var fe=(A+x|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,E[0]=ot,E[1]=Ze,E[2]=At,E[3]=Je,E[4]=lt,E[5]=dt,E[6]=gt,E[7]=yt,E[8]=ht,E[9]=mt,E[10]=pt,E[11]=tt,E[12]=st,E[13]=Xe,E[14]=rt,E[15]=it,E[16]=Ye,E[17]=ce,E[18]=fe,A!==0&&(E[19]=A,m.length++),m};Math.imul||(M=T);function k(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var m=0,y=0,w=0;w<u.length-1;w++){var E=y;y=0;for(var A=m&67108863,x=Math.min(w,a.length-1),f=Math.max(0,w-S.length+1);f<=x;f++){var v=w-f,q=S.words[v]|0,U=a.words[f]|0,O=q*U,W=O&67108863;E=E+(O/67108864|0)|0,W=W+A|0,A=W&67108863,E=E+(W>>>26)|0,y+=E>>>26,E&=67108863}u.words[w]=A,m=E,E=y}return m!==0?u.words[w]=m:u.length--,u.strip()}function B(S,a,u){var m=new P;return m.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=M(this,a,u):y<63?m=T(this,a,u):y<1024?m=k(this,a,u):m=B(this,a,u),m};function P(S,a){this.x=S,this.y=a}P.prototype.makeRBT=function(a){for(var u=new Array(a),m=i.prototype._countBits(a)-1,y=0;y<a;y++)u[y]=this.revBin(y,m,a);return u},P.prototype.revBin=function(a,u,m){if(a===0||a===m-1)return a;for(var y=0,w=0;w<u;w++)y|=(a&1)<<u-w-1,a>>=1;return y},P.prototype.permute=function(a,u,m,y,w,E){for(var A=0;A<E;A++)y[A]=u[a[A]],w[A]=m[a[A]]},P.prototype.transform=function(a,u,m,y,w,E){this.permute(E,a,u,m,y,w);for(var A=1;A<w;A<<=1)for(var x=A<<1,f=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),q=0;q<w;q+=x)for(var U=f,O=v,W=0;W<A;W++){var Q=m[q+W],re=y[q+W],Ke=m[q+W+A],se=y[q+W+A],Z=U*Ke-O*se;se=U*se+O*Ke,Ke=Z,m[q+W]=Q+Ke,y[q+W]=re+se,m[q+W+A]=Q-Ke,y[q+W+A]=re-se,W!==x&&(Z=f*U-v*O,O=f*O+v*U,U=Z)}},P.prototype.guessLen13b=function(a,u){var m=Math.max(u,a)|1,y=m&1,w=0;for(m=m/2|0;m;m=m>>>1)w++;return 1<<w+1+y},P.prototype.conjugate=function(a,u,m){if(!(m<=1))for(var y=0;y<m/2;y++){var w=a[y];a[y]=a[m-y-1],a[m-y-1]=w,w=u[y],u[y]=-u[m-y-1],u[m-y-1]=-w}},P.prototype.normalize13b=function(a,u){for(var m=0,y=0;y<u/2;y++){var w=Math.round(a[2*y+1]/u)*8192+Math.round(a[2*y]/u)+m;a[y]=w&67108863,w<67108864?m=0:m=w/67108864|0}return a},P.prototype.convert13b=function(a,u,m,y){for(var w=0,E=0;E<u;E++)w=w+(a[E]|0),m[2*E]=w&8191,w=w>>>13,m[2*E+1]=w&8191,w=w>>>13;for(E=2*u;E<y;++E)m[E]=0;r(w===0),r((w&-8192)===0)},P.prototype.stub=function(a){for(var u=new Array(a),m=0;m<a;m++)u[m]=0;return u},P.prototype.mulp=function(a,u,m){var y=2*this.guessLen13b(a.length,u.length),w=this.makeRBT(y),E=this.stub(y),A=new Array(y),x=new Array(y),f=new Array(y),v=new Array(y),q=new Array(y),U=new Array(y),O=m.words;O.length=y,this.convert13b(a.words,a.length,A,y),this.convert13b(u.words,u.length,v,y),this.transform(A,E,x,f,y,w),this.transform(v,E,q,U,y,w);for(var W=0;W<y;W++){var Q=x[W]*q[W]-f[W]*U[W];f[W]=x[W]*U[W]+f[W]*q[W],x[W]=Q}return this.conjugate(x,f,y),this.transform(x,f,O,E,y,w),this.conjugate(O,E,y),this.normalize13b(O,y),m.negative=a.negative^u.negative,m.length=a.length+u.length,m.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),B(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,m=0;m<this.length;m++){var y=(this.words[m]|0)*a,w=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=w>>>26,this.words[m]=w&67108863}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=_(a);if(u.length===0)return new i(1);for(var m=this,y=0;y<u.length&&u[y]===0;y++,m=m.sqr());if(++y<u.length)for(var w=m.sqr();y<u.length;y++,w=w.sqr())u[y]!==0&&(m=m.mul(w));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=67108863>>>26-u<<26-u,w;if(u!==0){var E=0;for(w=0;w<this.length;w++){var A=this.words[w]&y,x=(this.words[w]|0)-A<<u;this.words[w]=x|E,E=A>>>26-u}E&&(this.words[w]=E,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,m){r(typeof a=="number"&&a>=0);var y;u?y=(u-u%26)/26:y=0;var w=a%26,E=Math.min((a-w)/26,this.length),A=67108863^67108863>>>w<<w,x=m;if(y-=E,y=Math.max(0,y),x){for(var f=0;f<E;f++)x.words[f]=this.words[f];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=y);f--){var q=this.words[f]|0;this.words[f]=v<<26-w|q>>>w,v=q&A}return x&&v!==0&&(x.words[x.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,m){return r(this.negative===0),this.iushrn(a,u,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return!1;var w=this.words[m];return!!(w&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,m){var y=a.length+m,w;this._expand(y);var E,A=0;for(w=0;w<a.length;w++){E=(this.words[w+m]|0)+A;var x=(a.words[w]|0)*u;E-=x&67108863,A=(E>>26)-(x/67108864|0),this.words[w+m]=E&67108863}for(;w<this.length-m;w++)E=(this.words[w+m]|0)+A,A=E>>26,this.words[w+m]=E&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+A,A=E>>26,this.words[w]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var m=this.length-a.length,y=this.clone(),w=a,E=w.words[w.length-1]|0,A=this._countBits(E);m=26-A,m!==0&&(w=w.ushln(m),y.iushln(m),E=w.words[w.length-1]|0);var x=y.length-w.length,f;if(u!=="mod"){f=new i(null),f.length=x+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var q=y.clone()._ishlnsubmul(w,1,x);q.negative===0&&(y=q,f&&(f.words[x]=1));for(var U=x-1;U>=0;U--){var O=(y.words[w.length+U]|0)*67108864+(y.words[w.length+U-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,U),y.isZero()||(y.negative^=1);f&&(f.words[U]=O)}return f&&f.strip(),y.strip(),u!=="div"&&m!==0&&y.iushrn(m),{div:f||null,mod:y}},i.prototype.divmod=function(a,u,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,w,E;return this.negative!==0&&a.negative===0?(E=this.neg().divmod(a,u),u!=="mod"&&(y=E.div.neg()),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.iadd(a)),{div:y,mod:w}):this.negative===0&&a.negative!==0?(E=this.divmod(a.neg(),u),u!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):this.negative&a.negative?(E=this.neg().divmod(a.neg(),u),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.isub(a)),{div:E.div,mod:w}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(a):u.mod,y=a.ushrn(1),w=a.andln(1),E=m.cmp(y);return E<0||w===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,m=0,y=this.length-1;y>=0;y--)m=(u*m+(this.words[y]|0))%a;return m},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,m=this.length-1;m>=0;m--){var y=(this.words[m]|0)+u*67108864;this.words[m]=y/a|0,u=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=new i(0),A=new i(1),x=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++x;for(var f=m.clone(),v=u.clone();!u.isZero();){for(var q=0,U=1;!(u.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(u.iushrn(q);q-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(f),w.isub(v)),y.iushrn(1),w.iushrn(1);for(var O=0,W=1;!(m.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(m.iushrn(O);O-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(f),A.isub(v)),E.iushrn(1),A.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(E),w.isub(A)):(m.isub(u),E.isub(y),A.isub(w))}return{a:E,b:A,gcd:m.iushln(x)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,x=1;!(u.words[0]&x)&&A<26;++A,x<<=1);if(A>0)for(u.iushrn(A);A-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var f=0,v=1;!(m.words[0]&v)&&f<26;++f,v<<=1);if(f>0)for(m.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(w)):(m.isub(u),w.isub(y))}var q;return u.cmpn(1)===0?q=y:q=w,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),m=a.clone();u.negative=0,m.negative=0;for(var y=0;u.isEven()&&m.isEven();y++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=u.cmp(m);if(w<0){var E=u;u=m,m=E}else if(w===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var w=y,E=m;w!==0&&E<this.length;E++){var A=this.words[E]|0;A+=w,w=A>>>26,A&=67108863,this.words[E]=A}return w!==0&&(this.words[E]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var m;if(this.length>1)m=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,w=a.words[m]|0;if(y!==w){y<w?u=-1:y>w&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new $(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function R(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},R.prototype.ireduce=function(a){var u=a,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var y=m<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(a,u){a.iushrn(this.n,0,u)},R.prototype.imulK=function(a){return a.imul(this.k)};function L(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,R),L.prototype.split=function(a,u){for(var m=4194303,y=Math.min(a.length,9),w=0;w<y;w++)u.words[w]=a.words[w];if(u.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var E=a.words[9];for(u.words[u.length++]=E&m,w=10;w<a.length;w++){var A=a.words[w]|0;a.words[w-10]=(A&m)<<4|E>>>22,E=A}E>>>=22,a.words[w-10]=E,E===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,m=0;m<a.length;m++){var y=a.words[m]|0;u+=y*977,a.words[m]=u&67108863,u=y*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,R);function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(z,R);function oe(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(oe,R),oe.prototype.imulK=function(a){for(var u=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+u,w=y&67108863;y>>>=26,a.words[m]=w,u=y}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new L;else if(a==="p224")u=new V;else if(a==="p192")u=new z;else if(a==="p25519")u=new oe;else throw new Error("Unknown prime "+a);return D[a]=u,u};function $(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},$.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},$.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},$.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},$.prototype.add=function(a,u){this._verify2(a,u);var m=a.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(a,u){this._verify2(a,u);var m=a.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(a,u){this._verify2(a,u);var m=a.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(a,u){this._verify2(a,u);var m=a.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},$.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},$.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},$.prototype.isqr=function(a){return this.imul(a,a.clone())},$.prototype.sqr=function(a){return this.mul(a,a)},$.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var E=new i(1).toRed(this),A=E.redNeg(),x=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,x).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,y),q=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=w;U.cmp(E)!==0;){for(var W=U,Q=0;W.cmp(E)!==0;Q++)W=W.redSqr();r(Q<O);var re=this.pow(v,new i(1).iushln(O-Q-1));q=q.redMul(re),v=re.redSqr(),U=U.redMul(v),O=Q}return q},$.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},$.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new i(1).toRed(this),y[1]=a;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],a);var E=y[0],A=0,x=0,f=u.bitLength()%26;for(f===0&&(f=26),w=u.length-1;w>=0;w--){for(var v=u.words[w],q=f-1;q>=0;q--){var U=v>>q&1;if(E!==y[0]&&(E=this.sqr(E)),U===0&&A===0){x=0;continue}A<<=1,A|=U,x++,!(x!==m&&(w!==0||q!==0))&&(E=this.mul(E,y[A]),x=0,A=0)}f=26}return E},$.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},$.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new ne(a)};function ne(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,$),ne.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ne.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var m=a.mul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof hB>"u"||hB,xX)});var pB=F(EX=>{"use strict";h();p();var L_=EX;function TIe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=i&255;o?r.push(o,s):r.push(s)}return r}L_.toArray=TIe;function wX(t){return t.length===1?"0"+t:t}L_.zero2=wX;function SX(t){for(var e="",r=0;r<t.length;r++)e+=wX(t[r].toString(16));return e}L_.toHex=SX;L_.encode=function(e,r){return r==="hex"?SX(e):e}});var Ma=F(_X=>{"use strict";h();p();var lf=_X,IIe=hu(),MIe=Ia(),U_=pB();lf.assert=MIe;lf.toArray=U_.toArray;lf.zero2=U_.zero2;lf.toHex=U_.toHex;lf.encode=U_.encode;function kIe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var o=1<<e+1,s=t.clone();for(i=0;i<n.length;i++){var c,l=s.andln(o-1);s.isOdd()?(l>(o>>1)-1?c=(o>>1)-l:c=l,s.isubn(c)):c=0,n[i]=c,s.iushrn(1)}return n}lf.getNAF=kIe;function PIe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,o;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,c=e.andln(3)+i&3;s===3&&(s=-1),c===3&&(c=-1);var l;s&1?(o=t.andln(7)+n&7,(o===3||o===5)&&c===2?l=-s:l=s):l=0,r[0].push(l);var d;c&1?(o=e.andln(7)+i&7,(o===3||o===5)&&s===2?d=-c:d=c):d=0,r[1].push(d),2*n===l+1&&(n=1-n),2*i===d+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}lf.getJSF=PIe;function RIe(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}lf.cachedProperty=RIe;function BIe(t){return typeof t=="string"?lf.toArray(t,"hex"):t}lf.parseBytes=BIe;function CIe(t){return new IIe(t,"hex","le")}lf.intFromLE=CIe});var pw=F((Xvt,AX)=>{"use strict";h();p();var jp=hu(),hw=Ma(),F_=hw.getNAF,NIe=hw.getJSF,q_=hw.assert;function ih(t,e){this.type=t,this.p=new jp(e.p,16),this.red=e.prime?jp.red(e.prime):jp.mont(this.p),this.zero=new jp(0).toRed(this.red),this.one=new jp(1).toRed(this.red),this.two=new jp(2).toRed(this.red),this.n=e.n&&new jp(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}AX.exports=ih;ih.prototype.point=function(){throw new Error("Not implemented")};ih.prototype.validate=function(){throw new Error("Not implemented")};ih.prototype._fixedNafMul=function(e,r){q_(e.precomputed);var n=e._getDoubles(),i=F_(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var d=c+n.step-1;d>=c;d--)l=(l<<1)+i[d];s.push(l)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),_=o;_>0;_--){for(c=0;c<s.length;c++)l=s[c],l===_?b=b.mixedAdd(n.points[c]):l===-_&&(b=b.mixedAdd(n.points[c].neg()));g=g.add(b)}return g.toP()};ih.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=F_(r,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var d=0;l>=0&&s[l]===0;l--)d++;if(l>=0&&d++,c=c.dblp(d),l<0)break;var g=s[l];q_(g!==0),e.type==="affine"?g>0?c=c.mixedAdd(o[g-1>>1]):c=c.mixedAdd(o[-g-1>>1].neg()):g>0?c=c.add(o[g-1>>1]):c=c.add(o[-g-1>>1].neg())}return e.type==="affine"?c.toP():c};ih.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,d=0,g,b,_;for(g=0;g<i;g++){_=r[g];var T=_._getNAFPoints(e);s[g]=T.wnd,c[g]=T.points}for(g=i-1;g>=1;g-=2){var M=g-1,k=g;if(s[M]!==1||s[k]!==1){l[M]=F_(n[M],s[M],this._bitLength),l[k]=F_(n[k],s[k],this._bitLength),d=Math.max(l[M].length,d),d=Math.max(l[k].length,d);continue}var B=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(B[1]=r[M].add(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].add(r[k].neg())):(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],D=NIe(n[M],n[k]);for(d=Math.max(D[0].length,d),l[M]=new Array(d),l[k]=new Array(d),b=0;b<d;b++){var R=D[0][b]|0,L=D[1][b]|0;l[M][b]=P[(R+1)*3+(L+1)],l[k][b]=0,c[M]=B}}var V=this.jpoint(null,null,null),z=this._wnafT4;for(g=d;g>=0;g--){for(var oe=0;g>=0;){var $=!0;for(b=0;b<i;b++)z[b]=l[b][g]|0,z[b]!==0&&($=!1);if(!$)break;oe++,g--}if(g>=0&&oe++,V=V.dblp(oe),g<0)break;for(b=0;b<i;b++){var ne=z[b];ne!==0&&(ne>0?_=c[b][ne-1>>1]:ne<0&&(_=c[b][-ne-1>>1].neg()),_.type==="affine"?V=V.mixedAdd(_):V=V.add(_))}}for(g=0;g<i;g++)c[g]=null;return o?V:V.toP()};function hc(t,e){this.curve=t,this.type=e,this.precomputed=null}ih.BasePoint=hc;hc.prototype.eq=function(){throw new Error("Not implemented")};hc.prototype.validate=function(){return this.curve.validate(this)};ih.prototype.decodePoint=function(e,r){e=hw.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?q_(e[e.length-1]%2===0):e[0]===7&&q_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};hc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};hc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};hc.prototype.encode=function(e,r){return hw.encode(this._encode(r),e)};hc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};hc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};hc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};hc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};hc.prototype._getBeta=function(){return null};hc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var IX=F((txt,TX)=>{"use strict";h();p();var OIe=Ma(),si=hu(),mB=qt(),kg=pw(),DIe=OIe.assert;function pc(t){kg.call(this,"short",t),this.a=new si(t.a,16).toRed(this.red),this.b=new si(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}mB(pc,kg);TX.exports=pc;pc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new si(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new si(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],DIe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(c){return{a:new si(c.a,16),b:new si(c.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};pc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:si.mont(e),n=new si(2).toRed(r).redInvm(),i=n.redNeg(),o=new si(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),c=i.redSub(o).fromRed();return[s,c]};pc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new si(1),s=new si(0),c=new si(0),l=new si(1),d,g,b,_,T,M,k,B=0,P,D;n.cmpn(0)!==0;){var R=i.div(n);P=i.sub(R.mul(n)),D=c.sub(R.mul(o));var L=l.sub(R.mul(s));if(!b&&P.cmp(r)<0)d=k.neg(),g=o,b=P.neg(),_=D;else if(b&&++B===2)break;k=P,i=n,n=P,c=o,o=D,l=s,s=L}T=P.neg(),M=D;var V=b.sqr().add(_.sqr()),z=T.sqr().add(M.sqr());return z.cmp(V)>=0&&(T=d,M=g),b.negative&&(b=b.neg(),_=_.neg()),T.negative&&(T=T.neg(),M=M.neg()),[{a:b,b:_},{a:T,b:M}]};pc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),c=o.mul(n.a),l=s.mul(i.a),d=o.mul(n.b),g=s.mul(i.b),b=e.sub(c).sub(l),_=d.add(g).neg();return{k1:b,k2:_}};pc.prototype.pointFromX=function(e,r){e=new si(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};pc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};pc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var c=this._endoSplit(r[s]),l=e[s],d=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),d=d.neg(!0)),i[s*2]=l,i[s*2+1]=d,o[s*2]=c.k1,o[s*2+1]=c.k2}for(var g=this._wnafMulAdd(1,i,o,s*2,n),b=0;b<s*2;b++)i[b]=null,o[b]=null;return g};function oo(t,e,r,n){kg.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new si(e,16),this.y=new si(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}mB(oo,kg.BasePoint);pc.prototype.point=function(e,r,n){return new oo(this,e,r,n)};pc.prototype.pointFromJSON=function(e,r){return oo.fromJSON(this,e,r)};oo.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};oo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};oo.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(c){return e.point(c[0],c[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};oo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};oo.prototype.isInfinity=function(){return this.inf};oo.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};oo.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),c=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,c)};oo.prototype.getX=function(){return this.x.fromRed()};oo.prototype.getY=function(){return this.y.fromRed()};oo.prototype.mul=function(e){return e=new si(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};oo.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};oo.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};oo.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};oo.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};oo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Eo(t,e,r,n){kg.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new si(0)):(this.x=new si(e,16),this.y=new si(r,16),this.z=new si(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}mB(Eo,kg.BasePoint);pc.prototype.jpoint=function(e,r,n){return new Eo(this,e,r,n)};Eo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Eo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Eo.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),d=s.redSub(c);if(l.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=l.redSqr(),b=g.redMul(l),_=i.redMul(g),T=d.redSqr().redIAdd(b).redISub(_).redISub(_),M=d.redMul(_.redISub(T)).redISub(s.redMul(b)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,M,k)};Eo.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=o.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=c.redSqr(),g=d.redMul(c),b=n.redMul(d),_=l.redSqr().redIAdd(g).redISub(b).redISub(b),T=l.redMul(b.redISub(_)).redISub(o.redMul(g)),M=this.z.redMul(c);return this.curve.jpoint(_,T,M)};Eo.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,c=this.y,l=this.z,d=l.redSqr().redSqr(),g=c.redAdd(c);for(r=0;r<e;r++){var b=s.redSqr(),_=g.redSqr(),T=_.redSqr(),M=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(d)),k=s.redMul(_),B=M.redSqr().redISub(k.redAdd(k)),P=k.redISub(B),D=M.redMul(P);D=D.redIAdd(D).redISub(T);var R=g.redMul(l);r+1<e&&(d=d.redMul(T)),s=B,l=R,g=D}return this.curve.jpoint(s,g.redMul(o),l)};Eo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Eo.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),d=l.redSqr().redISub(c).redISub(c),g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),e=d,r=l.redMul(c.redISub(d)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),_=this.y.redSqr(),T=_.redSqr(),M=this.x.redAdd(_).redSqr().redISub(b).redISub(T);M=M.redIAdd(M);var k=b.redAdd(b).redIAdd(b),B=k.redSqr(),P=T.redIAdd(T);P=P.redIAdd(P),P=P.redIAdd(P),e=B.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Eo.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=l.redSqr().redISub(c).redISub(c);e=d;var g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),r=l.redMul(c.redISub(d)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),_=this.y.redSqr(),T=this.x.redMul(_),M=this.x.redSub(b).redMul(this.x.redAdd(b));M=M.redAdd(M).redIAdd(M);var k=T.redIAdd(T);k=k.redIAdd(k);var B=k.redAdd(k);e=M.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(b);var P=_.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=M.redMul(k.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};Eo.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),c=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),d=r.redAdd(r);d=d.redIAdd(d);var g=d.redMul(c),b=l.redSqr().redISub(g.redAdd(g)),_=g.redISub(b),T=c.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var M=l.redMul(_).redISub(T),k=n.redAdd(n).redMul(i);return this.curve.jpoint(b,M,k)};Eo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(s);var l=c.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var g=o.redIAdd(c).redSqr().redISub(s).redISub(l).redISub(d),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var _=this.x.redMul(l).redISub(b);_=_.redIAdd(_),_=_.redIAdd(_);var T=this.y.redMul(g.redMul(d.redISub(g)).redISub(c.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var M=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(_,T,M)};Eo.prototype.mul=function(e,r){return e=new si(e,r),this.curve._wnafMul(this,e)};Eo.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Eo.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Eo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Eo.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var PX=F((ixt,kX)=>{"use strict";h();p();var Pg=hu(),MX=qt(),H_=pw(),LIe=Ma();function Rg(t){H_.call(this,"mont",t),this.a=new Pg(t.a,16).toRed(this.red),this.b=new Pg(t.b,16).toRed(this.red),this.i4=new Pg(4).toRed(this.red).redInvm(),this.two=new Pg(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}MX(Rg,H_);kX.exports=Rg;Rg.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function so(t,e,r){H_.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Pg(e,16),this.z=new Pg(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}MX(so,H_.BasePoint);Rg.prototype.decodePoint=function(e,r){return this.point(LIe.toArray(e,r),1)};Rg.prototype.point=function(e,r){return new so(this,e,r)};Rg.prototype.pointFromJSON=function(e){return so.fromJSON(this,e)};so.prototype.precompute=function(){};so.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};so.fromJSON=function(e,r){return new so(e,r[0],r[1]||e.one)};so.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};so.prototype.isInfinity=function(){return this.z.cmpn(0)===0};so.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),s=r.redMul(i),c=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,c)};so.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};so.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),c=s.redMul(n),l=o.redMul(i),d=r.z.redMul(c.redAdd(l).redSqr()),g=r.x.redMul(c.redISub(l).redSqr());return this.curve.point(d,g)};so.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var c=s.length-1;c>=0;c--)s[c]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};so.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};so.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};so.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};so.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};so.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var CX=F((axt,BX)=>{"use strict";h();p();var UIe=Ma(),kl=hu(),RX=qt(),K_=pw(),FIe=UIe.assert;function pu(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,K_.call(this,"edwards",t),this.a=new kl(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new kl(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new kl(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),FIe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}RX(pu,K_);BX.exports=pu;pu.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};pu.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};pu.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};pu.prototype.pointFromX=function(e,r){e=new kl(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),c=s.redSqrt();if(c.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var l=c.fromRed().isOdd();return(r&&!l||!r&&l)&&(c=c.redNeg()),this.point(e,c)};pu.prototype.pointFromY=function(e,r){e=new kl(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=s.redSqrt();if(c.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)};pu.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function pn(t,e,r,n,i){K_.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new kl(e,16),this.y=new kl(r,16),this.z=n?new kl(n,16):this.curve.one,this.t=i&&new kl(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}RX(pn,K_.BasePoint);pu.prototype.pointFromJSON=function(e){return pn.fromJSON(this,e)};pu.prototype.point=function(e,r,n,i){return new pn(this,e,r,n,i)};pn.fromJSON=function(e,r){return new pn(e,r[0],r[1],r[2])};pn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};pn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};pn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),c=s.redSub(n),l=i.redSub(r),d=o.redMul(c),g=s.redMul(l),b=o.redMul(l),_=c.redMul(s);return this.curve.point(d,g,_,b)};pn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,s,c,l,d;if(this.curve.twisted){c=this.curve._mulA(r);var g=c.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(g.redSub(this.curve.two)),o=g.redMul(c.redSub(n)),s=g.redSqr().redSub(g).redSub(g)):(l=this.z.redSqr(),d=g.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(d),o=g.redMul(c.redSub(n)),s=g.redMul(d))}else c=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),d=c.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(c)).redMul(d),o=this.curve._mulC(c).redMul(r.redISub(n)),s=c.redMul(d);return this.curve.point(i,o,s)};pn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};pn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),c=o.redSub(i),l=o.redAdd(i),d=n.redAdd(r),g=s.redMul(c),b=l.redMul(d),_=s.redMul(d),T=c.redMul(l);return this.curve.point(g,b,T,_)};pn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),c=n.redSub(s),l=n.redAdd(s),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),g=r.redMul(c).redMul(d),b,_;return this.curve.twisted?(b=r.redMul(l).redMul(o.redSub(this.curve._mulA(i))),_=c.redMul(l)):(b=r.redMul(l).redMul(o.redSub(i)),_=this.curve._mulC(c).redMul(l)),this.curve.point(g,b,_)};pn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};pn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};pn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};pn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};pn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};pn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};pn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};pn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};pn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};pn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};pn.prototype.toP=pn.prototype.normalize;pn.prototype.mixedAdd=pn.prototype.add});var yB=F(NX=>{"use strict";h();p();var V_=NX;V_.base=pw();V_.short=IX();V_.mont=PX();V_.edwards=CX()});var df=F(ln=>{"use strict";h();p();var qIe=Ia(),HIe=qt();ln.inherits=HIe;function KIe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function VIe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):KIe(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}ln.toArray=VIe;function jIe(t){for(var e="",r=0;r<t.length;r++)e+=DX(t[r].toString(16));return e}ln.toHex=jIe;function OX(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ln.htonl=OX;function zIe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=OX(i)),r+=LX(i.toString(16))}return r}ln.toHex32=zIe;function DX(t){return t.length===1?"0"+t:t}ln.zero2=DX;function LX(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ln.zero8=LX;function GIe(t,e,r,n){var i=r-e;qIe(i%4===0);for(var o=new Array(i/4),s=0,c=e;s<o.length;s++,c+=4){var l;n==="big"?l=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:l=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],o[s]=l>>>0}return o}ln.join32=GIe;function WIe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}ln.split32=WIe;function $Ie(t,e){return t>>>e|t<<32-e}ln.rotr32=$Ie;function YIe(t,e){return t<<e|t>>>32-e}ln.rotl32=YIe;function ZIe(t,e){return t+e>>>0}ln.sum32=ZIe;function QIe(t,e,r){return t+e+r>>>0}ln.sum32_3=QIe;function XIe(t,e,r,n){return t+e+r+n>>>0}ln.sum32_4=XIe;function JIe(t,e,r,n,i){return t+e+r+n+i>>>0}ln.sum32_5=JIe;function e7e(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,c=(s<n?1:0)+r+i;t[e]=c>>>0,t[e+1]=s}ln.sum64=e7e;function t7e(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}ln.sum64_hi=t7e;function r7e(t,e,r,n){var i=e+n;return i>>>0}ln.sum64_lo=r7e;function n7e(t,e,r,n,i,o,s,c){var l=0,d=e;d=d+n>>>0,l+=d<e?1:0,d=d+o>>>0,l+=d<o?1:0,d=d+c>>>0,l+=d<c?1:0;var g=t+r+i+s+l;return g>>>0}ln.sum64_4_hi=n7e;function i7e(t,e,r,n,i,o,s,c){var l=e+n+o+c;return l>>>0}ln.sum64_4_lo=i7e;function o7e(t,e,r,n,i,o,s,c,l,d){var g=0,b=e;b=b+n>>>0,g+=b<e?1:0,b=b+o>>>0,g+=b<o?1:0,b=b+c>>>0,g+=b<c?1:0,b=b+d>>>0,g+=b<d?1:0;var _=t+r+i+s+l+g;return _>>>0}ln.sum64_5_hi=o7e;function s7e(t,e,r,n,i,o,s,c,l,d){var g=e+n+o+c+d;return g>>>0}ln.sum64_5_lo=s7e;function a7e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}ln.rotr64_hi=a7e;function c7e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ln.rotr64_lo=c7e;function f7e(t,e,r){return t>>>r}ln.shr64_hi=f7e;function u7e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ln.shr64_lo=u7e});var Bg=F(FX=>{"use strict";h();p();var UX=df(),l7e=Ia();function j_(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}FX.BlockHash=j_;j_.prototype.update=function(e,r){if(e=UX.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=UX.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};j_.prototype.digest=function(e){return this.update(this._pad()),l7e(this.pending===null),this._digest(e)};j_.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i}});var gB=F(Pl=>{"use strict";h();p();var d7e=df(),mu=d7e.rotr32;function h7e(t,e,r,n){if(t===0)return qX(e,r,n);if(t===1||t===3)return KX(e,r,n);if(t===2)return HX(e,r,n)}Pl.ft_1=h7e;function qX(t,e,r){return t&e^~t&r}Pl.ch32=qX;function HX(t,e,r){return t&e^t&r^e&r}Pl.maj32=HX;function KX(t,e,r){return t^e^r}Pl.p32=KX;function p7e(t){return mu(t,2)^mu(t,13)^mu(t,22)}Pl.s0_256=p7e;function m7e(t){return mu(t,6)^mu(t,11)^mu(t,25)}Pl.s1_256=m7e;function y7e(t){return mu(t,7)^mu(t,18)^t>>>3}Pl.g0_256=y7e;function g7e(t){return mu(t,17)^mu(t,19)^t>>>10}Pl.g1_256=g7e});var zX=F((Sxt,jX)=>{"use strict";h();p();var Cg=df(),b7e=Bg(),v7e=gB(),bB=Cg.rotl32,mw=Cg.sum32,x7e=Cg.sum32_5,w7e=v7e.ft_1,VX=b7e.BlockHash,S7e=[1518500249,1859775393,2400959708,3395469782];function yu(){if(!(this instanceof yu))return new yu;VX.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Cg.inherits(yu,VX);jX.exports=yu;yu.blockSize=512;yu.outSize=160;yu.hmacStrength=80;yu.padLength=64;yu.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=bB(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4];for(i=0;i<n.length;i++){var g=~~(i/20),b=x7e(bB(o,5),w7e(g,s,c,l),d,n[i],S7e[g]);d=l,l=c,c=bB(s,30),s=o,o=b}this.h[0]=mw(this.h[0],o),this.h[1]=mw(this.h[1],s),this.h[2]=mw(this.h[2],c),this.h[3]=mw(this.h[3],l),this.h[4]=mw(this.h[4],d)};yu.prototype._digest=function(e){return e==="hex"?Cg.toHex32(this.h,"big"):Cg.split32(this.h,"big")}});var vB=F((Axt,WX)=>{"use strict";h();p();var Ng=df(),E7e=Bg(),Og=gB(),_7e=Ia(),hf=Ng.sum32,A7e=Ng.sum32_4,T7e=Ng.sum32_5,I7e=Og.ch32,M7e=Og.maj32,k7e=Og.s0_256,P7e=Og.s1_256,R7e=Og.g0_256,B7e=Og.g1_256,GX=E7e.BlockHash,C7e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gu(){if(!(this instanceof gu))return new gu;GX.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=C7e,this.W=new Array(64)}Ng.inherits(gu,GX);WX.exports=gu;gu.blockSize=512;gu.outSize=256;gu.hmacStrength=192;gu.padLength=64;gu.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=A7e(B7e(n[i-2]),n[i-7],R7e(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4],g=this.h[5],b=this.h[6],_=this.h[7];for(_7e(this.k.length===n.length),i=0;i<n.length;i++){var T=T7e(_,P7e(d),I7e(d,g,b),this.k[i],n[i]),M=hf(k7e(o),M7e(o,s,c));_=b,b=g,g=d,d=hf(l,T),l=c,c=s,s=o,o=hf(T,M)}this.h[0]=hf(this.h[0],o),this.h[1]=hf(this.h[1],s),this.h[2]=hf(this.h[2],c),this.h[3]=hf(this.h[3],l),this.h[4]=hf(this.h[4],d),this.h[5]=hf(this.h[5],g),this.h[6]=hf(this.h[6],b),this.h[7]=hf(this.h[7],_)};gu.prototype._digest=function(e){return e==="hex"?Ng.toHex32(this.h,"big"):Ng.split32(this.h,"big")}});var ZX=F((Mxt,YX)=>{"use strict";h();p();var xB=df(),$X=vB();function Rl(){if(!(this instanceof Rl))return new Rl;$X.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}xB.inherits(Rl,$X);YX.exports=Rl;Rl.blockSize=512;Rl.outSize=224;Rl.hmacStrength=192;Rl.padLength=64;Rl.prototype._digest=function(e){return e==="hex"?xB.toHex32(this.h.slice(0,7),"big"):xB.split32(this.h.slice(0,7),"big")}});var EB=F((Rxt,eJ)=>{"use strict";h();p();var Js=df(),N7e=Bg(),O7e=Ia(),bu=Js.rotr64_hi,vu=Js.rotr64_lo,QX=Js.shr64_hi,XX=Js.shr64_lo,oh=Js.sum64,wB=Js.sum64_hi,SB=Js.sum64_lo,D7e=Js.sum64_4_hi,L7e=Js.sum64_4_lo,U7e=Js.sum64_5_hi,F7e=Js.sum64_5_lo,JX=N7e.BlockHash,q7e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pf(){if(!(this instanceof pf))return new pf;JX.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=q7e,this.W=new Array(160)}Js.inherits(pf,JX);eJ.exports=pf;pf.blockSize=1024;pf.outSize=512;pf.hmacStrength=192;pf.padLength=128;pf.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=Q7e(n[i-4],n[i-3]),s=X7e(n[i-4],n[i-3]),c=n[i-14],l=n[i-13],d=Y7e(n[i-30],n[i-29]),g=Z7e(n[i-30],n[i-29]),b=n[i-32],_=n[i-31];n[i]=D7e(o,s,c,l,d,g,b,_),n[i+1]=L7e(o,s,c,l,d,g,b,_)}};pf.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4],d=this.h[5],g=this.h[6],b=this.h[7],_=this.h[8],T=this.h[9],M=this.h[10],k=this.h[11],B=this.h[12],P=this.h[13],D=this.h[14],R=this.h[15];O7e(this.k.length===n.length);for(var L=0;L<n.length;L+=2){var V=D,z=R,oe=W7e(_,T),$=$7e(_,T),ne=H7e(_,T,M,k,B,P),S=K7e(_,T,M,k,B,P),a=this.k[L],u=this.k[L+1],m=n[L],y=n[L+1],w=U7e(V,z,oe,$,ne,S,a,u,m,y),E=F7e(V,z,oe,$,ne,S,a,u,m,y);V=z7e(i,o),z=G7e(i,o),oe=V7e(i,o,s,c,l,d),$=j7e(i,o,s,c,l,d);var A=wB(V,z,oe,$),x=SB(V,z,oe,$);D=B,R=P,B=M,P=k,M=_,k=T,_=wB(g,b,w,E),T=SB(b,b,w,E),g=l,b=d,l=s,d=c,s=i,c=o,i=wB(w,E,A,x),o=SB(w,E,A,x)}oh(this.h,0,i,o),oh(this.h,2,s,c),oh(this.h,4,l,d),oh(this.h,6,g,b),oh(this.h,8,_,T),oh(this.h,10,M,k),oh(this.h,12,B,P),oh(this.h,14,D,R)};pf.prototype._digest=function(e){return e==="hex"?Js.toHex32(this.h,"big"):Js.split32(this.h,"big")};function H7e(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function K7e(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function V7e(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function j7e(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function z7e(t,e){var r=bu(t,e,28),n=bu(e,t,2),i=bu(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function G7e(t,e){var r=vu(t,e,28),n=vu(e,t,2),i=vu(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function W7e(t,e){var r=bu(t,e,14),n=bu(t,e,18),i=bu(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function $7e(t,e){var r=vu(t,e,14),n=vu(t,e,18),i=vu(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function Y7e(t,e){var r=bu(t,e,1),n=bu(t,e,8),i=QX(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function Z7e(t,e){var r=vu(t,e,1),n=vu(t,e,8),i=XX(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function Q7e(t,e){var r=bu(t,e,19),n=bu(e,t,29),i=QX(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function X7e(t,e){var r=vu(t,e,19),n=vu(e,t,29),i=XX(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}});var nJ=F((Nxt,rJ)=>{"use strict";h();p();var _B=df(),tJ=EB();function Bl(){if(!(this instanceof Bl))return new Bl;tJ.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_B.inherits(Bl,tJ);rJ.exports=Bl;Bl.blockSize=1024;Bl.outSize=384;Bl.hmacStrength=192;Bl.padLength=128;Bl.prototype._digest=function(e){return e==="hex"?_B.toHex32(this.h.slice(0,12),"big"):_B.split32(this.h.slice(0,12),"big")}});var iJ=F(Dg=>{"use strict";h();p();Dg.sha1=zX();Dg.sha224=ZX();Dg.sha256=vB();Dg.sha384=nJ();Dg.sha512=EB()});var uJ=F(fJ=>{"use strict";h();p();var zp=df(),J7e=Bg(),z_=zp.rotl32,oJ=zp.sum32,yw=zp.sum32_3,sJ=zp.sum32_4,cJ=J7e.BlockHash;function xu(){if(!(this instanceof xu))return new xu;cJ.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}zp.inherits(xu,cJ);fJ.ripemd160=xu;xu.blockSize=512;xu.outSize=160;xu.hmacStrength=192;xu.padLength=64;xu.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],l=n,d=i,g=o,b=s,_=c,T=0;T<80;T++){var M=oJ(z_(sJ(n,aJ(T,i,o,s),e[r9e[T]+r],e9e(T)),i9e[T]),c);n=c,c=s,s=z_(o,10),o=i,i=M,M=oJ(z_(sJ(l,aJ(79-T,d,g,b),e[n9e[T]+r],t9e(T)),o9e[T]),_),l=_,_=b,b=z_(g,10),g=d,d=M}M=yw(this.h[1],o,b),this.h[1]=yw(this.h[2],s,_),this.h[2]=yw(this.h[3],c,l),this.h[3]=yw(this.h[4],n,d),this.h[4]=yw(this.h[0],i,g),this.h[0]=M};xu.prototype._digest=function(e){return e==="hex"?zp.toHex32(this.h,"little"):zp.split32(this.h,"little")};function aJ(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function e9e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function t9e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var r9e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n9e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],i9e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o9e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var dJ=F((Vxt,lJ)=>{"use strict";h();p();var s9e=df(),a9e=Ia();function Lg(t,e,r){if(!(this instanceof Lg))return new Lg(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(s9e.toArray(e,r))}lJ.exports=Lg;Lg.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),a9e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Lg.prototype.update=function(e,r){return this.inner.update(e,r),this};Lg.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Ug=F(hJ=>{h();p();var _o=hJ;_o.utils=df();_o.common=Bg();_o.sha=iJ();_o.ripemd=uJ();_o.hmac=dJ();_o.sha1=_o.sha.sha1;_o.sha256=_o.sha.sha256;_o.sha224=_o.sha.sha224;_o.sha384=_o.sha.sha384;_o.sha512=_o.sha.sha512;_o.ripemd160=_o.ripemd.ripemd160});var mJ=F((Yxt,pJ)=>{h();p();pJ.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var G_=F(bJ=>{"use strict";h();p();var TB=bJ,sh=Ug(),AB=yB(),c9e=Ma(),yJ=c9e.assert;function gJ(t){t.type==="short"?this.curve=new AB.short(t):t.type==="edwards"?this.curve=new AB.edwards(t):this.curve=new AB.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,yJ(this.g.validate(),"Invalid curve"),yJ(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}TB.PresetCurve=gJ;function ah(t,e){Object.defineProperty(TB,t,{configurable:!0,enumerable:!0,get:function(){var r=new gJ(e);return Object.defineProperty(TB,t,{configurable:!0,enumerable:!0,value:r}),r}})}ah("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:sh.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});ah("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:sh.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});ah("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:sh.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});ah("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:sh.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});ah("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:sh.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});ah("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sh.sha256,gRed:!1,g:["9"]});ah("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sh.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var IB;try{IB=mJ()}catch{IB=void 0}ah("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:sh.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",IB]})});var wJ=F((twt,xJ)=>{"use strict";h();p();var f9e=Ug(),Gp=pB(),vJ=Ia();function ch(t){if(!(this instanceof ch))return new ch(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Gp.toArray(t.entropy,t.entropyEnc||"hex"),r=Gp.toArray(t.nonce,t.nonceEnc||"hex"),n=Gp.toArray(t.pers,t.persEnc||"hex");vJ(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}xJ.exports=ch;ch.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ch.prototype._hmac=function(){return new f9e.hmac(this.hash,this.K)};ch.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ch.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Gp.toArray(e,r),n=Gp.toArray(n,i),vJ(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ch.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Gp.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Gp.encode(s,r)}});var EJ=F((iwt,SJ)=>{"use strict";h();p();var u9e=hu(),l9e=Ma(),MB=l9e.assert;function es(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}SJ.exports=es;es.fromPublic=function(e,r,n){return r instanceof es?r:new es(e,{pub:r,pubEnc:n})};es.fromPrivate=function(e,r,n){return r instanceof es?r:new es(e,{priv:r,privEnc:n})};es.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};es.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};es.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};es.prototype._importPrivate=function(e,r){this.priv=new u9e(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};es.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?MB(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&MB(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};es.prototype.derive=function(e){return e.validate()||MB(e.validate(),"public point not validated"),e.mul(this.priv).getX()};es.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};es.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};es.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var TJ=F((awt,AJ)=>{"use strict";h();p();var W_=hu(),RB=Ma(),d9e=RB.assert;function $_(t,e){if(t instanceof $_)return t;this._importDER(t,e)||(d9e(t.r&&t.s,"Signature without r or s"),this.r=new W_(t.r,16),this.s=new W_(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}AJ.exports=$_;function h9e(){this.place=0}function kB(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function _J(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}$_.prototype._importDER=function(e,r){e=RB.toArray(e,r);var n=new h9e;if(e[n.place++]!==48)return!1;var i=kB(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=kB(e,n);if(o===!1||e[n.place]&128)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var c=kB(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,c+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new W_(s),this.s=new W_(l),this.recoveryParam=null,!0};function PB(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}$_.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=_J(r),n=_J(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];PB(i,r.length),i=i.concat(r),i.push(2),PB(i,n.length);var o=i.concat(n),s=[48];return PB(s,o.length),s=s.concat(o),RB.encode(s,e)}});var kJ=F((uwt,MJ)=>{"use strict";h();p();var mf=hu(),IJ=wJ(),p9e=Ma(),BB=G_(),m9e=v_(),Wp=p9e.assert,CB=EJ(),Y_=TJ();function mc(t){if(!(this instanceof mc))return new mc(t);typeof t=="string"&&(Wp(Object.prototype.hasOwnProperty.call(BB,t),"Unknown curve "+t),t=BB[t]),t instanceof BB.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}MJ.exports=mc;mc.prototype.keyPair=function(e){return new CB(this,e)};mc.prototype.keyFromPrivate=function(e,r){return CB.fromPrivate(this,e,r)};mc.prototype.keyFromPublic=function(e,r){return CB.fromPublic(this,e,r)};mc.prototype.genKeyPair=function(e){e||(e={});for(var r=new IJ({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||m9e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new mf(2));;){var o=new mf(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};mc.prototype._truncateToN=function(e,r,n){var i;if(mf.isBN(e)||typeof e=="number")e=new mf(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new mf(e,16);else{var o=e.toString();i=o.length+1>>>1,e=new mf(o,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};mc.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!mf.isBN(e)){Wp(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Wp(e.length>>>0===e.length);for(var o=0;o<e.length;o++)Wp((e[o]&255)===e[o])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Wp(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),c=r.getPrivate().toArray("be",s),l=e.toArray("be",s);Wp(new mf(l).eq(e),"Can not sign message");for(var d=new IJ({hash:this.hash,entropy:c,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),g=this.n.sub(new mf(1)),b=0;;b++){var _=i.k?i.k(b):new mf(d.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(g)>=0)){var T=this.g.mul(_);if(!T.isInfinity()){var M=T.getX(),k=M.umod(this.n);if(k.cmpn(0)!==0){var B=_.invm(this.n).mul(k.mul(r.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var P=(T.getY().isOdd()?1:0)|(M.cmp(k)!==0?2:0);return i.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),P^=1),new Y_({r:k,s:B,recoveryParam:P})}}}}}};mc.prototype.verify=function(e,r,n,i,o){o||(o={}),e=this._truncateToN(e,!1,o.msgBitLength),n=this.keyFromPublic(n,i),r=new Y_(r,"hex");var s=r.r,c=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||c.cmpn(1)<0||c.cmp(this.n)>=0)return!1;var l=c.invm(this.n),d=l.mul(e).umod(this.n),g=l.mul(s).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(d,n.getPublic(),g),b.isInfinity()?!1:b.eqXToP(s)):(b=this.g.mulAdd(d,n.getPublic(),g),b.isInfinity()?!1:b.getX().umod(this.n).cmp(s)===0)};mc.prototype.recoverPubKey=function(t,e,r,n){Wp((3&r)===r,"The recovery param is more than two bits"),e=new Y_(e,n);var i=this.n,o=new mf(t),s=e.r,c=e.s,l=r&1,d=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var g=e.r.invm(i),b=i.sub(o).mul(g).umod(i),_=c.mul(g).umod(i);return this.g.mulAdd(b,s,_)};mc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Y_(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var CJ=F((hwt,BJ)=>{"use strict";h();p();var gw=Ma(),RJ=gw.assert,PJ=gw.parseBytes,Fg=gw.cachedProperty;function ao(t,e){this.eddsa=t,this._secret=PJ(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=PJ(e.pub)}ao.fromPublic=function(e,r){return r instanceof ao?r:new ao(e,{pub:r})};ao.fromSecret=function(e,r){return r instanceof ao?r:new ao(e,{secret:r})};ao.prototype.secret=function(){return this._secret};Fg(ao,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Fg(ao,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Fg(ao,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Fg(ao,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Fg(ao,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Fg(ao,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});ao.prototype.sign=function(e){return RJ(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};ao.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};ao.prototype.getSecret=function(e){return RJ(this._secret,"KeyPair is public only"),gw.encode(this.secret(),e)};ao.prototype.getPublic=function(e){return gw.encode(this.pubBytes(),e)};BJ.exports=ao});var DJ=F((ywt,OJ)=>{"use strict";h();p();var y9e=hu(),Z_=Ma(),NJ=Z_.assert,Q_=Z_.cachedProperty,g9e=Z_.parseBytes;function $p(t,e){this.eddsa=t,typeof e!="object"&&(e=g9e(e)),Array.isArray(e)&&(NJ(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),NJ(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof y9e&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Q_($p,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Q_($p,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Q_($p,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Q_($p,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});$p.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};$p.prototype.toHex=function(){return Z_.encode(this.toBytes(),"hex").toUpperCase()};OJ.exports=$p});var HJ=F((vwt,qJ)=>{"use strict";h();p();var b9e=Ug(),v9e=G_(),qg=Ma(),x9e=qg.assert,UJ=qg.parseBytes,FJ=CJ(),LJ=DJ();function ea(t){if(x9e(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ea))return new ea(t);t=v9e[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=b9e.sha512}qJ.exports=ea;ea.prototype.sign=function(e,r){e=UJ(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),c=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),l=i.add(c).umod(this.curve.n);return this.makeSignature({R:o,S:l,Rencoded:s})};ea.prototype.verify=function(e,r,n){if(e=UJ(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),c=r.R().add(i.pub().mul(o));return c.eq(s)};ea.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return qg.intFromLE(e.digest()).umod(this.curve.n)};ea.prototype.keyFromPublic=function(e){return FJ.fromPublic(this,e)};ea.prototype.keyFromSecret=function(e){return FJ.fromSecret(this,e)};ea.prototype.makeSignature=function(e){return e instanceof LJ?e:new LJ(this,e)};ea.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};ea.prototype.decodePoint=function(e){e=qg.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,o=qg.intFromLE(n);return this.curve.pointFromY(o,i)};ea.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ea.prototype.decodeInt=function(e){return qg.intFromLE(e)};ea.prototype.isPoint=function(e){return e instanceof this.pointClass}});var X_=F(KJ=>{"use strict";h();p();var Yp=KJ;Yp.version=vX().version;Yp.utils=Ma();Yp.rand=v_();Yp.curve=yB();Yp.curves=G_();Yp.ec=kJ();Yp.eddsa=HJ()});var OB=F((VJ,NB)=>{h();p();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Qy().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,m){if(typeof a=="number")return this._initNumber(a,u,m);if(typeof a=="object")return this._initArray(a,u,m);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(u===16?this._parseHex(a,y,m):(this._parseBase(a,u,y),m==="le"&&this._initArray(this.toArray(),u,m)))},i.prototype._initNumber=function(a,u,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},i.prototype._initArray=function(a,u,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,A=0;if(m==="be")for(y=a.length-1,w=0;y>=0;y-=3)E=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(m==="le")for(y=0,w=0;y<a.length;y+=3)E=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function s(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var m=s(S,u);return u-1>=a&&(m|=s(S,u-1)<<4),m}i.prototype._parseHex=function(a,u,m){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,A;if(m==="be")for(y=a.length-1;y>=u;y-=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8;else{var x=a.length-u;for(y=x%2===0?u+1:u;y<a.length;y+=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8}this.strip()};function l(S,a,u,m){for(var y=0,w=Math.min(S.length,u),E=a;E<w;E++){var A=S.charCodeAt(E)-48;y*=m,A>=49?y+=A-49+10:A>=17?y+=A-17+10:y+=A}return y}i.prototype._parseBase=function(a,u,m){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=u)y++;y--,w=w/u|0;for(var E=a.length-m,A=E%y,x=Math.min(E,E-A)+m,f=0,v=m;v<x;v+=y)f=l(a,v,v+y,u),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var q=1;for(f=l(a,v,a.length,u),v=0;v<A;v++)q*=u;this.imuln(q),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,w=0,E=0;E<this.length;E++){var A=this.words[E],x=((A<<y|w)&16777215).toString(16);w=A>>>24-y&16777215,w!==0||E!==this.length-1?m=d[6-x.length]+x+m:m=x+m,y+=2,y>=26&&(y-=26,E--)}for(w!==0&&(m=w.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var f=g[a],v=b[a];m="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modn(v).toString(a);q=q.idivn(v),q.isZero()?m=U+m:m=d[f-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,m){var y=this.byteLength(),w=m||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var E=u==="le",A=new a(w),x,f,v=this.clone();if(E){for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[f]=x;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-y;f++)A[f]=0;for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[w-f-1]=x}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,m=0;return u&8191||(m+=13,u>>>=13),u&127||(m+=7,u>>>=7),u&15||(m+=4,u>>>=4),u&3||(m+=2,u>>>=2),u&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function _(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var m=u/26|0,y=u%26;a[u]=(S.words[m]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,m;this.length>a.length?(u=this,m=a):(u=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=u.words[y]^m.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,m=a%26;this._expand(u),m>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var w=0,E=0;E<y.length;E++)u=(m.words[E]|0)+(y.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;for(;w!==0&&E<m.length;E++)u=(m.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;m>0?(y=this,w=a):(y=a,w=this);for(var E=0,A=0;A<w.length;A++)u=(y.words[A]|0)-(w.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;for(;E!==0&&A<y.length;A++)u=(y.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;if(E===0&&A<y.length&&y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=Math.max(this.length,A),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function T(S,a,u){u.negative=a.negative^S.negative;var m=S.length+a.length|0;u.length=m,m=m-1|0;var y=S.words[0]|0,w=a.words[0]|0,E=y*w,A=E&67108863,x=E/67108864|0;u.words[0]=A;for(var f=1;f<m;f++){for(var v=x>>>26,q=x&67108863,U=Math.min(f,a.length-1),O=Math.max(0,f-S.length+1);O<=U;O++){var W=f-O|0;y=S.words[W]|0,w=a.words[O]|0,E=y*w+q,v+=E/67108864|0,q=E&67108863}u.words[f]=q|0,x=v|0}return x!==0?u.words[f]=x|0:u.length--,u.strip()}var M=function(a,u,m){var y=a.words,w=u.words,E=m.words,A=0,x,f,v,q=y[0]|0,U=q&8191,O=q>>>13,W=y[1]|0,Q=W&8191,re=W>>>13,Ke=y[2]|0,se=Ke&8191,Z=Ke>>>13,ct=y[3]|0,de=ct&8191,he=ct>>>13,ur=y[4]|0,me=ur&8191,Se=ur>>>13,qn=y[5]|0,Ce=qn&8191,ye=qn>>>13,Jn=y[6]|0,Ne=Jn&8191,Te=Jn>>>13,di=y[7]|0,Ee=di&8191,Ie=di>>>13,ei=y[8]|0,Me=ei&8191,ke=ei>>>13,Si=y[9]|0,Le=Si&8191,Pe=Si>>>13,hi=w[0]|0,_e=hi&8191,ve=hi>>>13,kn=w[1]|0,xe=kn&8191,Ae=kn>>>13,Hn=w[2]|0,we=Hn&8191,Re=Hn>>>13,Ei=w[3]|0,Ue=Ei&8191,Fe=Ei>>>13,un=w[4]|0,ge=un&8191,be=un>>>13,pi=w[5]|0,Be=pi&8191,Oe=pi>>>13,Di=w[6]|0,pe=Di&8191,De=Di>>>13,H=w[7]|0,j=H&8191,K=H>>>13,N=w[8]|0,G=N&8191,Y=N>>>13,ae=w[9]|0,ee=ae&8191,ie=ae>>>13;m.negative=a.negative^u.negative,m.length=19,x=Math.imul(U,_e),f=Math.imul(U,ve),f=f+Math.imul(O,_e)|0,v=Math.imul(O,ve);var ot=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(Q,_e),f=Math.imul(Q,ve),f=f+Math.imul(re,_e)|0,v=Math.imul(re,ve),x=x+Math.imul(U,xe)|0,f=f+Math.imul(U,Ae)|0,f=f+Math.imul(O,xe)|0,v=v+Math.imul(O,Ae)|0;var Ze=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(se,_e),f=Math.imul(se,ve),f=f+Math.imul(Z,_e)|0,v=Math.imul(Z,ve),x=x+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(re,xe)|0,v=v+Math.imul(re,Ae)|0,x=x+Math.imul(U,we)|0,f=f+Math.imul(U,Re)|0,f=f+Math.imul(O,we)|0,v=v+Math.imul(O,Re)|0;var At=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(de,_e),f=Math.imul(de,ve),f=f+Math.imul(he,_e)|0,v=Math.imul(he,ve),x=x+Math.imul(se,xe)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Ae)|0,x=x+Math.imul(Q,we)|0,f=f+Math.imul(Q,Re)|0,f=f+Math.imul(re,we)|0,v=v+Math.imul(re,Re)|0,x=x+Math.imul(U,Ue)|0,f=f+Math.imul(U,Fe)|0,f=f+Math.imul(O,Ue)|0,v=v+Math.imul(O,Fe)|0;var Je=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(me,_e),f=Math.imul(me,ve),f=f+Math.imul(Se,_e)|0,v=Math.imul(Se,ve),x=x+Math.imul(de,xe)|0,f=f+Math.imul(de,Ae)|0,f=f+Math.imul(he,xe)|0,v=v+Math.imul(he,Ae)|0,x=x+Math.imul(se,we)|0,f=f+Math.imul(se,Re)|0,f=f+Math.imul(Z,we)|0,v=v+Math.imul(Z,Re)|0,x=x+Math.imul(Q,Ue)|0,f=f+Math.imul(Q,Fe)|0,f=f+Math.imul(re,Ue)|0,v=v+Math.imul(re,Fe)|0,x=x+Math.imul(U,ge)|0,f=f+Math.imul(U,be)|0,f=f+Math.imul(O,ge)|0,v=v+Math.imul(O,be)|0;var lt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Ce,_e),f=Math.imul(Ce,ve),f=f+Math.imul(ye,_e)|0,v=Math.imul(ye,ve),x=x+Math.imul(me,xe)|0,f=f+Math.imul(me,Ae)|0,f=f+Math.imul(Se,xe)|0,v=v+Math.imul(Se,Ae)|0,x=x+Math.imul(de,we)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(he,we)|0,v=v+Math.imul(he,Re)|0,x=x+Math.imul(se,Ue)|0,f=f+Math.imul(se,Fe)|0,f=f+Math.imul(Z,Ue)|0,v=v+Math.imul(Z,Fe)|0,x=x+Math.imul(Q,ge)|0,f=f+Math.imul(Q,be)|0,f=f+Math.imul(re,ge)|0,v=v+Math.imul(re,be)|0,x=x+Math.imul(U,Be)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(O,Be)|0,v=v+Math.imul(O,Oe)|0;var dt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(Ne,_e),f=Math.imul(Ne,ve),f=f+Math.imul(Te,_e)|0,v=Math.imul(Te,ve),x=x+Math.imul(Ce,xe)|0,f=f+Math.imul(Ce,Ae)|0,f=f+Math.imul(ye,xe)|0,v=v+Math.imul(ye,Ae)|0,x=x+Math.imul(me,we)|0,f=f+Math.imul(me,Re)|0,f=f+Math.imul(Se,we)|0,v=v+Math.imul(Se,Re)|0,x=x+Math.imul(de,Ue)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(he,Ue)|0,v=v+Math.imul(he,Fe)|0,x=x+Math.imul(se,ge)|0,f=f+Math.imul(se,be)|0,f=f+Math.imul(Z,ge)|0,v=v+Math.imul(Z,be)|0,x=x+Math.imul(Q,Be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(re,Be)|0,v=v+Math.imul(re,Oe)|0,x=x+Math.imul(U,pe)|0,f=f+Math.imul(U,De)|0,f=f+Math.imul(O,pe)|0,v=v+Math.imul(O,De)|0;var gt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(Ee,_e),f=Math.imul(Ee,ve),f=f+Math.imul(Ie,_e)|0,v=Math.imul(Ie,ve),x=x+Math.imul(Ne,xe)|0,f=f+Math.imul(Ne,Ae)|0,f=f+Math.imul(Te,xe)|0,v=v+Math.imul(Te,Ae)|0,x=x+Math.imul(Ce,we)|0,f=f+Math.imul(Ce,Re)|0,f=f+Math.imul(ye,we)|0,v=v+Math.imul(ye,Re)|0,x=x+Math.imul(me,Ue)|0,f=f+Math.imul(me,Fe)|0,f=f+Math.imul(Se,Ue)|0,v=v+Math.imul(Se,Fe)|0,x=x+Math.imul(de,ge)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(he,ge)|0,v=v+Math.imul(he,be)|0,x=x+Math.imul(se,Be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(Z,Be)|0,v=v+Math.imul(Z,Oe)|0,x=x+Math.imul(Q,pe)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(re,pe)|0,v=v+Math.imul(re,De)|0,x=x+Math.imul(U,j)|0,f=f+Math.imul(U,K)|0,f=f+Math.imul(O,j)|0,v=v+Math.imul(O,K)|0;var yt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,x=Math.imul(Me,_e),f=Math.imul(Me,ve),f=f+Math.imul(ke,_e)|0,v=Math.imul(ke,ve),x=x+Math.imul(Ee,xe)|0,f=f+Math.imul(Ee,Ae)|0,f=f+Math.imul(Ie,xe)|0,v=v+Math.imul(Ie,Ae)|0,x=x+Math.imul(Ne,we)|0,f=f+Math.imul(Ne,Re)|0,f=f+Math.imul(Te,we)|0,v=v+Math.imul(Te,Re)|0,x=x+Math.imul(Ce,Ue)|0,f=f+Math.imul(Ce,Fe)|0,f=f+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Fe)|0,x=x+Math.imul(me,ge)|0,f=f+Math.imul(me,be)|0,f=f+Math.imul(Se,ge)|0,v=v+Math.imul(Se,be)|0,x=x+Math.imul(de,Be)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(he,Be)|0,v=v+Math.imul(he,Oe)|0,x=x+Math.imul(se,pe)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(Z,pe)|0,v=v+Math.imul(Z,De)|0,x=x+Math.imul(Q,j)|0,f=f+Math.imul(Q,K)|0,f=f+Math.imul(re,j)|0,v=v+Math.imul(re,K)|0,x=x+Math.imul(U,G)|0,f=f+Math.imul(U,Y)|0,f=f+Math.imul(O,G)|0,v=v+Math.imul(O,Y)|0;var ht=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,x=Math.imul(Le,_e),f=Math.imul(Le,ve),f=f+Math.imul(Pe,_e)|0,v=Math.imul(Pe,ve),x=x+Math.imul(Me,xe)|0,f=f+Math.imul(Me,Ae)|0,f=f+Math.imul(ke,xe)|0,v=v+Math.imul(ke,Ae)|0,x=x+Math.imul(Ee,we)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(Ie,we)|0,v=v+Math.imul(Ie,Re)|0,x=x+Math.imul(Ne,Ue)|0,f=f+Math.imul(Ne,Fe)|0,f=f+Math.imul(Te,Ue)|0,v=v+Math.imul(Te,Fe)|0,x=x+Math.imul(Ce,ge)|0,f=f+Math.imul(Ce,be)|0,f=f+Math.imul(ye,ge)|0,v=v+Math.imul(ye,be)|0,x=x+Math.imul(me,Be)|0,f=f+Math.imul(me,Oe)|0,f=f+Math.imul(Se,Be)|0,v=v+Math.imul(Se,Oe)|0,x=x+Math.imul(de,pe)|0,f=f+Math.imul(de,De)|0,f=f+Math.imul(he,pe)|0,v=v+Math.imul(he,De)|0,x=x+Math.imul(se,j)|0,f=f+Math.imul(se,K)|0,f=f+Math.imul(Z,j)|0,v=v+Math.imul(Z,K)|0,x=x+Math.imul(Q,G)|0,f=f+Math.imul(Q,Y)|0,f=f+Math.imul(re,G)|0,v=v+Math.imul(re,Y)|0,x=x+Math.imul(U,ee)|0,f=f+Math.imul(U,ie)|0,f=f+Math.imul(O,ee)|0,v=v+Math.imul(O,ie)|0;var mt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Le,xe),f=Math.imul(Le,Ae),f=f+Math.imul(Pe,xe)|0,v=Math.imul(Pe,Ae),x=x+Math.imul(Me,we)|0,f=f+Math.imul(Me,Re)|0,f=f+Math.imul(ke,we)|0,v=v+Math.imul(ke,Re)|0,x=x+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(Ie,Ue)|0,v=v+Math.imul(Ie,Fe)|0,x=x+Math.imul(Ne,ge)|0,f=f+Math.imul(Ne,be)|0,f=f+Math.imul(Te,ge)|0,v=v+Math.imul(Te,be)|0,x=x+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,Oe)|0,f=f+Math.imul(ye,Be)|0,v=v+Math.imul(ye,Oe)|0,x=x+Math.imul(me,pe)|0,f=f+Math.imul(me,De)|0,f=f+Math.imul(Se,pe)|0,v=v+Math.imul(Se,De)|0,x=x+Math.imul(de,j)|0,f=f+Math.imul(de,K)|0,f=f+Math.imul(he,j)|0,v=v+Math.imul(he,K)|0,x=x+Math.imul(se,G)|0,f=f+Math.imul(se,Y)|0,f=f+Math.imul(Z,G)|0,v=v+Math.imul(Z,Y)|0,x=x+Math.imul(Q,ee)|0,f=f+Math.imul(Q,ie)|0,f=f+Math.imul(re,ee)|0,v=v+Math.imul(re,ie)|0;var pt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,we),f=Math.imul(Le,Re),f=f+Math.imul(Pe,we)|0,v=Math.imul(Pe,Re),x=x+Math.imul(Me,Ue)|0,f=f+Math.imul(Me,Fe)|0,f=f+Math.imul(ke,Ue)|0,v=v+Math.imul(ke,Fe)|0,x=x+Math.imul(Ee,ge)|0,f=f+Math.imul(Ee,be)|0,f=f+Math.imul(Ie,ge)|0,v=v+Math.imul(Ie,be)|0,x=x+Math.imul(Ne,Be)|0,f=f+Math.imul(Ne,Oe)|0,f=f+Math.imul(Te,Be)|0,v=v+Math.imul(Te,Oe)|0,x=x+Math.imul(Ce,pe)|0,f=f+Math.imul(Ce,De)|0,f=f+Math.imul(ye,pe)|0,v=v+Math.imul(ye,De)|0,x=x+Math.imul(me,j)|0,f=f+Math.imul(me,K)|0,f=f+Math.imul(Se,j)|0,v=v+Math.imul(Se,K)|0,x=x+Math.imul(de,G)|0,f=f+Math.imul(de,Y)|0,f=f+Math.imul(he,G)|0,v=v+Math.imul(he,Y)|0,x=x+Math.imul(se,ee)|0,f=f+Math.imul(se,ie)|0,f=f+Math.imul(Z,ee)|0,v=v+Math.imul(Z,ie)|0;var tt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(Le,Ue),f=Math.imul(Le,Fe),f=f+Math.imul(Pe,Ue)|0,v=Math.imul(Pe,Fe),x=x+Math.imul(Me,ge)|0,f=f+Math.imul(Me,be)|0,f=f+Math.imul(ke,ge)|0,v=v+Math.imul(ke,be)|0,x=x+Math.imul(Ee,Be)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(Ie,Be)|0,v=v+Math.imul(Ie,Oe)|0,x=x+Math.imul(Ne,pe)|0,f=f+Math.imul(Ne,De)|0,f=f+Math.imul(Te,pe)|0,v=v+Math.imul(Te,De)|0,x=x+Math.imul(Ce,j)|0,f=f+Math.imul(Ce,K)|0,f=f+Math.imul(ye,j)|0,v=v+Math.imul(ye,K)|0,x=x+Math.imul(me,G)|0,f=f+Math.imul(me,Y)|0,f=f+Math.imul(Se,G)|0,v=v+Math.imul(Se,Y)|0,x=x+Math.imul(de,ee)|0,f=f+Math.imul(de,ie)|0,f=f+Math.imul(he,ee)|0,v=v+Math.imul(he,ie)|0;var st=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Le,ge),f=Math.imul(Le,be),f=f+Math.imul(Pe,ge)|0,v=Math.imul(Pe,be),x=x+Math.imul(Me,Be)|0,f=f+Math.imul(Me,Oe)|0,f=f+Math.imul(ke,Be)|0,v=v+Math.imul(ke,Oe)|0,x=x+Math.imul(Ee,pe)|0,f=f+Math.imul(Ee,De)|0,f=f+Math.imul(Ie,pe)|0,v=v+Math.imul(Ie,De)|0,x=x+Math.imul(Ne,j)|0,f=f+Math.imul(Ne,K)|0,f=f+Math.imul(Te,j)|0,v=v+Math.imul(Te,K)|0,x=x+Math.imul(Ce,G)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(ye,G)|0,v=v+Math.imul(ye,Y)|0,x=x+Math.imul(me,ee)|0,f=f+Math.imul(me,ie)|0,f=f+Math.imul(Se,ee)|0,v=v+Math.imul(Se,ie)|0;var Xe=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(Le,Be),f=Math.imul(Le,Oe),f=f+Math.imul(Pe,Be)|0,v=Math.imul(Pe,Oe),x=x+Math.imul(Me,pe)|0,f=f+Math.imul(Me,De)|0,f=f+Math.imul(ke,pe)|0,v=v+Math.imul(ke,De)|0,x=x+Math.imul(Ee,j)|0,f=f+Math.imul(Ee,K)|0,f=f+Math.imul(Ie,j)|0,v=v+Math.imul(Ie,K)|0,x=x+Math.imul(Ne,G)|0,f=f+Math.imul(Ne,Y)|0,f=f+Math.imul(Te,G)|0,v=v+Math.imul(Te,Y)|0,x=x+Math.imul(Ce,ee)|0,f=f+Math.imul(Ce,ie)|0,f=f+Math.imul(ye,ee)|0,v=v+Math.imul(ye,ie)|0;var rt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(Le,pe),f=Math.imul(Le,De),f=f+Math.imul(Pe,pe)|0,v=Math.imul(Pe,De),x=x+Math.imul(Me,j)|0,f=f+Math.imul(Me,K)|0,f=f+Math.imul(ke,j)|0,v=v+Math.imul(ke,K)|0,x=x+Math.imul(Ee,G)|0,f=f+Math.imul(Ee,Y)|0,f=f+Math.imul(Ie,G)|0,v=v+Math.imul(Ie,Y)|0,x=x+Math.imul(Ne,ee)|0,f=f+Math.imul(Ne,ie)|0,f=f+Math.imul(Te,ee)|0,v=v+Math.imul(Te,ie)|0;var it=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(it>>>26)|0,it&=67108863,x=Math.imul(Le,j),f=Math.imul(Le,K),f=f+Math.imul(Pe,j)|0,v=Math.imul(Pe,K),x=x+Math.imul(Me,G)|0,f=f+Math.imul(Me,Y)|0,f=f+Math.imul(ke,G)|0,v=v+Math.imul(ke,Y)|0,x=x+Math.imul(Ee,ee)|0,f=f+Math.imul(Ee,ie)|0,f=f+Math.imul(Ie,ee)|0,v=v+Math.imul(Ie,ie)|0;var Ye=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(Le,G),f=Math.imul(Le,Y),f=f+Math.imul(Pe,G)|0,v=Math.imul(Pe,Y),x=x+Math.imul(Me,ee)|0,f=f+Math.imul(Me,ie)|0,f=f+Math.imul(ke,ee)|0,v=v+Math.imul(ke,ie)|0;var ce=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,x=Math.imul(Le,ee),f=Math.imul(Le,ie),f=f+Math.imul(Pe,ee)|0,v=Math.imul(Pe,ie);var fe=(A+x|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,E[0]=ot,E[1]=Ze,E[2]=At,E[3]=Je,E[4]=lt,E[5]=dt,E[6]=gt,E[7]=yt,E[8]=ht,E[9]=mt,E[10]=pt,E[11]=tt,E[12]=st,E[13]=Xe,E[14]=rt,E[15]=it,E[16]=Ye,E[17]=ce,E[18]=fe,A!==0&&(E[19]=A,m.length++),m};Math.imul||(M=T);function k(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var m=0,y=0,w=0;w<u.length-1;w++){var E=y;y=0;for(var A=m&67108863,x=Math.min(w,a.length-1),f=Math.max(0,w-S.length+1);f<=x;f++){var v=w-f,q=S.words[v]|0,U=a.words[f]|0,O=q*U,W=O&67108863;E=E+(O/67108864|0)|0,W=W+A|0,A=W&67108863,E=E+(W>>>26)|0,y+=E>>>26,E&=67108863}u.words[w]=A,m=E,E=y}return m!==0?u.words[w]=m:u.length--,u.strip()}function B(S,a,u){var m=new P;return m.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=M(this,a,u):y<63?m=T(this,a,u):y<1024?m=k(this,a,u):m=B(this,a,u),m};function P(S,a){this.x=S,this.y=a}P.prototype.makeRBT=function(a){for(var u=new Array(a),m=i.prototype._countBits(a)-1,y=0;y<a;y++)u[y]=this.revBin(y,m,a);return u},P.prototype.revBin=function(a,u,m){if(a===0||a===m-1)return a;for(var y=0,w=0;w<u;w++)y|=(a&1)<<u-w-1,a>>=1;return y},P.prototype.permute=function(a,u,m,y,w,E){for(var A=0;A<E;A++)y[A]=u[a[A]],w[A]=m[a[A]]},P.prototype.transform=function(a,u,m,y,w,E){this.permute(E,a,u,m,y,w);for(var A=1;A<w;A<<=1)for(var x=A<<1,f=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),q=0;q<w;q+=x)for(var U=f,O=v,W=0;W<A;W++){var Q=m[q+W],re=y[q+W],Ke=m[q+W+A],se=y[q+W+A],Z=U*Ke-O*se;se=U*se+O*Ke,Ke=Z,m[q+W]=Q+Ke,y[q+W]=re+se,m[q+W+A]=Q-Ke,y[q+W+A]=re-se,W!==x&&(Z=f*U-v*O,O=f*O+v*U,U=Z)}},P.prototype.guessLen13b=function(a,u){var m=Math.max(u,a)|1,y=m&1,w=0;for(m=m/2|0;m;m=m>>>1)w++;return 1<<w+1+y},P.prototype.conjugate=function(a,u,m){if(!(m<=1))for(var y=0;y<m/2;y++){var w=a[y];a[y]=a[m-y-1],a[m-y-1]=w,w=u[y],u[y]=-u[m-y-1],u[m-y-1]=-w}},P.prototype.normalize13b=function(a,u){for(var m=0,y=0;y<u/2;y++){var w=Math.round(a[2*y+1]/u)*8192+Math.round(a[2*y]/u)+m;a[y]=w&67108863,w<67108864?m=0:m=w/67108864|0}return a},P.prototype.convert13b=function(a,u,m,y){for(var w=0,E=0;E<u;E++)w=w+(a[E]|0),m[2*E]=w&8191,w=w>>>13,m[2*E+1]=w&8191,w=w>>>13;for(E=2*u;E<y;++E)m[E]=0;r(w===0),r((w&-8192)===0)},P.prototype.stub=function(a){for(var u=new Array(a),m=0;m<a;m++)u[m]=0;return u},P.prototype.mulp=function(a,u,m){var y=2*this.guessLen13b(a.length,u.length),w=this.makeRBT(y),E=this.stub(y),A=new Array(y),x=new Array(y),f=new Array(y),v=new Array(y),q=new Array(y),U=new Array(y),O=m.words;O.length=y,this.convert13b(a.words,a.length,A,y),this.convert13b(u.words,u.length,v,y),this.transform(A,E,x,f,y,w),this.transform(v,E,q,U,y,w);for(var W=0;W<y;W++){var Q=x[W]*q[W]-f[W]*U[W];f[W]=x[W]*U[W]+f[W]*q[W],x[W]=Q}return this.conjugate(x,f,y),this.transform(x,f,O,E,y,w),this.conjugate(O,E,y),this.normalize13b(O,y),m.negative=a.negative^u.negative,m.length=a.length+u.length,m.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),B(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,m=0;m<this.length;m++){var y=(this.words[m]|0)*a,w=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=w>>>26,this.words[m]=w&67108863}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=_(a);if(u.length===0)return new i(1);for(var m=this,y=0;y<u.length&&u[y]===0;y++,m=m.sqr());if(++y<u.length)for(var w=m.sqr();y<u.length;y++,w=w.sqr())u[y]!==0&&(m=m.mul(w));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=67108863>>>26-u<<26-u,w;if(u!==0){var E=0;for(w=0;w<this.length;w++){var A=this.words[w]&y,x=(this.words[w]|0)-A<<u;this.words[w]=x|E,E=A>>>26-u}E&&(this.words[w]=E,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,m){r(typeof a=="number"&&a>=0);var y;u?y=(u-u%26)/26:y=0;var w=a%26,E=Math.min((a-w)/26,this.length),A=67108863^67108863>>>w<<w,x=m;if(y-=E,y=Math.max(0,y),x){for(var f=0;f<E;f++)x.words[f]=this.words[f];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=y);f--){var q=this.words[f]|0;this.words[f]=v<<26-w|q>>>w,v=q&A}return x&&v!==0&&(x.words[x.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,m){return r(this.negative===0),this.iushrn(a,u,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return!1;var w=this.words[m];return!!(w&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,m){var y=a.length+m,w;this._expand(y);var E,A=0;for(w=0;w<a.length;w++){E=(this.words[w+m]|0)+A;var x=(a.words[w]|0)*u;E-=x&67108863,A=(E>>26)-(x/67108864|0),this.words[w+m]=E&67108863}for(;w<this.length-m;w++)E=(this.words[w+m]|0)+A,A=E>>26,this.words[w+m]=E&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+A,A=E>>26,this.words[w]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var m=this.length-a.length,y=this.clone(),w=a,E=w.words[w.length-1]|0,A=this._countBits(E);m=26-A,m!==0&&(w=w.ushln(m),y.iushln(m),E=w.words[w.length-1]|0);var x=y.length-w.length,f;if(u!=="mod"){f=new i(null),f.length=x+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var q=y.clone()._ishlnsubmul(w,1,x);q.negative===0&&(y=q,f&&(f.words[x]=1));for(var U=x-1;U>=0;U--){var O=(y.words[w.length+U]|0)*67108864+(y.words[w.length+U-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,U),y.isZero()||(y.negative^=1);f&&(f.words[U]=O)}return f&&f.strip(),y.strip(),u!=="div"&&m!==0&&y.iushrn(m),{div:f||null,mod:y}},i.prototype.divmod=function(a,u,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,w,E;return this.negative!==0&&a.negative===0?(E=this.neg().divmod(a,u),u!=="mod"&&(y=E.div.neg()),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.iadd(a)),{div:y,mod:w}):this.negative===0&&a.negative!==0?(E=this.divmod(a.neg(),u),u!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):this.negative&a.negative?(E=this.neg().divmod(a.neg(),u),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.isub(a)),{div:E.div,mod:w}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(a):u.mod,y=a.ushrn(1),w=a.andln(1),E=m.cmp(y);return E<0||w===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,m=0,y=this.length-1;y>=0;y--)m=(u*m+(this.words[y]|0))%a;return m},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,m=this.length-1;m>=0;m--){var y=(this.words[m]|0)+u*67108864;this.words[m]=y/a|0,u=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=new i(0),A=new i(1),x=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++x;for(var f=m.clone(),v=u.clone();!u.isZero();){for(var q=0,U=1;!(u.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(u.iushrn(q);q-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(f),w.isub(v)),y.iushrn(1),w.iushrn(1);for(var O=0,W=1;!(m.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(m.iushrn(O);O-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(f),A.isub(v)),E.iushrn(1),A.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(E),w.isub(A)):(m.isub(u),E.isub(y),A.isub(w))}return{a:E,b:A,gcd:m.iushln(x)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,x=1;!(u.words[0]&x)&&A<26;++A,x<<=1);if(A>0)for(u.iushrn(A);A-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var f=0,v=1;!(m.words[0]&v)&&f<26;++f,v<<=1);if(f>0)for(m.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(w)):(m.isub(u),w.isub(y))}var q;return u.cmpn(1)===0?q=y:q=w,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),m=a.clone();u.negative=0,m.negative=0;for(var y=0;u.isEven()&&m.isEven();y++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=u.cmp(m);if(w<0){var E=u;u=m,m=E}else if(w===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var w=y,E=m;w!==0&&E<this.length;E++){var A=this.words[E]|0;A+=w,w=A>>>26,A&=67108863,this.words[E]=A}return w!==0&&(this.words[E]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var m;if(this.length>1)m=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,w=a.words[m]|0;if(y!==w){y<w?u=-1:y>w&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new $(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function R(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},R.prototype.ireduce=function(a){var u=a,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var y=m<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(a,u){a.iushrn(this.n,0,u)},R.prototype.imulK=function(a){return a.imul(this.k)};function L(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,R),L.prototype.split=function(a,u){for(var m=4194303,y=Math.min(a.length,9),w=0;w<y;w++)u.words[w]=a.words[w];if(u.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var E=a.words[9];for(u.words[u.length++]=E&m,w=10;w<a.length;w++){var A=a.words[w]|0;a.words[w-10]=(A&m)<<4|E>>>22,E=A}E>>>=22,a.words[w-10]=E,E===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,m=0;m<a.length;m++){var y=a.words[m]|0;u+=y*977,a.words[m]=u&67108863,u=y*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,R);function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(z,R);function oe(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(oe,R),oe.prototype.imulK=function(a){for(var u=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+u,w=y&67108863;y>>>=26,a.words[m]=w,u=y}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new L;else if(a==="p224")u=new V;else if(a==="p192")u=new z;else if(a==="p25519")u=new oe;else throw new Error("Unknown prime "+a);return D[a]=u,u};function $(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},$.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},$.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},$.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},$.prototype.add=function(a,u){this._verify2(a,u);var m=a.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(a,u){this._verify2(a,u);var m=a.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(a,u){this._verify2(a,u);var m=a.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(a,u){this._verify2(a,u);var m=a.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},$.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},$.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},$.prototype.isqr=function(a){return this.imul(a,a.clone())},$.prototype.sqr=function(a){return this.mul(a,a)},$.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var E=new i(1).toRed(this),A=E.redNeg(),x=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,x).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,y),q=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=w;U.cmp(E)!==0;){for(var W=U,Q=0;W.cmp(E)!==0;Q++)W=W.redSqr();r(Q<O);var re=this.pow(v,new i(1).iushln(O-Q-1));q=q.redMul(re),v=re.redSqr(),U=U.redMul(v),O=Q}return q},$.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},$.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new i(1).toRed(this),y[1]=a;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],a);var E=y[0],A=0,x=0,f=u.bitLength()%26;for(f===0&&(f=26),w=u.length-1;w>=0;w--){for(var v=u.words[w],q=f-1;q>=0;q--){var U=v>>q&1;if(E!==y[0]&&(E=this.sqr(E)),U===0&&A===0){x=0;continue}A<<=1,A|=U,x++,!(x!==m&&(w!==0||q!==0))&&(E=this.mul(E,y[A]),x=0,A=0)}f=26}return E},$.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},$.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new ne(a)};function ne(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,$),ne.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ne.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var m=a.mul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof NB>"u"||NB,VJ)});var e4=F((Iwt,jJ)=>{"use strict";h();p();var J_=_i(),Hg=J_.Buffer,yc={},gc;for(gc in J_)J_.hasOwnProperty(gc)&&(gc==="SlowBuffer"||gc==="Buffer"||(yc[gc]=J_[gc]));var Kg=yc.Buffer={};for(gc in Hg)Hg.hasOwnProperty(gc)&&(gc==="allocUnsafe"||gc==="allocUnsafeSlow"||(Kg[gc]=Hg[gc]));yc.Buffer.prototype=Hg.prototype;(!Kg.from||Kg.from===Uint8Array.from)&&(Kg.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Hg(t,e,r)});Kg.alloc||(Kg.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Hg(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!yc.kStringMaxLength)try{yc.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}yc.constants||(yc.constants={MAX_LENGTH:yc.kMaxLength},yc.kStringMaxLength&&(yc.constants.MAX_STRING_LENGTH=yc.kStringMaxLength));jJ.exports=yc});var t4=F(zJ=>{"use strict";h();p();var w9e=qt();function bc(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}zJ.Reporter=bc;bc.prototype.isError=function(e){return e instanceof Vg};bc.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};bc.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};bc.prototype.enterKey=function(e){return this._reporterState.path.push(e)};bc.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};bc.prototype.leaveKey=function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};bc.prototype.path=function(){return this._reporterState.path.join("/")};bc.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};bc.prototype.leaveObject=function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n};bc.prototype.error=function(e){let r,n=this._reporterState,i=e instanceof Vg;if(i?r=e:r=new Vg(n.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};bc.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Vg(t,e){this.path=t,this.rethrow(e)}w9e(Vg,Error);Vg.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Vg),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var Gg=F(DB=>{"use strict";h();p();var S9e=qt(),r4=t4().Reporter,jg=e4().Buffer;function vc(t,e){if(r4.call(this,e),!jg.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}S9e(vc,r4);DB.DecoderBuffer=vc;vc.isDecoderBuffer=function(e){return e instanceof vc?!0:typeof e=="object"&&jg.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};vc.prototype.save=function(){return{offset:this.offset,reporter:r4.prototype.save.call(this)}};vc.prototype.restore=function(e){let r=new vc(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,r4.prototype.restore.call(this,e.reporter),r};vc.prototype.isEmpty=function(){return this.offset===this.length};vc.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};vc.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new vc(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};vc.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function zg(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return zg.isEncoderBuffer(r)||(r=new zg(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=jg.byteLength(t);else if(jg.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}DB.EncoderBuffer=zg;zg.isEncoderBuffer=function(e){return e instanceof zg?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};zg.prototype.join=function(e,r){return e||(e=jg.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):jg.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var n4=F((Dwt,WJ)=>{"use strict";h();p();var E9e=t4().Reporter,_9e=Gg().EncoderBuffer,A9e=Gg().DecoderBuffer,Rs=Ia(),GJ=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],T9e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(GJ),I9e=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function tn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}WJ.exports=tn;var M9e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];tn.prototype.clone=function(){let e=this._baseState,r={};M9e.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n};tn.prototype._wrap=function(){let e=this._baseState;T9e.forEach(function(r){this[r]=function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};tn.prototype._init=function(e){let r=this._baseState;Rs(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Rs.equal(r.children.length,1,"Root node can have only one child")};tn.prototype._useArgs=function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Rs(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Rs(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let o={};return Object.keys(i).forEach(function(s){s==(s|0)&&(s|=0);let c=i[s];o[c]=s}),o}))};I9e.forEach(function(t){tn.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});GJ.forEach(function(t){tn.prototype[t]=function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Rs(r.tag===null),r.tag=t,this._useArgs(n),this}});tn.prototype.use=function(e){Rs(e);let r=this._baseState;return Rs(r.use===null),r.use=e,this};tn.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};tn.prototype.def=function(e){let r=this._baseState;return Rs(r.default===null),r.default=e,r.optional=!0,this};tn.prototype.explicit=function(e){let r=this._baseState;return Rs(r.explicit===null&&r.implicit===null),r.explicit=e,this};tn.prototype.implicit=function(e){let r=this._baseState;return Rs(r.explicit===null&&r.implicit===null),r.implicit=e,this};tn.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};tn.prototype.key=function(e){let r=this._baseState;return Rs(r.key===null),r.key=e,this};tn.prototype.any=function(){let e=this._baseState;return e.any=!0,this};tn.prototype.choice=function(e){let r=this._baseState;return Rs(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};tn.prototype.contains=function(e){let r=this._baseState;return Rs(r.use===null),r.contains=e,this};tn.prototype._decode=function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,o=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let d=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(d)}else if(o=this._peekTag(e,l,n.any),e.isError(o))return o}let c;if(n.obj&&o&&(c=e.enterObject()),o){if(n.explicit!==null){let d=this._decodeTag(e,n.explicit);if(e.isError(d))return d;e=d}let l=e.offset;if(n.use===null&&n.choice===null){let d;n.any&&(d=e.save());let g=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(g))return g;n.any?i=e.raw(d):e=g}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(g){g._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let d=new A9e(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(d,r)}}return n.obj&&o&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||o===!0)?e.leaveKey(s,n.key,i):s!==null&&e.exitKey(s),i};tn.prototype._decodeGeneric=function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};tn.prototype._getUse=function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Rs(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};tn.prototype._decodeChoice=function(e,r){let n=this._baseState,i=null,o=!1;return Object.keys(n.choice).some(function(s){let c=e.save(),l=n.choice[s];try{let d=l._decode(e,r);if(e.isError(d))return!1;i={type:s,value:d},o=!0}catch{return e.restore(c),!1}return!0},this),o?i:e.error("Choice not matched")};tn.prototype._createEncoderBuffer=function(e){return new _9e(e,this.reporter)};tn.prototype._encode=function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let o=this._encodeValue(e,r,n);if(o!==void 0&&!this._skipDefault(o,r,n))return o};tn.prototype._encodeValue=function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new E9e);let o=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let s=null,c=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,r),c=!0;else if(i.children)s=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let d=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let g=l._encode(e[l._baseState.key],r,e);return r.leaveKey(d),g},this).filter(function(l){return l}),s=this._createEncoderBuffer(s);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(d){let g=this._baseState;return this._getUse(g.args[0],e)._encode(d,r)},l))}else i.use!==null?o=this._getUse(i.use,n)._encode(e,r):(s=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,d=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(o=this._encodeComposite(l,c,d,s))}return i.explicit!==null&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o};tn.prototype._encodeChoice=function(e,r){let n=this._baseState,i=n.choice[e.type];return i||Rs(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};tn.prototype._encodePrimitive=function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};tn.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};tn.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var i4=F(Zp=>{"use strict";h();p();function $J(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}Zp.tagClass={0:"universal",1:"application",2:"context",3:"private"};Zp.tagClassByName=$J(Zp.tagClass);Zp.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Zp.tagByName=$J(Zp.tag)});var UB=F((Kwt,QJ)=>{"use strict";h();p();var k9e=qt(),Cl=e4().Buffer,YJ=n4(),LB=i4();function ZJ(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new yf,this.tree._init(t.body)}QJ.exports=ZJ;ZJ.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function yf(t){YJ.call(this,"der",t)}k9e(yf,YJ);yf.prototype._encodeComposite=function(e,r,n,i){let o=P9e(e,r,n,this.reporter);if(i.length<128){let l=Cl.alloc(2);return l[0]=o,l[1]=i.length,this._createEncoderBuffer([l,i])}let s=1;for(let l=i.length;l>=256;l>>=8)s++;let c=Cl.alloc(2+s);c[0]=o,c[1]=128|s;for(let l=1+s,d=i.length;d>0;l--,d>>=8)c[l]=d&255;return this._createEncoderBuffer([c,i])};yf.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=Cl.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};yf.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let l=e[c];for(i++;l>=128;l>>=7)i++}let o=Cl.alloc(i),s=o.length-1;for(let c=e.length-1;c>=0;c--){let l=e[c];for(o[s--]=l&127;(l>>=7)>0;)o[s--]=128|l&127}return this._createEncoderBuffer(o)};function xc(t){return t<10?"0"+t:t}yf.prototype._encodeTime=function(e,r){let n,i=new Date(e);return r==="gentime"?n=[xc(i.getUTCFullYear()),xc(i.getUTCMonth()+1),xc(i.getUTCDate()),xc(i.getUTCHours()),xc(i.getUTCMinutes()),xc(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[xc(i.getUTCFullYear()%100),xc(i.getUTCMonth()+1),xc(i.getUTCDate()),xc(i.getUTCHours()),xc(i.getUTCMinutes()),xc(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};yf.prototype._encodeNull=function(){return this._createEncoderBuffer("")};yf.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Cl.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=Cl.from(o)}if(Cl.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=Cl.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let o=e;o>=256;o>>=8)n++;let i=new Array(n);for(let o=i.length-1;o>=0;o--)i[o]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Cl.from(i))};yf.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};yf.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};yf.prototype._skipDefault=function(e,r,n){let i=this._baseState,o;if(i.default===null)return!1;let s=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),s.length!==i.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==i.defaultBuffer[o])return!1;return!0};function P9e(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),LB.tagByName.hasOwnProperty(t))i=LB.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=LB.tagClassByName[r||"universal"]<<6,i)}});var JJ=F((zwt,XJ)=>{"use strict";h();p();var R9e=qt(),FB=UB();function qB(t){FB.call(this,t),this.enc="pem"}R9e(qB,FB);XJ.exports=qB;qB.prototype.encode=function(e,r){let i=FB.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<i.length;s+=64)o.push(i.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var HB=F(tee=>{"use strict";h();p();var eee=tee;eee.der=UB();eee.pem=JJ()});var VB=F((Qwt,aee)=>{"use strict";h();p();var B9e=qt(),C9e=OB(),ree=Gg().DecoderBuffer,iee=n4(),nee=i4();function oee(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ka,this.tree._init(t.body)}aee.exports=oee;oee.prototype.decode=function(e,r){return ree.isDecoderBuffer(e)||(e=new ree(e,r)),this.tree._decode(e,r)};function ka(t){iee.call(this,"der",t)}B9e(ka,iee);ka.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),o=KB(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(i),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||n)};ka.prototype._decodeTag=function(e,r,n){let i=KB(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let o=see(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};ka.prototype._skipUntilEnd=function(e,r){for(;;){let n=KB(e,r);if(e.isError(n))return n;let i=see(e,n.primitive,r);if(e.isError(i))return i;let o;if(n.primitive||i!==null?o=e.skip(i):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(n.tagStr==="end")break}};ka.prototype._decodeList=function(e,r,n,i){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let c=n.decode(e,"der",i);if(e.isError(c)&&s)break;o.push(c)}return o};ka.prototype._decodeStr=function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(o*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};ka.prototype._decodeObjid=function(e,r,n){let i,o=[],s=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),s<<=7,s|=c&127,c&128||(o.push(s),s=0);c&128&&o.push(s);let l=o[0]/40|0,d=o[0]%40;if(n?i=o:i=[l,d].concat(o.slice(1)),r){let g=r[i.join(" ")];g===void 0&&(g=r[i.join(".")]),g!==void 0&&(i=g)}return i};ka.prototype._decodeTime=function(e,r){let n=e.raw().toString(),i,o,s,c,l,d;if(r==="gentime")i=n.slice(0,4)|0,o=n.slice(4,6)|0,s=n.slice(6,8)|0,c=n.slice(8,10)|0,l=n.slice(10,12)|0,d=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,o=n.slice(2,4)|0,s=n.slice(4,6)|0,c=n.slice(6,8)|0,l=n.slice(8,10)|0,d=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,o-1,s,c,l,d,0)};ka.prototype._decodeNull=function(){return null};ka.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};ka.prototype._decodeInt=function(e,r){let n=e.raw(),i=new C9e(n);return r&&(i=r[i.toString(10)]||i),i};ka.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function KB(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=nee.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=nee.tag[r];return{cls:n,primitive:i,tag:r,tagStr:o}}function see(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let o=0;o<i;o++){n<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}});var fee=F((e2t,cee)=>{"use strict";h();p();var N9e=qt(),O9e=e4().Buffer,jB=VB();function zB(t){jB.call(this,t),this.enc="pem"}N9e(zB,jB);cee.exports=zB;zB.prototype.decode=function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1;for(let g=0;g<n.length;g++){let b=n[g].match(o);if(b!==null&&b[2]===i)if(s===-1){if(b[1]!=="BEGIN")break;s=g}else{if(b[1]!=="END")break;c=g;break}}if(s===-1||c===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(s+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let d=O9e.from(l,"base64");return jB.prototype.decode.call(this,d,r)}});var GB=F(lee=>{"use strict";h();p();var uee=lee;uee.der=VB();uee.pem=fee()});var hee=F(dee=>{"use strict";h();p();var D9e=HB(),L9e=GB(),U9e=qt(),F9e=dee;F9e.define=function(e,r){return new Wg(e,r)};function Wg(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Wg.prototype._createNamed=function(e){let r=this.name;function n(i){this._initNamed(i,r)}return U9e(n,e),n.prototype._initNamed=function(o,s){e.call(this,o,s)},new n(this)};Wg.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(L9e[e])),this.decoders[e]};Wg.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};Wg.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(D9e[e])),this.encoders[e]};Wg.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var mee=F(pee=>{"use strict";h();p();var o4=pee;o4.Reporter=t4().Reporter;o4.DecoderBuffer=Gg().DecoderBuffer;o4.EncoderBuffer=Gg().EncoderBuffer;o4.Node=n4()});var bee=F(gee=>{"use strict";h();p();var yee=gee;yee._reverse=function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r};yee.der=i4()});var WB=F(vee=>{"use strict";h();p();var $g=vee;$g.bignum=OB();$g.define=hee().define;$g.base=mee();$g.constants=bee();$g.decoders=GB();$g.encoders=HB()});var Eee=F((b2t,See)=>{"use strict";h();p();var gf=WB(),xee=gf.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),q9e=gf.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),$B=gf.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),H9e=gf.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use($B),this.key("subjectPublicKey").bitstr())}),K9e=gf.define("RelativeDistinguishedName",function(){this.setof(q9e)}),V9e=gf.define("RDNSequence",function(){this.seqof(K9e)}),wee=gf.define("Name",function(){this.choice({rdnSequence:this.use(V9e)})}),j9e=gf.define("Validity",function(){this.seq().obj(this.key("notBefore").use(xee),this.key("notAfter").use(xee))}),z9e=gf.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),G9e=gf.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use($B),this.key("issuer").use(wee),this.key("validity").use(j9e),this.key("subject").use(wee),this.key("subjectPublicKeyInfo").use(H9e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(z9e).optional())}),W9e=gf.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(G9e),this.key("signatureAlgorithm").use($B),this.key("signatureValue").bitstr())});See.exports=W9e});var Aee=F(vf=>{"use strict";h();p();var bf=WB();vf.certificate=Eee();var $9e=bf.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});vf.RSAPrivateKey=$9e;var Y9e=bf.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});vf.RSAPublicKey=Y9e;var Z9e=bf.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_ee),this.key("subjectPublicKey").bitstr())});vf.PublicKey=Z9e;var _ee=bf.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Q9e=bf.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(_ee),this.key("subjectPrivateKey").octstr())});vf.PrivateKey=Q9e;var X9e=bf.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});vf.EncryptedPrivateKey=X9e;var J9e=bf.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});vf.DSAPrivateKey=J9e;vf.DSAparam=bf.define("DSAparam",function(){this.int()});var eMe=bf.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(tMe),this.key("publicKey").optional().explicit(1).bitstr())});vf.ECPrivateKey=eMe;var tMe=bf.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});vf.signature=bf.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var Tee=F((_2t,rMe)=>{rMe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Mee=F((A2t,Iee)=>{h();p();var nMe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,iMe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,oMe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,sMe=iw(),aMe=b_(),s4=Wt().Buffer;Iee.exports=function(t,e){var r=t.toString(),n=r.match(nMe),i;if(n){var s="aes"+n[1],c=s4.from(n[2],"hex"),l=s4.from(n[3].replace(/[\r\n]/g,""),"base64"),d=sMe(e,c.slice(0,8),parseInt(n[1],10)).key,g=[],b=aMe.createDecipheriv(s,d,c);g.push(b.update(l)),g.push(b.final()),i=s4.concat(g)}else{var o=r.match(oMe);i=s4.from(o[2].replace(/[\r\n]/g,""),"base64")}var _=r.match(iMe)[1];return{tag:_,data:i}}});var bw=F((M2t,Pee)=>{h();p();var ta=Aee(),cMe=Tee(),fMe=Mee(),uMe=b_(),lMe=s_(),YB=Wt().Buffer;Pee.exports=kee;function kee(t){var e;typeof t=="object"&&!YB.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=YB.from(t));var r=fMe(t,e),n=r.tag,i=r.data,o,s;switch(n){case"CERTIFICATE":s=ta.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=ta.PublicKey.decode(i,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return ta.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=ta.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":i=ta.EncryptedPrivateKey.decode(i,"der"),i=dMe(i,e);case"PRIVATE KEY":switch(s=ta.PrivateKey.decode(i,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return ta.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:ta.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=ta.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return ta.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return ta.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ta.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=ta.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}kee.signature=ta.signature;function dMe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=cMe[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,c=parseInt(i.split("-")[1],10)/8,l=lMe.pbkdf2Sync(e,r,n,c,"sha1"),d=uMe.createDecipheriv(i,l,o),g=[];return g.push(d.update(s)),g.push(d.final()),YB.concat(g)}});var ZB=F((R2t,hMe)=>{hMe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var Cee=F((B2t,c4)=>{"use strict";h();p();var ts=Wt().Buffer,Qp=rR(),pMe=D_(),mMe=X_().ec,a4=Xy(),yMe=bw(),gMe=ZB(),bMe=1;function vMe(t,e,r,n,i){var o=yMe(e);if(o.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return xMe(t,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return wMe(t,o,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==bMe)throw new Error("illegal or unsupported padding mode");t=ts.concat([i,t]);for(var s=o.modulus.byteLength(),c=[0,1];t.length+c.length+1<s;)c.push(255);c.push(0);for(var l=-1;++l<t.length;)c.push(t[l]);var d=pMe(c,o);return d}function xMe(t,e){var r=gMe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new mMe(r),i=n.keyFromPrivate(e.privateKey),o=i.sign(t);return ts.from(o.toDER())}function wMe(t,e,r){for(var n=e.params.priv_key,i=e.params.p,o=e.params.q,s=e.params.g,c=new a4(0),l,d=QB(t,o).mod(o),g=!1,b=Ree(n,o,t,r);g===!1;)l=Bee(o,b,r),c=_Me(s,l,i,o),g=l.invm(o).imul(d.add(n.mul(c))).mod(o),g.cmpn(0)===0&&(g=!1,c=new a4(0));return SMe(c,g)}function SMe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),ts.from(n)}function Ree(t,e,r,n){if(t=ts.from(t.toArray()),t.length<e.byteLength()){var i=ts.alloc(e.byteLength()-t.length);t=ts.concat([i,t])}var o=r.length,s=EMe(r,e),c=ts.alloc(o);c.fill(1);var l=ts.alloc(o);return l=Qp(n,l).update(c).update(ts.from([0])).update(t).update(s).digest(),c=Qp(n,l).update(c).digest(),l=Qp(n,l).update(c).update(ts.from([1])).update(t).update(s).digest(),c=Qp(n,l).update(c).digest(),{k:l,v:c}}function QB(t,e){var r=new a4(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function EMe(t,e){t=QB(t,e),t=t.mod(e);var r=ts.from(t.toArray());if(r.length<e.byteLength()){var n=ts.alloc(e.byteLength()-r.length);r=ts.concat([n,r])}return r}function Bee(t,e,r){var n,i;do{for(n=ts.alloc(0);n.length*8<t.bitLength();)e.v=Qp(r,e.k).update(e.v).digest(),n=ts.concat([n,e.v]);i=QB(n,t),e.k=Qp(r,e.k).update(e.v).update(ts.from([0])).digest(),e.v=Qp(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function _Me(t,e,r,n){return t.toRed(a4.mont(r)).redPow(e).fromRed().mod(n)}c4.exports=vMe;c4.exports.getKey=Ree;c4.exports.makeKey=Bee});var Lee=F((O2t,Dee)=>{"use strict";h();p();var XB=Wt().Buffer,vw=Xy(),AMe=X_().ec,Oee=bw(),TMe=ZB();function IMe(t,e,r,n,i){var o=Oee(r);if(o.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return MMe(t,e,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return kMe(t,e,o)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=XB.concat([i,e]);for(var s=o.modulus.byteLength(),c=[1],l=0;e.length+c.length+2<s;)c.push(255),l+=1;c.push(0);for(var d=-1;++d<e.length;)c.push(e[d]);c=XB.from(c);var g=vw.mont(o.modulus);t=new vw(t).toRed(g),t=t.redPow(new vw(o.publicExponent)),t=XB.from(t.fromRed().toArray());var b=l<8?1:0;for(s=Math.min(t.length,c.length),t.length!==c.length&&(b=1),d=-1;++d<s;)b|=t[d]^c[d];return b===0}function MMe(t,e,r){var n=TMe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new AMe(n),o=r.data.subjectPrivateKey.data;return i.verify(e,t,o)}function kMe(t,e,r){var n=r.data.p,i=r.data.q,o=r.data.g,s=r.data.pub_key,c=Oee.signature.decode(t,"der"),l=c.s,d=c.r;Nee(l,i),Nee(d,i);var g=vw.mont(n),b=l.invm(i),_=o.toRed(g).redPow(new vw(e).mul(b).mod(i)).fromRed().mul(s.toRed(g).redPow(d.mul(b).mod(i)).fromRed()).mod(n).mod(i);return _.cmp(d)===0}function Nee(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}Dee.exports=IMe});var Vee=F((U2t,Kee)=>{"use strict";h();p();var f4=Wt().Buffer,qee=Mp(),u4=mX(),Hee=qt(),PMe=Cee(),RMe=Lee(),Xp=nR();Object.keys(Xp).forEach(function(t){Xp[t].id=f4.from(Xp[t].id,"hex"),Xp[t.toLowerCase()]=Xp[t]});function xw(t){u4.Writable.call(this);var e=Xp[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=qee(e.hash),this._tag=e.id,this._signType=e.sign}Hee(xw,u4.Writable);xw.prototype._write=function(e,r,n){this._hash.update(e),n()};xw.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?f4.from(e,r):e),this};xw.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=PMe(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function ww(t){u4.Writable.call(this);var e=Xp[t];if(!e)throw new Error("Unknown message digest");this._hash=qee(e.hash),this._tag=e.id,this._signType=e.sign}Hee(ww,u4.Writable);ww.prototype._write=function(e,r,n){this._hash.update(e),n()};ww.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?f4.from(e,r):e),this};ww.prototype.verify=function(e,r,n){var i=typeof r=="string"?f4.from(r,n):r;this.end();var o=this._hash.digest();return RMe(i,o,e,this._signType,this._tag)};function Uee(t){return new xw(t)}function Fee(t){return new ww(t)}Kee.exports={Sign:Uee,Verify:Fee,createSign:Uee,createVerify:Fee}});var zee=F((jee,JB)=>{h();p();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Qy().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,m){if(typeof a=="number")return this._initNumber(a,u,m);if(typeof a=="object")return this._initArray(a,u,m);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(u===16?this._parseHex(a,y,m):(this._parseBase(a,u,y),m==="le"&&this._initArray(this.toArray(),u,m)))},i.prototype._initNumber=function(a,u,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},i.prototype._initArray=function(a,u,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,A=0;if(m==="be")for(y=a.length-1,w=0;y>=0;y-=3)E=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(m==="le")for(y=0,w=0;y<a.length;y+=3)E=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function s(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var m=s(S,u);return u-1>=a&&(m|=s(S,u-1)<<4),m}i.prototype._parseHex=function(a,u,m){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,A;if(m==="be")for(y=a.length-1;y>=u;y-=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8;else{var x=a.length-u;for(y=x%2===0?u+1:u;y<a.length;y+=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8}this.strip()};function l(S,a,u,m){for(var y=0,w=Math.min(S.length,u),E=a;E<w;E++){var A=S.charCodeAt(E)-48;y*=m,A>=49?y+=A-49+10:A>=17?y+=A-17+10:y+=A}return y}i.prototype._parseBase=function(a,u,m){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=u)y++;y--,w=w/u|0;for(var E=a.length-m,A=E%y,x=Math.min(E,E-A)+m,f=0,v=m;v<x;v+=y)f=l(a,v,v+y,u),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var q=1;for(f=l(a,v,a.length,u),v=0;v<A;v++)q*=u;this.imuln(q),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,w=0,E=0;E<this.length;E++){var A=this.words[E],x=((A<<y|w)&16777215).toString(16);w=A>>>24-y&16777215,w!==0||E!==this.length-1?m=d[6-x.length]+x+m:m=x+m,y+=2,y>=26&&(y-=26,E--)}for(w!==0&&(m=w.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var f=g[a],v=b[a];m="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modn(v).toString(a);q=q.idivn(v),q.isZero()?m=U+m:m=d[f-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,m){var y=this.byteLength(),w=m||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var E=u==="le",A=new a(w),x,f,v=this.clone();if(E){for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[f]=x;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-y;f++)A[f]=0;for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[w-f-1]=x}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,m=0;return u&8191||(m+=13,u>>>=13),u&127||(m+=7,u>>>=7),u&15||(m+=4,u>>>=4),u&3||(m+=2,u>>>=2),u&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function _(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var m=u/26|0,y=u%26;a[u]=(S.words[m]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,m;this.length>a.length?(u=this,m=a):(u=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=u.words[y]^m.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,m=a%26;this._expand(u),m>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var w=0,E=0;E<y.length;E++)u=(m.words[E]|0)+(y.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;for(;w!==0&&E<m.length;E++)u=(m.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;m>0?(y=this,w=a):(y=a,w=this);for(var E=0,A=0;A<w.length;A++)u=(y.words[A]|0)-(w.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;for(;E!==0&&A<y.length;A++)u=(y.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;if(E===0&&A<y.length&&y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=Math.max(this.length,A),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function T(S,a,u){u.negative=a.negative^S.negative;var m=S.length+a.length|0;u.length=m,m=m-1|0;var y=S.words[0]|0,w=a.words[0]|0,E=y*w,A=E&67108863,x=E/67108864|0;u.words[0]=A;for(var f=1;f<m;f++){for(var v=x>>>26,q=x&67108863,U=Math.min(f,a.length-1),O=Math.max(0,f-S.length+1);O<=U;O++){var W=f-O|0;y=S.words[W]|0,w=a.words[O]|0,E=y*w+q,v+=E/67108864|0,q=E&67108863}u.words[f]=q|0,x=v|0}return x!==0?u.words[f]=x|0:u.length--,u.strip()}var M=function(a,u,m){var y=a.words,w=u.words,E=m.words,A=0,x,f,v,q=y[0]|0,U=q&8191,O=q>>>13,W=y[1]|0,Q=W&8191,re=W>>>13,Ke=y[2]|0,se=Ke&8191,Z=Ke>>>13,ct=y[3]|0,de=ct&8191,he=ct>>>13,ur=y[4]|0,me=ur&8191,Se=ur>>>13,qn=y[5]|0,Ce=qn&8191,ye=qn>>>13,Jn=y[6]|0,Ne=Jn&8191,Te=Jn>>>13,di=y[7]|0,Ee=di&8191,Ie=di>>>13,ei=y[8]|0,Me=ei&8191,ke=ei>>>13,Si=y[9]|0,Le=Si&8191,Pe=Si>>>13,hi=w[0]|0,_e=hi&8191,ve=hi>>>13,kn=w[1]|0,xe=kn&8191,Ae=kn>>>13,Hn=w[2]|0,we=Hn&8191,Re=Hn>>>13,Ei=w[3]|0,Ue=Ei&8191,Fe=Ei>>>13,un=w[4]|0,ge=un&8191,be=un>>>13,pi=w[5]|0,Be=pi&8191,Oe=pi>>>13,Di=w[6]|0,pe=Di&8191,De=Di>>>13,H=w[7]|0,j=H&8191,K=H>>>13,N=w[8]|0,G=N&8191,Y=N>>>13,ae=w[9]|0,ee=ae&8191,ie=ae>>>13;m.negative=a.negative^u.negative,m.length=19,x=Math.imul(U,_e),f=Math.imul(U,ve),f=f+Math.imul(O,_e)|0,v=Math.imul(O,ve);var ot=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(Q,_e),f=Math.imul(Q,ve),f=f+Math.imul(re,_e)|0,v=Math.imul(re,ve),x=x+Math.imul(U,xe)|0,f=f+Math.imul(U,Ae)|0,f=f+Math.imul(O,xe)|0,v=v+Math.imul(O,Ae)|0;var Ze=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(se,_e),f=Math.imul(se,ve),f=f+Math.imul(Z,_e)|0,v=Math.imul(Z,ve),x=x+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(re,xe)|0,v=v+Math.imul(re,Ae)|0,x=x+Math.imul(U,we)|0,f=f+Math.imul(U,Re)|0,f=f+Math.imul(O,we)|0,v=v+Math.imul(O,Re)|0;var At=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(de,_e),f=Math.imul(de,ve),f=f+Math.imul(he,_e)|0,v=Math.imul(he,ve),x=x+Math.imul(se,xe)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Ae)|0,x=x+Math.imul(Q,we)|0,f=f+Math.imul(Q,Re)|0,f=f+Math.imul(re,we)|0,v=v+Math.imul(re,Re)|0,x=x+Math.imul(U,Ue)|0,f=f+Math.imul(U,Fe)|0,f=f+Math.imul(O,Ue)|0,v=v+Math.imul(O,Fe)|0;var Je=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(me,_e),f=Math.imul(me,ve),f=f+Math.imul(Se,_e)|0,v=Math.imul(Se,ve),x=x+Math.imul(de,xe)|0,f=f+Math.imul(de,Ae)|0,f=f+Math.imul(he,xe)|0,v=v+Math.imul(he,Ae)|0,x=x+Math.imul(se,we)|0,f=f+Math.imul(se,Re)|0,f=f+Math.imul(Z,we)|0,v=v+Math.imul(Z,Re)|0,x=x+Math.imul(Q,Ue)|0,f=f+Math.imul(Q,Fe)|0,f=f+Math.imul(re,Ue)|0,v=v+Math.imul(re,Fe)|0,x=x+Math.imul(U,ge)|0,f=f+Math.imul(U,be)|0,f=f+Math.imul(O,ge)|0,v=v+Math.imul(O,be)|0;var lt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Ce,_e),f=Math.imul(Ce,ve),f=f+Math.imul(ye,_e)|0,v=Math.imul(ye,ve),x=x+Math.imul(me,xe)|0,f=f+Math.imul(me,Ae)|0,f=f+Math.imul(Se,xe)|0,v=v+Math.imul(Se,Ae)|0,x=x+Math.imul(de,we)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(he,we)|0,v=v+Math.imul(he,Re)|0,x=x+Math.imul(se,Ue)|0,f=f+Math.imul(se,Fe)|0,f=f+Math.imul(Z,Ue)|0,v=v+Math.imul(Z,Fe)|0,x=x+Math.imul(Q,ge)|0,f=f+Math.imul(Q,be)|0,f=f+Math.imul(re,ge)|0,v=v+Math.imul(re,be)|0,x=x+Math.imul(U,Be)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(O,Be)|0,v=v+Math.imul(O,Oe)|0;var dt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(Ne,_e),f=Math.imul(Ne,ve),f=f+Math.imul(Te,_e)|0,v=Math.imul(Te,ve),x=x+Math.imul(Ce,xe)|0,f=f+Math.imul(Ce,Ae)|0,f=f+Math.imul(ye,xe)|0,v=v+Math.imul(ye,Ae)|0,x=x+Math.imul(me,we)|0,f=f+Math.imul(me,Re)|0,f=f+Math.imul(Se,we)|0,v=v+Math.imul(Se,Re)|0,x=x+Math.imul(de,Ue)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(he,Ue)|0,v=v+Math.imul(he,Fe)|0,x=x+Math.imul(se,ge)|0,f=f+Math.imul(se,be)|0,f=f+Math.imul(Z,ge)|0,v=v+Math.imul(Z,be)|0,x=x+Math.imul(Q,Be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(re,Be)|0,v=v+Math.imul(re,Oe)|0,x=x+Math.imul(U,pe)|0,f=f+Math.imul(U,De)|0,f=f+Math.imul(O,pe)|0,v=v+Math.imul(O,De)|0;var gt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(Ee,_e),f=Math.imul(Ee,ve),f=f+Math.imul(Ie,_e)|0,v=Math.imul(Ie,ve),x=x+Math.imul(Ne,xe)|0,f=f+Math.imul(Ne,Ae)|0,f=f+Math.imul(Te,xe)|0,v=v+Math.imul(Te,Ae)|0,x=x+Math.imul(Ce,we)|0,f=f+Math.imul(Ce,Re)|0,f=f+Math.imul(ye,we)|0,v=v+Math.imul(ye,Re)|0,x=x+Math.imul(me,Ue)|0,f=f+Math.imul(me,Fe)|0,f=f+Math.imul(Se,Ue)|0,v=v+Math.imul(Se,Fe)|0,x=x+Math.imul(de,ge)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(he,ge)|0,v=v+Math.imul(he,be)|0,x=x+Math.imul(se,Be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(Z,Be)|0,v=v+Math.imul(Z,Oe)|0,x=x+Math.imul(Q,pe)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(re,pe)|0,v=v+Math.imul(re,De)|0,x=x+Math.imul(U,j)|0,f=f+Math.imul(U,K)|0,f=f+Math.imul(O,j)|0,v=v+Math.imul(O,K)|0;var yt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,x=Math.imul(Me,_e),f=Math.imul(Me,ve),f=f+Math.imul(ke,_e)|0,v=Math.imul(ke,ve),x=x+Math.imul(Ee,xe)|0,f=f+Math.imul(Ee,Ae)|0,f=f+Math.imul(Ie,xe)|0,v=v+Math.imul(Ie,Ae)|0,x=x+Math.imul(Ne,we)|0,f=f+Math.imul(Ne,Re)|0,f=f+Math.imul(Te,we)|0,v=v+Math.imul(Te,Re)|0,x=x+Math.imul(Ce,Ue)|0,f=f+Math.imul(Ce,Fe)|0,f=f+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Fe)|0,x=x+Math.imul(me,ge)|0,f=f+Math.imul(me,be)|0,f=f+Math.imul(Se,ge)|0,v=v+Math.imul(Se,be)|0,x=x+Math.imul(de,Be)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(he,Be)|0,v=v+Math.imul(he,Oe)|0,x=x+Math.imul(se,pe)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(Z,pe)|0,v=v+Math.imul(Z,De)|0,x=x+Math.imul(Q,j)|0,f=f+Math.imul(Q,K)|0,f=f+Math.imul(re,j)|0,v=v+Math.imul(re,K)|0,x=x+Math.imul(U,G)|0,f=f+Math.imul(U,Y)|0,f=f+Math.imul(O,G)|0,v=v+Math.imul(O,Y)|0;var ht=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,x=Math.imul(Le,_e),f=Math.imul(Le,ve),f=f+Math.imul(Pe,_e)|0,v=Math.imul(Pe,ve),x=x+Math.imul(Me,xe)|0,f=f+Math.imul(Me,Ae)|0,f=f+Math.imul(ke,xe)|0,v=v+Math.imul(ke,Ae)|0,x=x+Math.imul(Ee,we)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(Ie,we)|0,v=v+Math.imul(Ie,Re)|0,x=x+Math.imul(Ne,Ue)|0,f=f+Math.imul(Ne,Fe)|0,f=f+Math.imul(Te,Ue)|0,v=v+Math.imul(Te,Fe)|0,x=x+Math.imul(Ce,ge)|0,f=f+Math.imul(Ce,be)|0,f=f+Math.imul(ye,ge)|0,v=v+Math.imul(ye,be)|0,x=x+Math.imul(me,Be)|0,f=f+Math.imul(me,Oe)|0,f=f+Math.imul(Se,Be)|0,v=v+Math.imul(Se,Oe)|0,x=x+Math.imul(de,pe)|0,f=f+Math.imul(de,De)|0,f=f+Math.imul(he,pe)|0,v=v+Math.imul(he,De)|0,x=x+Math.imul(se,j)|0,f=f+Math.imul(se,K)|0,f=f+Math.imul(Z,j)|0,v=v+Math.imul(Z,K)|0,x=x+Math.imul(Q,G)|0,f=f+Math.imul(Q,Y)|0,f=f+Math.imul(re,G)|0,v=v+Math.imul(re,Y)|0,x=x+Math.imul(U,ee)|0,f=f+Math.imul(U,ie)|0,f=f+Math.imul(O,ee)|0,v=v+Math.imul(O,ie)|0;var mt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Le,xe),f=Math.imul(Le,Ae),f=f+Math.imul(Pe,xe)|0,v=Math.imul(Pe,Ae),x=x+Math.imul(Me,we)|0,f=f+Math.imul(Me,Re)|0,f=f+Math.imul(ke,we)|0,v=v+Math.imul(ke,Re)|0,x=x+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(Ie,Ue)|0,v=v+Math.imul(Ie,Fe)|0,x=x+Math.imul(Ne,ge)|0,f=f+Math.imul(Ne,be)|0,f=f+Math.imul(Te,ge)|0,v=v+Math.imul(Te,be)|0,x=x+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,Oe)|0,f=f+Math.imul(ye,Be)|0,v=v+Math.imul(ye,Oe)|0,x=x+Math.imul(me,pe)|0,f=f+Math.imul(me,De)|0,f=f+Math.imul(Se,pe)|0,v=v+Math.imul(Se,De)|0,x=x+Math.imul(de,j)|0,f=f+Math.imul(de,K)|0,f=f+Math.imul(he,j)|0,v=v+Math.imul(he,K)|0,x=x+Math.imul(se,G)|0,f=f+Math.imul(se,Y)|0,f=f+Math.imul(Z,G)|0,v=v+Math.imul(Z,Y)|0,x=x+Math.imul(Q,ee)|0,f=f+Math.imul(Q,ie)|0,f=f+Math.imul(re,ee)|0,v=v+Math.imul(re,ie)|0;var pt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,we),f=Math.imul(Le,Re),f=f+Math.imul(Pe,we)|0,v=Math.imul(Pe,Re),x=x+Math.imul(Me,Ue)|0,f=f+Math.imul(Me,Fe)|0,f=f+Math.imul(ke,Ue)|0,v=v+Math.imul(ke,Fe)|0,x=x+Math.imul(Ee,ge)|0,f=f+Math.imul(Ee,be)|0,f=f+Math.imul(Ie,ge)|0,v=v+Math.imul(Ie,be)|0,x=x+Math.imul(Ne,Be)|0,f=f+Math.imul(Ne,Oe)|0,f=f+Math.imul(Te,Be)|0,v=v+Math.imul(Te,Oe)|0,x=x+Math.imul(Ce,pe)|0,f=f+Math.imul(Ce,De)|0,f=f+Math.imul(ye,pe)|0,v=v+Math.imul(ye,De)|0,x=x+Math.imul(me,j)|0,f=f+Math.imul(me,K)|0,f=f+Math.imul(Se,j)|0,v=v+Math.imul(Se,K)|0,x=x+Math.imul(de,G)|0,f=f+Math.imul(de,Y)|0,f=f+Math.imul(he,G)|0,v=v+Math.imul(he,Y)|0,x=x+Math.imul(se,ee)|0,f=f+Math.imul(se,ie)|0,f=f+Math.imul(Z,ee)|0,v=v+Math.imul(Z,ie)|0;var tt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(Le,Ue),f=Math.imul(Le,Fe),f=f+Math.imul(Pe,Ue)|0,v=Math.imul(Pe,Fe),x=x+Math.imul(Me,ge)|0,f=f+Math.imul(Me,be)|0,f=f+Math.imul(ke,ge)|0,v=v+Math.imul(ke,be)|0,x=x+Math.imul(Ee,Be)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(Ie,Be)|0,v=v+Math.imul(Ie,Oe)|0,x=x+Math.imul(Ne,pe)|0,f=f+Math.imul(Ne,De)|0,f=f+Math.imul(Te,pe)|0,v=v+Math.imul(Te,De)|0,x=x+Math.imul(Ce,j)|0,f=f+Math.imul(Ce,K)|0,f=f+Math.imul(ye,j)|0,v=v+Math.imul(ye,K)|0,x=x+Math.imul(me,G)|0,f=f+Math.imul(me,Y)|0,f=f+Math.imul(Se,G)|0,v=v+Math.imul(Se,Y)|0,x=x+Math.imul(de,ee)|0,f=f+Math.imul(de,ie)|0,f=f+Math.imul(he,ee)|0,v=v+Math.imul(he,ie)|0;var st=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Le,ge),f=Math.imul(Le,be),f=f+Math.imul(Pe,ge)|0,v=Math.imul(Pe,be),x=x+Math.imul(Me,Be)|0,f=f+Math.imul(Me,Oe)|0,f=f+Math.imul(ke,Be)|0,v=v+Math.imul(ke,Oe)|0,x=x+Math.imul(Ee,pe)|0,f=f+Math.imul(Ee,De)|0,f=f+Math.imul(Ie,pe)|0,v=v+Math.imul(Ie,De)|0,x=x+Math.imul(Ne,j)|0,f=f+Math.imul(Ne,K)|0,f=f+Math.imul(Te,j)|0,v=v+Math.imul(Te,K)|0,x=x+Math.imul(Ce,G)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(ye,G)|0,v=v+Math.imul(ye,Y)|0,x=x+Math.imul(me,ee)|0,f=f+Math.imul(me,ie)|0,f=f+Math.imul(Se,ee)|0,v=v+Math.imul(Se,ie)|0;var Xe=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(Le,Be),f=Math.imul(Le,Oe),f=f+Math.imul(Pe,Be)|0,v=Math.imul(Pe,Oe),x=x+Math.imul(Me,pe)|0,f=f+Math.imul(Me,De)|0,f=f+Math.imul(ke,pe)|0,v=v+Math.imul(ke,De)|0,x=x+Math.imul(Ee,j)|0,f=f+Math.imul(Ee,K)|0,f=f+Math.imul(Ie,j)|0,v=v+Math.imul(Ie,K)|0,x=x+Math.imul(Ne,G)|0,f=f+Math.imul(Ne,Y)|0,f=f+Math.imul(Te,G)|0,v=v+Math.imul(Te,Y)|0,x=x+Math.imul(Ce,ee)|0,f=f+Math.imul(Ce,ie)|0,f=f+Math.imul(ye,ee)|0,v=v+Math.imul(ye,ie)|0;var rt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(Le,pe),f=Math.imul(Le,De),f=f+Math.imul(Pe,pe)|0,v=Math.imul(Pe,De),x=x+Math.imul(Me,j)|0,f=f+Math.imul(Me,K)|0,f=f+Math.imul(ke,j)|0,v=v+Math.imul(ke,K)|0,x=x+Math.imul(Ee,G)|0,f=f+Math.imul(Ee,Y)|0,f=f+Math.imul(Ie,G)|0,v=v+Math.imul(Ie,Y)|0,x=x+Math.imul(Ne,ee)|0,f=f+Math.imul(Ne,ie)|0,f=f+Math.imul(Te,ee)|0,v=v+Math.imul(Te,ie)|0;var it=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(it>>>26)|0,it&=67108863,x=Math.imul(Le,j),f=Math.imul(Le,K),f=f+Math.imul(Pe,j)|0,v=Math.imul(Pe,K),x=x+Math.imul(Me,G)|0,f=f+Math.imul(Me,Y)|0,f=f+Math.imul(ke,G)|0,v=v+Math.imul(ke,Y)|0,x=x+Math.imul(Ee,ee)|0,f=f+Math.imul(Ee,ie)|0,f=f+Math.imul(Ie,ee)|0,v=v+Math.imul(Ie,ie)|0;var Ye=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(Le,G),f=Math.imul(Le,Y),f=f+Math.imul(Pe,G)|0,v=Math.imul(Pe,Y),x=x+Math.imul(Me,ee)|0,f=f+Math.imul(Me,ie)|0,f=f+Math.imul(ke,ee)|0,v=v+Math.imul(ke,ie)|0;var ce=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,x=Math.imul(Le,ee),f=Math.imul(Le,ie),f=f+Math.imul(Pe,ee)|0,v=Math.imul(Pe,ie);var fe=(A+x|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,E[0]=ot,E[1]=Ze,E[2]=At,E[3]=Je,E[4]=lt,E[5]=dt,E[6]=gt,E[7]=yt,E[8]=ht,E[9]=mt,E[10]=pt,E[11]=tt,E[12]=st,E[13]=Xe,E[14]=rt,E[15]=it,E[16]=Ye,E[17]=ce,E[18]=fe,A!==0&&(E[19]=A,m.length++),m};Math.imul||(M=T);function k(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var m=0,y=0,w=0;w<u.length-1;w++){var E=y;y=0;for(var A=m&67108863,x=Math.min(w,a.length-1),f=Math.max(0,w-S.length+1);f<=x;f++){var v=w-f,q=S.words[v]|0,U=a.words[f]|0,O=q*U,W=O&67108863;E=E+(O/67108864|0)|0,W=W+A|0,A=W&67108863,E=E+(W>>>26)|0,y+=E>>>26,E&=67108863}u.words[w]=A,m=E,E=y}return m!==0?u.words[w]=m:u.length--,u.strip()}function B(S,a,u){var m=new P;return m.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=M(this,a,u):y<63?m=T(this,a,u):y<1024?m=k(this,a,u):m=B(this,a,u),m};function P(S,a){this.x=S,this.y=a}P.prototype.makeRBT=function(a){for(var u=new Array(a),m=i.prototype._countBits(a)-1,y=0;y<a;y++)u[y]=this.revBin(y,m,a);return u},P.prototype.revBin=function(a,u,m){if(a===0||a===m-1)return a;for(var y=0,w=0;w<u;w++)y|=(a&1)<<u-w-1,a>>=1;return y},P.prototype.permute=function(a,u,m,y,w,E){for(var A=0;A<E;A++)y[A]=u[a[A]],w[A]=m[a[A]]},P.prototype.transform=function(a,u,m,y,w,E){this.permute(E,a,u,m,y,w);for(var A=1;A<w;A<<=1)for(var x=A<<1,f=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),q=0;q<w;q+=x)for(var U=f,O=v,W=0;W<A;W++){var Q=m[q+W],re=y[q+W],Ke=m[q+W+A],se=y[q+W+A],Z=U*Ke-O*se;se=U*se+O*Ke,Ke=Z,m[q+W]=Q+Ke,y[q+W]=re+se,m[q+W+A]=Q-Ke,y[q+W+A]=re-se,W!==x&&(Z=f*U-v*O,O=f*O+v*U,U=Z)}},P.prototype.guessLen13b=function(a,u){var m=Math.max(u,a)|1,y=m&1,w=0;for(m=m/2|0;m;m=m>>>1)w++;return 1<<w+1+y},P.prototype.conjugate=function(a,u,m){if(!(m<=1))for(var y=0;y<m/2;y++){var w=a[y];a[y]=a[m-y-1],a[m-y-1]=w,w=u[y],u[y]=-u[m-y-1],u[m-y-1]=-w}},P.prototype.normalize13b=function(a,u){for(var m=0,y=0;y<u/2;y++){var w=Math.round(a[2*y+1]/u)*8192+Math.round(a[2*y]/u)+m;a[y]=w&67108863,w<67108864?m=0:m=w/67108864|0}return a},P.prototype.convert13b=function(a,u,m,y){for(var w=0,E=0;E<u;E++)w=w+(a[E]|0),m[2*E]=w&8191,w=w>>>13,m[2*E+1]=w&8191,w=w>>>13;for(E=2*u;E<y;++E)m[E]=0;r(w===0),r((w&-8192)===0)},P.prototype.stub=function(a){for(var u=new Array(a),m=0;m<a;m++)u[m]=0;return u},P.prototype.mulp=function(a,u,m){var y=2*this.guessLen13b(a.length,u.length),w=this.makeRBT(y),E=this.stub(y),A=new Array(y),x=new Array(y),f=new Array(y),v=new Array(y),q=new Array(y),U=new Array(y),O=m.words;O.length=y,this.convert13b(a.words,a.length,A,y),this.convert13b(u.words,u.length,v,y),this.transform(A,E,x,f,y,w),this.transform(v,E,q,U,y,w);for(var W=0;W<y;W++){var Q=x[W]*q[W]-f[W]*U[W];f[W]=x[W]*U[W]+f[W]*q[W],x[W]=Q}return this.conjugate(x,f,y),this.transform(x,f,O,E,y,w),this.conjugate(O,E,y),this.normalize13b(O,y),m.negative=a.negative^u.negative,m.length=a.length+u.length,m.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),B(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,m=0;m<this.length;m++){var y=(this.words[m]|0)*a,w=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=w>>>26,this.words[m]=w&67108863}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=_(a);if(u.length===0)return new i(1);for(var m=this,y=0;y<u.length&&u[y]===0;y++,m=m.sqr());if(++y<u.length)for(var w=m.sqr();y<u.length;y++,w=w.sqr())u[y]!==0&&(m=m.mul(w));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=67108863>>>26-u<<26-u,w;if(u!==0){var E=0;for(w=0;w<this.length;w++){var A=this.words[w]&y,x=(this.words[w]|0)-A<<u;this.words[w]=x|E,E=A>>>26-u}E&&(this.words[w]=E,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,m){r(typeof a=="number"&&a>=0);var y;u?y=(u-u%26)/26:y=0;var w=a%26,E=Math.min((a-w)/26,this.length),A=67108863^67108863>>>w<<w,x=m;if(y-=E,y=Math.max(0,y),x){for(var f=0;f<E;f++)x.words[f]=this.words[f];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=y);f--){var q=this.words[f]|0;this.words[f]=v<<26-w|q>>>w,v=q&A}return x&&v!==0&&(x.words[x.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,m){return r(this.negative===0),this.iushrn(a,u,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return!1;var w=this.words[m];return!!(w&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,m){var y=a.length+m,w;this._expand(y);var E,A=0;for(w=0;w<a.length;w++){E=(this.words[w+m]|0)+A;var x=(a.words[w]|0)*u;E-=x&67108863,A=(E>>26)-(x/67108864|0),this.words[w+m]=E&67108863}for(;w<this.length-m;w++)E=(this.words[w+m]|0)+A,A=E>>26,this.words[w+m]=E&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+A,A=E>>26,this.words[w]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var m=this.length-a.length,y=this.clone(),w=a,E=w.words[w.length-1]|0,A=this._countBits(E);m=26-A,m!==0&&(w=w.ushln(m),y.iushln(m),E=w.words[w.length-1]|0);var x=y.length-w.length,f;if(u!=="mod"){f=new i(null),f.length=x+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var q=y.clone()._ishlnsubmul(w,1,x);q.negative===0&&(y=q,f&&(f.words[x]=1));for(var U=x-1;U>=0;U--){var O=(y.words[w.length+U]|0)*67108864+(y.words[w.length+U-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,U),y.isZero()||(y.negative^=1);f&&(f.words[U]=O)}return f&&f.strip(),y.strip(),u!=="div"&&m!==0&&y.iushrn(m),{div:f||null,mod:y}},i.prototype.divmod=function(a,u,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,w,E;return this.negative!==0&&a.negative===0?(E=this.neg().divmod(a,u),u!=="mod"&&(y=E.div.neg()),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.iadd(a)),{div:y,mod:w}):this.negative===0&&a.negative!==0?(E=this.divmod(a.neg(),u),u!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):this.negative&a.negative?(E=this.neg().divmod(a.neg(),u),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.isub(a)),{div:E.div,mod:w}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(a):u.mod,y=a.ushrn(1),w=a.andln(1),E=m.cmp(y);return E<0||w===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,m=0,y=this.length-1;y>=0;y--)m=(u*m+(this.words[y]|0))%a;return m},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,m=this.length-1;m>=0;m--){var y=(this.words[m]|0)+u*67108864;this.words[m]=y/a|0,u=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=new i(0),A=new i(1),x=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++x;for(var f=m.clone(),v=u.clone();!u.isZero();){for(var q=0,U=1;!(u.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(u.iushrn(q);q-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(f),w.isub(v)),y.iushrn(1),w.iushrn(1);for(var O=0,W=1;!(m.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(m.iushrn(O);O-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(f),A.isub(v)),E.iushrn(1),A.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(E),w.isub(A)):(m.isub(u),E.isub(y),A.isub(w))}return{a:E,b:A,gcd:m.iushln(x)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,x=1;!(u.words[0]&x)&&A<26;++A,x<<=1);if(A>0)for(u.iushrn(A);A-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var f=0,v=1;!(m.words[0]&v)&&f<26;++f,v<<=1);if(f>0)for(m.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(w)):(m.isub(u),w.isub(y))}var q;return u.cmpn(1)===0?q=y:q=w,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),m=a.clone();u.negative=0,m.negative=0;for(var y=0;u.isEven()&&m.isEven();y++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=u.cmp(m);if(w<0){var E=u;u=m,m=E}else if(w===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var w=y,E=m;w!==0&&E<this.length;E++){var A=this.words[E]|0;A+=w,w=A>>>26,A&=67108863,this.words[E]=A}return w!==0&&(this.words[E]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var m;if(this.length>1)m=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,w=a.words[m]|0;if(y!==w){y<w?u=-1:y>w&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new $(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function R(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},R.prototype.ireduce=function(a){var u=a,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var y=m<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(a,u){a.iushrn(this.n,0,u)},R.prototype.imulK=function(a){return a.imul(this.k)};function L(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,R),L.prototype.split=function(a,u){for(var m=4194303,y=Math.min(a.length,9),w=0;w<y;w++)u.words[w]=a.words[w];if(u.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var E=a.words[9];for(u.words[u.length++]=E&m,w=10;w<a.length;w++){var A=a.words[w]|0;a.words[w-10]=(A&m)<<4|E>>>22,E=A}E>>>=22,a.words[w-10]=E,E===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,m=0;m<a.length;m++){var y=a.words[m]|0;u+=y*977,a.words[m]=u&67108863,u=y*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,R);function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(z,R);function oe(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(oe,R),oe.prototype.imulK=function(a){for(var u=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+u,w=y&67108863;y>>>=26,a.words[m]=w,u=y}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new L;else if(a==="p224")u=new V;else if(a==="p192")u=new z;else if(a==="p25519")u=new oe;else throw new Error("Unknown prime "+a);return D[a]=u,u};function $(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},$.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},$.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},$.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},$.prototype.add=function(a,u){this._verify2(a,u);var m=a.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(a,u){this._verify2(a,u);var m=a.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(a,u){this._verify2(a,u);var m=a.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(a,u){this._verify2(a,u);var m=a.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},$.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},$.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},$.prototype.isqr=function(a){return this.imul(a,a.clone())},$.prototype.sqr=function(a){return this.mul(a,a)},$.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var E=new i(1).toRed(this),A=E.redNeg(),x=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,x).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,y),q=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=w;U.cmp(E)!==0;){for(var W=U,Q=0;W.cmp(E)!==0;Q++)W=W.redSqr();r(Q<O);var re=this.pow(v,new i(1).iushln(O-Q-1));q=q.redMul(re),v=re.redSqr(),U=U.redMul(v),O=Q}return q},$.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},$.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new i(1).toRed(this),y[1]=a;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],a);var E=y[0],A=0,x=0,f=u.bitLength()%26;for(f===0&&(f=26),w=u.length-1;w>=0;w--){for(var v=u.words[w],q=f-1;q>=0;q--){var U=v>>q&1;if(E!==y[0]&&(E=this.sqr(E)),U===0&&A===0){x=0;continue}A<<=1,A|=U,x++,!(x!==m&&(w!==0||q!==0))&&(E=this.mul(E,y[A]),x=0,A=0)}f=26}return E},$.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},$.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new ne(a)};function ne(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,$),ne.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ne.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var m=a.mul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof JB>"u"||JB,jee)});var Wee=F((V2t,Gee)=>{h();p();var BMe=X_(),CMe=zee();Gee.exports=function(e){return new Jp(e)};var Pa={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Pa.p224=Pa.secp224r1;Pa.p256=Pa.secp256r1=Pa.prime256v1;Pa.p192=Pa.secp192r1=Pa.prime192v1;Pa.p384=Pa.secp384r1;Pa.p521=Pa.secp521r1;function Jp(t){this.curveType=Pa[t],this.curveType||(this.curveType={name:t}),this.curve=new BMe.ec(this.curveType.name),this.keys=void 0}Jp.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Jp.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return eC(i,r,this.curveType.byteLength)};Jp.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),eC(r,t)};Jp.prototype.getPrivateKey=function(t){return eC(this.keys.getPrivate(),t)};Jp.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};Jp.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new CMe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function eC(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}});var rC=F((G2t,$ee)=>{h();p();var NMe=Mp(),tC=Wt().Buffer;$ee.exports=function(t,e){for(var r=tC.alloc(0),n=0,i;r.length<e;)i=OMe(n++),r=tC.concat([r,NMe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function OMe(t){var e=tC.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var nC=F((Y2t,Yee)=>{h();p();Yee.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var l4=F((Zee,iC)=>{h();p();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Qy().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,m){if(typeof a=="number")return this._initNumber(a,u,m);if(typeof a=="object")return this._initArray(a,u,m);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(u===16?this._parseHex(a,y,m):(this._parseBase(a,u,y),m==="le"&&this._initArray(this.toArray(),u,m)))},i.prototype._initNumber=function(a,u,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},i.prototype._initArray=function(a,u,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,A=0;if(m==="be")for(y=a.length-1,w=0;y>=0;y-=3)E=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(m==="le")for(y=0,w=0;y<a.length;y+=3)E=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[w]|=E<<A&67108863,this.words[w+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function s(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(S,a,u){var m=s(S,u);return u-1>=a&&(m|=s(S,u-1)<<4),m}i.prototype._parseHex=function(a,u,m){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,A;if(m==="be")for(y=a.length-1;y>=u;y-=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8;else{var x=a.length-u;for(y=x%2===0?u+1:u;y<a.length;y+=2)A=c(a,u,y)<<w,this.words[E]|=A&67108863,w>=18?(w-=18,E+=1,this.words[E]|=A>>>26):w+=8}this.strip()};function l(S,a,u,m){for(var y=0,w=Math.min(S.length,u),E=a;E<w;E++){var A=S.charCodeAt(E)-48;y*=m,A>=49?y+=A-49+10:A>=17?y+=A-17+10:y+=A}return y}i.prototype._parseBase=function(a,u,m){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=u)y++;y--,w=w/u|0;for(var E=a.length-m,A=E%y,x=Math.min(E,E-A)+m,f=0,v=m;v<x;v+=y)f=l(a,v,v+y,u),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var q=1;for(f=l(a,v,a.length,u),v=0;v<A;v++)q*=u;this.imuln(q),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,w=0,E=0;E<this.length;E++){var A=this.words[E],x=((A<<y|w)&16777215).toString(16);w=A>>>24-y&16777215,w!==0||E!==this.length-1?m=d[6-x.length]+x+m:m=x+m,y+=2,y>=26&&(y-=26,E--)}for(w!==0&&(m=w.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var f=g[a],v=b[a];m="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modn(v).toString(a);q=q.idivn(v),q.isZero()?m=U+m:m=d[f-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return r(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,m){var y=this.byteLength(),w=m||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var E=u==="le",A=new a(w),x,f,v=this.clone();if(E){for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[f]=x;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-y;f++)A[f]=0;for(f=0;!v.isZero();f++)x=v.andln(255),v.iushrn(8),A[w-f-1]=x}return A},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,m=0;return u&8191||(m+=13,u>>>=13),u&127||(m+=7,u>>>=7),u&15||(m+=4,u>>>=4),u&3||(m+=2,u>>>=2),u&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function _(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var m=u/26|0,y=u%26;a[u]=(S.words[m]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,m;this.length>a.length?(u=this,m=a):(u=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=u.words[y]^m.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,m=a%26;this._expand(u),m>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var w=0,E=0;E<y.length;E++)u=(m.words[E]|0)+(y.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;for(;w!==0&&E<m.length;E++)u=(m.words[E]|0)+w,this.words[E]=u&67108863,w=u>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;m>0?(y=this,w=a):(y=a,w=this);for(var E=0,A=0;A<w.length;A++)u=(y.words[A]|0)-(w.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;for(;E!==0&&A<y.length;A++)u=(y.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;if(E===0&&A<y.length&&y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=Math.max(this.length,A),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function T(S,a,u){u.negative=a.negative^S.negative;var m=S.length+a.length|0;u.length=m,m=m-1|0;var y=S.words[0]|0,w=a.words[0]|0,E=y*w,A=E&67108863,x=E/67108864|0;u.words[0]=A;for(var f=1;f<m;f++){for(var v=x>>>26,q=x&67108863,U=Math.min(f,a.length-1),O=Math.max(0,f-S.length+1);O<=U;O++){var W=f-O|0;y=S.words[W]|0,w=a.words[O]|0,E=y*w+q,v+=E/67108864|0,q=E&67108863}u.words[f]=q|0,x=v|0}return x!==0?u.words[f]=x|0:u.length--,u.strip()}var M=function(a,u,m){var y=a.words,w=u.words,E=m.words,A=0,x,f,v,q=y[0]|0,U=q&8191,O=q>>>13,W=y[1]|0,Q=W&8191,re=W>>>13,Ke=y[2]|0,se=Ke&8191,Z=Ke>>>13,ct=y[3]|0,de=ct&8191,he=ct>>>13,ur=y[4]|0,me=ur&8191,Se=ur>>>13,qn=y[5]|0,Ce=qn&8191,ye=qn>>>13,Jn=y[6]|0,Ne=Jn&8191,Te=Jn>>>13,di=y[7]|0,Ee=di&8191,Ie=di>>>13,ei=y[8]|0,Me=ei&8191,ke=ei>>>13,Si=y[9]|0,Le=Si&8191,Pe=Si>>>13,hi=w[0]|0,_e=hi&8191,ve=hi>>>13,kn=w[1]|0,xe=kn&8191,Ae=kn>>>13,Hn=w[2]|0,we=Hn&8191,Re=Hn>>>13,Ei=w[3]|0,Ue=Ei&8191,Fe=Ei>>>13,un=w[4]|0,ge=un&8191,be=un>>>13,pi=w[5]|0,Be=pi&8191,Oe=pi>>>13,Di=w[6]|0,pe=Di&8191,De=Di>>>13,H=w[7]|0,j=H&8191,K=H>>>13,N=w[8]|0,G=N&8191,Y=N>>>13,ae=w[9]|0,ee=ae&8191,ie=ae>>>13;m.negative=a.negative^u.negative,m.length=19,x=Math.imul(U,_e),f=Math.imul(U,ve),f=f+Math.imul(O,_e)|0,v=Math.imul(O,ve);var ot=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(Q,_e),f=Math.imul(Q,ve),f=f+Math.imul(re,_e)|0,v=Math.imul(re,ve),x=x+Math.imul(U,xe)|0,f=f+Math.imul(U,Ae)|0,f=f+Math.imul(O,xe)|0,v=v+Math.imul(O,Ae)|0;var Ze=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(se,_e),f=Math.imul(se,ve),f=f+Math.imul(Z,_e)|0,v=Math.imul(Z,ve),x=x+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Ae)|0,f=f+Math.imul(re,xe)|0,v=v+Math.imul(re,Ae)|0,x=x+Math.imul(U,we)|0,f=f+Math.imul(U,Re)|0,f=f+Math.imul(O,we)|0,v=v+Math.imul(O,Re)|0;var At=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(de,_e),f=Math.imul(de,ve),f=f+Math.imul(he,_e)|0,v=Math.imul(he,ve),x=x+Math.imul(se,xe)|0,f=f+Math.imul(se,Ae)|0,f=f+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Ae)|0,x=x+Math.imul(Q,we)|0,f=f+Math.imul(Q,Re)|0,f=f+Math.imul(re,we)|0,v=v+Math.imul(re,Re)|0,x=x+Math.imul(U,Ue)|0,f=f+Math.imul(U,Fe)|0,f=f+Math.imul(O,Ue)|0,v=v+Math.imul(O,Fe)|0;var Je=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(me,_e),f=Math.imul(me,ve),f=f+Math.imul(Se,_e)|0,v=Math.imul(Se,ve),x=x+Math.imul(de,xe)|0,f=f+Math.imul(de,Ae)|0,f=f+Math.imul(he,xe)|0,v=v+Math.imul(he,Ae)|0,x=x+Math.imul(se,we)|0,f=f+Math.imul(se,Re)|0,f=f+Math.imul(Z,we)|0,v=v+Math.imul(Z,Re)|0,x=x+Math.imul(Q,Ue)|0,f=f+Math.imul(Q,Fe)|0,f=f+Math.imul(re,Ue)|0,v=v+Math.imul(re,Fe)|0,x=x+Math.imul(U,ge)|0,f=f+Math.imul(U,be)|0,f=f+Math.imul(O,ge)|0,v=v+Math.imul(O,be)|0;var lt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Ce,_e),f=Math.imul(Ce,ve),f=f+Math.imul(ye,_e)|0,v=Math.imul(ye,ve),x=x+Math.imul(me,xe)|0,f=f+Math.imul(me,Ae)|0,f=f+Math.imul(Se,xe)|0,v=v+Math.imul(Se,Ae)|0,x=x+Math.imul(de,we)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(he,we)|0,v=v+Math.imul(he,Re)|0,x=x+Math.imul(se,Ue)|0,f=f+Math.imul(se,Fe)|0,f=f+Math.imul(Z,Ue)|0,v=v+Math.imul(Z,Fe)|0,x=x+Math.imul(Q,ge)|0,f=f+Math.imul(Q,be)|0,f=f+Math.imul(re,ge)|0,v=v+Math.imul(re,be)|0,x=x+Math.imul(U,Be)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(O,Be)|0,v=v+Math.imul(O,Oe)|0;var dt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(Ne,_e),f=Math.imul(Ne,ve),f=f+Math.imul(Te,_e)|0,v=Math.imul(Te,ve),x=x+Math.imul(Ce,xe)|0,f=f+Math.imul(Ce,Ae)|0,f=f+Math.imul(ye,xe)|0,v=v+Math.imul(ye,Ae)|0,x=x+Math.imul(me,we)|0,f=f+Math.imul(me,Re)|0,f=f+Math.imul(Se,we)|0,v=v+Math.imul(Se,Re)|0,x=x+Math.imul(de,Ue)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(he,Ue)|0,v=v+Math.imul(he,Fe)|0,x=x+Math.imul(se,ge)|0,f=f+Math.imul(se,be)|0,f=f+Math.imul(Z,ge)|0,v=v+Math.imul(Z,be)|0,x=x+Math.imul(Q,Be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(re,Be)|0,v=v+Math.imul(re,Oe)|0,x=x+Math.imul(U,pe)|0,f=f+Math.imul(U,De)|0,f=f+Math.imul(O,pe)|0,v=v+Math.imul(O,De)|0;var gt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(Ee,_e),f=Math.imul(Ee,ve),f=f+Math.imul(Ie,_e)|0,v=Math.imul(Ie,ve),x=x+Math.imul(Ne,xe)|0,f=f+Math.imul(Ne,Ae)|0,f=f+Math.imul(Te,xe)|0,v=v+Math.imul(Te,Ae)|0,x=x+Math.imul(Ce,we)|0,f=f+Math.imul(Ce,Re)|0,f=f+Math.imul(ye,we)|0,v=v+Math.imul(ye,Re)|0,x=x+Math.imul(me,Ue)|0,f=f+Math.imul(me,Fe)|0,f=f+Math.imul(Se,Ue)|0,v=v+Math.imul(Se,Fe)|0,x=x+Math.imul(de,ge)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(he,ge)|0,v=v+Math.imul(he,be)|0,x=x+Math.imul(se,Be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(Z,Be)|0,v=v+Math.imul(Z,Oe)|0,x=x+Math.imul(Q,pe)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(re,pe)|0,v=v+Math.imul(re,De)|0,x=x+Math.imul(U,j)|0,f=f+Math.imul(U,K)|0,f=f+Math.imul(O,j)|0,v=v+Math.imul(O,K)|0;var yt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,x=Math.imul(Me,_e),f=Math.imul(Me,ve),f=f+Math.imul(ke,_e)|0,v=Math.imul(ke,ve),x=x+Math.imul(Ee,xe)|0,f=f+Math.imul(Ee,Ae)|0,f=f+Math.imul(Ie,xe)|0,v=v+Math.imul(Ie,Ae)|0,x=x+Math.imul(Ne,we)|0,f=f+Math.imul(Ne,Re)|0,f=f+Math.imul(Te,we)|0,v=v+Math.imul(Te,Re)|0,x=x+Math.imul(Ce,Ue)|0,f=f+Math.imul(Ce,Fe)|0,f=f+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Fe)|0,x=x+Math.imul(me,ge)|0,f=f+Math.imul(me,be)|0,f=f+Math.imul(Se,ge)|0,v=v+Math.imul(Se,be)|0,x=x+Math.imul(de,Be)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(he,Be)|0,v=v+Math.imul(he,Oe)|0,x=x+Math.imul(se,pe)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(Z,pe)|0,v=v+Math.imul(Z,De)|0,x=x+Math.imul(Q,j)|0,f=f+Math.imul(Q,K)|0,f=f+Math.imul(re,j)|0,v=v+Math.imul(re,K)|0,x=x+Math.imul(U,G)|0,f=f+Math.imul(U,Y)|0,f=f+Math.imul(O,G)|0,v=v+Math.imul(O,Y)|0;var ht=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,x=Math.imul(Le,_e),f=Math.imul(Le,ve),f=f+Math.imul(Pe,_e)|0,v=Math.imul(Pe,ve),x=x+Math.imul(Me,xe)|0,f=f+Math.imul(Me,Ae)|0,f=f+Math.imul(ke,xe)|0,v=v+Math.imul(ke,Ae)|0,x=x+Math.imul(Ee,we)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(Ie,we)|0,v=v+Math.imul(Ie,Re)|0,x=x+Math.imul(Ne,Ue)|0,f=f+Math.imul(Ne,Fe)|0,f=f+Math.imul(Te,Ue)|0,v=v+Math.imul(Te,Fe)|0,x=x+Math.imul(Ce,ge)|0,f=f+Math.imul(Ce,be)|0,f=f+Math.imul(ye,ge)|0,v=v+Math.imul(ye,be)|0,x=x+Math.imul(me,Be)|0,f=f+Math.imul(me,Oe)|0,f=f+Math.imul(Se,Be)|0,v=v+Math.imul(Se,Oe)|0,x=x+Math.imul(de,pe)|0,f=f+Math.imul(de,De)|0,f=f+Math.imul(he,pe)|0,v=v+Math.imul(he,De)|0,x=x+Math.imul(se,j)|0,f=f+Math.imul(se,K)|0,f=f+Math.imul(Z,j)|0,v=v+Math.imul(Z,K)|0,x=x+Math.imul(Q,G)|0,f=f+Math.imul(Q,Y)|0,f=f+Math.imul(re,G)|0,v=v+Math.imul(re,Y)|0,x=x+Math.imul(U,ee)|0,f=f+Math.imul(U,ie)|0,f=f+Math.imul(O,ee)|0,v=v+Math.imul(O,ie)|0;var mt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Le,xe),f=Math.imul(Le,Ae),f=f+Math.imul(Pe,xe)|0,v=Math.imul(Pe,Ae),x=x+Math.imul(Me,we)|0,f=f+Math.imul(Me,Re)|0,f=f+Math.imul(ke,we)|0,v=v+Math.imul(ke,Re)|0,x=x+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(Ie,Ue)|0,v=v+Math.imul(Ie,Fe)|0,x=x+Math.imul(Ne,ge)|0,f=f+Math.imul(Ne,be)|0,f=f+Math.imul(Te,ge)|0,v=v+Math.imul(Te,be)|0,x=x+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,Oe)|0,f=f+Math.imul(ye,Be)|0,v=v+Math.imul(ye,Oe)|0,x=x+Math.imul(me,pe)|0,f=f+Math.imul(me,De)|0,f=f+Math.imul(Se,pe)|0,v=v+Math.imul(Se,De)|0,x=x+Math.imul(de,j)|0,f=f+Math.imul(de,K)|0,f=f+Math.imul(he,j)|0,v=v+Math.imul(he,K)|0,x=x+Math.imul(se,G)|0,f=f+Math.imul(se,Y)|0,f=f+Math.imul(Z,G)|0,v=v+Math.imul(Z,Y)|0,x=x+Math.imul(Q,ee)|0,f=f+Math.imul(Q,ie)|0,f=f+Math.imul(re,ee)|0,v=v+Math.imul(re,ie)|0;var pt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,we),f=Math.imul(Le,Re),f=f+Math.imul(Pe,we)|0,v=Math.imul(Pe,Re),x=x+Math.imul(Me,Ue)|0,f=f+Math.imul(Me,Fe)|0,f=f+Math.imul(ke,Ue)|0,v=v+Math.imul(ke,Fe)|0,x=x+Math.imul(Ee,ge)|0,f=f+Math.imul(Ee,be)|0,f=f+Math.imul(Ie,ge)|0,v=v+Math.imul(Ie,be)|0,x=x+Math.imul(Ne,Be)|0,f=f+Math.imul(Ne,Oe)|0,f=f+Math.imul(Te,Be)|0,v=v+Math.imul(Te,Oe)|0,x=x+Math.imul(Ce,pe)|0,f=f+Math.imul(Ce,De)|0,f=f+Math.imul(ye,pe)|0,v=v+Math.imul(ye,De)|0,x=x+Math.imul(me,j)|0,f=f+Math.imul(me,K)|0,f=f+Math.imul(Se,j)|0,v=v+Math.imul(Se,K)|0,x=x+Math.imul(de,G)|0,f=f+Math.imul(de,Y)|0,f=f+Math.imul(he,G)|0,v=v+Math.imul(he,Y)|0,x=x+Math.imul(se,ee)|0,f=f+Math.imul(se,ie)|0,f=f+Math.imul(Z,ee)|0,v=v+Math.imul(Z,ie)|0;var tt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(Le,Ue),f=Math.imul(Le,Fe),f=f+Math.imul(Pe,Ue)|0,v=Math.imul(Pe,Fe),x=x+Math.imul(Me,ge)|0,f=f+Math.imul(Me,be)|0,f=f+Math.imul(ke,ge)|0,v=v+Math.imul(ke,be)|0,x=x+Math.imul(Ee,Be)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(Ie,Be)|0,v=v+Math.imul(Ie,Oe)|0,x=x+Math.imul(Ne,pe)|0,f=f+Math.imul(Ne,De)|0,f=f+Math.imul(Te,pe)|0,v=v+Math.imul(Te,De)|0,x=x+Math.imul(Ce,j)|0,f=f+Math.imul(Ce,K)|0,f=f+Math.imul(ye,j)|0,v=v+Math.imul(ye,K)|0,x=x+Math.imul(me,G)|0,f=f+Math.imul(me,Y)|0,f=f+Math.imul(Se,G)|0,v=v+Math.imul(Se,Y)|0,x=x+Math.imul(de,ee)|0,f=f+Math.imul(de,ie)|0,f=f+Math.imul(he,ee)|0,v=v+Math.imul(he,ie)|0;var st=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Le,ge),f=Math.imul(Le,be),f=f+Math.imul(Pe,ge)|0,v=Math.imul(Pe,be),x=x+Math.imul(Me,Be)|0,f=f+Math.imul(Me,Oe)|0,f=f+Math.imul(ke,Be)|0,v=v+Math.imul(ke,Oe)|0,x=x+Math.imul(Ee,pe)|0,f=f+Math.imul(Ee,De)|0,f=f+Math.imul(Ie,pe)|0,v=v+Math.imul(Ie,De)|0,x=x+Math.imul(Ne,j)|0,f=f+Math.imul(Ne,K)|0,f=f+Math.imul(Te,j)|0,v=v+Math.imul(Te,K)|0,x=x+Math.imul(Ce,G)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(ye,G)|0,v=v+Math.imul(ye,Y)|0,x=x+Math.imul(me,ee)|0,f=f+Math.imul(me,ie)|0,f=f+Math.imul(Se,ee)|0,v=v+Math.imul(Se,ie)|0;var Xe=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(Le,Be),f=Math.imul(Le,Oe),f=f+Math.imul(Pe,Be)|0,v=Math.imul(Pe,Oe),x=x+Math.imul(Me,pe)|0,f=f+Math.imul(Me,De)|0,f=f+Math.imul(ke,pe)|0,v=v+Math.imul(ke,De)|0,x=x+Math.imul(Ee,j)|0,f=f+Math.imul(Ee,K)|0,f=f+Math.imul(Ie,j)|0,v=v+Math.imul(Ie,K)|0,x=x+Math.imul(Ne,G)|0,f=f+Math.imul(Ne,Y)|0,f=f+Math.imul(Te,G)|0,v=v+Math.imul(Te,Y)|0,x=x+Math.imul(Ce,ee)|0,f=f+Math.imul(Ce,ie)|0,f=f+Math.imul(ye,ee)|0,v=v+Math.imul(ye,ie)|0;var rt=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(Le,pe),f=Math.imul(Le,De),f=f+Math.imul(Pe,pe)|0,v=Math.imul(Pe,De),x=x+Math.imul(Me,j)|0,f=f+Math.imul(Me,K)|0,f=f+Math.imul(ke,j)|0,v=v+Math.imul(ke,K)|0,x=x+Math.imul(Ee,G)|0,f=f+Math.imul(Ee,Y)|0,f=f+Math.imul(Ie,G)|0,v=v+Math.imul(Ie,Y)|0,x=x+Math.imul(Ne,ee)|0,f=f+Math.imul(Ne,ie)|0,f=f+Math.imul(Te,ee)|0,v=v+Math.imul(Te,ie)|0;var it=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(it>>>26)|0,it&=67108863,x=Math.imul(Le,j),f=Math.imul(Le,K),f=f+Math.imul(Pe,j)|0,v=Math.imul(Pe,K),x=x+Math.imul(Me,G)|0,f=f+Math.imul(Me,Y)|0,f=f+Math.imul(ke,G)|0,v=v+Math.imul(ke,Y)|0,x=x+Math.imul(Ee,ee)|0,f=f+Math.imul(Ee,ie)|0,f=f+Math.imul(Ie,ee)|0,v=v+Math.imul(Ie,ie)|0;var Ye=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,x=Math.imul(Le,G),f=Math.imul(Le,Y),f=f+Math.imul(Pe,G)|0,v=Math.imul(Pe,Y),x=x+Math.imul(Me,ee)|0,f=f+Math.imul(Me,ie)|0,f=f+Math.imul(ke,ee)|0,v=v+Math.imul(ke,ie)|0;var ce=(A+x|0)+((f&8191)<<13)|0;A=(v+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,x=Math.imul(Le,ee),f=Math.imul(Le,ie),f=f+Math.imul(Pe,ee)|0,v=Math.imul(Pe,ie);var fe=(A+x|0)+((f&8191)<<13)|0;return A=(v+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,E[0]=ot,E[1]=Ze,E[2]=At,E[3]=Je,E[4]=lt,E[5]=dt,E[6]=gt,E[7]=yt,E[8]=ht,E[9]=mt,E[10]=pt,E[11]=tt,E[12]=st,E[13]=Xe,E[14]=rt,E[15]=it,E[16]=Ye,E[17]=ce,E[18]=fe,A!==0&&(E[19]=A,m.length++),m};Math.imul||(M=T);function k(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var m=0,y=0,w=0;w<u.length-1;w++){var E=y;y=0;for(var A=m&67108863,x=Math.min(w,a.length-1),f=Math.max(0,w-S.length+1);f<=x;f++){var v=w-f,q=S.words[v]|0,U=a.words[f]|0,O=q*U,W=O&67108863;E=E+(O/67108864|0)|0,W=W+A|0,A=W&67108863,E=E+(W>>>26)|0,y+=E>>>26,E&=67108863}u.words[w]=A,m=E,E=y}return m!==0?u.words[w]=m:u.length--,u.strip()}function B(S,a,u){var m=new P;return m.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=M(this,a,u):y<63?m=T(this,a,u):y<1024?m=k(this,a,u):m=B(this,a,u),m};function P(S,a){this.x=S,this.y=a}P.prototype.makeRBT=function(a){for(var u=new Array(a),m=i.prototype._countBits(a)-1,y=0;y<a;y++)u[y]=this.revBin(y,m,a);return u},P.prototype.revBin=function(a,u,m){if(a===0||a===m-1)return a;for(var y=0,w=0;w<u;w++)y|=(a&1)<<u-w-1,a>>=1;return y},P.prototype.permute=function(a,u,m,y,w,E){for(var A=0;A<E;A++)y[A]=u[a[A]],w[A]=m[a[A]]},P.prototype.transform=function(a,u,m,y,w,E){this.permute(E,a,u,m,y,w);for(var A=1;A<w;A<<=1)for(var x=A<<1,f=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),q=0;q<w;q+=x)for(var U=f,O=v,W=0;W<A;W++){var Q=m[q+W],re=y[q+W],Ke=m[q+W+A],se=y[q+W+A],Z=U*Ke-O*se;se=U*se+O*Ke,Ke=Z,m[q+W]=Q+Ke,y[q+W]=re+se,m[q+W+A]=Q-Ke,y[q+W+A]=re-se,W!==x&&(Z=f*U-v*O,O=f*O+v*U,U=Z)}},P.prototype.guessLen13b=function(a,u){var m=Math.max(u,a)|1,y=m&1,w=0;for(m=m/2|0;m;m=m>>>1)w++;return 1<<w+1+y},P.prototype.conjugate=function(a,u,m){if(!(m<=1))for(var y=0;y<m/2;y++){var w=a[y];a[y]=a[m-y-1],a[m-y-1]=w,w=u[y],u[y]=-u[m-y-1],u[m-y-1]=-w}},P.prototype.normalize13b=function(a,u){for(var m=0,y=0;y<u/2;y++){var w=Math.round(a[2*y+1]/u)*8192+Math.round(a[2*y]/u)+m;a[y]=w&67108863,w<67108864?m=0:m=w/67108864|0}return a},P.prototype.convert13b=function(a,u,m,y){for(var w=0,E=0;E<u;E++)w=w+(a[E]|0),m[2*E]=w&8191,w=w>>>13,m[2*E+1]=w&8191,w=w>>>13;for(E=2*u;E<y;++E)m[E]=0;r(w===0),r((w&-8192)===0)},P.prototype.stub=function(a){for(var u=new Array(a),m=0;m<a;m++)u[m]=0;return u},P.prototype.mulp=function(a,u,m){var y=2*this.guessLen13b(a.length,u.length),w=this.makeRBT(y),E=this.stub(y),A=new Array(y),x=new Array(y),f=new Array(y),v=new Array(y),q=new Array(y),U=new Array(y),O=m.words;O.length=y,this.convert13b(a.words,a.length,A,y),this.convert13b(u.words,u.length,v,y),this.transform(A,E,x,f,y,w),this.transform(v,E,q,U,y,w);for(var W=0;W<y;W++){var Q=x[W]*q[W]-f[W]*U[W];f[W]=x[W]*U[W]+f[W]*q[W],x[W]=Q}return this.conjugate(x,f,y),this.transform(x,f,O,E,y,w),this.conjugate(O,E,y),this.normalize13b(O,y),m.negative=a.negative^u.negative,m.length=a.length+u.length,m.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),B(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var u=0,m=0;m<this.length;m++){var y=(this.words[m]|0)*a,w=(y&67108863)+(u&67108863);u>>=26,u+=y/67108864|0,u+=w>>>26,this.words[m]=w&67108863}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=_(a);if(u.length===0)return new i(1);for(var m=this,y=0;y<u.length&&u[y]===0;y++,m=m.sqr());if(++y<u.length)for(var w=m.sqr();y<u.length;y++,w=w.sqr())u[y]!==0&&(m=m.mul(w));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=67108863>>>26-u<<26-u,w;if(u!==0){var E=0;for(w=0;w<this.length;w++){var A=this.words[w]&y,x=(this.words[w]|0)-A<<u;this.words[w]=x|E,E=A>>>26-u}E&&(this.words[w]=E,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,m){r(typeof a=="number"&&a>=0);var y;u?y=(u-u%26)/26:y=0;var w=a%26,E=Math.min((a-w)/26,this.length),A=67108863^67108863>>>w<<w,x=m;if(y-=E,y=Math.max(0,y),x){for(var f=0;f<E;f++)x.words[f]=this.words[f];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var v=0;for(f=this.length-1;f>=0&&(v!==0||f>=y);f--){var q=this.words[f]|0;this.words[f]=v<<26-w|q>>>w,v=q&A}return x&&v!==0&&(x.words[x.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,m){return r(this.negative===0),this.iushrn(a,u,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return!1;var w=this.words[m];return!!(w&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,m=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,m){var y=a.length+m,w;this._expand(y);var E,A=0;for(w=0;w<a.length;w++){E=(this.words[w+m]|0)+A;var x=(a.words[w]|0)*u;E-=x&67108863,A=(E>>26)-(x/67108864|0),this.words[w+m]=E&67108863}for(;w<this.length-m;w++)E=(this.words[w+m]|0)+A,A=E>>26,this.words[w+m]=E&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+A,A=E>>26,this.words[w]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var m=this.length-a.length,y=this.clone(),w=a,E=w.words[w.length-1]|0,A=this._countBits(E);m=26-A,m!==0&&(w=w.ushln(m),y.iushln(m),E=w.words[w.length-1]|0);var x=y.length-w.length,f;if(u!=="mod"){f=new i(null),f.length=x+1,f.words=new Array(f.length);for(var v=0;v<f.length;v++)f.words[v]=0}var q=y.clone()._ishlnsubmul(w,1,x);q.negative===0&&(y=q,f&&(f.words[x]=1));for(var U=x-1;U>=0;U--){var O=(y.words[w.length+U]|0)*67108864+(y.words[w.length+U-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,U),y.isZero()||(y.negative^=1);f&&(f.words[U]=O)}return f&&f.strip(),y.strip(),u!=="div"&&m!==0&&y.iushrn(m),{div:f||null,mod:y}},i.prototype.divmod=function(a,u,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,w,E;return this.negative!==0&&a.negative===0?(E=this.neg().divmod(a,u),u!=="mod"&&(y=E.div.neg()),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.iadd(a)),{div:y,mod:w}):this.negative===0&&a.negative!==0?(E=this.divmod(a.neg(),u),u!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):this.negative&a.negative?(E=this.neg().divmod(a.neg(),u),u!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.isub(a)),{div:E.div,mod:w}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(a):u.mod,y=a.ushrn(1),w=a.andln(1),E=m.cmp(y);return E<0||w===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var u=(1<<26)%a,m=0,y=this.length-1;y>=0;y--)m=(u*m+(this.words[y]|0))%a;return m},i.prototype.idivn=function(a){r(a<=67108863);for(var u=0,m=this.length-1;m>=0;m--){var y=(this.words[m]|0)+u*67108864;this.words[m]=y/a|0,u=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=new i(0),A=new i(1),x=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++x;for(var f=m.clone(),v=u.clone();!u.isZero();){for(var q=0,U=1;!(u.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(u.iushrn(q);q-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(f),w.isub(v)),y.iushrn(1),w.iushrn(1);for(var O=0,W=1;!(m.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(m.iushrn(O);O-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(f),A.isub(v)),E.iushrn(1),A.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(E),w.isub(A)):(m.isub(u),E.isub(y),A.isub(w))}return{a:E,b:A,gcd:m.iushln(x)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,m=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var y=new i(1),w=new i(0),E=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,x=1;!(u.words[0]&x)&&A<26;++A,x<<=1);if(A>0)for(u.iushrn(A);A-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var f=0,v=1;!(m.words[0]&v)&&f<26;++f,v<<=1);if(f>0)for(m.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);u.cmp(m)>=0?(u.isub(m),y.isub(w)):(m.isub(u),w.isub(y))}var q;return u.cmpn(1)===0?q=y:q=w,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),m=a.clone();u.negative=0,m.negative=0;for(var y=0;u.isEven()&&m.isEven();y++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=u.cmp(m);if(w<0){var E=u;u=m,m=E}else if(w===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,m=(a-u)/26,y=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var w=y,E=m;w!==0&&E<this.length;E++){var A=this.words[E]|0;A+=w,w=A>>>26,A&=67108863,this.words[E]=A}return w!==0&&(this.words[E]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var m;if(this.length>1)m=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,w=a.words[m]|0;if(y!==w){y<w?u=-1:y>w&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new $(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function R(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},R.prototype.ireduce=function(a){var u=a,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var y=m<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},R.prototype.split=function(a,u){a.iushrn(this.n,0,u)},R.prototype.imulK=function(a){return a.imul(this.k)};function L(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,R),L.prototype.split=function(a,u){for(var m=4194303,y=Math.min(a.length,9),w=0;w<y;w++)u.words[w]=a.words[w];if(u.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var E=a.words[9];for(u.words[u.length++]=E&m,w=10;w<a.length;w++){var A=a.words[w]|0;a.words[w-10]=(A&m)<<4|E>>>22,E=A}E>>>=22,a.words[w-10]=E,E===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,m=0;m<a.length;m++){var y=a.words[m]|0;u+=y*977,a.words[m]=u&67108863,u=y*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,R);function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(z,R);function oe(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(oe,R),oe.prototype.imulK=function(a){for(var u=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+u,w=y&67108863;y>>>=26,a.words[m]=w,u=y}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new L;else if(a==="p224")u=new V;else if(a==="p192")u=new z;else if(a==="p25519")u=new oe;else throw new Error("Unknown prime "+a);return D[a]=u,u};function $(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},$.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},$.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},$.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},$.prototype.add=function(a,u){this._verify2(a,u);var m=a.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(a,u){this._verify2(a,u);var m=a.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(a,u){this._verify2(a,u);var m=a.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(a,u){this._verify2(a,u);var m=a.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},$.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},$.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},$.prototype.isqr=function(a){return this.imul(a,a.clone())},$.prototype.sqr=function(a){return this.mul(a,a)},$.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var E=new i(1).toRed(this),A=E.redNeg(),x=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,x).cmp(A)!==0;)f.redIAdd(A);for(var v=this.pow(f,y),q=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=w;U.cmp(E)!==0;){for(var W=U,Q=0;W.cmp(E)!==0;Q++)W=W.redSqr();r(Q<O);var re=this.pow(v,new i(1).iushln(O-Q-1));q=q.redMul(re),v=re.redSqr(),U=U.redMul(v),O=Q}return q},$.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},$.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new i(1).toRed(this),y[1]=a;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],a);var E=y[0],A=0,x=0,f=u.bitLength()%26;for(f===0&&(f=26),w=u.length-1;w>=0;w--){for(var v=u.words[w],q=f-1;q>=0;q--){var U=v>>q&1;if(E!==y[0]&&(E=this.sqr(E)),U===0&&A===0){x=0;continue}A<<=1,A|=U,x++,!(x!==m&&(w!==0||q!==0))&&(E=this.mul(E,y[A]),x=0,A=0)}f=26}return E},$.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},$.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new ne(a)};function ne(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,$),ne.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ne.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var m=a.mul(u),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},ne.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof iC>"u"||iC,Zee)});var oC=F((eSt,Xee)=>{h();p();var Qee=l4(),DMe=Wt().Buffer;function LMe(t,e){return DMe.from(t.toRed(Qee.mont(e.modulus)).redPow(new Qee(e.publicExponent)).fromRed().toArray())}Xee.exports=LMe});var rte=F((nSt,tte)=>{h();p();var UMe=bw(),sC=wp(),FMe=Mp(),Jee=rC(),ete=nC(),aC=l4(),qMe=oC(),HMe=D_(),xf=Wt().Buffer;tte.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=UMe(e),s;if(i===4)s=KMe(o,r);else if(i===1)s=VMe(o,r,n);else if(i===3){if(s=new aC(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?HMe(s,o):qMe(s,o)};function KMe(t,e){var r=t.modulus.byteLength(),n=e.length,i=FMe("sha1").update(xf.alloc(0)).digest(),o=i.length,s=2*o;if(n>r-s-2)throw new Error("message too long");var c=xf.alloc(r-n-s-2),l=r-o-1,d=sC(o),g=ete(xf.concat([i,c,xf.alloc(1,1),e],l),Jee(d,l)),b=ete(d,Jee(g,o));return new aC(xf.concat([xf.alloc(1),b,g],r))}function VMe(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var o;return r?o=xf.alloc(i-n-3,255):o=jMe(i-n-3),new aC(xf.concat([xf.from([0,r?1:2]),o,xf.alloc(1),e],i))}function jMe(t){for(var e=xf.allocUnsafe(t),r=0,n=sC(t*2),i=0,o;r<t;)i===n.length&&(n=sC(t*2),i=0),o=n[i++],o&&(e[r++]=o);return e}});var ate=F((sSt,ste)=>{h();p();var zMe=bw(),nte=rC(),ite=nC(),ote=l4(),GMe=D_(),WMe=Mp(),$Me=oC(),Sw=Wt().Buffer;ste.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=zMe(e),s=o.modulus.byteLength();if(r.length>s||new ote(r).cmp(o.modulus)>=0)throw new Error("decryption error");var c;n?c=$Me(new ote(r),o):c=GMe(r,o);var l=Sw.alloc(s-c.length);if(c=Sw.concat([l,c],s),i===4)return YMe(o,c);if(i===1)return ZMe(o,c,n);if(i===3)return c;throw new Error("unknown padding")};function YMe(t,e){var r=t.modulus.byteLength(),n=WMe("sha1").update(Sw.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,i+1),s=e.slice(i+1),c=ite(o,nte(s,i)),l=ite(s,nte(c,r-i-1));if(QMe(n,l.slice(0,i)))throw new Error("decryption error");for(var d=i;l[d]===0;)d++;if(l[d++]!==1)throw new Error("decryption error");return l.slice(d)}function ZMe(t,e,r){for(var n=e.slice(0,2),i=2,o=0;e[i++]!==0;)if(i>=e.length){o++;break}var s=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function QMe(t,e){t=Sw.from(t),e=Sw.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var cte=F(em=>{h();p();em.publicEncrypt=rte();em.privateDecrypt=ate();em.privateEncrypt=function(e,r){return em.publicEncrypt(e,r,!0)};em.publicDecrypt=function(e,r){return em.privateDecrypt(e,r,!0)}});var bte=F(Ew=>{"use strict";h();p();function fte(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var lte=Wt(),ute=wp(),dte=lte.Buffer,hte=lte.kMaxLength,cC=self.crypto||self.msCrypto,pte=Math.pow(2,32)-1;function mte(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>pte||t<0)throw new TypeError("offset must be a uint32");if(t>hte||t>e)throw new RangeError("offset out of range")}function yte(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>pte||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>hte)throw new RangeError("buffer too small")}cC&&cC.getRandomValues?(Ew.randomFill=XMe,Ew.randomFillSync=JMe):(Ew.randomFill=fte,Ew.randomFillSync=fte);function XMe(t,e,r,n){if(!dte.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return mte(e,t.length),yte(r,e,t.length),gte(t,e,r,n)}function gte(t,e,r,n){var i=t.buffer,o=new Uint8Array(i,e,r);if(cC.getRandomValues(o),n){process.nextTick(function(){n(null,t)});return}return t;var s}function JMe(t,e,r){if(typeof e>"u"&&(e=0),!dte.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return mte(e,t.length),r===void 0&&(r=t.length-e),yte(r,e,t.length),gte(t,e,r)}});var Dp=F(er=>{"use strict";h();p();er.randomBytes=er.rng=er.pseudoRandomBytes=er.prng=wp();er.createHash=er.Hash=Mp();er.createHmac=er.Hmac=rR();var eke=DY(),tke=Object.keys(eke),rke=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(tke);er.getHashes=function(){return rke};var vte=s_();er.pbkdf2=vte.pbkdf2;er.pbkdf2Sync=vte.pbkdf2Sync;var wu=iQ();er.Cipher=wu.Cipher;er.createCipher=wu.createCipher;er.Cipheriv=wu.Cipheriv;er.createCipheriv=wu.createCipheriv;er.Decipher=wu.Decipher;er.createDecipher=wu.createDecipher;er.Decipheriv=wu.Decipheriv;er.createDecipheriv=wu.createDecipheriv;er.getCiphers=wu.getCiphers;er.listCiphers=wu.listCiphers;var _w=vQ();er.DiffieHellmanGroup=_w.DiffieHellmanGroup;er.createDiffieHellmanGroup=_w.createDiffieHellmanGroup;er.getDiffieHellman=_w.getDiffieHellman;er.createDiffieHellman=_w.createDiffieHellman;er.DiffieHellman=_w.DiffieHellman;var d4=Vee();er.createSign=d4.createSign;er.Sign=d4.Sign;er.createVerify=d4.createVerify;er.Verify=d4.Verify;er.createECDH=Wee();var h4=cte();er.publicEncrypt=h4.publicEncrypt;er.privateEncrypt=h4.privateEncrypt;er.publicDecrypt=h4.publicDecrypt;er.privateDecrypt=h4.privateDecrypt;var xte=bte();er.randomFill=xte.randomFill;er.randomFillSync=xte.randomFillSync;er.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};er.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Nte=F(wr=>{"use strict";h();p();Object.defineProperty(wr,"__esModule",{value:!0});wr.utils=wr.curve25519=wr.getSharedSecret=wr.sync=wr.verify=wr.sign=wr.getPublicKey=wr.Signature=wr.Point=wr.RistrettoPoint=wr.ExtendedPoint=wr.CURVE=void 0;var nke=Dp(),ai=BigInt(0),lr=BigInt(1),lh=BigInt(2),ike=BigInt(8),wte=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Yr=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:wte,n:wte,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});wr.CURVE=Yr;var Tte=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Aw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),bSt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),oke=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),ske=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ake=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),cke=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Ii=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof Pn))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Pn.ZERO)?t.ZERO:new t(e.x,e.y,lr,He(e.x*e.y))}static toAffineBatch(e){let r=lke(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Ete(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=He(r*c),d=He(o*i),g=He(n*c),b=He(s*i);return l===d&&g===b}negate(){return new t(He(-this.x),this.y,this.z,He(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=Yr,o=He(e*e),s=He(r*r),c=He(lh*He(n*n)),l=He(i*o),d=e+r,g=He(He(d*d)-o-s),b=l+s,_=b-c,T=l-s,M=He(g*_),k=He(b*T),B=He(g*T),P=He(_*b);return new t(M,k,P,B)}add(e){Ete(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:c,z:l,t:d}=e,g=He((n-r)*(c+s)),b=He((n+r)*(c-s)),_=He(b-g);if(_===ai)return this.double();let T=He(i*lh*d),M=He(o*lh*l),k=M+T,B=b+g,P=M-T,D=He(k*_),R=He(B*P),L=He(k*P),V=He(_*B);return new t(D,R,V,L)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Pn.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&dC.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),dC.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+256/n,l=2**(n-1),d=BigInt(2**n-1),g=2**n,b=BigInt(n);for(let _=0;_<c;_++){let T=_*l,M=Number(e&d);e>>=b,M>l&&(M-=g,e+=lr);let k=T,B=T+Math.abs(M)-1,P=_%2!==0,D=M<0;M===0?s=s.add(Ste(P,i[k])):o=o.add(Ste(D,i[B]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(Qg(e,Yr.l),r)}multiplyUnsafe(e){let r=Qg(e,Yr.l,!1),n=t.BASE,i=t.ZERO;if(r===ai)return i;if(this.equals(i)||r===lr)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>ai;)r&lr&&(o=o.add(s)),s=s.double(),r>>=lr;return o}isSmallOrder(){return this.multiplyUnsafe(Yr.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Yr.l/lh).double();return Yr.l%lh&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?ike:y4(i));let s=He(r*e),c=He(n*e),l=He(i*e);if(o)return Pn.ZERO;if(l!==lr)throw new Error("invZ was invalid");return new Pn(s,c)}fromRistrettoBytes(){uC()}toRistrettoBytes(){uC()}fromRistrettoHash(){uC()}};wr.ExtendedPoint=Ii;Ii.BASE=new Ii(Yr.Gx,Yr.Gy,lr,He(Yr.Gx*Yr.Gy));Ii.ZERO=new Ii(ai,lr,lr,ai);function Ste(t,e){let r=e.negate();return t?r:e}function Ete(t){if(!(t instanceof Ii))throw new TypeError("ExtendedPoint expected")}function fC(t){if(!(t instanceof dh))throw new TypeError("RistrettoPoint expected")}function uC(){throw new Error("Legacy method: switch to RistrettoPoint")}var dh=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Yr,n=He(Aw*e*e),i=He((n+lr)*ake),o=BigInt(-1),s=He((o-r*n)*He(n+r)),{isValid:c,value:l}=pC(i,s),d=He(l*e);uh(d)||(d=He(-d)),c||(l=d),c||(o=n);let g=He(o*(n-lr)*cke-s),b=l*l,_=He((l+l)*s),T=He(g*oke),M=He(lr-b),k=He(lr+b);return new Ii(He(_*k),He(M*T),He(T*k),He(_*M))}static hashToCurve(e){e=Sf(e,64);let r=lC(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=lC(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=Sf(e,32);let{a:r,d:n}=Yr,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=lC(e);if(!dke(Yg(o),e)||uh(o))throw new Error(i);let s=He(o*o),c=He(lr+r*s),l=He(lr-r*s),d=He(c*c),g=He(l*l),b=He(r*n*d-g),{isValid:_,value:T}=Ate(He(b*g)),M=He(T*l),k=He(T*M*b),B=He((o+o)*M);uh(B)&&(B=He(-B));let P=He(c*k),D=He(B*P);if(!_||uh(D)||P===ai)throw new Error(i);return new t(new Ii(B,P,lr,D))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=He(He(n+r)*He(n-r)),s=He(e*r),c=He(s*s),{value:l}=Ate(He(o*c)),d=He(l*o),g=He(l*s),b=He(d*g*i),_;if(uh(i*b)){let M=He(r*Aw),k=He(e*Aw);e=M,r=k,_=He(d*ske)}else _=g;uh(e*b)&&(r=He(-r));let T=He((n-r)*_);return uh(T)&&(T=He(-T)),Yg(T)}toHex(){return Iw(this.toRawBytes())}toString(){return this.toHex()}equals(e){fC(e);let r=this.ep,n=e.ep,i=He(r.x*n.y)===He(r.y*n.x),o=He(r.y*n.y)===He(r.x*n.x);return i||o}add(e){return fC(e),new t(this.ep.add(e.ep))}subtract(e){return fC(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};wr.RistrettoPoint=dh;dh.BASE=new dh(Ii.BASE);dh.ZERO=new dh(Ii.ZERO);var dC=new WeakMap,Pn=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,dC.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=Yr;e=Sf(e,32);let o=e.slice();o[31]=e[31]&-129;let s=rm(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=Tte)throw new Error("Expected 0 < hex < 2**256");let c=He(s*s),l=He(c-lr),d=He(n*c+lr),{isValid:g,value:b}=pC(l,d);if(!g)throw new Error("Point.fromHex: invalid y coordinate");let _=(b&lr)===lr;return(e[31]&128)!==0!==_&&(b=He(-b)),new t(b,s)}static async fromPrivateKey(e){return(await Mw(e)).point}toRawBytes(){let e=Yg(this.y);return e[31]|=this.x&lr?128:0,e}toHex(){return Iw(this.toRawBytes())}toX25519(){let{y:e}=this,r=He((lr+e)*y4(lr-e));return Yg(r)}isTorsionFree(){return Ii.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(He(-this.x),this.y)}add(e){return Ii.fromAffine(this).add(Ii.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ii.fromAffine(this).multiply(e,this).toAffine()}};wr.Point=Pn;Pn.BASE=new Pn(Yr.Gx,Yr.Gy);Pn.ZERO=new Pn(ai,lr);var tm=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Sf(e,64),n=Pn.fromHex(r.slice(0,32),!1),i=rm(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Pn))throw new Error("Expected Point instance");return Qg(r,Yr.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Yg(this.s),32),e}toHex(){return Iw(this.toRawBytes())}};wr.Signature=tm;function _te(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var fke=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Iw(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=fke[t[r]];return e}function hC(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Ite(t){let r=t.toString(16).padStart(64,"0");return hC(r)}function Yg(t){return Ite(t).reverse()}function uh(t){return(He(t)&lr)===lr}function rm(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Iw(Uint8Array.from(t).reverse()))}var uke=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function lC(t){return He(rm(t)&uke)}function He(t,e=Yr.P){let r=t%e;return r>=ai?r:e+r}function y4(t,e=Yr.P){if(t===ai||e<=ai)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=He(t,e),n=e,i=ai,o=lr,s=lr,c=ai;for(;r!==ai;){let d=n/r,g=n%r,b=i-s*d,_=o-c*d;n=r,r=g,i=s,o=c,s=b,c=_}if(n!==lr)throw new Error("invert: does not exist");return He(i,e)}function lke(t,e=Yr.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===ai?o:(r[c]=o,He(o*s,e)),lr),i=y4(n,e);return t.reduceRight((o,s,c)=>s===ai?o:(r[c]=He(o*r[c],e),He(o*s,e)),i),r}function wf(t,e){let{P:r}=Yr,n=t;for(;e-- >ai;)n*=n,n%=r;return n}function Mte(t){let{P:e}=Yr,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,d=wf(l,lh)*l%e,g=wf(d,lr)*t%e,b=wf(g,r)*g%e,_=wf(b,n)*b%e,T=wf(_,i)*_%e,M=wf(T,o)*T%e,k=wf(M,s)*M%e,B=wf(k,s)*M%e,P=wf(B,n)*b%e;return{pow_p_5_8:wf(P,lh)*t%e,b2:l}}function pC(t,e){let r=He(e*e*e),n=He(r*r*e),i=Mte(t*n).pow_p_5_8,o=He(t*r*i),s=He(e*o*o),c=o,l=He(o*Aw),d=s===t,g=s===He(-t),b=s===He(-t*Aw);return d&&(o=c),(g||b)&&(o=l),uh(o)&&(o=He(-o)),{isValid:d||g,value:o}}function Ate(t){return pC(lr,t)}function Zg(t){return He(rm(t),Yr.l)}function dke(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Sf(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):hC(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Qg(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(ai<t)return t}else if(ai<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function kte(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function hke(t){return rm(kte(Sf(t,32)))}function Pte(t){if(t=typeof t=="bigint"||typeof t=="number"?Ite(Qg(t,Tte)):Sf(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function Rte(t){let e=kte(t.slice(0,32)),r=t.slice(32,64),n=Zg(e),i=Pn.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var Tw;function m4(...t){if(typeof Tw!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Tw(...t)}async function Mw(t){return Rte(await wr.utils.sha512(Pte(t)))}function mC(t){return Rte(m4(Pte(t)))}async function pke(t){return(await Mw(t)).pointBytes}wr.getPublicKey=pke;function mke(t){return mC(t).pointBytes}async function yke(t,e){t=Sf(t);let{prefix:r,scalar:n,pointBytes:i}=await Mw(e),o=Zg(await wr.utils.sha512(r,t)),s=Pn.BASE.multiply(o),c=Zg(await wr.utils.sha512(s.toRawBytes(),i,t)),l=He(o+c*n,Yr.l);return new tm(s,l).toRawBytes()}wr.sign=yke;function gke(t,e){t=Sf(t);let{prefix:r,scalar:n,pointBytes:i}=mC(e),o=Zg(m4(r,t)),s=Pn.BASE.multiply(o),c=Zg(m4(s.toRawBytes(),i,t)),l=He(o+c*n,Yr.l);return new tm(s,l).toRawBytes()}function Bte(t,e,r){e=Sf(e),r instanceof Pn||(r=Pn.fromHex(r,!1));let{r:n,s:i}=t instanceof tm?t.assertValidity():tm.fromHex(t),o=Ii.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function Cte(t,e,r,n){let i=Zg(n),o=Ii.fromAffine(t).multiplyUnsafe(i);return Ii.fromAffine(e).add(o).subtract(r).multiplyUnsafe(Yr.h).equals(Ii.ZERO)}async function bke(t,e,r){let{r:n,SB:i,msg:o,pub:s}=Bte(t,e,r),c=await wr.utils.sha512(n.toRawBytes(),s.toRawBytes(),o);return Cte(s,n,i,c)}wr.verify=bke;function vke(t,e,r){let{r:n,SB:i,msg:o,pub:s}=Bte(t,e,r),c=m4(n.toRawBytes(),s.toRawBytes(),o);return Cte(s,n,i,c)}wr.sync={getExtendedPublicKey:mC,getPublicKey:mke,sign:gke,verify:vke};async function xke(t,e){let{head:r}=await Mw(t),n=Pn.fromHex(e).toX25519();return wr.curve25519.scalarMult(r,n)}wr.getSharedSecret=xke;Pn.BASE._setWindowSize(8);function p4(t,e,r){let n=He(t*(e-r));return e=He(e-n),r=He(r+n),[e,r]}function wke(t,e){let{P:r}=Yr,n=Qg(t,r),i=Qg(e,r),o=BigInt(121665),s=n,c=lr,l=ai,d=n,g=lr,b=ai,_;for(let B=BigInt(254);B>=ai;B--){let P=i>>B&lr;b^=P,_=p4(b,c,d),c=_[0],d=_[1],_=p4(b,l,g),l=_[0],g=_[1],b=P;let D=c+l,R=He(D*D),L=c-l,V=He(L*L),z=R-V,oe=d+g,$=d-g,ne=He($*D),S=He(oe*L),a=ne+S,u=ne-S;d=He(a*a),g=He(s*He(u*u)),c=He(R*V),l=He(z*(R+He(o*z)))}_=p4(b,c,d),c=_[0],d=_[1],_=p4(b,l,g),l=_[0],g=_[1];let{pow_p_5_8:T,b2:M}=Mte(l),k=He(wf(T,BigInt(3))*M);return He(c*k)}function Ske(t){return Yg(He(t,Yr.P))}function Eke(t){let e=Sf(t,32);return e[31]&=127,rm(e)}wr.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=Eke(e),n=hke(t),i=wke(r,n);if(i===ai)throw new Error("Invalid private or public key received");return Ske(i)},scalarMultBase(t){return wr.curve25519.scalarMult(t,wr.curve25519.BASE_POINT_U)}};var fh={node:nke,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};wr.utils={bytesToHex:Iw,hexToBytes:hC,concatBytes:_te,getExtendedPublicKey:Mw,mod:He,invert:y4,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Sf(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return He(rm(t),Yr.l-lr)+lr},randomBytes:(t=32)=>{if(fh.web)return fh.web.getRandomValues(new Uint8Array(t));if(fh.node){let{randomBytes:e}=fh.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>wr.utils.randomBytes(32),sha512:async(...t)=>{let e=_te(...t);if(fh.web){let r=await fh.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(fh.node)return Uint8Array.from(fh.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Pn.BASE){let r=e.equals(Pn.BASE)?e:new Pn(e.x,e.y);return r._setWindowSize(t),r.multiply(lh),r},sha512Sync:void 0};Object.defineProperties(wr.utils,{sha512Sync:{configurable:!1,get(){return Tw},set(t){Tw||(Tw=t)}}})});var b4=F(Xg=>{"use strict";h();p();Object.defineProperty(Xg,"__esModule",{value:!0});Xg.sha224=Xg.sha256=void 0;var _ke=Rx(),wc=Kd(),Ake=(t,e,r)=>t&e^~t&r,Tke=(t,e,r)=>t&e^t&r^e&r,Ike=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hh=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ph=new Uint32Array(64),g4=class extends _ke.SHA2{constructor(){super(64,32,8,!1),this.A=hh[0]|0,this.B=hh[1]|0,this.C=hh[2]|0,this.D=hh[3]|0,this.E=hh[4]|0,this.F=hh[5]|0,this.G=hh[6]|0,this.H=hh[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)ph[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let _=ph[b-15],T=ph[b-2],M=(0,wc.rotr)(_,7)^(0,wc.rotr)(_,18)^_>>>3,k=(0,wc.rotr)(T,17)^(0,wc.rotr)(T,19)^T>>>10;ph[b]=k+ph[b-7]+M+ph[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:d,H:g}=this;for(let b=0;b<64;b++){let _=(0,wc.rotr)(c,6)^(0,wc.rotr)(c,11)^(0,wc.rotr)(c,25),T=g+_+Ake(c,l,d)+Ike[b]+ph[b]|0,k=((0,wc.rotr)(n,2)^(0,wc.rotr)(n,13)^(0,wc.rotr)(n,22))+Tke(n,i,o)|0;g=d,d=l,l=c,c=s+T|0,s=o,o=i,i=n,n=T+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,g=g+this.H|0,this.set(n,i,o,s,c,l,d,g)}roundClean(){ph.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},yC=class extends g4{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Xg.sha256=(0,wc.wrapConstructor)(()=>new g4);Xg.sha224=(0,wc.wrapConstructor)(()=>new yC)});var Ote=F(vC=>{"use strict";h();p();function Nl(t,e,r){return e<=t&&t<=r}function E4(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Mke(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var c=o&1023,l=s&1023;i.push(65536+(c<<10)+l),n+=1}else i.push(65533)}n+=1}return i}function kke(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var v4=-1;function bC(t){this.tokens=[].slice.call(t)}bC.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():v4},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Jg=-1;function gC(t,e){if(t)throw TypeError("Decoder error");return e||65533}var x4="utf-8";function w4(t,e){if(!(this instanceof w4))return new w4(t,e);if(t=t!==void 0?String(t).toLowerCase():x4,t!==x4)throw new Error("Encoding not supported. Only utf-8 is supported");e=E4(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}w4.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=E4(r),this._streaming||(this._decoder=new Pke({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new bC(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Jg);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Jg)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),kke(o)}};function S4(t,e){if(!(this instanceof S4))return new S4(t,e);if(t=t!==void 0?String(t).toLowerCase():x4,t!==x4)throw new Error("Encoding not supported. Only utf-8 is supported");e=E4(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}S4.prototype={encode:function(e,r){e=e?String(e):"",r=E4(r),this._streaming||(this._encoder=new Rke(this._options)),this._streaming=!!r.stream;for(var n=[],i=new bC(Mke(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Jg);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Jg;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function Pke(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(c,l){if(l===v4&&i!==0)return i=0,gC(e);if(l===v4)return Jg;if(i===0){if(Nl(l,0,127))return l;if(Nl(l,194,223))i=1,r=l-192;else if(Nl(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,r=l-224;else if(Nl(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,r=l-240;else return gC(e);return r=r<<6*i,null}if(!Nl(l,o,s))return r=i=n=0,o=128,s=191,c.prepend(l),gC(e);if(o=128,s=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var d=r;return r=i=n=0,d}}function Rke(t){var e=t.fatal;this.handler=function(r,n){if(n===v4)return Jg;if(Nl(n,0,127))return n;var i,o;Nl(n,128,2047)?(i=1,o=192):Nl(n,2048,65535)?(i=2,o=224):Nl(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var c=n>>6*(i-1);s.push(128|c&63),i-=1}return s}}vC.TextEncoder=S4;vC.TextDecoder=w4});var qte=F(rn=>{"use strict";h();p();var Bke=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cke=rn&&rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Su=rn&&rn.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Nke=rn&&rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Bke(e,t,r);return Cke(e,t),e},Dte=rn&&rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rn,"__esModule",{value:!0});rn.deserializeUnchecked=rn.deserialize=rn.serialize=rn.BinaryReader=rn.BinaryWriter=rn.BorshError=rn.baseDecode=rn.baseEncode=void 0;var mh=Dte(Xy()),Lte=Dte(au()),Oke=Nke(Ote()),Dke=typeof TextDecoder!="function"?Oke.TextDecoder:TextDecoder,Lke=new Dke("utf-8",{fatal:!0});function Uke(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Lte.default.encode(Buffer.from(t))}rn.baseEncode=Uke;function Fke(t){return Buffer.from(Lte.default.decode(t))}rn.baseDecode=Fke;var xC=1024,Ao=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};rn.BorshError=Ao;var _4=class{constructor(){this.buf=Buffer.alloc(xC),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(xC)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new mh.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new mh.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new mh.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new mh.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(xC)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};rn.BinaryWriter=_4;function Eu(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Ao("Reached the end of buffer when deserializing")}throw o}}}var Bs=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new mh.default(e,"le")}readU128(){let e=this.readBuffer(16);return new mh.default(e,"le")}readU256(){let e=this.readBuffer(32);return new mh.default(e,"le")}readU512(){let e=this.readBuffer(64);return new mh.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Ao(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return Lke.decode(r)}catch(n){throw new Ao(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Su([Eu],Bs.prototype,"readU8",null);Su([Eu],Bs.prototype,"readU16",null);Su([Eu],Bs.prototype,"readU32",null);Su([Eu],Bs.prototype,"readU64",null);Su([Eu],Bs.prototype,"readU128",null);Su([Eu],Bs.prototype,"readU256",null);Su([Eu],Bs.prototype,"readU512",null);Su([Eu],Bs.prototype,"readString",null);Su([Eu],Bs.prototype,"readFixedArray",null);Su([Eu],Bs.prototype,"readArray",null);rn.BinaryReader=Bs;function Ute(t){return t.charAt(0).toUpperCase()+t.slice(1)}function nm(t,e,r,n,i){try{if(typeof n=="string")i[`write${Ute(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Ao(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Ao(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)nm(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{nm(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),nm(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{nm(t,e,s,n.key,i),nm(t,e,o,n.value,i)});break}default:throw new Ao(`FieldType ${n} unrecognized`)}else Fte(t,r,i)}catch(o){throw o instanceof Ao&&o.addToFieldPath(e),o}}function Fte(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Ao(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{nm(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,c]=n.values[o];if(s===i){r.writeU8(o),nm(t,s,e[s],c,r);break}}}else throw new Ao(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function qke(t,e,r=_4){let n=new r;return Fte(t,e,n),n.toArray()}rn.serialize=qke;function im(t,e,r,n){try{if(typeof r=="string")return n[`read${Ute(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(im(t,null,r[0],n));return i}else return n.readArray(()=>im(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?im(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let c=im(t,e,r.key,n),l=im(t,e,r.value,n);i.set(c,l)}return i}return wC(t,r,n)}catch(i){throw i instanceof Ao&&i.addToFieldPath(e),i}}function wC(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Ao(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=im(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new Ao(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],c=im(t,o,s,r);return new e({[o]:c})}throw new Ao(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Hke(t,e,r,n=Bs){let i=new n(r),o=wC(t,e,i);if(i.offset<r.length)throw new Ao(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}rn.deserialize=Hke;function Kke(t,e,r,n=Bs){let i=new n(r);return wC(t,e,i)}rn.deserializeUnchecked=Kke});var Nw=F(ue=>{"use strict";h();p();Object.defineProperty(ue,"__esModule",{value:!0});ue.s16=ue.s8=ue.nu64be=ue.u48be=ue.u40be=ue.u32be=ue.u24be=ue.u16be=ue.nu64=ue.u48=ue.u40=ue.u32=ue.u24=ue.u16=ue.u8=ue.offset=ue.greedy=ue.Constant=ue.UTF8=ue.CString=ue.Blob=ue.Boolean=ue.BitField=ue.BitStructure=ue.VariantLayout=ue.Union=ue.UnionLayoutDiscriminator=ue.UnionDiscriminator=ue.Structure=ue.Sequence=ue.DoubleBE=ue.Double=ue.FloatBE=ue.Float=ue.NearInt64BE=ue.NearInt64=ue.NearUInt64BE=ue.NearUInt64=ue.IntBE=ue.Int=ue.UIntBE=ue.UInt=ue.OffsetLayout=ue.GreedyCount=ue.ExternalLayout=ue.bindConstructorLayout=ue.nameWithProperty=ue.Layout=ue.uint8ArrayToBuffer=ue.checkUint8Array=void 0;ue.constant=ue.utf8=ue.cstr=ue.blob=ue.unionLayoutDiscriminator=ue.union=ue.seq=ue.bits=ue.struct=ue.f64be=ue.f64=ue.f32be=ue.f32=ue.ns64be=ue.s48be=ue.s40be=ue.s32be=ue.s24be=ue.s16be=ue.ns64=ue.s48=ue.s40=ue.s32=ue.s24=void 0;var EC=_i();function r1(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ue.checkUint8Array=r1;function Dr(t){return r1(t),EC.Buffer.from(t.buffer,t.byteOffset,t.length)}ue.uint8ArrayToBuffer=Dr;var Kr=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};ue.Layout=Kr;function _C(t,e){return e.property?t+"["+e.property+"]":t}ue.nameWithProperty=_C;function Vke(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Kr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}ue.bindConstructorLayout=Vke;var rs=class extends Kr{isCount(){throw new Error("ExternalLayout is abstract")}};ue.ExternalLayout=rs;var A4=class extends rs{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){r1(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};ue.GreedyCount=A4;var kw=class extends rs{constructor(e,r=0,n){if(!(e instanceof Kr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof ra||this.layout instanceof Ra}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};ue.OffsetLayout=kw;var ra=class extends Kr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Dr(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Dr(r).writeUIntLE(e,n,this.span),this.span}};ue.UInt=ra;var Ra=class extends Kr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Dr(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Dr(r).writeUIntBE(e,n,this.span),this.span}};ue.UIntBE=Ra;var Ol=class extends Kr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Dr(e).readIntLE(r,this.span)}encode(e,r,n=0){return Dr(r).writeIntLE(e,n,this.span),this.span}};ue.Int=Ol;var yh=class extends Kr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Dr(e).readIntBE(r,this.span)}encode(e,r,n=0){return Dr(r).writeIntBE(e,n,this.span),this.span}};ue.IntBE=yh;var SC=Math.pow(2,32);function K4(t){let e=Math.floor(t/SC),r=t-e*SC;return{hi32:e,lo32:r}}function V4(t,e){return t*SC+e}var T4=class extends Kr{constructor(e){super(8,e)}decode(e,r=0){let n=Dr(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return V4(o,i)}encode(e,r,n=0){let i=K4(e),o=Dr(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};ue.NearUInt64=T4;var I4=class extends Kr{constructor(e){super(8,e)}decode(e,r=0){let n=Dr(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return V4(i,o)}encode(e,r,n=0){let i=K4(e),o=Dr(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};ue.NearUInt64BE=I4;var M4=class extends Kr{constructor(e){super(8,e)}decode(e,r=0){let n=Dr(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return V4(o,i)}encode(e,r,n=0){let i=K4(e),o=Dr(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};ue.NearInt64=M4;var k4=class extends Kr{constructor(e){super(8,e)}decode(e,r=0){let n=Dr(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return V4(i,o)}encode(e,r,n=0){let i=K4(e),o=Dr(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};ue.NearInt64BE=k4;var P4=class extends Kr{constructor(e){super(4,e)}decode(e,r=0){return Dr(e).readFloatLE(r)}encode(e,r,n=0){return Dr(r).writeFloatLE(e,n),4}};ue.Float=P4;var R4=class extends Kr{constructor(e){super(4,e)}decode(e,r=0){return Dr(e).readFloatBE(r)}encode(e,r,n=0){return Dr(r).writeFloatBE(e,n),4}};ue.FloatBE=R4;var B4=class extends Kr{constructor(e){super(8,e)}decode(e,r=0){return Dr(e).readDoubleLE(r)}encode(e,r,n=0){return Dr(r).writeDoubleLE(e,n),8}};ue.Double=B4;var C4=class extends Kr{constructor(e){super(8,e)}decode(e,r=0){return Dr(e).readDoubleBE(r)}encode(e,r,n=0){return Dr(r).writeDoubleBE(e,n),8}};ue.DoubleBE=C4;var N4=class extends Kr{constructor(e,r,n){if(!(e instanceof Kr))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof rs&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof rs)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof rs&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof rs&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((s,c)=>s+i.encode(c,r,n+s),0);return this.count instanceof rs&&this.count.encode(e.length,r,n),o}};ue.Sequence=N4;var O4=class extends Kr{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Kr,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){r1(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,s=0;for(let c of this.fields){let l=c.span;if(s=0<l?l:0,c.property!==void 0){let d=e[c.property];d!==void 0&&(s=c.encode(d,r,n),0>l&&(l=c.getSpan(r,n)))}o=n,n+=l}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};ue.Structure=O4;var Pw=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};ue.UnionDiscriminator=Pw;var t1=class extends Pw{constructor(e,r){if(!(e instanceof rs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};ue.UnionLayoutDiscriminator=t1;var Rw=class extends Kr{constructor(e,r,n){let i;if(e instanceof ra||e instanceof Ra)i=new t1(new kw(e));else if(e instanceof rs&&e.isCount())i=new t1(e);else if(e instanceof Pw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Kr))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof ra||e instanceof Ra)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof ra||e instanceof Ra,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return s(c)},this.configGetSourceVariant=function(c){s=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[c.property]=c.decode(e,r+l)}else n=s.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=o.layout.span),o.encode(e[o.property],r,n),c+s.encode(e[s.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new D4(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};ue.Union=Rw;var D4=class extends Kr{constructor(e,r,n,i){if(!(e instanceof Rw))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Kr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};ue.VariantLayout=D4;function e1(t){return 0>t&&(t+=4294967296),t}var Bw=class extends Kr{constructor(e,r,n){if(!(e instanceof ra||e instanceof Ra))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=e1(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new Cw(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new L4(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};ue.BitStructure=Bw;var Cw=class{constructor(e,r,n){if(!(e instanceof Bw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,c)=>s+c.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=e1(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return e1(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==e1(e&this.valueMask))throw new TypeError(_C("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=e1(e<<this.start);this.container._packedSetValue(e1(r&~this.wordMask)|n)}};ue.BitField=Cw;var L4=class extends Cw{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};ue.Boolean=L4;var U4=class extends Kr{constructor(e,r){if(!(e instanceof rs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof rs||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Dr(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof rs&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(_C("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=Dr(e);return Dr(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof rs&&this.length.encode(i,r,n),i}};ue.Blob=U4;var F4=class extends Kr{constructor(e){super(-1,e)}getSpan(e,r=0){r1(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return Dr(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=EC.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=Dr(r);return i.copy(s,n),s[n+o]=0,o+1}};ue.CString=F4;var q4=class extends Kr{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return r1(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Dr(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=EC.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Dr(r),n),o}};ue.UTF8=q4;var H4=class extends Kr{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};ue.Constant=H4;ue.greedy=(t,e)=>new A4(t,e);ue.offset=(t,e,r)=>new kw(t,e,r);ue.u8=t=>new ra(1,t);ue.u16=t=>new ra(2,t);ue.u24=t=>new ra(3,t);ue.u32=t=>new ra(4,t);ue.u40=t=>new ra(5,t);ue.u48=t=>new ra(6,t);ue.nu64=t=>new T4(t);ue.u16be=t=>new Ra(2,t);ue.u24be=t=>new Ra(3,t);ue.u32be=t=>new Ra(4,t);ue.u40be=t=>new Ra(5,t);ue.u48be=t=>new Ra(6,t);ue.nu64be=t=>new I4(t);ue.s8=t=>new Ol(1,t);ue.s16=t=>new Ol(2,t);ue.s24=t=>new Ol(3,t);ue.s32=t=>new Ol(4,t);ue.s40=t=>new Ol(5,t);ue.s48=t=>new Ol(6,t);ue.ns64=t=>new M4(t);ue.s16be=t=>new yh(2,t);ue.s24be=t=>new yh(3,t);ue.s32be=t=>new yh(4,t);ue.s40be=t=>new yh(5,t);ue.s48be=t=>new yh(6,t);ue.ns64be=t=>new k4(t);ue.f32=t=>new P4(t);ue.f32be=t=>new R4(t);ue.f64=t=>new B4(t);ue.f64be=t=>new C4(t);ue.struct=(t,e,r)=>new O4(t,e,r);ue.bits=(t,e,r)=>new Bw(t,e,r);ue.seq=(t,e,r)=>new N4(t,e,r);ue.union=(t,e,r)=>new Rw(t,e,r);ue.unionLayoutDiscriminator=(t,e)=>new t1(t,e);ue.blob=(t,e)=>new U4(t,e);ue.cstr=t=>new F4(t);ue.utf8=(t,e)=>new q4(t,e);ue.constant=(t,e)=>new H4(t,e)});var AC=F(n1=>{"use strict";h();p();Object.defineProperty(n1,"__esModule",{value:!0});var j4;function jke(t){{let e=Buffer.from(t);e.reverse();let r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}return j4.toBigInt(t,!1)}n1.toBigIntLE=jke;function zke(t){{let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return j4.toBigInt(t,!0)}n1.toBigIntBE=zke;function Gke(t,e){{let r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return j4.fromBigInt(t,Buffer.allocUnsafe(e),!1)}n1.toBufferLE=Gke;function Wke(t,e){{let r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}return j4.fromBigInt(t,Buffer.allocUnsafe(e),!0)}n1.toBufferBE=Wke});var $te=F(Ct=>{"use strict";h();p();Object.defineProperty(Ct,"__esModule",{value:!0});var z4=class extends TypeError{constructor(e,r){let n,{message:i,...o}=e,{path:s}=e,c=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[e,...r()]}}};function $ke(t){return Ef(t)&&typeof t[Symbol.iterator]=="function"}function Ef(t){return typeof t=="object"&&t!=null}function Hte(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function qi(t){return typeof t=="string"?JSON.stringify(t):""+t}function Yke(t){let{done:e,value:r}=t.next();return e?void 0:r}function Zke(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:c,message:l="Expected a value of type `"+s+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+qi(n)+"`"}=t;return{value:n,type:s,refinement:c,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*TC(t,e,r,n){$ke(t)||(t=[t]);for(let i of t){let o=Zke(i,e,r,n);o&&(yield o)}}function*IC(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,c={path:n,branch:i};if(o&&(t=e.coercer(t,c),s&&e.type!=="type"&&Ef(e.schema)&&Ef(t)&&!Array.isArray(t)))for(let d in t)e.schema[d]===void 0&&delete t[d];let l=!0;for(let d of e.validator(t,c))l=!1,yield[d,void 0];for(let[d,g,b]of e.entries(t,c)){let _=IC(g,b,{path:d===void 0?n:[...n,d],branch:d===void 0?i:[...i,g],coerce:o,mask:s});for(let T of _)T[0]?(l=!1,yield[T[0],void 0]):o&&(g=T[1],d===void 0?t=g:t instanceof Map?t.set(d,g):t instanceof Set?t.add(g):Ef(t)&&(t[d]=g))}if(l)for(let d of e.refiner(t,c))l=!1,yield[d,void 0];l&&(yield[void 0,t])}var Kn=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=l=>l,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=s,i?this.validator=(l,d)=>{let g=i(l,d);return TC(g,d,this,l)}:this.validator=()=>[],o?this.refiner=(l,d)=>{let g=o(l,d);return TC(g,d,this,l)}:this.refiner=()=>[]}assert(e){return Kte(e,this)}create(e){return Vte(e,this)}is(e){return MC(e,this)}mask(e){return jte(e,this)}validate(e,r={}){return i1(e,this,r)}};function Kte(t,e){let r=i1(t,e);if(r[0])throw r[0]}function Vte(t,e){let r=i1(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function jte(t,e){let r=i1(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function MC(t,e){return!i1(t,e)[0]}function i1(t,e,r={}){let n=IC(t,e,r),i=Yke(n);return i[0]?[new z4(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Qke(...t){let e=t.map(n=>n.schema),r=Object.assign({},...e);return Ow(r)}function Ba(t,e){return new Kn({type:t,schema:null,validator:e})}function Xke(t,e){return new Kn({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Jke(t){return new Kn({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)}})}function ePe(t){let e;return new Kn({type:"lazy",schema:null,*entries(r,n){var i;(i=e)!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){var i;return(i=e)!=null||(e=t()),e.validator(r,n)},coercer(r,n){var i;return(i=e)!=null||(e=t()),e.coercer(r,n)}})}function tPe(t,e){let{schema:r}=t,n={...r};for(let i of e)delete n[i];return Ow(n)}function rPe(t){let e=t instanceof Kn?{...t.schema}:{...t};for(let r in e)e[r]=zte(e[r]);return Ow(e)}function nPe(t,e){let{schema:r}=t,n={};for(let i of e)n[i]=r[i];return Ow(n)}function iPe(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Ba(t,e)}function oPe(){return Ba("any",()=>!0)}function sPe(t){return new Kn({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+qi(e)}})}function aPe(){return Ba("boolean",t=>typeof t=="boolean")}function cPe(){return Ba("date",t=>t instanceof Date&&!isNaN(t.getTime())||"Expected a valid `Date` object, but received: "+qi(t))}function fPe(t){let e={},r=t.map(n=>qi(n)).join();for(let n of t)e[n]=n;return new Kn({type:"enums",schema:e,validator(n){return t.includes(n)||"Expected one of `"+r+"`, but received: "+qi(n)}})}function uPe(){return Ba("func",t=>typeof t=="function"||"Expected a function, but received: "+qi(t))}function lPe(t){return Ba("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+qi(e))}function dPe(){return Ba("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+qi(t))}function hPe(t){return new Kn({type:"intersection",schema:null,*entries(e,r){for(let n of t)yield*n.entries(e,r)},*validator(e,r){for(let n of t)yield*n.validator(e,r)},*refiner(e,r){for(let n of t)yield*n.refiner(e,r)}})}function pPe(t){let e=qi(t),r=typeof t;return new Kn({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+qi(n)}})}function mPe(t,e){return new Kn({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+qi(r)}})}function kC(){return Ba("never",()=>!1)}function yPe(t){return new Kn({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function gPe(){return Ba("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+qi(t))}function Ow(t){let e=t?Object.keys(t):[],r=kC();return new Kn({type:"object",schema:t||null,*entries(n){if(t&&Ef(n)){let i=new Set(Object.keys(n));for(let o of e)i.delete(o),yield[o,n[o],t[o]];for(let o of i)yield[o,n[o],r]}},validator(n){return Ef(n)||"Expected an object, but received: "+qi(n)},coercer(n){return Ef(n)?{...n}:n}})}function zte(t){return new Kn({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function bPe(t,e){return new Kn({type:"record",schema:null,*entries(r){if(Ef(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Ef(r)||"Expected an object, but received: "+qi(r)}})}function vPe(){return Ba("regexp",t=>t instanceof RegExp)}function xPe(t){return new Kn({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(let r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+qi(e)}})}function Gte(){return Ba("string",t=>typeof t=="string"||"Expected a string, but received: "+qi(t))}function wPe(t){let e=kC();return new Kn({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+qi(r)}})}function SPe(t){let e=Object.keys(t);return new Kn({type:"type",schema:t,*entries(r){if(Ef(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return Ef(r)||"Expected an object, but received: "+qi(r)}})}function EPe(t){let e=t.map(r=>r.type).join(" | ");return new Kn({type:"union",schema:null,validator(r,n){let i=[];for(let o of t){let[...s]=IC(r,o,n),[c]=s;if(c[0])for(let[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+qi(r),...i]}})}function Wte(){return Ba("unknown",()=>!0)}function PC(t,e,r){return new Kn({...t,coercer:(n,i)=>MC(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function _Pe(t,e,r={}){return PC(t,Wte(),n=>{let i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Hte(n)&&Hte(i)){let o={...n},s=!1;for(let c in i)o[c]===void 0&&(o[c]=i[c],s=!0);if(s)return o}return n})}function APe(t){return PC(t,Gte(),e=>e.trim())}function TPe(t){let e="Expected an empty "+t.type;return o1(t,"empty",r=>{if(r instanceof Map||r instanceof Set){let{size:n}=r;return n===0||e+" but received one with a size of `"+n+"`"}else{let{length:n}=r;return n===0||e+" but received one with a length of `"+n+"`"}})}function IPe(t,e,r={}){let{exclusive:n}=r;return o1(t,"max",i=>n?i<e:i<=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function MPe(t,e,r={}){let{exclusive:n}=r;return o1(t,"min",i=>n?i>e:i>=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function kPe(t,e){return o1(t,"pattern",r=>e.test(r)||"Expected a "+t.type+" matching `/"+e.source+'/` but received "'+r+'"')}function PPe(t,e,r=e){let n="Expected a "+t.type,i=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return o1(t,"size",o=>{if(typeof o=="number"||o instanceof Date)return e<=o&&o<=r||n+" "+i+" but received `"+o+"`";if(o instanceof Map||o instanceof Set){let{size:s}=o;return e<=s&&s<=r||n+" with a size "+i+" but received one with a size of `"+s+"`"}else{let{length:s}=o;return e<=s&&s<=r||n+" with a length "+i+" but received one with a length of `"+s+"`"}})}function o1(t,e,r){return new Kn({...t,*refiner(n,i){yield*t.refiner(n,i);let o=r(n,i),s=TC(o,i,t,n);for(let c of s)yield{...c,refinement:e}}})}Ct.Struct=Kn;Ct.StructError=z4;Ct.any=oPe;Ct.array=sPe;Ct.assert=Kte;Ct.assign=Qke;Ct.boolean=aPe;Ct.coerce=PC;Ct.create=Vte;Ct.date=cPe;Ct.defaulted=_Pe;Ct.define=Ba;Ct.deprecated=Xke;Ct.dynamic=Jke;Ct.empty=TPe;Ct.enums=fPe;Ct.func=uPe;Ct.instance=lPe;Ct.integer=dPe;Ct.intersection=hPe;Ct.is=MC;Ct.lazy=ePe;Ct.literal=pPe;Ct.map=mPe;Ct.mask=jte;Ct.max=IPe;Ct.min=MPe;Ct.never=kC;Ct.nullable=yPe;Ct.number=gPe;Ct.object=Ow;Ct.omit=tPe;Ct.optional=zte;Ct.partial=rPe;Ct.pattern=kPe;Ct.pick=nPe;Ct.record=bPe;Ct.refine=o1;Ct.regexp=vPe;Ct.set=xPe;Ct.size=PPe;Ct.string=Gte;Ct.struct=iPe;Ct.trimmed=APe;Ct.tuple=wPe;Ct.type=SPe;Ct.union=EPe;Ct.unknown=Wte;Ct.validate=i1});var BC=F(RC=>{"use strict";h();p();Object.defineProperty(RC,"__esModule",{value:!0});RC.default=BPe;var G4,RPe=new Uint8Array(16);function BPe(){if(!G4&&(G4=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!G4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G4(RPe)}});var Yte=F(W4=>{"use strict";h();p();Object.defineProperty(W4,"__esModule",{value:!0});W4.default=void 0;var CPe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;W4.default=CPe});var Dw=F($4=>{"use strict";h();p();Object.defineProperty($4,"__esModule",{value:!0});$4.default=void 0;var NPe=OPe(Yte());function OPe(t){return t&&t.__esModule?t:{default:t}}function DPe(t){return typeof t=="string"&&NPe.default.test(t)}var LPe=DPe;$4.default=LPe});var Uw=F(Lw=>{"use strict";h();p();Object.defineProperty(Lw,"__esModule",{value:!0});Lw.default=void 0;Lw.unsafeStringify=Zte;var UPe=FPe(Dw());function FPe(t){return t&&t.__esModule?t:{default:t}}var To=[];for(let t=0;t<256;++t)To.push((t+256).toString(16).slice(1));function Zte(t,e=0){return To[t[e+0]]+To[t[e+1]]+To[t[e+2]]+To[t[e+3]]+"-"+To[t[e+4]]+To[t[e+5]]+"-"+To[t[e+6]]+To[t[e+7]]+"-"+To[t[e+8]]+To[t[e+9]]+"-"+To[t[e+10]]+To[t[e+11]]+To[t[e+12]]+To[t[e+13]]+To[t[e+14]]+To[t[e+15]]}function qPe(t,e=0){let r=Zte(t,e);if(!(0,UPe.default)(r))throw TypeError("Stringified UUID is invalid");return r}var HPe=qPe;Lw.default=HPe});var Xte=F(Y4=>{"use strict";h();p();Object.defineProperty(Y4,"__esModule",{value:!0});Y4.default=void 0;var KPe=jPe(BC()),VPe=Uw();function jPe(t){return t&&t.__esModule?t:{default:t}}var Qte,CC,NC=0,OC=0;function zPe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||Qte,s=t.clockseq!==void 0?t.clockseq:CC;if(o==null||s==null){let _=t.random||(t.rng||KPe.default)();o==null&&(o=Qte=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),s==null&&(s=CC=(_[6]<<8|_[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:OC+1,d=c-NC+(l-OC)/1e4;if(d<0&&t.clockseq===void 0&&(s=s+1&16383),(d<0||c>NC)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");NC=c,OC=l,CC=s,c+=122192928e5;let g=((c&268435455)*1e4+l)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=g&255;let b=c/4294967296*1e4&268435455;i[n++]=b>>>8&255,i[n++]=b&255,i[n++]=b>>>24&15|16,i[n++]=b>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let _=0;_<6;++_)i[n+_]=o[_];return e||(0,VPe.unsafeStringify)(i)}var GPe=zPe;Y4.default=GPe});var DC=F(Z4=>{"use strict";h();p();Object.defineProperty(Z4,"__esModule",{value:!0});Z4.default=void 0;var WPe=$Pe(Dw());function $Pe(t){return t&&t.__esModule?t:{default:t}}function YPe(t){if(!(0,WPe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var ZPe=YPe;Z4.default=ZPe});var LC=F(om=>{"use strict";h();p();Object.defineProperty(om,"__esModule",{value:!0});om.URL=om.DNS=void 0;om.default=tRe;var QPe=Uw(),XPe=JPe(DC());function JPe(t){return t&&t.__esModule?t:{default:t}}function eRe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var Jte="6ba7b810-9dad-11d1-80b4-00c04fd430c8";om.DNS=Jte;var ere="6ba7b811-9dad-11d1-80b4-00c04fd430c8";om.URL=ere;function tRe(t,e,r){function n(i,o,s,c){var l;if(typeof i=="string"&&(i=eRe(i)),typeof o=="string"&&(o=(0,XPe.default)(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,s){c=c||0;for(let g=0;g<16;++g)s[c+g]=d[g];return s}return(0,QPe.unsafeStringify)(d)}try{n.name=t}catch{}return n.DNS=Jte,n.URL=ere,n}});var rre=F(X4=>{"use strict";h();p();Object.defineProperty(X4,"__esModule",{value:!0});X4.default=void 0;function rRe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return nRe(iRe(oRe(t),t.length*8))}function nRe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let o=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(s)}return e}function tre(t){return(t+64>>>9<<4)+14+1}function iRe(t,e){t[e>>5]|=128<<e%32,t[tre(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let s=0;s<t.length;s+=16){let c=r,l=n,d=i,g=o;r=ns(r,n,i,o,t[s],7,-680876936),o=ns(o,r,n,i,t[s+1],12,-389564586),i=ns(i,o,r,n,t[s+2],17,606105819),n=ns(n,i,o,r,t[s+3],22,-1044525330),r=ns(r,n,i,o,t[s+4],7,-176418897),o=ns(o,r,n,i,t[s+5],12,1200080426),i=ns(i,o,r,n,t[s+6],17,-1473231341),n=ns(n,i,o,r,t[s+7],22,-45705983),r=ns(r,n,i,o,t[s+8],7,1770035416),o=ns(o,r,n,i,t[s+9],12,-1958414417),i=ns(i,o,r,n,t[s+10],17,-42063),n=ns(n,i,o,r,t[s+11],22,-1990404162),r=ns(r,n,i,o,t[s+12],7,1804603682),o=ns(o,r,n,i,t[s+13],12,-40341101),i=ns(i,o,r,n,t[s+14],17,-1502002290),n=ns(n,i,o,r,t[s+15],22,1236535329),r=is(r,n,i,o,t[s+1],5,-165796510),o=is(o,r,n,i,t[s+6],9,-1069501632),i=is(i,o,r,n,t[s+11],14,643717713),n=is(n,i,o,r,t[s],20,-373897302),r=is(r,n,i,o,t[s+5],5,-701558691),o=is(o,r,n,i,t[s+10],9,38016083),i=is(i,o,r,n,t[s+15],14,-660478335),n=is(n,i,o,r,t[s+4],20,-405537848),r=is(r,n,i,o,t[s+9],5,568446438),o=is(o,r,n,i,t[s+14],9,-1019803690),i=is(i,o,r,n,t[s+3],14,-187363961),n=is(n,i,o,r,t[s+8],20,1163531501),r=is(r,n,i,o,t[s+13],5,-1444681467),o=is(o,r,n,i,t[s+2],9,-51403784),i=is(i,o,r,n,t[s+7],14,1735328473),n=is(n,i,o,r,t[s+12],20,-1926607734),r=os(r,n,i,o,t[s+5],4,-378558),o=os(o,r,n,i,t[s+8],11,-2022574463),i=os(i,o,r,n,t[s+11],16,1839030562),n=os(n,i,o,r,t[s+14],23,-35309556),r=os(r,n,i,o,t[s+1],4,-1530992060),o=os(o,r,n,i,t[s+4],11,1272893353),i=os(i,o,r,n,t[s+7],16,-155497632),n=os(n,i,o,r,t[s+10],23,-1094730640),r=os(r,n,i,o,t[s+13],4,681279174),o=os(o,r,n,i,t[s],11,-358537222),i=os(i,o,r,n,t[s+3],16,-722521979),n=os(n,i,o,r,t[s+6],23,76029189),r=os(r,n,i,o,t[s+9],4,-640364487),o=os(o,r,n,i,t[s+12],11,-421815835),i=os(i,o,r,n,t[s+15],16,530742520),n=os(n,i,o,r,t[s+2],23,-995338651),r=ss(r,n,i,o,t[s],6,-198630844),o=ss(o,r,n,i,t[s+7],10,1126891415),i=ss(i,o,r,n,t[s+14],15,-1416354905),n=ss(n,i,o,r,t[s+5],21,-57434055),r=ss(r,n,i,o,t[s+12],6,1700485571),o=ss(o,r,n,i,t[s+3],10,-1894986606),i=ss(i,o,r,n,t[s+10],15,-1051523),n=ss(n,i,o,r,t[s+1],21,-2054922799),r=ss(r,n,i,o,t[s+8],6,1873313359),o=ss(o,r,n,i,t[s+15],10,-30611744),i=ss(i,o,r,n,t[s+6],15,-1560198380),n=ss(n,i,o,r,t[s+13],21,1309151649),r=ss(r,n,i,o,t[s+4],6,-145523070),o=ss(o,r,n,i,t[s+11],10,-1120210379),i=ss(i,o,r,n,t[s+2],15,718787259),n=ss(n,i,o,r,t[s+9],21,-343485551),r=gh(r,c),n=gh(n,l),i=gh(i,d),o=gh(o,g)}return[r,n,i,o]}function oRe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(tre(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function gh(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function sRe(t,e){return t<<e|t>>>32-e}function Q4(t,e,r,n,i,o){return gh(sRe(gh(gh(e,t),gh(n,o)),i),r)}function ns(t,e,r,n,i,o,s){return Q4(e&r|~e&n,t,e,i,o,s)}function is(t,e,r,n,i,o,s){return Q4(e&n|r&~n,t,e,i,o,s)}function os(t,e,r,n,i,o,s){return Q4(e^r^n,t,e,i,o,s)}function ss(t,e,r,n,i,o,s){return Q4(r^(e|~n),t,e,i,o,s)}var aRe=rRe;X4.default=aRe});var ire=F(J4=>{"use strict";h();p();Object.defineProperty(J4,"__esModule",{value:!0});J4.default=void 0;var cRe=nre(LC()),fRe=nre(rre());function nre(t){return t&&t.__esModule?t:{default:t}}var uRe=(0,cRe.default)("v3",48,fRe.default),lRe=uRe;J4.default=lRe});var ore=F(e8=>{"use strict";h();p();Object.defineProperty(e8,"__esModule",{value:!0});e8.default=void 0;var dRe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),hRe={randomUUID:dRe};e8.default=hRe});var cre=F(t8=>{"use strict";h();p();Object.defineProperty(t8,"__esModule",{value:!0});t8.default=void 0;var sre=are(ore()),pRe=are(BC()),mRe=Uw();function are(t){return t&&t.__esModule?t:{default:t}}function yRe(t,e,r){if(sre.default.randomUUID&&!e&&!t)return sre.default.randomUUID();t=t||{};let n=t.random||(t.rng||pRe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,mRe.unsafeStringify)(n)}var gRe=yRe;t8.default=gRe});var fre=F(r8=>{"use strict";h();p();Object.defineProperty(r8,"__esModule",{value:!0});r8.default=void 0;function bRe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function UC(t,e){return t<<e|t>>>32-e}function vRe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let s=unescape(encodeURIComponent(t));t=[];for(let c=0;c<s.length;++c)t.push(s.charCodeAt(c))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let s=0;s<i;++s){let c=new Uint32Array(16);for(let l=0;l<16;++l)c[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];o[s]=c}o[i-1][14]=(t.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){let c=new Uint32Array(80);for(let T=0;T<16;++T)c[T]=o[s][T];for(let T=16;T<80;++T)c[T]=UC(c[T-3]^c[T-8]^c[T-14]^c[T-16],1);let l=r[0],d=r[1],g=r[2],b=r[3],_=r[4];for(let T=0;T<80;++T){let M=Math.floor(T/20),k=UC(l,5)+bRe(M,d,g,b)+_+e[M]+c[T]>>>0;_=b,b=g,g=UC(d,30)>>>0,d=l,l=k}r[0]=r[0]+l>>>0,r[1]=r[1]+d>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+_>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var xRe=vRe;r8.default=xRe});var lre=F(n8=>{"use strict";h();p();Object.defineProperty(n8,"__esModule",{value:!0});n8.default=void 0;var wRe=ure(LC()),SRe=ure(fre());function ure(t){return t&&t.__esModule?t:{default:t}}var ERe=(0,wRe.default)("v5",80,SRe.default),_Re=ERe;n8.default=_Re});var dre=F(i8=>{"use strict";h();p();Object.defineProperty(i8,"__esModule",{value:!0});i8.default=void 0;var ARe="00000000-0000-0000-0000-000000000000";i8.default=ARe});var hre=F(o8=>{"use strict";h();p();Object.defineProperty(o8,"__esModule",{value:!0});o8.default=void 0;var TRe=IRe(Dw());function IRe(t){return t&&t.__esModule?t:{default:t}}function MRe(t){if(!(0,TRe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var kRe=MRe;o8.default=kRe});var FC=F(_f=>{"use strict";h();p();Object.defineProperty(_f,"__esModule",{value:!0});Object.defineProperty(_f,"NIL",{enumerable:!0,get:function(){return NRe.default}});Object.defineProperty(_f,"parse",{enumerable:!0,get:function(){return URe.default}});Object.defineProperty(_f,"stringify",{enumerable:!0,get:function(){return LRe.default}});Object.defineProperty(_f,"v1",{enumerable:!0,get:function(){return PRe.default}});Object.defineProperty(_f,"v3",{enumerable:!0,get:function(){return RRe.default}});Object.defineProperty(_f,"v4",{enumerable:!0,get:function(){return BRe.default}});Object.defineProperty(_f,"v5",{enumerable:!0,get:function(){return CRe.default}});Object.defineProperty(_f,"validate",{enumerable:!0,get:function(){return DRe.default}});Object.defineProperty(_f,"version",{enumerable:!0,get:function(){return ORe.default}});var PRe=Dl(Xte()),RRe=Dl(ire()),BRe=Dl(cre()),CRe=Dl(lre()),NRe=Dl(dre()),ORe=Dl(hre()),DRe=Dl(Dw()),LRe=Dl(Uw()),URe=Dl(DC());function Dl(t){return t&&t.__esModule?t:{default:t}}});var mre=F((N3t,pre)=>{"use strict";h();p();var FRe=FC().v4,qRe=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return FRe()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};pre.exports=qRe});var gre=F((L3t,yre)=>{"use strict";h();p();var HRe=FC().v4,KRe=mre(),Fw=function(t,e){if(!(this instanceof Fw))return new Fw(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return HRe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};yre.exports=Fw;Fw.prototype.request=function(t,e,r,n){let i=this,o=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let d=typeof n=="function";try{o=KRe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(g){if(d)return n(g);throw g}if(!d)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(d){return n(d)}return this.callServer(l,function(d,g){i._parseResponse(d,g,n)}),o};Fw.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return r(null,n.filter(i),n.filter(o))}else return r(null,n.error,n.result);r(null,n)}});var s1=F((q3t,Ll)=>{h();p();function qC(t){"@babel/helpers - typeof";return Ll.exports=qC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll.exports.__esModule=!0,Ll.exports.default=Ll.exports,qC(t)}Ll.exports=qC,Ll.exports.__esModule=!0,Ll.exports.default=Ll.exports});var vre=F((V3t,Ul)=>{h();p();var VRe=s1().default;function bre(){"use strict";Ul.exports=bre=function(){return t},Ul.exports.__esModule=!0,Ul.exports.default=Ul.exports;var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(u,m,y){u[m]=y.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(u,m,y){return Object.defineProperty(u,m,{value:y,enumerable:!0,configurable:!0,writable:!0}),u[m]}try{l({},"")}catch{l=function(y,w,E){return y[w]=E}}function d(u,m,y,w){var E=m&&m.prototype instanceof _?m:_,A=Object.create(E.prototype),x=new ne(w||[]);return n(A,"_invoke",{value:V(u,y,x)}),A}function g(u,m,y){try{return{type:"normal",arg:u.call(m,y)}}catch(w){return{type:"throw",arg:w}}}t.wrap=d;var b={};function _(){}function T(){}function M(){}var k={};l(k,o,function(){return this});var B=Object.getPrototypeOf,P=B&&B(B(S([])));P&&P!==e&&r.call(P,o)&&(k=P);var D=M.prototype=_.prototype=Object.create(k);function R(u){["next","throw","return"].forEach(function(m){l(u,m,function(y){return this._invoke(m,y)})})}function L(u,m){function y(E,A,x,f){var v=g(u[E],u,A);if(v.type!=="throw"){var q=v.arg,U=q.value;return U&&VRe(U)=="object"&&r.call(U,"__await")?m.resolve(U.__await).then(function(O){y("next",O,x,f)},function(O){y("throw",O,x,f)}):m.resolve(U).then(function(O){q.value=O,x(q)},function(O){return y("throw",O,x,f)})}f(v.arg)}var w;n(this,"_invoke",{value:function(A,x){function f(){return new m(function(v,q){y(A,x,v,q)})}return w=w?w.then(f,f):f()}})}function V(u,m,y){var w="suspendedStart";return function(E,A){if(w==="executing")throw new Error("Generator is already running");if(w==="completed"){if(E==="throw")throw A;return a()}for(y.method=E,y.arg=A;;){var x=y.delegate;if(x){var f=z(x,y);if(f){if(f===b)continue;return f}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(w==="suspendedStart")throw w="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);w="executing";var v=g(u,m,y);if(v.type==="normal"){if(w=y.done?"completed":"suspendedYield",v.arg===b)continue;return{value:v.arg,done:y.done}}v.type==="throw"&&(w="completed",y.method="throw",y.arg=v.arg)}}}function z(u,m){var y=m.method,w=u.iterator[y];if(w===void 0)return m.delegate=null,y==="throw"&&u.iterator.return&&(m.method="return",m.arg=void 0,z(u,m),m.method==="throw")||y!=="return"&&(m.method="throw",m.arg=new TypeError("The iterator does not provide a '"+y+"' method")),b;var E=g(w,u.iterator,m.arg);if(E.type==="throw")return m.method="throw",m.arg=E.arg,m.delegate=null,b;var A=E.arg;return A?A.done?(m[u.resultName]=A.value,m.next=u.nextLoc,m.method!=="return"&&(m.method="next",m.arg=void 0),m.delegate=null,b):A:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,b)}function oe(u){var m={tryLoc:u[0]};1 in u&&(m.catchLoc=u[1]),2 in u&&(m.finallyLoc=u[2],m.afterLoc=u[3]),this.tryEntries.push(m)}function $(u){var m=u.completion||{};m.type="normal",delete m.arg,u.completion=m}function ne(u){this.tryEntries=[{tryLoc:"root"}],u.forEach(oe,this),this.reset(!0)}function S(u){if(u){var m=u[o];if(m)return m.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length)){var y=-1,w=function E(){for(;++y<u.length;)if(r.call(u,y))return E.value=u[y],E.done=!1,E;return E.value=void 0,E.done=!0,E};return w.next=w}}return{next:a}}function a(){return{value:void 0,done:!0}}return T.prototype=M,n(D,"constructor",{value:M,configurable:!0}),n(M,"constructor",{value:T,configurable:!0}),T.displayName=l(M,c,"GeneratorFunction"),t.isGeneratorFunction=function(u){var m=typeof u=="function"&&u.constructor;return!!m&&(m===T||(m.displayName||m.name)==="GeneratorFunction")},t.mark=function(u){return Object.setPrototypeOf?Object.setPrototypeOf(u,M):(u.__proto__=M,l(u,c,"GeneratorFunction")),u.prototype=Object.create(D),u},t.awrap=function(u){return{__await:u}},R(L.prototype),l(L.prototype,s,function(){return this}),t.AsyncIterator=L,t.async=function(u,m,y,w,E){E===void 0&&(E=Promise);var A=new L(d(u,m,y,w),E);return t.isGeneratorFunction(m)?A:A.next().then(function(x){return x.done?x.value:A.next()})},R(D),l(D,c,"Generator"),l(D,o,function(){return this}),l(D,"toString",function(){return"[object Generator]"}),t.keys=function(u){var m=Object(u),y=[];for(var w in m)y.push(w);return y.reverse(),function E(){for(;y.length;){var A=y.pop();if(A in m)return E.value=A,E.done=!1,E}return E.done=!0,E}},t.values=S,ne.prototype={constructor:ne,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!m)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var y=this;function w(q,U){return x.type="throw",x.arg=m,y.next=q,U&&(y.method="next",y.arg=void 0),!!U}for(var E=this.tryEntries.length-1;E>=0;--E){var A=this.tryEntries[E],x=A.completion;if(A.tryLoc==="root")return w("end");if(A.tryLoc<=this.prev){var f=r.call(A,"catchLoc"),v=r.call(A,"finallyLoc");if(f&&v){if(this.prev<A.catchLoc)return w(A.catchLoc,!0);if(this.prev<A.finallyLoc)return w(A.finallyLoc)}else if(f){if(this.prev<A.catchLoc)return w(A.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return w(A.finallyLoc)}}}},abrupt:function(m,y){for(var w=this.tryEntries.length-1;w>=0;--w){var E=this.tryEntries[w];if(E.tryLoc<=this.prev&&r.call(E,"finallyLoc")&&this.prev<E.finallyLoc){var A=E;break}}A&&(m==="break"||m==="continue")&&A.tryLoc<=y&&y<=A.finallyLoc&&(A=null);var x=A?A.completion:{};return x.type=m,x.arg=y,A?(this.method="next",this.next=A.finallyLoc,b):this.complete(x)},complete:function(m,y){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&y&&(this.next=y),b},finish:function(m){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===m)return this.complete(w.completion,w.afterLoc),$(w),b}},catch:function(m){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===m){var E=w.completion;if(E.type==="throw"){var A=E.arg;$(w)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(m,y,w){return this.delegate={iterator:S(m),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),b}},t}Ul.exports=bre,Ul.exports.__esModule=!0,Ul.exports.default=Ul.exports});var wre=F((G3t,xre)=>{h();p();var s8=vre()();xre.exports=s8;try{regeneratorRuntime=s8}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s8:Function("r","regeneratorRuntime = r")(s8)}});var Ere=F((Y3t,qw)=>{h();p();function Sre(t,e,r,n,i,o,s){try{var c=t[o](s),l=c.value}catch(d){r(d);return}c.done?e(l):Promise.resolve(l).then(n,i)}function jRe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(l){Sre(o,n,i,s,c,"next",l)}function c(l){Sre(o,n,i,s,c,"throw",l)}s(void 0)})}}qw.exports=jRe,qw.exports.__esModule=!0,qw.exports.default=qw.exports});var HC=F((X3t,Hw)=>{h();p();function zRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Hw.exports=zRe,Hw.exports.__esModule=!0,Hw.exports.default=Hw.exports});var Are=F((tEt,Kw)=>{h();p();var _re=s1().default;function GRe(t,e){if(_re(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_re(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Kw.exports=GRe,Kw.exports.__esModule=!0,Kw.exports.default=Kw.exports});var Tre=F((iEt,Vw)=>{h();p();var WRe=s1().default,$Re=Are();function YRe(t){var e=$Re(t,"string");return WRe(e)==="symbol"?e:String(e)}Vw.exports=YRe,Vw.exports.__esModule=!0,Vw.exports.default=Vw.exports});var KC=F((aEt,jw)=>{h();p();var ZRe=Tre();function Ire(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZRe(n.key),n)}}function QRe(t,e,r){return e&&Ire(t.prototype,e),r&&Ire(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}jw.exports=QRe,jw.exports.__esModule=!0,jw.exports.default=jw.exports});var Mre=F((uEt,Fl)=>{h();p();function VC(t,e){return Fl.exports=VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fl.exports.__esModule=!0,Fl.exports.default=Fl.exports,VC(t,e)}Fl.exports=VC,Fl.exports.__esModule=!0,Fl.exports.default=Fl.exports});var jC=F((hEt,zw)=>{h();p();var XRe=Mre();function JRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XRe(t,e)}zw.exports=JRe,zw.exports.__esModule=!0,zw.exports.default=zw.exports});var kre=F((yEt,Gw)=>{h();p();function eBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Gw.exports=eBe,Gw.exports.__esModule=!0,Gw.exports.default=Gw.exports});var zC=F((vEt,Ww)=>{h();p();var tBe=s1().default,rBe=kre();function nBe(t,e){if(e&&(tBe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rBe(t)}Ww.exports=nBe,Ww.exports.__esModule=!0,Ww.exports.default=Ww.exports});var WC=F((SEt,ql)=>{h();p();function GC(t){return ql.exports=GC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ql.exports.__esModule=!0,ql.exports.default=ql.exports,GC(t)}ql.exports=GC,ql.exports.__esModule=!0,ql.exports.default=ql.exports});var Rre=F(c8=>{"use strict";h();p();var vh=SG();Object.defineProperty(c8,"__esModule",{value:!0});c8.default=void 0;var bh=vh(wre()),a8=vh(Ere()),iBe=vh(s1()),oBe=vh(HC()),sBe=vh(KC()),aBe=vh(jC()),cBe=vh(zC()),Pre=vh(WC()),fBe=EG();function uBe(t){var e=lBe();return function(){var n=(0,Pre.default)(t),i;if(e){var o=(0,Pre.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,cBe.default)(this,i)}}function lBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dBe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},hBe=function(t){(0,aBe.default)(r,t);var e=uBe(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;(0,oBe.default)(this,r);var l=s.autoconnect,d=l===void 0?!0:l,g=s.reconnect,b=g===void 0?!0:g,_=s.reconnect_interval,T=_===void 0?1e3:_,M=s.max_reconnects,k=M===void 0?5:M,B=dBe(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=e.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=d,i.ready=!1,i.reconnect=b,i.reconnect_timer_id=void 0,i.reconnect_interval=T,i.max_reconnects=k,i.rest_options=B,i.current_reconnects=0,i.generate_request_id=c||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,sBe.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,c){var l=this;return!c&&(0,iBe.default)(s)==="object"&&(c=s,s=null),new Promise(function(d,g){if(!l.ready)return g(new Error("socket not ready"));var b=l.generate_request_id(i,o),_={jsonrpc:"2.0",method:i,params:o||null,id:b};l.socket.send(JSON.stringify(_),c,function(T){if(T)return g(T);l.queue[b]={promise:[d,g]},s&&(l.queue[b].timeout=setTimeout(function(){delete l.queue[b],g(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,a8.default)(bh.default.mark(function o(s){var c;return bh.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.call("rpc.login",s);case 2:if(c=d.sent,c){d.next=5;break}throw new Error("authentication failed");case 5:return d.abrupt("return",c);case 6:case"end":return d.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,a8.default)(bh.default.mark(function o(){return bh.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.call("__listMethods");case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(c,l){if(!s.ready)return l(new Error("socket not ready"));var d={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(d),function(g){if(g)return l(g);c()})})}},{key:"subscribe",value:function(){var n=(0,a8.default)(bh.default.mark(function o(s){var c;return bh.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return typeof s=="string"&&(s=[s]),d.next=3,this.call("rpc.on",s);case 3:if(c=d.sent,!(typeof s=="string"&&c[s]!=="ok")){d.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+c[s]);case 6:return d.abrupt("return",c);case 7:case"end":return d.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,a8.default)(bh.default.mark(function o(s){var c;return bh.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return typeof s=="string"&&(s=[s]),d.next=3,this.call("rpc.off",s);case 3:if(c=d.sent,!(typeof s=="string"&&c[s]!=="ok")){d.next=6;break}throw new Error("Failed unsubscribing from an event with: "+c);case 6:return d.abrupt("return",c);case 7:case"end":return d.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(c){var l=c.data;l instanceof ArrayBuffer&&(l=Buffer.from(l).toString());try{l=JSON.parse(l)}catch{return}if(l.notification&&s.listeners(l.notification).length){if(!Object.keys(l.params).length)return s.emit(l.notification);var d=[l.notification];if(l.params.constructor===Object)d.push(l.params);else for(var g=0;g<l.params.length;g++)d.push(l.params[g]);return Promise.resolve().then(function(){s.emit.apply(s,d)})}if(!s.queue[l.id])return l.method&&l.params?Promise.resolve().then(function(){s.emit(l.method,l.params)}):void 0;"error"in l=="result"in l&&s.queue[l.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[l.id].timeout&&clearTimeout(s.queue[l.id].timeout),l.error?s.queue[l.id].promise[1](l.error):s.queue[l.id].promise[0](l.result),delete s.queue[l.id]}),this.socket.addEventListener("error",function(c){return s.emit("error",c)}),this.socket.addEventListener("close",function(c){var l=c.code,d=c.reason;s.ready&&setTimeout(function(){return s.emit("close",l,d)},0),s.ready=!1,s.socket=void 0,l!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(i,o)},s.reconnect_interval)))})}}]),r}(fBe.EventEmitter);c8.default=hBe});var Cre=F($C=>{"use strict";h();p();var $w=SG();Object.defineProperty($C,"__esModule",{value:!0});$C.default=SBe;var pBe=$w(HC()),mBe=$w(KC()),yBe=$w(jC()),gBe=$w(zC()),Bre=$w(WC()),bBe=EG();function vBe(t){var e=xBe();return function(){var n=(0,Bre.default)(t),i;if(e){var o=(0,Bre.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,gBe.default)(this,i)}}function xBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var wBe=function(t){(0,yBe.default)(r,t);var e=vBe(r);function r(n,i,o){var s;return(0,pBe.default)(this,r),s=e.call(this),s.socket=new self.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(c){return s.emit("message",c.data)},s.socket.onerror=function(c){return s.emit("error",c)},s.socket.onclose=function(c){s.emit("close",c.code,c.reason)},s}return(0,mBe.default)(r,[{key:"send",value:function(i,o,s){var c=s||o;try{this.socket.send(i),c()}catch(l){c(l)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),r}(bBe.EventEmitter);function SBe(t,e){return new wBe(t,e)}});var Hre=F(mn=>{"use strict";h();p();Object.defineProperty(mn,"__esModule",{value:!0});mn.shake256=mn.shake128=mn.keccak_512=mn.keccak_384=mn.keccak_256=mn.keccak_224=mn.sha3_512=mn.sha3_384=mn.sha3_256=mn.sha3_224=mn.Keccak=mn.keccakP=void 0;var a1=S6(),Qw=mP(),Zw=Kd(),[Dre,Lre,Ure]=[[],[],[]],EBe=BigInt(0),Yw=BigInt(1),_Be=BigInt(2),ABe=BigInt(7),TBe=BigInt(256),IBe=BigInt(113);for(let t=0,e=Yw,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Dre.push(2*(5*n+r)),Lre.push((t+1)*(t+2)/2%64);let i=EBe;for(let o=0;o<7;o++)e=(e<<Yw^(e>>ABe)*IBe)%TBe,e&_Be&&(i^=Yw<<(Yw<<BigInt(o))-Yw);Ure.push(i)}var[MBe,kBe]=Qw.default.split(Ure,!0),Nre=(t,e,r)=>r>32?Qw.default.rotlBH(t,e,r):Qw.default.rotlSH(t,e,r),Ore=(t,e,r)=>r>32?Qw.default.rotlBL(t,e,r):Qw.default.rotlSL(t,e,r);function Fre(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let c=(s+8)%10,l=(s+2)%10,d=r[l],g=r[l+1],b=Nre(d,g,1)^r[c],_=Ore(d,g,1)^r[c+1];for(let T=0;T<50;T+=10)t[s+T]^=b,t[s+T+1]^=_}let i=t[2],o=t[3];for(let s=0;s<24;s++){let c=Lre[s],l=Nre(i,o,c),d=Ore(i,o,c),g=Dre[s];i=t[g],o=t[g+1],t[g]=l,t[g+1]=d}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)r[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=MBe[n],t[1]^=kBe[n]}r.fill(0)}mn.keccakP=Fre;var Xw=class t extends Zw.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,a1.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Zw.u32)(this.state)}keccak(){Fre(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){a1.default.exists(this);let{blockLen:r,state:n}=this;e=(0,Zw.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let c=0;c<s;c++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){a1.default.exists(this,!1),a1.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return a1.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(a1.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};mn.Keccak=Xw;var xh=(t,e,r)=>(0,Zw.wrapConstructor)(()=>new Xw(e,t,r));mn.sha3_224=xh(6,144,224/8);mn.sha3_256=xh(6,136,256/8);mn.sha3_384=xh(6,104,384/8);mn.sha3_512=xh(6,72,512/8);mn.keccak_224=xh(1,144,224/8);mn.keccak_256=xh(1,136,256/8);mn.keccak_384=xh(1,104,384/8);mn.keccak_512=xh(1,72,512/8);var qre=(t,e,r)=>(0,Zw.wrapConstructorWithOpts)((n={})=>new Xw(e,t,n.dkLen===void 0?r:n.dkLen,!0));mn.shake128=qre(31,168,128/8);mn.shake256=qre(31,136,256/8)});var Vre=F(Jw=>{"use strict";h();p();Object.defineProperty(Jw,"__esModule",{value:!0});Jw.hmac=void 0;var f8=S6(),Kre=Kd(),u8=class extends Kre.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,f8.default.hash(e);let n=(0,Kre.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return f8.default.exists(this),this.iHash.update(e),this}digestInto(e){f8.default.exists(this),f8.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},PBe=(t,e,r)=>new u8(t,e).update(r).digest();Jw.hmac=PBe;Jw.hmac.create=(t,e)=>new u8(t,e)});var XC=F(yr=>{"use strict";h();p();Object.defineProperty(yr,"__esModule",{value:!0});yr.utils=yr.schnorr=yr.verify=yr.signSync=yr.sign=yr.getSharedSecret=yr.recoverPublicKey=yr.getPublicKey=yr.Signature=yr.Point=yr.CURVE=void 0;var RBe=Dp(),Sr=BigInt(0),Sn=BigInt(1),Eh=BigInt(2),t2=BigInt(3),jre=BigInt(8),nn=Object.freeze({a:Sr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Sn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});yr.CURVE=nn;var zre=(t,e)=>(t+e/Eh)/e,l8={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=nn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Sn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=zre(o*t,e),l=zre(-n*t,e),d=ft(t-c*r-l*i,e),g=ft(-c*n-l*o,e),b=d>s,_=g>s;if(b&&(d=e-d),_&&(g=e-g),d>s||g>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:d,k2neg:_,k2:g}}},Af=32,am=32,Xre=32,y8=Af+1,g8=2*Af+1;function Gre(t){let{a:e,b:r}=nn,n=ft(t*t),i=ft(n*t);return ft(i+e*t+r)}var d8=nn.a===Sr,n2=class extends Error{constructor(e){super(e)}};function Wre(t){if(!(t instanceof Cs))throw new TypeError("JacobianPoint expected")}var Cs=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof yn))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(yn.ZERO)?t.ZERO:new t(e.x,e.y,Sn)}static toAffineBatch(e){let r=DBe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Wre(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=ft(i*i),d=ft(c*c),g=ft(r*d),b=ft(o*l),_=ft(ft(n*c)*d),T=ft(ft(s*i)*l);return g===b&&_===T}negate(){return new t(this.x,ft(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=ft(e*e),o=ft(r*r),s=ft(o*o),c=e+o,l=ft(Eh*(ft(c*c)-i-s)),d=ft(t2*i),g=ft(d*d),b=ft(g-Eh*l),_=ft(d*(l-b)-jre*s),T=ft(Eh*r*n);return new t(b,_,T)}add(e){Wre(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e;if(o===Sr||s===Sr)return this;if(r===Sr||n===Sr)return e;let l=ft(i*i),d=ft(c*c),g=ft(r*d),b=ft(o*l),_=ft(ft(n*c)*d),T=ft(ft(s*i)*l),M=ft(b-g),k=ft(T-_);if(M===Sr)return k===Sr?this.double():t.ZERO;let B=ft(M*M),P=ft(M*B),D=ft(g*B),R=ft(k*k-P-Eh*D),L=ft(k*(D-R)-_*P),V=ft(i*c*M);return new t(R,L,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Sr)return r;let n=Zre(e);if(n===Sn)return this;if(!d8){let b=r,_=this;for(;n>Sr;)n&Sn&&(b=b.add(_)),_=_.double(),n>>=Sn;return b}let{k1neg:i,k1:o,k2neg:s,k2:c}=l8.splitScalar(n),l=r,d=r,g=this;for(;o>Sr||c>Sr;)o&Sn&&(l=l.add(g)),c&Sn&&(d=d.add(g)),g=g.double(),o>>=Sn,c>>=Sn;return i&&(l=l.negate()),s&&(d=d.negate()),d=new t(ft(d.x*l8.beta),d.y,d.z),l.add(d)}precomputeWindow(e){let r=d8?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=yn.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&YC.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),YC.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+(d8?128/n:256/n),l=2**(n-1),d=BigInt(2**n-1),g=2**n,b=BigInt(n);for(let _=0;_<c;_++){let T=_*l,M=Number(e&d);e>>=b,M>l&&(M-=g,e+=Sn);let k=T,B=T+Math.abs(M)-1,P=_%2!==0,D=M<0;M===0?s=s.add(h8(P,i[k])):o=o.add(h8(D,i[B]))}return{p:o,f:s}}multiply(e,r){let n=Zre(e),i,o;if(d8){let{k1neg:s,k1:c,k2neg:l,k2:d}=l8.splitScalar(n),{p:g,f:b}=this.wNAF(c,r),{p:_,f:T}=this.wNAF(d,r);g=h8(s,g),_=h8(l,_),_=new t(ft(_.x*l8.beta),_.y,_.z),i=g.add(_),o=b.add(T)}else{let{p:s,f:c}=this.wNAF(n,r);i=s,o=c}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?jre:h1(i));let s=e,c=ft(s*s),l=ft(c*s),d=ft(r*c),g=ft(n*l),b=ft(i*s);if(o)return yn.ZERO;if(b!==Sn)throw new Error("invZ was invalid");return new yn(d,g)}};Cs.BASE=new Cs(nn.Gx,nn.Gy,Sn);Cs.ZERO=new Cs(Sr,Sn,Sr);function h8(t,e){let r=e.negate();return t?r:e}var YC=new WeakMap,yn=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,YC.delete(this)}hasEvenY(){return this.y%Eh===Sr}static fromCompressedHex(e){let r=e.length===32,n=Na(r?e:e.subarray(1));if(!m8(n))throw new Error("Point is not on curve");let i=Gre(n),o=OBe(i),s=(o&Sn)===Sn;r?s&&(o=ft(-o)):(e[0]&1)===1!==s&&(o=ft(-o));let c=new t(n,o);return c.assertValidity(),c}static fromUncompressedHex(e){let r=Na(e.subarray(1,Af+1)),n=Na(e.subarray(Af+1,Af*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=_u(e),n=r.length,i=r[0];if(n===Af)return this.fromCompressedHex(r);if(n===y8&&(i===2||i===3))return this.fromCompressedHex(r);if(n===g8&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${y8} compressed bytes or ${g8} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(cm(e))}static fromSignature(e,r,n){let{r:i,s:o}=ene(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=ZC(_u(e)),{n:c}=nn,l=n===2||n===3?i+c:i,d=h1(l,c),g=ft(-s*d,c),b=ft(o*d,c),_=n&1?"03":"02",T=t.fromHex(_+_h(l)),M=t.BASE.multiplyAndAddUnsafe(T,g,b);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return Ah(this.toHex(e))}toHex(e=!1){let r=_h(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${_h(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!m8(r)||!m8(n))throw new Error(e);let i=ft(n*n),o=Gre(r);if(ft(i-o)!==Sr)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,ft(-this.y))}double(){return Cs.fromAffine(this).double().toAffine()}add(e){return Cs.fromAffine(this).add(Cs.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Cs.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Cs.fromAffine(this),o=r===Sr||r===Sn||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=Cs.fromAffine(e).multiplyUnsafe(n),c=o.add(s);return c.equals(Cs.ZERO)?void 0:c.toAffine()}};yr.Point=yn;yn.BASE=new yn(nn.Gx,nn.Gy);yn.ZERO=new yn(Sr,Sr);function $re(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Yre(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${f1(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Na(r),left:t.subarray(e+2)}}function BBe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${f1(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Yre(t.subarray(2)),{data:n,left:i}=Yre(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${f1(i)}`);return{r:e,s:n}}var sm=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?f1(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(b8(i.slice(0,64)),b8(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=BBe(r?e:Ah(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!l1(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!l1(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=nn.n>>Sn;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,ft(-this.s,nn.n)):this}toDERRawBytes(){return Ah(this.toDERHex())}toDERHex(){let e=$re(e2(this.s)),r=$re(e2(this.r)),n=e.length/2,i=r.length/2,o=e2(n),s=e2(i);return`30${e2(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Ah(this.toCompactHex())}toCompactHex(){return _h(this.r)+_h(this.s)}};yr.Signature=sm;function Sh(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var CBe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function f1(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=CBe[t[r]];return e}var NBe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function _h(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Sr<=t&&t<NBe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function u1(t){let e=Ah(_h(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function e2(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function b8(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Ah(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Na(t){return b8(f1(t))}function _u(t){return t instanceof Uint8Array?Uint8Array.from(t):Ah(t)}function Zre(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&l1(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ft(t,e=nn.P){let r=t%e;return r>=Sr?r:e+r}function Sc(t,e){let{P:r}=nn,n=t;for(;e-- >Sr;)n*=n,n%=r;return n}function OBe(t){let{P:e}=nn,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,d=l*l*t%e,g=Sc(d,t2)*d%e,b=Sc(g,t2)*d%e,_=Sc(b,Eh)*l%e,T=Sc(_,n)*_%e,M=Sc(T,i)*T%e,k=Sc(M,s)*M%e,B=Sc(k,c)*k%e,P=Sc(B,s)*M%e,D=Sc(P,t2)*d%e,R=Sc(D,o)*T%e,L=Sc(R,r)*l%e,V=Sc(L,Eh);if(V*V%e!==t)throw new Error("Cannot find square root");return V}function h1(t,e=nn.P){if(t===Sr||e<=Sr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ft(t,e),n=e,i=Sr,o=Sn,s=Sn,c=Sr;for(;r!==Sr;){let d=n/r,g=n%r,b=i-s*d,_=o-c*d;n=r,r=g,i=s,o=c,s=b,c=_}if(n!==Sn)throw new Error("invert: does not exist");return ft(i,e)}function DBe(t,e=nn.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===Sr?o:(r[c]=o,ft(o*s,e)),Sn),i=h1(n,e);return t.reduceRight((o,s,c)=>s===Sr?o:(r[c]=ft(o*r[c],e),ft(o*s,e)),i),r}function LBe(t){let e=t.length*8-am*8,r=Na(t);return e>0?r>>BigInt(e):r}function ZC(t,e=!1){let r=LBe(t);if(e)return r;let{n}=nn;return r>=n?r-n:r}var c1,r2,v8=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return yr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return r2(this.k,...e)}checkSync(){if(typeof r2!="function")throw new n2("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Sh(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Sh(...r)}};function l1(t){return Sr<t&&t<nn.n}function m8(t){return Sr<t&&t<nn.P}function Jre(t,e,r,n=!0){let{n:i}=nn,o=ZC(t,!0);if(!l1(o))return;let s=h1(o,i),c=yn.BASE.multiply(o),l=ft(c.x,i);if(l===Sr)return;let d=ft(s*ft(e+r*l,i),i);if(d===Sr)return;let g=new sm(l,d),b=(c.x===g.r?0:2)|Number(c.y&Sn);return n&&g.hasHighS()&&(g=g.normalizeS(),b^=1),{sig:g,recovery:b}}function cm(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*am)throw new Error("Expected 32 bytes of private key");e=b8(t)}else if(t instanceof Uint8Array){if(t.length!==am)throw new Error("Expected 32 bytes of private key");e=Na(t)}else throw new TypeError("Expected valid private key");if(!l1(e))throw new Error("Expected private key: 0 < key < n");return e}function QC(t){return t instanceof yn?(t.assertValidity(),t):yn.fromHex(t)}function ene(t){if(t instanceof sm)return t.assertValidity(),t;try{return sm.fromDER(t)}catch{return sm.fromCompact(t)}}function UBe(t,e=!1){return yn.fromPrivateKey(t).toRawBytes(e)}yr.getPublicKey=UBe;function FBe(t,e,r,n=!1){return yn.fromSignature(t,e,r).toRawBytes(n)}yr.recoverPublicKey=FBe;function Qre(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===y8||n===g8:r?n===y8*2||n===g8*2:t instanceof yn}function qBe(t,e,r=!1){if(Qre(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Qre(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=QC(e);return n.assertValidity(),n.multiply(cm(t)).toRawBytes(r)}yr.getSharedSecret=qBe;function tne(t){let e=t.length>Af?t.slice(0,Af):t;return Na(e)}function HBe(t){let e=tne(t),r=ft(e,nn.n);return rne(r<Sr?e:r)}function rne(t){return u1(t)}function nne(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=_u(t),i=cm(e),o=[rne(i),HBe(n)];if(r!=null){r===!0&&(r=yr.utils.randomBytes(Af));let l=_u(r);if(l.length!==Af)throw new Error(`sign: Expected ${Af} bytes of extra data`);o.push(l)}let s=Sh(...o),c=tne(n);return{seed:s,m:c,d:i}}function ine(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function KBe(t,e,r={}){let{seed:n,m:i,d:o}=nne(t,e,r.extraEntropy),s=new v8(Xre,am);await s.reseed(n);let c;for(;!(c=Jre(await s.generate(),i,o,r.canonical));)await s.reseed();return ine(c,r)}yr.sign=KBe;function VBe(t,e,r={}){let{seed:n,m:i,d:o}=nne(t,e,r.extraEntropy),s=new v8(Xre,am);s.reseedSync(n);let c;for(;!(c=Jre(s.generateSync(),i,o,r.canonical));)s.reseedSync();return ine(c,r)}yr.signSync=VBe;var jBe={strict:!0};function zBe(t,e,r,n=jBe){let i;try{i=ene(t),e=_u(e)}catch{return!1}let{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;let c=ZC(e),l;try{l=QC(r)}catch{return!1}let{n:d}=nn,g=h1(s,d),b=ft(c*g,d),_=ft(o*g,d),T=yn.BASE.multiplyAndAddUnsafe(l,b,_);return T?ft(T.x,d)===o:!1}yr.verify=zBe;function x8(t){return ft(Na(t),nn.n)}var d1=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=_u(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=Na(r.subarray(0,32)),i=Na(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!m8(e)||!l1(r))throw new Error("Invalid signature")}toHex(){return _h(this.r)+_h(this.s)}toRawBytes(){return Ah(this.toHex())}};function GBe(t){return yn.fromPrivateKey(t).toRawX()}var w8=class{constructor(e,r,n=yr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=_u(e);let{x:i,scalar:o}=this.getScalar(cm(r));if(this.px=i,this.d=o,this.rand=_u(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=yn.fromPrivateKey(e),n=r.hasEvenY()?e:nn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return u1(e^Na(r))}finalizeNonce(e){let r=ft(Na(e),nn.n);if(r===Sr)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new d1(e.x,ft(r+n*i,nn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=yr.utils.taggedHash,s=this.initNonce(r,await o(wh.aux,i)),{R:c,rx:l,k:d}=this.finalizeNonce(await o(wh.nonce,s,n,e)),g=x8(await o(wh.challenge,l,n,e)),b=this.finalizeSig(c,d,g,r);return await ane(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=yr.utils.taggedHashSync,s=this.initNonce(r,o(wh.aux,i)),{R:c,rx:l,k:d}=this.finalizeNonce(o(wh.nonce,s,n,e)),g=x8(o(wh.challenge,l,n,e)),b=this.finalizeSig(c,d,g,r);return cne(b,e,n)||this.error(),b}};async function WBe(t,e,r){return new w8(t,e,r).calc()}function $Be(t,e,r){return new w8(t,e,r).calcSync()}function one(t,e,r){let n=t instanceof d1,i=n?t:d1.fromHex(t);return n&&i.assertValidity(),{...i,m:_u(e),P:QC(r)}}function sne(t,e,r,n){let i=yn.BASE.multiplyAndAddUnsafe(e,cm(r),ft(-n,nn.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function ane(t,e,r){try{let{r:n,s:i,m:o,P:s}=one(t,e,r),c=x8(await yr.utils.taggedHash(wh.challenge,u1(n),s.toRawX(),o));return sne(n,s,i,c)}catch{return!1}}function cne(t,e,r){try{let{r:n,s:i,m:o,P:s}=one(t,e,r),c=x8(yr.utils.taggedHashSync(wh.challenge,u1(n),s.toRawX(),o));return sne(n,s,i,c)}catch(n){if(n instanceof n2)throw n;return!1}}yr.schnorr={Signature:d1,getPublicKey:GBe,sign:WBe,verify:ane,signSync:$Be,verifySync:cne};yn.BASE._setWindowSize(8);var Ca={node:RBe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},wh={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},p8={};yr.utils={bytesToHex:f1,hexToBytes:Ah,concatBytes:Sh,mod:ft,invert:h1,isValidPrivateKey(t){try{return cm(t),!0}catch{return!1}},_bigintTo32Bytes:u1,_normalizePrivateKey:cm,hashToPrivateKey:t=>{t=_u(t);let e=am+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=ft(Na(t),nn.n-Sn)+Sn;return u1(r)},randomBytes:(t=32)=>{if(Ca.web)return Ca.web.getRandomValues(new Uint8Array(t));if(Ca.node){let{randomBytes:e}=Ca.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>yr.utils.hashToPrivateKey(yr.utils.randomBytes(am+8)),precompute(t=8,e=yn.BASE){let r=e===yn.BASE?e:new yn(e.x,e.y);return r._setWindowSize(t),r.multiply(t2),r},sha256:async(...t)=>{if(Ca.web){let e=await Ca.web.subtle.digest("SHA-256",Sh(...t));return new Uint8Array(e)}else if(Ca.node){let{createHash:e}=Ca.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Ca.web){let r=await Ca.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Sh(...e),i=await Ca.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Ca.node){let{createHmac:r}=Ca.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=p8[t];if(r===void 0){let n=await yr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Sh(n,n),p8[t]=r}return yr.utils.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof c1!="function")throw new n2("sha256Sync is undefined, you need to set it");let r=p8[t];if(r===void 0){let n=c1(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Sh(n,n),p8[t]=r}return c1(r,...e)},_JacobianPoint:Cs};Object.defineProperties(yr.utils,{sha256Sync:{configurable:!1,get(){return c1},set(t){c1||(c1=t)}},hmacSha256Sync:{configurable:!1,get(){return r2},set(t){r2||(r2=t)}}})});var q8=F(nt=>{"use strict";h();p();Object.defineProperty(nt,"__esModule",{value:!0});var Nt=kx(),YBe=WW(),ZBe=Nte(),QBe=Xy(),XBe=au(),oN=b4(),JC=qte(),Tne=Nw(),sN=AC(),C=$te(),JBe=gre(),eCe=Rre(),tCe=Cre(),fne=Hre(),rCe=Vre(),nCe=XC();function y2(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function AN(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Mh=AN(ZBe),une=y2(QBe),Io=y2(XBe),J=AN(Tne),iCe=y2(JBe),oCe=y2(eCe),sCe=y2(tCe),D8=AN(nCe);Mh.utils.sha512Sync=(...t)=>YBe.sha512(Mh.utils.concatBytes(...t));var aCe=Mh.utils.randomPrivateKey,lne=()=>{let t=Mh.utils.randomPrivateKey(),e=T8(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},T8=Mh.sync.getPublicKey;function dne(t){try{return Mh.Point.fromHex(t,!0),!0}catch{return!1}}var TN=(t,e)=>Mh.sync.sign(t,e.slice(0,32)),cCe=Mh.sync.verify,tr=t=>Nt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Nt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Nt.Buffer.from(t),a2=class{constructor(e){Object.assign(this,e)}encode(){return Nt.Buffer.from(JC.serialize(s2,this))}static decode(e){return JC.deserialize(s2,this,e)}static decodeUnchecked(e){return JC.deserializeUnchecked(s2,this,e)}},aN=class extends a2{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},s2=new Map,Ine,Mne=32,Mu=32;function fCe(t){return t._bn!==void 0}var hne=1;Ine=Symbol.toStringTag;var at=class t extends a2{constructor(e){if(super({}),this._bn=void 0,fCe(e))this._bn=e._bn;else{if(typeof e=="string"){let r=Io.default.decode(e);if(r.length!=Mu)throw new Error("Invalid public key input");this._bn=new une.default(r)}else this._bn=new une.default(e);if(this._bn.byteLength()>Mu)throw new Error("Invalid public key input")}}static unique(){let e=new t(hne);return hne+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Io.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Nt.Buffer);if(e.length===Mu)return e;let r=Nt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Ine](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Nt.Buffer.concat([e.toBuffer(),Nt.Buffer.from(r),n.toBuffer()]),o=oN.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Nt.Buffer.alloc(0);e.forEach(function(o){if(o.length>Mne)throw new TypeError("Max seed length exceeded");n=Nt.Buffer.concat([n,tr(o)])}),n=Nt.Buffer.concat([n,r.toBuffer(),Nt.Buffer.from("ProgramDerivedAddress")]);let i=oN.sha256(n);if(dne(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Nt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return dne(r.toBytes())}};at.default=new at("11111111111111111111111111111111");s2.set(at,{kind:"struct",fields:[["_bn","u256"]]});var cN=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=tr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=tr(aCe()),this._publicKey=tr(T8(this._secretKey))}get publicKey(){return new at(this._publicKey)}get secretKey(){return Nt.Buffer.concat([this._secretKey,this._publicKey],64)}},uCe=new at("BPFLoader1111111111111111111111111111111111"),Ih=1232,L8=127,c2=64,f2=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(f2.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var u2=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(u2.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Th=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Th.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var lm=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},dr=(t="publicKey")=>J.blob(32,t),lCe=(t="signature")=>J.blob(64,t),um=(t="string")=>{let e=J.struct([J.u32("length"),J.u32("lengthPadding"),J.blob(J.offset(J.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,c)=>{let l={chars:Nt.Buffer.from(o,"utf8")};return n(l,s,c)},i.alloc=o=>J.u32().span+J.u32().span+Nt.Buffer.from(o,"utf8").length,i},dCe=(t="authorized")=>J.struct([dr("staker"),dr("withdrawer")],t),hCe=(t="lockup")=>J.struct([J.ns64("unixTimestamp"),J.ns64("epoch"),dr("custodian")],t),pCe=(t="voteInit")=>J.struct([dr("nodePubkey"),dr("authorizedVoter"),dr("authorizedWithdrawer"),J.u8("commission")],t),mCe=(t="voteAuthorizeWithSeedArgs")=>J.struct([J.u32("voteAuthorizationType"),dr("currentAuthorityDerivedKeyOwnerPubkey"),um("currentAuthorityDerivedKeySeed"),dr("newAuthorized")],t);function kne(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return kne({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function na(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Oa(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Lr(t,e){if(!t)throw new Error(e||"Assertion failed")}var I8=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let c=s.toBase58(),l=n.get(c);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,l)),l},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let c of s.keys){let l=i(c.pubkey);l.isSigner||=c.isSigner,l.isWritable||=c.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Lr(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Lr(r.length>0,"Expected at least one writable signer key");let[l]=r[0];Lr(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...r.map(([l])=>new at(l)),...n.map(([l])=>new at(l)),...i.map(([l])=>new at(l)),...o.map(([l])=>new at(l))];return[s,c]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let c=new at(o),l=e.findIndex(d=>d.equals(c));l>=0&&(Lr(l<256,"Max lookup table index exceeded"),n.push(l),i.push(c),this.keyMetaMap.delete(o))}return[n,i]}},Pne="Reached end of buffer unexpectedly";function Tu(t){if(t.length===0)throw new Error(Pne);return t.shift()}function ia(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Pne);return t.splice(...e)}var ku=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new at(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Io.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new lm(this.staticAccountKeys)}static compile(e){let r=I8.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new lm(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Io.default.encode(c.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Oa(r,e);let n=this.instructions.map(b=>{let{accounts:_,programIdIndex:T}=b,M=Array.from(Io.default.decode(b.data)),k=[];Oa(k,_.length);let B=[];return Oa(B,M.length),{programIdIndex:T,keyIndicesCount:Nt.Buffer.from(k),keyIndices:_,dataLength:Nt.Buffer.from(B),data:M}}),i=[];Oa(i,n.length);let o=Nt.Buffer.alloc(Ih);Nt.Buffer.from(i).copy(o);let s=i.length;n.forEach(b=>{let T=J.struct([J.u8("programIdIndex"),J.blob(b.keyIndicesCount.length,"keyIndicesCount"),J.seq(J.u8("keyIndex"),b.keyIndices.length,"keyIndices"),J.blob(b.dataLength.length,"dataLength"),J.seq(J.u8("userdatum"),b.data.length,"data")]).encode(b,o,s);s+=T}),o=o.slice(0,s);let c=J.struct([J.blob(1,"numRequiredSignatures"),J.blob(1,"numReadonlySignedAccounts"),J.blob(1,"numReadonlyUnsignedAccounts"),J.blob(r.length,"keyCount"),J.seq(dr("key"),e,"keys"),dr("recentBlockhash")]),l={numRequiredSignatures:Nt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Nt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Nt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Nt.Buffer.from(r),keys:this.accountKeys.map(b=>tr(b.toBytes())),recentBlockhash:Io.default.decode(this.recentBlockhash)},d=Nt.Buffer.alloc(2048),g=c.encode(l,d);return o.copy(d,g),d.slice(0,g+o.length)}static from(e){let r=[...e],n=Tu(r);if(n!==(n&L8))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=Tu(r),o=Tu(r),s=na(r),c=[];for(let _=0;_<s;_++){let T=ia(r,0,Mu);c.push(new at(Nt.Buffer.from(T)))}let l=ia(r,0,Mu),d=na(r),g=[];for(let _=0;_<d;_++){let T=Tu(r),M=na(r),k=ia(r,0,M),B=na(r),P=ia(r,0,B),D=Io.default.encode(Nt.Buffer.from(P));g.push({programIdIndex:T,accounts:k,data:D})}let b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Io.default.encode(Nt.Buffer.from(l)),accountKeys:c,instructions:g};return new t(b)}},p1=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new lm(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,c)=>s+c.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=I8.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let g of o){let b=r.extractTableLookup(g);if(b!==void 0){let[_,{writable:T,readonly:M}]=b;n.push(_),i.writable.push(...T),i.readonly.push(...M)}}let[s,c]=r.getMessageComponents(),d=new lm(c,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Oa(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Oa(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Oa(o,this.addressTableLookups.length);let s=J.struct([J.u8("prefix"),J.struct([J.u8("numRequiredSignatures"),J.u8("numReadonlySignedAccounts"),J.u8("numReadonlyUnsignedAccounts")],"header"),J.blob(e.length,"staticAccountKeysLength"),J.seq(dr(),this.staticAccountKeys.length,"staticAccountKeys"),dr("recentBlockhash"),J.blob(n.length,"instructionsLength"),J.blob(r.length,"serializedInstructions"),J.blob(o.length,"addressTableLookupsLength"),J.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(Ih),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:Io.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},c);return c.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(Ih);for(let n of this.compiledInstructions){let i=Array();Oa(i,n.accountKeyIndexes.length);let o=Array();Oa(o,n.data.length);let s=J.struct([J.u8("programIdIndex"),J.blob(i.length,"encodedAccountKeyIndexesLength"),J.seq(J.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),J.blob(o.length,"encodedDataLength"),J.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(Ih);for(let n of this.addressTableLookups){let i=Array();Oa(i,n.writableIndexes.length);let o=Array();Oa(o,n.readonlyIndexes.length);let s=J.struct([dr("accountKey"),J.blob(i.length,"encodedWritableIndexesLength"),J.seq(J.u8(),n.writableIndexes.length,"writableIndexes"),J.blob(o.length,"encodedReadonlyIndexesLength"),J.seq(J.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=Tu(r),i=n&L8;Lr(n!==i,"Expected versioned message but received legacy message");let o=i;Lr(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:Tu(r),numReadonlySignedAccounts:Tu(r),numReadonlyUnsignedAccounts:Tu(r)},c=[],l=na(r);for(let M=0;M<l;M++)c.push(new at(ia(r,0,Mu)));let d=Io.default.encode(ia(r,0,Mu)),g=na(r),b=[];for(let M=0;M<g;M++){let k=Tu(r),B=na(r),P=ia(r,0,B),D=na(r),R=new Uint8Array(ia(r,0,D));b.push({programIdIndex:k,accountKeyIndexes:P,data:R})}let _=na(r),T=[];for(let M=0;M<_;M++){let k=new at(ia(r,0,Mu)),B=na(r),P=ia(r,0,B),D=na(r),R=ia(r,0,D);T.push({accountKey:k,writableIndexes:P,readonlyIndexes:R})}return new t({header:s,staticAccountKeys:c,recentBlockhash:d,compiledInstructions:b,addressTableLookups:T})}},IN={deserializeMessageVersion(t){let e=t[0],r=e&L8;return r===e?"legacy":r},deserialize:t=>{let e=IN.deserializeMessageVersion(t);if(e==="legacy")return ku.from(t);if(e===0)return p1.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};nt.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(nt.TransactionStatus||(nt.TransactionStatus={}));var yCe=Nt.Buffer.alloc(c2).fill(0),Qr=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Nt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Zr=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Qr(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<r.length;k++)if(r[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);let i=[],o=[];r.forEach(k=>{k.keys.forEach(P=>{o.push({...P})});let B=k.programId.toString();i.includes(B)||i.push(B)}),i.forEach(k=>{o.push({pubkey:new at(k),isSigner:!1,isWritable:!1})});let s=[];o.forEach(k=>{let B=k.pubkey.toString(),P=s.findIndex(D=>D.pubkey.toString()===B);P>-1?(s[P].isWritable=s[P].isWritable||k.isWritable,s[P].isSigner=s[P].isSigner||k.isSigner):s.push(k)}),s.sort(function(k,B){return k.isSigner!==B.isSigner?k.isSigner?-1:1:k.isWritable!==B.isWritable?k.isWritable?-1:1:k.pubkey.toBase58().localeCompare(B.pubkey.toBase58())});let c=s.findIndex(k=>k.pubkey.equals(n));if(c>-1){let[k]=s.splice(c,1);k.isSigner=!0,k.isWritable=!0,s.unshift(k)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let k of this.signatures){let B=s.findIndex(P=>P.pubkey.equals(k.publicKey));if(B>-1)s[B].isSigner||(s[B].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let l=0,d=0,g=0,b=[],_=[];s.forEach(({pubkey:k,isSigner:B,isWritable:P})=>{B?(b.push(k.toString()),l+=1,P||(d+=1)):(_.push(k.toString()),P||(g+=1))});let T=b.concat(_),M=r.map(k=>{let{data:B,programId:P}=k;return{programIdIndex:T.indexOf(P.toString()),accounts:k.keys.map(D=>T.indexOf(D.pubkey.toString())),data:Io.default.encode(B)}});return M.forEach(k=>{Lr(k.programIdIndex>=0),k.accounts.forEach(B=>Lr(B>=0))}),new ku({header:{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:g},accountKeys:T,recentBlockhash:e,instructions:M})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=TN(n,i.secretKey);this._addSignature(i.publicKey,tr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Lr(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Nt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!cCe(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Oa(n,r.length);let i=n.length+r.length*64+e.length,o=Nt.Buffer.alloc(i);return Lr(r.length<256),Nt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},c)=>{s!==null&&(Lr(s.length===64,"signature has invalid length"),Nt.Buffer.from(s).copy(o,n.length+c*64))}),e.copy(o,n.length+r.length*64),Lr(o.length<=Ih,`Transaction too large: ${o.length} > ${Ih}`),o}get keys(){return Lr(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Lr(this.instructions.length===1),this.instructions[0].programId}get data(){return Lr(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=na(r),i=[];for(let o=0;o<n;o++){let s=ia(r,0,c2);i.push(Io.default.encode(Nt.Buffer.from(s)))}return t.populate(ku.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==Io.default.encode(yCe)?null:Io.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let c=e.accountKeys[s];return{pubkey:c,isSigner:n.signatures.some(l=>l.publicKey.toString()===c.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new Qr({keys:o,programId:e.accountKeys[i.programIdIndex],data:Io.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},fN=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l}=n,d=s-c;Lr(d>0,"Message header is invalid");let g=e.staticAccountKeys.length-s-l;Lr(g>=0,"Message header is invalid");let b=e.getAccountKeys(r),_=b.get(0);if(_===void 0)throw new Error("Failed to decompile message because no account keys were found");let T=[];for(let M of i){let k=[];for(let P of M.accountKeyIndexes){let D=b.get(P);if(D===void 0)throw new Error(`Failed to find key for account key index ${P}`);let R=P<s,L;R?L=P<d:P<b.staticAccountKeys.length?L=P-s<g:L=P-b.staticAccountKeys.length<b.accountKeysFromLookups.writable.length,k.push({pubkey:D,isSigner:P<n.numRequiredSignatures,isWritable:L})}let B=b.get(M.programIdIndex);if(B===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);T.push(new Qr({programId:B,data:tr(M.data),keys:k}))}return new t({payerKey:_,instructions:T,recentBlockhash:o})}compileToLegacyMessage(){return ku.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return p1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},uN=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Lr(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(c2));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Oa(r,this.signatures.length);let n=J.struct([J.blob(r.length,"encodedSignaturesLength"),J.seq(lCe(),this.signatures.length,"signatures"),J.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=na(r);for(let s=0;s<i;s++)n.push(new Uint8Array(ia(r,0,c2)));let o=IN.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));Lr(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=TN(r,i.secretKey)}}addSignature(e,r){Lr(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Lr(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Au=new at("SysvarC1ock11111111111111111111111111111111"),gCe=new at("SysvarEpochSchedu1e111111111111111111111111"),bCe=new at("Sysvar1nstructions1111111111111111111111111"),E8=new at("SysvarRecentB1ockHashes11111111111111111111"),m1=new at("SysvarRent111111111111111111111111111111111"),vCe=new at("SysvarRewards111111111111111111111111111111"),xCe=new at("SysvarS1otHashes111111111111111111111111111"),wCe=new at("SysvarS1otHistory11111111111111111111111111"),_8=new at("SysvarStakeHistory1111111111111111111111111");async function A8(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,l=c.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function fm(t){return new Promise(e=>setTimeout(e,t))}function Cr(t,e){let r=t.layout.span>=0?t.layout.span:kne(t,e),n=Nt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function zr(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var Rne=J.nu64("lamportsPerSignature"),Bne=J.struct([J.u32("version"),J.u32("state"),dr("authorizedPubkey"),dr("nonce"),J.struct([Rne],"feeCalculator")]),lN=Bne.span,M8=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=Bne.decode(tr(e),0);return new t({authorizedPubkey:new at(r.authorizedPubkey),nonce:new at(r.nonce).toString(),feeCalculator:r.feeCalculator})}},SCe=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},ECe=t=>e=>{let r=Tne.blob(t,e),{encode:n,decode:i}=SCe(r),o=r;return o.decode=(s,c)=>{let l=i(s,c);return sN.toBigIntLE(Nt.Buffer.from(l))},o.encode=(s,c,l)=>{let d=sN.toBufferLE(s,t);return n(d,c,l)},o},y1=ECe(8),dN=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=J.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(gn))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=zr(gn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new at(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=zr(gn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=zr(gn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new at(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=zr(gn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=zr(gn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(r),seed:n,space:i,programId:new at(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=zr(gn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new at(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=zr(gn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(r),seed:n,programId:new at(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=zr(gn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new at(r),seed:n,lamports:i,space:o,programId:new at(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=zr(gn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new at(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zr(gn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=zr(gn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=zr(gn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new at(r)}}static checkProgramId(e){if(!e.equals(as.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},gn=Object.freeze({Create:{index:0,layout:J.struct([J.u32("instruction"),J.ns64("lamports"),J.ns64("space"),dr("programId")])},Assign:{index:1,layout:J.struct([J.u32("instruction"),dr("programId")])},Transfer:{index:2,layout:J.struct([J.u32("instruction"),y1("lamports")])},CreateWithSeed:{index:3,layout:J.struct([J.u32("instruction"),dr("base"),um("seed"),J.ns64("lamports"),J.ns64("space"),dr("programId")])},AdvanceNonceAccount:{index:4,layout:J.struct([J.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:J.struct([J.u32("instruction"),J.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:J.struct([J.u32("instruction"),dr("authorized")])},AuthorizeNonceAccount:{index:7,layout:J.struct([J.u32("instruction"),dr("authorized")])},Allocate:{index:8,layout:J.struct([J.u32("instruction"),J.ns64("space")])},AllocateWithSeed:{index:9,layout:J.struct([J.u32("instruction"),dr("base"),um("seed"),J.ns64("space"),dr("programId")])},AssignWithSeed:{index:10,layout:J.struct([J.u32("instruction"),dr("base"),um("seed"),dr("programId")])},TransferWithSeed:{index:11,layout:J.struct([J.u32("instruction"),y1("lamports"),um("seed"),dr("programId")])},UpgradeNonceAccount:{index:12,layout:J.struct([J.u32("instruction")])}}),as=class t{constructor(){}static createAccount(e){let r=gn.Create,n=Cr(r,{lamports:e.lamports,space:e.space,programId:tr(e.programId.toBuffer())});return new Qr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=gn.TransferWithSeed;r=Cr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:tr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=gn.Transfer;r=Cr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Qr({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=gn.AssignWithSeed;r=Cr(i,{base:tr(e.basePubkey.toBuffer()),seed:e.seed,programId:tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=gn.Assign;r=Cr(i,{programId:tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qr({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=gn.CreateWithSeed,n=Cr(r,{base:tr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:tr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Qr({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Zr;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:lN,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:lN,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=gn.InitializeNonceAccount,n=Cr(r,{authorized:tr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:E8,isSigner:!1,isWritable:!1},{pubkey:m1,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Qr(i)}static nonceAdvance(e){let r=gn.AdvanceNonceAccount,n=Cr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:E8,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Qr(i)}static nonceWithdraw(e){let r=gn.WithdrawNonceAccount,n=Cr(r,{lamports:e.lamports});return new Qr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:E8,isSigner:!1,isWritable:!1},{pubkey:m1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=gn.AuthorizeNonceAccount,n=Cr(r,{authorized:tr(e.newAuthorizedPubkey.toBuffer())});return new Qr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=gn.AllocateWithSeed;r=Cr(i,{base:tr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=gn.Allocate;r=Cr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qr({keys:n,programId:this.programId,data:r})}};as.programId=new at("11111111111111111111111111111111");var _Ce=Ih-300,g1=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let b=await e.getMinimumBalanceForRentExemption(o.length),_=await e.getAccountInfo(n.publicKey,"confirmed"),T=null;if(_!==null){if(_.executable)return console.error("Program load failed, account is already executable"),!1;_.data.length!==o.length&&(T=T||new Zr,T.add(as.allocate({accountPubkey:n.publicKey,space:o.length}))),_.owner.equals(i)||(T=T||new Zr,T.add(as.assign({accountPubkey:n.publicKey,programId:i}))),_.lamports<b&&(T=T||new Zr,T.add(as.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:b-_.lamports})))}else T=new Zr().add(as.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:o.length,programId:i}));T!==null&&await A8(e,T,[r,n],{commitment:"confirmed"})}let s=J.struct([J.u32("instruction"),J.u32("offset"),J.u32("bytesLength"),J.u32("bytesLengthPadding"),J.seq(J.u8("byte"),J.offset(J.u32(),-8),"bytes")]),c=t.chunkSize,l=0,d=o,g=[];for(;d.length>0;){let b=d.slice(0,c),_=Nt.Buffer.alloc(c+16);s.encode({instruction:0,offset:l,bytes:b,bytesLength:0,bytesLengthPadding:0},_);let T=new Zr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:_});g.push(A8(e,T,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await fm(1e3/4),l+=c,d=d.slice(c)}await Promise.all(g);{let b=J.struct([J.u32("instruction")]),_=Nt.Buffer.alloc(b.span);b.encode({instruction:1},_);let T=new Zr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:m1,isSigner:!1,isWritable:!1}],programId:i,data:_});await A8(e,T,[r,n],{commitment:"confirmed"})}return!0}};g1.chunkSize=_Ce;var ACe=new at("BPFLoader2111111111111111111111111111111111"),hN=class{static getMinNumSignatures(e){return g1.getMinNumSignatures(e)}static load(e,r,n,i,o){return g1.load(e,r,n,o,i)}},TCe=Object.prototype.toString,ICe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function o2(t,e){var r,n,i,o,s,c,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return o2(t.toJSON(),e);if(l=TCe.call(t),l==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=o2(t[r],!0)+",";return n>-1&&(i+=o2(t[r],!0)),i+"]"}else if(l==="[object Object]"){for(o=ICe(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],c=o2(t[s],!1),c!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+c),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var MCe=function(t){var e=o2(t,!1);if(e!==void 0)return""+e},kCe=MCe,i2=32;function eN(t){let e=0;for(;t>1;)t/=2,e++;return e}function PCe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var k8=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=eN(PCe(e+i2+1))-eN(i2)-1,n=this.getSlotsInEpoch(r),i=e-(n-i2);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*i2:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+eN(i2)):this.slotsPerEpoch}},l2=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},RCe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},_t=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},BCe=globalThis.fetch,pN=class extends oCe.default{constructor(e,r,n){let i=o=>{let s=sCe.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},CCe=160,NCe=64,OCe=CCe/NCe,DCe=1e3/OCe;function LCe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var pne=56,d2=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=LCe(UCe,e),n=e.length-pne;Lr(n>=0,"lookup table is invalid"),Lr(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=J.struct([J.seq(dr(),i,"addresses")]).decode(e.slice(pne));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new at(r.authority[0]):void 0,addresses:o.map(s=>new at(s))}}},UCe={index:1,layout:J.struct([J.u32("typeIndex"),y1("deactivationSlot"),J.nu64("lastExtendedSlot"),J.u8("lastExtendedStartIndex"),J.u8(),J.seq(dr(),J.offset(J.u8(),-1),"authority")])},FCe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function qCe(t){let e=t.match(FCe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),l=c==null?"":`:${c+1}`;return`${s}//${n}${l}${o}`}var ki=C.coerce(C.instance(at),C.string(),t=>new at(t)),Cne=C.tuple([C.string(),C.literal("base64")]),MN=C.coerce(C.instance(Nt.Buffer),Cne,t=>Nt.Buffer.from(t[0],"base64")),Nne=30*1e3;function HCe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Vn(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function One(t){return C.union([C.type({jsonrpc:C.literal("2.0"),id:C.string(),result:t}),C.type({jsonrpc:C.literal("2.0"),id:C.string(),error:C.type({code:C.unknown(),message:C.string(),data:C.optional(C.any())})})])}var KCe=One(C.unknown());function or(t){return C.coerce(One(t),KCe,e=>"error"in e?e:{...e,result:C.create(e.result,t)})}function Mi(t){return or(C.type({context:C.type({slot:C.number()}),value:t}))}function U8(t){return C.type({context:C.type({slot:C.number()}),value:t})}function tN(t,e){return t===0?new p1({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new at(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Io.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new ku(e)}var VCe=C.type({foundation:C.number(),foundationTerm:C.number(),initial:C.number(),taper:C.number(),terminal:C.number()}),jCe=or(C.array(C.nullable(C.type({epoch:C.number(),effectiveSlot:C.number(),amount:C.number(),postBalance:C.number(),commission:C.optional(C.nullable(C.number()))})))),zCe=C.type({total:C.number(),validator:C.number(),foundation:C.number(),epoch:C.number()}),GCe=C.type({epoch:C.number(),slotIndex:C.number(),slotsInEpoch:C.number(),absoluteSlot:C.number(),blockHeight:C.optional(C.number()),transactionCount:C.optional(C.number())}),WCe=C.type({slotsPerEpoch:C.number(),leaderScheduleSlotOffset:C.number(),warmup:C.boolean(),firstNormalEpoch:C.number(),firstNormalSlot:C.number()}),$Ce=C.record(C.string(),C.array(C.number())),hm=C.nullable(C.union([C.type({}),C.string()])),YCe=C.type({err:hm}),ZCe=C.literal("receivedSignature"),QCe=C.type({"solana-core":C.string(),"feature-set":C.optional(C.number())}),mne=Mi(C.type({err:C.nullable(C.union([C.type({}),C.string()])),logs:C.nullable(C.array(C.string())),accounts:C.optional(C.nullable(C.array(C.nullable(C.type({executable:C.boolean(),owner:C.string(),lamports:C.number(),data:C.array(C.string()),rentEpoch:C.optional(C.number())}))))),unitsConsumed:C.optional(C.number()),returnData:C.optional(C.nullable(C.type({programId:C.string(),data:C.tuple([C.string(),C.literal("base64")])})))})),XCe=Mi(C.type({byIdentity:C.record(C.string(),C.array(C.number())),range:C.type({firstSlot:C.number(),lastSlot:C.number()})}));function JCe(t,e,r,n,i,o){let s=r||BCe,c;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=async(g,b)=>{let _=await new Promise((T,M)=>{try{n(g,b,(k,B)=>T([k,B]))}catch(k){M(k)}});return await s(..._)}),new iCe.default(async(g,b)=>{let _={method:"POST",body:g,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},XNe)};try{let T=5,M,k=500;for(;l?M=await l(t,_):M=await s(t,_),!(M.status!==429||i===!0||(T-=1,T===0));)console.log(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${k}ms delay...`),await fm(k),k*=2;let B=await M.text();M.ok?b(null,B):b(new Error(`${M.status} ${M.statusText}: ${B}`))}catch(T){T instanceof Error&&b(T)}},{})}function eNe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function tNe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var rNe=or(VCe),nNe=or(zCe),iNe=or(GCe),oNe=or(WCe),sNe=or($Ce),aNe=or(C.number()),cNe=Mi(C.type({total:C.number(),circulating:C.number(),nonCirculating:C.number(),nonCirculatingAccounts:C.array(ki)})),mN=C.type({amount:C.string(),uiAmount:C.nullable(C.number()),decimals:C.number(),uiAmountString:C.optional(C.string())}),fNe=Mi(C.array(C.type({address:ki,amount:C.string(),uiAmount:C.nullable(C.number()),decimals:C.number(),uiAmountString:C.optional(C.string())}))),uNe=Mi(C.array(C.type({pubkey:ki,account:C.type({executable:C.boolean(),owner:ki,lamports:C.number(),data:MN,rentEpoch:C.number()})}))),yN=C.type({program:C.string(),parsed:C.unknown(),space:C.number()}),lNe=Mi(C.array(C.type({pubkey:ki,account:C.type({executable:C.boolean(),owner:ki,lamports:C.number(),data:yN,rentEpoch:C.number()})}))),dNe=Mi(C.array(C.type({lamports:C.number(),address:ki}))),h2=C.type({executable:C.boolean(),owner:ki,lamports:C.number(),data:MN,rentEpoch:C.number()}),hNe=C.type({pubkey:ki,account:h2}),pNe=C.coerce(C.union([C.instance(Nt.Buffer),yN]),C.union([Cne,yN]),t=>Array.isArray(t)?C.create(t,MN):t),gN=C.type({executable:C.boolean(),owner:ki,lamports:C.number(),data:pNe,rentEpoch:C.number()}),mNe=C.type({pubkey:ki,account:gN}),yNe=C.type({state:C.union([C.literal("active"),C.literal("inactive"),C.literal("activating"),C.literal("deactivating")]),active:C.number(),inactive:C.number()}),gNe=or(C.array(C.type({signature:C.string(),slot:C.number(),err:hm,memo:C.nullable(C.string()),blockTime:C.optional(C.nullable(C.number()))}))),bNe=or(C.array(C.type({signature:C.string(),slot:C.number(),err:hm,memo:C.nullable(C.string()),blockTime:C.optional(C.nullable(C.number()))}))),vNe=C.type({subscription:C.number(),result:U8(h2)}),xNe=C.type({pubkey:ki,account:h2}),wNe=C.type({subscription:C.number(),result:U8(xNe)}),SNe=C.type({parent:C.number(),slot:C.number(),root:C.number()}),ENe=C.type({subscription:C.number(),result:SNe}),_Ne=C.union([C.type({type:C.union([C.literal("firstShredReceived"),C.literal("completed"),C.literal("optimisticConfirmation"),C.literal("root")]),slot:C.number(),timestamp:C.number()}),C.type({type:C.literal("createdBank"),parent:C.number(),slot:C.number(),timestamp:C.number()}),C.type({type:C.literal("frozen"),slot:C.number(),timestamp:C.number(),stats:C.type({numTransactionEntries:C.number(),numSuccessfulTransactions:C.number(),numFailedTransactions:C.number(),maxTransactionsPerEntry:C.number()})}),C.type({type:C.literal("dead"),slot:C.number(),timestamp:C.number(),err:C.string()})]),ANe=C.type({subscription:C.number(),result:_Ne}),TNe=C.type({subscription:C.number(),result:U8(C.union([YCe,ZCe]))}),INe=C.type({subscription:C.number(),result:C.number()}),MNe=C.type({pubkey:C.string(),gossip:C.nullable(C.string()),tpu:C.nullable(C.string()),rpc:C.nullable(C.string()),version:C.nullable(C.string())}),yne=C.type({votePubkey:C.string(),nodePubkey:C.string(),activatedStake:C.number(),epochVoteAccount:C.boolean(),epochCredits:C.array(C.tuple([C.number(),C.number(),C.number()])),commission:C.number(),lastVote:C.number(),rootSlot:C.nullable(C.number())}),kNe=or(C.type({current:C.array(yne),delinquent:C.array(yne)})),PNe=C.union([C.literal("processed"),C.literal("confirmed"),C.literal("finalized")]),RNe=C.type({slot:C.number(),confirmations:C.nullable(C.number()),err:hm,confirmationStatus:C.optional(PNe)}),BNe=Mi(C.array(C.nullable(RNe))),CNe=or(C.number()),Dne=C.type({accountKey:ki,writableIndexes:C.array(C.number()),readonlyIndexes:C.array(C.number())}),kN=C.type({signatures:C.array(C.string()),message:C.type({accountKeys:C.array(C.string()),header:C.type({numRequiredSignatures:C.number(),numReadonlySignedAccounts:C.number(),numReadonlyUnsignedAccounts:C.number()}),instructions:C.array(C.type({accounts:C.array(C.number()),data:C.string(),programIdIndex:C.number()})),recentBlockhash:C.string(),addressTableLookups:C.optional(C.array(Dne))})}),Lne=C.type({pubkey:ki,signer:C.boolean(),writable:C.boolean(),source:C.optional(C.union([C.literal("transaction"),C.literal("lookupTable")]))}),Une=C.type({accountKeys:C.array(Lne),signatures:C.array(C.string())}),Fne=C.type({parsed:C.unknown(),program:C.string(),programId:ki}),qne=C.type({accounts:C.array(ki),data:C.string(),programId:ki}),NNe=C.union([qne,Fne]),ONe=C.union([C.type({parsed:C.unknown(),program:C.string(),programId:C.string()}),C.type({accounts:C.array(C.string()),data:C.string(),programId:C.string()})]),Hne=C.coerce(NNe,ONe,t=>"accounts"in t?C.create(t,qne):C.create(t,Fne)),Kne=C.type({signatures:C.array(C.string()),message:C.type({accountKeys:C.array(Lne),instructions:C.array(Hne),recentBlockhash:C.string(),addressTableLookups:C.optional(C.nullable(C.array(Dne)))})}),P8=C.type({accountIndex:C.number(),mint:C.string(),owner:C.optional(C.string()),uiTokenAmount:mN}),Vne=C.type({writable:C.array(ki),readonly:C.array(ki)}),F8=C.type({err:hm,fee:C.number(),innerInstructions:C.optional(C.nullable(C.array(C.type({index:C.number(),instructions:C.array(C.type({accounts:C.array(C.number()),data:C.string(),programIdIndex:C.number()}))})))),preBalances:C.array(C.number()),postBalances:C.array(C.number()),logMessages:C.optional(C.nullable(C.array(C.string()))),preTokenBalances:C.optional(C.nullable(C.array(P8))),postTokenBalances:C.optional(C.nullable(C.array(P8))),loadedAddresses:C.optional(Vne),computeUnitsConsumed:C.optional(C.number())}),PN=C.type({err:hm,fee:C.number(),innerInstructions:C.optional(C.nullable(C.array(C.type({index:C.number(),instructions:C.array(Hne)})))),preBalances:C.array(C.number()),postBalances:C.array(C.number()),logMessages:C.optional(C.nullable(C.array(C.string()))),preTokenBalances:C.optional(C.nullable(C.array(P8))),postTokenBalances:C.optional(C.nullable(C.array(P8))),loadedAddresses:C.optional(Vne),computeUnitsConsumed:C.optional(C.number())}),x1=C.union([C.literal(0),C.literal("legacy")]),pm=C.type({pubkey:C.string(),lamports:C.number(),postBalance:C.nullable(C.number()),rewardType:C.nullable(C.string()),commission:C.optional(C.nullable(C.number()))}),DNe=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),transactions:C.array(C.type({transaction:kN,meta:C.nullable(F8),version:C.optional(x1)})),rewards:C.optional(C.array(pm)),blockTime:C.nullable(C.number()),blockHeight:C.nullable(C.number())}))),LNe=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),rewards:C.optional(C.array(pm)),blockTime:C.nullable(C.number()),blockHeight:C.nullable(C.number())}))),UNe=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),transactions:C.array(C.type({transaction:Une,meta:C.nullable(F8),version:C.optional(x1)})),rewards:C.optional(C.array(pm)),blockTime:C.nullable(C.number()),blockHeight:C.nullable(C.number())}))),FNe=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),transactions:C.array(C.type({transaction:Kne,meta:C.nullable(PN),version:C.optional(x1)})),rewards:C.optional(C.array(pm)),blockTime:C.nullable(C.number()),blockHeight:C.nullable(C.number())}))),qNe=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),transactions:C.array(C.type({transaction:Une,meta:C.nullable(PN),version:C.optional(x1)})),rewards:C.optional(C.array(pm)),blockTime:C.nullable(C.number()),blockHeight:C.nullable(C.number())}))),HNe=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),rewards:C.optional(C.array(pm)),blockTime:C.nullable(C.number()),blockHeight:C.nullable(C.number())}))),KNe=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),transactions:C.array(C.type({transaction:kN,meta:C.nullable(F8)})),rewards:C.optional(C.array(pm)),blockTime:C.nullable(C.number())}))),gne=or(C.nullable(C.type({blockhash:C.string(),previousBlockhash:C.string(),parentSlot:C.number(),signatures:C.array(C.string()),blockTime:C.nullable(C.number())}))),rN=or(C.nullable(C.type({slot:C.number(),meta:F8,blockTime:C.optional(C.nullable(C.number())),transaction:kN,version:C.optional(x1)}))),S8=or(C.nullable(C.type({slot:C.number(),transaction:Kne,meta:C.nullable(PN),blockTime:C.optional(C.nullable(C.number())),version:C.optional(x1)}))),VNe=Mi(C.type({blockhash:C.string(),feeCalculator:C.type({lamportsPerSignature:C.number()})})),jNe=Mi(C.type({blockhash:C.string(),lastValidBlockHeight:C.number()})),zNe=C.type({slot:C.number(),numTransactions:C.number(),numSlots:C.number(),samplePeriodSecs:C.number()}),GNe=or(C.array(zNe)),WNe=Mi(C.nullable(C.type({feeCalculator:C.type({lamportsPerSignature:C.number()})}))),$Ne=or(C.string()),YNe=or(C.string()),ZNe=C.type({err:hm,logs:C.array(C.string()),signature:C.string()}),QNe=C.type({result:U8(ZNe),subscription:C.number()}),XNe={"solana-client":"js/1.73.5"},bN=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,i,o,s,c,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,c=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=HCe(e),this._rpcWsEndpoint=n||qCe(e),this._rpcClient=JCe(e,i,o,s,c,l),this._rpcRequest=eNe(this._rpcClient),this._rpcBatchRequest=tNe(this._rpcClient),this._rpcWebSocket=new pN(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),c=C.create(s,Mi(C.number()));if("error"in c)throw new _t(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=C.create(r,or(C.nullable(C.number())));if("error"in n)throw new _t(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=C.create(e,or(C.number()));if("error"in r)throw new _t(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=C.create(e,aNe);if("error"in r)throw new _t(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=C.create(n,cNe);if("error"in i)throw new _t(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=C.create(i,Mi(mN));if("error"in o)throw new _t(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=C.create(i,Mi(mN));if("error"in o)throw new _t(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=Vn(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let c=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",c),d=C.create(l,uNe);if("error"in d)throw new _t(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),c=C.create(s,lNe);if("error"in c)throw new _t(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=C.create(i,dNe);if("error"in o)throw new _t(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=C.create(i,fNe);if("error"in o)throw new _t(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),c=C.create(s,Mi(C.nullable(h2)));if("error"in c)throw new _t(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),c=C.create(s,Mi(C.nullable(gN)));if("error"in c)throw new _t(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=Vn(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",s),l=C.create(c,Mi(C.array(C.nullable(gN))));if("error"in l)throw new _t(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=Vn(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),c=await this._rpcRequest("getMultipleAccounts",s),l=C.create(c,Mi(C.array(C.nullable(h2))));if("error"in l)throw new _t(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=Vn(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),c=await this._rpcRequest("getStakeActivation",s),l=C.create(c,or(yNe));if("error"in l)throw new _t(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=Vn(r),{encoding:o,...s}=i||{},c=this._buildArgs([e.toBase58()],n,o||"base64",s),l=await this._rpcRequest("getProgramAccounts",c),d=C.create(l,or(C.array(hNe)));if("error"in d)throw new _t(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),c=C.create(s,or(C.array(mNe)));if("error"in c)throw new _t(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Io.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Lr(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((l,d)=>{try{n=this.onSignature(r,(b,_)=>{n=void 0;let T={context:_,value:b};l({__type:nt.TransactionStatus.PROCESSED,response:T})},e);let g=new Promise(b=>{n==null?b():i=this._onSubscriptionStateChange(n,_=>{_==="subscribed"&&b()})});(async()=>{if(await g,o)return;let b=await this.getSignatureStatus(r);if(o||b==null)return;let{context:_,value:T}=b;if(T!=null)if(T?.err)d(T.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:nt.TransactionStatus.PROCESSED,response:{context:_,value:T}})}})()}catch(g){d(g)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(b=>{let _=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let T=await _();if(!o){for(;T<=n;)if(await fm(1e3),o||(T=await _(),o))return;b({__type:nt.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),g;try{let b=await Promise.race([d,l,s]);if(b.__type===nt.TransactionStatus.PROCESSED)g=b.response;else throw new f2(i)}finally{o=!0,c()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let c=!1,l=new Promise(T=>{let M=o,k=null,B=async()=>{try{let{context:P,value:D}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return k=P.slot,D?.nonce}catch{return M}};(async()=>{if(M=await B(),!c)for(;;){if(o!==M){T({__type:nt.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await fm(2e3),c||(M=await B(),c))return}})()}),{abortConfirmation:d,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),b=this.getCancellationPromise(r),_;try{let T=await Promise.race([b,g,l]);if(T.__type===nt.TransactionStatus.PROCESSED)_=T.response;else{let M;for(;;){let k=await this.getSignatureStatus(s);if(k==null)break;if(k.context.slot<(T.slotInWhichNonceDidAdvance??n)){await fm(400);continue}M=k;break}if(M?.value){let k=e||"finalized",{confirmationStatus:B}=M.value;switch(k){case"processed":case"recent":if(B!=="processed"&&B!=="confirmed"&&B!=="finalized")throw new Th(s);break;case"confirmed":case"single":case"singleGossip":if(B!=="confirmed"&&B!=="finalized")throw new Th(s);break;case"finalized":case"max":case"root":if(B!=="finalized")throw new Th(s);break;default:}_={context:M.context,value:{err:M.value.err}}}else throw new Th(s)}}finally{c=!0,d()}return _}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:nt.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c;try{let l=await Promise.race([s,i]);if(l.__type===nt.TransactionStatus.PROCESSED)c=l.response;else throw new u2(r,l.timeoutMs/1e3)}finally{clearTimeout(n),o()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=C.create(e,or(C.array(MNe)));if("error"in r)throw new _t(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=C.create(n,kNe);if("error"in i)throw new _t(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=Vn(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=C.create(o,or(C.number()));if("error"in s)throw new _t(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=Vn(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=C.create(o,or(C.string()));if("error"in s)throw new _t(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=C.create(i,or(C.array(ki)));if("error"in o)throw new _t(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);Lr(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=C.create(i,BNe);if("error"in o)throw new _t(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=Vn(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=C.create(o,or(C.number()));if("error"in s)throw new _t(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=C.create(n,rNe);if("error"in i)throw new _t(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=Vn(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),c=await this._rpcRequest("getInflationReward",s),l=C.create(c,jCe);if("error"in l)throw new _t(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=C.create(e,nNe);if("error"in r)throw new _t(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=Vn(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=C.create(o,iNe);if("error"in s)throw new _t(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=C.create(e,oNe);if("error"in r)throw new _t(r.error,"failed to get epoch schedule");let n=r.result;return new k8(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=C.create(e,sNe);if("error"in r)throw new _t(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=C.create(i,CNe);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=C.create(n,VNe);if("error"in i)throw new _t(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=C.create(r,GNe);if("error"in n)throw new _t(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=C.create(i,WNe);if("error"in o)throw new _t(o.error,"failed to get fee calculator");let{context:s,value:c}=o.result;return{context:s,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){let n=tr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=C.create(o,Mi(C.nullable(C.number())));if("error"in s)throw new _t(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=Vn(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=C.create(o,jNe);if("error"in s)throw new _t(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=C.create(e,or(QCe));if("error"in r)throw new _t(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=C.create(e,or(C.string()));if("error"in r)throw new _t(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let c=C.create(s,UNe);if("error"in c)throw c.error;return c.result}case"none":{let c=C.create(s,LNe);if("error"in c)throw c.error;return c.result}default:{let c=C.create(s,DNe);if("error"in c)throw c.error;let{result:l}=c;return l?{...l,transactions:l.transactions.map(({transaction:d,meta:g,version:b})=>({meta:g,transaction:{...d,message:tN(b,d.message)},version:b}))}:null}}}catch(c){throw new _t(c,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let c=C.create(s,qNe);if("error"in c)throw c.error;return c.result}case"none":{let c=C.create(s,HNe);if("error"in c)throw c.error;return c.result}default:{let c=C.create(s,FNe);if("error"in c)throw c.error;return c.result}}}catch(c){throw new _t(c,"failed to get block")}}async getBlockHeight(e){let{commitment:r,config:n}=Vn(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getBlockHeight",i),s=C.create(o,or(C.number()));if("error"in s)throw new _t(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:c,...l}=e;n=c,r=l}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=C.create(o,XCe);if("error"in s)throw new _t(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),c=C.create(s,rN);if("error"in c)throw new _t(c.error,"failed to get transaction");let l=c.result;return l&&{...l,transaction:{...l.transaction,message:tN(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=Vn(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),c=C.create(s,S8);if("error"in c)throw new _t(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=Vn(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{let d=C.create(l,S8);if("error"in d)throw new _t(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=Vn(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{let d=C.create(l,rN);if("error"in d)throw new _t(d.error,"failed to get transactions");let g=d.result;return g&&{...g,transaction:{...g.transaction,message:tN(g.version,g.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=C.create(i,KNe);if("error"in o)throw new _t(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let c={...s,transactions:s.transactions.map(({transaction:l,meta:d})=>{let g=new ku(l.message);return{meta:d,transaction:{...l,message:g}}})};return{...c,transactions:c.transactions.map(({transaction:l,meta:d})=>({meta:d,transaction:Zr.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=C.create(o,or(C.array(C.number())));if("error"in s)throw new _t(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=C.create(i,gne);if("error"in o)throw new _t(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=C.create(i,gne);if("error"in o)throw new _t(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=C.create(i,rN);if("error"in o)throw new _t(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let c=new ku(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Zr.populate(c,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=C.create(i,S8);if("error"in o)throw new _t(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let c=C.create(s,S8);if("error"in c)throw new _t(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=C.create(o,gNe);if("error"in s)throw new _t(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=C.create(o,bNe);if("error"in s)throw new _t(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new d2({key:e,state:d2.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=M8.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=C.create(n,$Ne);if("error"in i)throw new _t(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await fm(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Nne;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await fm(DCe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=Vn(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=C.create(o,Mi(C.number()));if("error"in s)throw new _t(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let k=e.serialize(),B=Nt.Buffer.from(k).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let P=r||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment);let D=[B,P],R=await this._rpcRequest("simulateTransaction",D),L=C.create(R,mne);if("error"in L)throw new Error("failed to simulate transaction: "+L.error.message);return L.result}let i;if(e instanceof Zr){let M=e;i=new Zr,i.feePayer=M.feePayer,i.instructions=e.instructions,i.nonceInfo=M.nonceInfo,i.signatures=M.signatures}else i=Zr.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){let k=await this._blockhashWithExpiryBlockHeight(M);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let B=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(B)&&!this._blockhashInfo.transactionSignatures.includes(B)){this._blockhashInfo.simulatedSignatures.push(B);break}else M=!0}}let s=i._compile(),c=s.serialize(),d=i._serialize(c).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(n){let M=(Array.isArray(n)?n:s.nonProgramIds()).map(k=>k.toBase58());g.accounts={encoding:"base64",addresses:M}}o&&(g.sigVerify=!0);let b=[d,g],_=await this._rpcRequest("simulateTransaction",b),T=C.create(_,mne);if("error"in T){let M;if("data"in T.error&&(M=T.error.data.logs,M&&Array.isArray(M))){let k=`
    `,B=k+M.join(k);console.error(T.error.message,B)}throw new l2("failed to simulate transaction: "+T.error.message,M)}return T.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=tr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],c=await this._rpcRequest("sendTransaction",s),l=C.create(c,YNe);if("error"in l){let d;throw"data"in l.error&&(d=l.error.data.logs),new l2("failed to send transaction: "+l.error.message,d)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let c=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${s} error for argument`,o,c.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(c){if(c instanceof Error&&console.error(`${s} error:`,c.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=C.create(e,vNe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=kCe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];Lr(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=C.create(e,wNe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=C.create(e,QNe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=C.create(e,ENe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=C.create(e,ANe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=C.create(e,TNe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,c)=>{if(s.type==="status"){r(s.result,c);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),c=this._makeSubscription({callback:(l,d)=>{r(l,d);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=C.create(e,INe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},R8=class t{constructor(e){this._keypair=void 0,this._keypair=e??lne()}static generate(){return new t(lne())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=T8(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=T8(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new at(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Hl=Object.freeze({CreateLookupTable:{index:0,layout:J.struct([J.u32("instruction"),y1("recentSlot"),J.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:J.struct([J.u32("instruction")])},ExtendLookupTable:{index:2,layout:J.struct([J.u32("instruction"),y1(),J.seq(dr(),J.offset(J.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:J.struct([J.u32("instruction")])},CloseLookupTable:{index:4,layout:J.struct([J.u32("instruction")])}}),vN=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=J.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Hl))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=zr(Hl.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=zr(Hl.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new at(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(p2.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},p2=class{constructor(){}static createLookupTable(e){let[r,n]=at.findProgramAddressSync([e.authority.toBuffer(),sN.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=Hl.CreateLookupTable,o=Cr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}];return[new Qr({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=Hl.FreezeLookupTable,n=Cr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qr({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=Hl.ExtendLookupTable,n=Cr(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}),new Qr({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=Hl.DeactivateLookupTable,n=Cr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qr({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=Hl.CloseLookupTable,n=Cr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Qr({programId:this.programId,keys:i,data:n})}};p2.programId=new at("AddressLookupTab1e1111111111111111111111111");var xN=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=J.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Iu))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=zr(Iu.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=zr(Iu.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=zr(Iu.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=zr(Iu.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(m2.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Iu=Object.freeze({RequestUnits:{index:0,layout:J.struct([J.u8("instruction"),J.u32("units"),J.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:J.struct([J.u8("instruction"),J.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:J.struct([J.u8("instruction"),J.u32("units")])},SetComputeUnitPrice:{index:3,layout:J.struct([J.u8("instruction"),y1("microLamports")])}}),m2=class{constructor(){}static requestUnits(e){let r=Iu.RequestUnits,n=Cr(r,e);return new Qr({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Iu.RequestHeapFrame,n=Cr(r,e);return new Qr({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Iu.SetComputeUnitLimit,n=Cr(r,e);return new Qr({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Iu.SetComputeUnitPrice,n=Cr(r,{microLamports:BigInt(e.microLamports)});return new Qr({keys:[],programId:this.programId,data:n})}};m2.programId=new at("ComputeBudget111111111111111111111111111111");var bne=64,vne=32,xne=64,wne=J.struct([J.u8("numSignatures"),J.u8("padding"),J.u16("signatureOffset"),J.u16("signatureInstructionIndex"),J.u16("publicKeyOffset"),J.u16("publicKeyInstructionIndex"),J.u16("messageDataOffset"),J.u16("messageDataSize"),J.u16("messageInstructionIndex")]),B8=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;Lr(r.length===vne,`Public Key must be ${vne} bytes but received ${r.length} bytes`),Lr(i.length===xne,`Signature must be ${xne} bytes but received ${i.length} bytes`);let s=wne.span,c=s+r.length,l=c+i.length,d=1,g=Nt.Buffer.alloc(l+n.length),b=o??65535;return wne.encode({numSignatures:d,padding:0,signatureOffset:c,signatureInstructionIndex:b,publicKeyOffset:s,publicKeyInstructionIndex:b,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:b},g),g.fill(r,s),g.fill(i,c),g.fill(n,l),new Qr({keys:[],programId:t.programId,data:g})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Lr(r.length===bne,`Private key must be ${bne} bytes but received ${r.length} bytes`);try{let o=R8.fromSecretKey(r),s=o.publicKey.toBytes(),c=TN(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};B8.programId=new at("Ed25519SigVerify111111111111111111111111111");D8.utils.hmacSha256Sync=(t,...e)=>{let r=rCe.hmac.create(oN.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var JNe=(t,e)=>D8.signSync(t,e,{der:!1,recovered:!0});D8.utils.isValidPrivateKey;var eOe=D8.getPublicKey,Sne=32,nN=20,Ene=64,tOe=11,iN=J.struct([J.u8("numSignatures"),J.u16("signatureOffset"),J.u8("signatureInstructionIndex"),J.u16("ethAddressOffset"),J.u8("ethAddressInstructionIndex"),J.u16("messageDataOffset"),J.u16("messageDataSize"),J.u8("messageInstructionIndex"),J.blob(20,"ethAddress"),J.blob(64,"signature"),J.u8("recoveryId")]),C8=class t{constructor(){}static publicKeyToEthAddress(e){Lr(e.length===Ene,`Public key must be ${Ene} bytes but received ${e.length} bytes`);try{return Nt.Buffer.from(fne.keccak_256(tr(e))).slice(-nN)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,c;typeof r=="string"?r.startsWith("0x")?c=Nt.Buffer.from(r.substr(2),"hex"):c=Nt.Buffer.from(r,"hex"):c=r,Lr(c.length===nN,`Address must be ${nN} bytes but received ${c.length} bytes`);let l=1+tOe,d=l,g=l+c.length,b=g+i.length+1,_=1,T=Nt.Buffer.alloc(iN.span+n.length);return iN.encode({numSignatures:_,signatureOffset:g,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:s,signature:tr(i),ethAddress:tr(c),recoveryId:o},T),T.fill(tr(n),iN.span),new Qr({keys:[],programId:t.programId,data:T})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Lr(r.length===Sne,`Private key must be ${Sne} bytes but received ${r.length} bytes`);try{let o=tr(r),s=eOe(o,!1).slice(1),c=Nt.Buffer.from(fne.keccak_256(tr(n))),[l,d]=JNe(c,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:l,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};C8.programId=new at("KeccakSecp256k11111111111111111111111111111");var jne=new at("StakeConfig11111111111111111111111111111111"),N8=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},dm=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};dm.default=new dm(0,0,at.default);var wN=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=J.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(co))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=zr(co.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new N8(new at(r.staker),new at(r.withdrawer)),lockup:new dm(n.unixTimestamp,n.epoch,new at(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),zr(co.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=zr(co.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=zr(co.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new at(o),newAuthorizedPubkey:new at(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=zr(co.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zr(co.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=zr(co.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zr(co.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(b1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},co=Object.freeze({Initialize:{index:0,layout:J.struct([J.u32("instruction"),dCe(),hCe()])},Authorize:{index:1,layout:J.struct([J.u32("instruction"),dr("newAuthorized"),J.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:J.struct([J.u32("instruction")])},Split:{index:3,layout:J.struct([J.u32("instruction"),J.ns64("lamports")])},Withdraw:{index:4,layout:J.struct([J.u32("instruction"),J.ns64("lamports")])},Deactivate:{index:5,layout:J.struct([J.u32("instruction")])},Merge:{index:7,layout:J.struct([J.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:J.struct([J.u32("instruction"),dr("newAuthorized"),J.u32("stakeAuthorizationType"),um("authoritySeed"),dr("authorityOwner")])}}),rOe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),b1=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||dm.default,s=co.Initialize,c=Cr(s,{authorized:{staker:tr(n.staker.toBuffer()),withdrawer:tr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:tr(o.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:m1,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new Qr(l)}static createAccountWithSeed(e){let r=new Zr;r.add(as.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Zr;r.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=co.Delegate,s=Cr(o);return new Zr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:_8,isSigner:!1,isWritable:!1},{pubkey:jne,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,c=co.Authorize,l=Cr(c,{newAuthorized:tr(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Au,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new Zr().add({keys:d,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:c,custodianPubkey:l}=e,d=co.AuthorizeWithSeed,g=Cr(d,{newAuthorized:tr(s.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:tr(o.toBuffer())}),b=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Au,isSigner:!1,isWritable:!1}];return l&&b.push({pubkey:l,isSigner:!1,isWritable:!1}),new Zr().add({keys:b,programId:this.programId,data:g})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=co.Split,c=Cr(s,{lamports:o});return new Qr({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e){let r=new Zr;return r.add(as.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:c}=e,l=new Zr;return l.add(as.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:c}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=co.Merge,s=Cr(o);return new Zr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:_8,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,c=co.Withdraw,l=Cr(c,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:_8,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new Zr().add({keys:d,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=co.Deactivate,o=Cr(i);return new Zr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};b1.programId=new at("Stake11111111111111111111111111111111111111");b1.space=200;var O8=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},SN=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=J.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Kl))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=zr(Kl.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new O8(new at(r.nodePubkey),new at(r.authorizedVoter),new at(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=zr(Kl.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=zr(Kl.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new at(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new at(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=zr(Kl.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(v1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Kl=Object.freeze({InitializeAccount:{index:0,layout:J.struct([J.u32("instruction"),pCe()])},Authorize:{index:1,layout:J.struct([J.u32("instruction"),dr("newAuthorized"),J.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:J.struct([J.u32("instruction"),J.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:J.struct([J.u32("instruction"),mCe()])}}),nOe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),v1=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=Kl.InitializeAccount,s=Cr(o,{voteInit:{nodePubkey:tr(i.nodePubkey.toBuffer()),authorizedVoter:tr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:tr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:m1,isSigner:!1,isWritable:!1},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Qr(c)}static createAccount(e){let r=new Zr;return r.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Kl.Authorize,c=Cr(s,{newAuthorized:tr(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Zr().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:c}=e,l=Kl.AuthorizeWithSeed,d=Cr(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:tr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:tr(o.toBuffer()),voteAuthorizationType:s.index}}),g=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zr().add({keys:g,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=Kl.Withdraw,c=Cr(s,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Zr().add({keys:l,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};v1.programId=new at("Vote111111111111111111111111111111111111111");v1.space=3731;var zne=new at("Va1idator1nfo111111111111111111111111111111"),iOe=C.type({name:C.string(),website:C.optional(C.string()),details:C.optional(C.string()),keybaseUsername:C.optional(C.string())}),EN=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(na(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new at(ia(r,0,Mu)),c=Tu(r)===1;i.push({publicKey:s,isSigner:c})}if(i[0].publicKey.equals(zne)&&i[1].isSigner){let o=um().decode(Nt.Buffer.from(r)),s=JSON.parse(o);return C.assert(s,iOe),new t(i[1].publicKey,s)}return null}},oOe=new at("Vote111111111111111111111111111111111111111"),sOe=J.struct([dr("nodePubkey"),dr("authorizedWithdrawer"),J.u8("commission"),J.nu64(),J.seq(J.struct([J.nu64("slot"),J.u32("confirmationCount")]),J.offset(J.u32(),-8),"votes"),J.u8("rootSlotValid"),J.nu64("rootSlot"),J.nu64(),J.seq(J.struct([J.nu64("epoch"),dr("authorizedVoter")]),J.offset(J.u32(),-8),"authorizedVoters"),J.struct([J.seq(J.struct([dr("authorizedPubkey"),J.nu64("epochOfLastAuthorizedSwitch"),J.nu64("targetEpoch")]),32,"buf"),J.nu64("idx"),J.u8("isEmpty")],"priorVoters"),J.nu64(),J.seq(J.struct([J.nu64("epoch"),J.nu64("credits"),J.nu64("prevCredits")]),J.offset(J.u32(),-8),"epochCredits"),J.struct([J.nu64("slot"),J.nu64("timestamp")],"lastTimestamp")]),_N=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=sOe.decode(tr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new at(n.nodePubkey),authorizedWithdrawer:new at(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(aOe),priorVoters:cOe(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function aOe({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new at(t)}}function _ne({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new at(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function cOe({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(_ne),...t.slice(0,e).map(_ne)]}var Ane={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function fOe(t,e){let r=e===!1?"http":"https";if(!t)return Ane[r].devnet;let n=Ane[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function uOe(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},c=await t.sendRawTransaction(e,s),l=o&&o.commitment,g=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(c,l))).value;if(g.err)throw new Error(`Raw transaction ${c} failed (${JSON.stringify(g)})`);return c}var lOe=1e9;nt.Account=cN;nt.AddressLookupTableAccount=d2;nt.AddressLookupTableInstruction=vN;nt.AddressLookupTableProgram=p2;nt.Authorized=N8;nt.BLOCKHASH_CACHE_TIMEOUT_MS=Nne;nt.BPF_LOADER_DEPRECATED_PROGRAM_ID=uCe;nt.BPF_LOADER_PROGRAM_ID=ACe;nt.BpfLoader=hN;nt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Iu;nt.ComputeBudgetInstruction=xN;nt.ComputeBudgetProgram=m2;nt.Connection=bN;nt.Ed25519Program=B8;nt.Enum=aN;nt.EpochSchedule=k8;nt.FeeCalculatorLayout=Rne;nt.Keypair=R8;nt.LAMPORTS_PER_SOL=lOe;nt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Hl;nt.Loader=g1;nt.Lockup=dm;nt.MAX_SEED_LENGTH=Mne;nt.Message=ku;nt.MessageAccountKeys=lm;nt.MessageV0=p1;nt.NONCE_ACCOUNT_LENGTH=lN;nt.NonceAccount=M8;nt.PACKET_DATA_SIZE=Ih;nt.PUBLIC_KEY_LENGTH=Mu;nt.PublicKey=at;nt.SIGNATURE_LENGTH_IN_BYTES=c2;nt.SOLANA_SCHEMA=s2;nt.STAKE_CONFIG_ID=jne;nt.STAKE_INSTRUCTION_LAYOUTS=co;nt.SYSTEM_INSTRUCTION_LAYOUTS=gn;nt.SYSVAR_CLOCK_PUBKEY=Au;nt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=gCe;nt.SYSVAR_INSTRUCTIONS_PUBKEY=bCe;nt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=E8;nt.SYSVAR_RENT_PUBKEY=m1;nt.SYSVAR_REWARDS_PUBKEY=vCe;nt.SYSVAR_SLOT_HASHES_PUBKEY=xCe;nt.SYSVAR_SLOT_HISTORY_PUBKEY=wCe;nt.SYSVAR_STAKE_HISTORY_PUBKEY=_8;nt.Secp256k1Program=C8;nt.SendTransactionError=l2;nt.SolanaJSONRPCError=_t;nt.SolanaJSONRPCErrorCode=RCe;nt.StakeAuthorizationLayout=rOe;nt.StakeInstruction=wN;nt.StakeProgram=b1;nt.Struct=a2;nt.SystemInstruction=dN;nt.SystemProgram=as;nt.Transaction=Zr;nt.TransactionExpiredBlockheightExceededError=f2;nt.TransactionExpiredNonceInvalidError=Th;nt.TransactionExpiredTimeoutError=u2;nt.TransactionInstruction=Qr;nt.TransactionMessage=fN;nt.VALIDATOR_INFO_KEY=zne;nt.VERSION_PREFIX_MASK=L8;nt.VOTE_PROGRAM_ID=oOe;nt.ValidatorInfo=EN;nt.VersionedMessage=IN;nt.VersionedTransaction=uN;nt.VoteAccount=_N;nt.VoteAuthorizationLayout=nOe;nt.VoteInit=O8;nt.VoteInstruction=SN;nt.VoteProgram=v1;nt.clusterApiUrl=fOe;nt.sendAndConfirmRawTransaction=uOe;nt.sendAndConfirmTransaction=A8});var pO=F(U2=>{"use strict";h();p();Object.defineProperty(U2,"__esModule",{value:!0});U2.SupportedAlgorithm=void 0;var YLe;(function(t){t.sha256="sha256",t.sha512="sha512"})(YLe=U2.SupportedAlgorithm||(U2.SupportedAlgorithm={}))});var Voe=F(RA=>{"use strict";h();p();Object.defineProperty(RA,"__esModule",{value:!0});RA.version=void 0;RA.version="sha2/5.7.0"});var zoe=F(kc=>{"use strict";h();p();var ZLe=kc&&kc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kc,"__esModule",{value:!0});kc.computeHmac=kc.sha512=kc.sha256=kc.ripemd160=void 0;var F2=ZLe(Ug()),q2=xo(),QLe=pO(),joe=ks(),XLe=Voe(),JLe=new joe.Logger(XLe.version);function eUe(t){return"0x"+F2.default.ripemd160().update((0,q2.arrayify)(t)).digest("hex")}kc.ripemd160=eUe;function tUe(t){return"0x"+F2.default.sha256().update((0,q2.arrayify)(t)).digest("hex")}kc.sha256=tUe;function rUe(t){return"0x"+F2.default.sha512().update((0,q2.arrayify)(t)).digest("hex")}kc.sha512=rUe;function nUe(t,e,r){return QLe.SupportedAlgorithm[t]||JLe.throwError("unsupported algorithm "+t,joe.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+F2.default.hmac(F2.default[t],(0,q2.arrayify)(e)).update((0,q2.arrayify)(r)).digest("hex")}kc.computeHmac=nUe});var mO=F(Pc=>{"use strict";h();p();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.SupportedAlgorithm=Pc.sha512=Pc.sha256=Pc.ripemd160=Pc.computeHmac=void 0;var BA=zoe();Object.defineProperty(Pc,"computeHmac",{enumerable:!0,get:function(){return BA.computeHmac}});Object.defineProperty(Pc,"ripemd160",{enumerable:!0,get:function(){return BA.ripemd160}});Object.defineProperty(Pc,"sha256",{enumerable:!0,get:function(){return BA.sha256}});Object.defineProperty(Pc,"sha512",{enumerable:!0,get:function(){return BA.sha512}});var iUe=pO();Object.defineProperty(Pc,"SupportedAlgorithm",{enumerable:!0,get:function(){return iUe.SupportedAlgorithm}})});var UO=F((LO,yse)=>{"use strict";h();p();(function(t){function e(f){return parseInt(f)===f}function r(f){if(!e(f.length))return!1;for(var v=0;v<f.length;v++)if(!e(f[v])||f[v]<0||f[v]>255)return!1;return!0}function n(f,v){if(f.buffer&&ArrayBuffer.isView(f)&&f.name==="Uint8Array")return v&&(f.slice?f=f.slice():f=Array.prototype.slice.call(f)),f;if(Array.isArray(f)){if(!r(f))throw new Error("Array contains invalid value: "+f);return new Uint8Array(f)}if(e(f.length)&&r(f))return new Uint8Array(f);throw new Error("unsupported array-like object")}function i(f){return new Uint8Array(f)}function o(f,v,q,U,O){(U!=null||O!=null)&&(f.slice?f=f.slice(U,O):f=Array.prototype.slice.call(f,U,O)),v.set(f,q)}var s=function(){function f(q){var U=[],O=0;for(q=encodeURI(q);O<q.length;){var W=q.charCodeAt(O++);W===37?(U.push(parseInt(q.substr(O,2),16)),O+=2):U.push(W)}return n(U)}function v(q){for(var U=[],O=0;O<q.length;){var W=q[O];W<128?(U.push(String.fromCharCode(W)),O++):W>191&&W<224?(U.push(String.fromCharCode((W&31)<<6|q[O+1]&63)),O+=2):(U.push(String.fromCharCode((W&15)<<12|(q[O+1]&63)<<6|q[O+2]&63)),O+=3)}return U.join("")}return{toBytes:f,fromBytes:v}}(),c=function(){function f(U){for(var O=[],W=0;W<U.length;W+=2)O.push(parseInt(U.substr(W,2),16));return O}var v="0123456789abcdef";function q(U){for(var O=[],W=0;W<U.length;W++){var Q=U[W];O.push(v[(Q&240)>>4]+v[Q&15])}return O.join("")}return{toBytes:f,fromBytes:q}}(),l={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],g=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],b=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],_=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],k=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],B=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],P=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],D=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],R=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],L=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],V=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],z=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],oe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function $(f){for(var v=[],q=0;q<f.length;q+=4)v.push(f[q]<<24|f[q+1]<<16|f[q+2]<<8|f[q+3]);return v}var ne=function(f){if(!(this instanceof ne))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(f,!0)}),this._prepare()};ne.prototype._prepare=function(){var f=l[this.key.length];if(f==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var v=0;v<=f;v++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var q=(f+1)*4,U=this.key.length/4,O=$(this.key),W,v=0;v<U;v++)W=v>>2,this._Ke[W][v%4]=O[v],this._Kd[f-W][v%4]=O[v];for(var Q=0,re=U,Ke;re<q;){if(Ke=O[U-1],O[0]^=g[Ke>>16&255]<<24^g[Ke>>8&255]<<16^g[Ke&255]<<8^g[Ke>>24&255]^d[Q]<<24,Q+=1,U!=8)for(var v=1;v<U;v++)O[v]^=O[v-1];else{for(var v=1;v<U/2;v++)O[v]^=O[v-1];Ke=O[U/2-1],O[U/2]^=g[Ke&255]^g[Ke>>8&255]<<8^g[Ke>>16&255]<<16^g[Ke>>24&255]<<24;for(var v=U/2+1;v<U;v++)O[v]^=O[v-1]}for(var v=0,se,Z;v<U&&re<q;)se=re>>2,Z=re%4,this._Ke[se][Z]=O[v],this._Kd[f-se][Z]=O[v++],re++}for(var se=1;se<f;se++)for(var Z=0;Z<4;Z++)Ke=this._Kd[se][Z],this._Kd[se][Z]=L[Ke>>24&255]^V[Ke>>16&255]^z[Ke>>8&255]^oe[Ke&255]},ne.prototype.encrypt=function(f){if(f.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var v=this._Ke.length-1,q=[0,0,0,0],U=$(f),O=0;O<4;O++)U[O]^=this._Ke[0][O];for(var W=1;W<v;W++){for(var O=0;O<4;O++)q[O]=_[U[O]>>24&255]^T[U[(O+1)%4]>>16&255]^M[U[(O+2)%4]>>8&255]^k[U[(O+3)%4]&255]^this._Ke[W][O];U=q.slice()}for(var Q=i(16),re,O=0;O<4;O++)re=this._Ke[v][O],Q[4*O]=(g[U[O]>>24&255]^re>>24)&255,Q[4*O+1]=(g[U[(O+1)%4]>>16&255]^re>>16)&255,Q[4*O+2]=(g[U[(O+2)%4]>>8&255]^re>>8)&255,Q[4*O+3]=(g[U[(O+3)%4]&255]^re)&255;return Q},ne.prototype.decrypt=function(f){if(f.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var v=this._Kd.length-1,q=[0,0,0,0],U=$(f),O=0;O<4;O++)U[O]^=this._Kd[0][O];for(var W=1;W<v;W++){for(var O=0;O<4;O++)q[O]=B[U[O]>>24&255]^P[U[(O+3)%4]>>16&255]^D[U[(O+2)%4]>>8&255]^R[U[(O+1)%4]&255]^this._Kd[W][O];U=q.slice()}for(var Q=i(16),re,O=0;O<4;O++)re=this._Kd[v][O],Q[4*O]=(b[U[O]>>24&255]^re>>24)&255,Q[4*O+1]=(b[U[(O+3)%4]>>16&255]^re>>16)&255,Q[4*O+2]=(b[U[(O+2)%4]>>8&255]^re>>8)&255,Q[4*O+3]=(b[U[(O+1)%4]&255]^re)&255;return Q};var S=function(f){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new ne(f)};S.prototype.encrypt=function(f){if(f=n(f),f.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=i(f.length),q=i(16),U=0;U<f.length;U+=16)o(f,q,0,U,U+16),q=this._aes.encrypt(q),o(q,v,U);return v},S.prototype.decrypt=function(f){if(f=n(f),f.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=i(f.length),q=i(16),U=0;U<f.length;U+=16)o(f,q,0,U,U+16),q=this._aes.decrypt(q),o(q,v,U);return v};var a=function(f,v){if(!(this instanceof a))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!v)v=i(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(v,!0),this._aes=new ne(f)};a.prototype.encrypt=function(f){if(f=n(f),f.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=i(f.length),q=i(16),U=0;U<f.length;U+=16){o(f,q,0,U,U+16);for(var O=0;O<16;O++)q[O]^=this._lastCipherblock[O];this._lastCipherblock=this._aes.encrypt(q),o(this._lastCipherblock,v,U)}return v},a.prototype.decrypt=function(f){if(f=n(f),f.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=i(f.length),q=i(16),U=0;U<f.length;U+=16){o(f,q,0,U,U+16),q=this._aes.decrypt(q);for(var O=0;O<16;O++)v[U+O]=q[O]^this._lastCipherblock[O];o(f,this._lastCipherblock,0,U,U+16)}return v};var u=function(f,v,q){if(!(this instanceof u))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!v)v=i(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");q||(q=1),this.segmentSize=q,this._shiftRegister=n(v,!0),this._aes=new ne(f)};u.prototype.encrypt=function(f){if(f.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var v=n(f,!0),q,U=0;U<v.length;U+=this.segmentSize){q=this._aes.encrypt(this._shiftRegister);for(var O=0;O<this.segmentSize;O++)v[U+O]^=q[O];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(v,this._shiftRegister,16-this.segmentSize,U,U+this.segmentSize)}return v},u.prototype.decrypt=function(f){if(f.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var v=n(f,!0),q,U=0;U<v.length;U+=this.segmentSize){q=this._aes.encrypt(this._shiftRegister);for(var O=0;O<this.segmentSize;O++)v[U+O]^=q[O];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(f,this._shiftRegister,16-this.segmentSize,U,U+this.segmentSize)}return v};var m=function(f,v){if(!(this instanceof m))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!v)v=i(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(v,!0),this._lastPrecipherIndex=16,this._aes=new ne(f)};m.prototype.encrypt=function(f){for(var v=n(f,!0),q=0;q<v.length;q++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),v[q]^=this._lastPrecipher[this._lastPrecipherIndex++];return v},m.prototype.decrypt=m.prototype.encrypt;var y=function(f){if(!(this instanceof y))throw Error("Counter must be instanitated with `new`");f!==0&&!f&&(f=1),typeof f=="number"?(this._counter=i(16),this.setValue(f)):this.setBytes(f)};y.prototype.setValue=function(f){if(typeof f!="number"||parseInt(f)!=f)throw new Error("invalid counter value (must be an integer)");for(var v=15;v>=0;--v)this._counter[v]=f%256,f=f>>8},y.prototype.setBytes=function(f){if(f=n(f,!0),f.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=f},y.prototype.increment=function(){for(var f=15;f>=0;f--)if(this._counter[f]===255)this._counter[f]=0;else{this._counter[f]++;break}};var w=function(f,v){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",v instanceof y||(v=new y(v)),this._counter=v,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new ne(f)};w.prototype.encrypt=function(f){for(var v=n(f,!0),q=0;q<v.length;q++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),v[q]^=this._remainingCounter[this._remainingCounterIndex++];return v},w.prototype.decrypt=w.prototype.encrypt;function E(f){f=n(f,!0);var v=16-f.length%16,q=i(f.length+v);o(f,q);for(var U=f.length;U<q.length;U++)q[U]=v;return q}function A(f){if(f=n(f,!0),f.length<16)throw new Error("PKCS#7 invalid length");var v=f[f.length-1];if(v>16)throw new Error("PKCS#7 padding byte out of range");for(var q=f.length-v,U=0;U<v;U++)if(f[q+U]!==v)throw new Error("PKCS#7 invalid padding byte");var O=i(q);return o(f,O,0,0,q),O}var x={AES:ne,Counter:y,ModeOfOperation:{ecb:S,cbc:a,cfb:u,ofb:m,ctr:w},utils:{hex:c,utf8:s},padding:{pkcs7:{pad:E,strip:A}},_arrayTest:{coerceArray:n,createArray:i,copyArray:o}};typeof LO<"u"?yse.exports=x:typeof define=="function"&&define.amd?define(x):(t.aesjs&&(x._aesjs=t.aesjs),t.aesjs=x)})(LO)});var xse=F((zO,vse)=>{"use strict";h();p();(function(t){function r(T){let M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=1779033703,B=3144134277,P=1013904242,D=2773480762,R=1359893119,L=2600822924,V=528734635,z=1541459225,oe=new Uint32Array(64);function $(w){let E=0,A=w.length;for(;A>=64;){let x=k,f=B,v=P,q=D,U=R,O=L,W=V,Q=z,re,Ke,se,Z,ct;for(Ke=0;Ke<16;Ke++)se=E+Ke*4,oe[Ke]=(w[se]&255)<<24|(w[se+1]&255)<<16|(w[se+2]&255)<<8|w[se+3]&255;for(Ke=16;Ke<64;Ke++)re=oe[Ke-2],Z=(re>>>17|re<<15)^(re>>>19|re<<13)^re>>>10,re=oe[Ke-15],ct=(re>>>7|re<<25)^(re>>>18|re<<14)^re>>>3,oe[Ke]=(Z+oe[Ke-7]|0)+(ct+oe[Ke-16]|0)|0;for(Ke=0;Ke<64;Ke++)Z=(((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))+(U&O^~U&W)|0)+(Q+(M[Ke]+oe[Ke]|0)|0)|0,ct=((x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10))+(x&f^x&v^f&v)|0,Q=W,W=O,O=U,U=q+Z|0,q=v,v=f,f=x,x=Z+ct|0;k=k+x|0,B=B+f|0,P=P+v|0,D=D+q|0,R=R+U|0,L=L+O|0,V=V+W|0,z=z+Q|0,E+=64,A-=64}}$(T);let ne,S=T.length%64,a=T.length/536870912|0,u=T.length<<3,m=S<56?56:120,y=T.slice(T.length-S,T.length);for(y.push(128),ne=S+1;ne<m;ne++)y.push(0);return y.push(a>>>24&255),y.push(a>>>16&255),y.push(a>>>8&255),y.push(a>>>0&255),y.push(u>>>24&255),y.push(u>>>16&255),y.push(u>>>8&255),y.push(u>>>0&255),$(y),[k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255]}function n(T,M,k){T=T.length<=64?T:r(T);let B=64+M.length+4,P=new Array(B),D=new Array(64),R,L=[];for(R=0;R<64;R++)P[R]=54;for(R=0;R<T.length;R++)P[R]^=T[R];for(R=0;R<M.length;R++)P[64+R]=M[R];for(R=B-4;R<B;R++)P[R]=0;for(R=0;R<64;R++)D[R]=92;for(R=0;R<T.length;R++)D[R]^=T[R];function V(){for(let z=B-1;z>=B-4;z--){if(P[z]++,P[z]<=255)return;P[z]=0}}for(;k>=32;)V(),L=L.concat(r(D.concat(r(P)))),k-=32;return k>0&&(V(),L=L.concat(r(D.concat(r(P))).slice(0,k))),L}function i(T,M,k,B,P){let D;for(l(T,(2*k-1)*16,P,0,16),D=0;D<2*k;D++)c(T,D*16,P,16),s(P,B),l(P,0,T,M+D*16,16);for(D=0;D<k;D++)l(T,M+D*2*16,T,D*16,16);for(D=0;D<k;D++)l(T,M+(D*2+1)*16,T,(D+k)*16,16)}function o(T,M){return T<<M|T>>>32-M}function s(T,M){l(T,0,M,0,16);for(let k=8;k>0;k-=2)M[4]^=o(M[0]+M[12],7),M[8]^=o(M[4]+M[0],9),M[12]^=o(M[8]+M[4],13),M[0]^=o(M[12]+M[8],18),M[9]^=o(M[5]+M[1],7),M[13]^=o(M[9]+M[5],9),M[1]^=o(M[13]+M[9],13),M[5]^=o(M[1]+M[13],18),M[14]^=o(M[10]+M[6],7),M[2]^=o(M[14]+M[10],9),M[6]^=o(M[2]+M[14],13),M[10]^=o(M[6]+M[2],18),M[3]^=o(M[15]+M[11],7),M[7]^=o(M[3]+M[15],9),M[11]^=o(M[7]+M[3],13),M[15]^=o(M[11]+M[7],18),M[1]^=o(M[0]+M[3],7),M[2]^=o(M[1]+M[0],9),M[3]^=o(M[2]+M[1],13),M[0]^=o(M[3]+M[2],18),M[6]^=o(M[5]+M[4],7),M[7]^=o(M[6]+M[5],9),M[4]^=o(M[7]+M[6],13),M[5]^=o(M[4]+M[7],18),M[11]^=o(M[10]+M[9],7),M[8]^=o(M[11]+M[10],9),M[9]^=o(M[8]+M[11],13),M[10]^=o(M[9]+M[8],18),M[12]^=o(M[15]+M[14],7),M[13]^=o(M[12]+M[15],9),M[14]^=o(M[13]+M[12],13),M[15]^=o(M[14]+M[13],18);for(let k=0;k<16;++k)T[k]+=M[k]}function c(T,M,k,B){for(let P=0;P<B;P++)k[P]^=T[M+P]}function l(T,M,k,B,P){for(;P--;)k[B++]=T[M++]}function d(T){if(!T||typeof T.length!="number")return!1;for(let M=0;M<T.length;M++){let k=T[M];if(typeof k!="number"||k%1||k<0||k>=256)return!1}return!0}function g(T,M){if(typeof T!="number"||T%1)throw new Error("invalid "+M);return T}function b(T,M,k,B,P,D,R){if(k=g(k,"N"),B=g(B,"r"),P=g(P,"p"),D=g(D,"dkLen"),k===0||k&k-1)throw new Error("N must be power of 2");if(k>2147483647/128/B)throw new Error("N too large");if(B>2147483647/128/P)throw new Error("r too large");if(!d(T))throw new Error("password must be an array or buffer");if(T=Array.prototype.slice.call(T),!d(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let L=n(T,M,P*128*B),V=new Uint32Array(P*32*B);for(let U=0;U<V.length;U++){let O=U*4;V[U]=(L[O+3]&255)<<24|(L[O+2]&255)<<16|(L[O+1]&255)<<8|(L[O+0]&255)<<0}let z=new Uint32Array(64*B),oe=new Uint32Array(32*B*k),$=32*B,ne=new Uint32Array(16),S=new Uint32Array(16),a=P*k*2,u=0,m=null,y=!1,w=0,E=0,A,x,f=R?parseInt(1e3/B):4294967295,v=typeof setImmediate<"u"?setImmediate:setTimeout,q=function(){if(y)return R(new Error("cancelled"),u/a);let U;switch(w){case 0:x=E*32*B,l(V,x,z,0,$),w=1,A=0;case 1:U=k-A,U>f&&(U=f);for(let W=0;W<U;W++)l(z,0,oe,(A+W)*$,$),i(z,$,B,ne,S);if(A+=U,u+=U,R){let W=parseInt(1e3*u/a);if(W!==m){if(y=R(null,u/a),y)break;m=W}}if(A<k)break;A=0,w=2;case 2:U=k-A,U>f&&(U=f);for(let W=0;W<U;W++){let Q=(2*B-1)*16,re=z[Q]&k-1;c(oe,re*$,z,$),i(z,$,B,ne,S)}if(A+=U,u+=U,R){let W=parseInt(1e3*u/a);if(W!==m){if(y=R(null,u/a),y)break;m=W}}if(A<k)break;if(l(z,0,V,x,$),E++,E<P){w=0;break}L=[];for(let W=0;W<V.length;W++)L.push(V[W]>>0&255),L.push(V[W]>>8&255),L.push(V[W]>>16&255),L.push(V[W]>>24&255);let O=n(T,L,D);return R&&R(null,1,O),O}R&&v(q)};if(!R)for(;;){let U=q();if(U!=null)return U}q()}let _={scrypt:function(T,M,k,B,P,D,R){return new Promise(function(L,V){let z=0;R&&R(0),b(T,M,k,B,P,D,function(oe,$,ne){if(oe)V(oe);else if(ne)R&&z!==1&&R(1),L(new Uint8Array(ne));else if(R&&$!==z)return z=$,R($)})})},syncScrypt:function(T,M,k,B,P,D){return new Uint8Array(b(T,M,k,B,P,D))}};typeof zO<"u"?vse.exports=_:typeof define=="function"&&define.amd?define(_):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=_)})(zO)});var pb=F(hb=>{"use strict";h();p();Object.defineProperty(hb,"__esModule",{value:!0});hb.bech32m=hb.bech32=void 0;var P5="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Cae={};for(let t=0;t<P5.length;t++){let e=P5.charAt(t);Cae[e]=t}function db(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Bae(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=db(e)^n>>5}e=db(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=db(e)^n&31}return e}function YD(t,e,r,n){let i=0,o=0,s=(1<<r)-1,c=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=r;)o-=r,c.push(i>>o&s);if(n)o>0&&c.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return c}function Cqe(t){return YD(t,8,5,!0)}function Nqe(t){let e=YD(t,5,8,!1);if(Array.isArray(e))return e}function Oqe(t){let e=YD(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function Nae(t){let e;t==="bech32"?e=1:e=734539939;function r(s,c,l){if(l=l||90,s.length+7+c.length>l)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let d=Bae(s);if(typeof d=="string")throw new Error(d);let g=s+"1";for(let b=0;b<c.length;++b){let _=c[b];if(_>>5)throw new Error("Non 5-bit word");d=db(d)^_,g+=P5.charAt(_)}for(let b=0;b<6;++b)d=db(d);d^=e;for(let b=0;b<6;++b){let _=d>>(5-b)*5&31;g+=P5.charAt(_)}return g}function n(s,c){if(c=c||90,s.length<8)return s+" too short";if(s.length>c)return"Exceeds length limit";let l=s.toLowerCase(),d=s.toUpperCase();if(s!==l&&s!==d)return"Mixed-case string "+s;s=l;let g=s.lastIndexOf("1");if(g===-1)return"No separator character for "+s;if(g===0)return"Missing prefix for "+s;let b=s.slice(0,g),_=s.slice(g+1);if(_.length<6)return"Data too short";let T=Bae(b);if(typeof T=="string")return T;let M=[];for(let k=0;k<_.length;++k){let B=_.charAt(k),P=Cae[B];if(P===void 0)return"Unknown character "+B;T=db(T)^P,!(k+6>=_.length)&&M.push(P)}return T!==e?"Invalid checksum for "+s:{prefix:b,words:M}}function i(s,c){let l=n(s,c);if(typeof l=="object")return l}function o(s,c){let l=n(s,c);if(typeof l=="object")return l;throw new Error(l)}return{decodeUnsafe:i,decode:o,encode:r,toWords:Cqe,fromWordsUnsafe:Nqe,fromWords:Oqe}}hb.bech32=Nae("bech32");hb.bech32m=Nae("bech32m")});var nd=F((FCt,B5)=>{h();p();(function(t){"use strict";var e=function(H){var j,K=new Float64Array(16);if(H)for(j=0;j<H.length;j++)K[j]=H[j];return K},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),s=e([1]),c=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(H,j,K,N){H[j]=K>>24&255,H[j+1]=K>>16&255,H[j+2]=K>>8&255,H[j+3]=K&255,H[j+4]=N>>24&255,H[j+5]=N>>16&255,H[j+6]=N>>8&255,H[j+7]=N&255}function M(H,j,K,N,G){var Y,ae=0;for(Y=0;Y<G;Y++)ae|=H[j+Y]^K[N+Y];return(1&ae-1>>>8)-1}function k(H,j,K,N){return M(H,j,K,N,16)}function B(H,j,K,N){return M(H,j,K,N,32)}function P(H,j,K,N){for(var G=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,Y=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,ae=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,ee=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ie=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,ot=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Ze=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,At=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,Je=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,lt=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,dt=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,gt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,yt=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,ht=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,mt=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,pt=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,tt=G,st=Y,Xe=ae,rt=ee,it=ie,Ye=ot,ce=Ze,fe=At,$e=Je,Ve=lt,je=dt,Qe=gt,Rt=yt,Vt=ht,Gt=mt,jt=pt,te,ir=0;ir<20;ir+=2)te=tt+Rt|0,it^=te<<7|te>>>25,te=it+tt|0,$e^=te<<9|te>>>23,te=$e+it|0,Rt^=te<<13|te>>>19,te=Rt+$e|0,tt^=te<<18|te>>>14,te=Ye+st|0,Ve^=te<<7|te>>>25,te=Ve+Ye|0,Vt^=te<<9|te>>>23,te=Vt+Ve|0,st^=te<<13|te>>>19,te=st+Vt|0,Ye^=te<<18|te>>>14,te=je+ce|0,Gt^=te<<7|te>>>25,te=Gt+je|0,Xe^=te<<9|te>>>23,te=Xe+Gt|0,ce^=te<<13|te>>>19,te=ce+Xe|0,je^=te<<18|te>>>14,te=jt+Qe|0,rt^=te<<7|te>>>25,te=rt+jt|0,fe^=te<<9|te>>>23,te=fe+rt|0,Qe^=te<<13|te>>>19,te=Qe+fe|0,jt^=te<<18|te>>>14,te=tt+rt|0,st^=te<<7|te>>>25,te=st+tt|0,Xe^=te<<9|te>>>23,te=Xe+st|0,rt^=te<<13|te>>>19,te=rt+Xe|0,tt^=te<<18|te>>>14,te=Ye+it|0,ce^=te<<7|te>>>25,te=ce+Ye|0,fe^=te<<9|te>>>23,te=fe+ce|0,it^=te<<13|te>>>19,te=it+fe|0,Ye^=te<<18|te>>>14,te=je+Ve|0,Qe^=te<<7|te>>>25,te=Qe+je|0,$e^=te<<9|te>>>23,te=$e+Qe|0,Ve^=te<<13|te>>>19,te=Ve+$e|0,je^=te<<18|te>>>14,te=jt+Gt|0,Rt^=te<<7|te>>>25,te=Rt+jt|0,Vt^=te<<9|te>>>23,te=Vt+Rt|0,Gt^=te<<13|te>>>19,te=Gt+Vt|0,jt^=te<<18|te>>>14;tt=tt+G|0,st=st+Y|0,Xe=Xe+ae|0,rt=rt+ee|0,it=it+ie|0,Ye=Ye+ot|0,ce=ce+Ze|0,fe=fe+At|0,$e=$e+Je|0,Ve=Ve+lt|0,je=je+dt|0,Qe=Qe+gt|0,Rt=Rt+yt|0,Vt=Vt+ht|0,Gt=Gt+mt|0,jt=jt+pt|0,H[0]=tt>>>0&255,H[1]=tt>>>8&255,H[2]=tt>>>16&255,H[3]=tt>>>24&255,H[4]=st>>>0&255,H[5]=st>>>8&255,H[6]=st>>>16&255,H[7]=st>>>24&255,H[8]=Xe>>>0&255,H[9]=Xe>>>8&255,H[10]=Xe>>>16&255,H[11]=Xe>>>24&255,H[12]=rt>>>0&255,H[13]=rt>>>8&255,H[14]=rt>>>16&255,H[15]=rt>>>24&255,H[16]=it>>>0&255,H[17]=it>>>8&255,H[18]=it>>>16&255,H[19]=it>>>24&255,H[20]=Ye>>>0&255,H[21]=Ye>>>8&255,H[22]=Ye>>>16&255,H[23]=Ye>>>24&255,H[24]=ce>>>0&255,H[25]=ce>>>8&255,H[26]=ce>>>16&255,H[27]=ce>>>24&255,H[28]=fe>>>0&255,H[29]=fe>>>8&255,H[30]=fe>>>16&255,H[31]=fe>>>24&255,H[32]=$e>>>0&255,H[33]=$e>>>8&255,H[34]=$e>>>16&255,H[35]=$e>>>24&255,H[36]=Ve>>>0&255,H[37]=Ve>>>8&255,H[38]=Ve>>>16&255,H[39]=Ve>>>24&255,H[40]=je>>>0&255,H[41]=je>>>8&255,H[42]=je>>>16&255,H[43]=je>>>24&255,H[44]=Qe>>>0&255,H[45]=Qe>>>8&255,H[46]=Qe>>>16&255,H[47]=Qe>>>24&255,H[48]=Rt>>>0&255,H[49]=Rt>>>8&255,H[50]=Rt>>>16&255,H[51]=Rt>>>24&255,H[52]=Vt>>>0&255,H[53]=Vt>>>8&255,H[54]=Vt>>>16&255,H[55]=Vt>>>24&255,H[56]=Gt>>>0&255,H[57]=Gt>>>8&255,H[58]=Gt>>>16&255,H[59]=Gt>>>24&255,H[60]=jt>>>0&255,H[61]=jt>>>8&255,H[62]=jt>>>16&255,H[63]=jt>>>24&255}function D(H,j,K,N){for(var G=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,Y=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,ae=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,ee=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ie=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,ot=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Ze=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,At=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,Je=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,lt=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,dt=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,gt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,yt=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,ht=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,mt=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,pt=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,tt=G,st=Y,Xe=ae,rt=ee,it=ie,Ye=ot,ce=Ze,fe=At,$e=Je,Ve=lt,je=dt,Qe=gt,Rt=yt,Vt=ht,Gt=mt,jt=pt,te,ir=0;ir<20;ir+=2)te=tt+Rt|0,it^=te<<7|te>>>25,te=it+tt|0,$e^=te<<9|te>>>23,te=$e+it|0,Rt^=te<<13|te>>>19,te=Rt+$e|0,tt^=te<<18|te>>>14,te=Ye+st|0,Ve^=te<<7|te>>>25,te=Ve+Ye|0,Vt^=te<<9|te>>>23,te=Vt+Ve|0,st^=te<<13|te>>>19,te=st+Vt|0,Ye^=te<<18|te>>>14,te=je+ce|0,Gt^=te<<7|te>>>25,te=Gt+je|0,Xe^=te<<9|te>>>23,te=Xe+Gt|0,ce^=te<<13|te>>>19,te=ce+Xe|0,je^=te<<18|te>>>14,te=jt+Qe|0,rt^=te<<7|te>>>25,te=rt+jt|0,fe^=te<<9|te>>>23,te=fe+rt|0,Qe^=te<<13|te>>>19,te=Qe+fe|0,jt^=te<<18|te>>>14,te=tt+rt|0,st^=te<<7|te>>>25,te=st+tt|0,Xe^=te<<9|te>>>23,te=Xe+st|0,rt^=te<<13|te>>>19,te=rt+Xe|0,tt^=te<<18|te>>>14,te=Ye+it|0,ce^=te<<7|te>>>25,te=ce+Ye|0,fe^=te<<9|te>>>23,te=fe+ce|0,it^=te<<13|te>>>19,te=it+fe|0,Ye^=te<<18|te>>>14,te=je+Ve|0,Qe^=te<<7|te>>>25,te=Qe+je|0,$e^=te<<9|te>>>23,te=$e+Qe|0,Ve^=te<<13|te>>>19,te=Ve+$e|0,je^=te<<18|te>>>14,te=jt+Gt|0,Rt^=te<<7|te>>>25,te=Rt+jt|0,Vt^=te<<9|te>>>23,te=Vt+Rt|0,Gt^=te<<13|te>>>19,te=Gt+Vt|0,jt^=te<<18|te>>>14;H[0]=tt>>>0&255,H[1]=tt>>>8&255,H[2]=tt>>>16&255,H[3]=tt>>>24&255,H[4]=Ye>>>0&255,H[5]=Ye>>>8&255,H[6]=Ye>>>16&255,H[7]=Ye>>>24&255,H[8]=je>>>0&255,H[9]=je>>>8&255,H[10]=je>>>16&255,H[11]=je>>>24&255,H[12]=jt>>>0&255,H[13]=jt>>>8&255,H[14]=jt>>>16&255,H[15]=jt>>>24&255,H[16]=ce>>>0&255,H[17]=ce>>>8&255,H[18]=ce>>>16&255,H[19]=ce>>>24&255,H[20]=fe>>>0&255,H[21]=fe>>>8&255,H[22]=fe>>>16&255,H[23]=fe>>>24&255,H[24]=$e>>>0&255,H[25]=$e>>>8&255,H[26]=$e>>>16&255,H[27]=$e>>>24&255,H[28]=Ve>>>0&255,H[29]=Ve>>>8&255,H[30]=Ve>>>16&255,H[31]=Ve>>>24&255}function R(H,j,K,N){P(H,j,K,N)}function L(H,j,K,N){D(H,j,K,N)}var V=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function z(H,j,K,N,G,Y,ae){var ee=new Uint8Array(16),ie=new Uint8Array(64),ot,Ze;for(Ze=0;Ze<16;Ze++)ee[Ze]=0;for(Ze=0;Ze<8;Ze++)ee[Ze]=Y[Ze];for(;G>=64;){for(R(ie,ee,ae,V),Ze=0;Ze<64;Ze++)H[j+Ze]=K[N+Ze]^ie[Ze];for(ot=1,Ze=8;Ze<16;Ze++)ot=ot+(ee[Ze]&255)|0,ee[Ze]=ot&255,ot>>>=8;G-=64,j+=64,N+=64}if(G>0)for(R(ie,ee,ae,V),Ze=0;Ze<G;Ze++)H[j+Ze]=K[N+Ze]^ie[Ze];return 0}function oe(H,j,K,N,G){var Y=new Uint8Array(16),ae=new Uint8Array(64),ee,ie;for(ie=0;ie<16;ie++)Y[ie]=0;for(ie=0;ie<8;ie++)Y[ie]=N[ie];for(;K>=64;){for(R(ae,Y,G,V),ie=0;ie<64;ie++)H[j+ie]=ae[ie];for(ee=1,ie=8;ie<16;ie++)ee=ee+(Y[ie]&255)|0,Y[ie]=ee&255,ee>>>=8;K-=64,j+=64}if(K>0)for(R(ae,Y,G,V),ie=0;ie<K;ie++)H[j+ie]=ae[ie];return 0}function $(H,j,K,N,G){var Y=new Uint8Array(32);L(Y,N,G,V);for(var ae=new Uint8Array(8),ee=0;ee<8;ee++)ae[ee]=N[ee+16];return oe(H,j,K,ae,Y)}function ne(H,j,K,N,G,Y,ae){var ee=new Uint8Array(32);L(ee,Y,ae,V);for(var ie=new Uint8Array(8),ot=0;ot<8;ot++)ie[ot]=Y[ot+16];return z(H,j,K,N,G,ie,ee)}var S=function(H){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var j,K,N,G,Y,ae,ee,ie;j=H[0]&255|(H[1]&255)<<8,this.r[0]=j&8191,K=H[2]&255|(H[3]&255)<<8,this.r[1]=(j>>>13|K<<3)&8191,N=H[4]&255|(H[5]&255)<<8,this.r[2]=(K>>>10|N<<6)&7939,G=H[6]&255|(H[7]&255)<<8,this.r[3]=(N>>>7|G<<9)&8191,Y=H[8]&255|(H[9]&255)<<8,this.r[4]=(G>>>4|Y<<12)&255,this.r[5]=Y>>>1&8190,ae=H[10]&255|(H[11]&255)<<8,this.r[6]=(Y>>>14|ae<<2)&8191,ee=H[12]&255|(H[13]&255)<<8,this.r[7]=(ae>>>11|ee<<5)&8065,ie=H[14]&255|(H[15]&255)<<8,this.r[8]=(ee>>>8|ie<<8)&8191,this.r[9]=ie>>>5&127,this.pad[0]=H[16]&255|(H[17]&255)<<8,this.pad[1]=H[18]&255|(H[19]&255)<<8,this.pad[2]=H[20]&255|(H[21]&255)<<8,this.pad[3]=H[22]&255|(H[23]&255)<<8,this.pad[4]=H[24]&255|(H[25]&255)<<8,this.pad[5]=H[26]&255|(H[27]&255)<<8,this.pad[6]=H[28]&255|(H[29]&255)<<8,this.pad[7]=H[30]&255|(H[31]&255)<<8};S.prototype.blocks=function(H,j,K){for(var N=this.fin?0:2048,G,Y,ae,ee,ie,ot,Ze,At,Je,lt,dt,gt,yt,ht,mt,pt,tt,st,Xe,rt=this.h[0],it=this.h[1],Ye=this.h[2],ce=this.h[3],fe=this.h[4],$e=this.h[5],Ve=this.h[6],je=this.h[7],Qe=this.h[8],Rt=this.h[9],Vt=this.r[0],Gt=this.r[1],jt=this.r[2],te=this.r[3],ir=this.r[4],kr=this.r[5],Pr=this.r[6],Xt=this.r[7],Ar=this.r[8],Tr=this.r[9];K>=16;)G=H[j+0]&255|(H[j+1]&255)<<8,rt+=G&8191,Y=H[j+2]&255|(H[j+3]&255)<<8,it+=(G>>>13|Y<<3)&8191,ae=H[j+4]&255|(H[j+5]&255)<<8,Ye+=(Y>>>10|ae<<6)&8191,ee=H[j+6]&255|(H[j+7]&255)<<8,ce+=(ae>>>7|ee<<9)&8191,ie=H[j+8]&255|(H[j+9]&255)<<8,fe+=(ee>>>4|ie<<12)&8191,$e+=ie>>>1&8191,ot=H[j+10]&255|(H[j+11]&255)<<8,Ve+=(ie>>>14|ot<<2)&8191,Ze=H[j+12]&255|(H[j+13]&255)<<8,je+=(ot>>>11|Ze<<5)&8191,At=H[j+14]&255|(H[j+15]&255)<<8,Qe+=(Ze>>>8|At<<8)&8191,Rt+=At>>>5|N,Je=0,lt=Je,lt+=rt*Vt,lt+=it*(5*Tr),lt+=Ye*(5*Ar),lt+=ce*(5*Xt),lt+=fe*(5*Pr),Je=lt>>>13,lt&=8191,lt+=$e*(5*kr),lt+=Ve*(5*ir),lt+=je*(5*te),lt+=Qe*(5*jt),lt+=Rt*(5*Gt),Je+=lt>>>13,lt&=8191,dt=Je,dt+=rt*Gt,dt+=it*Vt,dt+=Ye*(5*Tr),dt+=ce*(5*Ar),dt+=fe*(5*Xt),Je=dt>>>13,dt&=8191,dt+=$e*(5*Pr),dt+=Ve*(5*kr),dt+=je*(5*ir),dt+=Qe*(5*te),dt+=Rt*(5*jt),Je+=dt>>>13,dt&=8191,gt=Je,gt+=rt*jt,gt+=it*Gt,gt+=Ye*Vt,gt+=ce*(5*Tr),gt+=fe*(5*Ar),Je=gt>>>13,gt&=8191,gt+=$e*(5*Xt),gt+=Ve*(5*Pr),gt+=je*(5*kr),gt+=Qe*(5*ir),gt+=Rt*(5*te),Je+=gt>>>13,gt&=8191,yt=Je,yt+=rt*te,yt+=it*jt,yt+=Ye*Gt,yt+=ce*Vt,yt+=fe*(5*Tr),Je=yt>>>13,yt&=8191,yt+=$e*(5*Ar),yt+=Ve*(5*Xt),yt+=je*(5*Pr),yt+=Qe*(5*kr),yt+=Rt*(5*ir),Je+=yt>>>13,yt&=8191,ht=Je,ht+=rt*ir,ht+=it*te,ht+=Ye*jt,ht+=ce*Gt,ht+=fe*Vt,Je=ht>>>13,ht&=8191,ht+=$e*(5*Tr),ht+=Ve*(5*Ar),ht+=je*(5*Xt),ht+=Qe*(5*Pr),ht+=Rt*(5*kr),Je+=ht>>>13,ht&=8191,mt=Je,mt+=rt*kr,mt+=it*ir,mt+=Ye*te,mt+=ce*jt,mt+=fe*Gt,Je=mt>>>13,mt&=8191,mt+=$e*Vt,mt+=Ve*(5*Tr),mt+=je*(5*Ar),mt+=Qe*(5*Xt),mt+=Rt*(5*Pr),Je+=mt>>>13,mt&=8191,pt=Je,pt+=rt*Pr,pt+=it*kr,pt+=Ye*ir,pt+=ce*te,pt+=fe*jt,Je=pt>>>13,pt&=8191,pt+=$e*Gt,pt+=Ve*Vt,pt+=je*(5*Tr),pt+=Qe*(5*Ar),pt+=Rt*(5*Xt),Je+=pt>>>13,pt&=8191,tt=Je,tt+=rt*Xt,tt+=it*Pr,tt+=Ye*kr,tt+=ce*ir,tt+=fe*te,Je=tt>>>13,tt&=8191,tt+=$e*jt,tt+=Ve*Gt,tt+=je*Vt,tt+=Qe*(5*Tr),tt+=Rt*(5*Ar),Je+=tt>>>13,tt&=8191,st=Je,st+=rt*Ar,st+=it*Xt,st+=Ye*Pr,st+=ce*kr,st+=fe*ir,Je=st>>>13,st&=8191,st+=$e*te,st+=Ve*jt,st+=je*Gt,st+=Qe*Vt,st+=Rt*(5*Tr),Je+=st>>>13,st&=8191,Xe=Je,Xe+=rt*Tr,Xe+=it*Ar,Xe+=Ye*Xt,Xe+=ce*Pr,Xe+=fe*kr,Je=Xe>>>13,Xe&=8191,Xe+=$e*ir,Xe+=Ve*te,Xe+=je*jt,Xe+=Qe*Gt,Xe+=Rt*Vt,Je+=Xe>>>13,Xe&=8191,Je=(Je<<2)+Je|0,Je=Je+lt|0,lt=Je&8191,Je=Je>>>13,dt+=Je,rt=lt,it=dt,Ye=gt,ce=yt,fe=ht,$e=mt,Ve=pt,je=tt,Qe=st,Rt=Xe,j+=16,K-=16;this.h[0]=rt,this.h[1]=it,this.h[2]=Ye,this.h[3]=ce,this.h[4]=fe,this.h[5]=$e,this.h[6]=Ve,this.h[7]=je,this.h[8]=Qe,this.h[9]=Rt},S.prototype.finish=function(H,j){var K=new Uint16Array(10),N,G,Y,ae;if(this.leftover){for(ae=this.leftover,this.buffer[ae++]=1;ae<16;ae++)this.buffer[ae]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(N=this.h[1]>>>13,this.h[1]&=8191,ae=2;ae<10;ae++)this.h[ae]+=N,N=this.h[ae]>>>13,this.h[ae]&=8191;for(this.h[0]+=N*5,N=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=N,N=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=N,K[0]=this.h[0]+5,N=K[0]>>>13,K[0]&=8191,ae=1;ae<10;ae++)K[ae]=this.h[ae]+N,N=K[ae]>>>13,K[ae]&=8191;for(K[9]-=8192,G=(N^1)-1,ae=0;ae<10;ae++)K[ae]&=G;for(G=~G,ae=0;ae<10;ae++)this.h[ae]=this.h[ae]&G|K[ae];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Y=this.h[0]+this.pad[0],this.h[0]=Y&65535,ae=1;ae<8;ae++)Y=(this.h[ae]+this.pad[ae]|0)+(Y>>>16)|0,this.h[ae]=Y&65535;H[j+0]=this.h[0]>>>0&255,H[j+1]=this.h[0]>>>8&255,H[j+2]=this.h[1]>>>0&255,H[j+3]=this.h[1]>>>8&255,H[j+4]=this.h[2]>>>0&255,H[j+5]=this.h[2]>>>8&255,H[j+6]=this.h[3]>>>0&255,H[j+7]=this.h[3]>>>8&255,H[j+8]=this.h[4]>>>0&255,H[j+9]=this.h[4]>>>8&255,H[j+10]=this.h[5]>>>0&255,H[j+11]=this.h[5]>>>8&255,H[j+12]=this.h[6]>>>0&255,H[j+13]=this.h[6]>>>8&255,H[j+14]=this.h[7]>>>0&255,H[j+15]=this.h[7]>>>8&255},S.prototype.update=function(H,j,K){var N,G;if(this.leftover){for(G=16-this.leftover,G>K&&(G=K),N=0;N<G;N++)this.buffer[this.leftover+N]=H[j+N];if(K-=G,j+=G,this.leftover+=G,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(K>=16&&(G=K-K%16,this.blocks(H,j,G),j+=G,K-=G),K){for(N=0;N<K;N++)this.buffer[this.leftover+N]=H[j+N];this.leftover+=K}};function a(H,j,K,N,G,Y){var ae=new S(Y);return ae.update(K,N,G),ae.finish(H,j),0}function u(H,j,K,N,G,Y){var ae=new Uint8Array(16);return a(ae,0,K,N,G,Y),k(H,j,ae,0)}function m(H,j,K,N,G){var Y;if(K<32)return-1;for(ne(H,0,j,0,K,N,G),a(H,16,H,32,K-32,H),Y=0;Y<16;Y++)H[Y]=0;return 0}function y(H,j,K,N,G){var Y,ae=new Uint8Array(32);if(K<32||($(ae,0,32,N,G),u(j,16,j,32,K-32,ae)!==0))return-1;for(ne(H,0,j,0,K,N,G),Y=0;Y<32;Y++)H[Y]=0;return 0}function w(H,j){var K;for(K=0;K<16;K++)H[K]=j[K]|0}function E(H){var j,K,N=1;for(j=0;j<16;j++)K=H[j]+N+65535,N=Math.floor(K/65536),H[j]=K-N*65536;H[0]+=N-1+37*(N-1)}function A(H,j,K){for(var N,G=~(K-1),Y=0;Y<16;Y++)N=G&(H[Y]^j[Y]),H[Y]^=N,j[Y]^=N}function x(H,j){var K,N,G,Y=e(),ae=e();for(K=0;K<16;K++)ae[K]=j[K];for(E(ae),E(ae),E(ae),N=0;N<2;N++){for(Y[0]=ae[0]-65517,K=1;K<15;K++)Y[K]=ae[K]-65535-(Y[K-1]>>16&1),Y[K-1]&=65535;Y[15]=ae[15]-32767-(Y[14]>>16&1),G=Y[15]>>16&1,Y[14]&=65535,A(ae,Y,1-G)}for(K=0;K<16;K++)H[2*K]=ae[K]&255,H[2*K+1]=ae[K]>>8}function f(H,j){var K=new Uint8Array(32),N=new Uint8Array(32);return x(K,H),x(N,j),B(K,0,N,0)}function v(H){var j=new Uint8Array(32);return x(j,H),j[0]&1}function q(H,j){var K;for(K=0;K<16;K++)H[K]=j[2*K]+(j[2*K+1]<<8);H[15]&=32767}function U(H,j,K){for(var N=0;N<16;N++)H[N]=j[N]+K[N]}function O(H,j,K){for(var N=0;N<16;N++)H[N]=j[N]-K[N]}function W(H,j,K){var N,G,Y=0,ae=0,ee=0,ie=0,ot=0,Ze=0,At=0,Je=0,lt=0,dt=0,gt=0,yt=0,ht=0,mt=0,pt=0,tt=0,st=0,Xe=0,rt=0,it=0,Ye=0,ce=0,fe=0,$e=0,Ve=0,je=0,Qe=0,Rt=0,Vt=0,Gt=0,jt=0,te=K[0],ir=K[1],kr=K[2],Pr=K[3],Xt=K[4],Ar=K[5],Tr=K[6],mi=K[7],Wr=K[8],ti=K[9],ri=K[10],ni=K[11],Li=K[12],Go=K[13],Wo=K[14],$o=K[15];N=j[0],Y+=N*te,ae+=N*ir,ee+=N*kr,ie+=N*Pr,ot+=N*Xt,Ze+=N*Ar,At+=N*Tr,Je+=N*mi,lt+=N*Wr,dt+=N*ti,gt+=N*ri,yt+=N*ni,ht+=N*Li,mt+=N*Go,pt+=N*Wo,tt+=N*$o,N=j[1],ae+=N*te,ee+=N*ir,ie+=N*kr,ot+=N*Pr,Ze+=N*Xt,At+=N*Ar,Je+=N*Tr,lt+=N*mi,dt+=N*Wr,gt+=N*ti,yt+=N*ri,ht+=N*ni,mt+=N*Li,pt+=N*Go,tt+=N*Wo,st+=N*$o,N=j[2],ee+=N*te,ie+=N*ir,ot+=N*kr,Ze+=N*Pr,At+=N*Xt,Je+=N*Ar,lt+=N*Tr,dt+=N*mi,gt+=N*Wr,yt+=N*ti,ht+=N*ri,mt+=N*ni,pt+=N*Li,tt+=N*Go,st+=N*Wo,Xe+=N*$o,N=j[3],ie+=N*te,ot+=N*ir,Ze+=N*kr,At+=N*Pr,Je+=N*Xt,lt+=N*Ar,dt+=N*Tr,gt+=N*mi,yt+=N*Wr,ht+=N*ti,mt+=N*ri,pt+=N*ni,tt+=N*Li,st+=N*Go,Xe+=N*Wo,rt+=N*$o,N=j[4],ot+=N*te,Ze+=N*ir,At+=N*kr,Je+=N*Pr,lt+=N*Xt,dt+=N*Ar,gt+=N*Tr,yt+=N*mi,ht+=N*Wr,mt+=N*ti,pt+=N*ri,tt+=N*ni,st+=N*Li,Xe+=N*Go,rt+=N*Wo,it+=N*$o,N=j[5],Ze+=N*te,At+=N*ir,Je+=N*kr,lt+=N*Pr,dt+=N*Xt,gt+=N*Ar,yt+=N*Tr,ht+=N*mi,mt+=N*Wr,pt+=N*ti,tt+=N*ri,st+=N*ni,Xe+=N*Li,rt+=N*Go,it+=N*Wo,Ye+=N*$o,N=j[6],At+=N*te,Je+=N*ir,lt+=N*kr,dt+=N*Pr,gt+=N*Xt,yt+=N*Ar,ht+=N*Tr,mt+=N*mi,pt+=N*Wr,tt+=N*ti,st+=N*ri,Xe+=N*ni,rt+=N*Li,it+=N*Go,Ye+=N*Wo,ce+=N*$o,N=j[7],Je+=N*te,lt+=N*ir,dt+=N*kr,gt+=N*Pr,yt+=N*Xt,ht+=N*Ar,mt+=N*Tr,pt+=N*mi,tt+=N*Wr,st+=N*ti,Xe+=N*ri,rt+=N*ni,it+=N*Li,Ye+=N*Go,ce+=N*Wo,fe+=N*$o,N=j[8],lt+=N*te,dt+=N*ir,gt+=N*kr,yt+=N*Pr,ht+=N*Xt,mt+=N*Ar,pt+=N*Tr,tt+=N*mi,st+=N*Wr,Xe+=N*ti,rt+=N*ri,it+=N*ni,Ye+=N*Li,ce+=N*Go,fe+=N*Wo,$e+=N*$o,N=j[9],dt+=N*te,gt+=N*ir,yt+=N*kr,ht+=N*Pr,mt+=N*Xt,pt+=N*Ar,tt+=N*Tr,st+=N*mi,Xe+=N*Wr,rt+=N*ti,it+=N*ri,Ye+=N*ni,ce+=N*Li,fe+=N*Go,$e+=N*Wo,Ve+=N*$o,N=j[10],gt+=N*te,yt+=N*ir,ht+=N*kr,mt+=N*Pr,pt+=N*Xt,tt+=N*Ar,st+=N*Tr,Xe+=N*mi,rt+=N*Wr,it+=N*ti,Ye+=N*ri,ce+=N*ni,fe+=N*Li,$e+=N*Go,Ve+=N*Wo,je+=N*$o,N=j[11],yt+=N*te,ht+=N*ir,mt+=N*kr,pt+=N*Pr,tt+=N*Xt,st+=N*Ar,Xe+=N*Tr,rt+=N*mi,it+=N*Wr,Ye+=N*ti,ce+=N*ri,fe+=N*ni,$e+=N*Li,Ve+=N*Go,je+=N*Wo,Qe+=N*$o,N=j[12],ht+=N*te,mt+=N*ir,pt+=N*kr,tt+=N*Pr,st+=N*Xt,Xe+=N*Ar,rt+=N*Tr,it+=N*mi,Ye+=N*Wr,ce+=N*ti,fe+=N*ri,$e+=N*ni,Ve+=N*Li,je+=N*Go,Qe+=N*Wo,Rt+=N*$o,N=j[13],mt+=N*te,pt+=N*ir,tt+=N*kr,st+=N*Pr,Xe+=N*Xt,rt+=N*Ar,it+=N*Tr,Ye+=N*mi,ce+=N*Wr,fe+=N*ti,$e+=N*ri,Ve+=N*ni,je+=N*Li,Qe+=N*Go,Rt+=N*Wo,Vt+=N*$o,N=j[14],pt+=N*te,tt+=N*ir,st+=N*kr,Xe+=N*Pr,rt+=N*Xt,it+=N*Ar,Ye+=N*Tr,ce+=N*mi,fe+=N*Wr,$e+=N*ti,Ve+=N*ri,je+=N*ni,Qe+=N*Li,Rt+=N*Go,Vt+=N*Wo,Gt+=N*$o,N=j[15],tt+=N*te,st+=N*ir,Xe+=N*kr,rt+=N*Pr,it+=N*Xt,Ye+=N*Ar,ce+=N*Tr,fe+=N*mi,$e+=N*Wr,Ve+=N*ti,je+=N*ri,Qe+=N*ni,Rt+=N*Li,Vt+=N*Go,Gt+=N*Wo,jt+=N*$o,Y+=38*st,ae+=38*Xe,ee+=38*rt,ie+=38*it,ot+=38*Ye,Ze+=38*ce,At+=38*fe,Je+=38*$e,lt+=38*Ve,dt+=38*je,gt+=38*Qe,yt+=38*Rt,ht+=38*Vt,mt+=38*Gt,pt+=38*jt,G=1,N=Y+G+65535,G=Math.floor(N/65536),Y=N-G*65536,N=ae+G+65535,G=Math.floor(N/65536),ae=N-G*65536,N=ee+G+65535,G=Math.floor(N/65536),ee=N-G*65536,N=ie+G+65535,G=Math.floor(N/65536),ie=N-G*65536,N=ot+G+65535,G=Math.floor(N/65536),ot=N-G*65536,N=Ze+G+65535,G=Math.floor(N/65536),Ze=N-G*65536,N=At+G+65535,G=Math.floor(N/65536),At=N-G*65536,N=Je+G+65535,G=Math.floor(N/65536),Je=N-G*65536,N=lt+G+65535,G=Math.floor(N/65536),lt=N-G*65536,N=dt+G+65535,G=Math.floor(N/65536),dt=N-G*65536,N=gt+G+65535,G=Math.floor(N/65536),gt=N-G*65536,N=yt+G+65535,G=Math.floor(N/65536),yt=N-G*65536,N=ht+G+65535,G=Math.floor(N/65536),ht=N-G*65536,N=mt+G+65535,G=Math.floor(N/65536),mt=N-G*65536,N=pt+G+65535,G=Math.floor(N/65536),pt=N-G*65536,N=tt+G+65535,G=Math.floor(N/65536),tt=N-G*65536,Y+=G-1+37*(G-1),G=1,N=Y+G+65535,G=Math.floor(N/65536),Y=N-G*65536,N=ae+G+65535,G=Math.floor(N/65536),ae=N-G*65536,N=ee+G+65535,G=Math.floor(N/65536),ee=N-G*65536,N=ie+G+65535,G=Math.floor(N/65536),ie=N-G*65536,N=ot+G+65535,G=Math.floor(N/65536),ot=N-G*65536,N=Ze+G+65535,G=Math.floor(N/65536),Ze=N-G*65536,N=At+G+65535,G=Math.floor(N/65536),At=N-G*65536,N=Je+G+65535,G=Math.floor(N/65536),Je=N-G*65536,N=lt+G+65535,G=Math.floor(N/65536),lt=N-G*65536,N=dt+G+65535,G=Math.floor(N/65536),dt=N-G*65536,N=gt+G+65535,G=Math.floor(N/65536),gt=N-G*65536,N=yt+G+65535,G=Math.floor(N/65536),yt=N-G*65536,N=ht+G+65535,G=Math.floor(N/65536),ht=N-G*65536,N=mt+G+65535,G=Math.floor(N/65536),mt=N-G*65536,N=pt+G+65535,G=Math.floor(N/65536),pt=N-G*65536,N=tt+G+65535,G=Math.floor(N/65536),tt=N-G*65536,Y+=G-1+37*(G-1),H[0]=Y,H[1]=ae,H[2]=ee,H[3]=ie,H[4]=ot,H[5]=Ze,H[6]=At,H[7]=Je,H[8]=lt,H[9]=dt,H[10]=gt,H[11]=yt,H[12]=ht,H[13]=mt,H[14]=pt,H[15]=tt}function Q(H,j){W(H,j,j)}function re(H,j){var K=e(),N;for(N=0;N<16;N++)K[N]=j[N];for(N=253;N>=0;N--)Q(K,K),N!==2&&N!==4&&W(K,K,j);for(N=0;N<16;N++)H[N]=K[N]}function Ke(H,j){var K=e(),N;for(N=0;N<16;N++)K[N]=j[N];for(N=250;N>=0;N--)Q(K,K),N!==1&&W(K,K,j);for(N=0;N<16;N++)H[N]=K[N]}function se(H,j,K){var N=new Uint8Array(32),G=new Float64Array(80),Y,ae,ee=e(),ie=e(),ot=e(),Ze=e(),At=e(),Je=e();for(ae=0;ae<31;ae++)N[ae]=j[ae];for(N[31]=j[31]&127|64,N[0]&=248,q(G,K),ae=0;ae<16;ae++)ie[ae]=G[ae],Ze[ae]=ee[ae]=ot[ae]=0;for(ee[0]=Ze[0]=1,ae=254;ae>=0;--ae)Y=N[ae>>>3]>>>(ae&7)&1,A(ee,ie,Y),A(ot,Ze,Y),U(At,ee,ot),O(ee,ee,ot),U(ot,ie,Ze),O(ie,ie,Ze),Q(Ze,At),Q(Je,ee),W(ee,ot,ee),W(ot,ie,At),U(At,ee,ot),O(ee,ee,ot),Q(ie,ee),O(ot,Ze,Je),W(ee,ot,c),U(ee,ee,Ze),W(ot,ot,ee),W(ee,Ze,Je),W(Ze,ie,G),Q(ie,At),A(ee,ie,Y),A(ot,Ze,Y);for(ae=0;ae<16;ae++)G[ae+16]=ee[ae],G[ae+32]=ot[ae],G[ae+48]=ie[ae],G[ae+64]=Ze[ae];var lt=G.subarray(32),dt=G.subarray(16);return re(lt,lt),W(dt,dt,lt),x(H,dt),0}function Z(H,j){return se(H,j,i)}function ct(H,j){return r(j,32),Z(H,j)}function de(H,j,K){var N=new Uint8Array(32);return se(N,K,j),L(H,n,N,V)}var he=m,ur=y;function me(H,j,K,N,G,Y){var ae=new Uint8Array(32);return de(ae,G,Y),he(H,j,K,N,ae)}function Se(H,j,K,N,G,Y){var ae=new Uint8Array(32);return de(ae,G,Y),ur(H,j,K,N,ae)}var qn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ce(H,j,K,N){for(var G=new Int32Array(16),Y=new Int32Array(16),ae,ee,ie,ot,Ze,At,Je,lt,dt,gt,yt,ht,mt,pt,tt,st,Xe,rt,it,Ye,ce,fe,$e,Ve,je,Qe,Rt=H[0],Vt=H[1],Gt=H[2],jt=H[3],te=H[4],ir=H[5],kr=H[6],Pr=H[7],Xt=j[0],Ar=j[1],Tr=j[2],mi=j[3],Wr=j[4],ti=j[5],ri=j[6],ni=j[7],Li=0;N>=128;){for(it=0;it<16;it++)Ye=8*it+Li,G[it]=K[Ye+0]<<24|K[Ye+1]<<16|K[Ye+2]<<8|K[Ye+3],Y[it]=K[Ye+4]<<24|K[Ye+5]<<16|K[Ye+6]<<8|K[Ye+7];for(it=0;it<80;it++)if(ae=Rt,ee=Vt,ie=Gt,ot=jt,Ze=te,At=ir,Je=kr,lt=Pr,dt=Xt,gt=Ar,yt=Tr,ht=mi,mt=Wr,pt=ti,tt=ri,st=ni,ce=Pr,fe=ni,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=(te>>>14|Wr<<18)^(te>>>18|Wr<<14)^(Wr>>>9|te<<23),fe=(Wr>>>14|te<<18)^(Wr>>>18|te<<14)^(te>>>9|Wr<<23),$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,ce=te&ir^~te&kr,fe=Wr&ti^~Wr&ri,$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,ce=qn[it*2],fe=qn[it*2+1],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,ce=G[it%16],fe=Y[it%16],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,Xe=je&65535|Qe<<16,rt=$e&65535|Ve<<16,ce=Xe,fe=rt,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=(Rt>>>28|Xt<<4)^(Xt>>>2|Rt<<30)^(Xt>>>7|Rt<<25),fe=(Xt>>>28|Rt<<4)^(Rt>>>2|Xt<<30)^(Rt>>>7|Xt<<25),$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,ce=Rt&Vt^Rt&Gt^Vt&Gt,fe=Xt&Ar^Xt&Tr^Ar&Tr,$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,lt=je&65535|Qe<<16,st=$e&65535|Ve<<16,ce=ot,fe=ht,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=Xe,fe=rt,$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,ot=je&65535|Qe<<16,ht=$e&65535|Ve<<16,Vt=ae,Gt=ee,jt=ie,te=ot,ir=Ze,kr=At,Pr=Je,Rt=lt,Ar=dt,Tr=gt,mi=yt,Wr=ht,ti=mt,ri=pt,ni=tt,Xt=st,it%16===15)for(Ye=0;Ye<16;Ye++)ce=G[Ye],fe=Y[Ye],$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=G[(Ye+9)%16],fe=Y[(Ye+9)%16],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Xe=G[(Ye+1)%16],rt=Y[(Ye+1)%16],ce=(Xe>>>1|rt<<31)^(Xe>>>8|rt<<24)^Xe>>>7,fe=(rt>>>1|Xe<<31)^(rt>>>8|Xe<<24)^(rt>>>7|Xe<<25),$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Xe=G[(Ye+14)%16],rt=Y[(Ye+14)%16],ce=(Xe>>>19|rt<<13)^(rt>>>29|Xe<<3)^Xe>>>6,fe=(rt>>>19|Xe<<13)^(Xe>>>29|rt<<3)^(rt>>>6|Xe<<26),$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,G[Ye]=je&65535|Qe<<16,Y[Ye]=$e&65535|Ve<<16;ce=Rt,fe=Xt,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[0],fe=j[0],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[0]=Rt=je&65535|Qe<<16,j[0]=Xt=$e&65535|Ve<<16,ce=Vt,fe=Ar,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[1],fe=j[1],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[1]=Vt=je&65535|Qe<<16,j[1]=Ar=$e&65535|Ve<<16,ce=Gt,fe=Tr,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[2],fe=j[2],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[2]=Gt=je&65535|Qe<<16,j[2]=Tr=$e&65535|Ve<<16,ce=jt,fe=mi,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[3],fe=j[3],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[3]=jt=je&65535|Qe<<16,j[3]=mi=$e&65535|Ve<<16,ce=te,fe=Wr,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[4],fe=j[4],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[4]=te=je&65535|Qe<<16,j[4]=Wr=$e&65535|Ve<<16,ce=ir,fe=ti,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[5],fe=j[5],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[5]=ir=je&65535|Qe<<16,j[5]=ti=$e&65535|Ve<<16,ce=kr,fe=ri,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[6],fe=j[6],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[6]=kr=je&65535|Qe<<16,j[6]=ri=$e&65535|Ve<<16,ce=Pr,fe=ni,$e=fe&65535,Ve=fe>>>16,je=ce&65535,Qe=ce>>>16,ce=H[7],fe=j[7],$e+=fe&65535,Ve+=fe>>>16,je+=ce&65535,Qe+=ce>>>16,Ve+=$e>>>16,je+=Ve>>>16,Qe+=je>>>16,H[7]=Pr=je&65535|Qe<<16,j[7]=ni=$e&65535|Ve<<16,Li+=128,N-=128}return N}function ye(H,j,K){var N=new Int32Array(8),G=new Int32Array(8),Y=new Uint8Array(256),ae,ee=K;for(N[0]=1779033703,N[1]=3144134277,N[2]=1013904242,N[3]=2773480762,N[4]=1359893119,N[5]=2600822924,N[6]=528734635,N[7]=1541459225,G[0]=4089235720,G[1]=2227873595,G[2]=4271175723,G[3]=1595750129,G[4]=2917565137,G[5]=725511199,G[6]=4215389547,G[7]=327033209,Ce(N,G,j,K),K%=128,ae=0;ae<K;ae++)Y[ae]=j[ee-K+ae];for(Y[K]=128,K=256-128*(K<112?1:0),Y[K-9]=0,T(Y,K-8,ee/536870912|0,ee<<3),Ce(N,G,Y,K),ae=0;ae<8;ae++)T(H,8*ae,N[ae],G[ae]);return 0}function Jn(H,j){var K=e(),N=e(),G=e(),Y=e(),ae=e(),ee=e(),ie=e(),ot=e(),Ze=e();O(K,H[1],H[0]),O(Ze,j[1],j[0]),W(K,K,Ze),U(N,H[0],H[1]),U(Ze,j[0],j[1]),W(N,N,Ze),W(G,H[3],j[3]),W(G,G,d),W(Y,H[2],j[2]),U(Y,Y,Y),O(ae,N,K),O(ee,Y,G),U(ie,Y,G),U(ot,N,K),W(H[0],ae,ee),W(H[1],ot,ie),W(H[2],ie,ee),W(H[3],ae,ot)}function Ne(H,j,K){var N;for(N=0;N<4;N++)A(H[N],j[N],K)}function Te(H,j){var K=e(),N=e(),G=e();re(G,j[2]),W(K,j[0],G),W(N,j[1],G),x(H,N),H[31]^=v(K)<<7}function di(H,j,K){var N,G;for(w(H[0],o),w(H[1],s),w(H[2],s),w(H[3],o),G=255;G>=0;--G)N=K[G/8|0]>>(G&7)&1,Ne(H,j,N),Jn(j,H),Jn(H,H),Ne(H,j,N)}function Ee(H,j){var K=[e(),e(),e(),e()];w(K[0],g),w(K[1],b),w(K[2],s),W(K[3],g,b),di(H,K,j)}function Ie(H,j,K){var N=new Uint8Array(64),G=[e(),e(),e(),e()],Y;for(K||r(j,32),ye(N,j,32),N[0]&=248,N[31]&=127,N[31]|=64,Ee(G,N),Te(H,G),Y=0;Y<32;Y++)j[Y+32]=H[Y];return 0}var ei=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Me(H,j){var K,N,G,Y;for(N=63;N>=32;--N){for(K=0,G=N-32,Y=N-12;G<Y;++G)j[G]+=K-16*j[N]*ei[G-(N-32)],K=Math.floor((j[G]+128)/256),j[G]-=K*256;j[G]+=K,j[N]=0}for(K=0,G=0;G<32;G++)j[G]+=K-(j[31]>>4)*ei[G],K=j[G]>>8,j[G]&=255;for(G=0;G<32;G++)j[G]-=K*ei[G];for(N=0;N<32;N++)j[N+1]+=j[N]>>8,H[N]=j[N]&255}function ke(H){var j=new Float64Array(64),K;for(K=0;K<64;K++)j[K]=H[K];for(K=0;K<64;K++)H[K]=0;Me(H,j)}function Si(H,j,K,N){var G=new Uint8Array(64),Y=new Uint8Array(64),ae=new Uint8Array(64),ee,ie,ot=new Float64Array(64),Ze=[e(),e(),e(),e()];ye(G,N,32),G[0]&=248,G[31]&=127,G[31]|=64;var At=K+64;for(ee=0;ee<K;ee++)H[64+ee]=j[ee];for(ee=0;ee<32;ee++)H[32+ee]=G[32+ee];for(ye(ae,H.subarray(32),K+32),ke(ae),Ee(Ze,ae),Te(H,Ze),ee=32;ee<64;ee++)H[ee]=N[ee];for(ye(Y,H,K+64),ke(Y),ee=0;ee<64;ee++)ot[ee]=0;for(ee=0;ee<32;ee++)ot[ee]=ae[ee];for(ee=0;ee<32;ee++)for(ie=0;ie<32;ie++)ot[ee+ie]+=Y[ee]*G[ie];return Me(H.subarray(32),ot),At}function Le(H,j){var K=e(),N=e(),G=e(),Y=e(),ae=e(),ee=e(),ie=e();return w(H[2],s),q(H[1],j),Q(G,H[1]),W(Y,G,l),O(G,G,H[2]),U(Y,H[2],Y),Q(ae,Y),Q(ee,ae),W(ie,ee,ae),W(K,ie,G),W(K,K,Y),Ke(K,K),W(K,K,G),W(K,K,Y),W(K,K,Y),W(H[0],K,Y),Q(N,H[0]),W(N,N,Y),f(N,G)&&W(H[0],H[0],_),Q(N,H[0]),W(N,N,Y),f(N,G)?-1:(v(H[0])===j[31]>>7&&O(H[0],o,H[0]),W(H[3],H[0],H[1]),0)}function Pe(H,j,K,N){var G,Y=new Uint8Array(32),ae=new Uint8Array(64),ee=[e(),e(),e(),e()],ie=[e(),e(),e(),e()];if(K<64||Le(ie,N))return-1;for(G=0;G<K;G++)H[G]=j[G];for(G=0;G<32;G++)H[G+32]=N[G];if(ye(ae,H,K),ke(ae),di(ee,ie,ae),Ee(ie,j.subarray(32)),Jn(ee,ie),Te(Y,ee),K-=64,B(j,0,Y,0)){for(G=0;G<K;G++)H[G]=0;return-1}for(G=0;G<K;G++)H[G]=j[G+64];return K}var hi=32,_e=24,ve=32,kn=16,xe=32,Ae=32,Hn=32,we=32,Re=32,Ei=_e,Ue=ve,Fe=kn,un=64,ge=32,be=64,pi=32,Be=64;t.lowlevel={crypto_core_hsalsa20:L,crypto_stream_xor:ne,crypto_stream:$,crypto_stream_salsa20_xor:z,crypto_stream_salsa20:oe,crypto_onetimeauth:a,crypto_onetimeauth_verify:u,crypto_verify_16:k,crypto_verify_32:B,crypto_secretbox:m,crypto_secretbox_open:y,crypto_scalarmult:se,crypto_scalarmult_base:Z,crypto_box_beforenm:de,crypto_box_afternm:he,crypto_box:me,crypto_box_open:Se,crypto_box_keypair:ct,crypto_hash:ye,crypto_sign:Si,crypto_sign_keypair:Ie,crypto_sign_open:Pe,crypto_secretbox_KEYBYTES:hi,crypto_secretbox_NONCEBYTES:_e,crypto_secretbox_ZEROBYTES:ve,crypto_secretbox_BOXZEROBYTES:kn,crypto_scalarmult_BYTES:xe,crypto_scalarmult_SCALARBYTES:Ae,crypto_box_PUBLICKEYBYTES:Hn,crypto_box_SECRETKEYBYTES:we,crypto_box_BEFORENMBYTES:Re,crypto_box_NONCEBYTES:Ei,crypto_box_ZEROBYTES:Ue,crypto_box_BOXZEROBYTES:Fe,crypto_sign_BYTES:un,crypto_sign_PUBLICKEYBYTES:ge,crypto_sign_SECRETKEYBYTES:be,crypto_sign_SEEDBYTES:pi,crypto_hash_BYTES:Be,gf:e,D:l,L:ei,pack25519:x,unpack25519:q,M:W,A:U,S:Q,Z:O,pow2523:Ke,add:Jn,set25519:w,modL:Me,scalarmult:di,scalarbase:Ee};function Oe(H,j){if(H.length!==hi)throw new Error("bad key size");if(j.length!==_e)throw new Error("bad nonce size")}function Di(H,j){if(H.length!==Hn)throw new Error("bad public key size");if(j.length!==we)throw new Error("bad secret key size")}function pe(){for(var H=0;H<arguments.length;H++)if(!(arguments[H]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function De(H){for(var j=0;j<H.length;j++)H[j]=0}t.randomBytes=function(H){var j=new Uint8Array(H);return r(j,H),j},t.secretbox=function(H,j,K){pe(H,j,K),Oe(K,j);for(var N=new Uint8Array(ve+H.length),G=new Uint8Array(N.length),Y=0;Y<H.length;Y++)N[Y+ve]=H[Y];return m(G,N,N.length,j,K),G.subarray(kn)},t.secretbox.open=function(H,j,K){pe(H,j,K),Oe(K,j);for(var N=new Uint8Array(kn+H.length),G=new Uint8Array(N.length),Y=0;Y<H.length;Y++)N[Y+kn]=H[Y];return N.length<32||y(G,N,N.length,j,K)!==0?null:G.subarray(ve)},t.secretbox.keyLength=hi,t.secretbox.nonceLength=_e,t.secretbox.overheadLength=kn,t.scalarMult=function(H,j){if(pe(H,j),H.length!==Ae)throw new Error("bad n size");if(j.length!==xe)throw new Error("bad p size");var K=new Uint8Array(xe);return se(K,H,j),K},t.scalarMult.base=function(H){if(pe(H),H.length!==Ae)throw new Error("bad n size");var j=new Uint8Array(xe);return Z(j,H),j},t.scalarMult.scalarLength=Ae,t.scalarMult.groupElementLength=xe,t.box=function(H,j,K,N){var G=t.box.before(K,N);return t.secretbox(H,j,G)},t.box.before=function(H,j){pe(H,j),Di(H,j);var K=new Uint8Array(Re);return de(K,H,j),K},t.box.after=t.secretbox,t.box.open=function(H,j,K,N){var G=t.box.before(K,N);return t.secretbox.open(H,j,G)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var H=new Uint8Array(Hn),j=new Uint8Array(we);return ct(H,j),{publicKey:H,secretKey:j}},t.box.keyPair.fromSecretKey=function(H){if(pe(H),H.length!==we)throw new Error("bad secret key size");var j=new Uint8Array(Hn);return Z(j,H),{publicKey:j,secretKey:new Uint8Array(H)}},t.box.publicKeyLength=Hn,t.box.secretKeyLength=we,t.box.sharedKeyLength=Re,t.box.nonceLength=Ei,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(H,j){if(pe(H,j),j.length!==be)throw new Error("bad secret key size");var K=new Uint8Array(un+H.length);return Si(K,H,H.length,j),K},t.sign.open=function(H,j){if(pe(H,j),j.length!==ge)throw new Error("bad public key size");var K=new Uint8Array(H.length),N=Pe(K,H,H.length,j);if(N<0)return null;for(var G=new Uint8Array(N),Y=0;Y<G.length;Y++)G[Y]=K[Y];return G},t.sign.detached=function(H,j){for(var K=t.sign(H,j),N=new Uint8Array(un),G=0;G<N.length;G++)N[G]=K[G];return N},t.sign.detached.verify=function(H,j,K){if(pe(H,j,K),j.length!==un)throw new Error("bad signature size");if(K.length!==ge)throw new Error("bad public key size");var N=new Uint8Array(un+H.length),G=new Uint8Array(un+H.length),Y;for(Y=0;Y<un;Y++)N[Y]=j[Y];for(Y=0;Y<H.length;Y++)N[Y+un]=H[Y];return Pe(G,N,N.length,K)>=0},t.sign.keyPair=function(){var H=new Uint8Array(ge),j=new Uint8Array(be);return Ie(H,j),{publicKey:H,secretKey:j}},t.sign.keyPair.fromSecretKey=function(H){if(pe(H),H.length!==be)throw new Error("bad secret key size");for(var j=new Uint8Array(ge),K=0;K<j.length;K++)j[K]=H[32+K];return{publicKey:j,secretKey:new Uint8Array(H)}},t.sign.keyPair.fromSeed=function(H){if(pe(H),H.length!==pi)throw new Error("bad seed size");for(var j=new Uint8Array(ge),K=new Uint8Array(be),N=0;N<32;N++)K[N]=H[N];return Ie(j,K,!0),{publicKey:j,secretKey:K}},t.sign.publicKeyLength=ge,t.sign.secretKeyLength=be,t.sign.seedLength=pi,t.sign.signatureLength=un,t.hash=function(H){pe(H);var j=new Uint8Array(Be);return ye(j,H,H.length),j},t.hash.hashLength=Be,t.verify=function(H,j){return pe(H,j),H.length===0||j.length===0||H.length!==j.length?!1:M(H,0,j,0,H.length)===0},t.setPRNG=function(H){r=H},function(){var H=typeof self<"u"?self.crypto||self.msCrypto:null;if(H&&H.getRandomValues){var j=65536;t.setPRNG(function(K,N){var G,Y=new Uint8Array(N);for(G=0;G<N;G+=j)H.getRandomValues(Y.subarray(G,G+Math.min(N-G,j)));for(G=0;G<N;G++)K[G]=Y[G];De(Y)})}else typeof xG<"u"&&(H=Dp(),H&&H.randomBytes&&t.setPRNG(function(K,N){var G,Y=H.randomBytes(N);for(G=0;G<N;G++)K[G]=Y[G];De(Y)}))}()})(typeof B5<"u"&&B5.exports?B5.exports:self.nacl=self.nacl||{})});var Uae=F((YNt,Lae)=>{"use strict";h();p();function Wqe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function g(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var M=0,k=0,B=0,P=T.length;B!==P&&T[B]===0;)B++,M++;for(var D=(P-B)*d+1>>>0,R=new Uint8Array(D);B!==P;){for(var L=T[B],V=0,z=D-1;(L!==0||V<k)&&z!==-1;z--,V++)L+=256*R[z]>>>0,R[z]=L%s>>>0,L=L/s>>>0;if(L!==0)throw new Error("Non-zero carry");k=V,B++}for(var oe=D-k;oe!==D&&R[oe]===0;)oe++;for(var $=c.repeat(M);oe<D;++oe)$+=t.charAt(R[oe]);return $}function b(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var M=0,k=0,B=0;T[M]===c;)k++,M++;for(var P=(T.length-M)*l+1>>>0,D=new Uint8Array(P);T[M];){var R=e[T.charCodeAt(M)];if(R===255)return;for(var L=0,V=P-1;(R!==0||L<B)&&V!==-1;V--,L++)R+=s*D[V]>>>0,D[V]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");B=L,M++}for(var z=P-B;z!==P&&D[z]===0;)z++;for(var oe=new Uint8Array(k+(P-z)),$=k;z!==P;)oe[$++]=D[z++];return oe}function _(T){var M=b(T);if(M)return M;throw new Error("Non-base"+s+" character")}return{encode:g,decodeUnsafe:b,decode:_}}Lae.exports=Wqe});var qae=F((XNt,Fae)=>{h();p();var $qe=Uae(),Yqe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Fae.exports=$qe(Yqe)});var Kae=F((tOt,Hae)=>{"use strict";h();p();var iL=qae();Hae.exports=function(t){function e(o){var s=Uint8Array.from(o),c=t(s),l=s.length+4,d=new Uint8Array(l);return d.set(s,0),d.set(c.subarray(0,4),s.length),iL.encode(d,l)}function r(o){var s=o.slice(0,-4),c=o.slice(-4),l=t(s);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return s}function n(o){var s=iL.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=iL.decode(o),c=r(s,t);if(!c)throw new Error("Invalid checksum");return c}return{encode:e,decode:i,decodeUnsafe:n}}});var yb=F((iOt,jae)=>{"use strict";h();p();var{sha256:Vae}=b4(),Zqe=Kae();function Qqe(t){return Vae(Vae(t))}jae.exports=Zqe(Qqe)});var Gae=F((aOt,zae)=>{"use strict";h();p();var oL=au(),Xqe=Wt().Buffer;zae.exports=function(t){function e(o){var s=t(o);return oL.encode(Xqe.concat([o,s],o.length+4))}function r(o){var s=o.slice(0,-4),c=o.slice(-4),l=t(s);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return s}function n(o){var s=oL.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=oL.decode(o),c=r(s,t);if(!c)throw new Error("Invalid checksum");return c}return{encode:e,decode:i,decodeUnsafe:n}}});var Yae=F((uOt,$ae)=>{"use strict";h();p();var Wae=Mp(),Jqe=Gae();function eHe(t){var e=Wae("sha256").update(t).digest();return Wae("sha256").update(e).digest()}$ae.exports=Jqe(eHe)});var cL=F((hOt,Qae)=>{h();p();var sL=Yae();function Zae(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function aL(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function tHe(t,e){return Zae(sL.decode(t),e)}function rHe(t,e,r){return typeof t=="number"?sL.encode(aL(t,e,r)):sL.encode(aL(t.version,t.privateKey,t.compressed))}Qae.exports={decode:tHe,decodeRaw:Zae,encode:rHe,encodeRaw:aL}});var lL=F(Ds=>{"use strict";h();p();Object.defineProperty(Ds,"__esModule",{value:!0});Ds.output=Ds.exists=Ds.hash=Ds.bytes=Ds.bool=Ds.number=void 0;function F5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ds.number=F5;function ice(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ds.bool=ice;function uL(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ds.bytes=uL;function oce(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");F5(t.outputLen),F5(t.blockLen)}Ds.hash=oce;function sce(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ds.exists=sce;function ace(t,e){uL(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ds.output=ace;var fHe={number:F5,bool:ice,bytes:uL,hash:oce,exists:sce,output:ace};Ds.default=fHe});var cce=F(q5=>{"use strict";h();p();Object.defineProperty(q5,"__esModule",{value:!0});q5.crypto=void 0;q5.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var K5=F(rr=>{"use strict";h();p();Object.defineProperty(rr,"__esModule",{value:!0});rr.randomBytes=rr.wrapXOFConstructorWithOpts=rr.wrapConstructorWithOpts=rr.wrapConstructor=rr.checkOpts=rr.Hash=rr.concatBytes=rr.toBytes=rr.utf8ToBytes=rr.asyncLoop=rr.nextTick=rr.hexToBytes=rr.bytesToHex=rr.isLE=rr.rotr=rr.createView=rr.u32=rr.u8=void 0;var dL=cce(),pL=t=>t instanceof Uint8Array,uHe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);rr.u8=uHe;var lHe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));rr.u32=lHe;var dHe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);rr.createView=dHe;var hHe=(t,e)=>t<<32-e|t>>>e;rr.rotr=hHe;rr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rr.isLE)throw new Error("Non little-endian hardware is not supported");var pHe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mHe(t){if(!pL(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=pHe[t[r]];return e}rr.bytesToHex=mHe;function yHe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}rr.hexToBytes=yHe;var gHe=async()=>{};rr.nextTick=gHe;async function bHe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,rr.nextTick)(),n+=o)}}rr.asyncLoop=bHe;function fce(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}rr.utf8ToBytes=fce;function H5(t){if(typeof t=="string"&&(t=fce(t)),!pL(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}rr.toBytes=H5;function vHe(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!pL(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}rr.concatBytes=vHe;var hL=class{clone(){return this._cloneInto()}};rr.Hash=hL;var xHe=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function wHe(t,e){if(e!==void 0&&(typeof e!="object"||!xHe(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}rr.checkOpts=wHe;function SHe(t){let e=n=>t().update(H5(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}rr.wrapConstructor=SHe;function EHe(t){let e=(n,i)=>t(i).update(H5(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}rr.wrapConstructorWithOpts=EHe;function _He(t){let e=(n,i)=>t(i).update(H5(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}rr.wrapXOFConstructorWithOpts=_He;function AHe(t=32){if(dL.crypto&&typeof dL.crypto.getRandomValues=="function")return dL.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}rr.randomBytes=AHe});var lce=F(km=>{"use strict";h();p();Object.defineProperty(km,"__esModule",{value:!0});km.hmac=km.HMAC=void 0;var V5=lL(),uce=K5(),tS=class extends uce.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,V5.default.hash(e);let n=(0,uce.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return V5.default.exists(this),this.iHash.update(e),this}digestInto(e){V5.default.exists(this),V5.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};km.HMAC=tS;var THe=(t,e,r)=>new tS(t,e).update(r).digest();km.hmac=THe;km.hmac.create=(t,e)=>new tS(t,e)});var dce=F(j5=>{"use strict";h();p();Object.defineProperty(j5,"__esModule",{value:!0});j5.SHA2=void 0;var mL=lL(),rS=K5();function IHe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,d=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+d,c,n)}var yL=class extends rS.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,rS.createView)(this.buffer)}update(e){mL.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,rS.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,rS.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mL.default.exists(this),mL.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;IHe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,rS.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,g[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};j5.SHA2=yL});var hce=F(gb=>{"use strict";h();p();Object.defineProperty(gb,"__esModule",{value:!0});gb.sha224=gb.sha256=void 0;var MHe=dce(),Dc=K5(),kHe=(t,e,r)=>t&e^~t&r,PHe=(t,e,r)=>t&e^t&r^e&r,RHe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l0=new Uint32Array(64),z5=class extends MHe.SHA2{constructor(){super(64,32,8,!1),this.A=u0[0]|0,this.B=u0[1]|0,this.C=u0[2]|0,this.D=u0[3]|0,this.E=u0[4]|0,this.F=u0[5]|0,this.G=u0[6]|0,this.H=u0[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)l0[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let _=l0[b-15],T=l0[b-2],M=(0,Dc.rotr)(_,7)^(0,Dc.rotr)(_,18)^_>>>3,k=(0,Dc.rotr)(T,17)^(0,Dc.rotr)(T,19)^T>>>10;l0[b]=k+l0[b-7]+M+l0[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:d,H:g}=this;for(let b=0;b<64;b++){let _=(0,Dc.rotr)(c,6)^(0,Dc.rotr)(c,11)^(0,Dc.rotr)(c,25),T=g+_+kHe(c,l,d)+RHe[b]+l0[b]|0,k=((0,Dc.rotr)(n,2)^(0,Dc.rotr)(n,13)^(0,Dc.rotr)(n,22))+PHe(n,i,o)|0;g=d,d=l,l=c,c=s+T|0,s=o,o=i,i=n,n=T+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,g=g+this.H|0,this.set(n,i,o,s,c,l,d,g)}roundClean(){l0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},gL=class extends z5{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};gb.sha256=(0,Dc.wrapConstructor)(()=>new z5);gb.sha224=(0,Dc.wrapConstructor)(()=>new gL)});var _L=F(Ri=>{"use strict";h();p();var BHe=XC(),CHe=lce(),pce=hce();function NHe(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Vr=NHe(BHe);Vr.utils.hmacSha256Sync=(t,...e)=>CHe.hmac(pce.sha256,t,Vr.utils.concatBytes(...e));Vr.utils.sha256Sync=(...t)=>pce.sha256(Vr.utils.concatBytes(...t));var xL=Vr.utils._normalizePrivateKey,OHe=32,DHe=32,bL=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),LHe=32;function vL(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function nS(t){return!(!(t instanceof Uint8Array)||t.length!==DHe||vL(t,bL)>=0)}function mce(t){return t instanceof Uint8Array&&t.length===64&&vL(t.subarray(0,32),bL)<0&&vL(t.subarray(32,64),bL)<0}function G5(t){return t instanceof Uint8Array&&t.length===OHe}function yce(t){return t===void 0||t instanceof Uint8Array&&t.length===LHe}function gce(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function UHe(t){return gce(Vr.utils.bytesToHex(t))}function wL(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=gce(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=UHe(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}var FHe=(t,e)=>{let r=xL(t),n=wL(e),i=Vr.utils._bigintTo32Bytes(Vr.utils.mod(r+n,Vr.CURVE.n));return Vr.utils.isValidPrivateKey(i)?i:null},qHe=(t,e)=>{let r=xL(t),n=wL(e),i=Vr.utils._bigintTo32Bytes(Vr.utils.mod(r-n,Vr.CURVE.n));return Vr.utils.isValidPrivateKey(i)?i:null},HHe=t=>{let e=xL(t),r=Vr.utils._bigintTo32Bytes(Vr.CURVE.n-e);return Vr.utils.isValidPrivateKey(r)?r:null},bce=(t,e,r)=>{let n=Vr.Point.fromHex(t),i=wL(e),o=Vr.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)},KHe=(t,e,r)=>{let n=Vr.Point.fromHex(t),i=typeof e=="string"?e:Vr.utils.bytesToHex(e),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)};function iS(t,e){return t===void 0?e!==void 0?vce(e):!0:!!t}function Pm(t){try{return t()}catch{return null}}function SL(t,e){if(t.length===32!==e)return!1;try{return!!Vr.Point.fromHex(t)}catch{return!1}}function d0(t){return SL(t,!1)}function vce(t){return SL(t,!1)&&t.length===33}function h0(t){return Vr.utils.isValidPrivateKey(t)}function EL(t){return SL(t,!0)}function VHe(t,e){if(!EL(t))throw new Error("Expected Point");if(!nS(e))throw new Error("Expected Tweak");return Pm(()=>{let r=bce(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function xce(t){if(!d0(t))throw new Error("Expected Point");return t.slice(1,33)}function wce(t,e){if(!h0(t))throw new Error("Expected Private");return Pm(()=>Vr.getPublicKey(t,iS(e)))}function jHe(t){if(!h0(t))throw new Error("Expected Private");return xce(wce(t))}function zHe(t,e){if(!d0(t))throw new Error("Expected Point");return Vr.Point.fromHex(t).toRawBytes(iS(e,t))}function GHe(t,e,r){if(!d0(t))throw new Error("Expected Point");if(!nS(e))throw new Error("Expected Tweak");return Pm(()=>KHe(t,e,iS(r,t)))}function WHe(t,e,r){if(!d0(t)||!d0(e))throw new Error("Expected Point");return Pm(()=>{let n=Vr.Point.fromHex(t),i=Vr.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(iS(r,t))})}function $He(t,e,r){if(!d0(t))throw new Error("Expected Point");if(!nS(e))throw new Error("Expected Tweak");return Pm(()=>bce(t,e,iS(r,t)))}function YHe(t,e){if(h0(t)===!1)throw new Error("Expected Private");if(nS(e)===!1)throw new Error("Expected Tweak");return Pm(()=>FHe(t,e))}function ZHe(t,e){if(h0(t)===!1)throw new Error("Expected Private");if(nS(e)===!1)throw new Error("Expected Tweak");return Pm(()=>qHe(t,e))}function QHe(t){if(h0(t)===!1)throw new Error("Expected Private");return HHe(t)}function XHe(t,e,r){if(!h0(e))throw new Error("Expected Private");if(!G5(t))throw new Error("Expected Scalar");if(!yce(r))throw new Error("Expected Extra Data (32 bytes)");return Vr.signSync(t,e,{der:!1,extraEntropy:r})}function JHe(t,e,r=Buffer.alloc(32,0)){if(!h0(e))throw new Error("Expected Private");if(!G5(t))throw new Error("Expected Scalar");if(!yce(r))throw new Error("Expected Extra Data (32 bytes)");return Vr.schnorr.signSync(t,e,r)}function eKe(t,e,r,n){if(!d0(e))throw new Error("Expected Point");if(!mce(r))throw new Error("Expected Signature");if(!G5(t))throw new Error("Expected Scalar");return Vr.verify(r,t,e,{strict:n})}function tKe(t,e,r){if(!EL(e))throw new Error("Expected Point");if(!mce(r))throw new Error("Expected Signature");if(!G5(t))throw new Error("Expected Scalar");return Vr.schnorr.verifySync(r,t,e)}Ri.isPoint=d0;Ri.isPointCompressed=vce;Ri.isPrivate=h0;Ri.isXOnlyPoint=EL;Ri.pointAdd=WHe;Ri.pointAddScalar=$He;Ri.pointCompress=zHe;Ri.pointFromScalar=wce;Ri.pointMultiply=GHe;Ri.privateAdd=YHe;Ri.privateNegate=QHe;Ri.privateSub=ZHe;Ri.sign=XHe;Ri.signSchnorr=JHe;Ri.verify=eKe;Ri.verifySchnorr=tKe;Ri.xOnlyPointAddTweak=VHe;Ri.xOnlyPointFromPoint=xce;Ri.xOnlyPointFromScalar=jHe});var Lc=F(m0=>{"use strict";h();p();Object.defineProperty(m0,"__esModule",{value:!0});m0.testnet=m0.regtest=m0.bitcoin=void 0;m0.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};m0.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};m0.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var TL=F(y0=>{"use strict";h();p();Object.defineProperty(y0,"__esModule",{value:!0});y0.encode=y0.decode=y0.check=void 0;function uKe(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}y0.check=uKe;function lKe(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}y0.decode=lKe;function dKe(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}y0.encode=dKe});var $5=F(bb=>{"use strict";h();p();Object.defineProperty(bb,"__esModule",{value:!0});bb.REVERSE_OPS=bb.OPS=void 0;var IL={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};bb.OPS=IL;var Mce={};bb.REVERSE_OPS=Mce;for(let t of Object.keys(IL)){let e=IL[t];Mce[e]=t}});var Pce=F(b0=>{"use strict";h();p();Object.defineProperty(b0,"__esModule",{value:!0});b0.decode=b0.encode=b0.encodingLength=void 0;var g0=$5();function kce(t){return t<g0.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}b0.encodingLength=kce;function hKe(t,e,r){let n=kce(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(g0.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(g0.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(g0.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}b0.encode=hKe;function pKe(t,e){let r=t.readUInt8(e),n,i;if(r<g0.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===g0.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===g0.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==g0.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}b0.decode=pKe});var Rce=F(vb=>{"use strict";h();p();Object.defineProperty(vb,"__esModule",{value:!0});vb.encode=vb.decode=void 0;function mKe(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let o=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+o):s*4294967296+o}let i=0;for(let o=0;o<n;++o)i|=t[o]<<8*o;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}vb.decode=mKe;function yKe(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function gKe(t){let e=Math.abs(t),r=yKe(e),n=Buffer.allocUnsafe(r),i=t<0;for(let o=0;o<r;++o)n.writeUInt8(e&255,o),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}vb.encode=gKe});var Y5=F((RDt,Bce)=>{h();p();var sS={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};sS.Null=sS.Nil;for(ML in sS)sS[ML].toJSON=function(t){return t}.bind(null,ML);var ML;Bce.exports=sS});var RL=F((NDt,Oce)=>{h();p();var Rm=Y5();function Cce(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function kL(t){return Rm.Nil(t)?"":Cce(t.constructor)}function bKe(t){return Rm.Function(t)?"":Rm.String(t)?JSON.stringify(t):t&&Rm.Object(t)?"":t}function PL(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function Z5(t){return Rm.Function(t)?t.toJSON?t.toJSON():Cce(t):Rm.Array(t)?"Array":t&&Rm.Object(t)?"Object":t!==void 0?t:""}function Nce(t,e,r){var n=bKe(e);return"Expected "+Z5(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function id(t,e,r){r=r||kL(e),this.message=Nce(t,e,r),PL(this,id),this.__type=t,this.__value=e,this.__valueTypeName=r}id.prototype=Object.create(Error.prototype);id.prototype.constructor=id;function vKe(t,e,r,n,i){var o='" of type ';return e==="key"&&(o='" with key type '),Nce('property "'+Z5(r)+o+Z5(t),n,i)}function xb(t,e,r,n,i){t?(i=i||kL(n),this.message=vKe(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',PL(this,id),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}xb.prototype=Object.create(Error.prototype);xb.prototype.constructor=id;function xKe(t,e){return new id(t,{},e)}function wKe(t,e,r){return t instanceof xb?(e=e+"."+t.__property,t=new xb(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof id&&(t=new xb(t.__type,e,r,t.__value,t.__valueTypeName)),PL(t),t}Oce.exports={TfTypeError:id,TfPropertyTypeError:xb,tfCustomError:xKe,tfSubError:wKe,tfJSON:Z5,getValueTypeName:kL}});var Fce=F((LDt,Uce)=>{h();p();var OL=Y5(),SKe=RL();function Dce(t){return Buffer.isBuffer(t)}function Lce(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}function Q5(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw SKe.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return n.toJSON=function(){return r},n}var EKe=Q5.bind(null,OL.Array),_Ke=Q5.bind(null,Dce),AKe=Q5.bind(null,Lce),TKe=Q5.bind(null,OL.String);function IKe(t,e,r){r=r||OL.Number;function n(i,o){return r(i,o)&&i>t&&i<e}return n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}var CL=Math.pow(2,53)-1;function MKe(t){return typeof t=="number"&&isFinite(t)}function kKe(t){return t<<24>>24===t}function PKe(t){return t<<16>>16===t}function RKe(t){return(t|0)===t}function BKe(t){return typeof t=="number"&&t>=-CL&&t<=CL&&Math.floor(t)===t}function CKe(t){return(t&255)===t}function NKe(t){return(t&65535)===t}function OKe(t){return t>>>0===t}function DKe(t){return typeof t=="number"&&t>=0&&t<=CL&&Math.floor(t)===t}var NL={ArrayN:EKe,Buffer:Dce,BufferN:_Ke,Finite:MKe,Hex:Lce,HexN:AKe,Int8:kKe,Int16:PKe,Int32:RKe,Int53:BKe,Range:IKe,StringN:TKe,UInt8:CKe,UInt16:NKe,UInt32:OKe,UInt53:DKe};for(BL in NL)NL[BL].toJSON=function(t){return t}.bind(null,BL);var BL;Uce.exports=NL});var jce=F((qDt,Vce)=>{h();p();var cS=RL(),Ro=Y5(),od=cS.tfJSON,Hce=cS.TfTypeError,Kce=cS.TfPropertyTypeError,aS=cS.tfSubError,LKe=cS.getValueTypeName,sd={arrayOf:function(e,r){e=Ku(e),r=r||{};function n(i,o){return!Ro.Array(i)||Ro.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(s,c){try{return Ls(e,s,o)}catch(l){throw aS(l,c)}})}return n.toJSON=function(){var i="["+od(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},maybe:function t(e){e=Ku(e);function r(n,i){return Ro.Nil(n)||e(n,i,t)}return r.toJSON=function(){return"?"+od(e)},r},map:function(e,r){e=Ku(e),r&&(r=Ku(r));function n(i,o){if(!Ro.Object(i)||Ro.Nil(i))return!1;for(var s in i){try{r&&Ls(r,s,o)}catch(l){throw aS(l,s,"key")}try{var c=i[s];Ls(e,c,o)}catch(l){throw aS(l,s)}}return!0}return r?n.toJSON=function(){return"{"+od(r)+": "+od(e)+"}"}:n.toJSON=function(){return"{"+od(e)+"}"},n},object:function(e){var r={};for(var n in e)r[n]=Ku(e[n]);function i(o,s){if(!Ro.Object(o)||Ro.Nil(o))return!1;var c;try{for(c in r){var l=r[c],d=o[c];Ls(l,d,s)}}catch(g){throw aS(g,c)}if(s){for(c in o)if(!r[c])throw new Kce(void 0,c)}return!0}return i.toJSON=function(){return od(r)},i},anyOf:function(){var e=[].slice.call(arguments).map(Ku);function r(n,i){return e.some(function(o){try{return Ls(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(od).join("|")},r},allOf:function(){var e=[].slice.call(arguments).map(Ku);function r(n,i){return e.every(function(o){try{return Ls(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(od).join(" & ")},r},quacksLike:function(e){function r(n){return e===LKe(n)}return r.toJSON=function(){return e},r},tuple:function(){var e=[].slice.call(arguments).map(Ku);function r(n,i){return Ro.Nil(n)||Ro.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(o,s){try{return Ls(o,n[s],i)}catch(c){throw aS(c,s)}})}return r.toJSON=function(){return"("+e.map(od).join(", ")+")"},r},value:function(e){function r(n){return n===e}return r.toJSON=function(){return e},r}};sd.oneOf=sd.anyOf;function Ku(t){if(Ro.String(t))return t[0]==="?"?sd.maybe(t.slice(1)):Ro[t]||sd.quacksLike(t);if(t&&Ro.Object(t)){if(Ro.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return sd.arrayOf(t[0])}return sd.object(t)}else if(Ro.Function(t))return t;return sd.value(t)}function Ls(t,e,r,n){if(Ro.Function(t)){if(t(e,r))return!0;throw new Hce(n||t,e)}return Ls(Ku(t),e,r)}for(ad in Ro)Ls[ad]=Ro[ad];var ad;for(ad in sd)Ls[ad]=sd[ad];var qce=Fce();for(ad in qce)Ls[ad]=qce[ad];Ls.compile=Ku;Ls.TfTypeError=Hce;Ls.TfPropertyTypeError=Kce;Vce.exports=Ls});var Bo=F(et=>{"use strict";h();p();Object.defineProperty(et,"__esModule",{value:!0});et.oneOf=et.Null=et.BufferN=et.Function=et.UInt32=et.UInt8=et.tuple=et.maybe=et.Hex=et.Buffer=et.String=et.Boolean=et.Array=et.Number=et.Hash256bit=et.Hash160bit=et.Buffer256bit=et.isTaptree=et.isTapleaf=et.TAPLEAF_VERSION_MASK=et.Network=et.ECPoint=et.Satoshi=et.Signer=et.BIP32Path=et.UInt31=et.isPoint=et.typeforce=void 0;var X5=_i();et.typeforce=jce();var zce=X5.Buffer.alloc(32,0),Gce=X5.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function UKe(t){if(!X5.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(zce)===0||r.compare(Gce)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(zce)===0||n.compare(Gce)>=0?!1:e===4&&t.length===65}et.isPoint=UKe;var FKe=Math.pow(2,31)-1;function qKe(t){return et.typeforce.UInt32(t)&&t<=FKe}et.UInt31=qKe;function Wce(t){return et.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}et.BIP32Path=Wce;Wce.toJSON=()=>"BIP32 derivation path";function HKe(t){return(et.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}et.Signer=HKe;var KKe=21*1e14;function VKe(t){return et.typeforce.UInt53(t)&&t<=KKe}et.Satoshi=VKe;et.ECPoint=et.typeforce.quacksLike("Point");et.Network=et.typeforce.compile({messagePrefix:et.typeforce.oneOf(et.typeforce.Buffer,et.typeforce.String),bip32:{public:et.typeforce.UInt32,private:et.typeforce.UInt32},pubKeyHash:et.typeforce.UInt8,scriptHash:et.typeforce.UInt8,wif:et.typeforce.UInt8});et.TAPLEAF_VERSION_MASK=254;function $ce(t){return!t||!("output"in t)||!X5.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&et.TAPLEAF_VERSION_MASK)===t.version:!0}et.isTapleaf=$ce;function Yce(t){return(0,et.Array)(t)?t.length!==2?!1:t.every(e=>Yce(e)):$ce(t)}et.isTaptree=Yce;et.Buffer256bit=et.typeforce.BufferN(32);et.Hash160bit=et.typeforce.BufferN(20);et.Hash256bit=et.typeforce.BufferN(32);et.Number=et.typeforce.Number;et.Array=et.typeforce.Array;et.Boolean=et.typeforce.Boolean;et.String=et.typeforce.String;et.Buffer=et.typeforce.Buffer;et.Hex=et.typeforce.Hex;et.maybe=et.typeforce.maybe;et.tuple=et.typeforce.tuple;et.UInt8=et.typeforce.UInt8;et.UInt32=et.typeforce.UInt32;et.Function=et.typeforce.Function;et.BufferN=et.typeforce.BufferN;et.Null=et.typeforce.Null;et.oneOf=et.typeforce.oneOf});var efe=F(Sb=>{"use strict";h();p();Object.defineProperty(Sb,"__esModule",{value:!0});Sb.encode=Sb.decode=void 0;var{Buffer:wb}=_i(),Jce=TL(),DL=Bo(),{typeforce:jKe}=DL,Zce=wb.alloc(1,0);function Qce(t){let e=0;for(;t[e]===0;)++e;return e===t.length?Zce:(t=t.slice(e),t[0]&128?wb.concat([Zce,t],1+t.length):t)}function Xce(t){t[0]===0&&(t=t.slice(1));let e=wb.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function zKe(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Jce.decode(t.slice(0,-1)),i=Xce(n.r),o=Xce(n.s);return{signature:wb.concat([i,o],64),hashType:e}}Sb.decode=zKe;function GKe(t,e){jKe({signature:DL.BufferN(64),hashType:DL.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=wb.allocUnsafe(1);n.writeUInt8(e,0);let i=Qce(t.slice(0,32)),o=Qce(t.slice(32,64));return wb.concat([Jce.encode(i,o),n])}Sb.encode=GKe});var Us=F(an=>{"use strict";h();p();Object.defineProperty(an,"__esModule",{value:!0});an.signature=an.number=an.isCanonicalScriptSignature=an.isDefinedHashType=an.isCanonicalPubKey=an.toStack=an.fromASM=an.toASM=an.decompile=an.compile=an.countNonPushOnlyOPs=an.isPushOnly=an.OPS=void 0;var WKe=TL(),fa=$5();Object.defineProperty(an,"OPS",{enumerable:!0,get:function(){return fa.OPS}});var LL=Pce(),tfe=Rce(),$Ke=efe(),Vu=Bo(),{typeforce:fS}=Vu,rfe=fa.OPS.OP_RESERVED;function YKe(t){return Vu.Number(t)&&(t===fa.OPS.OP_0||t>=fa.OPS.OP_1&&t<=fa.OPS.OP_16||t===fa.OPS.OP_1NEGATE)}function nfe(t){return Vu.Buffer(t)||YKe(t)}function ife(t){return Vu.Array(t)&&t.every(nfe)}an.isPushOnly=ife;function ZKe(t){return t.length-t.filter(nfe).length}an.countNonPushOnlyOPs=ZKe;function J5(t){if(t.length===0)return fa.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return rfe+t[0];if(t[0]===129)return fa.OPS.OP_1NEGATE}}function ofe(t){return Buffer.isBuffer(t)}function QKe(t){return Vu.Array(t)}function eT(t){return Buffer.isBuffer(t)}function sfe(t){if(ofe(t))return t;fS(Vu.Array,t);let e=t.reduce((i,o)=>eT(o)?o.length===1&&J5(o)!==void 0?i+1:i+LL.encodingLength(o.length)+o.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(eT(i)){let o=J5(i);if(o!==void 0){r.writeUInt8(o,n),n+=1;return}n+=LL.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}an.compile=sfe;function UL(t){if(QKe(t))return t;fS(Vu.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>fa.OPS.OP_0&&n<=fa.OPS.OP_PUSHDATA4){let i=LL.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let o=t.slice(r,r+i.number);r+=i.number;let s=J5(o);s!==void 0?e.push(s):e.push(o)}else e.push(n),r+=1}return e}an.decompile=UL;function XKe(t){return ofe(t)&&(t=UL(t)),t.map(e=>{if(eT(e)){let r=J5(e);if(r===void 0)return e.toString("hex");e=r}return fa.REVERSE_OPS[e]}).join(" ")}an.toASM=XKe;function JKe(t){return fS(Vu.String,t),sfe(t.split(" ").map(e=>fa.OPS[e]!==void 0?fa.OPS[e]:(fS(Vu.Hex,e),Buffer.from(e,"hex"))))}an.fromASM=JKe;function eVe(t){return t=UL(t),fS(ife,t),t.map(e=>eT(e)?e:e===fa.OPS.OP_0?Buffer.allocUnsafe(0):tfe.encode(e-rfe))}an.toStack=eVe;function tVe(t){return Vu.isPoint(t)}an.isCanonicalPubKey=tVe;function afe(t){let e=t&-129;return e>0&&e<4}an.isDefinedHashType=afe;function rVe(t){return!Buffer.isBuffer(t)||!afe(t[t.length-1])?!1:WKe.check(t.slice(0,-1))}an.isCanonicalScriptSignature=rVe;an.number=tfe;an.signature=$Ke});var cd=F(Eb=>{"use strict";h();p();Object.defineProperty(Eb,"__esModule",{value:!0});Eb.value=Eb.prop=void 0;function nVe(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}Eb.prop=nVe;function iVe(t){let e;return()=>(e!==void 0||(e=t()),e)}Eb.value=iVe});var ufe=F(rT=>{"use strict";h();p();Object.defineProperty(rT,"__esModule",{value:!0});rT.p2data=void 0;var oVe=Lc(),tT=Us(),fd=Bo(),cfe=cd(),ffe=tT.OPS;function sVe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function aVe(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,fd.typeforce)({network:fd.typeforce.maybe(fd.typeforce.Object),output:fd.typeforce.maybe(fd.typeforce.Buffer),data:fd.typeforce.maybe(fd.typeforce.arrayOf(fd.typeforce.Buffer))},t);let n={name:"embed",network:t.network||oVe.bitcoin};if(cfe.prop(n,"output",()=>{if(t.data)return tT.compile([ffe.OP_RETURN].concat(t.data))}),cfe.prop(n,"data",()=>{if(t.output)return tT.decompile(t.output).slice(1)}),e.validate&&t.output){let i=tT.decompile(t.output);if(i[0]!==ffe.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(fd.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!sVe(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}rT.p2data=aVe});var dfe=F(iT=>{"use strict";h();p();Object.defineProperty(iT,"__esModule",{value:!0});iT.p2ms=void 0;var cVe=Lc(),_b=Us(),Vi=Bo(),v0=cd(),Ab=_b.OPS,nT=Ab.OP_RESERVED;function lfe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function fVe(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return _b.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===Ab.OP_0)!==void 0}(0,Vi.typeforce)({network:Vi.typeforce.maybe(Vi.typeforce.Object),m:Vi.typeforce.maybe(Vi.typeforce.Number),n:Vi.typeforce.maybe(Vi.typeforce.Number),output:Vi.typeforce.maybe(Vi.typeforce.Buffer),pubkeys:Vi.typeforce.maybe(Vi.typeforce.arrayOf(Vi.isPoint)),signatures:Vi.typeforce.maybe(Vi.typeforce.arrayOf(r)),input:Vi.typeforce.maybe(Vi.typeforce.Buffer)},t);let i={network:t.network||cVe.bitcoin},o=[],s=!1;function c(l){s||(s=!0,o=_b.decompile(l),i.m=o[0]-nT,i.n=o[o.length-2]-nT,i.pubkeys=o.slice(1,-2))}if(v0.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return _b.compile([].concat(nT+t.m,t.pubkeys,nT+i.n,Ab.OP_CHECKMULTISIG))}),v0.prop(i,"m",()=>{if(i.output)return c(i.output),i.m}),v0.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),v0.prop(i,"pubkeys",()=>{if(t.output)return c(t.output),i.pubkeys}),v0.prop(i,"signatures",()=>{if(t.input)return _b.decompile(t.input).slice(1)}),v0.prop(i,"input",()=>{if(t.signatures)return _b.compile([Ab.OP_0].concat(t.signatures))}),v0.prop(i,"witness",()=>{if(i.input)return[]}),v0.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(c(t.output),!Vi.typeforce.Number(o[0]))throw new TypeError("Output is invalid");if(!Vi.typeforce.Number(o[o.length-2]))throw new TypeError("Output is invalid");if(o[o.length-1]!==Ab.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==o.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,Vi.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!lfe(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==Ab.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!lfe(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}iT.p2ms=fVe});var pfe=F(oT=>{"use strict";h();p();Object.defineProperty(oT,"__esModule",{value:!0});oT.p2pk=void 0;var uVe=Lc(),Ib=Us(),Lf=Bo(),Tb=cd(),hfe=Ib.OPS;function lVe(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Lf.typeforce)({network:Lf.typeforce.maybe(Lf.typeforce.Object),output:Lf.typeforce.maybe(Lf.typeforce.Buffer),pubkey:Lf.typeforce.maybe(Lf.isPoint),signature:Lf.typeforce.maybe(Ib.isCanonicalScriptSignature),input:Lf.typeforce.maybe(Lf.typeforce.Buffer)},t);let r=Tb.value(()=>Ib.decompile(t.input)),i={name:"p2pk",network:t.network||uVe.bitcoin};if(Tb.prop(i,"output",()=>{if(t.pubkey)return Ib.compile([t.pubkey,hfe.OP_CHECKSIG])}),Tb.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),Tb.prop(i,"signature",()=>{if(t.input)return r()[0]}),Tb.prop(i,"input",()=>{if(t.signature)return Ib.compile([t.signature])}),Tb.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==hfe.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Lf.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!Ib.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}oT.p2pk=lVe});var bfe=F(Mb=>{"use strict";h();p();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.ripemd160=Mb.RIPEMD160=void 0;var dVe=Rx(),hVe=Kd(),pVe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),yfe=Uint8Array.from({length:16},(t,e)=>e),mVe=yfe.map(t=>(9*t+5)%16),FL=[yfe],qL=[mVe];for(let t=0;t<4;t++)for(let e of[FL,qL])e.push(e[t].map(r=>pVe[r]));var gfe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),yVe=FL.map((t,e)=>t.map(r=>gfe[e][r])),gVe=qL.map((t,e)=>t.map(r=>gfe[e][r])),bVe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),vVe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),sT=(t,e)=>t<<e|t>>>32-e;function mfe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var aT=new Uint32Array(16),cT=class extends dVe.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let T=0;T<16;T++,r+=4)aT[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,c=this.h2|0,l=c,d=this.h3|0,g=d,b=this.h4|0,_=b;for(let T=0;T<5;T++){let M=4-T,k=bVe[T],B=vVe[T],P=FL[T],D=qL[T],R=yVe[T],L=gVe[T];for(let V=0;V<16;V++){let z=sT(n+mfe(T,o,c,d)+aT[P[V]]+k,R[V])+b|0;n=b,b=d,d=sT(c,10)|0,c=o,o=z}for(let V=0;V<16;V++){let z=sT(i+mfe(M,s,l,g)+aT[D[V]]+B,L[V])+_|0;i=_,_=g,g=sT(l,10)|0,l=s,s=z}}this.set(this.h1+c+g|0,this.h2+d+_|0,this.h3+b+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){aT.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Mb.RIPEMD160=cT;Mb.ripemd160=(0,hVe.wrapConstructor)(()=>new cT)});var vfe=F(fT=>{"use strict";h();p();Object.defineProperty(fT,"__esModule",{value:!0});fT.sha1=void 0;var xVe=Rx(),wVe=Kd(),HL=(t,e)=>t<<e|t>>>32-e>>>0,SVe=(t,e,r)=>t&e^~t&r,EVe=(t,e,r)=>t&e^t&r^e&r,uS=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),x0=new Uint32Array(80),KL=class extends xVe.SHA2{constructor(){super(64,20,8,!1),this.A=uS[0]|0,this.B=uS[1]|0,this.C=uS[2]|0,this.D=uS[3]|0,this.E=uS[4]|0}get(){let{A:e,B:r,C:n,D:i,E:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0}process(e,r){for(let l=0;l<16;l++,r+=4)x0[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)x0[l]=HL(x0[l-3]^x0[l-8]^x0[l-14]^x0[l-16],1);let{A:n,B:i,C:o,D:s,E:c}=this;for(let l=0;l<80;l++){let d,g;l<20?(d=SVe(i,o,s),g=1518500249):l<40?(d=i^o^s,g=1859775393):l<60?(d=EVe(i,o,s),g=2400959708):(d=i^o^s,g=3395469782);let b=HL(n,5)+d+c+g+x0[l]|0;c=s,s=o,o=HL(i,30),i=n,n=b}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,this.set(n,i,o,s,c)}roundClean(){x0.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};fT.sha1=(0,wVe.wrapConstructor)(()=>new KL)});var ju=F(ji=>{"use strict";h();p();Object.defineProperty(ji,"__esModule",{value:!0});ji.taggedHash=ji.TAGGED_HASH_PREFIXES=ji.TAGS=ji.hash256=ji.hash160=ji.sha256=ji.sha1=ji.ripemd160=void 0;var{Buffer:Fs}=_i(),xfe=bfe(),_Ve=vfe(),uT=b4();function AVe(t){return Fs.from((0,xfe.ripemd160)(Uint8Array.from(t)))}ji.ripemd160=AVe;function TVe(t){return Fs.from((0,_Ve.sha1)(Uint8Array.from(t)))}ji.sha1=TVe;function wfe(t){return Fs.from((0,uT.sha256)(Uint8Array.from(t)))}ji.sha256=wfe;function IVe(t){return Fs.from((0,xfe.ripemd160)((0,uT.sha256)(Uint8Array.from(t))))}ji.hash160=IVe;function MVe(t){return Fs.from((0,uT.sha256)((0,uT.sha256)(Uint8Array.from(t))))}ji.hash256=MVe;ji.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];ji.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Fs.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Fs.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Fs.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Fs.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Fs.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Fs.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Fs.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Fs.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Fs.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function kVe(t,e){return wfe(Fs.concat([ji.TAGGED_HASH_PREFIXES[t],e]))}ji.taggedHash=kVe});var Efe=F(lT=>{"use strict";h();p();Object.defineProperty(lT,"__esModule",{value:!0});lT.p2pkh=void 0;var VL=ju(),PVe=Lc(),kb=Us(),qs=Bo(),ud=cd(),Sfe=yb(),w0=kb.OPS;function RVe(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,qs.typeforce)({network:qs.typeforce.maybe(qs.typeforce.Object),address:qs.typeforce.maybe(qs.typeforce.String),hash:qs.typeforce.maybe(qs.typeforce.BufferN(20)),output:qs.typeforce.maybe(qs.typeforce.BufferN(25)),pubkey:qs.typeforce.maybe(qs.isPoint),signature:qs.typeforce.maybe(kb.isCanonicalScriptSignature),input:qs.typeforce.maybe(qs.typeforce.Buffer)},t);let r=ud.value(()=>{let s=Buffer.from(Sfe.decode(t.address)),c=s.readUInt8(0),l=s.slice(1);return{version:c,hash:l}}),n=ud.value(()=>kb.decompile(t.input)),i=t.network||PVe.bitcoin,o={name:"p2pkh",network:i};if(ud.prop(o,"address",()=>{if(!o.hash)return;let s=Buffer.allocUnsafe(21);return s.writeUInt8(i.pubKeyHash,0),o.hash.copy(s,1),Sfe.encode(s)}),ud.prop(o,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||o.pubkey)return VL.hash160(t.pubkey||o.pubkey)}),ud.prop(o,"output",()=>{if(o.hash)return kb.compile([w0.OP_DUP,w0.OP_HASH160,o.hash,w0.OP_EQUALVERIFY,w0.OP_CHECKSIG])}),ud.prop(o,"pubkey",()=>{if(t.input)return n()[1]}),ud.prop(o,"signature",()=>{if(t.input)return n()[0]}),ud.prop(o,"input",()=>{if(t.pubkey&&t.signature)return kb.compile([t.signature,t.pubkey])}),ud.prop(o,"witness",()=>{if(o.input)return[]}),e.validate){let s=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==w0.OP_DUP||t.output[1]!==w0.OP_HASH160||t.output[2]!==20||t.output[23]!==w0.OP_EQUALVERIFY||t.output[24]!==w0.OP_CHECKSIG)throw new TypeError("Output is invalid");let c=t.output.slice(3,23);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.pubkey){let c=VL.hash160(t.pubkey);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.input){let c=n();if(c.length!==2)throw new TypeError("Input is invalid");if(!kb.isCanonicalScriptSignature(c[0]))throw new TypeError("Input has invalid signature");if(!(0,qs.isPoint)(c[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(c[1]))throw new TypeError("Pubkey mismatch");let l=VL.hash160(c[1]);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}lT.p2pkh=RVe});var Tfe=F(dT=>{"use strict";h();p();Object.defineProperty(dT,"__esModule",{value:!0});dT.p2sh=void 0;var _fe=ju(),BVe=Lc(),Gu=Us(),Cn=Bo(),zu=cd(),Afe=yb(),lS=Gu.OPS;function CVe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function NVe(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Cn.typeforce)({network:Cn.typeforce.maybe(Cn.typeforce.Object),address:Cn.typeforce.maybe(Cn.typeforce.String),hash:Cn.typeforce.maybe(Cn.typeforce.BufferN(20)),output:Cn.typeforce.maybe(Cn.typeforce.BufferN(23)),redeem:Cn.typeforce.maybe({network:Cn.typeforce.maybe(Cn.typeforce.Object),output:Cn.typeforce.maybe(Cn.typeforce.Buffer),input:Cn.typeforce.maybe(Cn.typeforce.Buffer),witness:Cn.typeforce.maybe(Cn.typeforce.arrayOf(Cn.typeforce.Buffer))}),input:Cn.typeforce.maybe(Cn.typeforce.Buffer),witness:Cn.typeforce.maybe(Cn.typeforce.arrayOf(Cn.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||BVe.bitcoin);let n={network:r},i=zu.value(()=>{let c=Buffer.from(Afe.decode(t.address)),l=c.readUInt8(0),d=c.slice(1);return{version:l,hash:d}}),o=zu.value(()=>Gu.decompile(t.input)),s=zu.value(()=>{let c=o(),l=c[c.length-1];return{network:r,output:l===lS.OP_FALSE?Buffer.from([]):l,input:Gu.compile(c.slice(0,-1)),witness:t.witness||[]}});if(zu.prop(n,"address",()=>{if(!n.hash)return;let c=Buffer.allocUnsafe(21);return c.writeUInt8(n.network.scriptHash,0),n.hash.copy(c,1),Afe.encode(c)}),zu.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return _fe.hash160(n.redeem.output)}),zu.prop(n,"output",()=>{if(n.hash)return Gu.compile([lS.OP_HASH160,n.hash,lS.OP_EQUAL])}),zu.prop(n,"redeem",()=>{if(t.input)return s()}),zu.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Gu.compile([].concat(Gu.decompile(t.redeem.input),t.redeem.output))}),zu.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),zu.prop(n,"name",()=>{let c=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&c.push(n.redeem.name),c.join("-")}),e.validate){let c=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");c=i().hash}if(t.hash){if(c.length>0&&!c.equals(t.hash))throw new TypeError("Hash mismatch");c=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==lS.OP_HASH160||t.output[1]!==20||t.output[22]!==lS.OP_EQUAL)throw new TypeError("Output is invalid");let d=t.output.slice(2,22);if(c.length>0&&!c.equals(d))throw new TypeError("Hash mismatch");c=d}let l=d=>{if(d.output){let g=Gu.decompile(d.output);if(!g||g.length<1)throw new TypeError("Redeem.output too short");if(d.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Gu.countNonPushOnlyOPs(g)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let b=_fe.hash160(d.output);if(c.length>0&&!c.equals(b))throw new TypeError("Hash mismatch");c=b}if(d.input){let g=d.input.length>0,b=d.witness&&d.witness.length>0;if(!g&&!b)throw new TypeError("Empty input");if(g&&b)throw new TypeError("Input and witness provided");if(g){let _=Gu.decompile(d.input);if(!Gu.isPushOnly(_))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let d=o();if(!d||d.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");l(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let d=s();if(t.redeem.output&&!t.redeem.output.equals(d.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(d.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!CVe(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}dT.p2sh=NVe});var Mfe=F(mT=>{"use strict";h();p();Object.defineProperty(mT,"__esModule",{value:!0});mT.p2wpkh=void 0;var{Buffer:zL}=_i(),jL=ju(),OVe=Lc(),pT=Us(),zi=Bo(),S0=cd(),hT=pb(),Ife=pT.OPS,DVe=zL.alloc(0);function LVe(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,zi.typeforce)({address:zi.typeforce.maybe(zi.typeforce.String),hash:zi.typeforce.maybe(zi.typeforce.BufferN(20)),input:zi.typeforce.maybe(zi.typeforce.BufferN(0)),network:zi.typeforce.maybe(zi.typeforce.Object),output:zi.typeforce.maybe(zi.typeforce.BufferN(22)),pubkey:zi.typeforce.maybe(zi.isPoint),signature:zi.typeforce.maybe(pT.isCanonicalScriptSignature),witness:zi.typeforce.maybe(zi.typeforce.arrayOf(zi.typeforce.Buffer))},t);let r=S0.value(()=>{let o=hT.bech32.decode(t.address),s=o.words.shift(),c=hT.bech32.fromWords(o.words);return{version:s,prefix:o.prefix,data:zL.from(c)}}),n=t.network||OVe.bitcoin,i={name:"p2wpkh",network:n};if(S0.prop(i,"address",()=>{if(!i.hash)return;let o=hT.bech32.toWords(i.hash);return o.unshift(0),hT.bech32.encode(n.bech32,o)}),S0.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return jL.hash160(t.pubkey||i.pubkey)}),S0.prop(i,"output",()=>{if(i.hash)return pT.compile([Ife.OP_0,i.hash])}),S0.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),S0.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),S0.prop(i,"input",()=>{if(i.witness)return DVe}),S0.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let o=zL.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==Ife.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");o=t.output.slice(2)}if(t.pubkey){let s=jL.hash160(t.pubkey);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch");if(o=s,!(0,zi.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!pT.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,zi.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let s=jL.hash160(t.witness[1]);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}mT.p2wpkh=LVe});var Rfe=F(vT=>{"use strict";h();p();Object.defineProperty(vT,"__esModule",{value:!0});vT.p2wsh=void 0;var{Buffer:bT}=_i(),kfe=ju(),UVe=Lc(),dd=Us(),Tn=Bo(),ld=cd(),yT=pb(),Pfe=dd.OPS,GL=bT.alloc(0);function FVe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function gT(t){return!!(bT.isBuffer(t)&&t.length===65&&t[0]===4&&(0,Tn.isPoint)(t))}function qVe(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Tn.typeforce)({network:Tn.typeforce.maybe(Tn.typeforce.Object),address:Tn.typeforce.maybe(Tn.typeforce.String),hash:Tn.typeforce.maybe(Tn.typeforce.BufferN(32)),output:Tn.typeforce.maybe(Tn.typeforce.BufferN(34)),redeem:Tn.typeforce.maybe({input:Tn.typeforce.maybe(Tn.typeforce.Buffer),network:Tn.typeforce.maybe(Tn.typeforce.Object),output:Tn.typeforce.maybe(Tn.typeforce.Buffer),witness:Tn.typeforce.maybe(Tn.typeforce.arrayOf(Tn.typeforce.Buffer))}),input:Tn.typeforce.maybe(Tn.typeforce.BufferN(0)),witness:Tn.typeforce.maybe(Tn.typeforce.arrayOf(Tn.typeforce.Buffer))},t);let r=ld.value(()=>{let s=yT.bech32.decode(t.address),c=s.words.shift(),l=yT.bech32.fromWords(s.words);return{version:c,prefix:s.prefix,data:bT.from(l)}}),n=ld.value(()=>dd.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||UVe.bitcoin);let o={network:i};if(ld.prop(o,"address",()=>{if(!o.hash)return;let s=yT.bech32.toWords(o.hash);return s.unshift(0),yT.bech32.encode(i.bech32,s)}),ld.prop(o,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(o.redeem&&o.redeem.output)return kfe.sha256(o.redeem.output)}),ld.prop(o,"output",()=>{if(o.hash)return dd.compile([Pfe.OP_0,o.hash])}),ld.prop(o,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:GL,witness:t.witness.slice(0,-1)}}),ld.prop(o,"input",()=>{if(o.witness)return GL}),ld.prop(o,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let s=dd.toStack(n());return o.redeem=Object.assign({witness:s},t.redeem),o.redeem.input=GL,[].concat(s,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),ld.prop(o,"name",()=>{let s=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&s.push(o.redeem.name),s.join("-")}),e.validate){let s=bT.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==Pfe.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let c=t.output.slice(2);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let c=dd.decompile(t.redeem.output);if(!c||c.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(dd.countNonPushOnlyOPs(c)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=kfe.sha256(t.redeem.output);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch");s=l}if(t.redeem.input&&!dd.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!FVe(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(gT)||t.redeem.output&&(dd.decompile(t.redeem.output)||[]).some(gT))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let c=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(c))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(gT)||(dd.decompile(c)||[]).some(gT))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,t)}vT.p2wsh=qVe});var xT=F(Pb=>{"use strict";h();p();Object.defineProperty(Pb,"__esModule",{value:!0});Pb.getEccLib=Pb.initEccLib=void 0;var dS={};function HVe(t){t?t!==dS.eccLib&&(VVe(t),dS.eccLib=t):dS.eccLib=t}Pb.initEccLib=HVe;function KVe(){if(!dS.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return dS.eccLib}Pb.getEccLib=KVe;var hd=t=>Buffer.from(t,"hex");function VVe(t){Uc(typeof t.isXOnlyPoint=="function"),Uc(t.isXOnlyPoint(hd("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Uc(t.isXOnlyPoint(hd("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Uc(t.isXOnlyPoint(hd("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Uc(t.isXOnlyPoint(hd("0000000000000000000000000000000000000000000000000000000000000001"))),Uc(!t.isXOnlyPoint(hd("0000000000000000000000000000000000000000000000000000000000000000"))),Uc(!t.isXOnlyPoint(hd("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Uc(typeof t.xOnlyPointAddTweak=="function"),jVe.forEach(e=>{let r=t.xOnlyPointAddTweak(hd(e.pubkey),hd(e.tweak));e.result===null?Uc(r===null):(Uc(r!==null),Uc(r.parity===e.parity),Uc(Buffer.from(r.xOnlyPubkey).equals(hd(e.result))))})}function Uc(t){if(!t)throw new Error("ecc library invalid")}var jVe=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var Nfe=F((NLt,Cfe)=>{"use strict";h();p();var WL=Wt().Buffer,zVe=9007199254740991;function $L(t){if(t<0||t>zVe||t%1!==0)throw new RangeError("value out of range")}function hS(t,e,r){if($L(t),e||(e=WL.allocUnsafe(Bfe(t))),!WL.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),hS.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),hS.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),hS.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),hS.bytes=9),e}function pS(t,e){if(!WL.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return pS.bytes=1,r;if(r===253)return pS.bytes=3,t.readUInt16LE(e+1);if(r===254)return pS.bytes=5,t.readUInt32LE(e+1);pS.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),o=i*4294967296+n;return $L(o),o}function Bfe(t){return $L(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Cfe.exports={encode:hS,decode:pS,encodingLength:Bfe}});var yS=F(ls=>{"use strict";h();p();Object.defineProperty(ls,"__esModule",{value:!0});ls.BufferReader=ls.BufferWriter=ls.cloneBuffer=ls.reverseBuffer=ls.writeUInt64LE=ls.readUInt64LE=ls.varuint=void 0;var Bm=Bo(),{typeforce:Ofe}=Bm,mS=Nfe();ls.varuint=mS;function Dfe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function Lfe(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Dfe(n+r,9007199254740991),n+r}ls.readUInt64LE=Lfe;function Ufe(t,e,r){return Dfe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}ls.writeUInt64LE=Ufe;function GVe(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}ls.reverseBuffer=GVe;function WVe(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}ls.cloneBuffer=WVe;var YL=class t{static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,Ofe(Bm.tuple(Bm.Buffer,Bm.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=Ufe(this.buffer,e,this.offset)}writeVarInt(e){mS.encode(e,this.buffer,this.offset),this.offset+=mS.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};ls.BufferWriter=YL;var ZL=class{constructor(e,r=0){this.buffer=e,this.offset=r,Ofe(Bm.tuple(Bm.Buffer,Bm.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=Lfe(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=mS.decode(this.buffer,this.offset);return this.offset+=mS.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};ls.BufferReader=ZL});var wT=F(Gi=>{"use strict";h();p();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.tweakKey=Gi.tapTweakHash=Gi.tapleafHash=Gi.findScriptPath=Gi.toHashTree=Gi.rootHashFromPath=Gi.MAX_TAPTREE_DEPTH=Gi.LEAF_VERSION_TAPSCRIPT=void 0;var E0=_i(),$Ve=xT(),eU=ju(),Ffe=yS(),YVe=Bo();Gi.LEAF_VERSION_TAPSCRIPT=192;Gi.MAX_TAPTREE_DEPTH=128;var ZVe=t=>"left"in t&&"right"in t;function QVe(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let o=t.slice(33+32*i,65+32*i);n.compare(o)<0?n=JL(n,o):n=JL(o,n)}return n}Gi.rootHashFromPath=QVe;function QL(t){if((0,YVe.isTapleaf)(t))return{hash:qfe(t)};let e=[QL(t[0]),QL(t[1])];e.sort((i,o)=>i.hash.compare(o.hash));let[r,n]=e;return{hash:JL(r.hash,n.hash),left:r,right:n}}Gi.toHashTree=QL;function XL(t,e){if(ZVe(t)){let r=XL(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=XL(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Gi.findScriptPath=XL;function qfe(t){let e=t.version||Gi.LEAF_VERSION_TAPSCRIPT;return eU.taggedHash("TapLeaf",E0.Buffer.concat([E0.Buffer.from([e]),JVe(t.output)]))}Gi.tapleafHash=qfe;function Hfe(t,e){return eU.taggedHash("TapTweak",E0.Buffer.concat(e?[t,e]:[t]))}Gi.tapTweakHash=Hfe;function XVe(t,e){if(!E0.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=Hfe(t,e),n=(0,$Ve.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:E0.Buffer.from(n.xOnlyPubkey)}}Gi.tweakKey=XVe;function JL(t,e){return eU.taggedHash("TapBranch",E0.Buffer.concat([t,e]))}function JVe(t){let e=Ffe.varuint.encodingLength(t.length),r=E0.Buffer.allocUnsafe(e);return Ffe.varuint.encode(t.length,r),E0.Buffer.concat([r,t])}});var zfe=F(_T=>{"use strict";h();p();Object.defineProperty(_T,"__esModule",{value:!0});_T.p2tr=void 0;var ST=_i(),eje=Lc(),tU=Us(),hr=Bo(),Kfe=xT(),ua=wT(),Fc=cd(),ET=pb(),Vfe=tU.OPS,jfe=1,tje=80;function rje(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,hr.typeforce)({address:hr.typeforce.maybe(hr.typeforce.String),input:hr.typeforce.maybe(hr.typeforce.BufferN(0)),network:hr.typeforce.maybe(hr.typeforce.Object),output:hr.typeforce.maybe(hr.typeforce.BufferN(34)),internalPubkey:hr.typeforce.maybe(hr.typeforce.BufferN(32)),hash:hr.typeforce.maybe(hr.typeforce.BufferN(32)),pubkey:hr.typeforce.maybe(hr.typeforce.BufferN(32)),signature:hr.typeforce.maybe(hr.typeforce.anyOf(hr.typeforce.BufferN(64),hr.typeforce.BufferN(65))),witness:hr.typeforce.maybe(hr.typeforce.arrayOf(hr.typeforce.Buffer)),scriptTree:hr.typeforce.maybe(hr.isTaptree),redeem:hr.typeforce.maybe({output:hr.typeforce.maybe(hr.typeforce.Buffer),redeemVersion:hr.typeforce.maybe(hr.typeforce.Number),witness:hr.typeforce.maybe(hr.typeforce.arrayOf(hr.typeforce.Buffer))}),redeemVersion:hr.typeforce.maybe(hr.typeforce.Number)},t);let r=Fc.value(()=>{let c=ET.bech32m.decode(t.address),l=c.words.shift(),d=ET.bech32m.fromWords(c.words);return{version:l,prefix:c.prefix,data:ST.Buffer.from(d)}}),n=Fc.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===tje?t.witness.slice(0,-1):t.witness.slice()}),i=Fc.value(()=>{if(t.scriptTree)return(0,ua.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),o=t.network||eje.bitcoin,s={name:"p2tr",network:o};if(Fc.prop(s,"address",()=>{if(!s.pubkey)return;let c=ET.bech32m.toWords(s.pubkey);return c.unshift(jfe),ET.bech32m.encode(o.bech32,c)}),Fc.prop(s,"hash",()=>{let c=i();if(c)return c.hash;let l=n();if(l&&l.length>1){let d=l[l.length-1],g=d[0]&hr.TAPLEAF_VERSION_MASK,b=l[l.length-2],_=(0,ua.tapleafHash)({output:b,version:g});return(0,ua.rootHashFromPath)(d,_)}return null}),Fc.prop(s,"output",()=>{if(s.pubkey)return tU.compile([Vfe.OP_1,s.pubkey])}),Fc.prop(s,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:ua.LEAF_VERSION_TAPSCRIPT),Fc.prop(s,"redeem",()=>{let c=n();if(!(!c||c.length<2))return{output:c[c.length-2],witness:c.slice(0,-2),redeemVersion:c[c.length-1][0]&hr.TAPLEAF_VERSION_MASK}}),Fc.prop(s,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.internalPubkey){let c=(0,ua.tweakKey)(s.internalPubkey,s.hash);if(c)return c.x}}),Fc.prop(s,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let c=n();if(c&&c.length>1)return c[c.length-1].slice(1,33)}),Fc.prop(s,"signature",()=>{if(t.signature)return t.signature;let c=n();if(!(!c||c.length!==1))return c[0]}),Fc.prop(s,"witness",()=>{if(t.witness)return t.witness;let c=i();if(c&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,ua.tapleafHash)({output:t.redeem.output,version:s.redeemVersion}),d=(0,ua.findScriptPath)(c,l);if(!d)return;let g=(0,ua.tweakKey)(t.internalPubkey,c.hash);if(!g)return;let b=ST.Buffer.concat([ST.Buffer.from([s.redeemVersion|g.parity]),t.internalPubkey].concat(d));return[t.redeem.output,b]}if(t.signature)return[t.signature]}),e.validate){let c=ST.Buffer.from([]);if(t.address){if(o&&o.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==jfe)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");c=r().data}if(t.pubkey){if(c.length>0&&!c.equals(t.pubkey))throw new TypeError("Pubkey mismatch");c=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==Vfe.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(c.length>0&&!c.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");c=t.output.slice(2)}if(t.internalPubkey){let g=(0,ua.tweakKey)(t.internalPubkey,s.hash);if(c.length>0&&!c.equals(g.x))throw new TypeError("Pubkey mismatch");c=g.x}if(c&&c.length&&!(0,Kfe.getEccLib)().isXOnlyPoint(c))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let g=(0,ua.tapleafHash)({output:t.redeem.output,version:s.redeemVersion});if(!(0,ua.findScriptPath)(l,g))throw new TypeError("Redeem script not in tree")}let d=n();if(t.redeem&&s.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(tU.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!t.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&s.redeem.witness&&!nje(t.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(d&&d.length)if(d.length===1){if(t.signature&&!t.signature.equals(d[0]))throw new TypeError("Signature mismatch")}else{let g=d[d.length-1];if(g.length<33)throw new TypeError(`The control-block length is too small. Got ${g.length}, expected min 33.`);if((g.length-33)%32!==0)throw new TypeError(`The control-block length of ${g.length} is incorrect!`);let b=(g.length-33)/32;if(b>128)throw new TypeError(`The script path is too long. Got ${b}, expected max 128.`);let _=g.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(_))throw new TypeError("Internal pubkey mismatch");if(!(0,Kfe.getEccLib)().isXOnlyPoint(_))throw new TypeError("Invalid internalPubkey for p2tr witness");let T=g[0]&hr.TAPLEAF_VERSION_MASK,M=d[d.length-2],k=(0,ua.tapleafHash)({output:M,version:T}),B=(0,ua.rootHashFromPath)(g,k),P=(0,ua.tweakKey)(_,B);if(!P)throw new TypeError("Invalid outputKey for p2tr witness");if(c.length&&!c.equals(P.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(P.parity!==(g[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,t)}_T.p2tr=rje;function nje(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var Rb=F(po=>{"use strict";h();p();Object.defineProperty(po,"__esModule",{value:!0});po.p2tr=po.p2wsh=po.p2wpkh=po.p2sh=po.p2pkh=po.p2pk=po.p2ms=po.embed=void 0;var ije=ufe();Object.defineProperty(po,"embed",{enumerable:!0,get:function(){return ije.p2data}});var oje=dfe();Object.defineProperty(po,"p2ms",{enumerable:!0,get:function(){return oje.p2ms}});var sje=pfe();Object.defineProperty(po,"p2pk",{enumerable:!0,get:function(){return sje.p2pk}});var aje=Efe();Object.defineProperty(po,"p2pkh",{enumerable:!0,get:function(){return aje.p2pkh}});var cje=Tfe();Object.defineProperty(po,"p2sh",{enumerable:!0,get:function(){return cje.p2sh}});var fje=Mfe();Object.defineProperty(po,"p2wpkh",{enumerable:!0,get:function(){return fje.p2wpkh}});var uje=Rfe();Object.defineProperty(po,"p2wsh",{enumerable:!0,get:function(){return uje.p2wsh}});var lje=zfe();Object.defineProperty(po,"p2tr",{enumerable:!0,get:function(){return lje.p2tr}})});var rU=F(la=>{"use strict";h();p();Object.defineProperty(la,"__esModule",{value:!0});la.toOutputScript=la.fromOutputScript=la.toBech32=la.toBase58Check=la.fromBech32=la.fromBase58Check=void 0;var Gfe=Lc(),Wu=Rb(),Wfe=Us(),AT=Bo(),Bb=pb(),$fe=yb(),Yfe=40,Zfe=2,Qfe=16,Xfe=2,Jfe=80,eue="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function dje(t,e){let r=t.slice(2);if(r.length<Zfe||r.length>Yfe)throw new TypeError("Invalid program length for segwit address");let n=t[0]-Jfe;if(n<Xfe||n>Qfe)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(eue),nue(r,n,e.bech32)}function tue(t){let e=Buffer.from($fe.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}la.fromBase58Check=tue;function rue(t){let e,r;try{e=Bb.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=Bb.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=Bb.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}la.fromBech32=rue;function hje(t,e){(0,AT.typeforce)((0,AT.tuple)(AT.Hash160bit,AT.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),$fe.encode(r)}la.toBase58Check=hje;function nue(t,e,r){let n=Bb.bech32.toWords(t);return n.unshift(e),e===0?Bb.bech32.encode(r,n):Bb.bech32m.encode(r,n)}la.toBech32=nue;function pje(t,e){e=e||Gfe.bitcoin;try{return Wu.p2pkh({output:t,network:e}).address}catch{}try{return Wu.p2sh({output:t,network:e}).address}catch{}try{return Wu.p2wpkh({output:t,network:e}).address}catch{}try{return Wu.p2wsh({output:t,network:e}).address}catch{}try{return Wu.p2tr({output:t,network:e}).address}catch{}try{return dje(t,e)}catch{}throw new Error(Wfe.toASM(t)+" has no matching Address")}la.fromOutputScript=pje;function mje(t,e){e=e||Gfe.bitcoin;let r,n;try{r=tue(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Wu.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Wu.p2sh({hash:r.hash}).output}else{try{n=rue(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Wu.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Wu.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Wu.p2tr({pubkey:n.data}).output}else if(n.version>=Xfe&&n.version<=Qfe&&n.data.length>=Zfe&&n.data.length<=Yfe)return console.warn(eue),Wfe.compile([n.version+Jfe,n.data])}}throw new Error(t+" has no matching Script")}la.toOutputScript=mje});var iue=F(TT=>{"use strict";h();p();Object.defineProperty(TT,"__esModule",{value:!0});TT.fastMerkleRoot=void 0;function yje(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let o=0;o<r;o+=2,++i){let s=n[o],c=o+1===r?s:n[o+1],l=Buffer.concat([s,c]);n[i]=e(l)}r=i}return n[0]}TT.fastMerkleRoot=yje});var Cb=F(IT=>{"use strict";h();p();Object.defineProperty(IT,"__esModule",{value:!0});IT.Transaction=void 0;var{Buffer:ds}=_i(),Bi=yS(),Hs=ju(),oue=Us(),gje=Us(),Or=Bo(),{typeforce:$u}=Or;function Yu(t){let e=t.length;return Bi.varuint.encodingLength(e)+e}function bje(t){let e=t.length;return Bi.varuint.encodingLength(e)+t.reduce((r,n)=>r+Yu(n),0)}var _0=ds.allocUnsafe(0),sue=[],nU=ds.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),aue=ds.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),vje=ds.from("ffffffffffffffff","hex"),xje={script:_0,valueBuffer:vje};function wje(t){return t.value!==void 0}var Ka=class t{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new Bi.BufferReader(e),i=new t;i.version=n.readInt32();let o=n.readUInt8(),s=n.readUInt8(),c=!1;o===t.ADVANCED_TRANSACTION_MARKER&&s===t.ADVANCED_TRANSACTION_FLAG?c=!0:n.offset-=2;let l=n.readVarInt();for(let g=0;g<l;++g)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:sue});let d=n.readVarInt();for(let g=0;g<d;++g)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(c){for(let g=0;g<l;++g)i.ins[g].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(ds.from(e,"hex"),!1)}static isCoinbaseHash(e){$u(Or.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return $u(Or.tuple(Or.Hash256bit,Or.UInt32,Or.maybe(Or.UInt32),Or.maybe(Or.Buffer)),arguments),Or.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||_0,sequence:n,witness:sue})-1}addOutput(e,r){return $u(Or.tuple(Or.Buffer,Or.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+Bi.varuint.encodingLength(this.ins.length)+Bi.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Yu(i.script),0)+this.outs.reduce((n,i)=>n+8+Yu(i.script),0)+(r?this.ins.reduce((n,i)=>n+bje(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if($u(Or.tuple(Or.UInt32,Or.Buffer,Or.Number),arguments),e>=this.ins.length)return aue;let i=oue.compile(oue.decompile(r).filter(c=>c!==gje.OPS.OP_CODESEPARATOR)),o=this.clone();if((n&31)===t.SIGHASH_NONE)o.outs=[],o.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return aue;o.outs.length=e+1;for(let c=0;c<e;c++)o.outs[c]=xje;o.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=i):(o.ins.forEach(c=>{c.script=_0}),o.ins[e].script=i);let s=ds.allocUnsafe(o.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),o.__toBuffer(s,0,!1),Hs.hash256(s)}hashForWitnessV1(e,r,n,i,o,s){if($u(Or.tuple(Or.UInt32,$u.arrayOf(Or.Buffer),$u.arrayOf(Or.Satoshi),Or.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let c=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,d=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,g=c===t.SIGHASH_NONE,b=c===t.SIGHASH_SINGLE,_=_0,T=_0,M=_0,k=_0,B=_0;if(!d){let L=Bi.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(V=>{L.writeSlice(V.hash),L.writeUInt32(V.index)}),_=Hs.sha256(L.end()),L=Bi.BufferWriter.withCapacity(8*this.ins.length),n.forEach(V=>L.writeUInt64(V)),T=Hs.sha256(L.end()),L=Bi.BufferWriter.withCapacity(r.map(Yu).reduce((V,z)=>V+z)),r.forEach(V=>L.writeVarSlice(V)),M=Hs.sha256(L.end()),L=Bi.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(V=>L.writeUInt32(V.sequence)),k=Hs.sha256(L.end())}if(g||b){if(b&&e<this.outs.length){let L=this.outs[e],V=Bi.BufferWriter.withCapacity(8+Yu(L.script));V.writeUInt64(L.value),V.writeVarSlice(L.script),B=Hs.sha256(V.end())}}else{let L=this.outs.map(z=>8+Yu(z.script)).reduce((z,oe)=>z+oe),V=Bi.BufferWriter.withCapacity(L);this.outs.forEach(z=>{V.writeUInt64(z.value),V.writeVarSlice(z.script)}),B=Hs.sha256(V.end())}let P=(o?2:0)+(s?1:0),D=174-(d?49:0)-(g?32:0)+(s?32:0)+(o?37:0),R=Bi.BufferWriter.withCapacity(D);if(R.writeUInt8(i),R.writeInt32(this.version),R.writeUInt32(this.locktime),R.writeSlice(_),R.writeSlice(T),R.writeSlice(M),R.writeSlice(k),g||b||R.writeSlice(B),R.writeUInt8(P),d){let L=this.ins[e];R.writeSlice(L.hash),R.writeUInt32(L.index),R.writeUInt64(n[e]),R.writeVarSlice(r[e]),R.writeUInt32(L.sequence)}else R.writeUInt32(e);if(s){let L=Bi.BufferWriter.withCapacity(Yu(s));L.writeVarSlice(s),R.writeSlice(Hs.sha256(L.end()))}return b&&R.writeSlice(B),o&&(R.writeSlice(o),R.writeUInt8(0),R.writeUInt32(4294967295)),Hs.taggedHash("TapSighash",ds.concat([ds.from([0]),R.end()]))}hashForWitnessV0(e,r,n,i){$u(Or.tuple(Or.UInt32,Or.Buffer,Or.Satoshi,Or.UInt32),arguments);let o=ds.from([]),s,c=nU,l=nU,d=nU;if(i&t.SIGHASH_ANYONECANPAY||(o=ds.allocUnsafe(36*this.ins.length),s=new Bi.BufferWriter(o,0),this.ins.forEach(b=>{s.writeSlice(b.hash),s.writeUInt32(b.index)}),l=Hs.hash256(o)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(o=ds.allocUnsafe(4*this.ins.length),s=new Bi.BufferWriter(o,0),this.ins.forEach(b=>{s.writeUInt32(b.sequence)}),d=Hs.hash256(o)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let b=this.outs.reduce((_,T)=>_+8+Yu(T.script),0);o=ds.allocUnsafe(b),s=new Bi.BufferWriter(o,0),this.outs.forEach(_=>{s.writeUInt64(_.value),s.writeVarSlice(_.script)}),c=Hs.hash256(o)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let b=this.outs[e];o=ds.allocUnsafe(8+Yu(b.script)),s=new Bi.BufferWriter(o,0),s.writeUInt64(b.value),s.writeVarSlice(b.script),c=Hs.hash256(o)}o=ds.allocUnsafe(156+Yu(r)),s=new Bi.BufferWriter(o,0);let g=this.ins[e];return s.writeInt32(this.version),s.writeSlice(l),s.writeSlice(d),s.writeSlice(g.hash),s.writeUInt32(g.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(g.sequence),s.writeSlice(c),s.writeUInt32(this.locktime),s.writeUInt32(i),Hs.hash256(o)}getHash(e){return e&&this.isCoinbase()?ds.alloc(32,0):Hs.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,Bi.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){$u(Or.tuple(Or.Number,Or.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){$u(Or.tuple(Or.Number,[Or.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=ds.allocUnsafe(this.byteLength(n)));let i=new Bi.BufferWriter(e,r||0);i.writeInt32(this.version);let o=n&&this.hasWitnesses();return o&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(s=>{i.writeSlice(s.hash),i.writeUInt32(s.index),i.writeVarSlice(s.script),i.writeUInt32(s.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(s=>{wje(s)?i.writeUInt64(s.value):i.writeSlice(s.valueBuffer),i.writeVarSlice(s.script)}),o&&this.ins.forEach(s=>{i.writeVector(s.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};IT.Transaction=Ka;Ka.DEFAULT_SEQUENCE=4294967295;Ka.SIGHASH_DEFAULT=0;Ka.SIGHASH_ALL=1;Ka.SIGHASH_NONE=2;Ka.SIGHASH_SINGLE=3;Ka.SIGHASH_ANYONECANPAY=128;Ka.SIGHASH_OUTPUT_MASK=3;Ka.SIGHASH_INPUT_MASK=128;Ka.ADVANCED_TRANSACTION_MARKER=0;Ka.ADVANCED_TRANSACTION_FLAG=1});var lue=F(MT=>{"use strict";h();p();Object.defineProperty(MT,"__esModule",{value:!0});MT.Block=void 0;var Cm=yS(),iU=ju(),Sje=iue(),Eje=Cb(),uue=Bo(),{typeforce:_je}=uue,oU=new TypeError("Cannot compute merkle root for zero transactions"),cue=new TypeError("Cannot compute witness commit for non-segwit block"),sU=class t{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new Cm.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=()=>{let c=Eje.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=c.byteLength(),c},o=r.readVarInt();n.transactions=[];for(let c=0;c<o;++c){let l=i();n.transactions.push(l)}let s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(_je([{getHash:uue.Function}],e),e.length===0)throw oU;if(r&&!fue(e))throw cue;let n=e.map(o=>o.getHash(r)),i=(0,Sje.fastMerkleRoot)(n,iU.hash256);return r?iU.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!fue(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return Aje(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+Cm.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return iU.hash256(this.toBuffer(!0))}getId(){return(0,Cm.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new Cm.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(Cm.varuint.encode(this.transactions.length,r,n.offset),n.offset+=Cm.varuint.encode.bytes,this.transactions.forEach(i=>{let o=i.byteLength();i.toBuffer(r,n.offset),n.offset+=o})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,Cm.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw oU;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw oU;if(!this.hasWitnessCommit())throw cue;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};MT.Block=sU;function fue(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function Aje(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var mo=F(Uf=>{"use strict";h();p();Object.defineProperty(Uf,"__esModule",{value:!0});var Tje;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Tje=Uf.GlobalTypes||(Uf.GlobalTypes={}));Uf.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Ije;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Ije=Uf.InputTypes||(Uf.InputTypes={}));Uf.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var Mje;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(Mje=Uf.OutputTypes||(Uf.OutputTypes={}));Uf.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var hue=F(Nm=>{"use strict";h();p();Object.defineProperty(Nm,"__esModule",{value:!0});var due=mo(),kje=t=>[...Array(t).keys()];function Pje(t){if(t.key[0]!==due.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of kje(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),o=!!(i&2147483648),s=i&2147483647;r.path+="/"+s.toString(10)+(o?"'":"")}return r}Nm.decode=Pje;function Rje(t){let e=Buffer.from([due.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach(s=>{let c=s.slice(-1)==="'",l=2147483647&parseInt(c?s.slice(0,-1):s,10);c&&(l+=2147483648),i.writeUInt32LE(l,o),o+=4}),{key:r,value:i}}Nm.encode=Rje;Nm.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Bje(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}Nm.check=Bje;function Cje(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}Nm.canAddToArray=Cje});var pue=F(aU=>{"use strict";h();p();Object.defineProperty(aU,"__esModule",{value:!0});var Nje=mo();function Oje(t){return{key:Buffer.from([Nje.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}aU.encode=Oje});var yue=F(Om=>{"use strict";h();p();Object.defineProperty(Om,"__esModule",{value:!0});var mue=mo();function Dje(t){if(t.key[0]!==mue.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}Om.decode=Dje;function Lje(t){return{key:Buffer.from([mue.InputTypes.FINAL_SCRIPTSIG]),value:t}}Om.encode=Lje;Om.expected="Buffer";function Uje(t){return Buffer.isBuffer(t)}Om.check=Uje;function Fje(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}Om.canAdd=Fje});var bue=F(Dm=>{"use strict";h();p();Object.defineProperty(Dm,"__esModule",{value:!0});var gue=mo();function qje(t){if(t.key[0]!==gue.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}Dm.decode=qje;function Hje(t){return{key:Buffer.from([gue.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}Dm.encode=Hje;Dm.expected="Buffer";function Kje(t){return Buffer.isBuffer(t)}Dm.check=Kje;function Vje(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}Dm.canAdd=Vje});var xue=F(Lm=>{"use strict";h();p();Object.defineProperty(Lm,"__esModule",{value:!0});var vue=mo();function jje(t){if(t.key[0]!==vue.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}Lm.decode=jje;function zje(t){return{key:Buffer.from([vue.InputTypes.NON_WITNESS_UTXO]),value:t}}Lm.encode=zje;Lm.expected="Buffer";function Gje(t){return Buffer.isBuffer(t)}Lm.check=Gje;function Wje(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}Lm.canAdd=Wje});var Sue=F(Um=>{"use strict";h();p();Object.defineProperty(Um,"__esModule",{value:!0});var wue=mo();function $je(t){if(t.key[0]!==wue.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}Um.decode=$je;function Yje(t){let e=Buffer.from([wue.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}Um.encode=Yje;Um.expected="{ pubkey: Buffer; signature: Buffer; }";function Zje(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&Qje(t.signature)}Um.check=Zje;function Qje(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function Xje(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}Um.canAddToArray=Xje});var _ue=F(Fm=>{"use strict";h();p();Object.defineProperty(Fm,"__esModule",{value:!0});var Eue=mo();function Jje(t){if(t.key[0]!==Eue.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}Fm.decode=Jje;function eze(t){return{key:Buffer.from([Eue.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}Fm.encode=eze;Fm.expected="string";function tze(t){return typeof t=="string"}Fm.check=tze;function rze(t,e){return!!t&&!!e&&t.porCommitment===void 0}Fm.canAdd=rze});var Tue=F(qm=>{"use strict";h();p();Object.defineProperty(qm,"__esModule",{value:!0});var Aue=mo();function nze(t){if(t.key[0]!==Aue.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}qm.decode=nze;function ize(t){let e=Buffer.from([Aue.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}qm.encode=ize;qm.expected="number";function oze(t){return typeof t=="number"}qm.check=oze;function sze(t,e){return!!t&&!!e&&t.sighashType===void 0}qm.canAdd=sze});var kue=F(Hm=>{"use strict";h();p();Object.defineProperty(Hm,"__esModule",{value:!0});var Iue=mo();function aze(t){if(t.key[0]!==Iue.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!Mue(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}Hm.decode=aze;function cze(t){return{key:Buffer.from([Iue.InputTypes.TAP_KEY_SIG]),value:t}}Hm.encode=cze;Hm.expected="Buffer";function Mue(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}Hm.check=Mue;function fze(t,e){return!!t&&!!e&&t.tapKeySig===void 0}Hm.canAdd=fze});var Rue=F(Km=>{"use strict";h();p();Object.defineProperty(Km,"__esModule",{value:!0});var Pue=mo();function uze(t){if(t.key[0]!==Pue.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}Km.decode=uze;function lze(t){let e=Buffer.from([Pue.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}Km.encode=lze;Km.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function dze(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}Km.check=dze;function hze(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}Km.canAddToArray=hze});var Nue=F(Vm=>{"use strict";h();p();Object.defineProperty(Vm,"__esModule",{value:!0});var Bue=mo();function pze(t){if(t.key[0]!==Bue.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!Cue(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}Vm.decode=pze;function mze(t){return{key:Buffer.from([Bue.InputTypes.TAP_MERKLE_ROOT]),value:t}}Vm.encode=mze;Vm.expected="Buffer";function Cue(t){return Buffer.isBuffer(t)&&t.length===32}Vm.check=Cue;function yze(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}Vm.canAdd=yze});var Due=F(jm=>{"use strict";h();p();Object.defineProperty(jm,"__esModule",{value:!0});var Oue=mo();function gze(t){if(t.key[0]!==Oue.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}jm.decode=gze;function bze(t){let e=Buffer.from([Oue.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}jm.encode=bze;jm.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function vze(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}jm.check=vze;function xze(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}jm.canAddToArray=xze});var A0=F(vS=>{"use strict";h();p();Object.defineProperty(vS,"__esModule",{value:!0});var wze=9007199254740991;function cU(t){if(t<0||t>wze||t%1!==0)throw new RangeError("value out of range")}function gS(t,e,r){if(cU(t),e||(e=Buffer.allocUnsafe(Lue(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(gS,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(gS,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(gS,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(gS,{bytes:9})),e}vS.encode=gS;function bS(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(bS,{bytes:1}),r;if(r===253)return Object.assign(bS,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(bS,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(bS,{bytes:9});let n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5)*4294967296+n;return cU(o),o}}vS.decode=bS;function Lue(t){return cU(t),t<253?1:t<=65535?3:t<=4294967295?5:9}vS.encodingLength=Lue});var PT=F(T0=>{"use strict";h();p();Object.defineProperty(T0,"__esModule",{value:!0});var kT=A0();T0.range=t=>[...Array(t).keys()];function Sze(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}T0.reverseBuffer=Sze;function Eze(t){let e=t.map(Uue);return e.push(Buffer.from([0])),Buffer.concat(e)}T0.keyValsToBuffer=Eze;function Uue(t){let e=t.key.length,r=t.value.length,n=kT.encodingLength(e),i=kT.encodingLength(r),o=Buffer.allocUnsafe(n+e+i+r);return kT.encode(e,o,0),t.key.copy(o,n),kT.encode(r,o,n+e),t.value.copy(o,n+e+i),o}T0.keyValToBuffer=Uue;function Fue(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function _ze(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Fue(n+r,9007199254740991),n+r}T0.readUInt64LE=_ze;function Aze(t,e,r){return Fue(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}T0.writeUInt64LE=Aze});var Kue=F(zm=>{"use strict";h();p();Object.defineProperty(zm,"__esModule",{value:!0});var que=mo(),Hue=PT(),RT=A0();function Tze(t){if(t.key[0]!==que.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=Hue.readUInt64LE(t.value,0),r=8,n=RT.decode(t.value,r);r+=RT.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}zm.decode=Tze;function Ize(t){let{script:e,value:r}=t,n=RT.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return Hue.writeUInt64LE(i,r,0),RT.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([que.InputTypes.WITNESS_UTXO]),value:i}}zm.encode=Ize;zm.expected="{ script: Buffer; value: number; }";function Mze(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}zm.check=Mze;function kze(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}zm.canAdd=kze});var jue=F(Gm=>{"use strict";h();p();Object.defineProperty(Gm,"__esModule",{value:!0});var Vue=mo(),fU=A0();function Pze(t){if(t.key[0]!==Vue.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],o=fU.decode(t.value,e);e+=fU.encodingLength(o),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+o)}),e+=o}return{leaves:r}}Gm.decode=Pze;function Rze(t){let e=Buffer.from([Vue.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),fU.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}Gm.encode=Rze;Gm.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function Bze(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}Gm.check=Bze;function Cze(t,e){return!!t&&!!e&&t.tapTree===void 0}Gm.canAdd=Cze});var lU=F(uU=>{"use strict";h();p();Object.defineProperty(uU,"__esModule",{value:!0});var Nze=t=>[...Array(t).keys()],Oze=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function Dze(t,e=Oze){function r(c){if(c.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+c.key.toString("hex"));let l=c.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+c.key.toString("hex"));if(c.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let d={masterFingerprint:c.value.slice(0,4),pubkey:l,path:"m"};for(let g of Nze(c.value.length/4-1)){let b=c.value.readUInt32LE(g*4+4),_=!!(b&2147483648),T=b&2147483647;d.path+="/"+T.toString(10)+(_?"'":"")}return d}function n(c){let l=Buffer.from([t]),d=Buffer.concat([l,c.pubkey]),g=c.path.split("/"),b=Buffer.allocUnsafe(g.length*4);c.masterFingerprint.copy(b,0);let _=4;return g.slice(1).forEach(T=>{let M=T.slice(-1)==="'",k=2147483647&parseInt(M?T.slice(0,-1):T,10);M&&(k+=2147483648),b.writeUInt32LE(k,_),_+=4}),{key:d,value:b}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function o(c){return Buffer.isBuffer(c.pubkey)&&Buffer.isBuffer(c.masterFingerprint)&&typeof c.path=="string"&&e(c.pubkey)&&c.masterFingerprint.length===4}function s(c,l,d){let g=l.pubkey.toString("hex");return d.has(g)?!1:(d.add(g),c.filter(b=>b.pubkey.equals(l.pubkey)).length===0)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:s}}uU.makeConverter=Dze});var zue=F(dU=>{"use strict";h();p();Object.defineProperty(dU,"__esModule",{value:!0});function Lze(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}dU.makeChecker=Lze});var Gue=F(hU=>{"use strict";h();p();Object.defineProperty(hU,"__esModule",{value:!0});function Uze(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,c){return!!s&&!!c&&s.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}hU.makeConverter=Uze});var Wue=F(pU=>{"use strict";h();p();Object.defineProperty(pU,"__esModule",{value:!0});var BT=A0(),Fze=lU(),qze=t=>t.length===32;function Hze(t){let e=Fze.makeConverter(t,qze);function r(s){let c=BT.decode(s.value),l=BT.encodingLength(c),d=e.decode({key:s.key,value:s.value.slice(l+c*32)}),g=new Array(c);for(let b=0,_=l;b<c;b++,_+=32)g[b]=s.value.slice(_,_+32);return Object.assign({},d,{leafHashes:g})}function n(s){let c=e.encode(s),l=BT.encodingLength(s.leafHashes.length),d=Buffer.allocUnsafe(l);BT.encode(s.leafHashes.length,d);let g=Buffer.concat([d,...s.leafHashes,c.value]);return Object.assign({},c,{value:g})}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function o(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(c=>Buffer.isBuffer(c)&&c.length===32)&&e.check(s)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:e.canAddToArray}}pU.makeConverter=Hze});var $ue=F(mU=>{"use strict";h();p();Object.defineProperty(mU,"__esModule",{value:!0});function Kze(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)&&s.length===32}function o(s,c){return!!s&&!!c&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}mU.makeConverter=Kze});var Yue=F(yU=>{"use strict";h();p();Object.defineProperty(yU,"__esModule",{value:!0});function Vze(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,c){return!!s&&!!c&&s.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}yU.makeConverter=Vze});var CT=F(xS=>{"use strict";h();p();Object.defineProperty(xS,"__esModule",{value:!0});var Va=mo(),jze=hue(),zze=pue(),Gze=yue(),Wze=bue(),$ze=xue(),Yze=Sue(),Zze=_ue(),Qze=Tue(),Xze=kue(),Jze=Rue(),eGe=Nue(),tGe=Due(),rGe=Kue(),nGe=jue(),Zue=lU(),gU=zue(),Que=Gue(),Xue=Wue(),Jue=$ue(),ele=Yue(),iGe={unsignedTx:zze,globalXpub:jze,checkPubkey:gU.makeChecker([])};xS.globals=iGe;var oGe={nonWitnessUtxo:$ze,partialSig:Yze,sighashType:Qze,finalScriptSig:Gze,finalScriptWitness:Wze,porCommitment:Zze,witnessUtxo:rGe,bip32Derivation:Zue.makeConverter(Va.InputTypes.BIP32_DERIVATION),redeemScript:Que.makeConverter(Va.InputTypes.REDEEM_SCRIPT),witnessScript:ele.makeConverter(Va.InputTypes.WITNESS_SCRIPT),checkPubkey:gU.makeChecker([Va.InputTypes.PARTIAL_SIG,Va.InputTypes.BIP32_DERIVATION]),tapKeySig:Xze,tapScriptSig:tGe,tapLeafScript:Jze,tapBip32Derivation:Xue.makeConverter(Va.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:Jue.makeConverter(Va.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:eGe};xS.inputs=oGe;var sGe={bip32Derivation:Zue.makeConverter(Va.OutputTypes.BIP32_DERIVATION),redeemScript:Que.makeConverter(Va.OutputTypes.REDEEM_SCRIPT),witnessScript:ele.makeConverter(Va.OutputTypes.WITNESS_SCRIPT),checkPubkey:gU.makeChecker([Va.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:Xue.makeConverter(Va.OutputTypes.TAP_BIP32_DERIVATION),tapTree:nGe,tapInternalKey:Jue.makeConverter(Va.OutputTypes.TAP_INTERNAL_KEY)};xS.outputs=sGe});var nle=F(wS=>{"use strict";h();p();Object.defineProperty(wS,"__esModule",{value:!0});var In=CT(),NT=PT(),tle=A0(),Zt=mo();function aGe(t,e){let r=0;function n(){let B=tle.decode(t,r);r+=tle.encodingLength(B);let P=t.slice(r,r+B);return r+=B,P}function i(){let B=t.readUInt32BE(r);return r+=4,B}function o(){let B=t.readUInt8(r);return r+=1,B}function s(){let B=n(),P=n();return{key:B,value:P}}function c(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let B=t.readUInt8(r)===0;return B&&r++,B}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],d={};for(;!c();){let B=s(),P=B.key.toString("hex");if(d[P])throw new Error("Format Error: Keys must be unique for global keymap: key "+P);d[P]=1,l.push(B)}let g=l.filter(B=>B.key[0]===Zt.GlobalTypes.UNSIGNED_TX);if(g.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let b=e(g[0].value),{inputCount:_,outputCount:T}=b.getInputOutputCounts(),M=[],k=[];for(let B of NT.range(_)){let P={},D=[];for(;!c();){let R=s(),L=R.key.toString("hex");if(P[L])throw new Error("Format Error: Keys must be unique for each input: input index "+B+" key "+L);P[L]=1,D.push(R)}M.push(D)}for(let B of NT.range(T)){let P={},D=[];for(;!c();){let R=s(),L=R.key.toString("hex");if(P[L])throw new Error("Format Error: Keys must be unique for each output: output index "+B+" key "+L);P[L]=1,D.push(R)}k.push(D)}return rle(b,{globalMapKeyVals:l,inputKeyVals:M,outputKeyVals:k})}wS.psbtFromBuffer=aGe;function Co(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}wS.checkKeyBuffer=Co;function rle(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},o=0;for(let g of e)switch(g.key[0]){case Zt.GlobalTypes.UNSIGNED_TX:if(Co("global",g.key,Zt.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case Zt.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(In.globals.globalXpub.decode(g));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(g)}let s=r.length,c=n.length,l=[],d=[];for(let g of NT.range(s)){let b={};for(let _ of r[g])switch(In.inputs.checkPubkey(_),_.key[0]){case Zt.InputTypes.NON_WITNESS_UTXO:if(Co("input",_.key,Zt.InputTypes.NON_WITNESS_UTXO),b.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");b.nonWitnessUtxo=In.inputs.nonWitnessUtxo.decode(_);break;case Zt.InputTypes.WITNESS_UTXO:if(Co("input",_.key,Zt.InputTypes.WITNESS_UTXO),b.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");b.witnessUtxo=In.inputs.witnessUtxo.decode(_);break;case Zt.InputTypes.PARTIAL_SIG:b.partialSig===void 0&&(b.partialSig=[]),b.partialSig.push(In.inputs.partialSig.decode(_));break;case Zt.InputTypes.SIGHASH_TYPE:if(Co("input",_.key,Zt.InputTypes.SIGHASH_TYPE),b.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");b.sighashType=In.inputs.sighashType.decode(_);break;case Zt.InputTypes.REDEEM_SCRIPT:if(Co("input",_.key,Zt.InputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");b.redeemScript=In.inputs.redeemScript.decode(_);break;case Zt.InputTypes.WITNESS_SCRIPT:if(Co("input",_.key,Zt.InputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");b.witnessScript=In.inputs.witnessScript.decode(_);break;case Zt.InputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(In.inputs.bip32Derivation.decode(_));break;case Zt.InputTypes.FINAL_SCRIPTSIG:Co("input",_.key,Zt.InputTypes.FINAL_SCRIPTSIG),b.finalScriptSig=In.inputs.finalScriptSig.decode(_);break;case Zt.InputTypes.FINAL_SCRIPTWITNESS:Co("input",_.key,Zt.InputTypes.FINAL_SCRIPTWITNESS),b.finalScriptWitness=In.inputs.finalScriptWitness.decode(_);break;case Zt.InputTypes.POR_COMMITMENT:Co("input",_.key,Zt.InputTypes.POR_COMMITMENT),b.porCommitment=In.inputs.porCommitment.decode(_);break;case Zt.InputTypes.TAP_KEY_SIG:Co("input",_.key,Zt.InputTypes.TAP_KEY_SIG),b.tapKeySig=In.inputs.tapKeySig.decode(_);break;case Zt.InputTypes.TAP_SCRIPT_SIG:b.tapScriptSig===void 0&&(b.tapScriptSig=[]),b.tapScriptSig.push(In.inputs.tapScriptSig.decode(_));break;case Zt.InputTypes.TAP_LEAF_SCRIPT:b.tapLeafScript===void 0&&(b.tapLeafScript=[]),b.tapLeafScript.push(In.inputs.tapLeafScript.decode(_));break;case Zt.InputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(In.inputs.tapBip32Derivation.decode(_));break;case Zt.InputTypes.TAP_INTERNAL_KEY:Co("input",_.key,Zt.InputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=In.inputs.tapInternalKey.decode(_);break;case Zt.InputTypes.TAP_MERKLE_ROOT:Co("input",_.key,Zt.InputTypes.TAP_MERKLE_ROOT),b.tapMerkleRoot=In.inputs.tapMerkleRoot.decode(_);break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(_)}l.push(b)}for(let g of NT.range(c)){let b={};for(let _ of n[g])switch(In.outputs.checkPubkey(_),_.key[0]){case Zt.OutputTypes.REDEEM_SCRIPT:if(Co("output",_.key,Zt.OutputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");b.redeemScript=In.outputs.redeemScript.decode(_);break;case Zt.OutputTypes.WITNESS_SCRIPT:if(Co("output",_.key,Zt.OutputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");b.witnessScript=In.outputs.witnessScript.decode(_);break;case Zt.OutputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(In.outputs.bip32Derivation.decode(_));break;case Zt.OutputTypes.TAP_INTERNAL_KEY:Co("output",_.key,Zt.OutputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=In.outputs.tapInternalKey.decode(_);break;case Zt.OutputTypes.TAP_TREE:Co("output",_.key,Zt.OutputTypes.TAP_TREE),b.tapTree=In.outputs.tapTree.decode(_);break;case Zt.OutputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(In.outputs.tapBip32Derivation.decode(_));break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(_)}d.push(b)}return{globalMap:i,inputs:l,outputs:d}}wS.psbtFromKeyVals=rle});var sle=F(OT=>{"use strict";h();p();Object.defineProperty(OT,"__esModule",{value:!0});var bU=CT(),ile=PT();function cGe({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=ole({globalMap:t,inputs:e,outputs:r}),s=ile.keyValsToBuffer(n),c=b=>b.length===0?[Buffer.from([0])]:b.map(ile.keyValsToBuffer),l=c(i),d=c(o),g=Buffer.allocUnsafe(5);return g.writeUIntBE(482972169471,0,5),Buffer.concat([g,s].concat(l,d))}OT.psbtToBuffer=cGe;var fGe=(t,e)=>t.key.compare(e.key);function vU(t,e){let r=new Set,n=Object.entries(t).reduce((o,[s,c])=>{if(s==="unknownKeyVals")return o;let l=e[s];if(l===void 0)return o;let d=(Array.isArray(c)?c:[c]).map(l.encode);return d.map(b=>b.key.toString("hex")).forEach(b=>{if(r.has(b))throw new Error("Serialize Error: Duplicate key: "+b);r.add(b)}),o.concat(d)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(o=>!r.has(o.key.toString("hex"))):[];return n.concat(i).sort(fGe)}function ole({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:vU(t,bU.globals),inputKeyVals:e.map(n=>vU(n,bU.inputs)),outputKeyVals:r.map(n=>vU(n,bU.outputs))}}OT.psbtToKeyVals=ole});var xU=F(DT=>{"use strict";h();p();function ale(t){for(var e in t)DT.hasOwnProperty(e)||(DT[e]=t[e])}Object.defineProperty(DT,"__esModule",{value:!0});ale(nle());ale(sle())});var fle=F(EU=>{"use strict";h();p();Object.defineProperty(EU,"__esModule",{value:!0});var wU=xU();function uGe(t){let e=t[0],r=wU.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=cle(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let o=Nb(r.globalKeyVals),s=r.inputKeyVals.map(Nb),c=r.outputKeyVals.map(Nb);for(let l of n){let d=cle(l);if(d===void 0||!d.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let g=wU.psbtToKeyVals(l);Nb(g.globalKeyVals).forEach(SU(o,r.globalKeyVals,g.globalKeyVals)),g.inputKeyVals.map(Nb).forEach((M,k)=>M.forEach(SU(s[k],r.inputKeyVals[k],g.inputKeyVals[k]))),g.outputKeyVals.map(Nb).forEach((M,k)=>M.forEach(SU(c[k],r.outputKeyVals[k],g.outputKeyVals[k])))}return wU.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}EU.combine=uGe;function SU(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(o=>o.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function cle(t){return t.globalMap.unsignedTx}function Nb(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var AU=F(hs=>{"use strict";h();p();Object.defineProperty(hs,"__esModule",{value:!0});var lGe=CT();function lle(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}hs.checkForInput=lle;function dle(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}hs.checkForOutput=dle;function dGe(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}hs.checkHasKey=dGe;function hGe(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}hs.getEnumLength=hGe;function pGe(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,o=!n||!!e.finalScriptSig,s=!i||!!e.finalScriptWitness,c=!!e.finalScriptSig||!!e.finalScriptWitness;r=o&&s&&c}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}hs.inputCheckUncleanFinalized=pGe;function ule(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function _U(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:o,canAddToArray:s,check:c,expected:l}=lGe[t+"s"][n]||{},d=!!s;if(c)if(d){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(c)||ule(t,n,l,i);let g=r[n]||[],b=new Set;if(!i.every(_=>s(g,_,b)))throw new Error("Can not add duplicate data to array");r[n]=g.concat(i)}else{if(c(i)||ule(t,n,l,i),!o(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}hs.updateGlobal=_U("global");hs.updateInput=_U("input");hs.updateOutput=_U("output");function mGe(t,e){let r=t.length-1,n=lle(t,r);hs.updateInput(e,n)}hs.addInputAttributes=mGe;function yGe(t,e){let r=t.length-1,n=dle(t,r);hs.updateOutput(e,n)}hs.addOutputAttributes=yGe;function gGe(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}hs.defaultVersionSetter=gGe;function bGe(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}hs.defaultLocktimeSetter=bGe});var ple=F(MU=>{"use strict";h();p();Object.defineProperty(MU,"__esModule",{value:!0});var vGe=fle(),hle=xU(),TU=mo(),No=AU(),IU=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=hle.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return hle.psbtToBuffer(this)}updateGlobal(e){return No.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=No.checkForInput(this.inputs,e);return No.updateInput(r,n),this}updateOutput(e,r){let n=No.checkForOutput(this.outputs,e);return No.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return No.checkHasKey(e,this.globalMap.unknownKeyVals,No.getEnumLength(TU.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=No.checkForInput(this.inputs,e);return No.checkHasKey(r,n.unknownKeyVals,No.getEnumLength(TU.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=No.checkForOutput(this.outputs,e);return No.checkHasKey(r,n.unknownKeyVals,No.getEnumLength(TU.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),No.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),No.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=No.checkForInput(this.inputs,e);No.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=vGe.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};MU.Psbt=IU});var UT=F(bn=>{"use strict";h();p();Object.defineProperty(bn,"__esModule",{value:!0});bn.signatureBlocksAction=bn.checkInputForSig=bn.pubkeyInScript=bn.pubkeyPositionInScript=bn.witnessStackToScriptWitness=bn.isP2TR=bn.isP2SHScript=bn.isP2WSHScript=bn.isP2WPKH=bn.isP2PKH=bn.isP2PK=bn.isP2MS=void 0;var mle=A0(),SS=Us(),LT=Cb(),xGe=ju(),Wm=Rb();function $m(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}bn.isP2MS=$m(Wm.p2ms);bn.isP2PK=$m(Wm.p2pk);bn.isP2PKH=$m(Wm.p2pkh);bn.isP2WPKH=$m(Wm.p2wpkh);bn.isP2WSHScript=$m(Wm.p2wsh);bn.isP2SHScript=$m(Wm.p2sh);bn.isP2TR=$m(Wm.p2tr);function wGe(t){let e=Buffer.allocUnsafe(0);function r(s){e=Buffer.concat([e,Buffer.from(s)])}function n(s){let c=e.length,l=mle.encodingLength(s);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),mle.encode(s,e,c)}function i(s){n(s.length),r(s)}function o(s){n(s.length),s.forEach(i)}return o(t),e}bn.witnessStackToScriptWitness=wGe;function yle(t,e){let r=(0,xGe.hash160)(t),n=t.slice(1,33),i=SS.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(o=>typeof o=="number"?!1:o.equals(t)||o.equals(r)||o.equals(n))}bn.pubkeyPositionInScript=yle;function SGe(t,e){return yle(t,e)!==-1}bn.pubkeyInScript=SGe;function EGe(t,e){return _Ge(t).some(n=>gle(n,SS.signature.decode,e))}bn.checkInputForSig=EGe;function gle(t,e,r){let{hashType:n}=e(t),i=[];switch(n&LT.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case LT.Transaction.SIGHASH_ALL:break;case LT.Transaction.SIGHASH_SINGLE:case LT.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}bn.signatureBlocksAction=gle;function _Ge(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=AGe(t)}else e=t.partialSig;return e.map(r=>r.signature)}function AGe(t){let e=t.finalScriptSig?SS.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?SS.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&SS.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var vle=F(Nn=>{"use strict";h();p();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.checkTaprootInputForSigs=Nn.tapTreeFromList=Nn.tapTreeToList=Nn.tweakInternalPubKey=Nn.checkTaprootOutputFields=Nn.checkTaprootInputFields=Nn.isTaprootOutput=Nn.isTaprootInput=Nn.serializeTaprootSignature=Nn.tapScriptFinalizer=Nn.toXOnly=void 0;var BU=Bo(),TGe=Cb(),HT=UT(),I0=wT(),IGe=Rb(),MGe=UT(),kGe=t=>t.length===32?t:t.slice(1,33);Nn.toXOnly=kGe;function PGe(t,e,r){let n=$Ge(e,t,r);try{let o=GGe(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,HT.witnessStackToScriptWitness)(o)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}Nn.tapScriptFinalizer=PGe;function RGe(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}Nn.serializeTaprootSignature=RGe;function FT(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,HT.isP2TR)(t.witnessUtxo.script))}Nn.isTaprootInput=FT;function qT(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,HT.isP2TR)(e))}Nn.isTaprootOutput=qT;function BGe(t,e,r){VGe(t,e,r),zGe(t,e,r)}Nn.checkTaprootInputFields=BGe;function CGe(t,e,r){jGe(t,e,r),NGe(t,e)}Nn.checkTaprootOutputFields=CGe;function NGe(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,o=OGe(r,n);if(i&&!i.equals(o))throw new Error("Error adding output. Script or address missmatch.")}}function OGe(t,e){let r=e&&ble(e.leaves),{output:n}=(0,IGe.p2tr)({internalPubkey:t,scriptTree:r});return n}function DGe(t,e){let r=e.tapInternalKey,n=r&&(0,I0.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}Nn.tweakInternalPubKey=DGe;function LGe(t){if(!(0,BU.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return PU(t)}Nn.tapTreeToList=LGe;function ble(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:KGe(t)}Nn.tapTreeFromList=ble;function UGe(t,e){return qGe(t).some(n=>(0,MGe.signatureBlocksAction)(n,FGe,e))}Nn.checkTaprootInputForSigs=UGe;function FGe(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||TGe.Transaction.SIGHASH_DEFAULT}}function qGe(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=HGe(t.finalScriptWitness);r&&e.push(r)}return e}function HGe(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function PU(t,e=[],r=0){if(r>I0.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,BU.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||I0.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&PU(t[0],e,r+1),t[1]&&PU(t[1],e,r+1),e):[]}function KGe(t){let e;for(let r of t)if(e=RU(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function RU(t,e,r=0){if(r>I0.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,BU.isTapleaf)(e))return;let n=RU(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=RU(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function VGe(t,e,r){let n=FT(t)&&Ob(e),i=Ob(t)&&FT(e),o=t===e&&FT(e)&&Ob(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function jGe(t,e,r){let n=qT(t)&&Ob(e),i=Ob(t)&&qT(e),o=t===e&&qT(e)&&Ob(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function zGe(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(o=>kU(o,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(o=>kU(o,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>kU(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function kU(t,e){if(!e)return!0;let r=(0,I0.tapleafHash)({output:t.script,version:t.leafVersion});return(0,I0.rootHashFromPath)(t.controlBlock,r).equals(e)}function GGe(t,e){let r=(0,I0.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>WGe(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function WGe(t,e){return Object.assign({positionInScript:(0,HT.pubkeyPositionInScript)(e.pubkey,t)},e)}function $Ge(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,o)=>i.controlBlock.length-o.controlBlock.length).find(i=>YGe(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function YGe(t,e,r){let n=(0,I0.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(o=>o.leafHash.equals(n))!==void 0}function Ob(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var Vle=F($T=>{"use strict";h();p();Object.defineProperty($T,"__esModule",{value:!0});$T.Psbt=void 0;var xle=ple(),wle=A0(),Ks=AU(),Sle=rU(),VT=yS(),ZGe=Lc(),qc=Rb(),QGe=wT(),pd=Us(),Oo=Cb(),$n=vle(),Ci=UT(),XGe={network:ZGe.bitcoin,maximumFeeRate:5e3},NU=class t{static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=xle.Psbt.fromBuffer(e,JGe),i=new t(r,n);return iWe(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new xle.Psbt(new jT)){this.data=r,this.opts=Object.assign({},XGe,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,o,s,c)=>Object.defineProperty(i,o,{enumerable:s,writable:c});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,VT.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,Sle.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,VT.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){KT(e),this.opts.maximumFeeRate=e}setVersion(e){KT(e),ES(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){KT(e),ES(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){KT(r),ES(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,$n.checkTaprootInputFields)(e,e,"addInput"),ES(this.data.inputs,"addInput"),e.witnessScript&&zT(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];Cle(r,n);let i=this.data.inputs.length-1,o=this.data.inputs[i];return o.nonWitnessUtxo&&DU(this.__CACHE,o,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");ES(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,o=(0,Sle.toOutputScript)(r,i);e=Object.assign(e,{script:o})}(0,$n.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(Rle))throw new Error("Not finalized");let r=this.__CACHE;if(e||tWe(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return Fle(this.data.inputs,n,r,!0),n}getFeeRate(){return Ile("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return Ile("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Ks.checkForInput)(this.data.inputs,0),_S(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Ks.checkForInput)(this.data.inputs,e);return(0,$n.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=$n.tapScriptFinalizer){let i=(0,Ks.checkForInput)(this.data.inputs,e);if((0,$n.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=oWe){let{script:i,isP2SH:o,isP2WSH:s,isSegwit:c}=fWe(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);rWe(r);let{finalScriptSig:l,finalScriptWitness:d}=n(e,r,i,c,o,s);if(l&&this.data.updateInput(e,{finalScriptSig:l}),d&&this.data.updateInput(e,{finalScriptWitness:d}),!l&&!d)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=$n.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let o=qc.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,Ci.witnessStackToScriptWitness)(o.witness);this.data.updateInput(e,{finalScriptWitness:s})}else{let{finalScriptWitness:o}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:o})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Ks.checkForInput)(this.data.inputs,e),n=qle(e,r,this.__CACHE),i=WT(n,e,"input",r.redeemScript||pWe(r.finalScriptSig),r.witnessScript||mWe(r.finalScriptWitness)),o=i.type==="raw"?"":i.type+"-",s=Kle(i.meaningfulScript);return o+s}inputHasPubkey(e,r){let n=(0,Ks.checkForInput)(this.data.inputs,e);return dWe(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Ks.checkForInput)(this.data.inputs,e),i=_le(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,Ks.checkForOutput)(this.data.outputs,e);return hWe(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Ks.checkForOutput)(this.data.outputs,e),i=_le(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,Ks.checkForInput)(this.data.inputs,0),_S(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,$n.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).partialSig;if(!i||!o||o.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?o.filter(b=>b.pubkey.equals(n)):o;if(s.length<1)throw new Error("No signatures for this pubkey");let c=[],l,d,g;for(let b of s){let _=pd.signature.decode(b.signature),{hash:T,script:M}=g!==_.hashType?Ole(e,Object.assign({},i,{sighashType:_.hashType}),this.__CACHE,!0):{hash:l,script:d};g=_.hashType,l=T,d=M,Ble(b.pubkey,M,"verify"),c.push(r(b.pubkey,T,_.signature))}return c.every(b=>b===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).tapKeySig,s=(i||{}).tapScriptSig;if(!i&&!o&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,$n.toXOnly)(n);let c=n?OU(e,i,this.data.inputs,n,this.__CACHE):aWe(e,i,this.data.inputs,this.__CACHE);if(!c.length)throw new Error("No signatures for this pubkey");let l=c.find(g=>!g.leafHash),d=0;if(o&&l){if(!r(l.pubkey,l.hash,kle(o)))return!1;d++}if(s)for(let g of s){let b=c.find(_=>g.pubkey.equals(_.pubkey));if(b){if(!r(g.pubkey,b.hash,kle(g.signature)))return!1;d++}}return d>0}signAllInputsHD(e,r=[Oo.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of _S(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Oo.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let o=[],s=[];for(let c of _S(this.data.inputs.length))s.push(this.signInputHDAsync(c,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Oo.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return Ple(e,this.data.inputs,r).forEach(o=>this.signInput(e,o,n)),this}signInputHDAsync(e,r,n=[Oo.Transaction.SIGHASH_ALL]){return new Promise((i,o)=>{if(!r||!r.publicKey||!r.fingerprint)return o(new Error("Need HDSigner to sign input"));let c=Ple(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(c).then(()=>{i()}).catch(o)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of _S(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let o=[],s=[];for(let[c]of this.data.inputs.entries())s.push(this.signInputAsync(c,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Ks.checkForInput)(this.data.inputs,e);return(0,$n.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,Ks.checkForInput)(this.data.inputs,e);if((0,$n.isTaprootInput)(o))return this._signTaprootInput(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[Oo.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=Mle(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:pd.signature.encode(r.sign(i),o)}];return this.data.updateInput(e,{partialSig:s}),this}_signTaprootInput(e,r,n,i,o=[Oo.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),c=s.filter(d=>!d.leafHash).map(d=>(0,$n.serializeTaprootSignature)(n.signSchnorr(d.hash),r.sighashType))[0],l=s.filter(d=>!!d.leafHash).map(d=>({pubkey:(0,$n.toXOnly)(n.publicKey),signature:(0,$n.serializeTaprootSignature)(n.signSchnorr(d.hash),r.sighashType),leafHash:d.leafHash}));return c&&this.data.updateInput(e,{tapKeySig:c}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Ks.checkForInput)(this.data.inputs,e);return(0,$n.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,Ks.checkForInput)(this.data.inputs,e);if((0,$n.isTaprootInput)(o))return this._signTaprootInputAsync(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Oo.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=Mle(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(s=>{let c=[{pubkey:r.publicKey,signature:pd.signature.encode(s,o)}];this.data.updateInput(e,{partialSig:c})})}async _signTaprootInputAsync(e,r,n,i,o=[Oo.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),c=[],l=s.filter(g=>!g.leafHash)[0];if(l){let g=Promise.resolve(n.signSchnorr(l.hash)).then(b=>({tapKeySig:(0,$n.serializeTaprootSignature)(b,r.sighashType)}));c.push(g)}let d=s.filter(g=>!!g.leafHash);if(d.length){let g=d.map(b=>Promise.resolve(n.signSchnorr(b.hash)).then(_=>({tapScriptSig:[{pubkey:(0,$n.toXOnly)(n.publicKey),signature:(0,$n.serializeTaprootSignature)(_,r.sighashType),leafHash:b.leafHash}]})));c.push(...g)}return Promise.all(c).then(g=>{g.forEach(b=>this.data.updateInput(e,b))})}checkTaprootHashesForSig(e,r,n,i,o){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let s=OU(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,o);if(!s||!s.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return CU(this.__CACHE),this.data.toBuffer()}toHex(){return CU(this.__CACHE),this.data.toHex()}toBase64(){return CU(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&zT(r.witnessScript),(0,$n.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&DU(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,$n.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};$T.Psbt=NU;var JGe=t=>new jT(t),jT=class{constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Oo.Transaction.fromBuffer(e),nWe(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,VT.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function eWe(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return Ele(1,t.partialSig);case"multisig":let n=qc.p2ms({output:e});return Ele(n.m,t.partialSig,n.pubkeys);default:return!1}}function CU(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function Ele(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let o=yWe(i);return e.find(s=>s.pubkey.equals(o))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function Rle(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function _le(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function KT(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function tWe(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function ES(t,e){t.forEach(r=>{if((0,$n.isTaprootInput)(r)?(0,$n.checkTaprootInputForSigs)(r,e):(0,Ci.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function rWe(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=pd.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function Ble(t,e,r){if(!(0,Ci.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function nWe(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function iWe(t,e){t.ins.forEach(r=>{Cle(e,r)})}function Cle(t,e){let r=(0,VT.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function Nle(t,e){return(r,n,i,o)=>{let s=t({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${e} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}var Ale=Nle(qc.p2sh,"Redeem script"),Tle=Nle(qc.p2wsh,"Witness script");function Ile(t,e,r,n){if(!r.every(Rle))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,o=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),Fle(r,i,n,o),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function oWe(t,e,r,n,i,o){let s=Kle(r);if(!eWe(e,r,s))throw new Error(`Can not finalize input #${t}`);return sWe(r,s,e.partialSig,n,i,o)}function sWe(t,e,r,n,i,o){let s,c,l=cWe(t,e,r),d=o?qc.p2wsh({redeem:l}):null,g=i?qc.p2sh({redeem:d||l}):null;return n?(d?c=(0,Ci.witnessStackToScriptWitness)(d.witness):c=(0,Ci.witnessStackToScriptWitness)(l.witness),g&&(s=g.input)):g?s=g.input:s=l.input,{finalScriptSig:s,finalScriptWitness:c}}function Mle(t,e,r,n,i){let o=(0,Ks.checkForInput)(t,e),{hash:s,sighashType:c,script:l}=Ole(e,o,n,!1,i);return Ble(r,l,"sign"),{hash:s,sighashType:c}}function Ole(t,e,r,n,i){let o=r.__TX,s=e.sighashType||Oo.Transaction.SIGHASH_ALL;Lle(s,i);let c,l;if(e.nonWitnessUtxo){let b=GT(r,e,t),_=o.ins[t].hash,T=b.getHash();if(!_.equals(T))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let M=o.ins[t].index;l=b.outs[M]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:d,type:g}=WT(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(g)>=0)c=o.hashForWitnessV0(t,d,l.value,s);else if((0,Ci.isP2WPKH)(d)){let b=qc.p2pkh({hash:d.slice(2)}).output;c=o.hashForWitnessV0(t,b,l.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${d.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),c=o.hashForSignature(t,d,s)}return{script:d,sighashType:s,hash:c}}function aWe(t,e,r,n){let i=[];if(e.tapInternalKey){let s=Dle(t,e,n);s&&i.push(s)}if(e.tapScriptSig){let s=e.tapScriptSig.map(c=>c.pubkey);i.push(...s)}return i.map(s=>OU(t,e,r,s,n)).flat()}function Dle(t,e,r){let{script:n}=LU(t,e,r);return(0,Ci.isP2TR)(n)?n.subarray(2,34):null}function kle(t){return t.length===64?t:t.subarray(0,64)}function OU(t,e,r,n,i,o,s){let c=i.__TX,l=e.sighashType||Oo.Transaction.SIGHASH_DEFAULT;Lle(l,s);let d=r.map((M,k)=>LU(k,M,i)),g=d.map(M=>M.script),b=d.map(M=>M.value),_=[];if(e.tapInternalKey&&!o){let M=Dle(t,e,i)||Buffer.from([]);if((0,$n.toXOnly)(n).equals(M)){let k=c.hashForWitnessV1(t,g,b,l);_.push({pubkey:n,hash:k})}}let T=(e.tapLeafScript||[]).filter(M=>(0,Ci.pubkeyInScript)(n,M.script)).map(M=>{let k=(0,QGe.tapleafHash)({output:M.script,version:M.leafVersion});return Object.assign({hash:k},M)}).filter(M=>!o||o.equals(M.hash)).map(M=>{let k=c.hashForWitnessV1(t,g,b,Oo.Transaction.SIGHASH_DEFAULT,M.hash);return{pubkey:n,hash:k,leafHash:M.hash}});return _.concat(T)}function Lle(t,e){if(e&&e.indexOf(t)<0){let r=lWe(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function cWe(t,e,r){let n;switch(e){case"multisig":let i=uWe(t,r);n=qc.p2ms({output:t,signatures:i});break;case"pubkey":n=qc.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=qc.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=qc.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function fWe(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let o=GT(r,e,t),s=n.ins[t].index;i.script=o.outs[s].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,Ci.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function Ple(t,e,r){let n=(0,Ks.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(s=>{let c=r.derivePath(s.path);if(!s.pubkey.equals(c.publicKey))throw new Error("pubkey did not match bip32Derivation");return c})}function uWe(t,e){return qc.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function Ule(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){let s=wle.decode(t,e);return e+=wle.decode.bytes,s}function i(){return r(n())}function o(){let s=n(),c=[];for(let l=0;l<s;l++)c.push(i());return c}return o()}function lWe(t){let e=t&Oo.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Oo.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Oo.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Oo.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function DU(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Oo.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,o=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let s=i.__NON_WITNESS_UTXO_BUF_CACHE[o],c=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(s!==void 0)return s;{let l=c.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=l,l}},set(s){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=s}})}function Fle(t,e,r,n){let i=0;t.forEach((l,d)=>{if(n&&l.finalScriptSig&&(e.ins[d].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[d].witness=Ule(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let g=GT(r,l,d),b=e.ins[d].index,_=g.outs[b];i+=_.value}});let o=e.outs.reduce((l,d)=>l+d.value,0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");let c=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/c)}function GT(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||DU(t,e,r),n[r]}function qle(t,e,r){let{script:n}=LU(t,e,r);return n}function LU(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=GT(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function dWe(t,e,r,n){let i=qle(r,e,n),{meaningfulScript:o}=WT(i,r,"input",e.redeemScript,e.witnessScript);return(0,Ci.pubkeyInScript)(t,o)}function hWe(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:o}=WT(i,r,"output",e.redeemScript,e.witnessScript);return(0,Ci.pubkeyInScript)(t,o)}function pWe(t){if(!t)return;let e=pd.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||Hle(r)||gWe(r)||!pd.decompile(r)))return r}function mWe(t){if(!t)return;let e=Ule(t),r=e[e.length-1];if(!(Hle(r)||!pd.decompile(r)))return r}function yWe(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function Hle(t){return t.length===33&&pd.isCanonicalPubKey(t)}function gWe(t){return pd.isCanonicalScriptSignature(t)}function WT(t,e,r,n,i){let o=(0,Ci.isP2SHScript)(t),s=o&&n&&(0,Ci.isP2WSHScript)(n),c=(0,Ci.isP2WSHScript)(t);if(o&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((c||s)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return s?(l=i,Ale(e,t,n,r),Tle(e,n,i,r),zT(l)):c?(l=i,Tle(e,t,i,r),zT(l)):o?(l=n,Ale(e,t,n,r)):l=t,{meaningfulScript:l,type:s?"p2sh-p2wsh":o?"p2sh":c?"p2wsh":"raw"}}function zT(t){if((0,Ci.isP2WPKH)(t)||(0,Ci.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Kle(t){return(0,Ci.isP2WPKH)(t)?"witnesspubkeyhash":(0,Ci.isP2PKH)(t)?"pubkeyhash":(0,Ci.isP2MS)(t)?"multisig":(0,Ci.isP2PK)(t)?"pubkey":"nonstandard"}function _S(t){return[...Array(t).keys()]}});var UU=F(fi=>{"use strict";h();p();Object.defineProperty(fi,"__esModule",{value:!0});fi.initEccLib=fi.Transaction=fi.opcodes=fi.Psbt=fi.Block=fi.script=fi.payments=fi.networks=fi.crypto=fi.address=void 0;var bWe=rU();fi.address=bWe;var vWe=ju();fi.crypto=vWe;var xWe=Lc();fi.networks=xWe;var wWe=Rb();fi.payments=wWe;var SWe=Us();fi.script=SWe;var EWe=lue();Object.defineProperty(fi,"Block",{enumerable:!0,get:function(){return EWe.Block}});var _We=Vle();Object.defineProperty(fi,"Psbt",{enumerable:!0,get:function(){return _We.Psbt}});var AWe=$5();Object.defineProperty(fi,"opcodes",{enumerable:!0,get:function(){return AWe.OPS}});var TWe=Cb();Object.defineProperty(fi,"Transaction",{enumerable:!0,get:function(){return TWe.Transaction}});var IWe=xT();Object.defineProperty(fi,"initEccLib",{enumerable:!0,get:function(){return IWe.initEccLib}})});var md=F(Er=>{"use strict";h();p();Object.defineProperty(Er,"__esModule",{value:!0});Er.DEFAULT_TLRU_TTL_MS=Er.BANDIT_ASSIGNMENT_SHARDS=Er.MAX_EVENT_QUEUE_SIZE=Er.NULL_SENTINEL=Er.SESSION_ASSIGNMENT_CONFIG_LOADED=Er.PRECOMPUTED_FLAGS_ENDPOINT=Er.PRECOMPUTED_BASE_URL=Er.BANDIT_ENDPOINT=Er.UFC_ENDPOINT=Er.BASE_URL=Er.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Er.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Er.POLL_JITTER_PCT=Er.DEFAULT_POLL_INTERVAL_MS=Er.REQUEST_TIMEOUT_MILLIS=Er.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Er.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Er.REQUEST_TIMEOUT_MILLIS=Er.DEFAULT_REQUEST_TIMEOUT_MS;Er.DEFAULT_POLL_INTERVAL_MS=3e4;Er.POLL_JITTER_PCT=.1;Er.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Er.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Er.BASE_URL="https://fscdn.eppo.cloud/api";Er.UFC_ENDPOINT="/flag-config/v1/config";Er.BANDIT_ENDPOINT="/flag-config/v1/bandits";Er.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Er.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Er.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Er.NULL_SENTINEL="EPPO_NULL";Er.MAX_EVENT_QUEUE_SIZE=100;Er.BANDIT_ASSIGNMENT_SHARDS=1e4;Er.DEFAULT_TLRU_TTL_MS=6e5});var EI=F(PF=>{"use strict";h();p();Object.defineProperty(PF,"__esModule",{value:!0});var SI=md(),kF=class{constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??SI.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(SI.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(SI.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(SI.PRECOMPUTED_FLAGS_ENDPOINT)}};PF.default=kF});var Hde=F((T$t,qde)=>{"use strict";h();p();function T$e(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}qde.exports=I$e;function I$e(t,e,r){var n=r&&r.stringify||T$e,i=1;if(typeof t=="object"&&t!==null){var o=e.length+i;if(o===1)return t;var s=new Array(o);s[0]=n(t);for(var c=1;c<o;c++)s[c]=n(e[c]);return s.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var d="",g=1-i,b=-1,_=t&&t.length||0,T=0;T<_;){if(t.charCodeAt(T)===37&&T+1<_){switch(b=b>-1?b:0,t.charCodeAt(T+1)){case 100:case 102:if(g>=l||e[g]==null)break;b<T&&(d+=t.slice(b,T)),d+=Number(e[g]),b=T+2,T++;break;case 105:if(g>=l||e[g]==null)break;b<T&&(d+=t.slice(b,T)),d+=Math.floor(Number(e[g])),b=T+2,T++;break;case 79:case 111:case 106:if(g>=l||e[g]===void 0)break;b<T&&(d+=t.slice(b,T));var M=typeof e[g];if(M==="string"){d+="'"+e[g]+"'",b=T+2,T++;break}if(M==="function"){d+=e[g].name||"<anonymous>",b=T+2,T++;break}d+=n(e[g]),b=T+2,T++;break;case 115:if(g>=l)break;b<T&&(d+=t.slice(b,T)),d+=String(e[g]),b=T+2,T++;break;case 37:b<T&&(d+=t.slice(b,T)),d+="%",b=T+2,T++,g--;break}++g}++T}return b===-1?t:(b<_&&(d+=t.slice(b)),d)}});var Wde=F((k$t,AI)=>{"use strict";h();p();var Kde=Hde();AI.exports=yd;var GS=K$e().console||{},M$e={mapHttpRequest:_I,mapHttpResponse:_I,wrapRequestSerializer:RF,wrapResponseSerializer:RF,wrapErrorSerializer:RF,req:_I,res:_I,err:jde,errWithCause:jde};function B0(t,e){return t==="silent"?1/0:e.levels.values[t]}var NF=Symbol("pino.logFuncs"),BF=Symbol("pino.hierarchy"),k$e={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function Vde(t,e){let r={logger:e,parent:t[BF]};e[BF]=r}function P$e(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:GS[i]||GS[k$e[i]||"log"]||Hb}),t[NF]=n}function R$e(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function yd(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||GS;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=R$e(t.browser.serialize,n),o=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let s=Object.keys(t.customLevels||{}),c=["error","fatal","warn","info","debug","trace"].concat(s);typeof r=="function"&&c.forEach(function(k){r[k]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",d=Object.create(r);d.log||(d.log=Hb),P$e(d,c,r),Vde({},d),Object.defineProperty(d,"levelVal",{get:b}),Object.defineProperty(d,"level",{get:_,set:T});let g={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:c,timestamp:F$e(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Hb};d.levels=B$e(t),d.level=l,d.setMaxListeners=d.getMaxListeners=d.emit=d.addListener=d.on=d.prependListener=d.once=d.prependOnceListener=d.removeListener=d.removeAllListeners=d.listeners=d.listenerCount=d.eventNames=d.write=d.flush=Hb,d.serializers=n,d._serialize=i,d._stdErrSerialize=o,d.child=function(...k){return M.call(this,g,...k)},e&&(d._logEvent=CF());function b(){return B0(this.level,this)}function _(){return this._level}function T(k){if(k!=="silent"&&!this.levels.values[k])throw Error("unknown level "+k);this._level=k,Jm(this,g,d,"error"),Jm(this,g,d,"fatal"),Jm(this,g,d,"warn"),Jm(this,g,d,"info"),Jm(this,g,d,"debug"),Jm(this,g,d,"trace"),s.forEach(B=>{Jm(this,g,d,B)})}function M(k,B,P){if(!B)throw new Error("missing bindings for child Pino");P=P||{},i&&B.serializers&&(P.serializers=B.serializers);let D=P.serializers;if(i&&D){var R=Object.assign({},n,D),L=t.browser.serialize===!0?Object.keys(R):i;delete B.serializers,OF([B],L,R,this._stdErrSerialize)}function V(oe){this._childLevel=(oe._childLevel|0)+1,this.bindings=B,R&&(this.serializers=R,this._serialize=L),e&&(this._logEvent=CF([].concat(oe._logEvent.bindings,B)))}V.prototype=this;let z=new V(this);return Vde(this,z),z.child=function(...oe){return M.call(this,k,...oe)},z.level=P.level||this.level,k.onChild(z),z}return d}function B$e(t){let e=t.customLevels||{},r=Object.assign({},yd.levels.values,e),n=Object.assign({},yd.levels.labels,C$e(e));return{values:r,labels:n}}function C$e(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}yd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};yd.stdSerializers=M$e;yd.stdTimeFunctions=Object.assign({},{nullTime:zde,epochTime:Gde,unixTime:q$e,isoTime:H$e});function N$e(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[BF];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function Jm(t,e,r,n){if(Object.defineProperty(t,n,{value:B0(t.level,r)>B0(n,r)?Hb:r[NF][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===Hb){if(!e.transmit)return;let o=e.transmit.level||t.level,s=B0(o,r);if(B0(n,r)<s)return}t[n]=D$e(t,e,r,n);let i=N$e(t);i.length!==0&&(t[n]=O$e(i,t[n]))}function O$e(t,e){return function(){return e.apply(this,[...t,...arguments])}}function D$e(t,e,r,n){return function(i){return function(){let s=e.timestamp(),c=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===GS?GS:this;for(var d=0;d<c.length;d++)c[d]=arguments[d];var g=!1;if(e.serialize&&(OF(c,this._serialize,this.serializers,this._stdErrSerialize),g=!0),e.asObject||e.formatters?i.call(l,L$e(this,n,c,s,e)):i.apply(l,c),e.transmit){let b=e.transmit.level||t._level,_=B0(b,r),T=B0(n,r);if(T<_)return;U$e(this,{ts:s,methodLevel:n,methodValue:T,transmitLevel:b,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:B0(t._level,r)},c,g)}}}(t[NF][n])}function L$e(t,e,r,n,i){let{level:o,log:s=_=>_}=i.formatters||{},c=r.slice(),l=c[0],d={};if(n&&(d.time=n),o){let _=o(e,t.levels.values[e]);Object.assign(d,_)}else d.level=t.levels.values[e];let g=(t._childLevel|0)+1;if(g<1&&(g=1),l!==null&&typeof l=="object"){for(;g--&&typeof c[0]=="object";)Object.assign(d,c.shift());l=c.length?Kde(c.shift(),c):void 0}else typeof l=="string"&&(l=Kde(c.shift(),c));return l!==void 0&&(d[i.messageKey]=l),s(d)}function OF(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=yd.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let o in t[i])e.indexOf(o)>-1&&o in r&&(t[i][o]=r[o](t[i][o]))}function U$e(t,e,r,n=!1){let i=e.send,o=e.ts,s=e.methodLevel,c=e.methodValue,l=e.val,d=t._logEvent.bindings;n||OF(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=o,t._logEvent.messages=r.filter(function(g){return d.indexOf(g)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=c,i(s,t._logEvent,l),t._logEvent=CF(d)}function CF(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function jde(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function F$e(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?zde:Gde}function _I(){return{}}function RF(t){return t}function Hb(){}function zde(){return!1}function Gde(){return Date.now()}function q$e(){return Math.round(Date.now()/1e3)}function H$e(){return new Date(Date.now()).toISOString()}function K$e(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}AI.exports.default=yd;AI.exports.pino=yd});var Qu=F(Kb=>{"use strict";h();p();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.logger=Kb.loggerPrefix=void 0;var V$e=Wde();Kb.loggerPrefix="[Eppo SDK]";Kb.logger=(0,V$e.default)({level:I.LOG_LEVEL??(I.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var UF=F((DF,LF)=>{h();p();(function(t,e){typeof DF=="object"&&typeof LF<"u"?LF.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:DF,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=Array.prototype.slice.call(o),c=function(O){var W={};return O.forEach(function(Q,re){return W[Q]=re}),W}(s),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),g=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(O){return new Uint8Array(Array.prototype.slice.call(O,0))},b=function(O){return O.replace(/=/g,"").replace(/[+\/]/g,function(W){return W=="+"?"-":"_"})},_=function(O){return O.replace(/[^A-Za-z0-9\+\/]/g,"")},T=function(O){for(var W,Q,re,Ke,se="",Z=O.length%3,ct=0;ct<O.length;){if((Q=O.charCodeAt(ct++))>255||(re=O.charCodeAt(ct++))>255||(Ke=O.charCodeAt(ct++))>255)throw new TypeError("invalid character found");W=Q<<16|re<<8|Ke,se+=s[W>>18&63]+s[W>>12&63]+s[W>>6&63]+s[W&63]}return Z?se.slice(0,Z-3)+"===".substring(Z):se},M=typeof btoa=="function"?function(O){return btoa(O)}:r?function(O){return Buffer.from(O,"binary").toString("base64")}:T,k=r?function(O){return Buffer.from(O).toString("base64")}:function(O){for(var W=4096,Q=[],re=0,Ke=O.length;re<Ke;re+=W)Q.push(d.apply(null,O.subarray(re,re+W)));return M(Q.join(""))},B=function(O,W){return W===void 0&&(W=!1),W?b(k(O)):k(O)},P=function(O){if(O.length<2){var W=O.charCodeAt(0);return W<128?O:W<2048?d(192|W>>>6)+d(128|W&63):d(224|W>>>12&15)+d(128|W>>>6&63)+d(128|W&63)}else{var W=65536+(O.charCodeAt(0)-55296)*1024+(O.charCodeAt(1)-56320);return d(240|W>>>18&7)+d(128|W>>>12&63)+d(128|W>>>6&63)+d(128|W&63)}},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,R=function(O){return O.replace(D,P)},L=r?function(O){return Buffer.from(O,"utf8").toString("base64")}:i?function(O){return k(i.encode(O))}:function(O){return M(R(O))},V=function(O,W){return W===void 0&&(W=!1),W?b(L(O)):L(O)},z=function(O){return V(O,!0)},oe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,$=function(O){switch(O.length){case 4:var W=(7&O.charCodeAt(0))<<18|(63&O.charCodeAt(1))<<12|(63&O.charCodeAt(2))<<6|63&O.charCodeAt(3),Q=W-65536;return d((Q>>>10)+55296)+d((Q&1023)+56320);case 3:return d((15&O.charCodeAt(0))<<12|(63&O.charCodeAt(1))<<6|63&O.charCodeAt(2));default:return d((31&O.charCodeAt(0))<<6|63&O.charCodeAt(1))}},ne=function(O){return O.replace(oe,$)},S=function(O){if(O=O.replace(/\s+/g,""),!l.test(O))throw new TypeError("malformed base64.");O+="==".slice(2-(O.length&3));for(var W,Q="",re,Ke,se=0;se<O.length;)W=c[O.charAt(se++)]<<18|c[O.charAt(se++)]<<12|(re=c[O.charAt(se++)])<<6|(Ke=c[O.charAt(se++)]),Q+=re===64?d(W>>16&255):Ke===64?d(W>>16&255,W>>8&255):d(W>>16&255,W>>8&255,W&255);return Q},a=typeof atob=="function"?function(O){return atob(_(O))}:r?function(O){return Buffer.from(O,"base64").toString("binary")}:S,u=r?function(O){return g(Buffer.from(O,"base64"))}:function(O){return g(a(O).split("").map(function(W){return W.charCodeAt(0)}))},m=function(O){return u(w(O))},y=r?function(O){return Buffer.from(O,"base64").toString("utf8")}:n?function(O){return n.decode(u(O))}:function(O){return ne(a(O))},w=function(O){return _(O.replace(/[-_]/g,function(W){return W=="-"?"+":"/"}))},E=function(O){return y(w(O))},A=function(O){if(typeof O!="string")return!1;var W=O.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(W)||!/[^\s0-9a-zA-Z\-_]/.test(W)},x=function(O){return{value:O,enumerable:!1,writable:!0,configurable:!0}},f=function(){var O=function(W,Q){return Object.defineProperty(String.prototype,W,x(Q))};O("fromBase64",function(){return E(this)}),O("toBase64",function(W){return V(this,W)}),O("toBase64URI",function(){return V(this,!0)}),O("toBase64URL",function(){return V(this,!0)}),O("toUint8Array",function(){return m(this)})},v=function(){var O=function(W,Q){return Object.defineProperty(Uint8Array.prototype,W,x(Q))};O("toBase64",function(W){return B(this,W)}),O("toBase64URI",function(){return B(this,!0)}),O("toBase64URL",function(){return B(this,!0)})},q=function(){f(),v()},U={version:t,VERSION:e,atob:a,atobPolyfill:S,btoa:M,btoaPolyfill:T,fromBase64:E,toBase64:V,encode:V,encodeURI:z,encodeURL:z,utob:R,btou:ne,decode:E,isValid:A,fromUint8Array:B,toUint8Array:m,extendString:f,extendUint8Array:v,extendBuiltins:q};return U.Base64={},Object.keys(U).forEach(function(O){return U.Base64[O]=U[O]}),U})});var Zde=F(($de,Yde)=>{h();p();(function(t){if(typeof $de=="object")Yde.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=function(P,D){return P+D&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(P,D,R,L,V,z){return D=e(e(D,P),e(L,z)),e(D<<V|D>>>32-V,R)}function i(P,D){var R=P[0],L=P[1],V=P[2],z=P[3];R+=(L&V|~L&z)+D[0]-680876936|0,R=(R<<7|R>>>25)+L|0,z+=(R&L|~R&V)+D[1]-389564586|0,z=(z<<12|z>>>20)+R|0,V+=(z&R|~z&L)+D[2]+606105819|0,V=(V<<17|V>>>15)+z|0,L+=(V&z|~V&R)+D[3]-1044525330|0,L=(L<<22|L>>>10)+V|0,R+=(L&V|~L&z)+D[4]-176418897|0,R=(R<<7|R>>>25)+L|0,z+=(R&L|~R&V)+D[5]+1200080426|0,z=(z<<12|z>>>20)+R|0,V+=(z&R|~z&L)+D[6]-1473231341|0,V=(V<<17|V>>>15)+z|0,L+=(V&z|~V&R)+D[7]-45705983|0,L=(L<<22|L>>>10)+V|0,R+=(L&V|~L&z)+D[8]+1770035416|0,R=(R<<7|R>>>25)+L|0,z+=(R&L|~R&V)+D[9]-1958414417|0,z=(z<<12|z>>>20)+R|0,V+=(z&R|~z&L)+D[10]-42063|0,V=(V<<17|V>>>15)+z|0,L+=(V&z|~V&R)+D[11]-1990404162|0,L=(L<<22|L>>>10)+V|0,R+=(L&V|~L&z)+D[12]+1804603682|0,R=(R<<7|R>>>25)+L|0,z+=(R&L|~R&V)+D[13]-40341101|0,z=(z<<12|z>>>20)+R|0,V+=(z&R|~z&L)+D[14]-1502002290|0,V=(V<<17|V>>>15)+z|0,L+=(V&z|~V&R)+D[15]+1236535329|0,L=(L<<22|L>>>10)+V|0,R+=(L&z|V&~z)+D[1]-165796510|0,R=(R<<5|R>>>27)+L|0,z+=(R&V|L&~V)+D[6]-1069501632|0,z=(z<<9|z>>>23)+R|0,V+=(z&L|R&~L)+D[11]+643717713|0,V=(V<<14|V>>>18)+z|0,L+=(V&R|z&~R)+D[0]-373897302|0,L=(L<<20|L>>>12)+V|0,R+=(L&z|V&~z)+D[5]-701558691|0,R=(R<<5|R>>>27)+L|0,z+=(R&V|L&~V)+D[10]+38016083|0,z=(z<<9|z>>>23)+R|0,V+=(z&L|R&~L)+D[15]-660478335|0,V=(V<<14|V>>>18)+z|0,L+=(V&R|z&~R)+D[4]-405537848|0,L=(L<<20|L>>>12)+V|0,R+=(L&z|V&~z)+D[9]+568446438|0,R=(R<<5|R>>>27)+L|0,z+=(R&V|L&~V)+D[14]-1019803690|0,z=(z<<9|z>>>23)+R|0,V+=(z&L|R&~L)+D[3]-187363961|0,V=(V<<14|V>>>18)+z|0,L+=(V&R|z&~R)+D[8]+1163531501|0,L=(L<<20|L>>>12)+V|0,R+=(L&z|V&~z)+D[13]-1444681467|0,R=(R<<5|R>>>27)+L|0,z+=(R&V|L&~V)+D[2]-51403784|0,z=(z<<9|z>>>23)+R|0,V+=(z&L|R&~L)+D[7]+1735328473|0,V=(V<<14|V>>>18)+z|0,L+=(V&R|z&~R)+D[12]-1926607734|0,L=(L<<20|L>>>12)+V|0,R+=(L^V^z)+D[5]-378558|0,R=(R<<4|R>>>28)+L|0,z+=(R^L^V)+D[8]-2022574463|0,z=(z<<11|z>>>21)+R|0,V+=(z^R^L)+D[11]+1839030562|0,V=(V<<16|V>>>16)+z|0,L+=(V^z^R)+D[14]-35309556|0,L=(L<<23|L>>>9)+V|0,R+=(L^V^z)+D[1]-1530992060|0,R=(R<<4|R>>>28)+L|0,z+=(R^L^V)+D[4]+1272893353|0,z=(z<<11|z>>>21)+R|0,V+=(z^R^L)+D[7]-155497632|0,V=(V<<16|V>>>16)+z|0,L+=(V^z^R)+D[10]-1094730640|0,L=(L<<23|L>>>9)+V|0,R+=(L^V^z)+D[13]+681279174|0,R=(R<<4|R>>>28)+L|0,z+=(R^L^V)+D[0]-358537222|0,z=(z<<11|z>>>21)+R|0,V+=(z^R^L)+D[3]-722521979|0,V=(V<<16|V>>>16)+z|0,L+=(V^z^R)+D[6]+76029189|0,L=(L<<23|L>>>9)+V|0,R+=(L^V^z)+D[9]-640364487|0,R=(R<<4|R>>>28)+L|0,z+=(R^L^V)+D[12]-421815835|0,z=(z<<11|z>>>21)+R|0,V+=(z^R^L)+D[15]+530742520|0,V=(V<<16|V>>>16)+z|0,L+=(V^z^R)+D[2]-995338651|0,L=(L<<23|L>>>9)+V|0,R+=(V^(L|~z))+D[0]-198630844|0,R=(R<<6|R>>>26)+L|0,z+=(L^(R|~V))+D[7]+1126891415|0,z=(z<<10|z>>>22)+R|0,V+=(R^(z|~L))+D[14]-1416354905|0,V=(V<<15|V>>>17)+z|0,L+=(z^(V|~R))+D[5]-57434055|0,L=(L<<21|L>>>11)+V|0,R+=(V^(L|~z))+D[12]+1700485571|0,R=(R<<6|R>>>26)+L|0,z+=(L^(R|~V))+D[3]-1894986606|0,z=(z<<10|z>>>22)+R|0,V+=(R^(z|~L))+D[10]-1051523|0,V=(V<<15|V>>>17)+z|0,L+=(z^(V|~R))+D[1]-2054922799|0,L=(L<<21|L>>>11)+V|0,R+=(V^(L|~z))+D[8]+1873313359|0,R=(R<<6|R>>>26)+L|0,z+=(L^(R|~V))+D[15]-30611744|0,z=(z<<10|z>>>22)+R|0,V+=(R^(z|~L))+D[6]-1560198380|0,V=(V<<15|V>>>17)+z|0,L+=(z^(V|~R))+D[13]+1309151649|0,L=(L<<21|L>>>11)+V|0,R+=(V^(L|~z))+D[4]-145523070|0,R=(R<<6|R>>>26)+L|0,z+=(L^(R|~V))+D[11]-1120210379|0,z=(z<<10|z>>>22)+R|0,V+=(R^(z|~L))+D[2]+718787259|0,V=(V<<15|V>>>17)+z|0,L+=(z^(V|~R))+D[9]-343485551|0,L=(L<<21|L>>>11)+V|0,P[0]=R+P[0]|0,P[1]=L+P[1]|0,P[2]=V+P[2]|0,P[3]=z+P[3]|0}function o(P){var D=[],R;for(R=0;R<64;R+=4)D[R>>2]=P.charCodeAt(R)+(P.charCodeAt(R+1)<<8)+(P.charCodeAt(R+2)<<16)+(P.charCodeAt(R+3)<<24);return D}function s(P){var D=[],R;for(R=0;R<64;R+=4)D[R>>2]=P[R]+(P[R+1]<<8)+(P[R+2]<<16)+(P[R+3]<<24);return D}function c(P){var D=P.length,R=[1732584193,-271733879,-1732584194,271733878],L,V,z,oe,$,ne;for(L=64;L<=D;L+=64)i(R,o(P.substring(L-64,L)));for(P=P.substring(L-64),V=P.length,z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=0;L<V;L+=1)z[L>>2]|=P.charCodeAt(L)<<(L%4<<3);if(z[L>>2]|=128<<(L%4<<3),L>55)for(i(R,z),L=0;L<16;L+=1)z[L]=0;return oe=D*8,oe=oe.toString(16).match(/(.*?)(.{0,8})$/),$=parseInt(oe[2],16),ne=parseInt(oe[1],16)||0,z[14]=$,z[15]=ne,i(R,z),R}function l(P){var D=P.length,R=[1732584193,-271733879,-1732584194,271733878],L,V,z,oe,$,ne;for(L=64;L<=D;L+=64)i(R,s(P.subarray(L-64,L)));for(P=L-64<D?P.subarray(L-64):new Uint8Array(0),V=P.length,z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=0;L<V;L+=1)z[L>>2]|=P[L]<<(L%4<<3);if(z[L>>2]|=128<<(L%4<<3),L>55)for(i(R,z),L=0;L<16;L+=1)z[L]=0;return oe=D*8,oe=oe.toString(16).match(/(.*?)(.{0,8})$/),$=parseInt(oe[2],16),ne=parseInt(oe[1],16)||0,z[14]=$,z[15]=ne,i(R,z),R}function d(P){var D="",R;for(R=0;R<4;R+=1)D+=r[P>>R*8+4&15]+r[P>>R*8&15];return D}function g(P){var D;for(D=0;D<P.length;D+=1)P[D]=d(P[D]);return P.join("")}g(c("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(P,D){var R=(P&65535)+(D&65535),L=(P>>16)+(D>>16)+(R>>16);return L<<16|R&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function P(D,R){return D=D|0||0,D<0?Math.max(D+R,0):Math.min(D,R)}ArrayBuffer.prototype.slice=function(D,R){var L=this.byteLength,V=P(D,L),z=L,oe,$,ne,S;return R!==t&&(z=P(R,L)),V>z?new ArrayBuffer(0):(oe=z-V,$=new ArrayBuffer(oe),ne=new Uint8Array($),S=new Uint8Array(this,V,oe),ne.set(S),$)}}();function b(P){return/[\u0080-\uFFFF]/.test(P)&&(P=unescape(encodeURIComponent(P))),P}function _(P,D){var R=P.length,L=new ArrayBuffer(R),V=new Uint8Array(L),z;for(z=0;z<R;z+=1)V[z]=P.charCodeAt(z);return D?V:L}function T(P){return String.fromCharCode.apply(null,new Uint8Array(P))}function M(P,D,R){var L=new Uint8Array(P.byteLength+D.byteLength);return L.set(new Uint8Array(P)),L.set(new Uint8Array(D),P.byteLength),R?L:L.buffer}function k(P){var D=[],R=P.length,L;for(L=0;L<R-1;L+=2)D.push(parseInt(P.substr(L,2),16));return String.fromCharCode.apply(String,D)}function B(){this.reset()}return B.prototype.append=function(P){return this.appendBinary(b(P)),this},B.prototype.appendBinary=function(P){this._buff+=P,this._length+=P.length;var D=this._buff.length,R;for(R=64;R<=D;R+=64)i(this._hash,o(this._buff.substring(R-64,R)));return this._buff=this._buff.substring(R-64),this},B.prototype.end=function(P){var D=this._buff,R=D.length,L,V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],z;for(L=0;L<R;L+=1)V[L>>2]|=D.charCodeAt(L)<<(L%4<<3);return this._finish(V,R),z=g(this._hash),P&&(z=k(z)),this.reset(),z},B.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},B.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},B.prototype.setState=function(P){return this._buff=P.buff,this._length=P.length,this._hash=P.hash,this},B.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},B.prototype._finish=function(P,D){var R=D,L,V,z;if(P[R>>2]|=128<<(R%4<<3),R>55)for(i(this._hash,P),R=0;R<16;R+=1)P[R]=0;L=this._length*8,L=L.toString(16).match(/(.*?)(.{0,8})$/),V=parseInt(L[2],16),z=parseInt(L[1],16)||0,P[14]=V,P[15]=z,i(this._hash,P)},B.hash=function(P,D){return B.hashBinary(b(P),D)},B.hashBinary=function(P,D){var R=c(P),L=g(R);return D?k(L):L},B.ArrayBuffer=function(){this.reset()},B.ArrayBuffer.prototype.append=function(P){var D=M(this._buff.buffer,P,!0),R=D.length,L;for(this._length+=P.byteLength,L=64;L<=R;L+=64)i(this._hash,s(D.subarray(L-64,L)));return this._buff=L-64<R?new Uint8Array(D.buffer.slice(L-64)):new Uint8Array(0),this},B.ArrayBuffer.prototype.end=function(P){var D=this._buff,R=D.length,L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V,z;for(V=0;V<R;V+=1)L[V>>2]|=D[V]<<(V%4<<3);return this._finish(L,R),z=g(this._hash),P&&(z=k(z)),this.reset(),z},B.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},B.ArrayBuffer.prototype.getState=function(){var P=B.prototype.getState.call(this);return P.buff=T(P.buff),P},B.ArrayBuffer.prototype.setState=function(P){return P.buff=_(P.buff,!0),B.prototype.setState.call(this,P)},B.ArrayBuffer.prototype.destroy=B.prototype.destroy,B.ArrayBuffer.prototype._finish=B.prototype._finish,B.ArrayBuffer.hash=function(P,D){var R=l(new Uint8Array(P)),L=g(R);return D?k(L):L},B})});var gd=F(C0=>{"use strict";h();p();Object.defineProperty(C0,"__esModule",{value:!0});C0.getMD5Hash=FF;C0.encodeBase64=Hf;C0.attributeEncodeBase64=Jde;C0.decodeBase64=z$e;C0.obfuscatePrecomputedBanditMap=G$e;C0.obfuscatePrecomputedFlags=$$e;var Xde=UF(),j$e=Zde();function FF(t,e=""){return new j$e().append(e).append(t).end()}function Hf(t){return Xde.encode(t)}function Jde(t){return Hf(typeof t!="string"?String(t):t)}function z$e(t){return Xde.decode(t)}function G$e(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[FF(r,t),W$e(n)]))}function W$e(t){return{banditKey:Hf(t.banditKey),action:Hf(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:Hf(t.modelVersion),actionNumericAttributes:Qde(t.actionNumericAttributes),actionCategoricalAttributes:Qde(t.actionCategoricalAttributes)}}function Qde(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[Hf(e),Jde(r)]))}function $$e(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],o=Object.fromEntries(Object.entries(i.extraLogging??{}).map(c=>c.map(Hf))),s=FF(n,t);r[s]={flagKey:s,variationType:i.variationType,extraLogging:o,doLog:i.doLog,allocationKey:Hf(i.allocationKey??""),variationKey:Hf(i.variationKey??""),variationValue:Hf(i.variationValue)}}),r}});var WS=F(Vb=>{"use strict";h();p();Object.defineProperty(Vb,"__esModule",{value:!0});Vb.AbstractAssignmentCache=void 0;Vb.assignmentCacheKeyToString=qF;Vb.assignmentCacheValueToString=HF;var ehe=gd();function qF({subjectKey:t,flagKey:e}){return(0,ehe.getMD5Hash)([t,e].join(";"))}function HF(t){return(0,ehe.getMD5Hash)(Object.values(t).join(";"))}var KF=class{constructor(e){this.delegate=e}has(e){return this.get(e)===HF(e)}get(e){return this.delegate.get(qF(e))}set(e){this.delegate.set(qF(e),HF(e))}entries(){return this.delegate.entries()}};Vb.AbstractAssignmentCache=KF});var jF=F(TI=>{"use strict";h();p();Object.defineProperty(TI,"__esModule",{value:!0});TI.LRUCache=void 0;var VF=class{constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};TI.LRUCache=VF});var MI=F(II=>{"use strict";h();p();Object.defineProperty(II,"__esModule",{value:!0});II.LRUInMemoryAssignmentCache=void 0;var Y$e=WS(),Z$e=jF(),zF=class extends Y$e.AbstractAssignmentCache{constructor(e){super(new Z$e.LRUCache(e))}};II.LRUInMemoryAssignmentCache=zF});var PI=F(kI=>{"use strict";h();p();Object.defineProperty(kI,"__esModule",{value:!0});kI.NonExpiringInMemoryAssignmentCache=void 0;var Q$e=WS(),GF=class extends Q$e.AbstractAssignmentCache{constructor(e=new Map){super(e)}};kI.NonExpiringInMemoryAssignmentCache=GF});var the=F(WF=>{"use strict";h();p();Object.defineProperty(WF,"__esModule",{value:!0});WF.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var rhe=F($F=>{"use strict";h();p();Object.defineProperty($F,"__esModule",{value:!0});$F.default="00000000-0000-0000-0000-000000000000"});var nhe=F(YF=>{"use strict";h();p();Object.defineProperty(YF,"__esModule",{value:!0});YF.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var $S=F(ZF=>{"use strict";h();p();Object.defineProperty(ZF,"__esModule",{value:!0});var X$e=nhe();function J$e(t){return typeof t=="string"&&X$e.default.test(t)}ZF.default=J$e});var YS=F(QF=>{"use strict";h();p();Object.defineProperty(QF,"__esModule",{value:!0});var eYe=$S();function tYe(t){if(!(0,eYe.default)(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}QF.default=tYe});var bd=F(ZS=>{"use strict";h();p();Object.defineProperty(ZS,"__esModule",{value:!0});ZS.unsafeStringify=void 0;var rYe=$S(),Uo=[];for(let t=0;t<256;++t)Uo.push((t+256).toString(16).slice(1));function ihe(t,e=0){return(Uo[t[e+0]]+Uo[t[e+1]]+Uo[t[e+2]]+Uo[t[e+3]]+"-"+Uo[t[e+4]]+Uo[t[e+5]]+"-"+Uo[t[e+6]]+Uo[t[e+7]]+"-"+Uo[t[e+8]]+Uo[t[e+9]]+"-"+Uo[t[e+10]]+Uo[t[e+11]]+Uo[t[e+12]]+Uo[t[e+13]]+Uo[t[e+14]]+Uo[t[e+15]]).toLowerCase()}ZS.unsafeStringify=ihe;function nYe(t,e=0){let r=ihe(t,e);if(!(0,rYe.default)(r))throw TypeError("Stringified UUID is invalid");return r}ZS.default=nYe});var RI=F(JF=>{"use strict";h();p();Object.defineProperty(JF,"__esModule",{value:!0});var XF,iYe=new Uint8Array(16);function oYe(){if(!XF){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");XF=self.crypto.getRandomValues.bind(self.crypto)}return XF(iYe)}JF.default=oYe});var eq=F(XS=>{"use strict";h();p();Object.defineProperty(XS,"__esModule",{value:!0});XS.updateV1State=void 0;var ohe=RI(),sYe=bd(),QS={};function aYe(t,e,r){let n,i=t?._v6??!1;if(t){let o=Object.keys(t);o.length===1&&o[0]==="_v6"&&(t=void 0)}if(t)n=she(t.random??t.rng?.()??(0,ohe.default)(),t.msecs,t.nsecs,t.clockseq,t.node,e,r);else{let o=Date.now(),s=(0,ohe.default)();ahe(QS,o,s),n=she(s,QS.msecs,QS.nsecs,i?void 0:QS.clockseq,i?void 0:QS.node,e,r)}return e?n:(0,sYe.unsafeStringify)(n)}function ahe(t,e,r){return t.msecs??=-1/0,t.nsecs??=0,e===t.msecs?(t.nsecs++,t.nsecs>=1e4&&(t.node=void 0,t.nsecs=0)):e>t.msecs?t.nsecs=0:e<t.msecs&&(t.node=void 0),t.node||(t.node=r.slice(10,16),t.node[0]|=1,t.clockseq=(r[8]<<8|r[9])&16383),t.msecs=e,t}XS.updateV1State=ahe;function she(t,e,r,n,i,o,s=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!o)o=new Uint8Array(16),s=0;else if(s<0||s+16>o.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);e??=Date.now(),r??=0,n??=(t[8]<<8|t[9])&16383,i??=t.slice(10,16),e+=122192928e5;let c=((e&268435455)*1e4+r)%4294967296;o[s++]=c>>>24&255,o[s++]=c>>>16&255,o[s++]=c>>>8&255,o[s++]=c&255;let l=e/4294967296*1e4&268435455;o[s++]=l>>>8&255,o[s++]=l&255,o[s++]=l>>>24&15|16,o[s++]=l>>>16&255,o[s++]=n>>>8|128,o[s++]=n&255;for(let d=0;d<6;++d)o[s++]=i[d];return o}XS.default=aYe});var rq=F(tq=>{"use strict";h();p();Object.defineProperty(tq,"__esModule",{value:!0});var cYe=YS(),fYe=bd();function uYe(t){let e=typeof t=="string"?(0,cYe.default)(t):t,r=lYe(e);return typeof t=="string"?(0,fYe.unsafeStringify)(r):r}tq.default=uYe;function lYe(t){return Uint8Array.of((t[6]&15)<<4|t[7]>>4&15,(t[7]&15)<<4|(t[4]&240)>>4,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,(t[1]&15)<<4|(t[2]&240)>>4,96|t[2]&15,t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var fhe=F(nq=>{"use strict";h();p();Object.defineProperty(nq,"__esModule",{value:!0});function dYe(t){let e=mYe(t),r=pYe(e,t.length*8);return hYe(r)}function hYe(t){let e=new Uint8Array(t.length*4);for(let r=0;r<t.length*4;r++)e[r]=t[r>>2]>>>r%4*8&255;return e}function che(t){return(t+64>>>9<<4)+14+1}function pYe(t,e){let r=new Uint32Array(che(e)).fill(0);r.set(t),r[e>>5]|=128<<e%32,r[r.length-1]=e,t=r;let n=1732584193,i=-271733879,o=-1732584194,s=271733878;for(let c=0;c<t.length;c+=16){let l=n,d=i,g=o,b=s;n=ps(n,i,o,s,t[c],7,-680876936),s=ps(s,n,i,o,t[c+1],12,-389564586),o=ps(o,s,n,i,t[c+2],17,606105819),i=ps(i,o,s,n,t[c+3],22,-1044525330),n=ps(n,i,o,s,t[c+4],7,-176418897),s=ps(s,n,i,o,t[c+5],12,1200080426),o=ps(o,s,n,i,t[c+6],17,-1473231341),i=ps(i,o,s,n,t[c+7],22,-45705983),n=ps(n,i,o,s,t[c+8],7,1770035416),s=ps(s,n,i,o,t[c+9],12,-1958414417),o=ps(o,s,n,i,t[c+10],17,-42063),i=ps(i,o,s,n,t[c+11],22,-1990404162),n=ps(n,i,o,s,t[c+12],7,1804603682),s=ps(s,n,i,o,t[c+13],12,-40341101),o=ps(o,s,n,i,t[c+14],17,-1502002290),i=ps(i,o,s,n,t[c+15],22,1236535329),n=ms(n,i,o,s,t[c+1],5,-165796510),s=ms(s,n,i,o,t[c+6],9,-1069501632),o=ms(o,s,n,i,t[c+11],14,643717713),i=ms(i,o,s,n,t[c],20,-373897302),n=ms(n,i,o,s,t[c+5],5,-701558691),s=ms(s,n,i,o,t[c+10],9,38016083),o=ms(o,s,n,i,t[c+15],14,-660478335),i=ms(i,o,s,n,t[c+4],20,-405537848),n=ms(n,i,o,s,t[c+9],5,568446438),s=ms(s,n,i,o,t[c+14],9,-1019803690),o=ms(o,s,n,i,t[c+3],14,-187363961),i=ms(i,o,s,n,t[c+8],20,1163531501),n=ms(n,i,o,s,t[c+13],5,-1444681467),s=ms(s,n,i,o,t[c+2],9,-51403784),o=ms(o,s,n,i,t[c+7],14,1735328473),i=ms(i,o,s,n,t[c+12],20,-1926607734),n=ys(n,i,o,s,t[c+5],4,-378558),s=ys(s,n,i,o,t[c+8],11,-2022574463),o=ys(o,s,n,i,t[c+11],16,1839030562),i=ys(i,o,s,n,t[c+14],23,-35309556),n=ys(n,i,o,s,t[c+1],4,-1530992060),s=ys(s,n,i,o,t[c+4],11,1272893353),o=ys(o,s,n,i,t[c+7],16,-155497632),i=ys(i,o,s,n,t[c+10],23,-1094730640),n=ys(n,i,o,s,t[c+13],4,681279174),s=ys(s,n,i,o,t[c],11,-358537222),o=ys(o,s,n,i,t[c+3],16,-722521979),i=ys(i,o,s,n,t[c+6],23,76029189),n=ys(n,i,o,s,t[c+9],4,-640364487),s=ys(s,n,i,o,t[c+12],11,-421815835),o=ys(o,s,n,i,t[c+15],16,530742520),i=ys(i,o,s,n,t[c+2],23,-995338651),n=gs(n,i,o,s,t[c],6,-198630844),s=gs(s,n,i,o,t[c+7],10,1126891415),o=gs(o,s,n,i,t[c+14],15,-1416354905),i=gs(i,o,s,n,t[c+5],21,-57434055),n=gs(n,i,o,s,t[c+12],6,1700485571),s=gs(s,n,i,o,t[c+3],10,-1894986606),o=gs(o,s,n,i,t[c+10],15,-1051523),i=gs(i,o,s,n,t[c+1],21,-2054922799),n=gs(n,i,o,s,t[c+8],6,1873313359),s=gs(s,n,i,o,t[c+15],10,-30611744),o=gs(o,s,n,i,t[c+6],15,-1560198380),i=gs(i,o,s,n,t[c+13],21,1309151649),n=gs(n,i,o,s,t[c+4],6,-145523070),s=gs(s,n,i,o,t[c+11],10,-1120210379),o=gs(o,s,n,i,t[c+2],15,718787259),i=gs(i,o,s,n,t[c+9],21,-343485551),n=N0(n,l),i=N0(i,d),o=N0(o,g),s=N0(s,b)}return Uint32Array.of(n,i,o,s)}function mYe(t){if(t.length===0)return new Uint32Array;let e=new Uint32Array(che(t.length*8)).fill(0);for(let r=0;r<t.length;r++)e[r>>2]|=(t[r]&255)<<r%4*8;return e}function N0(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function yYe(t,e){return t<<e|t>>>32-e}function BI(t,e,r,n,i,o){return N0(yYe(N0(N0(e,t),N0(n,o)),i),r)}function ps(t,e,r,n,i,o,s){return BI(e&r|~e&n,t,e,i,o,s)}function ms(t,e,r,n,i,o,s){return BI(e&n|r&~n,t,e,i,o,s)}function ys(t,e,r,n,i,o,s){return BI(e^r^n,t,e,i,o,s)}function gs(t,e,r,n,i,o,s){return BI(r^(e|~n),t,e,i,o,s)}nq.default=dYe});var JS=F(vd=>{"use strict";h();p();Object.defineProperty(vd,"__esModule",{value:!0});vd.URL=vd.DNS=vd.stringToBytes=void 0;var uhe=YS(),gYe=bd();function lhe(t){t=unescape(encodeURIComponent(t));let e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r);return e}vd.stringToBytes=lhe;vd.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";vd.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function bYe(t,e,r,n,i,o){let s=typeof r=="string"?lhe(r):r,c=typeof n=="string"?(0,uhe.default)(n):n;if(typeof n=="string"&&(n=(0,uhe.default)(n)),n?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(c),l.set(s,c.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){o=o||0;for(let d=0;d<16;++d)i[o+d]=l[d];return i}return(0,gYe.unsafeStringify)(l)}vd.default=bYe});var hhe=F(ey=>{"use strict";h();p();Object.defineProperty(ey,"__esModule",{value:!0});ey.URL=ey.DNS=void 0;var vYe=fhe(),iq=JS(),dhe=JS();Object.defineProperty(ey,"DNS",{enumerable:!0,get:function(){return dhe.DNS}});Object.defineProperty(ey,"URL",{enumerable:!0,get:function(){return dhe.URL}});function oq(t,e,r,n){return(0,iq.default)(48,vYe.default,t,e,r,n)}oq.DNS=iq.DNS;oq.URL=iq.URL;ey.default=oq});var phe=F(sq=>{"use strict";h();p();Object.defineProperty(sq,"__esModule",{value:!0});var xYe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto);sq.default={randomUUID:xYe}});var yhe=F(aq=>{"use strict";h();p();Object.defineProperty(aq,"__esModule",{value:!0});var mhe=phe(),wYe=RI(),SYe=bd();function EYe(t,e,r){if(mhe.default.randomUUID&&!e&&!t)return mhe.default.randomUUID();t=t||{};let n=t.random??t.rng?.()??(0,wYe.default)();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,SYe.unsafeStringify)(n)}aq.default=EYe});var ghe=F(fq=>{"use strict";h();p();Object.defineProperty(fq,"__esModule",{value:!0});function _Ye(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function cq(t,e){return t<<e|t>>>32-e}function AYe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520],n=new Uint8Array(t.length+1);n.set(t),n[t.length]=128,t=n;let i=t.length/4+2,o=Math.ceil(i/16),s=new Array(o);for(let c=0;c<o;++c){let l=new Uint32Array(16);for(let d=0;d<16;++d)l[d]=t[c*64+d*4]<<24|t[c*64+d*4+1]<<16|t[c*64+d*4+2]<<8|t[c*64+d*4+3];s[c]=l}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(let c=0;c<o;++c){let l=new Uint32Array(80);for(let M=0;M<16;++M)l[M]=s[c][M];for(let M=16;M<80;++M)l[M]=cq(l[M-3]^l[M-8]^l[M-14]^l[M-16],1);let d=r[0],g=r[1],b=r[2],_=r[3],T=r[4];for(let M=0;M<80;++M){let k=Math.floor(M/20),B=cq(d,5)+_Ye(k,g,b,_)+T+e[k]+l[M]>>>0;T=_,_=b,b=cq(g,30)>>>0,g=d,d=B}r[0]=r[0]+d>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+T>>>0}return Uint8Array.of(r[0]>>24,r[0]>>16,r[0]>>8,r[0],r[1]>>24,r[1]>>16,r[1]>>8,r[1],r[2]>>24,r[2]>>16,r[2]>>8,r[2],r[3]>>24,r[3]>>16,r[3]>>8,r[3],r[4]>>24,r[4]>>16,r[4]>>8,r[4])}fq.default=AYe});var vhe=F(ty=>{"use strict";h();p();Object.defineProperty(ty,"__esModule",{value:!0});ty.URL=ty.DNS=void 0;var TYe=ghe(),uq=JS(),bhe=JS();Object.defineProperty(ty,"DNS",{enumerable:!0,get:function(){return bhe.DNS}});Object.defineProperty(ty,"URL",{enumerable:!0,get:function(){return bhe.URL}});function lq(t,e,r,n){return(0,uq.default)(80,TYe.default,t,e,r,n)}lq.DNS=uq.DNS;lq.URL=uq.URL;ty.default=lq});var xhe=F(dq=>{"use strict";h();p();Object.defineProperty(dq,"__esModule",{value:!0});var IYe=bd(),MYe=eq(),kYe=rq();function PYe(t,e,r){t??={},r??=0;let n=(0,MYe.default)({...t,_v6:!0},new Uint8Array(16));if(n=(0,kYe.default)(n),e){for(let i=0;i<16;i++)e[r+i]=n[i];return e}return(0,IYe.unsafeStringify)(n)}dq.default=PYe});var whe=F(hq=>{"use strict";h();p();Object.defineProperty(hq,"__esModule",{value:!0});var RYe=YS(),BYe=bd();function CYe(t){let e=typeof t=="string"?(0,RYe.default)(t):t,r=NYe(e);return typeof t=="string"?(0,BYe.unsafeStringify)(r):r}hq.default=CYe;function NYe(t){return Uint8Array.of((t[3]&15)<<4|t[4]>>4&15,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|t[6]&15,t[7],(t[1]&15)<<4|(t[2]&240)>>4,(t[2]&15)<<4|(t[3]&240)>>4,16|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var Ahe=F(e3=>{"use strict";h();p();Object.defineProperty(e3,"__esModule",{value:!0});e3.updateV7State=void 0;var She=RI(),OYe=bd(),pq={};function DYe(t,e,r){let n;if(t)n=Ehe(t.random??t.rng?.()??(0,She.default)(),t.msecs,t.seq,e,r);else{let i=Date.now(),o=(0,She.default)();_he(pq,i,o),n=Ehe(o,pq.msecs,pq.seq,e,r)}return e?n:(0,OYe.unsafeStringify)(n)}function _he(t,e,r){return t.msecs??=-1/0,t.seq??=0,e>t.msecs?(t.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],t.msecs=e):(t.seq=t.seq+1|0,t.seq===0&&t.msecs++),t}e3.updateV7State=_he;function Ehe(t,e,r,n,i=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return e??=Date.now(),r??=t[6]*127<<24|t[7]<<16|t[8]<<8|t[9],n[i++]=e/1099511627776&255,n[i++]=e/4294967296&255,n[i++]=e/16777216&255,n[i++]=e/65536&255,n[i++]=e/256&255,n[i++]=e&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|t[10]&3,n[i++]=t[11],n[i++]=t[12],n[i++]=t[13],n[i++]=t[14],n[i++]=t[15],n}e3.default=DYe});var The=F(mq=>{"use strict";h();p();Object.defineProperty(mq,"__esModule",{value:!0});var LYe=$S();function UYe(t){if(!(0,LYe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}mq.default=UYe});var Ihe=F(Gr=>{"use strict";h();p();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.version=Gr.validate=Gr.v7=Gr.v6ToV1=Gr.v6=Gr.v5=Gr.v4=Gr.v3=Gr.v1ToV6=Gr.v1=Gr.stringify=Gr.parse=Gr.NIL=Gr.MAX=void 0;var FYe=the();Object.defineProperty(Gr,"MAX",{enumerable:!0,get:function(){return FYe.default}});var qYe=rhe();Object.defineProperty(Gr,"NIL",{enumerable:!0,get:function(){return qYe.default}});var HYe=YS();Object.defineProperty(Gr,"parse",{enumerable:!0,get:function(){return HYe.default}});var KYe=bd();Object.defineProperty(Gr,"stringify",{enumerable:!0,get:function(){return KYe.default}});var VYe=eq();Object.defineProperty(Gr,"v1",{enumerable:!0,get:function(){return VYe.default}});var jYe=rq();Object.defineProperty(Gr,"v1ToV6",{enumerable:!0,get:function(){return jYe.default}});var zYe=hhe();Object.defineProperty(Gr,"v3",{enumerable:!0,get:function(){return zYe.default}});var GYe=yhe();Object.defineProperty(Gr,"v4",{enumerable:!0,get:function(){return GYe.default}});var WYe=vhe();Object.defineProperty(Gr,"v5",{enumerable:!0,get:function(){return WYe.default}});var $Ye=xhe();Object.defineProperty(Gr,"v6",{enumerable:!0,get:function(){return $Ye.default}});var YYe=whe();Object.defineProperty(Gr,"v6ToV1",{enumerable:!0,get:function(){return YYe.default}});var ZYe=Ahe();Object.defineProperty(Gr,"v7",{enumerable:!0,get:function(){return ZYe.default}});var QYe=$S();Object.defineProperty(Gr,"validate",{enumerable:!0,get:function(){return QYe.default}});var XYe=The();Object.defineProperty(Gr,"version",{enumerable:!0,get:function(){return XYe.default}})});var gq=F(ry=>{"use strict";h();p();Object.defineProperty(ry,"__esModule",{value:!0});ry.isInstanceOfContextualAttributes=CI;ry.ensureNonContextualSubjectAttributes=JYe;ry.ensureContextualSubjectAttributes=eZe;ry.deduceAttributeContext=yq;ry.ensureActionsWithContextualAttributes=tZe;function CI(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}function JYe(t){let e;if(CI(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}function eZe(t){return CI(t)?t:yq(t)}function yq(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}function tZe(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(CI)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=yq(n)}),e}});var xq=F(O0=>{"use strict";h();p();Object.defineProperty(O0,"__esModule",{value:!0});O0.DeterministicSharder=O0.MD5Sharder=O0.Sharder=void 0;var rZe=gd(),t3=class{};O0.Sharder=t3;var bq=class extends t3{getShard(e,r){let n=(0,rZe.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};O0.MD5Sharder=bq;var vq=class extends t3{constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};O0.DeterministicSharder=vq});var Mhe=F(NI=>{"use strict";h();p();Object.defineProperty(NI,"__esModule",{value:!0});NI.BanditEvaluator=void 0;var nZe=md(),iZe=xq(),wq=class{constructor(){this.assignmentShards=nZe.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new iZe.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:o}=this.getTopScore(i);return o}evaluateBandit(e,r,n,i,o){let s=this.scoreActions(n,i,o),c=this.weighActions(s,o.gamma,o.actionProbabilityFloor),l=this.selectAction(e,r,c),g=Object.values(s).reduce((b,_)=>_>b?_:b,-1/0)-s[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:s[l],actionWeight:c[l],gamma:o.gamma,optimalityGap:g}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([o,s])=>{let c=n.defaultActionScore,l=n.coefficients[o];l&&(c=l.intercept,c+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),c+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),c+=this.scoreNumericAttributes(l.actionNumericCoefficients,s.numericAttributes),c+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,s.categoricalAttributes)),i[o]=c}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey];return typeof o=="number"&&isFinite(o)?n+=o*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey]?.toString(),s=o&&i.valueCoefficients[o];return n+=typeof s=="number"?s:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},o=Object.entries(e);if(!o.length)return i;let{topScore:s,topAction:c}=this.getTopScore(e);if(s===null||c===null)throw new Error("Unable to find top score");let l=s,d=c,g=o.length,b=n/g,_=0;return o.forEach(([T,M])=>{if(T===d)return;let k=1/(g+r*(l-M)),B=Math.max(k,b);_+=B,i[T]=B}),i[d]=Math.max(1-_,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((d,g)=>{let b=this.sharder.getShard(`${e}-${r}-${d[0]}`,this.assignmentShards),_=this.sharder.getShard(`${e}-${r}-${g[0]}`,this.assignmentShards),T=b-_;return T===0&&(T=d[0]<g[0]?-1:1),T}),s=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,c=0,l=null;for(let d of i)if(c+=d[1],c>s){l=d[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([o,s])=>{(n===null||i===null||s>n||s===n&&o<i)&&(n=s,i=o)}),{topScore:n,topAction:i}}};NI.BanditEvaluator=wq});var khe=F(OI=>{"use strict";h();p();Object.defineProperty(OI,"__esModule",{value:!0});OI.TLRUCache=void 0;var oZe=jF(),Sq=class extends oZe.LRUCache{constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};OI.TLRUCache=Sq});var Phe=F(DI=>{"use strict";h();p();Object.defineProperty(DI,"__esModule",{value:!0});DI.TLRUInMemoryAssignmentCache=void 0;var sZe=md(),aZe=WS(),cZe=khe(),Eq=class extends aZe.AbstractAssignmentCache{constructor(e,r=sZe.DEFAULT_TLRU_TTL_MS){super(new cZe.TLRUCache(e,r))}};DI.TLRUInMemoryAssignmentCache=Eq});var xd=F(D0=>{"use strict";h();p();Object.defineProperty(D0,"__esModule",{value:!0});D0.FormatEnum=D0.UNKNOWN_ENVIRONMENT_NAME=D0.VariationType=void 0;var Rhe;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(Rhe||(D0.VariationType=Rhe={}));D0.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var Bhe;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(Bhe||(D0.FormatEnum=Bhe={}))});var Nhe=F(Xu=>{"use strict";h();p();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.ConfigurationWireV1=Xu.ObfuscatedPrecomputedConfigurationResponse=Xu.PrecomputedConfigurationResponse=Xu.PrecomputedConfiguration=void 0;var fZe=xd(),Che=gd(),LI=class{constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=fZe.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},_q=class t{constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,o,s){let c=new FI(e,r,n,i,o,s);return new t(JSON.stringify(c),e,o)}static unobfuscated(e,r,n,i,o){let s=new UI(e,r,n,i,o);return new t(JSON.stringify(s),e,i)}};Xu.PrecomputedConfiguration=_q;var UI=class extends LI{constructor(e,r,n,i,o){super(e,i,o),this.flags=r,this.bandits=n,this.obfuscated=!1}};Xu.PrecomputedConfigurationResponse=UI;var FI=class extends LI{constructor(e,r,n,i,o,s){super(e,o,s),this.obfuscated=!0,this.salt=i,this.bandits=(0,Che.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,Che.obfuscatePrecomputedFlags)(this.salt,r)}};Xu.ObfuscatedPrecomputedConfigurationResponse=FI;var Aq=class{constructor(e){this.precomputed=e,this.version=1}};Xu.ConfigurationWireV1=Aq});var Iq=F(Tq=>{"use strict";h();p();Object.defineProperty(Tq,"__esModule",{value:!0});Tq.hydrateConfigurationStore=uZe;async function uZe(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}});var Rq=F(Pq=>{"use strict";h();p();Object.defineProperty(Pq,"__esModule",{value:!0});var Mq=Iq(),kq=class{constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,Mq.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,Mq.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let o=await this.httpClient.getBanditParameters();o?.bandits&&(await(0,Mq.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:o.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let o=r[i.flagKey];o||(o=[],r[i.flagKey]=o),o.push(i)})}),r}};Pq.default=kq});var HI=F(Vc=>{"use strict";h();p();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.decodeFlag=lZe;Vc.decodeVariations=Ohe;Vc.decodeValue=Cq;Vc.decodeAllocation=Dhe;Vc.decodeSplit=Lhe;Vc.decodeShard=Uhe;Vc.decodeObject=qI;Vc.decodeObjectTo=Nq;Vc.decodePrecomputedFlag=dZe;Vc.decodePrecomputedBandit=hZe;var Bq=xd(),bs=gd();function lZe(t){return{...t,variations:Ohe(t.variations,t.variationType),allocations:t.allocations.map(Dhe)}}function Ohe(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,bs.decodeBase64)(r.key);return[n,{key:n,value:Cq(r.value,e)}]}))}function Cq(t,e){switch(e){case Bq.VariationType.INTEGER:case Bq.VariationType.NUMERIC:return Number((0,bs.decodeBase64)(t));case Bq.VariationType.BOOLEAN:return(0,bs.decodeBase64)(t)==="true";default:return(0,bs.decodeBase64)(t)}}function Dhe(t){return{...t,key:(0,bs.decodeBase64)(t.key),splits:t.splits.map(Lhe),startAt:t.startAt?new Date((0,bs.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,bs.decodeBase64)(t.endAt)).toISOString():void 0}}function Lhe(t){return{extraLogging:t.extraLogging?qI(t.extraLogging):void 0,variationKey:(0,bs.decodeBase64)(t.variationKey),shards:t.shards.map(Uhe)}}function Uhe(t){return{...t,salt:(0,bs.decodeBase64)(t.salt)}}function qI(t){return Nq(t,e=>e)}function Nq(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,bs.decodeBase64)(r),e((0,bs.decodeBase64)(n))]))}function dZe(t){return{...t,allocationKey:(0,bs.decodeBase64)(t.allocationKey??""),variationKey:(0,bs.decodeBase64)(t.variationKey??""),variationValue:Cq(t.variationValue,t.variationType),extraLogging:qI(t.extraLogging??{})}}function hZe(t){return{...t,banditKey:(0,bs.decodeBase64)(t.banditKey),action:(0,bs.decodeBase64)(t.action),modelVersion:(0,bs.decodeBase64)(t.modelVersion),actionNumericAttributes:Nq(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:qI(t.actionCategoricalAttributes??{})}}});var Fhe=F(jb=>{"use strict";h();p();Object.defineProperty(jb,"__esModule",{value:!0});jb.EppoValue=jb.EppoValueType=void 0;var r3=xd(),pZe=gd(),jc;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(jc||(jb.EppoValueType=jc={}));var Oq=class t{constructor(e,r,n,i,o){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=o}static valueOf(e,r){if(e==null)return t.Null();switch(r){case r3.VariationType.BOOLEAN:return t.Bool(e);case r3.VariationType.NUMERIC:return t.Numeric(e);case r3.VariationType.INTEGER:return t.Numeric(e);case r3.VariationType.STRING:return t.String(e);case r3.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case jc.NullType:return"null";case jc.BoolType:return this.boolValue?"true":"false";case jc.NumericType:return this.numericValue?this.numericValue.toString():"0";case jc.StringType:return this.stringValue??"";case jc.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,pZe.getMD5Hash)(e)}static Bool(e){return new t(jc.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(jc.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(jc.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(jc.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(jc.NullType,void 0,void 0,void 0,void 0)}};jb.EppoValue=Oq});var Lq=F(L0=>{"use strict";h();p();Object.defineProperty(L0,"__esModule",{value:!0});L0.FlagEvaluationDetailsBuilder=L0.AllocationEvaluationCode=L0.flagEvaluationCodes=void 0;var mZe=xd();L0.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var KI;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(KI||(L0.AllocationEvaluationCode=KI={}));var Dq=class{constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=o=>{this.unmatchedAllocations.push(o)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(o,s,c,l,d)=>(this.variationKey=s.key,this.variationValue=d===mZe.VariationType.JSON&&typeof s.value=="string"?JSON.parse(s.value):s.value,this.matchedRule=l,this.matchedAllocation={key:c.key,allocationEvaluationCode:KI.MATCH,orderPosition:o+1},this),this.buildForNoneResult=(o,s)=>this.setNone().build(o,s),this.build=(o,s)=>({environmentName:this.environmentName,flagEvaluationCode:o,flagEvaluationDescription:s,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(o,s)=>{try{return this.build(o,s)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let o=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,s=o+1;return this.allocations.slice(o).map((c,l)=>({key:c.key,allocationEvaluationCode:KI.UNEVALUATED,orderPosition:s+l}))},this.setNone()}};L0.FlagEvaluationDetailsBuilder=Dq});var Fq=F(VI=>{"use strict";h();p();Object.defineProperty(VI,"__esModule",{value:!0});VI.FlagEvaluationError=void 0;var Uq=class extends Error{};VI.FlagEvaluationError=Uq});var n3=F(($Zt,qhe)=>{h();p();var yZe="2.0.0",gZe=Number.MAX_SAFE_INTEGER||9007199254740991,bZe=16,vZe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];qhe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:bZe,MAX_SAFE_INTEGER:gZe,RELEASE_TYPES:vZe,SEMVER_SPEC_VERSION:yZe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var i3=F((QZt,Hhe)=>{h();p();var xZe=typeof process=="object"&&I&&I.NODE_DEBUG&&/\bsemver\b/i.test(I.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Hhe.exports=xZe});var zb=F((wd,Khe)=>{h();p();var{MAX_SAFE_COMPONENT_LENGTH:qq}=n3(),wZe=i3();wd=Khe.exports={};var SZe=wd.re=[],EZe=wd.safeRe=[],St=wd.src=[],Et=wd.t={},_Ze=0,nr=(t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=_Ze++;wZe(t,i,e),Et[t]=i,St[i]=e,SZe[i]=new RegExp(e,r?"g":void 0),EZe[i]=new RegExp(n,r?"g":void 0)};nr("NUMERICIDENTIFIER","0|[1-9]\\d*");nr("NUMERICIDENTIFIERLOOSE","[0-9]+");nr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");nr("MAINVERSION",`(${St[Et.NUMERICIDENTIFIER]})\\.(${St[Et.NUMERICIDENTIFIER]})\\.(${St[Et.NUMERICIDENTIFIER]})`);nr("MAINVERSIONLOOSE",`(${St[Et.NUMERICIDENTIFIERLOOSE]})\\.(${St[Et.NUMERICIDENTIFIERLOOSE]})\\.(${St[Et.NUMERICIDENTIFIERLOOSE]})`);nr("PRERELEASEIDENTIFIER",`(?:${St[Et.NUMERICIDENTIFIER]}|${St[Et.NONNUMERICIDENTIFIER]})`);nr("PRERELEASEIDENTIFIERLOOSE",`(?:${St[Et.NUMERICIDENTIFIERLOOSE]}|${St[Et.NONNUMERICIDENTIFIER]})`);nr("PRERELEASE",`(?:-(${St[Et.PRERELEASEIDENTIFIER]}(?:\\.${St[Et.PRERELEASEIDENTIFIER]})*))`);nr("PRERELEASELOOSE",`(?:-?(${St[Et.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${St[Et.PRERELEASEIDENTIFIERLOOSE]})*))`);nr("BUILDIDENTIFIER","[0-9A-Za-z-]+");nr("BUILD",`(?:\\+(${St[Et.BUILDIDENTIFIER]}(?:\\.${St[Et.BUILDIDENTIFIER]})*))`);nr("FULLPLAIN",`v?${St[Et.MAINVERSION]}${St[Et.PRERELEASE]}?${St[Et.BUILD]}?`);nr("FULL",`^${St[Et.FULLPLAIN]}$`);nr("LOOSEPLAIN",`[v=\\s]*${St[Et.MAINVERSIONLOOSE]}${St[Et.PRERELEASELOOSE]}?${St[Et.BUILD]}?`);nr("LOOSE",`^${St[Et.LOOSEPLAIN]}$`);nr("GTLT","((?:<|>)?=?)");nr("XRANGEIDENTIFIERLOOSE",`${St[Et.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);nr("XRANGEIDENTIFIER",`${St[Et.NUMERICIDENTIFIER]}|x|X|\\*`);nr("XRANGEPLAIN",`[v=\\s]*(${St[Et.XRANGEIDENTIFIER]})(?:\\.(${St[Et.XRANGEIDENTIFIER]})(?:\\.(${St[Et.XRANGEIDENTIFIER]})(?:${St[Et.PRERELEASE]})?${St[Et.BUILD]}?)?)?`);nr("XRANGEPLAINLOOSE",`[v=\\s]*(${St[Et.XRANGEIDENTIFIERLOOSE]})(?:\\.(${St[Et.XRANGEIDENTIFIERLOOSE]})(?:\\.(${St[Et.XRANGEIDENTIFIERLOOSE]})(?:${St[Et.PRERELEASELOOSE]})?${St[Et.BUILD]}?)?)?`);nr("XRANGE",`^${St[Et.GTLT]}\\s*${St[Et.XRANGEPLAIN]}$`);nr("XRANGELOOSE",`^${St[Et.GTLT]}\\s*${St[Et.XRANGEPLAINLOOSE]}$`);nr("COERCE",`(^|[^\\d])(\\d{1,${qq}})(?:\\.(\\d{1,${qq}}))?(?:\\.(\\d{1,${qq}}))?(?:$|[^\\d])`);nr("COERCERTL",St[Et.COERCE],!0);nr("LONETILDE","(?:~>?)");nr("TILDETRIM",`(\\s*)${St[Et.LONETILDE]}\\s+`,!0);wd.tildeTrimReplace="$1~";nr("TILDE",`^${St[Et.LONETILDE]}${St[Et.XRANGEPLAIN]}$`);nr("TILDELOOSE",`^${St[Et.LONETILDE]}${St[Et.XRANGEPLAINLOOSE]}$`);nr("LONECARET","(?:\\^)");nr("CARETTRIM",`(\\s*)${St[Et.LONECARET]}\\s+`,!0);wd.caretTrimReplace="$1^";nr("CARET",`^${St[Et.LONECARET]}${St[Et.XRANGEPLAIN]}$`);nr("CARETLOOSE",`^${St[Et.LONECARET]}${St[Et.XRANGEPLAINLOOSE]}$`);nr("COMPARATORLOOSE",`^${St[Et.GTLT]}\\s*(${St[Et.LOOSEPLAIN]})$|^$`);nr("COMPARATOR",`^${St[Et.GTLT]}\\s*(${St[Et.FULLPLAIN]})$|^$`);nr("COMPARATORTRIM",`(\\s*)${St[Et.GTLT]}\\s*(${St[Et.LOOSEPLAIN]}|${St[Et.XRANGEPLAIN]})`,!0);wd.comparatorTrimReplace="$1$2$3";nr("HYPHENRANGE",`^\\s*(${St[Et.XRANGEPLAIN]})\\s+-\\s+(${St[Et.XRANGEPLAIN]})\\s*$`);nr("HYPHENRANGELOOSE",`^\\s*(${St[Et.XRANGEPLAINLOOSE]})\\s+-\\s+(${St[Et.XRANGEPLAINLOOSE]})\\s*$`);nr("STAR","(<|>)?=?\\s*\\*");nr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");nr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var jI=F((rQt,Vhe)=>{h();p();var AZe=Object.freeze({loose:!0}),TZe=Object.freeze({}),IZe=t=>t?typeof t!="object"?AZe:t:TZe;Vhe.exports=IZe});var Hq=F((oQt,Ghe)=>{h();p();var jhe=/^[0-9]+$/,zhe=(t,e)=>{let r=jhe.test(t),n=jhe.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},MZe=(t,e)=>zhe(e,t);Ghe.exports={compareIdentifiers:zhe,rcompareIdentifiers:MZe}});var vs=F((cQt,Zhe)=>{h();p();var zI=i3(),{MAX_LENGTH:Whe,MAX_SAFE_INTEGER:GI}=n3(),{safeRe:$he,t:Yhe}=zb(),kZe=jI(),{compareIdentifiers:Gb}=Hq(),Kq=class t{constructor(e,r){if(r=kZe(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Whe)throw new TypeError(`version is longer than ${Whe} characters`);zI("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?$he[Yhe.LOOSE]:$he[Yhe.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>GI||this.major<0)throw new TypeError("Invalid major version");if(this.minor>GI||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>GI||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<GI)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(zI("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Gb(this.major,e.major)||Gb(this.minor,e.minor)||Gb(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(zI("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Gb(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(zI("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Gb(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Gb(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Zhe.exports=Kq});var ny=F((lQt,Xhe)=>{h();p();var Qhe=vs(),PZe=(t,e,r=!1)=>{if(t instanceof Qhe)return t;try{return new Qhe(t,e)}catch(n){if(!r)return null;throw n}};Xhe.exports=PZe});var e0e=F((pQt,Jhe)=>{h();p();var RZe=ny(),BZe=(t,e)=>{let r=RZe(t,e);return r?r.version:null};Jhe.exports=BZe});var r0e=F((gQt,t0e)=>{h();p();var CZe=ny(),NZe=(t,e)=>{let r=CZe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};t0e.exports=NZe});var o0e=F((xQt,i0e)=>{h();p();var n0e=vs(),OZe=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new n0e(t instanceof n0e?t.version:t,r).inc(e,n,i).version}catch{return null}};i0e.exports=OZe});var c0e=F((EQt,a0e)=>{h();p();var s0e=ny(),DZe=(t,e)=>{let r=s0e(t,null,!0),n=s0e(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,c=o?n:r,l=!!s.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":s.patch?"patch":s.minor?"minor":"major";let g=l?"pre":"";return r.major!==n.major?g+"major":r.minor!==n.minor?g+"minor":r.patch!==n.patch?g+"patch":"prerelease"};a0e.exports=DZe});var u0e=F((TQt,f0e)=>{h();p();var LZe=vs(),UZe=(t,e)=>new LZe(t,e).major;f0e.exports=UZe});var d0e=F((kQt,l0e)=>{h();p();var FZe=vs(),qZe=(t,e)=>new FZe(t,e).minor;l0e.exports=qZe});var p0e=F((BQt,h0e)=>{h();p();var HZe=vs(),KZe=(t,e)=>new HZe(t,e).patch;h0e.exports=KZe});var y0e=F((OQt,m0e)=>{h();p();var VZe=ny(),jZe=(t,e)=>{let r=VZe(t,e);return r&&r.prerelease.length?r.prerelease:null};m0e.exports=jZe});var zc=F((UQt,b0e)=>{h();p();var g0e=vs(),zZe=(t,e,r)=>new g0e(t,r).compare(new g0e(e,r));b0e.exports=zZe});var x0e=F((HQt,v0e)=>{h();p();var GZe=zc(),WZe=(t,e,r)=>GZe(e,t,r);v0e.exports=WZe});var S0e=F((jQt,w0e)=>{h();p();var $Ze=zc(),YZe=(t,e)=>$Ze(t,e,!0);w0e.exports=YZe});var WI=F((WQt,_0e)=>{h();p();var E0e=vs(),ZZe=(t,e,r)=>{let n=new E0e(t,r),i=new E0e(e,r);return n.compare(i)||n.compareBuild(i)};_0e.exports=ZZe});var T0e=F((ZQt,A0e)=>{h();p();var QZe=WI(),XZe=(t,e)=>t.sort((r,n)=>QZe(r,n,e));A0e.exports=XZe});var M0e=F((JQt,I0e)=>{h();p();var JZe=WI(),eQe=(t,e)=>t.sort((r,n)=>JZe(n,r,e));I0e.exports=eQe});var o3=F((rXt,k0e)=>{h();p();var tQe=zc(),rQe=(t,e,r)=>tQe(t,e,r)>0;k0e.exports=rQe});var $I=F((oXt,P0e)=>{h();p();var nQe=zc(),iQe=(t,e,r)=>nQe(t,e,r)<0;P0e.exports=iQe});var Vq=F((cXt,R0e)=>{h();p();var oQe=zc(),sQe=(t,e,r)=>oQe(t,e,r)===0;R0e.exports=sQe});var jq=F((lXt,B0e)=>{h();p();var aQe=zc(),cQe=(t,e,r)=>aQe(t,e,r)!==0;B0e.exports=cQe});var YI=F((pXt,C0e)=>{h();p();var fQe=zc(),uQe=(t,e,r)=>fQe(t,e,r)>=0;C0e.exports=uQe});var ZI=F((gXt,N0e)=>{h();p();var lQe=zc(),dQe=(t,e,r)=>lQe(t,e,r)<=0;N0e.exports=dQe});var zq=F((xXt,O0e)=>{h();p();var hQe=Vq(),pQe=jq(),mQe=o3(),yQe=YI(),gQe=$I(),bQe=ZI(),vQe=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return hQe(t,r,n);case"!=":return pQe(t,r,n);case">":return mQe(t,r,n);case">=":return yQe(t,r,n);case"<":return gQe(t,r,n);case"<=":return bQe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};O0e.exports=vQe});var L0e=F((EXt,D0e)=>{h();p();var xQe=vs(),wQe=ny(),{safeRe:QI,t:XI}=zb(),SQe=(t,e)=>{if(t instanceof xQe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(QI[XI.COERCE]);else{let n;for(;(n=QI[XI.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),QI[XI.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;QI[XI.COERCERTL].lastIndex=-1}return r===null?null:wQe(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};D0e.exports=SQe});var F0e=F((TXt,U0e)=>{"use strict";h();p();U0e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var H0e=F((kXt,q0e)=>{"use strict";h();p();q0e.exports=qr;qr.Node=iy;qr.create=qr;function qr(t){var e=this;if(e instanceof qr||(e=new qr),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}qr.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};qr.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};qr.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};qr.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)_Qe(this,arguments[t]);return this.length};qr.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)AQe(this,arguments[t]);return this.length};qr.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};qr.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};qr.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};qr.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};qr.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};qr.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};qr.prototype.map=function(t,e){e=e||this;for(var r=new qr,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};qr.prototype.mapReverse=function(t,e){e=e||this;for(var r=new qr,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};qr.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};qr.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};qr.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};qr.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};qr.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new qr;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};qr.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new qr;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};qr.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=EQe(this,i,r[n]);return o};qr.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function EQe(t,e,r){var n=e===t.head?new iy(r,null,e,t):new iy(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function _Qe(t,e){t.tail=new iy(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function AQe(t,e){t.head=new iy(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function iy(t,e,r,n){if(!(this instanceof iy))return new iy(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{F0e()(qr)}catch{}});var G0e=F((BXt,z0e)=>{"use strict";h();p();var TQe=H0e(),oy=Symbol("max"),Ed=Symbol("length"),Wb=Symbol("lengthCalculator"),a3=Symbol("allowStale"),sy=Symbol("maxAge"),Sd=Symbol("dispose"),K0e=Symbol("noDisposeOnSet"),yo=Symbol("lruList"),Kf=Symbol("cache"),j0e=Symbol("updateAgeOnGet"),Gq=()=>1,$q=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[oy]=e.max||1/0,n=e.length||Gq;if(this[Wb]=typeof n!="function"?Gq:n,this[a3]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[sy]=e.maxAge||0,this[Sd]=e.dispose,this[K0e]=e.noDisposeOnSet||!1,this[j0e]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[oy]=e||1/0,s3(this)}get max(){return this[oy]}set allowStale(e){this[a3]=!!e}get allowStale(){return this[a3]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[sy]=e,s3(this)}get maxAge(){return this[sy]}set lengthCalculator(e){typeof e!="function"&&(e=Gq),e!==this[Wb]&&(this[Wb]=e,this[Ed]=0,this[yo].forEach(r=>{r.length=this[Wb](r.value,r.key),this[Ed]+=r.length})),s3(this)}get lengthCalculator(){return this[Wb]}get length(){return this[Ed]}get itemCount(){return this[yo].length}rforEach(e,r){r=r||this;for(let n=this[yo].tail;n!==null;){let i=n.prev;V0e(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[yo].head;n!==null;){let i=n.next;V0e(this,e,n,r),n=i}}keys(){return this[yo].toArray().map(e=>e.key)}values(){return this[yo].toArray().map(e=>e.value)}reset(){this[Sd]&&this[yo]&&this[yo].length&&this[yo].forEach(e=>this[Sd](e.key,e.value)),this[Kf]=new Map,this[yo]=new TQe,this[Ed]=0}dump(){return this[yo].map(e=>JI(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[yo]}set(e,r,n){if(n=n||this[sy],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[Wb](r,e);if(this[Kf].has(e)){if(o>this[oy])return $b(this,this[Kf].get(e)),!1;let l=this[Kf].get(e).value;return this[Sd]&&(this[K0e]||this[Sd](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Ed]+=o-l.length,l.length=o,this.get(e),s3(this),!0}let s=new Yq(e,r,o,i,n);return s.length>this[oy]?(this[Sd]&&this[Sd](e,r),!1):(this[Ed]+=s.length,this[yo].unshift(s),this[Kf].set(e,this[yo].head),s3(this),!0)}has(e){if(!this[Kf].has(e))return!1;let r=this[Kf].get(e).value;return!JI(this,r)}get(e){return Wq(this,e,!0)}peek(e){return Wq(this,e,!1)}pop(){let e=this[yo].tail;return e?($b(this,e),e.value):null}del(e){$b(this,this[Kf].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Kf].forEach((e,r)=>Wq(this,r,!1))}},Wq=(t,e,r)=>{let n=t[Kf].get(e);if(n){let i=n.value;if(JI(t,i)){if($b(t,n),!t[a3])return}else r&&(t[j0e]&&(n.value.now=Date.now()),t[yo].unshiftNode(n));return i.value}},JI=(t,e)=>{if(!e||!e.maxAge&&!t[sy])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[sy]&&r>t[sy]},s3=t=>{if(t[Ed]>t[oy])for(let e=t[yo].tail;t[Ed]>t[oy]&&e!==null;){let r=e.prev;$b(t,e),e=r}},$b=(t,e)=>{if(e){let r=e.value;t[Sd]&&t[Sd](r.key,r.value),t[Ed]-=r.length,t[Kf].delete(r.key),t[yo].removeNode(e)}},Yq=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},V0e=(t,e,r,n)=>{let i=r.value;JI(t,i)&&($b(t,r),t[a3]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};z0e.exports=$q});var Gc=F((OXt,Z0e)=>{h();p();var Zq=class t{constructor(e,r){if(r=MQe(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Qq)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!$0e(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&OQe(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&CQe)|(this.options.loose&&NQe))+":"+e,i=W0e.get(n);if(i)return i;let o=this.options.loose,s=o?ha[Vs.HYPHENRANGELOOSE]:ha[Vs.HYPHENRANGE];e=e.replace(s,zQe(this.options.includePrerelease)),Yn("hyphen replace",e),e=e.replace(ha[Vs.COMPARATORTRIM],PQe),Yn("comparator trim",e),e=e.replace(ha[Vs.TILDETRIM],RQe),e=e.replace(ha[Vs.CARETTRIM],BQe);let c=e.split(" ").map(b=>DQe(b,this.options)).join(" ").split(/\s+/).map(b=>jQe(b,this.options));o&&(c=c.filter(b=>(Yn("loose invalid filter",b,this.options),!!b.match(ha[Vs.COMPARATORLOOSE])))),Yn("range list",c);let l=new Map,d=c.map(b=>new Qq(b,this.options));for(let b of d){if($0e(b))return[b];l.set(b.value,b)}l.size>1&&l.has("")&&l.delete("");let g=[...l.values()];return W0e.set(n,g),g}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Y0e(n,r)&&e.set.some(i=>Y0e(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new kQe(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(GQe(this.set[r],e,this.options))return!0;return!1}};Z0e.exports=Zq;var IQe=G0e(),W0e=new IQe({max:1e3}),MQe=jI(),Qq=c3(),Yn=i3(),kQe=vs(),{safeRe:ha,t:Vs,comparatorTrimReplace:PQe,tildeTrimReplace:RQe,caretTrimReplace:BQe}=zb(),{FLAG_INCLUDE_PRERELEASE:CQe,FLAG_LOOSE:NQe}=n3(),$0e=t=>t.value==="<0.0.0-0",OQe=t=>t.value==="",Y0e=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},DQe=(t,e)=>(Yn("comp",t,e),t=FQe(t,e),Yn("caret",t),t=LQe(t,e),Yn("tildes",t),t=HQe(t,e),Yn("xrange",t),t=VQe(t,e),Yn("stars",t),t),js=t=>!t||t.toLowerCase()==="x"||t==="*",LQe=(t,e)=>t.trim().split(/\s+/).map(r=>UQe(r,e)).join(" "),UQe=(t,e)=>{let r=e.loose?ha[Vs.TILDELOOSE]:ha[Vs.TILDE];return t.replace(r,(n,i,o,s,c)=>{Yn("tilde",t,n,i,o,s,c);let l;return js(i)?l="":js(o)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:js(s)?l=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:c?(Yn("replaceTilde pr",c),l=`>=${i}.${o}.${s}-${c} <${i}.${+o+1}.0-0`):l=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Yn("tilde return",l),l})},FQe=(t,e)=>t.trim().split(/\s+/).map(r=>qQe(r,e)).join(" "),qQe=(t,e)=>{Yn("caret",t,e);let r=e.loose?ha[Vs.CARETLOOSE]:ha[Vs.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,c,l)=>{Yn("caret",t,i,o,s,c,l);let d;return js(o)?d="":js(s)?d=`>=${o}.0.0${n} <${+o+1}.0.0-0`:js(c)?o==="0"?d=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:d=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:l?(Yn("replaceCaret pr",l),o==="0"?s==="0"?d=`>=${o}.${s}.${c}-${l} <${o}.${s}.${+c+1}-0`:d=`>=${o}.${s}.${c}-${l} <${o}.${+s+1}.0-0`:d=`>=${o}.${s}.${c}-${l} <${+o+1}.0.0-0`):(Yn("no pr"),o==="0"?s==="0"?d=`>=${o}.${s}.${c}${n} <${o}.${s}.${+c+1}-0`:d=`>=${o}.${s}.${c}${n} <${o}.${+s+1}.0-0`:d=`>=${o}.${s}.${c} <${+o+1}.0.0-0`),Yn("caret return",d),d})},HQe=(t,e)=>(Yn("replaceXRanges",t,e),t.split(/\s+/).map(r=>KQe(r,e)).join(" ")),KQe=(t,e)=>{t=t.trim();let r=e.loose?ha[Vs.XRANGELOOSE]:ha[Vs.XRANGE];return t.replace(r,(n,i,o,s,c,l)=>{Yn("xRange",t,n,i,o,s,c,l);let d=js(o),g=d||js(s),b=g||js(c),_=b;return i==="="&&_&&(i=""),l=e.includePrerelease?"-0":"",d?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&_?(g&&(s=0),c=0,i===">"?(i=">=",g?(o=+o+1,s=0,c=0):(s=+s+1,c=0)):i==="<="&&(i="<",g?o=+o+1:s=+s+1),i==="<"&&(l="-0"),n=`${i+o}.${s}.${c}${l}`):g?n=`>=${o}.0.0${l} <${+o+1}.0.0-0`:b&&(n=`>=${o}.${s}.0${l} <${o}.${+s+1}.0-0`),Yn("xRange return",n),n})},VQe=(t,e)=>(Yn("replaceStars",t,e),t.trim().replace(ha[Vs.STAR],"")),jQe=(t,e)=>(Yn("replaceGTE0",t,e),t.trim().replace(ha[e.includePrerelease?Vs.GTE0PRE:Vs.GTE0],"")),zQe=t=>(e,r,n,i,o,s,c,l,d,g,b,_,T)=>(js(n)?r="":js(i)?r=`>=${n}.0.0${t?"-0":""}`:js(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,js(d)?l="":js(g)?l=`<${+d+1}.0.0-0`:js(b)?l=`<${d}.${+g+1}.0-0`:_?l=`<=${d}.${g}.${b}-${_}`:t?l=`<${d}.${g}.${+b+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),GQe=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Yn(t[n].semver),t[n].semver!==Qq.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var c3=F((UXt,rpe)=>{h();p();var f3=Symbol("SemVer ANY"),eH=class t{static get ANY(){return f3}constructor(e,r){if(r=Q0e(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Jq("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===f3?this.value="":this.value=this.operator+this.semver.version,Jq("comp",this)}parse(e){let r=this.options.loose?X0e[J0e.COMPARATORLOOSE]:X0e[J0e.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new epe(n[2],this.options.loose):this.semver=f3}toString(){return this.value}test(e){if(Jq("Comparator.test",e,this.options.loose),this.semver===f3||e===f3)return!0;if(typeof e=="string")try{e=new epe(e,this.options)}catch{return!1}return Xq(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new tpe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new tpe(this.value,r).test(e.semver):(r=Q0e(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Xq(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Xq(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};rpe.exports=eH;var Q0e=jI(),{safeRe:X0e,t:J0e}=zb(),Xq=zq(),Jq=i3(),epe=vs(),tpe=Gc()});var u3=F((HXt,npe)=>{h();p();var WQe=Gc(),$Qe=(t,e,r)=>{try{e=new WQe(e,r)}catch{return!1}return e.test(t)};npe.exports=$Qe});var ope=F((jXt,ipe)=>{h();p();var YQe=Gc(),ZQe=(t,e)=>new YQe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));ipe.exports=ZQe});var ape=F((WXt,spe)=>{h();p();var QQe=vs(),XQe=Gc(),JQe=(t,e,r)=>{let n=null,i=null,o=null;try{o=new XQe(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new QQe(n,r))}),n};spe.exports=JQe});var fpe=F((ZXt,cpe)=>{h();p();var eXe=vs(),tXe=Gc(),rXe=(t,e,r)=>{let n=null,i=null,o=null;try{o=new tXe(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new eXe(n,r))}),n};cpe.exports=rXe});var dpe=F((JXt,lpe)=>{h();p();var tH=vs(),nXe=Gc(),upe=o3(),iXe=(t,e)=>{t=new nXe(t,e);let r=new tH("0.0.0");if(t.test(r)||(r=new tH("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let c=new tH(s.semver.version);switch(s.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||upe(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||upe(r,o))&&(r=o)}return r&&t.test(r)?r:null};lpe.exports=iXe});var ppe=F((rJt,hpe)=>{h();p();var oXe=Gc(),sXe=(t,e)=>{try{return new oXe(t,e).range||"*"}catch{return null}};hpe.exports=sXe});var e7=F((oJt,bpe)=>{h();p();var aXe=vs(),gpe=c3(),{ANY:cXe}=gpe,fXe=Gc(),uXe=u3(),mpe=o3(),ype=$I(),lXe=ZI(),dXe=YI(),hXe=(t,e,r,n)=>{t=new aXe(t,n),e=new fXe(e,n);let i,o,s,c,l;switch(r){case">":i=mpe,o=lXe,s=ype,c=">",l=">=";break;case"<":i=ype,o=dXe,s=mpe,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(uXe(t,e,n))return!1;for(let d=0;d<e.set.length;++d){let g=e.set[d],b=null,_=null;if(g.forEach(T=>{T.semver===cXe&&(T=new gpe(">=0.0.0")),b=b||T,_=_||T,i(T.semver,b.semver,n)?b=T:s(T.semver,_.semver,n)&&(_=T)}),b.operator===c||b.operator===l||(!_.operator||_.operator===c)&&o(t,_.semver))return!1;if(_.operator===l&&s(t,_.semver))return!1}return!0};bpe.exports=hXe});var xpe=F((cJt,vpe)=>{h();p();var pXe=e7(),mXe=(t,e,r)=>pXe(t,e,">",r);vpe.exports=mXe});var Spe=F((lJt,wpe)=>{h();p();var yXe=e7(),gXe=(t,e,r)=>yXe(t,e,"<",r);wpe.exports=gXe});var Ape=F((pJt,_pe)=>{h();p();var Epe=Gc(),bXe=(t,e,r)=>(t=new Epe(t,r),e=new Epe(e,r),t.intersects(e,r));_pe.exports=bXe});var Ipe=F((gJt,Tpe)=>{h();p();var vXe=u3(),xXe=zc();Tpe.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((g,b)=>xXe(g,b,r));for(let g of s)vXe(g,e,r)?(o=g,i||(i=g)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let c=[];for(let[g,b]of n)g===b?c.push(g):!b&&g===s[0]?c.push("*"):b?g===s[0]?c.push(`<=${b}`):c.push(`${g} - ${b}`):c.push(`>=${g}`);let l=c.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return l.length<d.length?l:e}});var Cpe=F((xJt,Bpe)=>{h();p();var Mpe=Gc(),nH=c3(),{ANY:rH}=nH,l3=u3(),iH=zc(),wXe=(t,e,r={})=>{if(t===e)return!0;t=new Mpe(t,r),e=new Mpe(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=EXe(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},SXe=[new nH(">=0.0.0-0")],kpe=[new nH(">=0.0.0")],EXe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===rH){if(e.length===1&&e[0].semver===rH)return!0;r.includePrerelease?t=SXe:t=kpe}if(e.length===1&&e[0].semver===rH){if(r.includePrerelease)return!0;e=kpe}let n=new Set,i,o;for(let T of t)T.operator===">"||T.operator===">="?i=Ppe(i,T,r):T.operator==="<"||T.operator==="<="?o=Rpe(o,T,r):n.add(T.semver);if(n.size>1)return null;let s;if(i&&o){if(s=iH(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let T of n){if(i&&!l3(T,String(i),r)||o&&!l3(T,String(o),r))return null;for(let M of e)if(!l3(T,String(M),r))return!1;return!0}let c,l,d,g,b=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,_=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;b&&b.prerelease.length===1&&o.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(let T of e){if(g=g||T.operator===">"||T.operator===">=",d=d||T.operator==="<"||T.operator==="<=",i){if(_&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===_.major&&T.semver.minor===_.minor&&T.semver.patch===_.patch&&(_=!1),T.operator===">"||T.operator===">="){if(c=Ppe(i,T,r),c===T&&c!==i)return!1}else if(i.operator===">="&&!l3(i.semver,String(T),r))return!1}if(o){if(b&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===b.major&&T.semver.minor===b.minor&&T.semver.patch===b.patch&&(b=!1),T.operator==="<"||T.operator==="<="){if(l=Rpe(o,T,r),l===T&&l!==o)return!1}else if(o.operator==="<="&&!l3(o.semver,String(T),r))return!1}if(!T.operator&&(o||i)&&s!==0)return!1}return!(i&&d&&!o&&s!==0||o&&g&&!i&&s!==0||_||b)},Ppe=(t,e,r)=>{if(!t)return e;let n=iH(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Rpe=(t,e,r)=>{if(!t)return e;let n=iH(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Bpe.exports=wXe});var Lpe=F((EJt,Dpe)=>{h();p();var oH=zb(),Npe=n3(),_Xe=vs(),Ope=Hq(),AXe=ny(),TXe=e0e(),IXe=r0e(),MXe=o0e(),kXe=c0e(),PXe=u0e(),RXe=d0e(),BXe=p0e(),CXe=y0e(),NXe=zc(),OXe=x0e(),DXe=S0e(),LXe=WI(),UXe=T0e(),FXe=M0e(),qXe=o3(),HXe=$I(),KXe=Vq(),VXe=jq(),jXe=YI(),zXe=ZI(),GXe=zq(),WXe=L0e(),$Xe=c3(),YXe=Gc(),ZXe=u3(),QXe=ope(),XXe=ape(),JXe=fpe(),eJe=dpe(),tJe=ppe(),rJe=e7(),nJe=xpe(),iJe=Spe(),oJe=Ape(),sJe=Ipe(),aJe=Cpe();Dpe.exports={parse:AXe,valid:TXe,clean:IXe,inc:MXe,diff:kXe,major:PXe,minor:RXe,patch:BXe,prerelease:CXe,compare:NXe,rcompare:OXe,compareLoose:DXe,compareBuild:LXe,sort:UXe,rsort:FXe,gt:qXe,lt:HXe,eq:KXe,neq:VXe,gte:jXe,lte:zXe,cmp:GXe,coerce:WXe,Comparator:$Xe,Range:YXe,satisfies:ZXe,toComparators:QXe,maxSatisfying:XXe,minSatisfying:JXe,minVersion:eJe,validRange:tJe,outside:rJe,gtr:nJe,ltr:iJe,intersects:oJe,simplifyRange:sJe,subset:aJe,SemVer:_Xe,re:oH.re,src:oH.src,tokens:oH.t,SEMVER_SPEC_VERSION:Npe.SEMVER_SPEC_VERSION,RELEASE_TYPES:Npe.RELEASE_TYPES,compareIdentifiers:Ope.compareIdentifiers,rcompareIdentifiers:Ope.rcompareIdentifiers}});var jpe=F(cy=>{"use strict";h();p();Object.defineProperty(cy,"__esModule",{value:!0});cy.ObfuscatedOperatorType=cy.OperatorType=void 0;cy.matchesRule=cJe;var Vf=Lpe(),ay=gd(),Fo;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(Fo||(cy.OperatorType=Fo={}));var qo;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(qo||(cy.ObfuscatedOperatorType=qo={}));var _d;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(_d||(_d={}));function cJe(t,e,r){return!fJe(e,t.conditions,r).includes(!1)}function fJe(t,e,r){return e.map(n=>r?lJe(Object.entries(t).reduce((i,[o,s])=>({[(0,ay.getMD5Hash)(o)]:s,...i}),{}),n):uJe(t,n))}function uJe(t,e){let r=t[e.attribute];if(e.operator===Fo.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case Fo.GTE:case Fo.GT:case Fo.LTE:case Fo.LT:{if(Vpe(e.value)===_d.SEM_VER){let o=e.operator===Fo.GTE?Vf.gte:e.operator===Fo.GT?Vf.gt:e.operator===Fo.LTE?Vf.lte:Vf.lt;return Kpe(r,e.value,o)}let i=(o,s)=>e.operator===Fo.GTE?o>=s:e.operator===Fo.GT?o>s:e.operator===Fo.LTE?o<=s:o<s;return Hpe(r,e.value,i)}case Fo.MATCHES:return new RegExp(e.value).test(r);case Fo.NOT_MATCHES:return!new RegExp(e.value).test(r);case Fo.ONE_OF:return Upe(r.toString(),e.value);case Fo.NOT_ONE_OF:return Fpe(r.toString(),e.value)}return!1}function lJe(t,e){let r=t[e.attribute];if(e.operator===qo.IS_NULL)return e.value===(0,ay.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case qo.GTE:case qo.GT:case qo.LTE:case qo.LT:{let n=(0,ay.decodeBase64)(e.value);if(Vpe(n)===_d.SEM_VER){let s=e.operator===qo.GTE?Vf.gte:e.operator===qo.GT?Vf.gt:e.operator===qo.LTE?Vf.lte:Vf.lt;return Kpe(r,n,s)}let o=(s,c)=>e.operator===qo.GTE?s>=c:e.operator===qo.GT?s>c:e.operator===qo.LTE?s<=c:s<c;return Hpe(r,Number(n),o)}case qo.MATCHES:return new RegExp((0,ay.decodeBase64)(e.value)).test(r);case qo.NOT_MATCHES:return!new RegExp((0,ay.decodeBase64)(e.value)).test(r);case qo.ONE_OF:return Upe((0,ay.getMD5Hash)(r.toString()),e.value);case qo.NOT_ONE_OF:return Fpe((0,ay.getMD5Hash)(r.toString()),e.value)}return!1}function Upe(t,e){return qpe(t,e).length>0}function Fpe(t,e){return qpe(t,e).length===0}function qpe(t,e){return e.filter(r=>r===t)}function Hpe(t,e,r){return r(Number(t),Number(e))}function Kpe(t,e,r){return!!(0,Vf.valid)(t)&&!!(0,Vf.valid)(e)&&r(t,e)}function Vpe(t){return typeof t=="number"?_d.NUMERIC:Array.isArray(t)?_d.STRING_ARRAY:typeof t=="string"&&(0,Vf.valid)(t)?_d.SEM_VER:isNaN(Number(t))?_d.PLAIN_STRING:_d.NUMERIC}});var $pe=F(U0=>{"use strict";h();p();Object.defineProperty(U0,"__esModule",{value:!0});U0.Evaluator=void 0;U0.isInShardRange=zpe;U0.hashKey=Gpe;U0.noneResult=aH;U0.matchesRules=Wpe;var dJe=t7(),d3=Lq(),hJe=Fq(),pJe=jpe(),mJe=xq(),sH=class{constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,o,s)=>{if(!(0,dJe.checkValueTypeMatch)(s,r.value)){let{key:b,value:_}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${b}) is configured for type ${s}, but is set to incompatible value (${_})`}}let c=!!n.rules?.length,l=n.splits.length>1,d=i.shards.length>1,g=l||d;return c&&g?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${o} belongs to the range of traffic assigned to "${i.variationKey}".`}:c&&!g?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${o} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new mJe.MD5Sharder}evaluateFlag(e,r,n,i,o,s){let c=new d3.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return aH(e.key,n,i,c.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let d=0;d<e.allocations.length;d++){let g=e.allocations[d],b=M=>{c.addUnmatchedAllocation({key:g.key,allocationEvaluationCode:M,orderPosition:d+1})};if(g.startAt&&l<new Date(g.startAt)){b(d3.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(g.endAt&&l>new Date(g.endAt)){b(d3.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:_,matchedRule:T}=Wpe(g?.rules??[],{id:n,...i},o);if(_){for(let M of g.splits)if(M.shards.every(k=>this.matchesShard(k,n,e.totalShards))){let k=e.variations[M.variationKey],{flagEvaluationCode:B,flagEvaluationDescription:P}=this.getMatchedEvaluationCodeAndDescription(k,g,M,n,s),D=c.setMatch(d,k,g,T,s).build(B,P);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:g.key,variation:k,extraLogging:M.extraLogging??{},doLog:g.doLog,flagEvaluationDetails:D}}b(d3.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else b(d3.AllocationEvaluationCode.FAILING_RULE)}return aH(e.key,n,i,c.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let d=c.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(d){let g=new hJe.FlagEvaluationError(l.message);throw g.flagEvaluationDetails=d,g}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(Gpe(e.salt,r),n);return e.ranges.some(o=>zpe(i,o))}};U0.Evaluator=sH;function zpe(t,e){return e.start<=t&&t<e.end}function Gpe(t,e){return`${t}-${e}`}function aH(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}function Wpe(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(o=>{let s=(0,pJe.matchesRule)(o,e,r);return s&&(n=o),s})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}});var fH=F(r7=>{"use strict";h();p();Object.defineProperty(r7,"__esModule",{value:!0});r7.BoundedEventQueue=void 0;var yJe=Qu(),gJe=md(),cH=class{constructor(e,r=new Array,n=gJe.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&yJe.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};r7.BoundedEventQueue=cH});var dH=F(lH=>{"use strict";h();p();Object.defineProperty(lH,"__esModule",{value:!0});var uH=class{dispatch(e){}};lH.default=uH});var n7=F(h3=>{"use strict";h();p();Object.defineProperty(h3,"__esModule",{value:!0});h3.HttpRequestError=void 0;var jf=class extends Error{constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};h3.HttpRequestError=jf;var hH=class{constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),o=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!o?.ok)throw new jf("Failed to fetch data",o?.status);return await o.json()}catch(r){throw r.name==="AbortError"?new jf("Request timed out",408,r):r instanceof jf?r:new jf("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,o=setTimeout(()=>n.abort(),this.timeout),s=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(o),!s?.ok){let c=await s.text();throw new jf(c||"Failed to post data",s?.status)}return await s.json()}catch(n){throw n.name==="AbortError"?new jf("Request timed out",408,n):n instanceof jf?n:new jf("Network error",0,n)}}};h3.default=hH});var Ype=F(pH=>{"use strict";h();p();Object.defineProperty(pH,"__esModule",{value:!0});pH.waitForMs=bJe;async function bJe(t){await new Promise(e=>setTimeout(e,t))}});var yH=F(mH=>{"use strict";h();p();Object.defineProperty(mH,"__esModule",{value:!0});mH.default=xJe;var ja=Qu(),i7=md(),vJe=Ype();function xJe(t,e,r){let n=!1,i=0,o=t,s=!1,c,l=async()=>{n=!1;let b=!1,_=r?.skipInitialPoll?0:1+(r?.maxStartRetries??i7.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),T=null;for(;!b&&_>0;)try{await e(),b=!0,s=!1,ja.logger.info("Eppo SDK successfully requested initial configuration")}catch(k){if(s=!0,ja.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${k.message}`),--_>0){let B=Zpe(t);ja.logger.warn(`Eppo SDK will retry the initial poll again in ${B} ms (${_} attempts remaining)`),await(0,vJe.waitForMs)(B)}else r?.pollAfterFailedStart?ja.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(ja.logger.error("Eppo SDK initial poll failed. Aborting polling"),d()),r?.errorOnFailedStart&&(T=k)}if(!n&&(b&&r?.pollAfterSuccessfulStart||!b&&r?.pollAfterFailedStart)?(ja.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),c=setTimeout(g,t)):ja.logger.info("Eppo SDK will not poll for configuration updates"),T)throw ja.logger.info("Eppo SDK rethrowing start error"),T},d=()=>{n||(n=!0,c&&clearTimeout(c),ja.logger.info("Eppo SDK polling stopped"))};async function g(){if(!n){try{await e(),i=0,o=t,s&&(s=!1,ja.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(b){s=!0,ja.logger.warn(`Eppo SDK encountered an error polling configurations: ${b.message}`);let _=1+(r?.maxPollRetries??i7.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<_){let T=Math.pow(2,i),M=Zpe(t);o=T*t+M,ja.logger.warn(`Eppo SDK will try polling again in ${o} ms (${_-i} attempts remaining)`)}else ja.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),d()}setTimeout(g,o)}}return{start:l,stop:d}}function Zpe(t){let e=t*i7.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*i7.POLL_JITTER_PCT/2),1);return e+r}});var s7=F(p3=>{"use strict";h();p();Object.defineProperty(p3,"__esModule",{value:!0});p3.InvalidArgumentError=void 0;p3.validateNotBlank=wJe;var o7=class extends Error{};p3.InvalidArgumentError=o7;function wJe(t,e){if(t==null||t.length===0)throw new o7(e)}});var Qpe=F((ZJt,SJe)=>{SJe.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var gH=F(a7=>{"use strict";h();p();Object.defineProperty(a7,"__esModule",{value:!0});a7.LIB_VERSION=void 0;var EJe=Qpe();a7.LIB_VERSION=EJe.version});var t7=F(y3=>{"use strict";h();p();Object.defineProperty(y3,"__esModule",{value:!0});y3.checkTypeMatch=nme;y3.checkValueTypeMatch=LJe;var _Je=Ihe(),AJe=EI(),Zn=Qu(),fy=gq(),TJe=Mhe(),IJe=MI(),Xpe=PI(),MJe=Phe(),Jpe=Nhe(),kJe=Rq(),m3=md(),PJe=HI(),uy=Fhe(),c7=$pe(),eme=fH(),RJe=dH(),tme=Lq(),BJe=Fq(),CJe=n7(),Ju=xd(),NJe=gd(),OJe=yH(),rme=s7(),DJe=gH(),bH=class{constructor({eventDispatcher:e=new RJe.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:o,configurationRequestParameters:s}){this.assignmentEventsQueue=new eme.BoundedEventQueue("assignments"),this.banditEventsQueue=new eme.BoundedEventQueue("bandit"),this.banditEvaluator=new TJe.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new c7.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=o,this.configurationRequestParameters=s,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=m3.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=m3.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=m3.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:d=!1,throwOnFailedInitialization:g=!1,skipInitialPoll:b=!1}=this.configurationRequestParameters,{pollingIntervalMs:_=m3.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;_<=0&&(Zn.logger.error("pollingIntervalMs must be greater than 0. Using default"),_=m3.DEFAULT_POLL_INTERVAL_MS);let T=new AJe.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),M=new CJe.default(T,o),k=new kJe.default(M,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),B=async()=>{if(await this.flagConfigurationStore.isExpired())return k.fetchAndStoreConfigurations()};this.requestPoller=(0,OJe.default)(_,B,{maxStartRetries:s,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:d,errorOnFailedStart:g,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,uy.EppoValue.String(i),Ju.VariationType.STRING);return{variation:o.stringValue??i,action:null,evaluationDetails:s}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,uy.EppoValue.Bool(i),Ju.VariationType.BOOLEAN);return{variation:o.boolValue??i,action:null,evaluationDetails:s}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,uy.EppoValue.Numeric(i),Ju.VariationType.INTEGER);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,uy.EppoValue.Numeric(i),Ju.VariationType.NUMERIC);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,uy.EppoValue.JSON(i),Ju.VariationType.JSON);return{variation:o.objectValue??i,action:null,evaluationDetails:s}}getBanditAction(e,r,n,i,o){let{variation:s,action:c}=this.getBanditActionDetails(e,r,n,i,o);return{variation:s,action:c}}getBestAction(e,r,n,i){let o=null,c=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(c){let l=this.getBandit(c);if(l){let d=(0,fy.ensureContextualSubjectAttributes)(r),g=(0,fy.ensureActionsWithContextualAttributes)(n);o=this.banditEvaluator.evaluateBestBanditAction(d,g,l.modelData)}}return o??i}getBanditActionDetails(e,r,n,i,o){let s=o,c=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let d=(0,fy.ensureNonContextualSubjectAttributes)(n),{variation:g,evaluationDetails:b}=this.getStringAssignmentDetails(e,r,d,o);s=g,l=b;let _=this.findBanditByVariation(e,s);if(!_)return{variation:s,action:null,evaluationDetails:l};l.banditKey=_.banditKey;let T=this.evaluateBanditAction(e,r,n,i,_.modelData);if(T?.actionKey){c=T.actionKey;let M={timestamp:new Date().toISOString(),featureFlag:e,bandit:_.banditKey,subject:r,action:c,actionProbability:T.actionWeight,optimalityGap:T.optimalityGap,modelVersion:_.modelVersion,subjectNumericAttributes:T.subjectAttributes.numericAttributes,subjectCategoricalAttributes:T.subjectAttributes.categoricalAttributes,actionNumericAttributes:T.actionAttributes.numericAttributes,actionCategoricalAttributes:T.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(M)}catch(k){Zn.logger.error("Error logging bandit event",k)}l.banditAction=c}}catch(d){if(Zn.logger.error("Error determining bandit action",d),!this.isGracefulFailureMode)throw d;s&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${d.message}`}return{variation:s,action:c,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:o,treatmentVariationEntries:s}=e,c=this.getStringAssignment(i,r,n,"control");if(c==="control")return o;if(!c.startsWith("treatment-"))return Zn.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),o;let l=Number.parseInt(c.split("-")[1])-1;return isNaN(l)?(Zn.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),o):l>=s.length?(Zn.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),o):s[l]}evaluateBanditAction(e,r,n,i,o){if(!Object.keys(i).length)return null;let s=(0,fy.ensureContextualSubjectAttributes)(n),c=(0,fy.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,s,c,o)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(c){Zn.logger.warn("Error encountered logging bandit action",c)}}getAssignmentVariation(e,r,n,i,o){try{let s=this.getAssignmentDetail(e,r,n,o);return this.parseVariationWithDetails(s,i,o)}catch(s){let c=this.rethrowIfNotGraceful(s,i);if(s instanceof BJe.FlagEvaluationError&&s.flagEvaluationDetails)return{eppoValue:c,flagEvaluationDetails:s.flagEvaluationDetails};{let l=new tme.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${s.message}`);return{eppoValue:c,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:uy.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(o){return{eppoValue:this.rethrowIfNotGraceful(o,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return Zn.logger.error(`${Zn.loggerPrefix} Error getting assignment: ${e.message}`),r??uy.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),o={};return i.forEach(s=>{let c=this.getFlag(s);if(!c){Zn.logger.debug(`${Zn.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(c,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){Zn.logger.debug(`${Zn.loggerPrefix} No assigned variation: ${s}`);return}o[s]={flagKey:s,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:c.variationType,variationValue:l.variation.value.toString()}}),o}getPrecomputedConfiguration(e,r={},n={},i){let o=this.getConfigDetails(),s=(0,fy.ensureContextualSubjectAttributes)(r),c=(0,fy.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,c),d=this.computeBanditsForFlags(e,s,n,l),g=Jpe.PrecomputedConfiguration.obfuscated(e,l,d,i??"",s,o.configEnvironment),b=new Jpe.ConfigurationWireV1(g);return JSON.stringify(b)}getAssignmentDetail(e,r,n={},i){(0,rme.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,rme.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.newFlagEvaluationDetailsBuilder(e),s=this.getConfigDetails(),c=this.getFlag(e);if(c===null){Zn.logger.warn(`${Zn.loggerPrefix} No assigned variation. Flag not found: ${e}`);let d=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,c7.noneResult)(e,r,n,d,s.configFormat)}if(!nme(i,c.variationType)){let d=`Variation value does not have the correct type. Found ${c.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let g=o.buildForNoneResult("TYPE_MISMATCH",d);return(0,c7.noneResult)(e,r,n,g,s.configFormat)}throw new TypeError(d)}if(!c.enabled){Zn.logger.info(`${Zn.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let d=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,c7.noneResult)(e,r,n,d,s.configFormat)}let l=this.evaluator.evaluateFlag(c,s,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(d){Zn.logger.error(`${Zn.loggerPrefix} Error logging assignment event: ${d}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,_Je.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new tme.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,NJe.getMD5Hash)(e));return r?(0,PJe.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new Xpe.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new IJe.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new Xpe.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new MJe.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(o){Zn.logger.error(`${Zn.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:o,subjectAttributes:s,variation:c}=e,l={...e.extraLogging??{},allocation:o??null,experiment:o?`${r}-${o}`:null,featureFlag:r,format:n,variation:c?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(c&&o&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:o,variationKey:c.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:o??"__eppo_no_allocation",variationKey:c?.key??"__eppo_no_variation"})}catch(d){Zn.logger.error(`${Zn.loggerPrefix} Error logging assignment event: ${d.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:DJe.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let o={};return Object.keys(n).forEach(s=>{let c=i[s];if(c){let l=this.getPrecomputedBandit(s,c.variationValue,e,r,n[s]);l&&(o[s]=l)}}),o}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(o=>o.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,o){let s=this.findBanditByVariation(e,r);if(!s)return null;let c=this.evaluateBanditAction(e,n,i,o,s.modelData);return c?{banditKey:s.banditKey,action:c.actionKey,actionNumericAttributes:c.actionAttributes.numericAttributes,actionCategoricalAttributes:c.actionAttributes.categoricalAttributes,actionProbability:c.actionWeight,modelVersion:s.modelVersion,optimalityGap:c.optimalityGap}:null}};y3.default=bH;function nme(t,e){return t===void 0||e===t}function LJe(t,e){if(t==null)return!0;switch(t){case Ju.VariationType.STRING:return typeof e=="string";case Ju.VariationType.BOOLEAN:return typeof e=="boolean";case Ju.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case Ju.VariationType.NUMERIC:return typeof e=="number";case Ju.VariationType.JSON:return typeof e=="string";default:return!1}}});var sme=F(xH=>{"use strict";h();p();Object.defineProperty(xH,"__esModule",{value:!0});var ime=Iq(),ome=xd(),vH=class{constructor(e,r,n,i,o,s){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=o,this.banditActions=s}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,ime.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:ome.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,ime.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:ome.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};xH.default=vH});var ume=F(SH=>{"use strict";h();p();Object.defineProperty(SH,"__esModule",{value:!0});var UJe=EI(),vn=Qu(),ame=gq(),FJe=MI(),qJe=PI(),ly=md(),cme=HI(),HJe=n7(),g3=xd(),fme=gd(),KJe=yH(),VJe=sme(),jJe=s7(),zJe=gH(),GJe=t7(),wH=class{constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,ame.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||vn.logger.error(`${vn.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&vn.logger.error(`${vn.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||vn.logger.error(`${vn.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&vn.logger.warn(`${vn.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=ly.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=ly.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=ly.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:d=!1,throwOnFailedInitialization:g=!1,skipInitialPoll:b=!1}=this.requestParameters,{subjectKey:_,subjectAttributes:T}=this.subject,{pollingIntervalMs:M=ly.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;M<=0&&(vn.logger.error("pollingIntervalMs must be greater than 0. Using default"),M=ly.DEFAULT_POLL_INTERVAL_MS);let k=new UJe.default({baseUrl:i??ly.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),B=new HJe.default(k,o),P=new VJe.default(B,this.precomputedFlagStore,_,T,this.precomputedBanditStore,this.banditActions),D=async()=>{if(await this.precomputedFlagStore.isExpired())return P.fetchAndStorePrecomputedFlags()};this.requestPoller=(0,KJe.default)(M,D,{maxStartRetries:s,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:d,errorOnFailedStart:g,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=o=>o){(0,jJe.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.getPrecomputedFlag(e);if(o==null)return vn.logger.warn(`${vn.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,GJe.checkTypeMatch)(n,o.variationType)){let c=`${vn.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${o.variationType}`;return vn.logger.error(c),r}let s={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,ame.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:o.variationKey??"",value:o.variationValue},allocationKey:o.allocationKey??"",extraLogging:o.extraLogging??{},doLog:o.doLog};try{s?.doLog&&this.logAssignment(s)}catch(c){vn.logger.error(`${vn.loggerPrefix} Error logging assignment event: ${c}`)}try{return s.variation?.value!==void 0?i(s.variation.value):r}catch(c){return vn.logger.error(`${vn.loggerPrefix} Error transforming value: ${c}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,g3.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,g3.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,g3.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,g3.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,g3.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return vn.logger.warn(`${vn.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),o={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(o)}catch(s){vn.logger.error(`${vn.loggerPrefix} Error logging bandit action: ${s}`)}return{variation:i,action:o.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,fme.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,cme.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,cme.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,fme.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new qJe.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new FJe.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(o){vn.logger.error(`${vn.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:o,variation:s,format:c}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:c,variation:s?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:o,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(s&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:s.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<ly.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:s?.key??"__eppo_no_variation"})}catch(d){vn.logger.error(`${vn.loggerPrefix} Error logging assignment event: ${d.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(c){vn.logger.warn("Error encountered logging bandit action",c)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:zJe.LIB_VERSION}}};SH.default=wH});var lme=F(u7=>{"use strict";h();p();Object.defineProperty(u7,"__esModule",{value:!0});u7.HybridConfigurationStore=void 0;var f7=Qu(),EH=class{constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||f7.logger.warn(`${f7.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||f7.logger.warn(`${f7.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};u7.HybridConfigurationStore=EH});var dme=F(Yb=>{"use strict";h();p();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.MemoryOnlyConfigurationStore=Yb.MemoryStore=void 0;var l7=class{constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};Yb.MemoryStore=l7;var _H=class{constructor(){this.servingStore=new l7,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};Yb.MemoryOnlyConfigurationStore=_H});var IH=F(TH=>{"use strict";h();p();Object.defineProperty(TH,"__esModule",{value:!0});var WJe=100,$Je=1e4,AH=class{constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(WJe,Math.min($Je,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};TH.default=AH});var hme=F(PH=>{"use strict";h();p();Object.defineProperty(PH,"__esModule",{value:!0});var MH=Qu(),kH=class{constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:o}=this.config,s=Math.min(n*Math.pow(2,r),i);MH.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${s}ms...`),await new Promise(l=>setTimeout(l,s));let{failedEvents:c}=await this.delivery.deliver(e);return c.length===0?(MH.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<o-1?this.retry(c,r+1):(MH.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${o} tries, bailing`),e)}};PH.default=kH});var pme=F(BH=>{"use strict";h();p();Object.defineProperty(BH,"__esModule",{value:!0});var d7=Qu(),RH=class{constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{d7.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return d7.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){d7.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(d7.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:o})=>i.has(o))}):{failedEvents:[]}}};BH.default=RH});var yme=F(NH=>{"use strict";h();p();Object.defineProperty(NH,"__esModule",{value:!0});var YJe=UF(),mme="v0/i",CH=class{decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=YJe.Base64.decode(r),o=new URLSearchParams(n).get("eh");if(!o)return null;let s=o.endsWith("/")?`${o}${mme}`:`${o}/${mme}`;return!s.startsWith("http://")&&!s.startsWith("https://")?`https://${s}`:s}};NH.default=CH});var gme=F(el=>{"use strict";h();p();Object.defineProperty(el,"__esModule",{value:!0});el.DEFAULT_EVENT_DISPATCHER_CONFIG=el.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;el.newDefaultEventDispatcher=tet;var Zb=Qu(),ZJe=IH(),QJe=hme(),XJe=pme(),JJe=dH(),eet=yme();el.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;el.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var h7=class{constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:o,retryIntervalMs:s,maxRetryDelayMs:c,maxRetries:l=3}=n;this.eventDelivery=new XJe.default(i,o),this.retryManager=new QJe.default(this.eventDelivery,{retryIntervalMs:s,maxRetryDelayMs:c,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(d=>{Zb.logger.info(`[EventDispatcher] Network status change, isOffline=${d}.`),this.isOffline=d,d?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){Zb.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){Zb.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}Zb.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(Zb.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};el.default=h7;function tet(t,e,r,n=el.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=el.DEFAULT_EVENT_DISPATCHER_CONFIG){let s=new eet.default().decodeEventIngestionUrl(r);return s?new h7(new ZJe.default(t,n),e,{...i,ingestionUrl:s,sdkKey:r}):(Zb.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new JJe.default)}});var wme=F(kt=>{"use strict";h();p();Object.defineProperty(kt,"__esModule",{value:!0});kt.decodePrecomputedFlag=kt.DefaultEventDispatcher=kt.BatchEventProcessor=kt.newDefaultEventDispatcher=kt.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=kt.DEFAULT_EVENT_DISPATCHER_CONFIG=kt.BoundedEventQueue=kt.FormatEnum=kt.VariationType=kt.assignmentCacheValueToString=kt.assignmentCacheKeyToString=kt.LRUInMemoryAssignmentCache=kt.NonExpiringInMemoryAssignmentCache=kt.MemoryOnlyConfigurationStore=kt.HybridConfigurationStore=kt.MemoryStore=kt.EppoPrecomputedClient=kt.validation=kt.HttpClient=kt.FlagConfigRequestor=kt.ApiEndpoints=kt.constants=kt.EppoClient=kt.AbstractAssignmentCache=kt.applicationLogger=kt.loggerPrefix=void 0;var ret=EI();kt.ApiEndpoints=ret.default;var bme=Qu();Object.defineProperty(kt,"applicationLogger",{enumerable:!0,get:function(){return bme.logger}});Object.defineProperty(kt,"loggerPrefix",{enumerable:!0,get:function(){return bme.loggerPrefix}});var OH=WS();Object.defineProperty(kt,"AbstractAssignmentCache",{enumerable:!0,get:function(){return OH.AbstractAssignmentCache}});Object.defineProperty(kt,"assignmentCacheKeyToString",{enumerable:!0,get:function(){return OH.assignmentCacheKeyToString}});Object.defineProperty(kt,"assignmentCacheValueToString",{enumerable:!0,get:function(){return OH.assignmentCacheValueToString}});var net=MI();Object.defineProperty(kt,"LRUInMemoryAssignmentCache",{enumerable:!0,get:function(){return net.LRUInMemoryAssignmentCache}});var iet=PI();Object.defineProperty(kt,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:function(){return iet.NonExpiringInMemoryAssignmentCache}});var oet=t7();kt.EppoClient=oet.default;var set=ume();kt.EppoPrecomputedClient=set.default;var aet=Rq();kt.FlagConfigRequestor=aet.default;var cet=lme();Object.defineProperty(kt,"HybridConfigurationStore",{enumerable:!0,get:function(){return cet.HybridConfigurationStore}});var vme=dme();Object.defineProperty(kt,"MemoryStore",{enumerable:!0,get:function(){return vme.MemoryStore}});Object.defineProperty(kt,"MemoryOnlyConfigurationStore",{enumerable:!0,get:function(){return vme.MemoryOnlyConfigurationStore}});var fet=md();kt.constants=fet;var uet=HI();Object.defineProperty(kt,"decodePrecomputedFlag",{enumerable:!0,get:function(){return uet.decodePrecomputedFlag}});var det=IH();kt.BatchEventProcessor=det.default;var het=fH();Object.defineProperty(kt,"BoundedEventQueue",{enumerable:!0,get:function(){return het.BoundedEventQueue}});var p7=gme();kt.DefaultEventDispatcher=p7.default;Object.defineProperty(kt,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:function(){return p7.DEFAULT_EVENT_DISPATCHER_CONFIG}});Object.defineProperty(kt,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:function(){return p7.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE}});Object.defineProperty(kt,"newDefaultEventDispatcher",{enumerable:!0,get:function(){return p7.newDefaultEventDispatcher}});var pet=n7();kt.HttpClient=pet.default;var xme=xd();Object.defineProperty(kt,"VariationType",{enumerable:!0,get:function(){return xme.VariationType}});Object.defineProperty(kt,"FormatEnum",{enumerable:!0,get:function(){return xme.FormatEnum}});var met=s7();kt.validation=met});var B1e=F((hwr,R1e)=>{h();p();var Eot=pEe(),_ot=Yk(),Aot="[object Date]";function Tot(t){return _ot(t)&&Eot(t)==Aot}R1e.exports=Tot});var D1e=F((ywr,O1e)=>{h();p();var Iot=B1e(),Mot=Zk(),C1e=Qk(),N1e=C1e&&C1e.isDate,kot=N1e?Mot(N1e):Iot;O1e.exports=kot});var sve=F((ETr,ove)=>{h();p();function _at(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}ove.exports=_at});var cve=F((TTr,ave)=>{h();p();var Aat=b6(),Tat=xW();function Iat(t,e){return t&&Aat(e,Tat(e),t)}ave.exports=Iat});var uve=F((kTr,fve)=>{h();p();var Mat=b6(),kat=Xk();function Pat(t,e){return t&&Mat(e,kat(e),t)}fve.exports=Pat});var dve=F((BTr,lve)=>{h();p();var Rat=b6(),Bat=wW();function Cat(t,e){return Rat(t,Bat(t),e)}lve.exports=Cat});var dj=F((OTr,hve)=>{h();p();var Nat=_Ee(),Oat=AEe(),Dat=wW(),Lat=EEe(),Uat=Object.getOwnPropertySymbols,Fat=Uat?function(t){for(var e=[];t;)Nat(e,Dat(t)),t=Oat(t);return e}:Lat;hve.exports=Fat});var mve=F((UTr,pve)=>{h();p();var qat=b6(),Hat=dj();function Kat(t,e){return qat(t,Hat(t),e)}pve.exports=Kat});var gve=F((HTr,yve)=>{h();p();var Vat=TEe(),jat=dj(),zat=Xk();function Gat(t){return Vat(t,zat,jat)}yve.exports=Gat});var vve=F((jTr,bve)=>{h();p();var Wat=Object.prototype,$at=Wat.hasOwnProperty;function Yat(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&$at.call(t,"index")&&(r.index=t.index,r.input=t.input),r}bve.exports=Yat});var wve=F((WTr,xve)=>{h();p();var Zat=SW();function Qat(t,e){var r=e?Zat(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}xve.exports=Qat});var Eve=F((ZTr,Sve)=>{h();p();var Xat=/\w*$/;function Jat(t){var e=new t.constructor(t.source,Xat.exec(t));return e.lastIndex=t.lastIndex,e}Sve.exports=Jat});var Mve=F((JTr,Ive)=>{h();p();var _ve=hEe(),Ave=_ve?_ve.prototype:void 0,Tve=Ave?Ave.valueOf:void 0;function ect(t){return Tve?Object(Tve.call(t)):{}}Ive.exports=ect});var Pve=F((rIr,kve)=>{h();p();var tct=SW(),rct=wve(),nct=Eve(),ict=Mve(),oct=MEe(),sct="[object Boolean]",act="[object Date]",cct="[object Map]",fct="[object Number]",uct="[object RegExp]",lct="[object Set]",dct="[object String]",hct="[object Symbol]",pct="[object ArrayBuffer]",mct="[object DataView]",yct="[object Float32Array]",gct="[object Float64Array]",bct="[object Int8Array]",vct="[object Int16Array]",xct="[object Int32Array]",wct="[object Uint8Array]",Sct="[object Uint8ClampedArray]",Ect="[object Uint16Array]",_ct="[object Uint32Array]";function Act(t,e,r){var n=t.constructor;switch(e){case pct:return tct(t);case sct:case act:return new n(+t);case mct:return rct(t,r);case yct:case gct:case bct:case vct:case xct:case wct:case Sct:case Ect:case _ct:return oct(t,r);case cct:return new n;case fct:case dct:return new n(t);case uct:return nct(t);case lct:return new n;case hct:return ict(t)}}kve.exports=Act});var Bve=F((oIr,Rve)=>{h();p();var Tct=Jk(),Ict=Yk(),Mct="[object Map]";function kct(t){return Ict(t)&&Tct(t)==Mct}Rve.exports=kct});var Dve=F((cIr,Ove)=>{h();p();var Pct=Bve(),Rct=Zk(),Cve=Qk(),Nve=Cve&&Cve.isMap,Bct=Nve?Rct(Nve):Pct;Ove.exports=Bct});var Uve=F((lIr,Lve)=>{h();p();var Cct=Jk(),Nct=Yk(),Oct="[object Set]";function Dct(t){return Nct(t)&&Cct(t)==Oct}Lve.exports=Dct});var Kve=F((pIr,Hve)=>{h();p();var Lct=Uve(),Uct=Zk(),Fve=Qk(),qve=Fve&&Fve.isSet,Fct=qve?Uct(qve):Lct;Hve.exports=Fct});var Wve=F((gIr,Gve)=>{h();p();var qct=gEe(),Hct=sve(),Kct=bEe(),Vct=cve(),jct=uve(),zct=wEe(),Gct=SEe(),Wct=dve(),$ct=mve(),Yct=IEe(),Zct=gve(),Qct=Jk(),Xct=vve(),Jct=Pve(),eft=kEe(),tft=vEe(),rft=xEe(),nft=Dve(),ift=yEe(),oft=Kve(),sft=xW(),aft=Xk(),cft=1,fft=2,uft=4,Vve="[object Arguments]",lft="[object Array]",dft="[object Boolean]",hft="[object Date]",pft="[object Error]",jve="[object Function]",mft="[object GeneratorFunction]",yft="[object Map]",gft="[object Number]",zve="[object Object]",bft="[object RegExp]",vft="[object Set]",xft="[object String]",wft="[object Symbol]",Sft="[object WeakMap]",Eft="[object ArrayBuffer]",_ft="[object DataView]",Aft="[object Float32Array]",Tft="[object Float64Array]",Ift="[object Int8Array]",Mft="[object Int16Array]",kft="[object Int32Array]",Pft="[object Uint8Array]",Rft="[object Uint8ClampedArray]",Bft="[object Uint16Array]",Cft="[object Uint32Array]",xn={};xn[Vve]=xn[lft]=xn[Eft]=xn[_ft]=xn[dft]=xn[hft]=xn[Aft]=xn[Tft]=xn[Ift]=xn[Mft]=xn[kft]=xn[yft]=xn[gft]=xn[zve]=xn[bft]=xn[vft]=xn[xft]=xn[wft]=xn[Pft]=xn[Rft]=xn[Bft]=xn[Cft]=!0;xn[pft]=xn[jve]=xn[Sft]=!1;function pM(t,e,r,n,i,o){var s,c=e&cft,l=e&fft,d=e&uft;if(r&&(s=i?r(t,n,i,o):r(t)),s!==void 0)return s;if(!ift(t))return t;var g=tft(t);if(g){if(s=Xct(t),!c)return Gct(t,s)}else{var b=Qct(t),_=b==jve||b==mft;if(rft(t))return zct(t,c);if(b==zve||b==Vve||_&&!i){if(s=l||_?{}:eft(t),!c)return l?$ct(t,jct(s,t)):Wct(t,Vct(s,t))}else{if(!xn[b])return i?t:{};s=Jct(t,b,c)}}o||(o=new qct);var T=o.get(t);if(T)return T;o.set(t,s),oft(t)?t.forEach(function(B){s.add(pM(B,e,r,B,t,o))}):nft(t)&&t.forEach(function(B,P){s.set(P,pM(B,e,r,P,t,o))});var M=d?l?Zct:Yct:l?aft:sft,k=g?void 0:M(t);return Hct(k||t,function(B,P){k&&(P=B,B=t[P]),Kct(s,P,pM(B,e,r,P,t,o))}),s}Gve.exports=pM});var Uft=F((xIr,$ve)=>{h();p();var Nft=Wve(),Oft=1,Dft=4;function Lft(t){return Nft(t,Oft|Dft)}$ve.exports=Lft});var az=F((m9r,dwe)=>{"use strict";h();p();dwe.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var kE=F((b9r,hwe)=>{"use strict";h();p();var Slt=az();hwe.exports=function(){return Slt()&&!!Symbol.toStringTag}});var PE=F((w9r,mwe)=>{"use strict";h();p();var pwe=typeof Symbol<"u"&&Symbol,Elt=az();mwe.exports=function(){return typeof pwe!="function"||typeof Symbol!="function"||typeof pwe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Elt()}});var gwe=F((_9r,ywe)=>{"use strict";h();p();var _lt="Function.prototype.bind called on incompatible ",cz=Array.prototype.slice,Alt=Object.prototype.toString,Tlt="[object Function]";ywe.exports=function(e){var r=this;if(typeof r!="function"||Alt.call(r)!==Tlt)throw new TypeError(_lt+r);for(var n=cz.call(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,n.concat(cz.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(cz.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i}});var vwe=F((I9r,bwe)=>{"use strict";h();p();var Ilt=gwe();bwe.exports=Function.prototype.bind||Ilt});var wwe=F((P9r,xwe)=>{"use strict";h();p();var Mlt="Function.prototype.bind called on incompatible ",fz=Array.prototype.slice,klt=Object.prototype.toString,Plt="[object Function]";xwe.exports=function(e){var r=this;if(typeof r!="function"||klt.call(r)!==Plt)throw new TypeError(Mlt+r);for(var n=fz.call(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,n.concat(fz.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(fz.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i}});var Ewe=F((C9r,Swe)=>{"use strict";h();p();var Rlt=wwe();Swe.exports=Function.prototype.bind||Rlt});var RE=F((D9r,_we)=>{"use strict";h();p();var Blt=Ewe();_we.exports=Blt.call(Function.call,Object.prototype.hasOwnProperty)});var CE=F((F9r,Mwe)=>{"use strict";h();p();var Mr,ex=SyntaxError,Iwe=Function,Xv=TypeError,uz=function(t){try{return Iwe('"use strict"; return ('+t+").constructor;")()}catch{}},Fy=Object.getOwnPropertyDescriptor;if(Fy)try{Fy({},"")}catch{Fy=null}var lz=function(){throw new Xv},Clt=Fy?function(){try{return arguments.callee,lz}catch{try{return Fy(arguments,"callee").get}catch{return lz}}}():lz,Zv=PE()(),hp=Object.getPrototypeOf||function(t){return t.__proto__},Qv={},Nlt=typeof Uint8Array>"u"?Mr:hp(Uint8Array),Jv={"%AggregateError%":typeof AggregateError>"u"?Mr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Mr:ArrayBuffer,"%ArrayIteratorPrototype%":Zv?hp([][Symbol.iterator]()):Mr,"%AsyncFromSyncIteratorPrototype%":Mr,"%AsyncFunction%":Qv,"%AsyncGenerator%":Qv,"%AsyncGeneratorFunction%":Qv,"%AsyncIteratorPrototype%":Qv,"%Atomics%":typeof Atomics>"u"?Mr:Atomics,"%BigInt%":typeof BigInt>"u"?Mr:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Mr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Mr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Mr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Mr:FinalizationRegistry,"%Function%":Iwe,"%GeneratorFunction%":Qv,"%Int8Array%":typeof Int8Array>"u"?Mr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Mr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Mr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zv?hp(hp([][Symbol.iterator]())):Mr,"%JSON%":typeof JSON=="object"?JSON:Mr,"%Map%":typeof Map>"u"?Mr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zv?Mr:hp(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Mr:Promise,"%Proxy%":typeof Proxy>"u"?Mr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Mr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Mr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zv?Mr:hp(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Mr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zv?hp(""[Symbol.iterator]()):Mr,"%Symbol%":Zv?Symbol:Mr,"%SyntaxError%":ex,"%ThrowTypeError%":Clt,"%TypedArray%":Nlt,"%TypeError%":Xv,"%Uint8Array%":typeof Uint8Array>"u"?Mr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Mr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Mr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Mr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Mr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Mr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Mr:WeakSet},Olt=function t(e){var r;if(e==="%AsyncFunction%")r=uz("async function () {}");else if(e==="%GeneratorFunction%")r=uz("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=uz("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=hp(i.prototype))}return Jv[e]=r,r},Awe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},BE=vwe(),ek=RE(),Dlt=BE.call(Function.call,Array.prototype.concat),Llt=BE.call(Function.apply,Array.prototype.splice),Twe=BE.call(Function.call,String.prototype.replace),tk=BE.call(Function.call,String.prototype.slice),Ult=BE.call(Function.call,RegExp.prototype.exec),Flt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,qlt=/\\(\\)?/g,Hlt=function(e){var r=tk(e,0,1),n=tk(e,-1);if(r==="%"&&n!=="%")throw new ex("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ex("invalid intrinsic syntax, expected opening `%`");var i=[];return Twe(e,Flt,function(o,s,c,l){i[i.length]=c?Twe(l,qlt,"$1"):s||o}),i},Klt=function(e,r){var n=e,i;if(ek(Awe,n)&&(i=Awe[n],n="%"+i[0]+"%"),ek(Jv,n)){var o=Jv[n];if(o===Qv&&(o=Olt(n)),typeof o>"u"&&!r)throw new Xv("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new ex("intrinsic "+e+" does not exist!")};Mwe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Xv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xv('"allowMissing" argument must be a boolean');if(Ult(/^%?[^%]*%?$/,e)===null)throw new ex("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Hlt(e),i=n.length>0?n[0]:"",o=Klt("%"+i+"%",r),s=o.name,c=o.value,l=!1,d=o.alias;d&&(i=d[0],Llt(n,Dlt([0,1],d)));for(var g=1,b=!0;g<n.length;g+=1){var _=n[g],T=tk(_,0,1),M=tk(_,-1);if((T==='"'||T==="'"||T==="`"||M==='"'||M==="'"||M==="`")&&T!==M)throw new ex("property names with quotes must have matching quotes");if((_==="constructor"||!b)&&(l=!0),i+="."+_,s="%"+i+"%",ek(Jv,s))c=Jv[s];else if(c!=null){if(!(_ in c)){if(!r)throw new Xv("base intrinsic for "+e+" exists, but the property is not available.");return}if(Fy&&g+1>=n.length){var k=Fy(c,_);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[_]}else b=ek(c,_),c=c[_];b&&!l&&(Jv[s]=c)}}return c}});var Pwe=F((K9r,kwe)=>{"use strict";h();p();var Vlt="Function.prototype.bind called on incompatible ",dz=Array.prototype.slice,jlt=Object.prototype.toString,zlt="[object Function]";kwe.exports=function(e){var r=this;if(typeof r!="function"||jlt.call(r)!==zlt)throw new TypeError(Vlt+r);for(var n=dz.call(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,n.concat(dz.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(dz.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i}});var Bwe=F((z9r,Rwe)=>{"use strict";h();p();var Glt=Pwe();Rwe.exports=Function.prototype.bind||Glt});var nk=F(($9r,rk)=>{"use strict";h();p();var hz=Bwe(),tx=CE(),Owe=tx("%Function.prototype.apply%"),Dwe=tx("%Function.prototype.call%"),Lwe=tx("%Reflect.apply%",!0)||hz.call(Dwe,Owe),Cwe=tx("%Object.getOwnPropertyDescriptor%",!0),qy=tx("%Object.defineProperty%",!0),Wlt=tx("%Math.max%");if(qy)try{qy({},"a",{value:1})}catch{qy=null}rk.exports=function(e){var r=Lwe(hz,Dwe,arguments);if(Cwe&&qy){var n=Cwe(r,"length");n.configurable&&qy(r,"length",{value:1+Wlt(0,e.length-(arguments.length-1))})}return r};var Nwe=function(){return Lwe(hz,Owe,arguments)};qy?qy(rk.exports,"apply",{value:Nwe}):rk.exports.apply=Nwe});var pz=F((Q9r,qwe)=>{"use strict";h();p();var Uwe=CE(),Fwe=nk(),$lt=Fwe(Uwe("String.prototype.indexOf"));qwe.exports=function(e,r){var n=Uwe(e,!!r);return typeof n=="function"&&$lt(e,".prototype.")>-1?Fwe(n):n}});var Vwe=F((eMr,Kwe)=>{"use strict";h();p();var Ylt=kE()(),Zlt=pz(),mz=Zlt("Object.prototype.toString"),ik=function(e){return Ylt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:mz(e)==="[object Arguments]"},Hwe=function(e){return ik(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&mz(e)!=="[object Array]"&&mz(e.callee)==="[object Function]"},Qlt=function(){return ik(arguments)}();ik.isLegacyArguments=Hwe;Kwe.exports=Qlt?ik:Hwe});var Gwe=F((nMr,zwe)=>{"use strict";h();p();var Xlt=Object.prototype.toString,Jlt=Function.prototype.toString,edt=/^\s*(?:function)?\*/,jwe=kE()(),yz=Object.getPrototypeOf,tdt=function(){if(!jwe)return!1;try{return Function("return function*() {}")()}catch{}},gz;zwe.exports=function(e){if(typeof e!="function")return!1;if(edt.test(Jlt.call(e)))return!0;if(!jwe){var r=Xlt.call(e);return r==="[object GeneratorFunction]"}if(!yz)return!1;if(typeof gz>"u"){var n=tdt();gz=n?yz(n):!1}return yz(e)===gz}});var Zwe=F((sMr,Ywe)=>{"use strict";h();p();var $we=Function.prototype.toString,rx=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,vz,ok;if(typeof rx=="function"&&typeof Object.defineProperty=="function")try{vz=Object.defineProperty({},"length",{get:function(){throw ok}}),ok={},rx(function(){throw 42},null,vz)}catch(t){t!==ok&&(rx=null)}else rx=null;var rdt=/^\s*class\b/,xz=function(e){try{var r=$we.call(e);return rdt.test(r)}catch{return!1}},bz=function(e){try{return xz(e)?!1:($we.call(e),!0)}catch{return!1}},sk=Object.prototype.toString,ndt="[object Object]",idt="[object Function]",odt="[object GeneratorFunction]",sdt="[object HTMLAllCollection]",adt="[object HTML document.all class]",cdt="[object HTMLCollection]",fdt=typeof Symbol=="function"&&!!Symbol.toStringTag,udt=!(0 in[,]),wz=function(){return!1};typeof document=="object"&&(Wwe=document.all,sk.call(Wwe)===sk.call(document.all)&&(wz=function(e){if((udt||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=sk.call(e);return(r===sdt||r===adt||r===cdt||r===ndt)&&e("")==null}catch{}return!1}));var Wwe;Ywe.exports=rx?function(e){if(wz(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{rx(e,null,vz)}catch(r){if(r!==ok)return!1}return!xz(e)&&bz(e)}:function(e){if(wz(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(fdt)return bz(e);if(xz(e))return!1;var r=sk.call(e);return r!==idt&&r!==odt&&!/^\[object HTML/.test(r)?!1:bz(e)}});var Jwe=F((fMr,Xwe)=>{"use strict";h();p();var ldt=Zwe(),ddt=Object.prototype.toString,Qwe=Object.prototype.hasOwnProperty,hdt=function(e,r,n){for(var i=0,o=e.length;i<o;i++)Qwe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},pdt=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},mdt=function(e,r,n){for(var i in e)Qwe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},ydt=function(e,r,n){if(!ldt(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),ddt.call(e)==="[object Array]"?hdt(e,r,i):typeof e=="string"?pdt(e,r,i):mdt(e,r,i)};Xwe.exports=ydt});var Ez=F((dMr,e2e)=>{"use strict";h();p();var Sz=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],gdt=typeof globalThis>"u"?self:globalThis;e2e.exports=function(){for(var e=[],r=0;r<Sz.length;r++)typeof gdt[Sz[r]]=="function"&&(e[e.length]=Sz[r]);return e}});var n2e=F((mMr,r2e)=>{"use strict";h();p();var bdt="Function.prototype.bind called on incompatible ",vdt=Object.prototype.toString,xdt=Math.max,wdt="[object Function]",t2e=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Sdt=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},Edt=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};r2e.exports=function(e){var r=this;if(typeof r!="function"||vdt.apply(r)!==wdt)throw new TypeError(bdt+r);for(var n=Sdt(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,t2e(n,arguments));return Object(g)===g?g:this}return r.apply(e,t2e(n,arguments))},s=xdt(0,r.length-n.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(i=Function("binder","return function ("+Edt(c,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i}});var o2e=F((bMr,i2e)=>{"use strict";h();p();var _dt=n2e();i2e.exports=Function.prototype.bind||_dt});var ak=F((wMr,a2e)=>{"use strict";h();p();var s2e={foo:{}},Adt=Object;a2e.exports=function(){return{__proto__:s2e}.foo===s2e.foo&&!({__proto__:null}instanceof Adt)}});var f2e=F((_Mr,c2e)=>{"use strict";h();p();var Tdt="Function.prototype.bind called on incompatible ",_z=Array.prototype.slice,Idt=Object.prototype.toString,Mdt="[object Function]";c2e.exports=function(e){var r=this;if(typeof r!="function"||Idt.call(r)!==Mdt)throw new TypeError(Tdt+r);for(var n=_z.call(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,n.concat(_z.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(_z.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i}});var l2e=F((IMr,u2e)=>{"use strict";h();p();var kdt=f2e();u2e.exports=Function.prototype.bind||kdt});var Iz=F((PMr,y2e)=>{"use strict";h();p();var br,sx=SyntaxError,m2e=Function,ox=TypeError,Az=function(t){try{return m2e('"use strict"; return ('+t+").constructor;")()}catch{}},Hy=Object.getOwnPropertyDescriptor;if(Hy)try{Hy({},"")}catch{Hy=null}var Tz=function(){throw new ox},Pdt=Hy?function(){try{return arguments.callee,Tz}catch{try{return Hy(arguments,"callee").get}catch{return Tz}}}():Tz,nx=PE()(),Rdt=ak()(),go=Object.getPrototypeOf||(Rdt?function(t){return t.__proto__}:null),ix={},Bdt=typeof Uint8Array>"u"||!go?br:go(Uint8Array),Ky={"%AggregateError%":typeof AggregateError>"u"?br:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?br:ArrayBuffer,"%ArrayIteratorPrototype%":nx&&go?go([][Symbol.iterator]()):br,"%AsyncFromSyncIteratorPrototype%":br,"%AsyncFunction%":ix,"%AsyncGenerator%":ix,"%AsyncGeneratorFunction%":ix,"%AsyncIteratorPrototype%":ix,"%Atomics%":typeof Atomics>"u"?br:Atomics,"%BigInt%":typeof BigInt>"u"?br:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?br:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?br:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?br:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?br:Float32Array,"%Float64Array%":typeof Float64Array>"u"?br:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?br:FinalizationRegistry,"%Function%":m2e,"%GeneratorFunction%":ix,"%Int8Array%":typeof Int8Array>"u"?br:Int8Array,"%Int16Array%":typeof Int16Array>"u"?br:Int16Array,"%Int32Array%":typeof Int32Array>"u"?br:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nx&&go?go(go([][Symbol.iterator]())):br,"%JSON%":typeof JSON=="object"?JSON:br,"%Map%":typeof Map>"u"?br:Map,"%MapIteratorPrototype%":typeof Map>"u"||!nx||!go?br:go(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?br:Promise,"%Proxy%":typeof Proxy>"u"?br:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?br:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?br:Set,"%SetIteratorPrototype%":typeof Set>"u"||!nx||!go?br:go(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?br:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nx&&go?go(""[Symbol.iterator]()):br,"%Symbol%":nx?Symbol:br,"%SyntaxError%":sx,"%ThrowTypeError%":Pdt,"%TypedArray%":Bdt,"%TypeError%":ox,"%Uint8Array%":typeof Uint8Array>"u"?br:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?br:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?br:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?br:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?br:WeakMap,"%WeakRef%":typeof WeakRef>"u"?br:WeakRef,"%WeakSet%":typeof WeakSet>"u"?br:WeakSet};if(go)try{null.error}catch(t){d2e=go(go(t)),Ky["%Error.prototype%"]=d2e}var d2e,Cdt=function t(e){var r;if(e==="%AsyncFunction%")r=Az("async function () {}");else if(e==="%GeneratorFunction%")r=Az("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Az("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&go&&(r=go(i.prototype))}return Ky[e]=r,r},h2e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},NE=l2e(),ck=RE(),Ndt=NE.call(Function.call,Array.prototype.concat),Odt=NE.call(Function.apply,Array.prototype.splice),p2e=NE.call(Function.call,String.prototype.replace),fk=NE.call(Function.call,String.prototype.slice),Ddt=NE.call(Function.call,RegExp.prototype.exec),Ldt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Udt=/\\(\\)?/g,Fdt=function(e){var r=fk(e,0,1),n=fk(e,-1);if(r==="%"&&n!=="%")throw new sx("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new sx("invalid intrinsic syntax, expected opening `%`");var i=[];return p2e(e,Ldt,function(o,s,c,l){i[i.length]=c?p2e(l,Udt,"$1"):s||o}),i},qdt=function(e,r){var n=e,i;if(ck(h2e,n)&&(i=h2e[n],n="%"+i[0]+"%"),ck(Ky,n)){var o=Ky[n];if(o===ix&&(o=Cdt(n)),typeof o>"u"&&!r)throw new ox("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new sx("intrinsic "+e+" does not exist!")};y2e.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new ox("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ox('"allowMissing" argument must be a boolean');if(Ddt(/^%?[^%]*%?$/,e)===null)throw new sx("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Fdt(e),i=n.length>0?n[0]:"",o=qdt("%"+i+"%",r),s=o.name,c=o.value,l=!1,d=o.alias;d&&(i=d[0],Odt(n,Ndt([0,1],d)));for(var g=1,b=!0;g<n.length;g+=1){var _=n[g],T=fk(_,0,1),M=fk(_,-1);if((T==='"'||T==="'"||T==="`"||M==='"'||M==="'"||M==="`")&&T!==M)throw new sx("property names with quotes must have matching quotes");if((_==="constructor"||!b)&&(l=!0),i+="."+_,s="%"+i+"%",ck(Ky,s))c=Ky[s];else if(c!=null){if(!(_ in c)){if(!r)throw new ox("base intrinsic for "+e+" exists, but the property is not available.");return}if(Hy&&g+1>=n.length){var k=Hy(c,_);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[_]}else b=ck(c,_),c=c[_];b&&!l&&(Ky[s]=c)}}return c}});var b2e=F((CMr,g2e)=>{"use strict";h();p();var Hdt="Function.prototype.bind called on incompatible ",Mz=Array.prototype.slice,Kdt=Object.prototype.toString,Vdt="[object Function]";g2e.exports=function(e){var r=this;if(typeof r!="function"||Kdt.call(r)!==Vdt)throw new TypeError(Hdt+r);for(var n=Mz.call(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,n.concat(Mz.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(Mz.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i}});var x2e=F((DMr,v2e)=>{"use strict";h();p();var jdt=b2e();v2e.exports=Function.prototype.bind||jdt});var T2e=F((FMr,A2e)=>{"use strict";h();p();var vr,ux=SyntaxError,_2e=Function,fx=TypeError,kz=function(t){try{return _2e('"use strict"; return ('+t+").constructor;")()}catch{}},Vy=Object.getOwnPropertyDescriptor;if(Vy)try{Vy({},"")}catch{Vy=null}var Pz=function(){throw new fx},zdt=Vy?function(){try{return arguments.callee,Pz}catch{try{return Vy(arguments,"callee").get}catch{return Pz}}}():Pz,ax=PE()(),Gdt=ak()(),bo=Object.getPrototypeOf||(Gdt?function(t){return t.__proto__}:null),cx={},Wdt=typeof Uint8Array>"u"||!bo?vr:bo(Uint8Array),jy={"%AggregateError%":typeof AggregateError>"u"?vr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?vr:ArrayBuffer,"%ArrayIteratorPrototype%":ax&&bo?bo([][Symbol.iterator]()):vr,"%AsyncFromSyncIteratorPrototype%":vr,"%AsyncFunction%":cx,"%AsyncGenerator%":cx,"%AsyncGeneratorFunction%":cx,"%AsyncIteratorPrototype%":cx,"%Atomics%":typeof Atomics>"u"?vr:Atomics,"%BigInt%":typeof BigInt>"u"?vr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?vr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?vr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?vr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?vr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?vr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?vr:FinalizationRegistry,"%Function%":_2e,"%GeneratorFunction%":cx,"%Int8Array%":typeof Int8Array>"u"?vr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?vr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?vr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ax&&bo?bo(bo([][Symbol.iterator]())):vr,"%JSON%":typeof JSON=="object"?JSON:vr,"%Map%":typeof Map>"u"?vr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ax||!bo?vr:bo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?vr:Promise,"%Proxy%":typeof Proxy>"u"?vr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?vr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?vr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ax||!bo?vr:bo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?vr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ax&&bo?bo(""[Symbol.iterator]()):vr,"%Symbol%":ax?Symbol:vr,"%SyntaxError%":ux,"%ThrowTypeError%":zdt,"%TypedArray%":Wdt,"%TypeError%":fx,"%Uint8Array%":typeof Uint8Array>"u"?vr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?vr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?vr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?vr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?vr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?vr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?vr:WeakSet};if(bo)try{null.error}catch(t){w2e=bo(bo(t)),jy["%Error.prototype%"]=w2e}var w2e,$dt=function t(e){var r;if(e==="%AsyncFunction%")r=kz("async function () {}");else if(e==="%GeneratorFunction%")r=kz("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=kz("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&bo&&(r=bo(i.prototype))}return jy[e]=r,r},S2e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},OE=x2e(),uk=RE(),Ydt=OE.call(Function.call,Array.prototype.concat),Zdt=OE.call(Function.apply,Array.prototype.splice),E2e=OE.call(Function.call,String.prototype.replace),lk=OE.call(Function.call,String.prototype.slice),Qdt=OE.call(Function.call,RegExp.prototype.exec),Xdt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Jdt=/\\(\\)?/g,eht=function(e){var r=lk(e,0,1),n=lk(e,-1);if(r==="%"&&n!=="%")throw new ux("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ux("invalid intrinsic syntax, expected opening `%`");var i=[];return E2e(e,Xdt,function(o,s,c,l){i[i.length]=c?E2e(l,Jdt,"$1"):s||o}),i},tht=function(e,r){var n=e,i;if(uk(S2e,n)&&(i=S2e[n],n="%"+i[0]+"%"),uk(jy,n)){var o=jy[n];if(o===cx&&(o=$dt(n)),typeof o>"u"&&!r)throw new fx("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new ux("intrinsic "+e+" does not exist!")};A2e.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new fx("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new fx('"allowMissing" argument must be a boolean');if(Qdt(/^%?[^%]*%?$/,e)===null)throw new ux("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=eht(e),i=n.length>0?n[0]:"",o=tht("%"+i+"%",r),s=o.name,c=o.value,l=!1,d=o.alias;d&&(i=d[0],Zdt(n,Ydt([0,1],d)));for(var g=1,b=!0;g<n.length;g+=1){var _=n[g],T=lk(_,0,1),M=lk(_,-1);if((T==='"'||T==="'"||T==="`"||M==='"'||M==="'"||M==="`")&&T!==M)throw new ux("property names with quotes must have matching quotes");if((_==="constructor"||!b)&&(l=!0),i+="."+_,s="%"+i+"%",uk(jy,s))c=jy[s];else if(c!=null){if(!(_ in c)){if(!r)throw new fx("base intrinsic for "+e+" exists, but the property is not available.");return}if(Vy&&g+1>=n.length){var k=Vy(c,_);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[_]}else b=uk(c,_),c=c[_];b&&!l&&(jy[s]=c)}}return c}});var dk=F((KMr,I2e)=>{"use strict";h();p();var rht=CE(),Rz=rht("%Object.defineProperty%",!0),Bz=function(){if(Rz)try{return Rz({},"a",{value:1}),!0}catch{return!1}return!1};Bz.hasArrayLengthDefineBug=function(){if(!Bz())return null;try{return Rz([],"length",{value:1}).length!==1}catch{return!0}};I2e.exports=Bz});var k2e=F((zMr,M2e)=>{"use strict";h();p();var nht="Function.prototype.bind called on incompatible ",Cz=Array.prototype.slice,iht=Object.prototype.toString,oht="[object Function]";M2e.exports=function(e){var r=this;if(typeof r!="function"||iht.call(r)!==oht)throw new TypeError(nht+r);for(var n=Cz.call(arguments,1),i,o=function(){if(this instanceof i){var g=r.apply(this,n.concat(Cz.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(Cz.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i}});var R2e=F(($Mr,P2e)=>{"use strict";h();p();var sht=k2e();P2e.exports=Function.prototype.bind||sht});var L2e=F((QMr,D2e)=>{"use strict";h();p();var xr,px=SyntaxError,O2e=Function,hx=TypeError,Nz=function(t){try{return O2e('"use strict"; return ('+t+").constructor;")()}catch{}},zy=Object.getOwnPropertyDescriptor;if(zy)try{zy({},"")}catch{zy=null}var Oz=function(){throw new hx},aht=zy?function(){try{return arguments.callee,Oz}catch{try{return zy(arguments,"callee").get}catch{return Oz}}}():Oz,lx=PE()(),cht=ak()(),vo=Object.getPrototypeOf||(cht?function(t){return t.__proto__}:null),dx={},fht=typeof Uint8Array>"u"||!vo?xr:vo(Uint8Array),Gy={"%AggregateError%":typeof AggregateError>"u"?xr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?xr:ArrayBuffer,"%ArrayIteratorPrototype%":lx&&vo?vo([][Symbol.iterator]()):xr,"%AsyncFromSyncIteratorPrototype%":xr,"%AsyncFunction%":dx,"%AsyncGenerator%":dx,"%AsyncGeneratorFunction%":dx,"%AsyncIteratorPrototype%":dx,"%Atomics%":typeof Atomics>"u"?xr:Atomics,"%BigInt%":typeof BigInt>"u"?xr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?xr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?xr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?xr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?xr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?xr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?xr:FinalizationRegistry,"%Function%":O2e,"%GeneratorFunction%":dx,"%Int8Array%":typeof Int8Array>"u"?xr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?xr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?xr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":lx&&vo?vo(vo([][Symbol.iterator]())):xr,"%JSON%":typeof JSON=="object"?JSON:xr,"%Map%":typeof Map>"u"?xr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!lx||!vo?xr:vo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?xr:Promise,"%Proxy%":typeof Proxy>"u"?xr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?xr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?xr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!lx||!vo?xr:vo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?xr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":lx&&vo?vo(""[Symbol.iterator]()):xr,"%Symbol%":lx?Symbol:xr,"%SyntaxError%":px,"%ThrowTypeError%":aht,"%TypedArray%":fht,"%TypeError%":hx,"%Uint8Array%":typeof Uint8Array>"u"?xr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?xr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?xr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?xr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?xr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?xr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?xr:WeakSet};if(vo)try{null.error}catch(t){B2e=vo(vo(t)),Gy["%Error.prototype%"]=B2e}var B2e,uht=function t(e){var r;if(e==="%AsyncFunction%")r=Nz("async function () {}");else if(e==="%GeneratorFunction%")r=Nz("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Nz("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&vo&&(r=vo(i.prototype))}return Gy[e]=r,r},C2e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},DE=R2e(),hk=RE(),lht=DE.call(Function.call,Array.prototype.concat),dht=DE.call(Function.apply,Array.prototype.splice),N2e=DE.call(Function.call,String.prototype.replace),pk=DE.call(Function.call,String.prototype.slice),hht=DE.call(Function.call,RegExp.prototype.exec),pht=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mht=/\\(\\)?/g,yht=function(e){var r=pk(e,0,1),n=pk(e,-1);if(r==="%"&&n!=="%")throw new px("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new px("invalid intrinsic syntax, expected opening `%`");var i=[];return N2e(e,pht,function(o,s,c,l){i[i.length]=c?N2e(l,mht,"$1"):s||o}),i},ght=function(e,r){var n=e,i;if(hk(C2e,n)&&(i=C2e[n],n="%"+i[0]+"%"),hk(Gy,n)){var o=Gy[n];if(o===dx&&(o=uht(n)),typeof o>"u"&&!r)throw new hx("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new px("intrinsic "+e+" does not exist!")};D2e.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new hx("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new hx('"allowMissing" argument must be a boolean');if(hht(/^%?[^%]*%?$/,e)===null)throw new px("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=yht(e),i=n.length>0?n[0]:"",o=ght("%"+i+"%",r),s=o.name,c=o.value,l=!1,d=o.alias;d&&(i=d[0],dht(n,lht([0,1],d)));for(var g=1,b=!0;g<n.length;g+=1){var _=n[g],T=pk(_,0,1),M=pk(_,-1);if((T==='"'||T==="'"||T==="`"||M==='"'||M==="'"||M==="`")&&T!==M)throw new px("property names with quotes must have matching quotes");if((_==="constructor"||!b)&&(l=!0),i+="."+_,s="%"+i+"%",hk(Gy,s))c=Gy[s];else if(c!=null){if(!(_ in c)){if(!r)throw new hx("base intrinsic for "+e+" exists, but the property is not available.");return}if(zy&&g+1>=n.length){var k=zy(c,_);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[_]}else b=hk(c,_),c=c[_];b&&!l&&(Gy[s]=c)}}return c}});var LE=F((ekr,U2e)=>{"use strict";h();p();var bht=CE(),mk=bht("%Object.getOwnPropertyDescriptor%",!0);if(mk)try{mk([],"length")}catch{mk=null}U2e.exports=mk});var H2e=F((nkr,q2e)=>{"use strict";h();p();var vht=dk()(),Dz=L2e(),UE=vht&&Dz("%Object.defineProperty%",!0);if(UE)try{UE({},"a",{value:1})}catch{UE=!1}var xht=Dz("%SyntaxError%"),mx=Dz("%TypeError%"),F2e=LE();q2e.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new mx("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new mx("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new mx("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new mx("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new mx("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new mx("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,l=!!F2e&&F2e(e,r);if(UE)UE(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:o===null&&l?l.writable:!o});else if(c||!i&&!o&&!s)e[r]=n;else throw new xht("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var W2e=F((skr,G2e)=>{"use strict";h();p();var z2e=T2e(),K2e=H2e(),wht=dk()(),V2e=LE(),j2e=z2e("%TypeError%"),Sht=z2e("%Math.floor%");G2e.exports=function(e,r){if(typeof e!="function")throw new j2e("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Sht(r)!==r)throw new j2e("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&V2e){var s=V2e(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(wht?K2e(e,"length",r,!0,!0):K2e(e,"length",r)),e}});var Uz=F((fkr,yk)=>{"use strict";h();p();var Lz=o2e(),yx=Iz(),Eht=W2e(),_ht=yx("%TypeError%"),Y2e=yx("%Function.prototype.apply%"),Z2e=yx("%Function.prototype.call%"),Q2e=yx("%Reflect.apply%",!0)||Lz.call(Z2e,Y2e),FE=yx("%Object.defineProperty%",!0),Aht=yx("%Math.max%");if(FE)try{FE({},"a",{value:1})}catch{FE=null}yk.exports=function(e){if(typeof e!="function")throw new _ht("a function is required");var r=Q2e(Lz,Z2e,arguments);return Eht(r,1+Aht(0,e.length-(arguments.length-1)),!0)};var $2e=function(){return Q2e(Lz,Y2e,arguments)};FE?FE(yk.exports,"apply",{value:$2e}):yk.exports.apply=$2e});var tSe=F((dkr,eSe)=>{"use strict";h();p();var X2e=Iz(),J2e=Uz(),Tht=J2e(X2e("String.prototype.indexOf"));eSe.exports=function(e,r){var n=X2e(e,!!r);return typeof n=="function"&&Tht(e,".prototype.")>-1?J2e(n):n}});var sSe=F((mkr,oSe)=>{"use strict";h();p();var bk=Jwe(),Iht=Ez(),rSe=Uz(),Hz=tSe(),gk=LE(),Mht=Hz("Object.prototype.toString"),iSe=kE()(),nSe=typeof globalThis>"u"?self:globalThis,qz=Iht(),Kz=Hz("String.prototype.slice"),Fz=Object.getPrototypeOf,kht=Hz("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},vk={__proto__:null};iSe&&gk&&Fz?bk(qz,function(t){var e=new nSe[t];if(Symbol.toStringTag in e){var r=Fz(e),n=gk(r,Symbol.toStringTag);if(!n){var i=Fz(r);n=gk(i,Symbol.toStringTag)}vk["$"+t]=rSe(n.get)}}):bk(qz,function(t){var e=new nSe[t],r=e.slice||e.set;r&&(vk["$"+t]=rSe(r))});var Pht=function(e){var r=!1;return bk(vk,function(n,i){if(!r)try{"$"+n(e)===i&&(r=Kz(i,1))}catch{}}),r},Rht=function(e){var r=!1;return bk(vk,function(n,i){if(!r)try{n(e),r=Kz(i,1)}catch{}}),r};oSe.exports=function(e){if(!e||typeof e!="object")return!1;if(!iSe){var r=Kz(Mht(e),8,-1);return kht(qz,r)>-1?r:r!=="Object"?!1:Rht(e)}return gk?Pht(e):null}});var cSe=F((bkr,aSe)=>{h();p();var Bht=Object.prototype.hasOwnProperty,Cht=Object.prototype.toString;aSe.exports=function(e,r,n){if(Cht.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)r.call(n,e[o],o,e);else for(var s in e)Bht.call(e,s)&&r.call(n,e[s],s,e)}});var uSe=F((wkr,fSe)=>{"use strict";h();p();fSe.exports=LE()});var ySe=F((_kr,mSe)=>{"use strict";h();p();var lSe=cSe(),Nht=Ez(),jz=pz(),Oht=jz("Object.prototype.toString"),dSe=kE()(),Dht=typeof globalThis>"u"?self:globalThis,hSe=Nht(),Lht=jz("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Uht=jz("String.prototype.slice"),pSe={},xk=uSe(),Vz=Object.getPrototypeOf;dSe&&xk&&Vz&&lSe(hSe,function(t){var e=new Dht[t];if(Symbol.toStringTag in e){var r=Vz(e),n=xk(r,Symbol.toStringTag);if(!n){var i=Vz(r);n=xk(i,Symbol.toStringTag)}pSe[t]=n.get}});var Fht=function(e){var r=!1;return lSe(pSe,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r};mSe.exports=function(e){if(!e||typeof e!="object")return!1;if(!dSe||!(Symbol.toStringTag in e)){var r=Uht(Oht(e),8,-1);return Lht(hSe,r)>-1}return xk?Fht(e):!1}});var PSe=F(pr=>{"use strict";h();p();var qht=Vwe(),Hht=Gwe(),iu=sSe(),gSe=ySe();function gx(t){return t.call.bind(t)}var bSe=typeof BigInt<"u",vSe=typeof Symbol<"u",of=gx(Object.prototype.toString),Kht=gx(Number.prototype.valueOf),Vht=gx(String.prototype.valueOf),jht=gx(Boolean.prototype.valueOf);bSe&&(xSe=gx(BigInt.prototype.valueOf));var xSe;vSe&&(wSe=gx(Symbol.prototype.valueOf));var wSe;function HE(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}pr.isArgumentsObject=qht;pr.isGeneratorFunction=Hht;pr.isTypedArray=gSe;function zht(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}pr.isPromise=zht;function Ght(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):gSe(t)||ESe(t)}pr.isArrayBufferView=Ght;function Wht(t){return iu(t)==="Uint8Array"}pr.isUint8Array=Wht;function $ht(t){return iu(t)==="Uint8ClampedArray"}pr.isUint8ClampedArray=$ht;function Yht(t){return iu(t)==="Uint16Array"}pr.isUint16Array=Yht;function Zht(t){return iu(t)==="Uint32Array"}pr.isUint32Array=Zht;function Qht(t){return iu(t)==="Int8Array"}pr.isInt8Array=Qht;function Xht(t){return iu(t)==="Int16Array"}pr.isInt16Array=Xht;function Jht(t){return iu(t)==="Int32Array"}pr.isInt32Array=Jht;function e0t(t){return iu(t)==="Float32Array"}pr.isFloat32Array=e0t;function t0t(t){return iu(t)==="Float64Array"}pr.isFloat64Array=t0t;function r0t(t){return iu(t)==="BigInt64Array"}pr.isBigInt64Array=r0t;function n0t(t){return iu(t)==="BigUint64Array"}pr.isBigUint64Array=n0t;function wk(t){return of(t)==="[object Map]"}wk.working=typeof Map<"u"&&wk(new Map);function i0t(t){return typeof Map>"u"?!1:wk.working?wk(t):t instanceof Map}pr.isMap=i0t;function Sk(t){return of(t)==="[object Set]"}Sk.working=typeof Set<"u"&&Sk(new Set);function o0t(t){return typeof Set>"u"?!1:Sk.working?Sk(t):t instanceof Set}pr.isSet=o0t;function Ek(t){return of(t)==="[object WeakMap]"}Ek.working=typeof WeakMap<"u"&&Ek(new WeakMap);function s0t(t){return typeof WeakMap>"u"?!1:Ek.working?Ek(t):t instanceof WeakMap}pr.isWeakMap=s0t;function Gz(t){return of(t)==="[object WeakSet]"}Gz.working=typeof WeakSet<"u"&&Gz(new WeakSet);function a0t(t){return Gz(t)}pr.isWeakSet=a0t;function _k(t){return of(t)==="[object ArrayBuffer]"}_k.working=typeof ArrayBuffer<"u"&&_k(new ArrayBuffer);function SSe(t){return typeof ArrayBuffer>"u"?!1:_k.working?_k(t):t instanceof ArrayBuffer}pr.isArrayBuffer=SSe;function Ak(t){return of(t)==="[object DataView]"}Ak.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Ak(new DataView(new ArrayBuffer(1),0,1));function ESe(t){return typeof DataView>"u"?!1:Ak.working?Ak(t):t instanceof DataView}pr.isDataView=ESe;var zz=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function qE(t){return of(t)==="[object SharedArrayBuffer]"}function _Se(t){return typeof zz>"u"?!1:(typeof qE.working>"u"&&(qE.working=qE(new zz)),qE.working?qE(t):t instanceof zz)}pr.isSharedArrayBuffer=_Se;function c0t(t){return of(t)==="[object AsyncFunction]"}pr.isAsyncFunction=c0t;function f0t(t){return of(t)==="[object Map Iterator]"}pr.isMapIterator=f0t;function u0t(t){return of(t)==="[object Set Iterator]"}pr.isSetIterator=u0t;function l0t(t){return of(t)==="[object Generator]"}pr.isGeneratorObject=l0t;function d0t(t){return of(t)==="[object WebAssembly.Module]"}pr.isWebAssemblyCompiledModule=d0t;function ASe(t){return HE(t,Kht)}pr.isNumberObject=ASe;function TSe(t){return HE(t,Vht)}pr.isStringObject=TSe;function ISe(t){return HE(t,jht)}pr.isBooleanObject=ISe;function MSe(t){return bSe&&HE(t,xSe)}pr.isBigIntObject=MSe;function kSe(t){return vSe&&HE(t,wSe)}pr.isSymbolObject=kSe;function h0t(t){return ASe(t)||TSe(t)||ISe(t)||MSe(t)||kSe(t)}pr.isBoxedPrimitive=h0t;function p0t(t){return typeof Uint8Array<"u"&&(SSe(t)||_Se(t))}pr.isAnyArrayBuffer=p0t;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(pr,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var BSe=F((Pkr,RSe)=>{h();p();RSe.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var vx=F(mr=>{h();p();var CSe=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},m0t=/%[sdj%]/g;mr.format=function(t){if(!Bk(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(pp(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(m0t,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return c}}),s=n[r];r<i;s=n[++r])Rk(s)||!bx(s)?o+=" "+s:o+=" "+pp(s);return o};mr.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return mr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var Tk={},NSe=/^$/;I.NODE_DEBUG&&(Ik=I.NODE_DEBUG,Ik=Ik.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),NSe=new RegExp("^"+Ik+"$","i"));var Ik;mr.debuglog=function(t){if(t=t.toUpperCase(),!Tk[t])if(NSe.test(t)){var e=process.pid;Tk[t]=function(){var r=mr.format.apply(mr,arguments);console.error("%s %d: %s",t,e,r)}}else Tk[t]=function(){};return Tk[t]};function pp(t,e){var r={seen:[],stylize:g0t};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Zz(e)?r.showHidden=e:e&&mr._extend(r,e),$y(r.showHidden)&&(r.showHidden=!1),$y(r.depth)&&(r.depth=2),$y(r.colors)&&(r.colors=!1),$y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=y0t),kk(r,t,r.depth)}mr.inspect=pp;pp.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};pp.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function y0t(t,e){var r=pp.styles[e];return r?"\x1B["+pp.colors[r][0]+"m"+t+"\x1B["+pp.colors[r][1]+"m":t}function g0t(t,e){return t}function b0t(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function kk(t,e,r){if(t.customInspect&&e&&Mk(e.inspect)&&e.inspect!==mr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return Bk(n)||(n=kk(t,n,r)),n}var i=v0t(t,e);if(i)return i;var o=Object.keys(e),s=b0t(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),VE(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Wz(e);if(o.length===0){if(Mk(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(KE(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Pk(e))return t.stylize(Date.prototype.toString.call(e),"date");if(VE(e))return Wz(e)}var l="",d=!1,g=["{","}"];if(OSe(e)&&(d=!0,g=["[","]"]),Mk(e)){var b=e.name?": "+e.name:"";l=" [Function"+b+"]"}if(KE(e)&&(l=" "+RegExp.prototype.toString.call(e)),Pk(e)&&(l=" "+Date.prototype.toUTCString.call(e)),VE(e)&&(l=" "+Wz(e)),o.length===0&&(!d||e.length==0))return g[0]+l+g[1];if(r<0)return KE(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var _;return d?_=x0t(t,e,r,s,o):_=o.map(function(T){return Yz(t,e,r,s,T,d)}),t.seen.pop(),w0t(_,l,g)}function v0t(t,e){if($y(e))return t.stylize("undefined","undefined");if(Bk(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(DSe(e))return t.stylize(""+e,"number");if(Zz(e))return t.stylize(""+e,"boolean");if(Rk(e))return t.stylize("null","null")}function Wz(t){return"["+Error.prototype.toString.call(t)+"]"}function x0t(t,e,r,n,i){for(var o=[],s=0,c=e.length;s<c;++s)LSe(e,String(s))?o.push(Yz(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(l){l.match(/^\d+$/)||o.push(Yz(t,e,r,n,l,!0))}),o}function Yz(t,e,r,n,i,o){var s,c,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):l.set&&(c=t.stylize("[Setter]","special")),LSe(n,i)||(s="["+i+"]"),c||(t.seen.indexOf(l.value)<0?(Rk(r)?c=kk(t,l.value,null):c=kk(t,l.value,r-1),c.indexOf(`
`)>-1&&(o?c=c.split(`
`).map(function(d){return"  "+d}).join(`
`).slice(2):c=`
`+c.split(`
`).map(function(d){return"   "+d}).join(`
`))):c=t.stylize("[Circular]","special")),$y(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function w0t(t,e,r){var n=0,i=t.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}mr.types=PSe();function OSe(t){return Array.isArray(t)}mr.isArray=OSe;function Zz(t){return typeof t=="boolean"}mr.isBoolean=Zz;function Rk(t){return t===null}mr.isNull=Rk;function S0t(t){return t==null}mr.isNullOrUndefined=S0t;function DSe(t){return typeof t=="number"}mr.isNumber=DSe;function Bk(t){return typeof t=="string"}mr.isString=Bk;function E0t(t){return typeof t=="symbol"}mr.isSymbol=E0t;function $y(t){return t===void 0}mr.isUndefined=$y;function KE(t){return bx(t)&&Qz(t)==="[object RegExp]"}mr.isRegExp=KE;mr.types.isRegExp=KE;function bx(t){return typeof t=="object"&&t!==null}mr.isObject=bx;function Pk(t){return bx(t)&&Qz(t)==="[object Date]"}mr.isDate=Pk;mr.types.isDate=Pk;function VE(t){return bx(t)&&(Qz(t)==="[object Error]"||t instanceof Error)}mr.isError=VE;mr.types.isNativeError=VE;function Mk(t){return typeof t=="function"}mr.isFunction=Mk;function _0t(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}mr.isPrimitive=_0t;mr.isBuffer=BSe();function Qz(t){return Object.prototype.toString.call(t)}function $z(t){return t<10?"0"+t.toString(10):t.toString(10)}var A0t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T0t(){var t=new Date,e=[$z(t.getHours()),$z(t.getMinutes()),$z(t.getSeconds())].join(":");return[t.getDate(),A0t[t.getMonth()],e].join(" ")}mr.log=function(){console.log("%s - %s",T0t(),mr.format.apply(mr,arguments))};mr.inherits=qt();mr._extend=function(t,e){if(!e||!bx(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function LSe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Wy=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;mr.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Wy&&e[Wy]){var r=e[Wy];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Wy,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(l,d){n=l,i=d}),s=[],c=0;c<arguments.length;c++)s.push(arguments[c]);s.push(function(l,d){l?i(l):n(d)});try{e.apply(this,s)}catch(l){i(l)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Wy&&Object.defineProperty(r,Wy,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,CSe(e))};mr.promisify.custom=Wy;function I0t(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function M0t(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(c){process.nextTick(s.bind(null,null,c))},function(c){process.nextTick(I0t.bind(null,c,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,CSe(t)),e}mr.callbackify=M0t});var tG=F((Dkr,qSe)=>{"use strict";h();p();function xx(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xx=function(r){return typeof r}:xx=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xx(t)}function k0t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P0t(t,e){return e&&(xx(e)==="object"||typeof e=="function")?e:R0t(t)}function R0t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(t){return Jz=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jz(t)}function B0t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eG(t,e)}function eG(t,e){return eG=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eG(t,e)}var FSe={},wx,Xz;function jE(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){B0t(s,o);function s(c,l,d){var g;return k0t(this,s),g=P0t(this,Jz(s).call(this,n(c,l,d))),g.code=t,g}return s}(r);FSe[t]=i}function USe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function C0t(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function N0t(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function O0t(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}jE("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);jE("ERR_INVALID_ARG_TYPE",function(t,e,r){wx===void 0&&(wx=rG()),wx(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&C0t(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(N0t(t," argument"))i="The ".concat(t," ").concat(n," ").concat(USe(e,"type"));else{var o=O0t(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(USe(e,"type"))}return i+=". Received type ".concat(xx(r)),i},TypeError);jE("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";Xz===void 0&&(Xz=vx());var n=Xz.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);jE("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(xx(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);jE("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];wx===void 0&&(wx=rG()),wx(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(o){return'"'.concat(o,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);qSe.exports.codes=FSe});var zSe=F((Fkr,jSe)=>{"use strict";h();p();function D0t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){L0t(t,i,r[i])})}return t}function L0t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U0t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function F0t(t,e,r){return e&&HSe(t.prototype,e),r&&HSe(t,r),t}function Sx(t,e){return e&&(sf(e)==="object"||typeof e=="function")?e:nG(t)}function nG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q0t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$E(t,e)}function iG(t){var e=typeof Map=="function"?new Map:void 0;return iG=function(n){if(n===null||!K0t(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Ck(n,arguments,mp(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),$E(i,n)},iG(t)}function H0t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ck(t,e,r){return H0t()?Ck=Reflect.construct:Ck=function(i,o,s){var c=[null];c.push.apply(c,o);var l=Function.bind.apply(i,c),d=new l;return s&&$E(d,s.prototype),d},Ck.apply(null,arguments)}function K0t(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function $E(t,e){return $E=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$E(t,e)}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(t)}function sf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sf=function(r){return typeof r}:sf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sf(t)}var V0t=vx(),oG=V0t.inspect,j0t=tG(),z0t=j0t.codes.ERR_INVALID_ARG_TYPE;function KSe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function G0t(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var ou="",zE="",GE="",zo="",Yy={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},W0t=10;function VSe(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function WE(t){return oG(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function $0t(t,e,r){var n="",i="",o=0,s="",c=!1,l=WE(t),d=l.split(`
`),g=WE(e).split(`
`),b=0,_="";if(r==="strictEqual"&&sf(t)==="object"&&sf(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),d.length===1&&g.length===1&&d[0]!==g[0]){var T=d[0].length+g[0].length;if(T<=W0t){if((sf(t)!=="object"||t===null)&&(sf(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(Yy[r],`

`)+"".concat(d[0]," !== ").concat(g[0],`
`)}else if(r!=="strictEqualObject"){var M=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(T<M){for(;d[0][b]===g[0][b];)b++;b>2&&(_=`
  `.concat(G0t(" ",b),"^"),b=0)}}}for(var k=d[d.length-1],B=g[g.length-1];k===B&&(b++<2?s=`
  `.concat(k).concat(s):n=k,d.pop(),g.pop(),!(d.length===0||g.length===0));)k=d[d.length-1],B=g[g.length-1];var P=Math.max(d.length,g.length);if(P===0){var D=l.split(`
`);if(D.length>30)for(D[26]="".concat(ou,"...").concat(zo);D.length>27;)D.pop();return"".concat(Yy.notIdentical,`

`).concat(D.join(`
`),`
`)}b>3&&(s=`
`.concat(ou,"...").concat(zo).concat(s),c=!0),n!==""&&(s=`
  `.concat(n).concat(s),n="");var R=0,L=Yy[r]+`
`.concat(zE,"+ actual").concat(zo," ").concat(GE,"- expected").concat(zo),V=" ".concat(ou,"...").concat(zo," Lines skipped");for(b=0;b<P;b++){var z=b-o;if(d.length<b+1)z>1&&b>2&&(z>4?(i+=`
`.concat(ou,"...").concat(zo),c=!0):z>3&&(i+=`
  `.concat(g[b-2]),R++),i+=`
  `.concat(g[b-1]),R++),o=b,n+=`
`.concat(GE,"-").concat(zo," ").concat(g[b]),R++;else if(g.length<b+1)z>1&&b>2&&(z>4?(i+=`
`.concat(ou,"...").concat(zo),c=!0):z>3&&(i+=`
  `.concat(d[b-2]),R++),i+=`
  `.concat(d[b-1]),R++),o=b,i+=`
`.concat(zE,"+").concat(zo," ").concat(d[b]),R++;else{var oe=g[b],$=d[b],ne=$!==oe&&(!KSe($,",")||$.slice(0,-1)!==oe);ne&&KSe(oe,",")&&oe.slice(0,-1)===$&&(ne=!1,$+=","),ne?(z>1&&b>2&&(z>4?(i+=`
`.concat(ou,"...").concat(zo),c=!0):z>3&&(i+=`
  `.concat(d[b-2]),R++),i+=`
  `.concat(d[b-1]),R++),o=b,i+=`
`.concat(zE,"+").concat(zo," ").concat($),n+=`
`.concat(GE,"-").concat(zo," ").concat(oe),R+=2):(i+=n,n="",(z===1||b===0)&&(i+=`
  `.concat($),R++))}if(R>20&&b<P-2)return"".concat(L).concat(V,`
`).concat(i,`
`).concat(ou,"...").concat(zo).concat(n,`
`)+"".concat(ou,"...").concat(zo)}return"".concat(L).concat(c?V:"",`
`).concat(i).concat(n).concat(s).concat(_)}var Y0t=function(t){q0t(e,t);function e(r){var n;if(U0t(this,e),sf(r)!=="object"||r===null)throw new z0t("options","Object",r);var i=r.message,o=r.operator,s=r.stackStartFn,c=r.actual,l=r.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=Sx(this,mp(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(ou="\x1B[34m",zE="\x1B[32m",zo="\x1B[39m",GE="\x1B[31m"):(ou="",zE="",zo="",GE="")),sf(c)==="object"&&c!==null&&sf(l)==="object"&&l!==null&&"stack"in c&&c instanceof Error&&"stack"in l&&l instanceof Error&&(c=VSe(c),l=VSe(l)),o==="deepStrictEqual"||o==="strictEqual")n=Sx(this,mp(e).call(this,$0t(c,l,o)));else if(o==="notDeepStrictEqual"||o==="notStrictEqual"){var g=Yy[o],b=WE(c).split(`
`);if(o==="notStrictEqual"&&sf(c)==="object"&&c!==null&&(g=Yy.notStrictEqualObject),b.length>30)for(b[26]="".concat(ou,"...").concat(zo);b.length>27;)b.pop();b.length===1?n=Sx(this,mp(e).call(this,"".concat(g," ").concat(b[0]))):n=Sx(this,mp(e).call(this,"".concat(g,`

`).concat(b.join(`
`),`
`)))}else{var _=WE(c),T="",M=Yy[o];o==="notDeepEqual"||o==="notEqual"?(_="".concat(Yy[o],`

`).concat(_),_.length>1024&&(_="".concat(_.slice(0,1021),"..."))):(T="".concat(WE(l)),_.length>512&&(_="".concat(_.slice(0,509),"...")),T.length>512&&(T="".concat(T.slice(0,509),"...")),o==="deepEqual"||o==="equal"?_="".concat(M,`

`).concat(_,`

should equal

`):T=" ".concat(o," ").concat(T)),n=Sx(this,mp(e).call(this,"".concat(_).concat(T)))}return Error.stackTraceLimit=d,n.generatedMessage=!i,Object.defineProperty(nG(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(nG(n),s),n.stack,n.name="AssertionError",Sx(n)}return F0t(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:oG.custom,value:function(n,i){return oG(this,D0t({},i,{customInspect:!1,depth:0}))}}]),e}(iG(Error));jSe.exports=Y0t});var $Se=F((Kkr,WSe)=>{"use strict";h();p();function GSe(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var o=Object.keys(Object(i)),s=0,c=o.length;s<c;s++){var l=o[s],d=Object.getOwnPropertyDescriptor(i,l);d!==void 0&&d.enumerable&&(r[l]=i[l])}}return r}function Z0t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:GSe})}WSe.exports={assign:GSe,polyfill:Z0t}});var sG=F((zkr,ZSe)=>{"use strict";h();p();var YSe=Object.prototype.toString;ZSe.exports=function(e){var r=YSe.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&YSe.call(e.callee)==="[object Function]"),n}});var o3e=F(($kr,i3e)=>{"use strict";h();p();var n3e;Object.keys||(YE=Object.prototype.hasOwnProperty,aG=Object.prototype.toString,QSe=sG(),cG=Object.prototype.propertyIsEnumerable,XSe=!cG.call({toString:null},"toString"),JSe=cG.call(function(){},"prototype"),ZE=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Nk=function(t){var e=t.constructor;return e&&e.prototype===t},e3e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},t3e=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!e3e["$"+t]&&YE.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{Nk(self[t])}catch{return!0}}catch{return!0}return!1}(),r3e=function(t){if(typeof self>"u"||!t3e)return Nk(t);try{return Nk(t)}catch{return!1}},n3e=function(e){var r=e!==null&&typeof e=="object",n=aG.call(e)==="[object Function]",i=QSe(e),o=r&&aG.call(e)==="[object String]",s=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var c=JSe&&n;if(o&&e.length>0&&!YE.call(e,0))for(var l=0;l<e.length;++l)s.push(String(l));if(i&&e.length>0)for(var d=0;d<e.length;++d)s.push(String(d));else for(var g in e)!(c&&g==="prototype")&&YE.call(e,g)&&s.push(String(g));if(XSe)for(var b=r3e(e),_=0;_<ZE.length;++_)!(b&&ZE[_]==="constructor")&&YE.call(e,ZE[_])&&s.push(ZE[_]);return s});var YE,aG,QSe,cG,XSe,JSe,ZE,Nk,e3e,t3e,r3e;i3e.exports=n3e});var f3e=F((Qkr,c3e)=>{"use strict";h();p();var Q0t=Array.prototype.slice,X0t=sG(),s3e=Object.keys,Ok=s3e?function(e){return s3e(e)}:o3e(),a3e=Object.keys;Ok.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return X0t(n)?a3e(Q0t.call(n)):a3e(n)})}else Object.keys=Ok;return Object.keys||Ok};c3e.exports=Ok});var QE=F((ePr,h3e)=>{"use strict";h();p();var J0t=f3e(),ept=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",tpt=Object.prototype.toString,rpt=Array.prototype.concat,u3e=Object.defineProperty,npt=function(t){return typeof t=="function"&&tpt.call(t)==="[object Function]"},ipt=dk()(),l3e=u3e&&ipt,opt=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!npt(n)||!n())return}l3e?u3e(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},d3e=function(t,e){var r=arguments.length>2?arguments[2]:{},n=J0t(e);ept&&(n=rpt.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)opt(t,n[i],e[n[i]],r[n[i]])};d3e.supportsDescriptors=!!l3e;h3e.exports=d3e});var fG=F((nPr,m3e)=>{"use strict";h();p();var p3e=function(t){return t!==t};m3e.exports=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||p3e(e)&&p3e(r))}});var uG=F((sPr,y3e)=>{"use strict";h();p();var spt=fG();y3e.exports=function(){return typeof Object.is=="function"?Object.is:spt}});var b3e=F((fPr,g3e)=>{"use strict";h();p();var apt=uG(),cpt=QE();g3e.exports=function(){var e=apt();return cpt(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var lG=F((dPr,w3e)=>{"use strict";h();p();var fpt=QE(),upt=nk(),lpt=fG(),v3e=uG(),dpt=b3e(),x3e=upt(v3e(),Object);fpt(x3e,{getPolyfill:v3e,implementation:lpt,shim:dpt});w3e.exports=x3e});var dG=F((mPr,S3e)=>{"use strict";h();p();S3e.exports=function(e){return e!==e}});var hG=F((bPr,E3e)=>{"use strict";h();p();var hpt=dG();E3e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:hpt}});var A3e=F((wPr,_3e)=>{"use strict";h();p();var ppt=QE(),mpt=hG();_3e.exports=function(){var e=mpt();return ppt(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var k3e=F((_Pr,M3e)=>{"use strict";h();p();var ypt=nk(),gpt=QE(),bpt=dG(),T3e=hG(),vpt=A3e(),I3e=ypt(T3e(),Number);gpt(I3e,{getPolyfill:T3e,implementation:bpt,shim:vpt});M3e.exports=I3e});var $3e=F((IPr,W3e)=>{"use strict";h();p();function P3e(t,e){return Spt(t)||wpt(t,e)||xpt()}function xpt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function wpt(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}function Spt(t){if(Array.isArray(t))return t}function tc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tc=function(r){return typeof r}:tc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tc(t)}var Ept=/a/g.flags!==void 0,Kk=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},R3e=function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},K3e=Object.is?Object.is:lG(),qk=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},pG=Number.isNaN?Number.isNaN:k3e();function yG(t){return t.call.bind(t)}var JE=yG(Object.prototype.hasOwnProperty),Hk=yG(Object.prototype.propertyIsEnumerable),B3e=yG(Object.prototype.toString),Ys=vx().types,_pt=Ys.isAnyArrayBuffer,Apt=Ys.isArrayBufferView,C3e=Ys.isDate,Dk=Ys.isMap,N3e=Ys.isRegExp,Lk=Ys.isSet,Tpt=Ys.isNativeError,Ipt=Ys.isBoxedPrimitive,O3e=Ys.isNumberObject,D3e=Ys.isStringObject,L3e=Ys.isBooleanObject,U3e=Ys.isBigIntObject,Mpt=Ys.isSymbolObject,kpt=Ys.isFloat32Array,Ppt=Ys.isFloat64Array;function Rpt(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function Uk(t){return Object.keys(t).filter(Rpt).concat(qk(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function V3e(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var Fk=void 0,Bpt=!0,Cpt=!1,mG=0,gG=1,j3e=2,z3e=3;function Npt(t,e){return Ept?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function Opt(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Dpt(t,e){return t.byteLength!==e.byteLength?!1:V3e(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function Lpt(t,e){return t.byteLength===e.byteLength&&V3e(new Uint8Array(t),new Uint8Array(e))===0}function Upt(t,e){return O3e(t)?O3e(e)&&K3e(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):D3e(t)?D3e(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):L3e(t)?L3e(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):U3e(t)?U3e(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):Mpt(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function af(t,e,r,n){if(t===e)return t!==0?!0:r?K3e(t,e):!0;if(r){if(tc(t)!=="object")return typeof t=="number"&&pG(t)&&pG(e);if(tc(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||tc(t)!=="object")return e===null||tc(e)!=="object"?t==e:!1;if(e===null||tc(e)!=="object")return!1}var i=B3e(t),o=B3e(e);if(i!==o)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var s=Uk(t,Fk),c=Uk(e,Fk);return s.length!==c.length?!1:XE(t,e,r,n,gG,s)}if(i==="[object Object]"&&(!Dk(t)&&Dk(e)||!Lk(t)&&Lk(e)))return!1;if(C3e(t)){if(!C3e(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(N3e(t)){if(!N3e(e)||!Npt(t,e))return!1}else if(Tpt(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(Apt(t)){if(!r&&(kpt(t)||Ppt(t))){if(!Opt(t,e))return!1}else if(!Dpt(t,e))return!1;var l=Uk(t,Fk),d=Uk(e,Fk);return l.length!==d.length?!1:XE(t,e,r,n,mG,l)}else{if(Lk(t))return!Lk(e)||t.size!==e.size?!1:XE(t,e,r,n,j3e);if(Dk(t))return!Dk(e)||t.size!==e.size?!1:XE(t,e,r,n,z3e);if(_pt(t)){if(!Lpt(t,e))return!1}else if(Ipt(t)&&!Upt(t,e))return!1}return XE(t,e,r,n,mG)}function F3e(t,e){return e.filter(function(r){return Hk(t,r)})}function XE(t,e,r,n,i,o){if(arguments.length===5){o=Object.keys(t);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var c=0;c<o.length;c++)if(!JE(e,o[c]))return!1;if(r&&arguments.length===5){var l=qk(t);if(l.length!==0){var d=0;for(c=0;c<l.length;c++){var g=l[c];if(Hk(t,g)){if(!Hk(e,g))return!1;o.push(g),d++}else if(Hk(e,g))return!1}var b=qk(e);if(l.length!==b.length&&F3e(e,b).length!==d)return!1}else{var _=qk(e);if(_.length!==0&&F3e(e,_).length!==0)return!1}}if(o.length===0&&(i===mG||i===gG&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var T=n.val1.get(t);if(T!==void 0){var M=n.val2.get(e);if(M!==void 0)return T===M}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var k=Vpt(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),k}function q3e(t,e,r,n){for(var i=Kk(t),o=0;o<i.length;o++){var s=i[o];if(af(e,s,r,n))return t.delete(s),!0}return!1}function G3e(t){switch(tc(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(pG(t))return!1}return!0}function Fpt(t,e,r){var n=G3e(r);return n??(e.has(n)&&!t.has(n))}function qpt(t,e,r,n,i){var o=G3e(r);if(o!=null)return o;var s=e.get(o);return s===void 0&&!e.has(o)||!af(n,s,!1,i)?!1:!t.has(o)&&af(n,s,!1,i)}function Hpt(t,e,r,n){for(var i=null,o=Kk(t),s=0;s<o.length;s++){var c=o[s];if(tc(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else if(!e.has(c)){if(r||!Fpt(t,e,c))return!1;i===null&&(i=new Set),i.add(c)}}if(i!==null){for(var l=Kk(e),d=0;d<l.length;d++){var g=l[d];if(tc(g)==="object"&&g!==null){if(!q3e(i,g,r,n))return!1}else if(!r&&!t.has(g)&&!q3e(i,g,r,n))return!1}return i.size===0}return!0}function H3e(t,e,r,n,i,o){for(var s=Kk(t),c=0;c<s.length;c++){var l=s[c];if(af(r,l,i,o)&&af(n,e.get(l),i,o))return t.delete(l),!0}return!1}function Kpt(t,e,r,n){for(var i=null,o=R3e(t),s=0;s<o.length;s++){var c=P3e(o[s],2),l=c[0],d=c[1];if(tc(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var g=e.get(l);if(g===void 0&&!e.has(l)||!af(d,g,r,n)){if(r||!qpt(t,e,l,d,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var b=R3e(e),_=0;_<b.length;_++){var T=P3e(b[_],2),l=T[0],M=T[1];if(tc(l)==="object"&&l!==null){if(!H3e(i,t,l,M,r,n))return!1}else if(!r&&(!t.has(l)||!af(t.get(l),M,!1,n))&&!H3e(i,t,l,M,!1,n))return!1}return i.size===0}return!0}function Vpt(t,e,r,n,i,o){var s=0;if(o===j3e){if(!Hpt(t,e,r,i))return!1}else if(o===z3e){if(!Kpt(t,e,r,i))return!1}else if(o===gG)for(;s<t.length;s++)if(JE(t,s)){if(!JE(e,s)||!af(t[s],e[s],r,i))return!1}else{if(JE(e,s))return!1;for(var c=Object.keys(t);s<c.length;s++){var l=c[s];if(!JE(e,l)||!af(t[l],e[l],r,i))return!1}return c.length===Object.keys(e).length}for(s=0;s<n.length;s++){var d=n[s];if(!af(t[d],e[d],r,i))return!1}return!0}function jpt(t,e){return af(t,e,Cpt)}function zpt(t,e){return af(t,e,Bpt)}W3e.exports={isDeepEqual:jpt,isDeepStrictEqual:zpt}});var rG=F((PPr,uEe)=>{"use strict";h();p();function yp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yp=function(r){return typeof r}:yp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yp(t)}function Gpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Wpt=tG(),t6=Wpt.codes,Y3e=t6.ERR_AMBIGUOUS_ARGUMENT,e6=t6.ERR_INVALID_ARG_TYPE,$pt=t6.ERR_INVALID_ARG_VALUE,Ypt=t6.ERR_INVALID_RETURN_VALUE,bp=t6.ERR_MISSING_ARGS,Zy=zSe(),Zpt=vx(),Qpt=Zpt.inspect,J3e=vx().types,Xpt=J3e.isPromise,bG=J3e.isRegExp,Jpt=Object.assign?Object.assign:$Se().assign,eEe=Object.is?Object.is:lG(),gp,Vk;function r6(){var t=$3e();gp=t.isDeepEqual,Vk=t.isDeepStrictEqual}var Z3e=!1,Fn=uEe.exports=vG,jk={};function su(t){throw t.message instanceof Error?t.message:new Zy(t)}function tEe(t,e,r,n,i){var o=arguments.length,s;if(o===0)s="Failed";else if(o===1)r=t,t=void 0;else{if(Z3e===!1){Z3e=!0;var c=process.emitWarning?process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||tEe};r!==void 0&&(l.message=r);var d=new Zy(l);throw s&&(d.message=s,d.generatedMessage=!0),d}Fn.fail=tEe;Fn.AssertionError=Zy;function rEe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new Zy({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function vG(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];rEe.apply(void 0,[vG,e.length].concat(e))}Fn.ok=vG;Fn.equal=function t(e,r,n){if(arguments.length<2)throw new bp("actual","expected");e!=r&&su({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};Fn.notEqual=function t(e,r,n){if(arguments.length<2)throw new bp("actual","expected");e==r&&su({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};Fn.deepEqual=function t(e,r,n){if(arguments.length<2)throw new bp("actual","expected");gp===void 0&&r6(),gp(e,r)||su({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};Fn.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new bp("actual","expected");gp===void 0&&r6(),gp(e,r)&&su({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};Fn.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new bp("actual","expected");gp===void 0&&r6(),Vk(e,r)||su({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};Fn.notDeepStrictEqual=nEe;function nEe(t,e,r){if(arguments.length<2)throw new bp("actual","expected");gp===void 0&&r6(),Vk(t,e)&&su({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:nEe})}Fn.strictEqual=function t(e,r,n){if(arguments.length<2)throw new bp("actual","expected");eEe(e,r)||su({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};Fn.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new bp("actual","expected");eEe(e,r)&&su({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var Q3e=function t(e,r,n){var i=this;Gpt(this,t),r.forEach(function(o){o in e&&(n!==void 0&&typeof n[o]=="string"&&bG(e[o])&&e[o].test(n[o])?i[o]=n[o]:i[o]=e[o])})};function emt(t,e,r,n,i,o){if(!(r in t)||!Vk(t[r],e[r])){if(!n){var s=new Q3e(t,i),c=new Q3e(e,i,t),l=new Zy({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw l.actual=t,l.expected=e,l.operator=o.name,l}su({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}function iEe(t,e,r,n){if(typeof e!="function"){if(bG(e))return e.test(t);if(arguments.length===2)throw new e6("expected",["Function","RegExp"],e);if(yp(t)!=="object"||t===null){var i=new Zy({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var o=Object.keys(e);if(e instanceof Error)o.push("name","message");else if(o.length===0)throw new $pt("error",e,"may not be an empty object");return gp===void 0&&r6(),o.forEach(function(s){typeof t[s]=="string"&&bG(e[s])&&e[s].test(t[s])||emt(t,e,s,r,o,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function oEe(t){if(typeof t!="function")throw new e6("fn","Function",t);try{t()}catch(e){return e}return jk}function X3e(t){return Xpt(t)||t!==null&&yp(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function sEe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!X3e(e))throw new Ypt("instance of Promise","promiseFn",e)}else if(X3e(t))e=t;else throw new e6("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return jk}).catch(function(r){return r})})}function aEe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new e6("error",["Object","Error","Function","RegExp"],r);if(yp(e)==="object"&&e!==null){if(e.message===r)throw new Y3e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new Y3e("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&yp(r)!=="object"&&typeof r!="function")throw new e6("error",["Object","Error","Function","RegExp"],r);if(e===jk){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var o=t.name==="rejects"?"rejection":"exception";su({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:t})}if(r&&!iEe(e,r,n,t))throw e}function cEe(t,e,r,n){if(e!==jk){if(typeof r=="string"&&(n=r,r=void 0),!r||iEe(e,r)){var i=n?": ".concat(n):".",o=t.name==="doesNotReject"?"rejection":"exception";su({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}Fn.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];aEe.apply(void 0,[t,oEe(e)].concat(n))};Fn.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return sEe(e).then(function(o){return aEe.apply(void 0,[t,o].concat(n))})};Fn.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];cEe.apply(void 0,[t,oEe(e)].concat(n))};Fn.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return sEe(e).then(function(o){return cEe.apply(void 0,[t,o].concat(n))})};Fn.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";yp(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=Qpt(e);var n=new Zy({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var o=i.split(`
`);o.shift();for(var s=n.stack.split(`
`),c=0;c<o.length;c++){var l=s.indexOf(o[c]);if(l!==-1){s=s.slice(0,l);break}}n.stack="".concat(s.join(`
`),`
`).concat(o.join(`
`))}throw n}};function fEe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];rEe.apply(void 0,[fEe,e.length].concat(e))}Fn.strict=Jpt(fEe,Fn,{equal:Fn.strictEqual,deepEqual:Fn.deepStrictEqual,notEqual:Fn.notStrictEqual,notDeepEqual:Fn.notDeepStrictEqual});Fn.strict.strict=Fn.strict});h();p();var mm=Ge(_i()),yi=Ge(q8()),Vl=Ge(au());h();p();_x.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});h();p();var dOe=(t,e)=>t+e,Gne=t=>t.reduce(dOe,0);var Wne=mm.Buffer.alloc(64).fill(0),RN=t=>Ec(t)?mm.Buffer.from(t.message.serialize()):t.serializeMessage(),H8=t=>Vl.default.encode(RN(t)),$ne=t=>{try{return H8(w1(t,"bs58"))}catch{return H8(w1(t,"base64"))}},Yne=t=>{try{return w1(t,"bs58").version}catch{return w1(t,"base64").version}},Zne=t=>BN(NN(t)),Ec=t=>t&&"version"in t,K8=(t,e)=>Ec(t)?mm.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),BN=(t,e)=>Vl.default.encode(K8(t,e)),Qne=(t,e)=>K8(t,e).toString("base64"),w1=(t,e)=>{let r;if(e==="base64")r=mm.Buffer.from(t,"base64");else if(e==="bs58")r=Vl.default.decode(t);else throw new Error("Unsupported encoding");return yi.VersionedTransaction.deserialize(r)};function CN(t){return Ec(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}var Xne=t=>{let e=t.map(r=>yi.VersionedMessage.deserialize(Vl.default.decode(r)));return Gne(e.map(r=>r.header.numRequiredSignatures))},NN=t=>{let e=Vl.default.decode(t);if(yi.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=yi.Message.from(e);return yi.Transaction.populate(i,[])}let n=yi.VersionedMessage.deserialize(e);return new yi.VersionedTransaction(n)},Jne=(t,e=[])=>{let r=Vl.default.decode(t);if(yi.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=yi.Message.from(r);return yi.Transaction.populate(i,e.map(s=>s?Vl.default.encode(s):Vl.default.encode(Wne)))}else{let i=yi.VersionedMessage.deserialize(r);return new yi.VersionedTransaction(i,e.map(s=>s||Wne))}},eie=t=>t.compileMessage().accountKeys,ON=t=>Ec(t)?t.message.recentBlockhash:t.recentBlockhash,tie=(t,e)=>{Ec(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},rie=async(t,e)=>{if(ON(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;tie(t,r)},nie=async(t,e)=>{if(CN(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;tie(t,r)},DN=(t,e)=>{Ec(t)||(t.feePayer=e)},LN=t=>Ec(t)?t.message.staticAccountKeys[0]:t.feePayer,iie=(t,e)=>{LN(t)||DN(t,e)},oie=(t,e)=>{Ec(t)?t.sign(e):t.partialSign(...e)},sie=t=>Ec(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),aie=t=>Ec(t)?t.signatures.map(e=>mm.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null);function cie(t){if(!hOe(mm.Buffer.from(t)))return!1;let e;try{e=yi.Message.from(t)}catch{e=void 0}let r;try{r=yi.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}function hOe(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}var fie=t=>_x(t).dividedBy(yi.LAMPORTS_PER_SOL),uie=t=>_x(t).multipliedBy(yi.LAMPORTS_PER_SOL);var Da={};wG(Da,{BufferLayout:()=>gOe,Message:()=>oa.Message,MessageV0:()=>oa.MessageV0,Transaction:()=>oa.Transaction,TransactionInstruction:()=>oa.TransactionInstruction,TransactionMessage:()=>oa.TransactionMessage,VersionedMessage:()=>oa.VersionedMessage,VersionedTransaction:()=>oa.VersionedTransaction,getAccountsFromTransaction:()=>eie,getFeePayer:()=>LN,getRecentBlockhash:()=>ON,getRequiredSignatures:()=>Xne,getSignaturePubKeys:()=>sie,getSignatures:()=>aie,isAlreadySigned:()=>CN,isSafeMessage:()=>cie,isVersionedTransaction:()=>Ec,lamportsToSolana:()=>fie,messageAndSignaturesToTransaction:()=>Jne,messageStringToTransaction:()=>NN,messageStringToTransactionString:()=>Zne,setFeePayer:()=>DN,setFeePayerIfNotExists:()=>iie,setRecentBlockhashIfNotExists:()=>rie,setRecentBlockhashIfNotSigned:()=>nie,signWithAdditionalSigners:()=>oie,solanaInstructionEncodeData:()=>mie,solanaToLamports:()=>uie,transactionStringToMessageString:()=>$ne,transactionStringToTransaction:()=>w1,transactionStringToVersion:()=>Yne,transactionToBase58TransactionString:()=>BN,transactionToBase64TransactionString:()=>Qne,transactionToMessageString:()=>H8,transactionToSerializedMessage:()=>RN,transactionToSerializedTransaction:()=>K8,u64:()=>hie});h();p();var gOe=Ge(Nw()),oa=Ge(q8());gl(Da,Ge(q8()));h();p();var lie=Ge(kx()),die=Ge(Nw()),V8=Ge(AC()),pOe=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},j8=t=>e=>{let r=(0,die.blob)(t,e),{encode:n,decode:i}=pOe(r),o=r;return o.decode=(s,c)=>{let l=i(s,c);return(0,V8.toBigIntLE)(lie.Buffer.from(l))},o.encode=(s,c,l)=>{let d=(0,V8.toBufferLE)(s,t);return n(d,c,l)},o},hie=j8(8),r6t=j8(16),n6t=j8(24),i6t=j8(32);h();p();var pie=Ge(kx());h();p();var mOe=Ge(kx()),S1=Ge(Nw());function UN(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return UN({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function mie(t,e){let r=t.layout.span>=0?t.layout.span:UN(t,e),n=pie.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}h();p();var E1=(i=>(i.Mainnet="solana:101",i.Testnet="solana:102",i.Devnet="solana:103",i.Localnet="solana:localnet",i))(E1||{}),kh=le.union([le.literal("solana:101"),le.literal("solana:102"),le.literal("solana:103"),le.literal("solana:localnet")]),_1=(r=>(r.Mainnet="eip155:1",r.Sepolia="eip155:11155111",r))(_1||{}),z8=le.union([le.literal("eip155:1"),le.literal("eip155:11155111")]),A1=(r=>(r.Mainnet="eip155:137",r.Amoy="eip155:80002",r))(A1||{}),G8=le.union([le.literal("eip155:137"),le.literal("eip155:80002")]),T1=(r=>(r.Mainnet="eip155:8453",r.Sepolia="eip155:84532",r))(T1||{}),W8=le.union([le.literal("eip155:8453"),le.literal("eip155:84532")]),I1=(r=>(r.Mainnet="eip155:42161",r.Sepolia="eip155:421614",r))(I1||{}),$8=le.union([le.literal("eip155:42161"),le.literal("eip155:421614")]),M1=(n=>(n.Mainnet="eip155:143",n.Testnet="eip155:10143",n.Devnet="eip155:41454",n))(M1||{}),Y8=le.union([le.literal("eip155:143"),le.literal("eip155:10143"),le.literal("eip155:41454")]),k1=(r=>(r.Mainnet="bip122:000000000019d6689c085ae165831e93",r.Testnet="bip122:000000000933ea01ad0ee984209779ba",r))(k1||{}),Ph=le.union([le.literal("bip122:000000000019d6689c085ae165831e93"),le.literal("bip122:000000000933ea01ad0ee984209779ba")]),P1=(r=>(r.Mainnet="sui:mainnet",r.Testnet="sui:testnet",r))(P1||{}),Rh=le.union([le.literal("sui:mainnet"),le.literal("sui:testnet")]),R1=(r=>(r.Mainnet="hypercore:mainnet",r.Testnet="hypercore:testnet",r))(R1||{}),jl=le.union([le.literal("hypercore:mainnet"),le.literal("hypercore:testnet")]),Bh=le.union([z8,G8,W8,Y8,$8,jl]),zl=le.union([Ph,Bh,kh,Rh,jl]),on={Bitcoin:k1,Ethereum:_1,Polygon:A1,Solana:E1,Sui:P1,Base:T1,Monad:M1,Arbitrum:I1,Hypercore:R1};h();p();h();p();var $t=(c=>(c.BitcoinTaproot="bip122_p2tr",c.BitcoinNativeSegwit="bip122_p2wpkh",c.BitcoinNestedSegwit="bip122_p2sh",c.BitcoinLegacy="bip122_p2pkh",c.Solana="solana",c.EVM="eip155",c.Sui="sui",c))($t||{}),Z8=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],g2=le.enum(Z8);h();p();var Pi=(d=>(d.Solana="solana",d.Monad="monad",d.Ethereum="ethereum",d.Base="base",d.Arbitrum="arbitrum",d.Polygon="polygon",d.Bitcoin="bitcoin",d.Sui="sui",d.Hypercore="hypercore",d))(Pi||{}),Mo=(d=>(d.Ethereum="60",d.Monad="143",d.Polygon="966",d.Base="8453",d.Arbitrum="9001",d.Solana="501",d.Bitcoin="0",d.Sui="784",d.Hypercore="925",d))(Mo||{});h();p();h();p();h();p();h();p();h();p();var bOe=Ge(Dp(),1);var fo=BigInt(0),Ir=BigInt(1),Oh=BigInt(2),vOe=BigInt(8),yie=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),En=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:yie,n:yie,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var wie=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),b2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),H6t=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),xOe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),wOe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),SOe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),EOe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Hi=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof gi))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(gi.ZERO)?t.ZERO:new t(e.x,e.y,Ir,We(e.x*e.y))}static toAffineBatch(e){let r=TOe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){bie(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=We(r*c),d=We(o*i),g=We(n*c),b=We(s*i);return l===d&&g===b}negate(){return new t(We(-this.x),this.y,this.z,We(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=En,o=We(e*e),s=We(r*r),c=We(Oh*We(n*n)),l=We(i*o),d=e+r,g=We(We(d*d)-o-s),b=l+s,_=b-c,T=l-s,M=We(g*_),k=We(b*T),B=We(g*T),P=We(_*b);return new t(M,k,P,B)}add(e){bie(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:c,z:l,t:d}=e,g=We((n-r)*(c+s)),b=We((n+r)*(c-s)),_=We(b-g);if(_===fo)return this.double();let T=We(i*Oh*d),M=We(o*Oh*l),k=M+T,B=b+g,P=M-T,D=We(k*_),R=We(B*P),L=We(k*P),V=We(_*B);return new t(D,R,V,L)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=gi.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&KN.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),KN.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+256/n,l=2**(n-1),d=BigInt(2**n-1),g=2**n,b=BigInt(n);for(let _=0;_<c;_++){let T=_*l,M=Number(e&d);e>>=b,M>l&&(M-=g,e+=Ir);let k=T,B=T+Math.abs(M)-1,P=_%2!==0,D=M<0;M===0?s=s.add(gie(P,i[k])):o=o.add(gie(D,i[B]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(X8(e,En.l),r)}multiplyUnsafe(e){let r=X8(e,En.l,!1),n=t.BASE,i=t.ZERO;if(r===fo)return i;if(this.equals(i)||r===Ir)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>fo;)r&Ir&&(o=o.add(s)),s=s.double(),r>>=Ir;return o}isSmallOrder(){return this.multiplyUnsafe(En.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(En.l/Oh).double();return En.l%Oh&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?vOe:eA(i));let s=We(r*e),c=We(n*e),l=We(i*e);if(o)return gi.ZERO;if(l!==Ir)throw new Error("invZ was invalid");return new gi(s,c)}fromRistrettoBytes(){qN()}toRistrettoBytes(){qN()}fromRistrettoHash(){qN()}};Hi.BASE=new Hi(En.Gx,En.Gy,Ir,We(En.Gx*En.Gy));Hi.ZERO=new Hi(fo,Ir,Ir,fo);function gie(t,e){let r=e.negate();return t?r:e}function bie(t){if(!(t instanceof Hi))throw new TypeError("ExtendedPoint expected")}function FN(t){if(!(t instanceof ym))throw new TypeError("RistrettoPoint expected")}function qN(){throw new Error("Legacy method: switch to RistrettoPoint")}var ym=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=En,n=We(b2*e*e),i=We((n+Ir)*SOe),o=BigInt(-1),s=We((o-r*n)*We(n+r)),{isValid:c,value:l}=jN(i,s),d=We(l*e);Nh(d)||(d=We(-d)),c||(l=d),c||(o=n);let g=We(o*(n-Ir)*EOe-s),b=l*l,_=We((l+l)*s),T=We(g*xOe),M=We(Ir-b),k=We(Ir+b);return new Hi(We(_*k),We(M*T),We(T*k),We(_*M))}static hashToCurve(e){e=Dh(e,64);let r=HN(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=HN(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=Dh(e,32);let{a:r,d:n}=En,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=HN(e);if(!MOe(w2(o),e)||Nh(o))throw new Error(i);let s=We(o*o),c=We(Ir+r*s),l=We(Ir-r*s),d=We(c*c),g=We(l*l),b=We(r*n*d-g),{isValid:_,value:T}=xie(We(b*g)),M=We(T*l),k=We(T*M*b),B=We((o+o)*M);Nh(B)&&(B=We(-B));let P=We(c*k),D=We(B*P);if(!_||Nh(D)||P===fo)throw new Error(i);return new t(new Hi(B,P,Ir,D))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=We(We(n+r)*We(n-r)),s=We(e*r),c=We(s*s),{value:l}=xie(We(o*c)),d=We(l*o),g=We(l*s),b=We(d*g*i),_;if(Nh(i*b)){let M=We(r*b2),k=We(e*b2);e=M,r=k,_=We(d*wOe)}else _=g;Nh(e*b)&&(r=We(-r));let T=We((n-r)*_);return Nh(T)&&(T=We(-T)),w2(T)}toHex(){return S2(this.toRawBytes())}toString(){return this.toHex()}equals(e){FN(e);let r=this.ep,n=e.ep,i=We(r.x*n.y)===We(r.y*n.x),o=We(r.y*n.y)===We(r.x*n.x);return i||o}add(e){return FN(e),new t(this.ep.add(e.ep))}subtract(e){return FN(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};ym.BASE=new ym(Hi.BASE);ym.ZERO=new ym(Hi.ZERO);var KN=new WeakMap,gi=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,KN.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=En;e=Dh(e,32);let o=e.slice();o[31]=e[31]&-129;let s=E2(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=wie)throw new Error("Expected 0 < hex < 2**256");let c=We(s*s),l=We(c-Ir),d=We(n*c+Ir),{isValid:g,value:b}=jN(l,d);if(!g)throw new Error("Point.fromHex: invalid y coordinate");let _=(b&Ir)===Ir;return(e[31]&128)!==0!==_&&(b=We(-b)),new t(b,s)}static async fromPrivateKey(e){return(await Aie(e)).point}toRawBytes(){let e=w2(this.y);return e[31]|=this.x&Ir?128:0,e}toHex(){return S2(this.toRawBytes())}toX25519(){let{y:e}=this,r=We((Ir+e)*eA(Ir-e));return w2(r)}isTorsionFree(){return Hi.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(We(-this.x),this.y)}add(e){return Hi.fromAffine(this).add(Hi.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Hi.fromAffine(this).multiply(e,this).toAffine()}};gi.BASE=new gi(En.Gx,En.Gy);gi.ZERO=new gi(fo,Ir);var x2=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Dh(e,64),n=gi.fromHex(r.slice(0,32),!1),i=E2(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof gi))throw new Error("Expected Point instance");return X8(r,En.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(w2(this.s),32),e}toHex(){return S2(this.toRawBytes())}};function vie(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var _Oe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function S2(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=_Oe[t[r]];return e}function VN(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Sie(t){let r=t.toString(16).padStart(64,"0");return VN(r)}function w2(t){return Sie(t).reverse()}function Nh(t){return(We(t)&Ir)===Ir}function E2(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+S2(Uint8Array.from(t).reverse()))}var AOe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function HN(t){return We(E2(t)&AOe)}function We(t,e=En.P){let r=t%e;return r>=fo?r:e+r}function eA(t,e=En.P){if(t===fo||e<=fo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=We(t,e),n=e,i=fo,o=Ir,s=Ir,c=fo;for(;r!==fo;){let d=n/r,g=n%r,b=i-s*d,_=o-c*d;n=r,r=g,i=s,o=c,s=b,c=_}if(n!==Ir)throw new Error("invert: does not exist");return We(i,e)}function TOe(t,e=En.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===fo?o:(r[c]=o,We(o*s,e)),Ir),i=eA(n,e);return t.reduceRight((o,s,c)=>s===fo?o:(r[c]=We(o*r[c],e),We(o*s,e)),i),r}function Pu(t,e){let{P:r}=En,n=t;for(;e-- >fo;)n*=n,n%=r;return n}function IOe(t){let{P:e}=En,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,d=Pu(l,Oh)*l%e,g=Pu(d,Ir)*t%e,b=Pu(g,r)*g%e,_=Pu(b,n)*b%e,T=Pu(_,i)*_%e,M=Pu(T,o)*T%e,k=Pu(M,s)*M%e,B=Pu(k,s)*M%e,P=Pu(B,n)*b%e;return{pow_p_5_8:Pu(P,Oh)*t%e,b2:l}}function jN(t,e){let r=We(e*e*e),n=We(r*r*e),i=IOe(t*n).pow_p_5_8,o=We(t*r*i),s=We(e*o*o),c=o,l=We(o*b2),d=s===t,g=s===We(-t),b=s===We(-t*b2);return d&&(o=c),(g||b)&&(o=l),Nh(o)&&(o=We(-o)),{isValid:d||g,value:o}}function xie(t){return jN(Ir,t)}function Q8(t){return We(E2(t),En.l)}function MOe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Dh(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):VN(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function X8(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(fo<t)return t}else if(fo<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function kOe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Eie(t){if(t=typeof t=="bigint"||typeof t=="number"?Sie(X8(t,wie)):Dh(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function _ie(t){let e=kOe(t.slice(0,32)),r=t.slice(32,64),n=Q8(e),i=gi.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var v2;function J8(...t){if(typeof v2!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return v2(...t)}async function Aie(t){return _ie(await Gl.sha512(Eie(t)))}function zN(t){return _ie(J8(Eie(t)))}function POe(t){return zN(t).pointBytes}function ROe(t,e){t=Dh(t);let{prefix:r,scalar:n,pointBytes:i}=zN(e),o=Q8(J8(r,t)),s=gi.BASE.multiply(o),c=Q8(J8(s.toRawBytes(),i,t)),l=We(o+c*n,En.l);return new x2(s,l).toRawBytes()}function BOe(t,e,r){e=Dh(e),r instanceof gi||(r=gi.fromHex(r,!1));let{r:n,s:i}=t instanceof x2?t.assertValidity():x2.fromHex(t),o=Hi.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function COe(t,e,r,n){let i=Q8(n),o=Hi.fromAffine(t).multiplyUnsafe(i);return Hi.fromAffine(e).add(o).subtract(r).multiplyUnsafe(En.h).equals(Hi.ZERO)}function NOe(t,e,r){let{r:n,SB:i,msg:o,pub:s}=BOe(t,e,r),c=J8(n.toRawBytes(),s.toRawBytes(),o);return COe(s,n,i,c)}var tA={getExtendedPublicKey:zN,getPublicKey:POe,sign:ROe,verify:NOe};gi.BASE._setWindowSize(8);var Ch={node:bOe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Gl={bytesToHex:S2,hexToBytes:VN,concatBytes:vie,getExtendedPublicKey:Aie,mod:We,invert:eA,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Dh(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return We(E2(t),En.l-Ir)+Ir},randomBytes:(t=32)=>{if(Ch.web)return Ch.web.getRandomValues(new Uint8Array(t));if(Ch.node){let{randomBytes:e}=Ch.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Gl.randomBytes(32),sha512:async(...t)=>{let e=vie(...t);if(Ch.web){let r=await Ch.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Ch.node)return Uint8Array.from(Ch.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=gi.BASE){let r=e.equals(gi.BASE)?e:new gi(e.x,e.y);return r._setWindowSize(t),r.multiply(Oh),r},sha512Sync:void 0};Object.defineProperties(Gl,{sha512Sync:{configurable:!1,get(){return v2},set(t){v2||(v2=t)}}});h();p();h();p();h();p();function GN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function OOe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Tie(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function DOe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");GN(t.outputLen),GN(t.blockLen)}function LOe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UOe(t,e){Tie(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var FOe={number:GN,bool:OOe,bytes:Tie,hash:DOe,exists:LOe,output:UOe},sn=FOe;h();p();h();p();var _2={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var B1=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),C1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Tf=(t,e)=>t<<32-e|t>>>e,qOe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qOe)throw new Error("Non little-endian hardware is not supported");var HOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function X6t(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=HOe[t[r]];return e}function KOe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}var VOe=async()=>{};async function rA(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await VOe(),n+=o)}}function jOe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function If(t){if(typeof t=="string"&&(t=jOe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Lh=class{clone(){return this._cloneInto()}},zOe=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function nA(t,e){if(e!==void 0&&(typeof e!="object"||!zOe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function Ru(t){let e=n=>t().update(If(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Iie(t){let e=(n,i)=>t(i).update(If(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function WN(t=32){if(_2.web)return _2.web.getRandomValues(new Uint8Array(t));if(_2.node)return new Uint8Array(_2.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}function GOe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,d=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+d,c,n)}var N1=class extends Lh{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=C1(this.buffer)}update(e){sn.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=If(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=C1(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sn.exists(this),sn.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;GOe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=C1(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,g[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};h();p();var iA=BigInt(4294967295),$N=BigInt(32);function Mie(t,e=!1){return e?{h:Number(t&iA),l:Number(t>>$N&iA)}:{h:Number(t>>$N&iA)|0,l:Number(t&iA)|0}}function WOe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Mie(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var $Oe=(t,e)=>BigInt(t>>>0)<<$N|BigInt(e>>>0),YOe=(t,e,r)=>t>>>r,ZOe=(t,e,r)=>t<<32-r|e>>>r,QOe=(t,e,r)=>t>>>r|e<<32-r,XOe=(t,e,r)=>t<<32-r|e>>>r,JOe=(t,e,r)=>t<<64-r|e>>>r-32,eDe=(t,e,r)=>t>>>r-32|e<<64-r,tDe=(t,e)=>e,rDe=(t,e)=>t,nDe=(t,e,r)=>t<<r|e>>>32-r,iDe=(t,e,r)=>e<<r|t>>>32-r,oDe=(t,e,r)=>e<<r-32|t>>>64-r,sDe=(t,e,r)=>t<<r-32|e>>>64-r;function aDe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var cDe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),fDe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,uDe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),lDe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,dDe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),hDe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,pDe={fromBig:Mie,split:WOe,toBig:$Oe,shrSH:YOe,shrSL:ZOe,rotrSH:QOe,rotrSL:XOe,rotrBH:JOe,rotrBL:eDe,rotr32H:tDe,rotr32L:rDe,rotlSH:nDe,rotlSL:iDe,rotlBH:oDe,rotlBL:sDe,add:aDe,add3L:cDe,add3H:fDe,add4L:uDe,add4H:lDe,add5H:hDe,add5L:dDe},Lt=pDe;var[mDe,yDe]=Lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Uh=new Uint32Array(80),Fh=new Uint32Array(80),O1=class extends N1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:d,El:g,Fh:b,Fl:_,Gh:T,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B]}set(e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=d|0,this.El=g|0,this.Fh=b|0,this.Fl=_|0,this.Gh=T|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let R=0;R<16;R++,r+=4)Uh[R]=e.getUint32(r),Fh[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let L=Uh[R-15]|0,V=Fh[R-15]|0,z=Lt.rotrSH(L,V,1)^Lt.rotrSH(L,V,8)^Lt.shrSH(L,V,7),oe=Lt.rotrSL(L,V,1)^Lt.rotrSL(L,V,8)^Lt.shrSL(L,V,7),$=Uh[R-2]|0,ne=Fh[R-2]|0,S=Lt.rotrSH($,ne,19)^Lt.rotrBH($,ne,61)^Lt.shrSH($,ne,6),a=Lt.rotrSL($,ne,19)^Lt.rotrBL($,ne,61)^Lt.shrSL($,ne,6),u=Lt.add4L(oe,a,Fh[R-7],Fh[R-16]),m=Lt.add4H(u,z,S,Uh[R-7],Uh[R-16]);Uh[R]=m|0,Fh[R]=u|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:d,Dl:g,Eh:b,El:_,Fh:T,Fl:M,Gh:k,Gl:B,Hh:P,Hl:D}=this;for(let R=0;R<80;R++){let L=Lt.rotrSH(b,_,14)^Lt.rotrSH(b,_,18)^Lt.rotrBH(b,_,41),V=Lt.rotrSL(b,_,14)^Lt.rotrSL(b,_,18)^Lt.rotrBL(b,_,41),z=b&T^~b&k,oe=_&M^~_&B,$=Lt.add5L(D,V,oe,yDe[R],Fh[R]),ne=Lt.add5H($,P,L,z,mDe[R],Uh[R]),S=$|0,a=Lt.rotrSH(n,i,28)^Lt.rotrBH(n,i,34)^Lt.rotrBH(n,i,39),u=Lt.rotrSL(n,i,28)^Lt.rotrBL(n,i,34)^Lt.rotrBL(n,i,39),m=n&o^n&c^o&c,y=i&s^i&l^s&l;P=k|0,D=B|0,k=T|0,B=M|0,T=b|0,M=_|0,{h:b,l:_}=Lt.add(d|0,g|0,ne|0,S|0),d=c|0,g=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let w=Lt.add3L(S,u,y);n=Lt.add3H(w,ne,a,m),i=w|0}({h:n,l:i}=Lt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Lt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Lt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:d,l:g}=Lt.add(this.Dh|0,this.Dl|0,d|0,g|0),{h:b,l:_}=Lt.add(this.Eh|0,this.El|0,b|0,_|0),{h:T,l:M}=Lt.add(this.Fh|0,this.Fl|0,T|0,M|0),{h:k,l:B}=Lt.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:P,l:D}=Lt.add(this.Hh|0,this.Hl|0,P|0,D|0),this.set(n,i,o,s,c,l,d,g,b,_,T,M,k,B,P,D)}roundClean(){Uh.fill(0),Fh.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},YN=class extends O1{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},ZN=class extends O1{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},QN=class extends O1{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Bu=Ru(()=>new O1),h_t=Ru(()=>new YN),p_t=Ru(()=>new ZN),m_t=Ru(()=>new QN);h();p();var gDe=Ge(Dp(),1);var Ur=BigInt(0),Rn=BigInt(1),Hh=BigInt(2),I2=BigInt(3),kie=BigInt(8),Bn=Object.freeze({a:Ur,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Rn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Pie=(t,e)=>(t+e/Hh)/e,oA={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Bn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Rn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=Pie(o*t,e),l=Pie(-n*t,e),d=bt(t-c*r-l*i,e),g=bt(-c*n-l*o,e),b=d>s,_=g>s;if(b&&(d=e-d),_&&(g=e-g),d>s||g>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:d,k2neg:_,k2:g}}},D1=32,k2=32;var Rie=D1+1,Bie=2*D1+1;function Cie(t){let{a:e,b:r}=Bn,n=bt(t*t),i=bt(n*t);return bt(i+e*t+r)}var sA=Bn.a===Ur,uA=class extends Error{constructor(e){super(e)}};function Nie(t){if(!(t instanceof Ns))throw new TypeError("JacobianPoint expected")}var Ns=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof bi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(bi.ZERO)?t.ZERO:new t(e.x,e.y,Rn)}static toAffineBatch(e){let r=SDe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Nie(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=bt(i*i),d=bt(c*c),g=bt(r*d),b=bt(o*l),_=bt(bt(n*c)*d),T=bt(bt(s*i)*l);return g===b&&_===T}negate(){return new t(this.x,bt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=bt(e*e),o=bt(r*r),s=bt(o*o),c=e+o,l=bt(Hh*(bt(c*c)-i-s)),d=bt(I2*i),g=bt(d*d),b=bt(g-Hh*l),_=bt(d*(l-b)-kie*s),T=bt(Hh*r*n);return new t(b,_,T)}add(e){Nie(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e;if(o===Ur||s===Ur)return this;if(r===Ur||n===Ur)return e;let l=bt(i*i),d=bt(c*c),g=bt(r*d),b=bt(o*l),_=bt(bt(n*c)*d),T=bt(bt(s*i)*l),M=bt(b-g),k=bt(T-_);if(M===Ur)return k===Ur?this.double():t.ZERO;let B=bt(M*M),P=bt(M*B),D=bt(g*B),R=bt(k*k-P-Hh*D),L=bt(k*(D-R)-_*P),V=bt(i*c*M);return new t(R,L,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Ur)return r;let n=Lie(e);if(n===Rn)return this;if(!sA){let b=r,_=this;for(;n>Ur;)n&Rn&&(b=b.add(_)),_=_.double(),n>>=Rn;return b}let{k1neg:i,k1:o,k2neg:s,k2:c}=oA.splitScalar(n),l=r,d=r,g=this;for(;o>Ur||c>Ur;)o&Rn&&(l=l.add(g)),c&Rn&&(d=d.add(g)),g=g.double(),o>>=Rn,c>>=Rn;return i&&(l=l.negate()),s&&(d=d.negate()),d=new t(bt(d.x*oA.beta),d.y,d.z),l.add(d)}precomputeWindow(e){let r=sA?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=bi.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&JN.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),JN.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+(sA?128/n:256/n),l=2**(n-1),d=BigInt(2**n-1),g=2**n,b=BigInt(n);for(let _=0;_<c;_++){let T=_*l,M=Number(e&d);e>>=b,M>l&&(M-=g,e+=Rn);let k=T,B=T+Math.abs(M)-1,P=_%2!==0,D=M<0;M===0?s=s.add(aA(P,i[k])):o=o.add(aA(D,i[B]))}return{p:o,f:s}}multiply(e,r){let n=Lie(e),i,o;if(sA){let{k1neg:s,k1:c,k2neg:l,k2:d}=oA.splitScalar(n),{p:g,f:b}=this.wNAF(c,r),{p:_,f:T}=this.wNAF(d,r);g=aA(s,g),_=aA(l,_),_=new t(bt(_.x*oA.beta),_.y,_.z),i=g.add(_),o=b.add(T)}else{let{p:s,f:c}=this.wNAF(n,r);i=s,o=c}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?kie:pA(i));let s=e,c=bt(s*s),l=bt(c*s),d=bt(r*c),g=bt(n*l),b=bt(i*s);if(o)return bi.ZERO;if(b!==Rn)throw new Error("invZ was invalid");return new bi(d,g)}};Ns.BASE=new Ns(Bn.Gx,Bn.Gy,Rn);Ns.ZERO=new Ns(Ur,Rn,Ur);function aA(t,e){let r=e.negate();return t?r:e}var JN=new WeakMap,bi=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,JN.delete(this)}hasEvenY(){return this.y%Hh===Ur}static fromCompressedHex(e){let r=e.length===32,n=Ac(r?e:e.subarray(1));if(!fA(n))throw new Error("Point is not on curve");let i=Cie(n),o=wDe(i),s=(o&Rn)===Rn;r?s&&(o=bt(-o)):(e[0]&1)===1!==s&&(o=bt(-o));let c=new t(n,o);return c.assertValidity(),c}static fromUncompressedHex(e){let r=Ac(e.subarray(1,D1+1)),n=Ac(e.subarray(D1+1,D1*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=gm(e),n=r.length,i=r[0];if(n===D1)return this.fromCompressedHex(r);if(n===Rie&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Bie&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Rie} compressed bytes or ${Bie} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(B2(e))}static fromSignature(e,r,n){let{r:i,s:o}=TDe(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=_De(gm(e)),{n:c}=Bn,l=n===2||n===3?i+c:i,d=pA(l,c),g=bt(-s*d,c),b=bt(o*d,c),_=n&1?"03":"02",T=t.fromHex(_+Kh(l)),M=t.BASE.multiplyAndAddUnsafe(T,g,b);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return Vh(this.toHex(e))}toHex(e=!1){let r=Kh(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Kh(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!fA(r)||!fA(n))throw new Error(e);let i=bt(n*n),o=Cie(r);if(bt(i-o)!==Ur)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,bt(-this.y))}double(){return Ns.fromAffine(this).double().toAffine()}add(e){return Ns.fromAffine(this).add(Ns.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ns.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Ns.fromAffine(this),o=r===Ur||r===Rn||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=Ns.fromAffine(e).multiplyUnsafe(n),c=o.add(s);return c.equals(Ns.ZERO)?void 0:c.toAffine()}};bi.BASE=new bi(Bn.Gx,Bn.Gy);bi.ZERO=new bi(Ur,Ur);function Oie(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Die(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${U1(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ac(r),left:t.subarray(e+2)}}function bDe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${U1(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Die(t.subarray(2)),{data:n,left:i}=Die(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${U1(i)}`);return{r:e,s:n}}var M2=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?U1(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(lA(i.slice(0,64)),lA(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=bDe(r?e:Vh(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!R2(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!R2(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Bn.n>>Rn;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,bt(-this.s,Bn.n)):this}toDERRawBytes(){return Vh(this.toDERHex())}toDERHex(){let e=Oie(T2(this.s)),r=Oie(T2(this.r)),n=e.length/2,i=r.length/2,o=T2(n),s=T2(i);return`30${T2(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Vh(this.toCompactHex())}toCompactHex(){return Kh(this.r)+Kh(this.s)}};function A2(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var vDe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function U1(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=vDe[t[r]];return e}var xDe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Kh(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Ur<=t&&t<xDe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function P2(t){let e=Vh(Kh(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function T2(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function lA(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Vh(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Ac(t){return lA(U1(t))}function gm(t){return t instanceof Uint8Array?Uint8Array.from(t):Vh(t)}function Lie(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&R2(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function bt(t,e=Bn.P){let r=t%e;return r>=Ur?r:e+r}function _c(t,e){let{P:r}=Bn,n=t;for(;e-- >Ur;)n*=n,n%=r;return n}function wDe(t){let{P:e}=Bn,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,d=l*l*t%e,g=_c(d,I2)*d%e,b=_c(g,I2)*d%e,_=_c(b,Hh)*l%e,T=_c(_,n)*_%e,M=_c(T,i)*T%e,k=_c(M,s)*M%e,B=_c(k,c)*k%e,P=_c(B,s)*M%e,D=_c(P,I2)*d%e,R=_c(D,o)*T%e,L=_c(R,r)*l%e,V=_c(L,Hh);if(V*V%e!==t)throw new Error("Cannot find square root");return V}function pA(t,e=Bn.P){if(t===Ur||e<=Ur)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=bt(t,e),n=e,i=Ur,o=Rn,s=Rn,c=Ur;for(;r!==Ur;){let d=n/r,g=n%r,b=i-s*d,_=o-c*d;n=r,r=g,i=s,o=c,s=b,c=_}if(n!==Rn)throw new Error("invert: does not exist");return bt(i,e)}function SDe(t,e=Bn.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===Ur?o:(r[c]=o,bt(o*s,e)),Rn),i=pA(n,e);return t.reduceRight((o,s,c)=>s===Ur?o:(r[c]=bt(o*r[c],e),bt(o*s,e)),i),r}function EDe(t){let e=t.length*8-k2*8,r=Ac(t);return e>0?r>>BigInt(e):r}function _De(t,e=!1){let r=EDe(t);if(e)return r;let{n}=Bn;return r>=n?r-n:r}var L1,XN;function R2(t){return Ur<t&&t<Bn.n}function fA(t){return Ur<t&&t<Bn.P}function B2(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*k2)throw new Error("Expected 32 bytes of private key");e=lA(t)}else if(t instanceof Uint8Array){if(t.length!==k2)throw new Error("Expected 32 bytes of private key");e=Ac(t)}else throw new TypeError("Expected valid private key");if(!R2(e))throw new Error("Expected private key: 0 < key < n");return e}function ADe(t){return t instanceof bi?(t.assertValidity(),t):bi.fromHex(t)}function TDe(t){if(t instanceof M2)return t.assertValidity(),t;try{return M2.fromDER(t)}catch{return M2.fromCompact(t)}}function q1(t,e=!1){return bi.fromPrivateKey(t).toRawBytes(e)}function dA(t){return bt(Ac(t),Bn.n)}var F1=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=gm(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=Ac(r.subarray(0,32)),i=Ac(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!fA(e)||!R2(r))throw new Error("Invalid signature")}toHex(){return Kh(this.r)+Kh(this.s)}toRawBytes(){return Vh(this.toHex())}};function IDe(t){return bi.fromPrivateKey(t).toRawX()}var hA=class{constructor(e,r,n=Cu.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=gm(e);let{x:i,scalar:o}=this.getScalar(B2(r));if(this.px=i,this.d=o,this.rand=gm(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=bi.fromPrivateKey(e),n=r.hasEvenY()?e:Bn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return P2(e^Ac(r))}finalizeNonce(e){let r=bt(Ac(e),Bn.n);if(r===Ur)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new F1(e.x,bt(r+n*i,Bn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=Cu.taggedHash,s=this.initNonce(r,await o(qh.aux,i)),{R:c,rx:l,k:d}=this.finalizeNonce(await o(qh.nonce,s,n,e)),g=dA(await o(qh.challenge,l,n,e)),b=this.finalizeSig(c,d,g,r);return await qie(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=Cu.taggedHashSync,s=this.initNonce(r,o(qh.aux,i)),{R:c,rx:l,k:d}=this.finalizeNonce(o(qh.nonce,s,n,e)),g=dA(o(qh.challenge,l,n,e)),b=this.finalizeSig(c,d,g,r);return Hie(b,e,n)||this.error(),b}};async function MDe(t,e,r){return new hA(t,e,r).calc()}function kDe(t,e,r){return new hA(t,e,r).calcSync()}function Uie(t,e,r){let n=t instanceof F1,i=n?t:F1.fromHex(t);return n&&i.assertValidity(),{...i,m:gm(e),P:ADe(r)}}function Fie(t,e,r,n){let i=bi.BASE.multiplyAndAddUnsafe(e,B2(r),bt(-n,Bn.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function qie(t,e,r){try{let{r:n,s:i,m:o,P:s}=Uie(t,e,r),c=dA(await Cu.taggedHash(qh.challenge,P2(n),s.toRawX(),o));return Fie(n,s,i,c)}catch{return!1}}function Hie(t,e,r){try{let{r:n,s:i,m:o,P:s}=Uie(t,e,r),c=dA(Cu.taggedHashSync(qh.challenge,P2(n),s.toRawX(),o));return Fie(n,s,i,c)}catch(n){if(n instanceof uA)throw n;return!1}}var v_t={Signature:F1,getPublicKey:IDe,sign:MDe,verify:qie,signSync:kDe,verifySync:Hie};bi.BASE._setWindowSize(8);var La={node:gDe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},qh={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},cA={},Cu={bytesToHex:U1,hexToBytes:Vh,concatBytes:A2,mod:bt,invert:pA,isValidPrivateKey(t){try{return B2(t),!0}catch{return!1}},_bigintTo32Bytes:P2,_normalizePrivateKey:B2,hashToPrivateKey:t=>{t=gm(t);let e=k2+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=bt(Ac(t),Bn.n-Rn)+Rn;return P2(r)},randomBytes:(t=32)=>{if(La.web)return La.web.getRandomValues(new Uint8Array(t));if(La.node){let{randomBytes:e}=La.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Cu.hashToPrivateKey(Cu.randomBytes(k2+8)),precompute(t=8,e=bi.BASE){let r=e===bi.BASE?e:new bi(e.x,e.y);return r._setWindowSize(t),r.multiply(I2),r},sha256:async(...t)=>{if(La.web){let e=await La.web.subtle.digest("SHA-256",A2(...t));return new Uint8Array(e)}else if(La.node){let{createHash:e}=La.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(La.web){let r=await La.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=A2(...e),i=await La.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(La.node){let{createHmac:r}=La.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=cA[t];if(r===void 0){let n=await Cu.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=A2(n,n),cA[t]=r}return Cu.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof L1!="function")throw new uA("sha256Sync is undefined, you need to set it");let r=cA[t];if(r===void 0){let n=L1(Uint8Array.from(t,i=>i.charCodeAt(0)));r=A2(n,n),cA[t]=r}return L1(r,...e)},_JacobianPoint:Ns};Object.defineProperties(Cu,{sha256Sync:{configurable:!1,get(){return L1},set(t){L1||(L1=t)}},hmacSha256Sync:{configurable:!1,get(){return XN},set(t){XN||(XN=t)}}});h();p();var PDe=new Error("Unsupported path."),ko=(t,e=PDe)=>{throw e};h();p();var Kie=new RegExp("^[0-9]+'?$"),H1=2147483648;h();p();h();p();var mA=class extends Lh{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sn.hash(e);let n=If(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return sn.exists(this),this.iHash.update(e),this}digestInto(e){sn.exists(this),sn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Wl=(t,e,r)=>new mA(t,e).update(r).digest();Wl.create=(t,e)=>new mA(t,e);var L_t=new RegExp("^m(\\/[0-9]+')+$");var RDe="ed25519 seed",Vie=t=>{let e=Buffer.from(Wl(Bu,Buffer.from(RDe),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},jie=({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),o=Buffer.from(Wl(Bu,e,i)).toString("hex"),s=o.slice(0,64),c=o.slice(64);return{key:Buffer.from(s,"hex"),chainCode:Buffer.from(c,"hex")}};h();p();var $l=Ge(_i());var K1=Ge(xo());var BDe=$l.Buffer.from("Bitcoin seed"),zie=jr.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gie=t=>{let e=$l.Buffer.from(Wl(Bu,$l.Buffer.from(BDe),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:$l.Buffer.from(r,"hex"),chainCode:$l.Buffer.from(n,"hex")}},Wie=(t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&H1)i.set(r,1);else{let b=q1(r,!0);i.set((0,K1.arrayify)(b))}for(let b=24;b>=0;b-=8)i[33+(b>>3)]=e>>24-b&255;let o=$l.Buffer.from(Wl(Bu,n,i)).toString("hex"),s=o.slice(0,64),c=o.slice(64),l=jr.from(`0x${s}`);if(l.gte(zie))throw new Error("Invalid private key");let d=l.add(`0x${r.toString("hex")}`).mod(zie);if(d.eq(jr.from(0)))throw new Error("Invalid private key");let g=(0,K1.hexZeroPad)((0,K1.hexlify)(d),32);return{key:$l.Buffer.from(g.replace("0x",""),"hex"),chainCode:$l.Buffer.from(c,"hex")}};h();p();var eO=le.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!Kie.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."});var CDe=le.union([le.literal("bitcoinTaproot"),le.literal("bitcoinNativeSegwit"),le.literal("bitcoinNestedSegwit"),le.literal("bitcoinLegacy")]),NDe=le.union([le.literal("bip44RootEthereum"),le.literal("bip44Ethereum"),le.literal("bip44EthereumSecondary"),le.literal("bip44EthereumTertiary")]),ODe=le.union([le.literal("bip44Root"),le.literal("bip44"),le.literal("bip44Change"),le.literal("deprecated")]),DDe=le.literal("bip44Sui");h();p();var LDe=le.union([le.literal("bip44Change"),le.literal("bip44"),le.literal("deprecated")]),UDe=le.union([le.literal("bip44Ethereum"),le.literal("bip44EthereumSecondary"),le.literal("bip44EthereumTertiary")]),FDe=le.union([le.literal("bitcoinTaproot"),le.literal("bitcoinNativeSegwit"),le.literal("bitcoinNestedSegwit"),le.literal("bitcoinLegacy")]),qDe=le.literal("bip44Sui"),yA=le.number().int().min(0),HDe=le.object({pathType:le.literal("bip44Root"),index:le.number().optional()}),KDe=le.object({pathType:LDe,index:yA}),VDe=le.object({pathType:le.literal("bip44RootEthereum"),index:le.number().optional()}),jDe=le.object({pathType:UDe,index:yA}),zDe=le.object({pathType:FDe,index:yA}),GDe=le.object({pathType:qDe,index:yA}),Yie=le.union([HDe,KDe,VDe,jDe,zDe,GDe]),C2=new Error("Invalid derivation path."),Zie=new Error("Unsupported derivation path."),WDe=t=>{if(!Yie.safeParse(t).success)throw C2;switch(t.pathType){case"bitcoinTaproot":return`m/86'/0'/0'/0/${t.index}`;case"bitcoinNativeSegwit":return`m/84'/0'/0'/0/${t.index}`;case"bitcoinNestedSegwit":return`m/46'/0'/0'/0/${t.index}`;case"bitcoinLegacy":return`m/44'/0'/0'/0/${t.index}`;case"bip44RootEthereum":return"m/44'/60'";case"bip44Ethereum":return`m/44'/60'/0'/0/${t.index}`;case"bip44EthereumSecondary":return`m/44'/60'/1'/0/${t.index}`;case"bip44EthereumTertiary":return`m/44'/60'/2'/0/${t.index}`;case"bip44Root":return"m/44'/501'";case"deprecated":return`m/501'/${t.index}'/0/0`;case"bip44":return`m/44'/501'/${t.index}'`;case"bip44Change":return`m/44'/501'/${t.index}'/0'`;case"bip44Sui":return`m/44'/784'/${t.index}'/0'/0'`}},$ie=1<<31>>>0,$De=t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw C2;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let o="";for(let l=0;l<4;l++)o+=e[1+i*4+l];let s=parseInt(o,16),c=s>=$ie;c&&(s-=$ie),n+=`/${s.toString(10)}${c?"'":""}`}return n}catch{throw C2}},YDe=t=>{let e,r=eO.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=$De(t)}catch{throw C2}if(e==="m/44'/501'")return{pathType:"bip44Root"};if(e==="m/44'/60'")return{pathType:"bip44RootEthereum"};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinTaproot",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNativeSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNestedSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinLegacy",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bip44Ethereum",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:"bip44EthereumSecondary",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:"bip44EthereumTertiary",index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:"bip44Change",index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:"bip44",index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:"deprecated",index:parseInt(n[1],10)}}catch{}throw Zie};h();p();var s4t=new Error("Unsupported path."),ZDe=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!0;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},QDe=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!1;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return!0;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},XDe=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!0}};Gl.sha512Sync=(...t)=>Bu(Gl.concatBytes(...t));var{getPublicKey:JDe}=tA,Nu=class{#t;#e;constructor(e){this.#t={ellipticCurve:"ed25519",value:Vie(e),nodes:{}},this.#e={ellipticCurve:"secp256k1",value:Gie(e),nodes:{}}}derivePathType(e,r){switch(e){case"bitcoinTaproot":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNativeSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNestedSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinLegacy":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bip44Ethereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case"bip44EthereumSecondary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case"bip44EthereumTertiary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case"bip44RootEthereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case"bip44Change":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case"bip44":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case"deprecated":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case"bip44Root":return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case"bip44Sui":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):ko(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,o=n.split("/"),s=this.#t;for(let d of o){if(d==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let g=s.nodes?.[d]??null;if(!g){let b={ellipticCurve:r,value:jie(s.value,parseInt(d,10)+H1),nodes:{}};g=b,s.nodes[d]=b}s=g}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=JDe(s.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(s.value.key),{publicKey:c,secretKey:l};case 64:return l=new Uint8Array(64),l.set(s.value.key),l.set(c,32),{publicKey:c,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,o=n.split("/"),s=this.#e;for(let d of o){if(d==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let g=s.nodes?.[d]??null;if(!g){let b=0;d.endsWith("'")&&(b=H1);let _={ellipticCurve:r,value:Wie(s.value,parseInt(d,10)+b),nodes:{}};g=_,s.nodes[d]=_}s=g}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=s.value.key;return{publicKey:q1(c,i),secretKey:new Uint8Array(c)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#t),this.cleanUpTree(this.#e),this.#t=null,this.#e=null}};h();p();var gA=class{type="bip122_p2pkh";displayName="Legacy";defaultDerivationPathType="bitcoinLegacy";otherDerivationPathType=[]};h();p();var bA=class{type="bip122_p2wpkh";displayName="Native Segwit";defaultDerivationPathType="bitcoinNativeSegwit";otherDerivationPathType=[]};h();p();var vA=class{type="bip122_p2sh";displayName="Nested Segwit";defaultDerivationPathType="bitcoinNestedSegwit";otherDerivationPathType=[]};h();p();var xA=class{type="bip122_p2tr";displayName="Taproot";defaultDerivationPathType="bitcoinTaproot";otherDerivationPathType=[]};h();p();var wA=class{type="eip155";displayName="Ethereum";defaultDerivationPathType="bip44Ethereum";otherDerivationPathType=["bip44RootEthereum","bip44EthereumSecondary","bip44EthereumTertiary"]};h();p();var SA=class{type="solana";displayName="Solana";defaultDerivationPathType="bip44Change";otherDerivationPathType=["bip44Root","bip44","deprecated"]};h();p();var EA=class{type="sui";displayName="Sui";defaultDerivationPathType="bip44Sui";otherDerivationPathType=[]};var tO=class{bip122_p2tr=new xA;bip122_p2wpkh=new bA;bip122_p2sh=new vA;bip122_p2pkh=new gA;eip155=new wA;solana=new SA;sui=new EA;allAddressTypes=Object.values($t);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},bm=new tO;h();p();function Qie(t){return Buffer.from(t).toString("base64")}h();p();h();p();h();p();h();p();var Xie="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",Ic=class t{#t;#e;constructor(e){let r=e.length,n=WN(r),i=Jie(e,n);this.#e=n,this.#t=i}static from(e){return new t(e)}read=e=>{let r=_A(this.#t,this.#e);try{e(r)}finally{this.cleanup(r)}};readAsync=async e=>{let r=_A(this.#t,this.#e);try{await e(r)}finally{this.cleanup(r)}};fold=e=>{let r=_A(this.#t,this.#e);try{let n=e(r);if(n===r)throw new Error(Xie);return n}finally{this.cleanup(r)}};foldAsync=async e=>{let r=_A(this.#t,this.#e);try{let n=await e(r);if(n===r)throw new Error(Xie);return n}finally{this.cleanup(r)}};cleanup=e=>{let r=WN(e.length),n=Jie(e,r);this.#e=r,this.#t=n,e.fill(0)}},Jie=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},_A=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n};h();p();var tLe=t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");h();p();h();p();var rO=/^[A-Za-z0-9-_]*$/;var nO=t=>{if(!t.match(rO))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")};h();p();h();p();var rLe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rLe)throw new Error("Non little-endian hardware is not supported");h();p();h();p();h();p();function nLe(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){let g=t.charAt(d),b=g.charCodeAt(0);if(e[b]!==255)throw new TypeError(g+" is ambiguous");e[b]=d}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let g=0,b=0,_=0,T=d.length;for(;_!==T&&d[_]===0;)_++,g++;let M=(T-_)*o+1>>>0,k=new Uint8Array(M);for(;_!==T;){let D=d[_],R=0;for(let L=M-1;(D!==0||R<b)&&L!==-1;L--,R++)D+=256*k[L]>>>0,k[L]=D%r>>>0,D=D/r>>>0;if(D!==0)throw new Error("Non-zero carry");b=R,_++}let B=M-b;for(;B!==M&&k[B]===0;)B++;let P=n.repeat(g);for(;B<M;++B)P+=t.charAt(k[B]);return P}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let g=0,b=0,_=0;for(;d[g]===n;)b++,g++;let T=(d.length-g)*i+1>>>0,M=new Uint8Array(T);for(;d[g];){let D=e[d.charCodeAt(g)];if(D===255)return;let R=0;for(let L=T-1;(D!==0||R<_)&&L!==-1;L--,R++)D+=r*M[L]>>>0,M[L]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");_=R,g++}let k=T-_;for(;k!==T&&M[k]===0;)k++;let B=new Uint8Array(b+(T-k)),P=b;for(;k!==T;)B[P++]=M[k++];return B}function l(d){let g=c(d);if(g)return g;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:c,decode:l}}var eoe=nLe;var iLe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",toe=eoe(iLe);function oLe(t){let e=nO(t);return toe.encode(e)}h();p();h();p();h();p();var AA=class{addressTypes=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:q1(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new Nu(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};h();p();h();p();h();p();h();p();var noe=Ge(ks());h();p();var roe="properties/5.7.0";var sLe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(g){try{d(n.next(g))}catch(b){s(b)}}function l(g){try{d(n.throw(g))}catch(b){s(b)}}function d(g){g.done?o(g.value):i(g.value).then(c,l)}d((n=n.apply(t,e||[])).next())})},TA=new noe.Logger(roe);function Pt(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function DAt(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Yl(t){return sLe(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function ioe(t,e){(!t||typeof t!="object")&&TA.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||TA.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function O2(t){let e={};for(let r in t)e[r]=t[r];return e}var aLe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function ooe(t){if(t==null||aLe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!ooe(n))return!1}return!0}return TA.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function cLe(t){if(ooe(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>N2(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&Pt(e,r,N2(n))}return e}return TA.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function N2(t){return cLe(t)}var jh=class{constructor(e){for(let r in e)this[r]=N2(e[r])}};var coe=Ge(ks());h();p();var soe="abstract-provider/5.7.0";var fLe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(g){try{d(n.next(g))}catch(b){s(b)}}function l(g){try{d(n.throw(g))}catch(b){s(b)}}function d(g){g.done?o(g.value):i(g.value).then(c,l)}d((n=n.apply(t,e||[])).next())})},uLe=new coe.Logger(soe),aoe=class extends jh{static isForkEvent(e){return!!(e&&e._isForkEvent)}};var IA=class t{constructor(){uLe.checkAbstract(new.target,t),Pt(this,"_isProvider",!0)}getFeeData(){return fLe(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield Yl({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=jr.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};h();p();var Ou=Ge(ks());h();p();var foe="abstract-signer/5.7.0";var Mf=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(g){try{d(n.next(g))}catch(b){s(b)}}function l(g){try{d(n.throw(g))}catch(b){s(b)}}function d(g){g.done?o(g.value):i(g.value).then(c,l)}d((n=n.apply(t,e||[])).next())})},Mc=new Ou.Logger(foe),lLe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],dLe=[Ou.Logger.errors.INSUFFICIENT_FUNDS,Ou.Logger.errors.NONCE_EXPIRED,Ou.Logger.errors.REPLACEMENT_UNDERPRICED],D2=class t{constructor(){Mc.checkAbstract(new.target,t),Pt(this,"_isSigner",!0)}getBalance(e){return Mf(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Mf(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Mf(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield Yl(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Mf(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield Yl(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Mf(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Mf(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Mf(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Mf(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Mf(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)lLe.indexOf(n)===-1&&Mc.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=O2(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Mc.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Mf(this,void 0,void 0,function*(){let r=yield Yl(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Mf(this,void 0,void 0,function*(){if(i==null)return null;let o=yield this.resolveName(i);return o==null&&Mc.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Mc.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Mc.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Mc.throwError("network does not support EIP-1559",Ou.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Mc.throwError("failed to get consistent fee data",Ou.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(dLe.indexOf(i.code)>=0)throw i;return Mc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ou.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Mc.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Yl(r)})}_checkProvider(e){this.provider||Mc.throwError("missing provider",Ou.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},uoe=class t extends D2{constructor(e,r){super(),Pt(this,"address",e),Pt(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Mc.throwError(e,Ou.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var Rf=Ge(xo());h();p();h();p();h();p();h();p();h();p();var hLe="0x0000000000000000000000000000000000000000";h();p();var pLe=jr.from(-1),iO=jr.from(0),mLe=jr.from(1);var yLe=jr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");h();p();var gLe="0x0000000000000000000000000000000000000000000000000000000000000000";h();p();var oO=Ge(xo()),doe=Ge(ks());h();p();var loe="strings/5.7.0";var hoe=new doe.Logger(loe),kf;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(kf||(kf={}));var sa;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(sa||(sa={}));function bLe(t,e,r,n,i){return hoe.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function poe(t,e,r,n,i){if(t===sa.BAD_PREFIX||t===sa.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===sa.OVERRUN?r.length-e-1:0}function vLe(t,e,r,n,i){return t===sa.OVERLONG?(n.push(i),0):(n.push(65533),poe(t,e,r,n,i))}var moe=Object.freeze({error:bLe,ignore:poe,replace:vLe});function yoe(t,e){e==null&&(e=moe.error),t=(0,oO.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(sa.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(sa.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(sa.OVERRUN,n-1,t,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let d=t[n];if((d&192)!=128){n+=e(sa.MISSING_CONTINUE,n,t,r),c=null;break}c=c<<6|d&63,n++}if(c!==null){if(c>1114111){n+=e(sa.OUT_OF_RANGE,n-1-o,t,r,c);continue}if(c>=55296&&c<=57343){n+=e(sa.UTF16_SURROGATE,n-1-o,t,r,c);continue}if(c<=s){n+=e(sa.OVERLONG,n-1-o,t,r,c);continue}r.push(c)}}return r}function uo(t,e=kf.current){e!=kf.current&&(hoe.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,oO.arrayify)(r)}function xLe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function goe(t,e){return xLe(yoe(t,e))}function sO(t,e=kf.current){return yoe(uo(t,e))}function V1(t){return $r(uo(t))}h();p();var j1=Ge(xo());var Roe=Ge(ks());h();p();var MA="hash/5.7.0";h();p();h();p();h();p();h();p();var aO=Ge(xo());function cO(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,aO.arrayify)(e)}function wLe(t){t=(0,aO.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}h();p();function voe(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=function(o,s){n.call(o,function(c){s>0&&Array.isArray(c)?i(c,s-1):r.push(c)})};return i(t,e),r}function SLe(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}function ELe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let V=1;V<n;V++)o.push(i+=r());let s=r(),c=e;e+=s;let l=0,d=0;function g(){return l==0&&(d=d<<8|t[e++],l=8),d>>--l&1}let b=31,_=Math.pow(2,b),T=_>>>1,M=T>>1,k=_-1,B=0;for(let V=0;V<b;V++)B=B<<1|g();let P=[],D=0,R=_;for(;;){let V=Math.floor(((B-D+1)*i-1)/R),z=0,oe=n;for(;oe-z>1;){let S=z+oe>>>1;V<o[S]?oe=S:z=S}if(z==0)break;P.push(z);let $=D+Math.floor(R*o[z]/i),ne=D+Math.floor(R*o[z+1]/i)-1;for(;!(($^ne)&T);)B=B<<1&k|g(),$=$<<1&k,ne=ne<<1&k|1;for(;$&~ne&M;)B=B&T|B<<1&k>>>1|g(),$=$<<1^T,ne=(ne^T)<<1|T|1;D=$,R=1+ne-$}let L=n-4;return P.map(V=>{switch(V-L){case 3:return L+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return L+256+(t[c++]<<8|t[c++]);case 1:return L+t[c++];default:return V-1}})}function _Le(t){let e=0;return()=>t[e++]}function xoe(t){return _Le(ELe(t))}function ALe(t){return t&1?~t>>1:t>>1}function TLe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function boe(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function ILe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=ALe(e());return r}function L2(t,e){let r=boe(t(),t),n=t(),i=boe(n,t),o=TLe(n,t);for(let s=0;s<n;s++)for(let c=0;c<o[s];c++)r.push(i[s]+c);return e?r.map(s=>e[s]):r}function woe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(kLe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(PLe(r,t))}return SLe(voe(e))}function MLe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Soe(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)ILe(t,r).forEach((o,s)=>n[s].push(o));return n}function kLe(t,e){let r=1+e(),n=e(),i=MLe(e),o=Soe(i.length,1+t,e);return voe(o.map((s,c)=>{let l=s[0],d=s.slice(1);return Array(i[c]).fill(void 0).map((g,b)=>{let _=b*n;return[l+b*r,d.map(T=>T+_)]})}))}function PLe(t,e){let r=1+e();return Soe(r,1+t,e).map(i=>[i[0],i.slice(1)])}function Eoe(t){let e=L2(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let d=L2(t,e);if(d.length==0)break;n.push({set:new Set(d),node:r()})}n.sort((d,g)=>g.set.size-d.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let c=i==1,l=i==2;return{branches:n,valid:o,fe0f:s,save:c,check:l}}}function _oe(){return xoe(cO("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var kA=_oe(),RLe=new Set(L2(kA)),BLe=new Set(L2(kA)),CLe=woe(kA),NLe=Eoe(kA),Aoe=45,Toe=95;function Ioe(t){return sO(t)}function OLe(t){return t.filter(e=>e!=65039)}function Moe(t){for(let e of t.split(".")){let r=Ioe(e);try{for(let n=r.lastIndexOf(Toe)-1;n>=0;n--)if(r[n]!==Toe)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Aoe&&r[3]===Aoe)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function koe(t){return Moe(DLe(t,OLe))}function DLe(t,e){let r=Ioe(t).reverse(),n=[];for(;r.length;){let i=ULe(r);if(i){n.push(...e(i));continue}let o=r.pop();if(RLe.has(o)){n.push(o);continue}if(BLe.has(o))continue;let s=CLe[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return Moe(LLe(String.fromCodePoint(...n)))}function LLe(t){return t.normalize("NFC")}function ULe(t,e){var r;let n=NLe,i,o,s=[],c=t.length;for(e&&(e.length=0);c;){let l=t[--c];if(n=(r=n.branches.find(d=>d.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=l;else if(n.check&&l===o)break;s.push(l),n.fe0f&&(s.push(65039),c>0&&t[c-1]==65039&&c--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(c).reverse()),t.length=c)}return i}var FLe=new Roe.Logger(MA),Boe=new Uint8Array(32);Boe.fill(0);function Poe(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Coe(t){let e=uo(koe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Poe(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Poe(e.slice(n))),r}function qLe(t){typeof t!="string"&&FLe.throwArgumentError("invalid ENS name; not a string","name",t);let e=Boe,r=Coe(t);for(;r.length;)e=$r((0,j1.concat)([e,$r(r.pop())]));return(0,j1.hexlify)(e)}function HLe(t){return(0,j1.hexlify)((0,j1.concat)(Coe(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}h();p();var Noe=Ge(xo());var Ooe=`Ethereum Signed Message:
`;function fO(t){return typeof t=="string"&&(t=uo(t)),$r((0,Noe.concat)([uo(Ooe),uo(String(t.length)),t]))}h();p();var ci=Ge(xo());var Foe=Ge(ks());var KLe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(g){try{d(n.next(g))}catch(b){s(b)}}function l(g){try{d(n.throw(g))}catch(b){s(b)}}function d(g){g.done?o(g.value):i(g.value).then(c,l)}d((n=n.apply(t,e||[])).next())})},jn=new Foe.Logger(MA),qoe=new Uint8Array(32);qoe.fill(0);var VLe=jr.from(-1),Hoe=jr.from(0),Koe=jr.from(1),jLe=jr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function zLe(t){let e=(0,ci.arrayify)(t),r=e.length%32;return r?(0,ci.hexConcat)([e,qoe.slice(r)]):(0,ci.hexlify)(e)}var GLe=(0,ci.hexZeroPad)(Koe.toHexString(),32),WLe=(0,ci.hexZeroPad)(Hoe.toHexString(),32),Doe={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},uO=["name","version","chainId","verifyingContract","salt"];function Loe(t){return function(e){return typeof e!="string"&&jn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var $Le={name:Loe("name"),version:Loe("version"),chainId:function(t){try{return jr.from(t).toString()}catch{}return jn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return wo(t).toLowerCase()}catch{}return jn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{let e=(0,ci.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,ci.hexlify)(e)}catch{}return jn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function lO(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&jn.throwArgumentError("invalid numeric width","type",t);let i=jLe.mask(r?n-1:n),o=r?i.add(Koe).mul(VLe):Hoe;return function(s){let c=jr.from(s);return(c.lt(o)||c.gt(i))&&jn.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),(0,ci.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&jn.throwArgumentError("invalid bytes width","type",t),function(n){return(0,ci.arrayify)(n).length!==r&&jn.throwArgumentError(`invalid length for ${t}`,"value",n),zLe(n)}}}switch(t){case"address":return function(e){return(0,ci.hexZeroPad)(wo(e),32)};case"bool":return function(e){return e?GLe:WLe};case"bytes":return function(e){return $r(e)};case"string":return function(e){return V1(e)}}return null}function Uoe(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}var z1=class t{constructor(e){Pt(this,"types",Object.freeze(N2(e))),Pt(this,"_encoderCache",{}),Pt(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(c=>{r[c]={},n[c]=[],i[c]={}});for(let c in e){let l={};e[c].forEach(d=>{l[d.name]&&jn.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),l[d.name]=!0;let g=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];g===c&&jn.throwArgumentError(`circular type reference to ${JSON.stringify(g)}`,"types",e),!lO(g)&&(n[g]||jn.throwArgumentError(`unknown type ${JSON.stringify(g)}`,"types",e),n[g].push(c),r[c][g]=!0)})}let o=Object.keys(n).filter(c=>n[c].length===0);o.length===0?jn.throwArgumentError("missing primary type","types",e):o.length>1&&jn.throwArgumentError(`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Pt(this,"primaryType",o[0]);function s(c,l){l[c]&&jn.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),l[c]=!0,Object.keys(r[c]).forEach(d=>{n[d]&&(s(d,l),Object.keys(l).forEach(g=>{i[g][d]=!0}))}),delete l[c]}s(this.primaryType,{});for(let c in i){let l=Object.keys(i[c]);l.sort(),this._types[c]=Uoe(c,e[c])+l.map(d=>Uoe(d,e[d])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=lO(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return c=>{s>=0&&c.length!==s&&jn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let l=c.map(o);return this._types[i]&&(l=l.map($r)),$r((0,ci.hexConcat)(l))}}let n=this.types[e];if(n){let i=V1(this._types[e]);return o=>{let s=n.map(({name:c,type:l})=>{let d=this.getEncoder(l)(o[c]);return this._types[l]?$r(d):d});return s.unshift(i),(0,ci.hexConcat)(s)}}return jn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||jn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return $r(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(lO(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let s=i[1],c=parseInt(i[3]);return c>=0&&r.length!==c&&jn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(s,l,n))}let o=this.types[e];return o?o.reduce((s,{name:c,type:l})=>(s[c]=this._visit(l,r[c],n),s),{}):jn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=Doe[n];i||jn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>uO.indexOf(n.name)-uO.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,ci.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return $r(t.encode(e,r,n))}static resolveNames(e,r,n,i){return KLe(this,void 0,void 0,function*(){e=O2(e);let o={};e.verifyingContract&&!(0,ci.isHexString)(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=t.from(r);s.visit(n,(c,l)=>(c==="address"&&!(0,ci.isHexString)(l,20)&&(o[l]="0x"),l));for(let c in o)o[c]=yield i(c);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(c,l)=>c==="address"&&o[l]?o[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},o=[];uO.forEach(l=>{let d=e[l];d!=null&&(i[l]=$Le[l](d),o.push({name:l,type:Doe[l]}))});let s=t.from(r),c=O2(r);return c.EIP712Domain?jn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):c.EIP712Domain=o,s.encode(n),{types:c,domain:i,primaryType:s.primaryType,message:s.visit(n,(l,d)=>{if(l.match(/^bytes(\d*)/))return(0,ci.hexlify)((0,ci.arrayify)(d));if(l.match(/^u?int/))return jr.from(d).toString();switch(l){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&jn.throwArgumentError("invalid string","value",d),d}return jn.throwArgumentError("unsupported type","type",l)})}}};h();p();h();p();var dO=Ge(xo());var PA=class{constructor(e){Pt(this,"alphabet",e),Pt(this,"base",e.length),Pt(this,"_alphabetMap",{}),Pt(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,dO.arrayify)(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let c=0;c<n.length;++c)s+=n[c]<<8,n[c]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,dO.arrayify)(new Uint8Array(r.reverse()))}},qTt=new PA("abcdefghijklmnopqrstuvwxyz234567"),hO=new PA("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Nr=Ge(xo());h();p();h();p();var zh=Ge(xo()),yO=Ge(mO());function vm(t,e,r,n,i){t=(0,zh.arrayify)(t),e=(0,zh.arrayify)(e);let o,s=1,c=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let d,g;for(let b=1;b<=s;b++){l[e.length]=b>>24&255,l[e.length+1]=b>>16&255,l[e.length+2]=b>>8&255,l[e.length+3]=b&255;let _=(0,zh.arrayify)((0,yO.computeHmac)(i,t,l));o||(o=_.length,g=new Uint8Array(o),s=Math.ceil(n/o),d=n-(s-1)*o),g.set(_);for(let k=1;k<r;k++){_=(0,zh.arrayify)((0,yO.computeHmac)(i,t,_));for(let B=0;B<o;B++)g[B]^=_[B]}let T=(b-1)*o,M=b===s?d:o;c.set((0,zh.arrayify)(g).slice(0,M),T)}return(0,zh.hexlify)(c)}h();p();h();p();var Kt=Ge(Xy()),Du=Ge(Ug());function G1(t,e,r){return r={path:e,exports:{},require:function(n,i){return oUe(n,i??r.path)}},t(r,r.exports),r.exports}function oUe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var xO=Woe;function Woe(t,e){if(!t)throw new Error(e||"Assertion failed")}Woe.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Pf=G1(function(t,e){"use strict";var r=e;function n(s,c){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var d=0;d<s.length;d++)l[d]=s[d]|0;return l}if(c==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var d=0;d<s.length;d+=2)l.push(parseInt(s[d]+s[d+1],16))}else for(var d=0;d<s.length;d++){var g=s.charCodeAt(d),b=g>>8,_=g&255;b?l.push(b,_):l.push(_)}return l}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var c="",l=0;l<s.length;l++)c+=i(s[l].toString(16));return c}r.toHex=o,r.encode=function(c,l){return l==="hex"?o(c):c}}),Ua=G1(function(t,e){"use strict";var r=e;r.assert=xO,r.toArray=Pf.toArray,r.zero2=Pf.zero2,r.toHex=Pf.toHex,r.encode=Pf.encode;function n(l,d,g){var b=new Array(Math.max(l.bitLength(),g)+1);b.fill(0);for(var _=1<<d+1,T=l.clone(),M=0;M<b.length;M++){var k,B=T.andln(_-1);T.isOdd()?(B>(_>>1)-1?k=(_>>1)-B:k=B,T.isubn(k)):k=0,b[M]=k,T.iushrn(1)}return b}r.getNAF=n;function i(l,d){var g=[[],[]];l=l.clone(),d=d.clone();for(var b=0,_=0,T;l.cmpn(-b)>0||d.cmpn(-_)>0;){var M=l.andln(3)+b&3,k=d.andln(3)+_&3;M===3&&(M=-1),k===3&&(k=-1);var B;M&1?(T=l.andln(7)+b&7,(T===3||T===5)&&k===2?B=-M:B=M):B=0,g[0].push(B);var P;k&1?(T=d.andln(7)+_&7,(T===3||T===5)&&M===2?P=-k:P=k):P=0,g[1].push(P),2*b===B+1&&(b=1-b),2*_===P+1&&(_=1-_),l.iushrn(1),d.iushrn(1)}return g}r.getJSF=i;function o(l,d,g){var b="_"+d;l.prototype[d]=function(){return this[b]!==void 0?this[b]:this[b]=g.call(this)}}r.cachedProperty=o;function s(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=s;function c(l){return new Kt.default(l,"hex","le")}r.intFromLE=c}),OA=Ua.getNAF,sUe=Ua.getJSF,DA=Ua.assert;function Wh(t,e){this.type=t,this.p=new Kt.default(e.p,16),this.red=e.prime?Kt.default.red(e.prime):Kt.default.mont(this.p),this.zero=new Kt.default(0).toRed(this.red),this.one=new Kt.default(1).toRed(this.red),this.two=new Kt.default(2).toRed(this.red),this.n=e.n&&new Kt.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var xm=Wh;Wh.prototype.point=function(){throw new Error("Not implemented")};Wh.prototype.validate=function(){throw new Error("Not implemented")};Wh.prototype._fixedNafMul=function(e,r){DA(e.precomputed);var n=e._getDoubles(),i=OA(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var d=c+n.step-1;d>=c;d--)l=(l<<1)+i[d];s.push(l)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),_=o;_>0;_--){for(c=0;c<s.length;c++)l=s[c],l===_?b=b.mixedAdd(n.points[c]):l===-_&&(b=b.mixedAdd(n.points[c].neg()));g=g.add(b)}return g.toP()};Wh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=OA(r,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var d=0;l>=0&&s[l]===0;l--)d++;if(l>=0&&d++,c=c.dblp(d),l<0)break;var g=s[l];DA(g!==0),e.type==="affine"?g>0?c=c.mixedAdd(o[g-1>>1]):c=c.mixedAdd(o[-g-1>>1].neg()):g>0?c=c.add(o[g-1>>1]):c=c.add(o[-g-1>>1].neg())}return e.type==="affine"?c.toP():c};Wh.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,d=0,g,b,_;for(g=0;g<i;g++){_=r[g];var T=_._getNAFPoints(e);s[g]=T.wnd,c[g]=T.points}for(g=i-1;g>=1;g-=2){var M=g-1,k=g;if(s[M]!==1||s[k]!==1){l[M]=OA(n[M],s[M],this._bitLength),l[k]=OA(n[k],s[k],this._bitLength),d=Math.max(l[M].length,d),d=Math.max(l[k].length,d);continue}var B=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(B[1]=r[M].add(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].add(r[k].neg())):(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],D=sUe(n[M],n[k]);for(d=Math.max(D[0].length,d),l[M]=new Array(d),l[k]=new Array(d),b=0;b<d;b++){var R=D[0][b]|0,L=D[1][b]|0;l[M][b]=P[(R+1)*3+(L+1)],l[k][b]=0,c[M]=B}}var V=this.jpoint(null,null,null),z=this._wnafT4;for(g=d;g>=0;g--){for(var oe=0;g>=0;){var $=!0;for(b=0;b<i;b++)z[b]=l[b][g]|0,z[b]!==0&&($=!1);if(!$)break;oe++,g--}if(g>=0&&oe++,V=V.dblp(oe),g<0)break;for(b=0;b<i;b++){var ne=z[b];ne!==0&&(ne>0?_=c[b][ne-1>>1]:ne<0&&(_=c[b][-ne-1>>1].neg()),_.type==="affine"?V=V.mixedAdd(_):V=V.add(_))}}for(g=0;g<i;g++)c[g]=null;return o?V:V.toP()};function Bc(t,e){this.curve=t,this.type=e,this.precomputed=null}Wh.BasePoint=Bc;Bc.prototype.eq=function(){throw new Error("Not implemented")};Bc.prototype.validate=function(){return this.curve.validate(this)};Wh.prototype.decodePoint=function(e,r){e=Ua.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?DA(e[e.length-1]%2===0):e[0]===7&&DA(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Bc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Bc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Bc.prototype.encode=function(e,r){return Ua.encode(this._encode(r),e)};Bc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Bc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Bc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Bc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};Bc.prototype._getBeta=function(){return null};Bc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var wO=G1(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),aUe=Ua.assert;function Cc(t){xm.call(this,"short",t),this.a=new Kt.default(t.a,16).toRed(this.red),this.b=new Kt.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}wO(Cc,xm);var cUe=Cc;Cc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Kt.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Kt.default(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],aUe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(c){return{a:new Kt.default(c.a,16),b:new Kt.default(c.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Cc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Kt.default.mont(e),n=new Kt.default(2).toRed(r).redInvm(),i=n.redNeg(),o=new Kt.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),c=i.redSub(o).fromRed();return[s,c]};Cc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Kt.default(1),s=new Kt.default(0),c=new Kt.default(0),l=new Kt.default(1),d,g,b,_,T,M,k,B=0,P,D;n.cmpn(0)!==0;){var R=i.div(n);P=i.sub(R.mul(n)),D=c.sub(R.mul(o));var L=l.sub(R.mul(s));if(!b&&P.cmp(r)<0)d=k.neg(),g=o,b=P.neg(),_=D;else if(b&&++B===2)break;k=P,i=n,n=P,c=o,o=D,l=s,s=L}T=P.neg(),M=D;var V=b.sqr().add(_.sqr()),z=T.sqr().add(M.sqr());return z.cmp(V)>=0&&(T=d,M=g),b.negative&&(b=b.neg(),_=_.neg()),T.negative&&(T=T.neg(),M=M.neg()),[{a:b,b:_},{a:T,b:M}]};Cc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),c=o.mul(n.a),l=s.mul(i.a),d=o.mul(n.b),g=s.mul(i.b),b=e.sub(c).sub(l),_=d.add(g).neg();return{k1:b,k2:_}};Cc.prototype.pointFromX=function(e,r){e=new Kt.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Cc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Cc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var c=this._endoSplit(r[s]),l=e[s],d=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),d=d.neg(!0)),i[s*2]=l,i[s*2+1]=d,o[s*2]=c.k1,o[s*2+1]=c.k2}for(var g=this._wnafMulAdd(1,i,o,s*2,n),b=0;b<s*2;b++)i[b]=null,o[b]=null;return g};function lo(t,e,r,n){xm.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Kt.default(e,16),this.y=new Kt.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}wO(lo,xm.BasePoint);Cc.prototype.point=function(e,r,n){return new lo(this,e,r,n)};Cc.prototype.pointFromJSON=function(e,r){return lo.fromJSON(this,e,r)};lo.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};lo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};lo.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(c){return e.point(c[0],c[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};lo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};lo.prototype.isInfinity=function(){return this.inf};lo.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};lo.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),c=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,c)};lo.prototype.getX=function(){return this.x.fromRed()};lo.prototype.getY=function(){return this.y.fromRed()};lo.prototype.mul=function(e){return e=new Kt.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};lo.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};lo.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};lo.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};lo.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};lo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Po(t,e,r,n){xm.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Kt.default(0)):(this.x=new Kt.default(e,16),this.y=new Kt.default(r,16),this.z=new Kt.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}wO(Po,xm.BasePoint);Cc.prototype.jpoint=function(e,r,n){return new Po(this,e,r,n)};Po.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Po.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Po.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),d=s.redSub(c);if(l.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=l.redSqr(),b=g.redMul(l),_=i.redMul(g),T=d.redSqr().redIAdd(b).redISub(_).redISub(_),M=d.redMul(_.redISub(T)).redISub(s.redMul(b)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,M,k)};Po.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=o.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=c.redSqr(),g=d.redMul(c),b=n.redMul(d),_=l.redSqr().redIAdd(g).redISub(b).redISub(b),T=l.redMul(b.redISub(_)).redISub(o.redMul(g)),M=this.z.redMul(c);return this.curve.jpoint(_,T,M)};Po.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,c=this.y,l=this.z,d=l.redSqr().redSqr(),g=c.redAdd(c);for(r=0;r<e;r++){var b=s.redSqr(),_=g.redSqr(),T=_.redSqr(),M=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(d)),k=s.redMul(_),B=M.redSqr().redISub(k.redAdd(k)),P=k.redISub(B),D=M.redMul(P);D=D.redIAdd(D).redISub(T);var R=g.redMul(l);r+1<e&&(d=d.redMul(T)),s=B,l=R,g=D}return this.curve.jpoint(s,g.redMul(o),l)};Po.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Po.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),d=l.redSqr().redISub(c).redISub(c),g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),e=d,r=l.redMul(c.redISub(d)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),_=this.y.redSqr(),T=_.redSqr(),M=this.x.redAdd(_).redSqr().redISub(b).redISub(T);M=M.redIAdd(M);var k=b.redAdd(b).redIAdd(b),B=k.redSqr(),P=T.redIAdd(T);P=P.redIAdd(P),P=P.redIAdd(P),e=B.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Po.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=l.redSqr().redISub(c).redISub(c);e=d;var g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),r=l.redMul(c.redISub(d)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),_=this.y.redSqr(),T=this.x.redMul(_),M=this.x.redSub(b).redMul(this.x.redAdd(b));M=M.redAdd(M).redIAdd(M);var k=T.redIAdd(T);k=k.redIAdd(k);var B=k.redAdd(k);e=M.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(b);var P=_.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=M.redMul(k.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};Po.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),c=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),d=r.redAdd(r);d=d.redIAdd(d);var g=d.redMul(c),b=l.redSqr().redISub(g.redAdd(g)),_=g.redISub(b),T=c.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var M=l.redMul(_).redISub(T),k=n.redAdd(n).redMul(i);return this.curve.jpoint(b,M,k)};Po.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(s);var l=c.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var g=o.redIAdd(c).redSqr().redISub(s).redISub(l).redISub(d),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var _=this.x.redMul(l).redISub(b);_=_.redIAdd(_),_=_.redIAdd(_);var T=this.y.redMul(g.redMul(d.redISub(g)).redISub(c.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var M=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(_,T,M)};Po.prototype.mul=function(e,r){return e=new Kt.default(e,r),this.curve._wnafMul(this,e)};Po.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Po.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Po.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Po.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var CA=G1(function(t,e){"use strict";var r=e;r.base=xm,r.short=cUe,r.mont=null,r.edwards=null}),NA=G1(function(t,e){"use strict";var r=e,n=Ua.assert;function i(c){c.type==="short"?this.curve=new CA.short(c):c.type==="edwards"?this.curve=new CA.edwards(c):this.curve=new CA.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(c,l){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){var d=new i(l);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:d}),d}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Du.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Du.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Du.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Du.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Du.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Du.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Du.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Du.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Gh(t){if(!(this instanceof Gh))return new Gh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Pf.toArray(t.entropy,t.entropyEnc||"hex"),r=Pf.toArray(t.nonce,t.nonceEnc||"hex"),n=Pf.toArray(t.pers,t.persEnc||"hex");xO(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var $oe=Gh;Gh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Gh.prototype._hmac=function(){return new Du.default.hmac(this.hash,this.K)};Gh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Gh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Pf.toArray(e,r),n=Pf.toArray(n,i),xO(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Gh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Pf.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Pf.encode(s,r)};var vO=Ua.assert;function cs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var SO=cs;cs.fromPublic=function(e,r,n){return r instanceof cs?r:new cs(e,{pub:r,pubEnc:n})};cs.fromPrivate=function(e,r,n){return r instanceof cs?r:new cs(e,{priv:r,privEnc:n})};cs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};cs.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};cs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};cs.prototype._importPrivate=function(e,r){this.priv=new Kt.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};cs.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?vO(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&vO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};cs.prototype.derive=function(e){return e.validate()||vO(e.validate(),"public point not validated"),e.mul(this.priv).getX()};cs.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};cs.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};cs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var fUe=Ua.assert;function LA(t,e){if(t instanceof LA)return t;this._importDER(t,e)||(fUe(t.r&&t.s,"Signature without r or s"),this.r=new Kt.default(t.r,16),this.s=new Kt.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var UA=LA;function uUe(){this.place=0}function gO(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Goe(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}LA.prototype._importDER=function(e,r){e=Ua.toArray(e,r);var n=new uUe;if(e[n.place++]!==48)return!1;var i=gO(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=gO(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var c=gO(e,n);if(c===!1||e.length!==c+n.place)return!1;var l=e.slice(n.place,c+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Kt.default(s),this.s=new Kt.default(l),this.recoveryParam=null,!0};function bO(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}LA.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Goe(r),n=Goe(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];bO(i,r.length),i=i.concat(r),i.push(2),bO(i,n.length);var o=i.concat(n),s=[48];return bO(s,o.length),s=s.concat(o),Ua.encode(s,e)};var lUe=function(){throw new Error("unsupported")},Yoe=Ua.assert;function Rc(t){if(!(this instanceof Rc))return new Rc(t);typeof t=="string"&&(Yoe(Object.prototype.hasOwnProperty.call(NA,t),"Unknown curve "+t),t=NA[t]),t instanceof NA.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var dUe=Rc;Rc.prototype.keyPair=function(e){return new SO(this,e)};Rc.prototype.keyFromPrivate=function(e,r){return SO.fromPrivate(this,e,r)};Rc.prototype.keyFromPublic=function(e,r){return SO.fromPublic(this,e,r)};Rc.prototype.genKeyPair=function(e){e||(e={});for(var r=new $oe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||lUe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Kt.default(2));;){var o=new Kt.default(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Rc.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Rc.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Kt.default(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),c=e.toArray("be",o),l=new $oe({hash:this.hash,entropy:s,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new Kt.default(1)),g=0;;g++){var b=i.k?i.k(g):new Kt.default(l.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(d)>=0)){var _=this.g.mul(b);if(!_.isInfinity()){var T=_.getX(),M=T.umod(this.n);if(M.cmpn(0)!==0){var k=b.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var B=(_.getY().isOdd()?1:0)|(T.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),B^=1),new UA({r:M,s:k,recoveryParam:B})}}}}}};Rc.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Kt.default(e,16)),n=this.keyFromPublic(n,i),r=new UA(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var c=s.invm(this.n),l=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(l,n.getPublic(),d),g.isInfinity()?!1:g.eqXToP(o)):(g=this.g.mulAdd(l,n.getPublic(),d),g.isInfinity()?!1:g.getX().umod(this.n).cmp(o)===0)};Rc.prototype.recoverPubKey=function(t,e,r,n){Yoe((3&r)===r,"The recovery param is more than two bits"),e=new UA(e,n);var i=this.n,o=new Kt.default(t),s=e.r,c=e.s,l=r&1,d=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var g=e.r.invm(i),b=i.sub(o).mul(g).umod(i),_=c.mul(g).umod(i);return this.g.mulAdd(b,s,_)};Rc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new UA(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var hUe=G1(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=Ua,r.rand=function(){throw new Error("unsupported")},r.curve=CA,r.curves=NA,r.ec=dUe,r.eddsa=null}),Zoe=hUe.ec;var _n=Ge(xo());var Xoe=Ge(ks());h();p();var Qoe="signing-key/5.7.0";var _O=new Xoe.Logger(Qoe),EO=null;function Lu(){return EO||(EO=new Zoe("secp256k1")),EO}var Uu=class{constructor(e){Pt(this,"curve","secp256k1"),Pt(this,"privateKey",(0,_n.hexlify)(e)),(0,_n.hexDataLength)(this.privateKey)!==32&&_O.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Lu().keyFromPrivate((0,_n.arrayify)(this.privateKey));Pt(this,"publicKey","0x"+r.getPublic(!1,"hex")),Pt(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Pt(this,"_isSigningKey",!0)}_addPoint(e){let r=Lu().keyFromPublic((0,_n.arrayify)(this.publicKey)),n=Lu().keyFromPublic((0,_n.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Lu().keyFromPrivate((0,_n.arrayify)(this.privateKey)),n=(0,_n.arrayify)(e);n.length!==32&&_O.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,_n.splitSignature)({recoveryParam:i.recoveryParam,r:(0,_n.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,_n.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=Lu().keyFromPrivate((0,_n.arrayify)(this.privateKey)),n=Lu().keyFromPublic((0,_n.arrayify)(AO(e)));return(0,_n.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Joe(t,e){let r=(0,_n.splitSignature)(e),n={r:(0,_n.arrayify)(r.r),s:(0,_n.arrayify)(r.s)};return"0x"+Lu().recoverPubKey((0,_n.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}function AO(t,e){let r=(0,_n.arrayify)(t);if(r.length===32){let n=new Uu(r);return e?"0x"+Lu().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,_n.hexlify)(r):"0x"+Lu().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Lu().keyFromPublic(r).getPublic(!0,"hex"):(0,_n.hexlify)(r)}return _O.throwArgumentError("invalid public or private key","key","[REDACTED]")}var aa=Ge(mO());h();p();var Ht=Ge(xo());var FA=Ge(ks());h();p();var ese="transactions/5.7.0";var us=new FA.Logger(ese),tse;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(tse||(tse={}));function IO(t){return t==="0x"?null:wo(t)}function fs(t){return t==="0x"?iO:jr.from(t)}var pUe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],mUe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Fu(t){let e=AO(t);return wo((0,Ht.hexDataSlice)($r((0,Ht.hexDataSlice)(e,1)),12))}function MO(t,e){return Fu(Joe((0,Ht.arrayify)(t),e))}function Fa(t,e){let r=(0,Ht.stripZeros)(jr.from(t).toHexString());return r.length>32&&us.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function TO(t,e){return{address:wo(t),storageKeys:(e||[]).map((r,n)=>((0,Ht.hexDataLength)(r)!==32&&us.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function kO(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&us.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),TO(r[0],r[1])):TO(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return TO(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function rse(t){return kO(t).map(e=>[e.address,e.storageKeys])}function nse(t,e){if(t.gasPrice!=null){let n=jr.from(t.gasPrice),i=jr.from(t.maxFeePerGas||0);n.eq(i)||us.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[Fa(t.chainId||0,"chainId"),Fa(t.nonce||0,"nonce"),Fa(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fa(t.maxFeePerGas||0,"maxFeePerGas"),Fa(t.gasLimit||0,"gasLimit"),t.to!=null?wo(t.to):"0x",Fa(t.value||0,"value"),t.data||"0x",rse(t.accessList||[])];if(e){let n=(0,Ht.splitSignature)(e);r.push(Fa(n.recoveryParam,"recoveryParam")),r.push((0,Ht.stripZeros)(n.r)),r.push((0,Ht.stripZeros)(n.s))}return(0,Ht.hexConcat)(["0x02",Jy(r)])}function ise(t,e){let r=[Fa(t.chainId||0,"chainId"),Fa(t.nonce||0,"nonce"),Fa(t.gasPrice||0,"gasPrice"),Fa(t.gasLimit||0,"gasLimit"),t.to!=null?wo(t.to):"0x",Fa(t.value||0,"value"),t.data||"0x",rse(t.accessList||[])];if(e){let n=(0,Ht.splitSignature)(e);r.push(Fa(n.recoveryParam,"recoveryParam")),r.push((0,Ht.stripZeros)(n.r)),r.push((0,Ht.stripZeros)(n.s))}return(0,Ht.hexConcat)(["0x01",Jy(r)])}function yUe(t,e){ioe(t,mUe);let r=[];pUe.forEach(function(s){let c=t[s.name]||[],l={};s.numeric&&(l.hexPad="left"),c=(0,Ht.arrayify)((0,Ht.hexlify)(c,l)),s.length&&c.length!==s.length&&c.length>0&&us.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,c),s.maxLength&&(c=(0,Ht.stripZeros)(c),c.length>s.maxLength&&us.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,c)),r.push((0,Ht.hexlify)(c))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&us.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,Ht.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,Ht.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return Jy(r);let i=(0,Ht.splitSignature)(e),o=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),o+=n*2+8,i.v>28&&i.v!==o&&us.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&us.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,Ht.hexlify)(o)),r.push((0,Ht.stripZeros)((0,Ht.arrayify)(i.r))),r.push((0,Ht.stripZeros)((0,Ht.arrayify)(i.s))),Jy(r)}function PO(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&us.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),yUe(t,e);switch(t.type){case 1:return ise(t,e);case 2:return nse(t,e);default:break}return us.throwError(`unsupported transaction type: ${t.type}`,FA.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function ose(t,e,r){try{let n=fs(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{us.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,Ht.hexZeroPad)(e[1],32),t.s=(0,Ht.hexZeroPad)(e[2],32);try{let n=$r(r(t));t.from=MO(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function gUe(t){let e=i6(t.slice(1));e.length!==9&&e.length!==12&&us.throwArgumentError("invalid component count for transaction type: 2","payload",(0,Ht.hexlify)(t));let r=fs(e[2]),n=fs(e[3]),i={type:2,chainId:fs(e[0]).toNumber(),nonce:fs(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:fs(e[4]),to:IO(e[5]),value:fs(e[6]),data:e[7],accessList:kO(e[8])};return e.length===9||(i.hash=$r(t),ose(i,e.slice(9),nse)),i}function bUe(t){let e=i6(t.slice(1));e.length!==8&&e.length!==11&&us.throwArgumentError("invalid component count for transaction type: 1","payload",(0,Ht.hexlify)(t));let r={type:1,chainId:fs(e[0]).toNumber(),nonce:fs(e[1]).toNumber(),gasPrice:fs(e[2]),gasLimit:fs(e[3]),to:IO(e[4]),value:fs(e[5]),data:e[6],accessList:kO(e[7])};return e.length===8||(r.hash=$r(t),ose(r,e.slice(8),ise)),r}function vUe(t){let e=i6(t);e.length!==9&&e.length!==6&&us.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:fs(e[0]).toNumber(),gasPrice:fs(e[1]),gasLimit:fs(e[2]),to:IO(e[3]),value:fs(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=jr.from(e[6]).toNumber()}catch{return r}if(r.r=(0,Ht.hexZeroPad)(e[7],32),r.s=(0,Ht.hexZeroPad)(e[8],32),jr.from(r.r).isZero()&&jr.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,Ht.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let o=$r(Jy(i));try{r.from=MO(o,{r:(0,Ht.hexlify)(r.r),s:(0,Ht.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=$r(t)}return r.type=null,r}function BIt(t){let e=(0,Ht.arrayify)(t);if(e[0]>127)return vUe(e);switch(e[0]){case 1:return bUe(e);case 2:return gUe(e);default:break}return us.throwError(`unsupported transaction type: ${e[0]}`,FA.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}h();p();h();p();var ase=Ge(ks());h();p();var sse="wordlists/5.7.0";var xUe=!1,wUe=new ase.Logger(sse),W1=class t{constructor(e){wUe.checkAbstract(new.target,t),Pt(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return V1(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),xUe)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||Pt(n._ethers.wordlists,r,e))}catch{}}};h();p();h();p();var SUe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",H2=null;function cse(t){if(H2==null&&(H2=SUe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),W1.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw H2=null,new Error("BIP39 Wordlist for en (English) FAILED")}var RO=class extends W1{constructor(){super("en")}getWord(e){return cse(this),H2[e]}getWordIndex(e){return cse(this),H2.indexOf(e)}},BO=new RO;W1.register(BO);var qA={en:BO};var lse=Ge(ks());h();p();var fse="hdnode/5.7.0";var KA=new lse.Logger(fse),EUe=jr.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_Ue=uo("Bitcoin seed"),K2=2147483648;function dse(t){return(1<<t)-1<<8-t}function AUe(t){return(1<<t)-1}function HA(t){return(0,Nr.hexZeroPad)((0,Nr.hexlify)(t),32)}function use(t){return hO.encode((0,Nr.concat)([t,(0,Nr.hexDataSlice)((0,aa.sha256)((0,aa.sha256)(t)),0,4)]))}function CO(t){if(t==null)return qA.en;if(typeof t=="string"){let e=qA[t];return e==null&&KA.throwArgumentError("unknown locale","wordlist",t),e}return t}var $1={},wm="m/44'/60'/0'/0/0",$h=class t{constructor(e,r,n,i,o,s,c,l){if(e!==$1)throw new Error("HDNode constructor cannot be called directly");if(r){let d=new Uu(r);Pt(this,"privateKey",d.privateKey),Pt(this,"publicKey",d.compressedPublicKey)}else Pt(this,"privateKey",null),Pt(this,"publicKey",(0,Nr.hexlify)(n));Pt(this,"parentFingerprint",i),Pt(this,"fingerprint",(0,Nr.hexDataSlice)((0,aa.ripemd160)((0,aa.sha256)(this.publicKey)),0,4)),Pt(this,"address",Fu(this.publicKey)),Pt(this,"chainCode",o),Pt(this,"index",s),Pt(this,"depth",c),l==null?(Pt(this,"mnemonic",null),Pt(this,"path",null)):typeof l=="string"?(Pt(this,"mnemonic",null),Pt(this,"path",l)):(Pt(this,"mnemonic",l),Pt(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return use((0,Nr.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,Nr.hexlify)(this.depth),this.parentFingerprint,(0,Nr.hexZeroPad)((0,Nr.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,Nr.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t($1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~K2));let n=new Uint8Array(37);if(e&K2){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,Nr.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,Nr.arrayify)(this.publicKey));for(let b=24;b>=0;b-=8)n[33+(b>>3)]=e>>24-b&255;let i=(0,Nr.arrayify)((0,aa.computeHmac)(aa.SupportedAlgorithm.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32),c=null,l=null;this.privateKey?c=HA(jr.from(o).add(this.privateKey).mod(EUe)):l=new Uu((0,Nr.hexlify)(o))._addPoint(this.publicKey);let d=r,g=this.mnemonic;return g&&(d=Object.freeze({phrase:g.phrase,path:r,locale:g.locale||"en"})),new t($1,c,l,this.fingerprint,HA(s),e,this.depth+1,d)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let o=r[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));if(s>=K2)throw new Error("invalid path index - "+o);n=n._derive(K2+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);if(s>=K2)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,r){let n=(0,Nr.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,Nr.arrayify)((0,aa.computeHmac)(aa.SupportedAlgorithm.sha512,_Ue,n));return new t($1,HA(i.slice(0,32)),null,"0x00000000",HA(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=CO(n),e=V2(NO(e,n),n),t._fromSeed(TUe(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=hO.decode(e);(r.length!==82||use(r.slice(0,78))!==e)&&KA.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,Nr.hexlify)(r.slice(5,9)),o=parseInt((0,Nr.hexlify)(r.slice(9,13)).substring(2),16),s=(0,Nr.hexlify)(r.slice(13,45)),c=r.slice(45,78);switch((0,Nr.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t($1,null,(0,Nr.hexlify)(c),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new t($1,(0,Nr.hexlify)(c.slice(1)),null,i,s,o,n,null)}return KA.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function TUe(t,e){e||(e="");let r=uo("mnemonic"+e,kf.NFKD);return vm(uo(t,kf.NFKD),r,2048,64,"sha512")}function NO(t,e){e=CO(e),KA.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,Nr.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let d=0;d<r.length;d++){let g=e.getWordIndex(r[d].normalize("NFKD"));if(g===-1)throw new Error("invalid mnemonic");for(let b=0;b<11;b++)g&1<<10-b&&(n[i>>3]|=1<<7-i%8),i++}let o=32*r.length/3,s=r.length/3,c=dse(s);if(((0,Nr.arrayify)((0,aa.sha256)(n.slice(0,o/8)))[0]&c)!==(n[n.length-1]&c))throw new Error("invalid checksum");return(0,Nr.hexlify)(n.slice(0,o/8))}function V2(t,e){if(e=CO(e),t=(0,Nr.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&AUe(8-n)),n+=3);let i=t.length/4,o=(0,Nr.arrayify)((0,aa.sha256)(t))[0]&dse(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}h();p();h();p();var mse=Ge(xo()),DO=Ge(ks());h();p();var hse="random/5.7.0";var OO=new DO.Logger(hse);function IUe(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}var pse=IUe(),VA=pse.crypto||pse.msCrypto;(!VA||!VA.getRandomValues)&&(OO.warn("WARNING: Missing strong random number source"),VA={getRandomValues:function(t){return OO.throwError("no secure random source avaialble",DO.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Yh(t){(t<=0||t>1024||t%1||t!=t)&&OO.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return VA.getRandomValues(e),(0,mse.arrayify)(e)}h();p();h();p();var FO=Ge(UO());var qO=Ge(xo());var bse=Ge(ks());h();p();var jA="json-wallets/5.7.0";h();p();var Y1=Ge(xo());function Zl(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,Y1.arrayify)(t)}function Z1(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function j2(t){return typeof t=="string"?uo(t,kf.NFKC):(0,Y1.arrayify)(t)}function zn(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(let s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(o===null)return null;r=o}return r}function gse(t){let e=(0,Y1.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,Y1.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var MUe=new bse.Logger(jA),HO=class extends jh{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function KO(t,e){let r=JSON.parse(t);e=j2(e);let n=wo(zn(r,"ethaddr")),i=Zl(zn(r,"encseed"));(!i||i.length%16!==0)&&MUe.throwArgumentError("invalid encseed","json",t);let o=(0,qO.arrayify)(vm(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),c=i.slice(16),l=new FO.default.ModeOfOperation.cbc(o,s),d=FO.default.padding.pkcs7.strip((0,qO.arrayify)(l.decrypt(c))),g="";for(let T=0;T<d.length;T++)g+=String.fromCharCode(d[T]);let b=uo(g),_=$r(b);return new HO({_isCrowdsaleAccount:!0,address:n,privateKey:_})}h();p();function VO(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function jO(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}h();p();var Ql=Ge(UO()),GA=Ge(xse());var Gn=Ge(xo());var zA=Ge(ks());var kUe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(g){try{d(n.next(g))}catch(b){s(b)}}function l(g){try{d(n.throw(g))}catch(b){s(b)}}function d(g){g.done?o(g.value):i(g.value).then(c,l)}d((n=n.apply(t,e||[])).next())})},GO=new zA.Logger(jA);function wse(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var WO=class extends jh{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function PUe(t,e,r){if(zn(t,"crypto/cipher")==="aes-128-ctr"){let i=Zl(zn(t,"crypto/cipherparams/iv")),o=new Ql.default.Counter(i),s=new Ql.default.ModeOfOperation.ctr(e,o);return(0,Gn.arrayify)(s.decrypt(r))}return null}function Sse(t,e){let r=Zl(zn(t,"crypto/ciphertext"));if((0,Gn.hexlify)($r((0,Gn.concat)([e.slice(16,32),r]))).substring(2)!==zn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=PUe(t,e.slice(0,16),r);i||GO.throwError("unsupported cipher",zA.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let o=e.slice(32,64),s=Fu(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),wo(l)!==s)throw new Error("address mismatch")}let c={_isKeystoreAccount:!0,address:s,privateKey:(0,Gn.hexlify)(i)};if(zn(t,"x-ethers/version")==="0.1"){let l=Zl(zn(t,"x-ethers/mnemonicCiphertext")),d=Zl(zn(t,"x-ethers/mnemonicCounter")),g=new Ql.default.Counter(d),b=new Ql.default.ModeOfOperation.ctr(o,g),_=zn(t,"x-ethers/path")||wm,T=zn(t,"x-ethers/locale")||"en",M=(0,Gn.arrayify)(b.decrypt(l));try{let k=V2(M,T),B=$h.fromMnemonic(k,null,T).derivePath(_);if(B.privateKey!=c.privateKey)throw new Error("mnemonic mismatch");c.mnemonic=B.mnemonic}catch(k){if(k.code!==zA.Logger.errors.INVALID_ARGUMENT||k.argument!=="wordlist")throw k}}return new WO(c)}function Ese(t,e,r,n,i){return(0,Gn.arrayify)(vm(t,e,r,n,i))}function RUe(t,e,r,n,i){return Promise.resolve(Ese(t,e,r,n,i))}function _se(t,e,r,n,i){let o=j2(e),s=zn(t,"crypto/kdf");if(s&&typeof s=="string"){let c=function(l,d){return GO.throwArgumentError("invalid key-derivation function parameters",l,d)};if(s.toLowerCase()==="scrypt"){let l=Zl(zn(t,"crypto/kdfparams/salt")),d=parseInt(zn(t,"crypto/kdfparams/n")),g=parseInt(zn(t,"crypto/kdfparams/r")),b=parseInt(zn(t,"crypto/kdfparams/p"));(!d||!g||!b)&&c("kdf",s),d&d-1&&c("N",d);let _=parseInt(zn(t,"crypto/kdfparams/dklen"));return _!==32&&c("dklen",_),n(o,l,d,g,b,64,i)}else if(s.toLowerCase()==="pbkdf2"){let l=Zl(zn(t,"crypto/kdfparams/salt")),d=null,g=zn(t,"crypto/kdfparams/prf");g==="hmac-sha256"?d="sha256":g==="hmac-sha512"?d="sha512":c("prf",g);let b=parseInt(zn(t,"crypto/kdfparams/c")),_=parseInt(zn(t,"crypto/kdfparams/dklen"));return _!==32&&c("dklen",_),r(o,l,b,_,d)}}return GO.throwArgumentError("unsupported key-derivation function","kdf",s)}function Ase(t,e){let r=JSON.parse(t),n=_se(r,e,Ese,GA.default.syncScrypt);return Sse(r,n)}function Tse(t,e,r){return kUe(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield _se(n,e,RUe,GA.default.scrypt,r);return Sse(n,i)})}function $O(t,e,r,n){try{if(wo(t.address)!==Fu(t.privateKey))throw new Error("address/privateKey mismatch");if(wse(t)){let B=t.mnemonic;if($h.fromMnemonic(B.phrase,null,B.locale).derivePath(B.path||wm).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(B){return Promise.reject(B)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,Gn.arrayify)(t.privateKey),o=j2(e),s=null,c=null,l=null;if(wse(t)){let B=t.mnemonic;s=(0,Gn.arrayify)(NO(B.phrase,B.locale||"en")),c=B.path||wm,l=B.locale||"en"}let d=r.client;d||(d="ethers.js");let g=null;r.salt?g=(0,Gn.arrayify)(r.salt):g=Yh(32);let b=null;if(r.iv){if(b=(0,Gn.arrayify)(r.iv),b.length!==16)throw new Error("invalid iv")}else b=Yh(16);let _=null;if(r.uuid){if(_=(0,Gn.arrayify)(r.uuid),_.length!==16)throw new Error("invalid uuid")}else _=Yh(16);let T=1<<17,M=8,k=1;return r.scrypt&&(r.scrypt.N&&(T=r.scrypt.N),r.scrypt.r&&(M=r.scrypt.r),r.scrypt.p&&(k=r.scrypt.p)),GA.default.scrypt(o,g,T,M,k,64,n).then(B=>{B=(0,Gn.arrayify)(B);let P=B.slice(0,16),D=B.slice(16,32),R=B.slice(32,64),L=new Ql.default.Counter(b),V=new Ql.default.ModeOfOperation.ctr(P,L),z=(0,Gn.arrayify)(V.encrypt(i)),oe=$r((0,Gn.concat)([D,z])),$={address:t.address.substring(2).toLowerCase(),id:gse(_),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Gn.hexlify)(b).substring(2)},ciphertext:(0,Gn.hexlify)(z).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Gn.hexlify)(g).substring(2),n:T,dklen:32,p:k,r:M},mac:oe.substring(2)}};if(s){let ne=Yh(16),S=new Ql.default.Counter(ne),a=new Ql.default.ModeOfOperation.ctr(R,S),u=(0,Gn.arrayify)(a.encrypt(s)),m=new Date,y=m.getUTCFullYear()+"-"+Z1(m.getUTCMonth()+1,2)+"-"+Z1(m.getUTCDate(),2)+"T"+Z1(m.getUTCHours(),2)+"-"+Z1(m.getUTCMinutes(),2)+"-"+Z1(m.getUTCSeconds(),2)+".0Z";$["x-ethers"]={client:d,gethFilename:"UTC--"+y+"--"+$.address,mnemonicCounter:(0,Gn.hexlify)(ne).substring(2),mnemonicCiphertext:(0,Gn.hexlify)(u).substring(2),path:c,locale:l,version:"0.1"}}return JSON.stringify($)})}function Ise(t,e,r){if(VO(t)){r&&r(0);let n=KO(t,e);return r&&r(1),Promise.resolve(n)}return jO(t)?Tse(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Mse(t,e){if(VO(t))return KO(t,e);if(jO(t))return Ase(t,e);throw new Error("invalid JSON wallet")}var YO=Ge(ks());h();p();var kse="wallet/5.7.0";var Pse=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(g){try{d(n.next(g))}catch(b){s(b)}}function l(g){try{d(n.throw(g))}catch(b){s(b)}}function d(g){g.done?o(g.value):i(g.value).then(c,l)}d((n=n.apply(t,e||[])).next())})},Q1=new YO.Logger(kse);function BUe(t){return t!=null&&(0,Rf.isHexString)(t.privateKey,32)&&t.address!=null}function CUe(t){let e=t.mnemonic;return e&&e.phrase}var X1=class t extends D2{constructor(e,r){if(super(),BUe(e)){let n=new Uu(e.privateKey);if(Pt(this,"_signingKey",()=>n),Pt(this,"address",Fu(this.publicKey)),this.address!==wo(e.address)&&Q1.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),CUe(e)){let i=e.mnemonic;Pt(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||wm,locale:i.locale||"en"}));let o=this.mnemonic,s=$h.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);Fu(s.privateKey)!==this.address&&Q1.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Pt(this,"_mnemonic",()=>null)}else{if(Uu.isSigningKey(e))e.curve!=="secp256k1"&&Q1.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Pt(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new Uu(e);Pt(this,"_signingKey",()=>n)}Pt(this,"_mnemonic",()=>null),Pt(this,"address",Fu(this.publicKey))}r&&!IA.isProvider(r)&&Q1.throwArgumentError("invalid provider","provider",r),Pt(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return Yl(e).then(r=>{r.from!=null&&(wo(r.from)!==this.address&&Q1.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest($r(PO(r)));return PO(r,n)})}signMessage(e){return Pse(this,void 0,void 0,function*(){return(0,Rf.joinSignature)(this._signingKey().signDigest(fO(e)))})}_signTypedData(e,r,n){return Pse(this,void 0,void 0,function*(){let i=yield z1.resolveNames(e,r,n,o=>(this.provider==null&&Q1.throwError("cannot resolve ENS names without a provider",YO.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return(0,Rf.joinSignature)(this._signingKey().signDigest(z1.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),$O(this,e,r,n)}static createRandom(e){let r=Yh(16);e||(e={}),e.extraEntropy&&(r=(0,Rf.arrayify)((0,Rf.hexDataSlice)($r((0,Rf.concat)([r,e.extraEntropy])),0,16)));let n=V2(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Ise(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(Mse(e,r))}static fromMnemonic(e,r,n){return r||(r=wm),new t($h.fromMnemonic(e,null,n).derivePath(r))}};var WA=class{addressTypes=["eip155"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new X1(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new Nu(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};h();p();h();p();Gl.sha512Sync=(...t)=>Bu(Gl.concatBytes(...t));var{getPublicKey:NUe}=tA,ZO=t=>{let e=NUe(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}};var $A=class{addressTypes=["solana"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Da.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new Nu(o));try{let o=i.derivePathType(n,r);switch(n){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Root":case"bip44":case"bip44Change":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return{publicKey:o.publicKey,privateKey:o.secretKey};case"deprecated":{let s=ZO(o.secretKey);return{publicKey:s.publicKey,privateKey:s.secretKey}}}}finally{i.cleanup()}}};h();p();h();p();h();p();h();p();h();p();h();p();h();p();function OUe(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){let g=t.charAt(d),b=g.charCodeAt(0);if(e[b]!==255)throw new TypeError(g+" is ambiguous");e[b]=d}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let g=0,b=0,_=0,T=d.length;for(;_!==T&&d[_]===0;)_++,g++;let M=(T-_)*o+1>>>0,k=new Uint8Array(M);for(;_!==T;){let D=d[_],R=0;for(let L=M-1;(D!==0||R<b)&&L!==-1;L--,R++)D+=256*k[L]>>>0,k[L]=D%r>>>0,D=D/r>>>0;if(D!==0)throw new Error("Non-zero carry");b=R,_++}let B=M-b;for(;B!==M&&k[B]===0;)B++;let P=n.repeat(g);for(;B<M;++B)P+=t.charAt(k[B]);return P}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let g=0,b=0,_=0;for(;d[g]===n;)b++,g++;let T=(d.length-g)*i+1>>>0,M=new Uint8Array(T);for(;d[g];){let D=e[d.charCodeAt(g)];if(D===255)return;let R=0;for(let L=T-1;(D!==0||R<_)&&L!==-1;L--,R++)D+=r*M[L]>>>0,M[L]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");_=R,g++}let k=T-_;for(;k!==T&&M[k]===0;)k++;let B=new Uint8Array(b+(T-k)),P=b;for(;k!==T;)B[P++]=M[k++];return B}function l(d){let g=c(d);if(g)return g;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:c,decode:l}}var Rse=OUe;var DUe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",QO=Rse(DUe);var Sm=t=>QO.encode(t),Em=t=>QO.decode(t);h();p();function ho(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var XO=8192;function Wn(t){if(t.length<XO)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=XO){let n=t.slice(r,r+XO);e+=String.fromCharCode(...n)}return btoa(e)}h();p();h();p();function Zh(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}function Nc(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}h();p();h();p();function J1(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function Bse(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}var YA=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=Bse(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};h();p();h();p();function JO(t,e){switch(e){case"base58":return Sm(t);case"base64":return Wn(t);case"hex":return Nc(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function eD(t,e=["<",">"]){let[r,n]=e,i=[],o="",s=0;for(let c=0;c<t.length;c++){let l=t[c];if(l===r&&s++,l===n&&s--,s===0&&l===","){i.push(o.trim()),o="";continue}o+=l}return i.push(o.trim()),i}var ZA=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return tD(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return tD(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return tD(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return J1(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return JO(this.toBytes(),e)}};function tD(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var Cse=t=>{throw TypeError(t)},Nse=(t,e,r)=>e.has(t)||Cse("Cannot "+r),Bf=(t,e,r)=>(Nse(t,e,"read from private field"),r?r.call(t):e.get(t)),XA=(t,e,r)=>e.has(t)?Cse("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),JA=(t,e,r,n)=>(Nse(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),eb,z2,QA,Qh,LUe=class Ose{constructor(e){XA(this,eb),XA(this,z2),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),JA(this,eb,e.write),JA(this,z2,e.serialize??((r,n)=>{let i=new ZA({initialSize:this.serializedSize(r)??void 0,...n});return Bf(this,eb).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),Bf(this,eb).call(this,e,r)}serialize(e,r){return this.validate(e),new rD(this,Bf(this,z2).call(this,e,r))}parse(e){let r=new YA(e);return this.read(r)}fromHex(e){return this.parse(Zh(e))}fromBase58(e){return this.parse(Em(e))}fromBase64(e){return this.parse(ho(e))}transform({name:e,input:r,output:n,validate:i}){return new Ose({name:e??this.name,read:o=>n(this.read(o)),write:(o,s)=>Bf(this,eb).call(this,r(o),s),serializedSize:o=>this.serializedSize(r(o)),serialize:(o,s)=>Bf(this,z2).call(this,r(o),s),validate:o=>{i?.(o),this.validate(r(o))}})}};eb=new WeakMap;z2=new WeakMap;var qu=LUe,UUe=Symbol.for("@mysten/serialized-bcs");var rD=class{constructor(e,r){XA(this,QA),XA(this,Qh),JA(this,QA,e),JA(this,Qh,r)}get[UUe](){return!0}toBytes(){return Bf(this,Qh)}toHex(){return Nc(Bf(this,Qh))}toBase64(){return Wn(Bf(this,Qh))}toBase58(){return Sm(Bf(this,Qh))}parse(){return Bf(this,QA).parse(Bf(this,Qh))}};QA=new WeakMap;Qh=new WeakMap;function G2({size:t,...e}){return new qu({...e,serializedSize:()=>t})}function e5({readMethod:t,writeMethod:e,...r}){return G2({...r,read:n=>n[t](),write:(n,i)=>i[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function t5({readMethod:t,writeMethod:e,...r}){return G2({...r,read:n=>n[t](),write:(n,i)=>i[e](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function Dse({serialize:t,...e}){let r=new qu({...e,serialize:t,write:(n,i)=>{for(let o of r.serialize(n).toBytes())i.write8(o)}});return r}function Lse({toBytes:t,fromBytes:e,...r}){return new qu({...r,read:n=>{let i=n.readULEB(),o=n.readBytes(i);return e(o)},write:(n,i)=>{let o=t(n);i.writeULEB(o.length);for(let s=0;s<o.length;s++)i.write8(o[s])},serialize:n=>{let i=t(n),o=J1(i.length),s=new Uint8Array(o.length+i.length);return s.set(o,0),s.set(i,o.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function Use(t){let e=null;function r(){return e||(e=t()),e}return new qu({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}h();p();var X={u8(t){return e5({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return e5({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return e5({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return t5({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return t5({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return t5({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return G2({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return Dse({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(J1(e)),...t})},bytes(t,e){return G2({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let i=new Uint8Array(r);for(let o=0;o<t;o++)n.write8(i[o]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return Lse({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new qu({name:`${e.name}[${t}]`,read:n=>{let i=new Array(t);for(let o=0;o<t;o++)i[o]=e.read(n);return i},write:(n,i)=>{for(let o of n)e.write(o,i)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return X.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new qu({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let o=0;o<n;o++)i[o]=t.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new qu({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<t.length;i++){let o=t[i].serializedSize(r[i]);if(o==null)return null;n+=o}return n},read:r=>{let n=[];for(let i of t)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new qu({name:t,serializedSize:i=>{let o=0;for(let[s,c]of n){let l=c.serializedSize(i[s]);if(l==null)return null;o+=l}return o},read:i=>{let o={};for(let[s,c]of n)o[s]=c.read(i);return o},write:(i,o)=>{for(let[s,c]of n)c.write(i[s],o)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(t,e,r){let n=Object.entries(e);return new qu({name:t,read:i=>{let o=i.readULEB(),s=n[o];if(!s)throw new TypeError(`Unknown value ${o} for enum ${t}`);let[c,l]=s;return{[c]:l?.read(i)??!0,$kind:c}},write:(i,o)=>{let[s,c]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[d,g]=n[l];if(d===s){o.writeULEB(l),g?.write(c,o);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let o=Object.keys(i).filter(c=>i[c]!==void 0&&Object.hasOwn(e,c));if(o.length!==1)throw new TypeError(`Expected object with one key, but found ${o.length} for type ${t}}`);let[s]=o;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return X.vector(X.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,o]of r)n.set(i,o);return n}})},lazy(t){return Use(t)}};h();p();h();p();h();p();var Xh=32;function Fse(t){return FUe(t)&&qUe(t)===Xh}function Hu(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Xh*2,"0")}`}function FUe(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function qUe(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}h();p();var HUe=/^vector<(.+)>$/,KUe=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,W2=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(HUe);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(KUe);if(i)return{struct:{address:r?Hu(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return eD(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function VUe(t){return X.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function jUe(t){return X.enum("Option",{None:null,Some:t})}var An=X.bytes(Xh).transform({validate:t=>{let e=typeof t=="string"?t:Nc(t);if(!e||!Fse(Hu(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Zh(Hu(t)):t,output:t=>Hu(Nc(t))}),qa=X.vector(X.u8()).transform({name:"ObjectDigest",input:t=>Em(t),output:t=>Sm(new Uint8Array(t)),validate:t=>{if(Em(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),ca=X.struct("SuiObjectRef",{objectId:An,version:X.u64(),digest:qa}),nD=X.struct("SharedObjectRef",{objectId:An,initialSharedVersion:X.u64(),mutable:X.bool()}),iD=X.enum("ObjectArg",{ImmOrOwnedObject:ca,SharedObject:nD,Receiving:ca}),oD=X.enum("CallArg",{Pure:X.struct("Pure",{bytes:X.vector(X.u8()).transform({input:t=>typeof t=="string"?ho(t):t,output:t=>Wn(new Uint8Array(t))})}),Object:iD}),sD=X.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:X.lazy(()=>sD),struct:X.lazy(()=>dD),u16:null,u32:null,u256:null}),r5=sD.transform({input:t=>typeof t=="string"?W2.parseFromStr(t,!0):t,output:t=>W2.tagToString(t)}),Cf=X.enum("Argument",{GasCoin:null,Input:X.u16(),Result:X.u16(),NestedResult:X.tuple([X.u16(),X.u16()])}),aD=X.struct("ProgrammableMoveCall",{package:An,module:X.string(),function:X.string(),typeArguments:X.vector(r5),arguments:X.vector(Cf)}),cD=X.enum("Command",{MoveCall:aD,TransferObjects:X.struct("TransferObjects",{objects:X.vector(Cf),address:Cf}),SplitCoins:X.struct("SplitCoins",{coin:Cf,amounts:X.vector(Cf)}),MergeCoins:X.struct("MergeCoins",{destination:Cf,sources:X.vector(Cf)}),Publish:X.struct("Publish",{modules:X.vector(X.vector(X.u8()).transform({input:t=>typeof t=="string"?ho(t):t,output:t=>Wn(new Uint8Array(t))})),dependencies:X.vector(An)}),MakeMoveVec:X.struct("MakeMoveVec",{type:jUe(r5).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:X.vector(Cf)}),Upgrade:X.struct("Upgrade",{modules:X.vector(X.vector(X.u8()).transform({input:t=>typeof t=="string"?ho(t):t,output:t=>Wn(new Uint8Array(t))})),dependencies:X.vector(An),package:An,ticket:Cf})}),fD=X.struct("ProgrammableTransaction",{inputs:X.vector(oD),commands:X.vector(cD)}),uD=X.enum("TransactionKind",{ProgrammableTransaction:fD,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),lD=X.enum("TransactionExpiration",{None:null,Epoch:VUe()}),dD=X.struct("StructTag",{address:An,module:X.string(),name:X.string(),typeParams:X.vector(sD)}),hD=X.struct("GasData",{payment:X.vector(ca),owner:An,price:X.u64(),budget:X.u64()}),pD=X.struct("TransactionDataV1",{kind:uD,sender:An,gasData:hD,expiration:lD}),mD=X.enum("TransactionData",{V1:pD}),yD=X.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),gD=X.enum("IntentVersion",{V0:null}),bD=X.enum("AppId",{Sui:null}),vD=X.struct("Intent",{scope:yD,version:gD,appId:bD});function xD(t){return X.struct(`IntentMessage<${t.name}>`,{intent:vD,value:t})}var wD=X.enum("CompressedSignature",{ED25519:X.fixedArray(64,X.u8()),Secp256k1:X.fixedArray(64,X.u8()),Secp256r1:X.fixedArray(64,X.u8()),ZkLogin:X.vector(X.u8())}),SD=X.enum("PublicKey",{ED25519:X.fixedArray(32,X.u8()),Secp256k1:X.fixedArray(33,X.u8()),Secp256r1:X.fixedArray(33,X.u8()),ZkLogin:X.vector(X.u8())}),ED=X.struct("MultiSigPkMap",{pubKey:SD,weight:X.u8()}),_D=X.struct("MultiSigPublicKey",{pk_map:X.vector(ED),threshold:X.u16()}),qse=X.struct("MultiSig",{sigs:X.vector(wD),bitmap:X.u16(),multisig_pk:_D}),zUe=X.vector(X.u8()).transform({input:t=>typeof t=="string"?ho(t):t,output:t=>Wn(new Uint8Array(t))}),AD=X.struct("SenderSignedTransaction",{intentMessage:xD(mD),txSignatures:X.vector(zUe)}),Hse=X.vector(AD,{name:"SenderSignedData"});h();p();var GUe=X.enum("PackageUpgradeError",{UnableToFetchPackage:X.struct("UnableToFetchPackage",{packageId:An}),NotAPackage:X.struct("NotAPackage",{objectId:An}),IncompatibleUpgrade:null,DigestDoesNotMatch:X.struct("DigestDoesNotMatch",{digest:X.vector(X.u8())}),UnknownUpgradePolicy:X.struct("UnknownUpgradePolicy",{policy:X.u8()}),PackageIDDoesNotMatch:X.struct("PackageIDDoesNotMatch",{packageId:An,ticketId:An})}),WUe=X.struct("ModuleId",{address:An,name:X.string()}),Kse=X.struct("MoveLocation",{module:WUe,function:X.u16(),instruction:X.u16(),functionName:X.option(X.string())}),$Ue=X.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:X.struct("IndexOutOfBounds",{idx:X.u16()}),SecondaryIndexOutOfBounds:X.struct("SecondaryIndexOutOfBounds",{resultIdx:X.u16(),secondaryIdx:X.u16()}),InvalidResultArity:X.struct("InvalidResultArity",{resultIdx:X.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),YUe=X.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ZUe=X.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:X.struct("MoveObjectTooBig",{objectSize:X.u64(),maxObjectSize:X.u64()}),MovePackageTooBig:X.struct("MovePackageTooBig",{objectSize:X.u64(),maxObjectSize:X.u64()}),CircularObjectOwnership:X.struct("CircularObjectOwnership",{object:An}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:X.option(Kse),MoveAbort:X.tuple([Kse,X.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:X.struct("CommandArgumentError",{argIdx:X.u16(),kind:$Ue}),TypeArgumentError:X.struct("TypeArgumentError",{argumentIdx:X.u16(),kind:YUe}),UnusedValueWithoutDrop:X.struct("UnusedValueWithoutDrop",{resultIdx:X.u16(),secondaryIdx:X.u16()}),InvalidPublicFunctionReturnType:X.struct("InvalidPublicFunctionReturnType",{idx:X.u16()}),InvalidTransferObject:null,EffectsTooLarge:X.struct("EffectsTooLarge",{currentSize:X.u64(),maxSize:X.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:X.struct("PackageUpgradeError",{upgradeError:GUe}),WrittenObjectsTooLarge:X.struct("WrittenObjectsTooLarge",{currentSize:X.u64(),maxSize:X.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:X.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:X.vector(An)}),AddressDeniedForCoin:X.struct("AddressDeniedForCoin",{address:An,coinType:X.string()}),CoinTypeGlobalPause:X.struct("CoinTypeGlobalPause",{coinType:X.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),Vse=X.enum("ExecutionStatus",{Success:null,Failed:X.struct("ExecutionFailed",{error:ZUe,command:X.option(X.u64())})}),jse=X.struct("GasCostSummary",{computationCost:X.u64(),storageCost:X.u64(),storageRebate:X.u64(),nonRefundableStorageFee:X.u64()}),tb=X.enum("Owner",{AddressOwner:An,ObjectOwner:An,Shared:X.struct("Shared",{initialSharedVersion:X.u64()}),Immutable:null}),QUe=X.struct("TransactionEffectsV1",{status:Vse,executedEpoch:X.u64(),gasUsed:jse,modifiedAtVersions:X.vector(X.tuple([An,X.u64()])),sharedObjects:X.vector(ca),transactionDigest:qa,created:X.vector(X.tuple([ca,tb])),mutated:X.vector(X.tuple([ca,tb])),unwrapped:X.vector(X.tuple([ca,tb])),deleted:X.vector(ca),unwrappedThenDeleted:X.vector(ca),wrapped:X.vector(ca),gasObject:X.tuple([ca,tb]),eventsDigest:X.option(qa),dependencies:X.vector(qa)}),TD=X.tuple([X.u64(),qa]),XUe=X.enum("ObjectIn",{NotExist:null,Exist:X.tuple([TD,tb])}),JUe=X.enum("ObjectOut",{NotExist:null,ObjectWrite:X.tuple([qa,tb]),PackageWrite:TD}),eFe=X.enum("IDOperation",{None:null,Created:null,Deleted:null}),tFe=X.struct("EffectsObjectChange",{inputState:XUe,outputState:JUe,idOperation:eFe}),rFe=X.enum("UnchangedSharedKind",{ReadOnlyRoot:TD,MutateDeleted:X.u64(),ReadDeleted:X.u64(),Cancelled:X.u64(),PerEpochConfig:null}),nFe=X.struct("TransactionEffectsV2",{status:Vse,executedEpoch:X.u64(),gasUsed:jse,transactionDigest:qa,gasObjectIndex:X.option(X.u32()),eventsDigest:X.option(qa),dependencies:X.vector(qa),lamportVersion:X.u64(),changedObjects:X.vector(X.tuple([An,tFe])),unchangedSharedObjects:X.vector(X.tuple([An,rFe])),auxDataDigest:X.option(qa)}),zse=X.enum("TransactionEffects",{V1:QUe,V2:nFe});var Xl={...X,U8:X.u8(),U16:X.u16(),U32:X.u32(),U64:X.u64(),U128:X.u128(),U256:X.u256(),ULEB128:X.uleb128(),Bool:X.bool(),String:X.string(),Address:An,AppId:bD,Argument:Cf,CallArg:oD,CompressedSignature:wD,GasData:hD,Intent:vD,IntentMessage:xD,IntentScope:yD,IntentVersion:gD,MultiSig:qse,MultiSigPkMap:ED,MultiSigPublicKey:_D,ObjectArg:iD,ObjectDigest:qa,ProgrammableMoveCall:aD,ProgrammableTransaction:fD,PublicKey:SD,SenderSignedData:Hse,SenderSignedTransaction:AD,SharedObjectRef:nD,StructTag:dD,SuiObjectRef:ca,Command:cD,TransactionData:mD,TransactionDataV1:pD,TransactionExpiration:lD,TransactionKind:uD,TypeTag:r5,TransactionEffects:zse};h();p();h();p();h();p();h();p();function rb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function iFe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function nb(t,...e){if(!iFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Gse(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rb(t.outputLen),rb(t.blockLen)}function Jl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function n5(t,e){nb(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}h();p();var ib=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),i5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var e0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,$se=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Nf=e0?t=>t:t=>$se(t);function _m(t){for(let e=0;e<t.length;e++)t[e]=$se(t[e])}var oFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o5(t){nb(t);let e="";for(let r=0;r<t.length;r++)e+=oFe[t[r]];return e}var ed={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Wse(t){if(t>=ed._0&&t<=ed._9)return t-ed._0;if(t>=ed._A&&t<=ed._F)return t-(ed._A-10);if(t>=ed._a&&t<=ed._f)return t-(ed._a-10)}function Yse(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Wse(t.charCodeAt(o)),c=Wse(t.charCodeAt(o+1));if(s===void 0||c===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+c}return n}function sFe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Oc(t){return typeof t=="string"&&(t=sFe(t)),nb(t),t}var Jh=class{clone(){return this._cloneInto()}},Fkt={}.toString;function Zse(t){let e=n=>t().update(Oc(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Qse(t){let e=(n,i)=>t(i).update(Oc(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var Xse=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),s5=class extends Jh{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,rb(e),rb(r),rb(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=ib(this.buffer=new Uint8Array(e))}update(e){Jl(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=Oc(e);let o=e.length,s=e.byteOffset,c=e.buffer;for(let l=0;l<o;){this.pos===r&&(e0||_m(i),this.compress(i,0,!1),e0||_m(i),this.pos=0);let d=Math.min(r-this.pos,o-l),g=s+l;if(d===r&&!(g%4)&&l+d<o){let b=new Uint32Array(c,g,Math.floor((o-l)/4));e0||_m(b);for(let _=0;l+r<o;_+=i.length,l+=r)this.length+=r,this.compress(b,_,!1);e0||_m(b);continue}n.set(e.subarray(l,l+d),this.pos),this.pos+=d,this.length+=d,l+=d}return this}digestInto(e){Jl(this),n5(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),e0||_m(n),this.compress(n,0,!0),e0||_m(n);let i=ib(e);this.get().forEach((o,s)=>i[s]=Nf(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:c}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=c,e}};h();p();var a5=BigInt(4294967295),ID=BigInt(32);function Jse(t,e=!1){return e?{h:Number(t&a5),l:Number(t>>ID&a5)}:{h:Number(t>>ID&a5)|0,l:Number(t&a5)|0}}function aFe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Jse(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var cFe=(t,e)=>BigInt(t>>>0)<<ID|BigInt(e>>>0),fFe=(t,e,r)=>t>>>r,uFe=(t,e,r)=>t<<32-r|e>>>r,lFe=(t,e,r)=>t>>>r|e<<32-r,dFe=(t,e,r)=>t<<32-r|e>>>r,hFe=(t,e,r)=>t<<64-r|e>>>r-32,pFe=(t,e,r)=>t>>>r-32|e<<64-r,mFe=(t,e)=>e,yFe=(t,e)=>t,gFe=(t,e,r)=>t<<r|e>>>32-r,bFe=(t,e,r)=>e<<r|t>>>32-r,vFe=(t,e,r)=>e<<r-32|t>>>64-r,xFe=(t,e,r)=>t<<r-32|e>>>64-r;function wFe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var SFe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),EFe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,_Fe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),AFe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,TFe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),IFe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var MFe={fromBig:Jse,split:aFe,toBig:cFe,shrSH:fFe,shrSL:uFe,rotrSH:lFe,rotrSL:dFe,rotrBH:hFe,rotrBL:pFe,rotr32H:mFe,rotr32L:yFe,rotlSH:gFe,rotlSL:bFe,rotlBH:vFe,rotlBL:xFe,add:wFe,add3L:SFe,add3H:EFe,add4L:_Fe,add4H:AFe,add5H:IFe,add5L:TFe},Tt=MFe;var Ki=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ut=new Uint32Array(32);function t0(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=ut[2*t],d=ut[2*t+1],g=ut[2*e],b=ut[2*e+1],_=ut[2*r],T=ut[2*r+1],M=ut[2*n],k=ut[2*n+1],B=Tt.add3L(l,g,s);d=Tt.add3H(B,d,b,c),l=B|0,{Dh:k,Dl:M}={Dh:k^d,Dl:M^l},{Dh:k,Dl:M}={Dh:Tt.rotr32H(k,M),Dl:Tt.rotr32L(k,M)},{h:T,l:_}=Tt.add(T,_,k,M),{Bh:b,Bl:g}={Bh:b^T,Bl:g^_},{Bh:b,Bl:g}={Bh:Tt.rotrSH(b,g,24),Bl:Tt.rotrSL(b,g,24)},ut[2*t]=l,ut[2*t+1]=d,ut[2*e]=g,ut[2*e+1]=b,ut[2*r]=_,ut[2*r+1]=T,ut[2*n]=M,ut[2*n+1]=k}function r0(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=ut[2*t],d=ut[2*t+1],g=ut[2*e],b=ut[2*e+1],_=ut[2*r],T=ut[2*r+1],M=ut[2*n],k=ut[2*n+1],B=Tt.add3L(l,g,s);d=Tt.add3H(B,d,b,c),l=B|0,{Dh:k,Dl:M}={Dh:k^d,Dl:M^l},{Dh:k,Dl:M}={Dh:Tt.rotrSH(k,M,16),Dl:Tt.rotrSL(k,M,16)},{h:T,l:_}=Tt.add(T,_,k,M),{Bh:b,Bl:g}={Bh:b^T,Bl:g^_},{Bh:b,Bl:g}={Bh:Tt.rotrBH(b,g,63),Bl:Tt.rotrBL(b,g,63)},ut[2*t]=l,ut[2*t+1]=d,ut[2*e]=g,ut[2*e+1]=b,ut[2*r]=_,ut[2*r+1]=T,ut[2*n]=M,ut[2*n+1]=k}var MD=class extends s5{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Ki[0]|0,this.v0h=Ki[1]|0,this.v1l=Ki[2]|0,this.v1h=Ki[3]|0,this.v2l=Ki[4]|0,this.v2h=Ki[5]|0,this.v3l=Ki[6]|0,this.v3h=Ki[7]|0,this.v4l=Ki[8]|0,this.v4h=Ki[9]|0,this.v5l=Ki[10]|0,this.v5h=Ki[11]|0,this.v6l=Ki[12]|0,this.v6h=Ki[13]|0,this.v7l=Ki[14]|0,this.v7h=Ki[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=ib(Oc(e.salt));this.v4l^=Nf(n[0]),this.v4h^=Nf(n[1]),this.v5l^=Nf(n[2]),this.v5h^=Nf(n[3])}if(e.personalization){let n=ib(Oc(e.personalization));this.v6l^=Nf(n[0]),this.v6h^=Nf(n[1]),this.v7l^=Nf(n[2]),this.v7h^=Nf(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(Oc(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:c,v3h:l,v4l:d,v4h:g,v5l:b,v5h:_,v6l:T,v6h:M,v7l:k,v7h:B}=this;return[e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B]}set(e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=c|0,this.v3h=l|0,this.v4l=d|0,this.v4h=g|0,this.v5l=b|0,this.v5h=_|0,this.v6l=T|0,this.v6h=M|0,this.v7l=k|0,this.v7h=B|0}compress(e,r,n){this.get().forEach((l,d)=>ut[d]=l),ut.set(Ki,16);let{h:i,l:o}=Tt.fromBig(BigInt(this.length));ut[24]=Ki[8]^o,ut[25]=Ki[9]^i,n&&(ut[28]=~ut[28],ut[29]=~ut[29]);let s=0,c=Xse;for(let l=0;l<12;l++)t0(0,4,8,12,e,r+2*c[s++]),r0(0,4,8,12,e,r+2*c[s++]),t0(1,5,9,13,e,r+2*c[s++]),r0(1,5,9,13,e,r+2*c[s++]),t0(2,6,10,14,e,r+2*c[s++]),r0(2,6,10,14,e,r+2*c[s++]),t0(3,7,11,15,e,r+2*c[s++]),r0(3,7,11,15,e,r+2*c[s++]),t0(0,5,10,15,e,r+2*c[s++]),r0(0,5,10,15,e,r+2*c[s++]),t0(1,6,11,12,e,r+2*c[s++]),r0(1,6,11,12,e,r+2*c[s++]),t0(2,7,8,13,e,r+2*c[s++]),r0(2,7,8,13,e,r+2*c[s++]),t0(3,4,9,14,e,r+2*c[s++]),r0(3,4,9,14,e,r+2*c[s++]);this.v0l^=ut[0]^ut[16],this.v0h^=ut[1]^ut[17],this.v1l^=ut[2]^ut[18],this.v1h^=ut[3]^ut[19],this.v2l^=ut[4]^ut[20],this.v2h^=ut[5]^ut[21],this.v3l^=ut[6]^ut[22],this.v3h^=ut[7]^ut[23],this.v4l^=ut[8]^ut[24],this.v4h^=ut[9]^ut[25],this.v5l^=ut[10]^ut[26],this.v5h^=ut[11]^ut[27],this.v6l^=ut[12]^ut[28],this.v6h^=ut[13]^ut[29],this.v7l^=ut[14]^ut[30],this.v7h^=ut[15]^ut[31],ut.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Am=Qse(t=>new MD(t));h();p();h();p();function c5(t,e){return Xl.IntentMessage(Xl.fixedArray(e.length,Xl.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}function kD(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var ob=class{equals(e){return kD(this.toRawBytes(),e.toRawBytes())}toBase64(){return Wn(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return Wn(e)}verifyWithIntent(e,r,n){let i=c5(n,e),o=Am(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(Xl.vector(Xl.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Hu(o5(Am(this.toSuiBytes(),{dkLen:32})).slice(0,Xh*2))}};h();p();var td={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},eae={ED25519:32,Secp256k1:33,Secp256r1:33},f5={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};h();p();h();p();h();p();function tae(t,e){if(!!!t)throw new Error(e)}h();p();var RD={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kFe=new Set(Object.keys(RD));function BD(t){let e=t?.kind;return typeof e=="string"&&kFe.has(e)}var PD;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(PD||(PD={}));h();p();var $2;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})($2||($2={}));h();p();h();p();function CD(t){return t===9||t===32}function rae(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,o=n.length>1&&n.slice(1).every(T=>T.length===0||CD(T.charCodeAt(0))),s=r.endsWith('\\"""'),c=t.endsWith('"')&&!s,l=t.endsWith("\\"),d=c||l,g=!(e!=null&&e.minimize)&&(!i||t.length>70||d||o||s),b="",_=i&&CD(t.charCodeAt(0));return(g&&!_||o)&&(b+=`
`),b+=r,(g||d)&&(b+=`
`),'"""'+b+'"""'}h();p();function nae(t){return u5(t,[])}function u5(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return PFe(t,e);default:return String(t)}}function PFe(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(RFe(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:u5(n,r)}else if(Array.isArray(t))return CFe(t,r);return BFe(t,r)}function RFe(t){return typeof t.toJSON=="function"}function BFe(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+NFe(t)+"]":"{ "+r.map(([i,o])=>i+": "+u5(o,e)).join(", ")+" }"}function CFe(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let o=0;o<r;++o)i.push(u5(t[o],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function NFe(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}h();p();h();p();function iae(t){return`"${t.replace(OFe,DFe)}"`}var OFe=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function DFe(t){return LFe[t.charCodeAt(0)]}var LFe=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];h();p();var oae=Object.freeze({});function ND(t,e,r=RD){let n=new Map;for(let P of Object.values($2))n.set(P,sae(e,P));let i,o=Array.isArray(t),s=[t],c=-1,l=[],d=t,g,b,_=[],T=[];do{c++;let P=c===s.length,D=P&&l.length!==0;if(P){if(g=T.length===0?void 0:_[_.length-1],d=b,b=T.pop(),D)if(o){d=d.slice();let L=0;for(let[V,z]of l){let oe=V-L;z===null?(d.splice(oe,1),L++):d[oe]=z}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));for(let[L,V]of l)d[L]=V}c=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(b){if(g=o?c:s[c],d=b[g],d==null)continue;_.push(g)}let R;if(!Array.isArray(d)){var M,k;BD(d)||tae(!1,`Invalid AST Node: ${nae(d)}.`);let L=P?(M=n.get(d.kind))===null||M===void 0?void 0:M.leave:(k=n.get(d.kind))===null||k===void 0?void 0:k.enter;if(R=L?.call(e,d,g,b,_,T),R===oae)break;if(R===!1){if(!P){_.pop();continue}}else if(R!==void 0&&(l.push([g,R]),!P))if(BD(R))d=R;else{_.pop();continue}}if(R===void 0&&D&&l.push([g,d]),P)_.pop();else{var B;i={inArray:o,index:c,keys:s,edits:l,prev:i},o=Array.isArray(d),s=o?d:(B=r[d.kind])!==null&&B!==void 0?B:[],c=-1,l=[],b&&T.push(b),b=d}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function sae(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function d5(t){return ND(t,FFe)}var UFe=80,FFe={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>wt(t.definitions,`

`)},OperationDefinition:{leave(t){let e=gr("(",wt(t.variableDefinitions,", "),")"),r=wt([t.operation,wt([t.name,e]),wt(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+gr(" = ",r)+gr(" ",wt(n," "))},SelectionSet:{leave:({selections:t})=>Of(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let o=gr("",t,": ")+e,s=o+gr("(",wt(r,", "),")");return s.length>UFe&&(s=o+gr(`(
`,l5(wt(r,`
`)),`
)`)),wt([s,wt(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+gr(" ",wt(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>wt(["...",gr("on ",t),wt(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${gr("(",wt(r,", "),")")} on ${e} ${gr("",wt(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?rae(t):iae(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+wt(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+wt(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+gr("(",wt(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>gr("",t,`
`)+wt(["schema",wt(e," "),Of(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>gr("",t,`
`)+wt(["scalar",e,wt(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>gr("",t,`
`)+wt(["type",e,gr("implements ",wt(r," & ")),wt(n," "),Of(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>gr("",t,`
`)+e+(aae(r)?gr(`(
`,l5(wt(r,`
`)),`
)`):gr("(",wt(r,", "),")"))+": "+n+gr(" ",wt(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>gr("",t,`
`)+wt([e+": "+r,gr("= ",n),wt(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>gr("",t,`
`)+wt(["interface",e,gr("implements ",wt(r," & ")),wt(n," "),Of(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>gr("",t,`
`)+wt(["union",e,wt(r," "),gr("= ",wt(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>gr("",t,`
`)+wt(["enum",e,wt(r," "),Of(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>gr("",t,`
`)+wt([e,wt(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>gr("",t,`
`)+wt(["input",e,wt(r," "),Of(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>gr("",t,`
`)+"directive @"+e+(aae(r)?gr(`(
`,l5(wt(r,`
`)),`
)`):gr("(",wt(r,", "),")"))+(n?" repeatable":"")+" on "+wt(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>wt(["extend schema",wt(t," "),Of(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>wt(["extend scalar",t,wt(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>wt(["extend type",t,gr("implements ",wt(e," & ")),wt(r," "),Of(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>wt(["extend interface",t,gr("implements ",wt(e," & ")),wt(r," "),Of(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>wt(["extend union",t,wt(e," "),gr("= ",wt(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>wt(["extend enum",t,wt(e," "),Of(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>wt(["extend input",t,wt(e," "),Of(r)]," ")}};function wt(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function Of(t){return gr(`{
`,l5(wt(t,`
`)),`
}`)}function gr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function l5(t){return gr("  ",t.replace(/\n/g,`
  `))}function aae(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}h();p();var cae=t=>{throw TypeError(t)},fae=(t,e,r)=>e.has(t)||cae("Cannot "+r),h5=(t,e,r)=>(fae(t,e,"read from private field"),r?r.call(t):e.get(t)),p5=(t,e,r)=>e.has(t)?cae("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),m5=(t,e,r,n)=>(fae(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),y5,g5,b5,v5,OD=class extends Error{},x5=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){p5(this,y5),p5(this,g5),p5(this,b5),p5(this,v5),m5(this,y5,e),m5(this,g5,i),m5(this,b5,n),m5(this,v5,(...o)=>r(...o))}async query(e){let r=await h5(this,v5).call(this,h5(this,y5),{method:"POST",headers:{"Content-Type":"application/json",...h5(this,b5)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):d5(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new OD(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:h5(this,g5)[e]})}};y5=new WeakMap;g5=new WeakMap;b5=new WeakMap;v5=new WeakMap;h();p();h();p();h();p();var Y2={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var UD=class extends Error{constructor(e,r,n,i,o,s,c){super(e),this.name="GraphQLError",this.message=e,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=c;if(!l&&s){var d=s.extensions;d&&typeof d=="object"&&(l=d)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},Fr,Mt;function vi(t){return new UD(`Syntax Error: Unexpected token at ${Mt} in ${t}`)}function Ha(t){if(t.lastIndex=Mt,t.test(Fr))return Fr.slice(Mt,Mt=t.lastIndex)}var w5=/ +(?=[^\s])/y;function qFe(t){for(var e=t.split(`
`),r="",n=0,i=0,o=e.length-1,s=0;s<e.length;s++)w5.lastIndex=0,w5.test(e[s])&&(s&&(!n||w5.lastIndex<n)&&(n=w5.lastIndex),i=i||s,o=s);for(var c=i;c<=o;c++)c!==i&&(r+=`
`),r+=e[c].slice(n).replace(/\\"""/g,'"""');return r}function zt(){for(var t=0|Fr.charCodeAt(Mt++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|Fr.charCodeAt(Mt++))if(t===35)for(;(t=Fr.charCodeAt(Mt++))!==10&&t!==13;);Mt--}var Os=/[_A-Za-z]\w*/y,DD=new RegExp("(?:(null|true|false)|\\$("+Os.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+Os.source+"))","y"),n0=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(n0||{}),HFe=/\\/;function S5(t){var e,r;if(DD.lastIndex=Mt,Fr.charCodeAt(Mt)===91){Mt++,zt();for(var n=[];Fr.charCodeAt(Mt)!==93;)n.push(S5(t));return Mt++,zt(),{kind:"ListValue",values:n}}else if(Fr.charCodeAt(Mt)===123){Mt++,zt();for(var i=[];Fr.charCodeAt(Mt)!==125;){if((e=Ha(Os))==null||(zt(),Fr.charCodeAt(Mt++)!==58))throw vi("ObjectField");zt(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:S5(t)})}return Mt++,zt(),{kind:"ObjectValue",fields:i}}else if((r=DD.exec(Fr))!=null){if(Mt=DD.lastIndex,zt(),(e=r[n0.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[n0.Var])!=null){if(t)throw vi("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[n0.Int])!=null){var o;return(o=r[n0.Float])!=null?{kind:"FloatValue",value:e+o}:{kind:"IntValue",value:e}}else{if((e=r[n0.BlockString])!=null)return{kind:"StringValue",value:qFe(e.slice(3,-3)),block:!0};if((e=r[n0.String])!=null)return{kind:"StringValue",value:HFe.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[n0.Enum])!=null)return{kind:"EnumValue",value:e}}}throw vi("Value")}function uae(t){if(Fr.charCodeAt(Mt)===40){var e=[];Mt++,zt();var r;do{if((r=Ha(Os))==null||(zt(),Fr.charCodeAt(Mt++)!==58))throw vi("Argument");zt(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:S5(t)})}while(Fr.charCodeAt(Mt)!==41);return Mt++,zt(),e}}function sb(t){if(Fr.charCodeAt(Mt)===64){var e=[],r;do{if(Mt++,(r=Ha(Os))==null)throw vi("Directive");zt(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:uae(t)})}while(Fr.charCodeAt(Mt)===64);return e}}function KFe(){for(var t,e=0;Fr.charCodeAt(Mt)===91;)e++,Mt++,zt();if((t=Ha(Os))==null)throw vi("NamedType");zt();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(Fr.charCodeAt(Mt)===33&&(Mt++,zt(),r={kind:"NonNullType",type:r}),e){if(Fr.charCodeAt(Mt++)!==93)throw vi("NamedType");zt(),r={kind:"ListType",type:r}}while(e--);return r}var LD=new RegExp("(?:(\\.{3})|("+Os.source+"))","y"),FD=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(FD||{});function E5(){var t=[],e,r;do if(LD.lastIndex=Mt,(r=LD.exec(Fr))!=null){if(Mt=LD.lastIndex,r[FD.Spread]!=null){zt();var n=Ha(Os);if(n!=null&&n!=="on")zt(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:sb(!1)});else{if(zt(),n==="on"){if((n=Ha(Os))==null)throw vi("NamedType");zt()}var i=sb(!1);if(Fr.charCodeAt(Mt++)!==123)throw vi("InlineFragment");zt(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:E5()})}}else if((e=r[FD.Name])!=null){var o=void 0;if(zt(),Fr.charCodeAt(Mt)===58){if(Mt++,zt(),o=e,(e=Ha(Os))==null)throw vi("Field");zt()}var s=uae(!1);zt();var c=sb(!1),l=void 0;Fr.charCodeAt(Mt)===123&&(Mt++,zt(),l=E5()),t.push({kind:"Field",alias:o?{kind:"Name",value:o}:void 0,name:{kind:"Name",value:e},arguments:s,directives:c,selectionSet:l})}}else throw vi("SelectionSet");while(Fr.charCodeAt(Mt)!==125);return Mt++,zt(),{kind:"SelectionSet",selections:t}}function VFe(){var t,e;if((t=Ha(Os))==null||(zt(),Ha(Os)!=="on")||(zt(),(e=Ha(Os))==null))throw vi("FragmentDefinition");zt();var r=sb(!1);if(Fr.charCodeAt(Mt++)!==123)throw vi("FragmentDefinition");return zt(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:E5()}}var jFe=/(?:query|mutation|subscription|fragment)/y;function zFe(t){var e,r,n;if(t&&(zt(),e=Ha(Os),r=function(){if(zt(),Fr.charCodeAt(Mt)===40){var o=[];Mt++,zt();var s;do{if(Fr.charCodeAt(Mt++)!==36||(s=Ha(Os))==null)throw vi("Variable");if(zt(),Fr.charCodeAt(Mt++)!==58)throw vi("VariableDefinition");zt();var c=KFe(),l=void 0;Fr.charCodeAt(Mt)===61&&(Mt++,zt(),l=S5(!0)),zt(),o.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s}},type:c,defaultValue:l,directives:sb(!0)})}while(Fr.charCodeAt(Mt)!==41);return Mt++,zt(),o}}(),n=sb(!1)),Fr.charCodeAt(Mt)===123)return Mt++,zt(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:E5()}}function lae(t,e){return Mt=0,function(n,i){var o,s;zt();var c=[];do if((o=Ha(jFe))==="fragment")zt(),c.push(VFe());else if((s=zFe(o))!=null)c.push(s);else throw vi("Document");while(Mt<n.length);if(!i){var l;return{kind:"Document",definitions:c,set loc(d){l=d},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:c}}(Fr=typeof t.body=="string"?t.body:t,e&&e.noLocation)}var dae=0,qD=new Set;function HD(){function t(e,r){var n=lae(e).definitions,i=new Set;for(var o of r||[])for(var s of o.definitions)s.kind===Y2.FRAGMENT_DEFINITION&&!i.has(s)&&(n.push(s),i.add(s));var c;(c=n[0].kind===Y2.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(d=>d.name.value!=="_unmask"));var l;return{kind:Y2.DOCUMENT,definitions:n,get loc(){if(!l&&c){var d=e+function(b){try{dae++;var _="";for(var T of b)if(!qD.has(T)){qD.add(T);var{loc:M}=T;M&&(_+=M.source.body)}return _}finally{--dae==0&&qD.clear()}}(r||[]);return{start:0,end:d.length,source:{body:d,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(d){l=d}}}return t.scalar=function(r,n){return n},t.persisted=function(r,n){return{kind:Y2.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},t}var HRt=HD();var hae=HD();h();p();function GFe(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function WFe(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=GFe(n);e=e.concat(i)}return e}function $Fe(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=WFe(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let c=0;c<r.length;c+=8){let l=r.slice(c,c+8),d=parseInt(l.join(""),2);o[s++]=d}return new TextDecoder().decode(o)}function YFe(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function pae(t,e){let r=$Fe(t.value,t.indexMod4),[n,i]=YFe(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}h();p();h();p();var mae=X.struct("ZkLoginSignature",{inputs:X.struct("ZkLoginSignatureInputs",{proofPoints:X.struct("ZkLoginSignatureInputsProofPoints",{a:X.vector(X.string()),b:X.vector(X.vector(X.string())),c:X.vector(X.string())}),issBase64Details:X.struct("ZkLoginSignatureInputsClaim",{value:X.string(),indexMod4:X.u8()}),headerBase64:X.string(),addressSeed:X.string()}),maxEpoch:X.u64(),userSignature:X.vector(X.u8())});function yae(t){return mae.parse(typeof t=="string"?ho(t):t)}h();p();function ZFe(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function _5(t,e){let r=t.toString(16);return Yse(r.padStart(e*2,"0").slice(-e*2))}function KD(t,e){let r=_5(t,e),n=ZFe(r);return n===-1?new Uint8Array([0]):r.slice(n)}var vae=t=>{throw TypeError(t)},xae=(t,e,r)=>e.has(t)||vae("Cannot "+r),rd=(t,e,r)=>(xae(t,e,"read from private field"),r?r.call(t):e.get(t)),VD=(t,e,r)=>e.has(t)?vae("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ab=(t,e,r,n)=>(xae(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Df,Z2,Q2,QFe=class jD extends ob{constructor(e,{client:r}={}){super(),VD(this,Df),VD(this,Z2),VD(this,Q2),ab(this,Z2,r),typeof e=="string"?ab(this,Df,ho(e)):e instanceof Uint8Array?ab(this,Df,e):ab(this,Df,Uint8Array.from(e)),ab(this,Q2,rd(this,Df).length!==rd(this,Df)[0]+1+32),rd(this,Q2)&&ab(this,Df,gae(rd(this,Df)))}equals(e){return super.equals(e)}toSuiAddress(){if(rd(this,Q2)){let e=gae(rd(this,Df),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Hu(o5(Am(r,{dkLen:32})).slice(0,Xh*2))}return super.toSuiAddress()}toRawBytes(){return rd(this,Df)}flag(){return td.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=A5(r),i=new jD(n.publicKey).toSuiAddress();return bae({address:i,bytes:Wn(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:rd(this,Z2)})}verifyTransaction(e,r){let n=A5(r),i=new jD(n.publicKey).toSuiAddress();return bae({address:i,bytes:Wn(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:rd(this,Z2)})}};Df=new WeakMap;Z2=new WeakMap;Q2=new WeakMap;var XFe=QFe;function JFe(t,e,r){let n=r?.legacyAddress?KD(t,32):_5(t,32),i=new TextEncoder().encode(e),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new XFe(o,r)}var eqe=hae(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function gae(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Nc(t.slice(r))}`),i=e?KD(n,32):_5(n,32),o=new Uint8Array(r+i.length);return o.set(t.slice(0,r),0),o.set(i,r),o}async function bae({address:t,bytes:e,signature:r,intentScope:n,client:i=new x5({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:eqe,variables:{bytes:e,signature:r,intentScope:n,author:t}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function A5(t){let e=typeof t=="string"?ho(t):t;if(e[0]!==td.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=yae(r),{issBase64Details:s,addressSeed:c}=n,l=pae(s,"iss"),d=JFe(BigInt(c),l);return{serializedSignature:Wn(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:l,addressSeed:BigInt(c)},signature:e,publicKey:d.toRawBytes()}}function wae({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([td[e]]),i.set(t,1),i.set(n,1+t.length),Wn(i)}function Sae(t){let e=ho(t),r=f5[e[0]];switch(r){case"MultiSig":let n=Xl.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return A5(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=eae[r],o=e.slice(1,e.length-i),s=e.slice(1+o.length);return{serializedSignature:t,signatureScheme:r,signature:o,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}h();p();h();p();h();p();function cb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function tqe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function X2(t,...e){if(!tqe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function T5(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cb(t.outputLen),cb(t.blockLen)}function fb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Eae(t,e){X2(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}h();p();h();p();h();p();var lb=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function rqe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function i0(t){return typeof t=="string"&&(t=rqe(t)),X2(t),t}var ub=class{clone(){return this._cloneInto()}};function _ae(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function Aae(t){let e=n=>t().update(i0(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var I5=class extends ub{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,T5(e);let n=i0(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return fb(this),this.iHash.update(e),this}digestInto(e){fb(this),X2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},zD=(t,e,r)=>new I5(t,e).update(r).digest();zD.create=(t,e)=>new I5(t,e);function nqe(t,e,r,n){T5(t);let i=_ae({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(cb(o),cb(s),cb(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=i0(e),d=i0(r),g=new Uint8Array(s),b=zD.create(t,l),_=b._cloneInto().update(d);return{c:o,dkLen:s,asyncTick:c,DK:g,PRF:b,PRFSalt:_}}function iqe(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function Tae(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=nqe(t,e,r,n),d,g=new Uint8Array(4),b=lb(g),_=new Uint8Array(c.outputLen);for(let T=1,M=0;M<o;T++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,T,!1),(d=l._cloneInto(d)).update(g).digestInto(_),k.set(_.subarray(0,k.length));for(let B=1;B<i;B++){c._cloneInto(d).update(_).digestInto(_);for(let P=0;P<k.length;P++)k[P]^=_[P]}}return iqe(c,l,s,d,_)}h();p();function oqe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,d=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+d,c,n)}var M5=class extends ub{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lb(this.buffer)}update(e){fb(this);let{view:r,buffer:n,blockLen:i}=this;e=i0(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=lb(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fb(this),Eae(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;oqe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=lb(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,g[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};h();p();h();p();var k5=BigInt(4294967295),GD=BigInt(32);function Iae(t,e=!1){return e?{h:Number(t&k5),l:Number(t>>GD&k5)}:{h:Number(t>>GD&k5)|0,l:Number(t&k5)|0}}function sqe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Iae(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var aqe=(t,e)=>BigInt(t>>>0)<<GD|BigInt(e>>>0),cqe=(t,e,r)=>t>>>r,fqe=(t,e,r)=>t<<32-r|e>>>r,uqe=(t,e,r)=>t>>>r|e<<32-r,lqe=(t,e,r)=>t<<32-r|e>>>r,dqe=(t,e,r)=>t<<64-r|e>>>r-32,hqe=(t,e,r)=>t>>>r-32|e<<64-r,pqe=(t,e)=>e,mqe=(t,e)=>t,yqe=(t,e,r)=>t<<r|e>>>32-r,gqe=(t,e,r)=>e<<r|t>>>32-r,bqe=(t,e,r)=>e<<r-32|t>>>64-r,vqe=(t,e,r)=>t<<r-32|e>>>64-r;function xqe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var wqe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Sqe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Eqe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),_qe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Aqe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Tqe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var Iqe={fromBig:Iae,split:sqe,toBig:aqe,shrSH:cqe,shrSL:fqe,rotrSH:uqe,rotrSL:lqe,rotrBH:dqe,rotrBL:hqe,rotr32H:pqe,rotr32L:mqe,rotlSH:yqe,rotlSL:gqe,rotlBH:bqe,rotlBL:vqe,add:xqe,add3L:wqe,add3H:Sqe,add4L:Eqe,add4H:_qe,add5H:Tqe,add5L:Aqe},Yt=Iqe;var[Mqe,kqe]=Yt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),o0=new Uint32Array(80),s0=new Uint32Array(80),WD=class extends M5{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:d,El:g,Fh:b,Fl:_,Gh:T,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B]}set(e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=d|0,this.El=g|0,this.Fh=b|0,this.Fl=_|0,this.Gh=T|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let R=0;R<16;R++,r+=4)o0[R]=e.getUint32(r),s0[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let L=o0[R-15]|0,V=s0[R-15]|0,z=Yt.rotrSH(L,V,1)^Yt.rotrSH(L,V,8)^Yt.shrSH(L,V,7),oe=Yt.rotrSL(L,V,1)^Yt.rotrSL(L,V,8)^Yt.shrSL(L,V,7),$=o0[R-2]|0,ne=s0[R-2]|0,S=Yt.rotrSH($,ne,19)^Yt.rotrBH($,ne,61)^Yt.shrSH($,ne,6),a=Yt.rotrSL($,ne,19)^Yt.rotrBL($,ne,61)^Yt.shrSL($,ne,6),u=Yt.add4L(oe,a,s0[R-7],s0[R-16]),m=Yt.add4H(u,z,S,o0[R-7],o0[R-16]);o0[R]=m|0,s0[R]=u|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:d,Dl:g,Eh:b,El:_,Fh:T,Fl:M,Gh:k,Gl:B,Hh:P,Hl:D}=this;for(let R=0;R<80;R++){let L=Yt.rotrSH(b,_,14)^Yt.rotrSH(b,_,18)^Yt.rotrBH(b,_,41),V=Yt.rotrSL(b,_,14)^Yt.rotrSL(b,_,18)^Yt.rotrBL(b,_,41),z=b&T^~b&k,oe=_&M^~_&B,$=Yt.add5L(D,V,oe,kqe[R],s0[R]),ne=Yt.add5H($,P,L,z,Mqe[R],o0[R]),S=$|0,a=Yt.rotrSH(n,i,28)^Yt.rotrBH(n,i,34)^Yt.rotrBH(n,i,39),u=Yt.rotrSL(n,i,28)^Yt.rotrBL(n,i,34)^Yt.rotrBL(n,i,39),m=n&o^n&c^o&c,y=i&s^i&l^s&l;P=k|0,D=B|0,k=T|0,B=M|0,T=b|0,M=_|0,{h:b,l:_}=Yt.add(d|0,g|0,ne|0,S|0),d=c|0,g=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let w=Yt.add3L(S,u,y);n=Yt.add3H(w,ne,a,m),i=w|0}({h:n,l:i}=Yt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Yt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Yt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:d,l:g}=Yt.add(this.Dh|0,this.Dl|0,d|0,g|0),{h:b,l:_}=Yt.add(this.Eh|0,this.El|0,b|0,_|0),{h:T,l:M}=Yt.add(this.Fh|0,this.Fl|0,T|0,M|0),{h:k,l:B}=Yt.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:P,l:D}=Yt.add(this.Hh|0,this.Hl|0,P|0,D|0),this.set(n,i,o,s,c,l,d,g,b,_,T,M,k,B,P,D)}roundClean(){o0.fill(0),s0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Mae=Aae(()=>new WD);function kae(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function Pqe(t){let e=kae(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}var Rqe=t=>kae("mnemonic"+t);function Pae(t,e=""){return Tae(Mae,Pqe(t).nfkd,Rqe(e),{c:2048,dkLen:64})}function $D(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function Bqe(t){return Pae(t,"")}function Rae(t){return Nc(Bqe(t))}h();p();var J2=Ge(pb(),1);var mb=32;var ZD="suiprivkey",R5=class{async signWithIntent(e,r){let n=c5(r,e),i=Am(n,{dkLen:32});return{signature:wae({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Wn(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(X.vector(X.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Wn(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},eS=class extends R5{};function Tm(t){let{prefix:e,words:r}=J2.bech32.decode(t);if(e!==ZD)throw new Error("invalid private key prefix");let n=new Uint8Array(J2.bech32.fromWords(r)),i=n.slice(1);return{schema:f5[n[0]],secretKey:i}}function QD(t,e){if(t.length!==mb)throw new Error("Invalid bytes length");let r=td[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),J2.bech32.encode(ZD,J2.bech32.toWords(n))}h();p();h();p();var Im=Ge(nd(),1);h();p();h();p();var C5=class extends Jh{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Gse(e);let n=Oc(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Jl(this),this.iHash.update(e),this}digestInto(e){Jl(this),nb(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},N5=(t,e,r)=>new C5(t,e).update(r).digest();N5.create=(t,e)=>new C5(t,e);h();p();h();p();function Dqe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,d=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+d,c,n)}var O5=class extends Jh{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=i5(this.buffer)}update(e){Jl(this);let{view:r,buffer:n,blockLen:i}=this;e=Oc(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=i5(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jl(this),n5(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Dqe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=i5(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,g[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var[Lqe,Uqe]=Tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),a0=new Uint32Array(80),c0=new Uint32Array(80),XD=class extends O5{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:d,El:g,Fh:b,Fl:_,Gh:T,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B]}set(e,r,n,i,o,s,c,l,d,g,b,_,T,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=d|0,this.El=g|0,this.Fh=b|0,this.Fl=_|0,this.Gh=T|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let R=0;R<16;R++,r+=4)a0[R]=e.getUint32(r),c0[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let L=a0[R-15]|0,V=c0[R-15]|0,z=Tt.rotrSH(L,V,1)^Tt.rotrSH(L,V,8)^Tt.shrSH(L,V,7),oe=Tt.rotrSL(L,V,1)^Tt.rotrSL(L,V,8)^Tt.shrSL(L,V,7),$=a0[R-2]|0,ne=c0[R-2]|0,S=Tt.rotrSH($,ne,19)^Tt.rotrBH($,ne,61)^Tt.shrSH($,ne,6),a=Tt.rotrSL($,ne,19)^Tt.rotrBL($,ne,61)^Tt.shrSL($,ne,6),u=Tt.add4L(oe,a,c0[R-7],c0[R-16]),m=Tt.add4H(u,z,S,a0[R-7],a0[R-16]);a0[R]=m|0,c0[R]=u|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:d,Dl:g,Eh:b,El:_,Fh:T,Fl:M,Gh:k,Gl:B,Hh:P,Hl:D}=this;for(let R=0;R<80;R++){let L=Tt.rotrSH(b,_,14)^Tt.rotrSH(b,_,18)^Tt.rotrBH(b,_,41),V=Tt.rotrSL(b,_,14)^Tt.rotrSL(b,_,18)^Tt.rotrBL(b,_,41),z=b&T^~b&k,oe=_&M^~_&B,$=Tt.add5L(D,V,oe,Uqe[R],c0[R]),ne=Tt.add5H($,P,L,z,Lqe[R],a0[R]),S=$|0,a=Tt.rotrSH(n,i,28)^Tt.rotrBH(n,i,34)^Tt.rotrBH(n,i,39),u=Tt.rotrSL(n,i,28)^Tt.rotrBL(n,i,34)^Tt.rotrBL(n,i,39),m=n&o^n&c^o&c,y=i&s^i&l^s&l;P=k|0,D=B|0,k=T|0,B=M|0,T=b|0,M=_|0,{h:b,l:_}=Tt.add(d|0,g|0,ne|0,S|0),d=c|0,g=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let w=Tt.add3L(S,u,y);n=Tt.add3H(w,ne,a,m),i=w|0}({h:n,l:i}=Tt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Tt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Tt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:d,l:g}=Tt.add(this.Dh|0,this.Dl|0,d|0,g|0),{h:b,l:_}=Tt.add(this.Eh|0,this.El|0,b|0,_|0),{h:T,l:M}=Tt.add(this.Fh|0,this.Fl|0,T|0,M|0),{h:k,l:B}=Tt.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:P,l:D}=Tt.add(this.Hh|0,this.Hl|0,P|0,D|0),this.set(n,i,o,s,c,l,d,g,b,_,T,M,k,B,P,D)}roundClean(){a0.fill(0),c0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var JD=Zse(()=>new XD);var Fqe=Ge(nd(),1),qqe="ed25519 seed",Hqe=2147483648,Kqe=new RegExp("^m(\\/[0-9]+')+$"),Oae=t=>t.replace("'",""),Vqe=t=>{let r=N5.create(JD,qqe).update(Zh(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},jqe=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+t.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(t,1),o.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=N5.create(JD,e).update(o).digest(),c=s.slice(0,32),l=s.slice(32);return{key:c,chainCode:l}};var zqe=t=>Kqe.test(t)?!t.split("/").slice(1).map(Oae).some(isNaN):!1,eL=(t,e,r=Hqe)=>{if(!zqe(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=Vqe(e);return t.split("/").slice(1).map(Oae).map(s=>parseInt(s,10)).reduce((s,c)=>jqe(s,c+r),{key:n,chainCode:i})};h();p();var Dae=Ge(nd(),1);var tL=32,f0=class extends ob{constructor(e){if(super(),typeof e=="string"?this.data=ho(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==tL)throw new Error(`Invalid public key input. Expected ${tL} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return td.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=Sae(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!kD(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return Dae.default.sign.detached.verify(e,n,this.toRawBytes())}};f0.SIZE=tL;var rL="m/44'/784'/0'/0'/0'",Mm=class t extends eS{constructor(e){super(),e?this.keypair=e:this.keypair=Im.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(Im.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let o=Tm(e);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=e.length;if(n!==mb)throw new Error(`Wrong secretKey size. Expected ${mb} bytes, got ${n}.`);let i=Im.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),c=Im.default.sign.detached(s,i.secretKey);if(!Im.default.sign.detached.verify(s,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new f0(this.keypair.publicKey)}getSecretKey(){return QD(this.keypair.secretKey.slice(0,mb),this.getKeyScheme())}async sign(e){return Im.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=rL),!$D(r))throw new Error("Invalid derivation path");let{key:n}=eL(r,Rae(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=rL),!$D(r))throw new Error("Invalid derivation path");let{key:n}=eL(r,e);return t.fromSecretKey(n)}};var D5=class{addressTypes=["sui"];generateKeypairFromPrivateKey(e){let r=e.fold(s=>new Uint8Array(s)),n=Mm.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),o=Tm(n.getSecretKey());if(o.schema!=="ED25519")throw new Error(`got unexpected schema ${o.schema} for Sui`);return{publicKey:i,privateKey:o.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new Nu(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};var nL=class{cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new AA),this.registerChainPlugin(new WA),this.registerChainPlugin(new $A),this.registerChainPlugin(new D5)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=bm.getAddressType(n),o=this.cryptoChainPlugins.get(i);if(!o)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return o.generateKeypairFromSeed(e,r,n)}};h();p();function Gqe(t){return bm.getAll().includes(t)}h();p();var Xae=Ge(au()),Jae=Ge(yb()),U5=Ge(nd()),ece=Ge(cL());var fL=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":try{return{key:nHe(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case"eip155":try{return{key:iHe(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case"solana":try{return sHe(e)}catch{throw new Error("Could not find encoding for Solana private key")}case"sui":try{return{key:oHe(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return ko(r)}},nHe=(t,e)=>{try{let{privateKey:r}=ece.decodeRaw(Jae.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},iHe=t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new X1(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},L5=t=>{let e=U5.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=U5.default.sign.detached(r,t);if(!U5.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},oHe=t=>{try{let e=Tm(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},sHe=t=>{try{let e=JSON.parse(t);return L5(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=Xae.default.decode(t);return L5(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return L5(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return L5(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")};h();p();var tce=Ge(au()),rce=Ge(yb()),nce=Ge(cL());var aHe=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return rce.default.encode(nce.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case"eip155":return"0x"+Buffer.from(e).toString("hex");case"solana":return tce.default.encode(e);case"sui":return Mm.fromSecretKey(e).getSecretKey();default:return ko(r)}};h();p();var cHe=t=>{try{return Ic.from(fL(t).key)}catch(e){return console.error(e),Ic.from(Buffer.from(""))}};h();p();var MWe=Ge(_L());h();p();var[_ce,Ace,Tce]=[[],[],[]],rKe=BigInt(0),oS=BigInt(1),nKe=BigInt(2),iKe=BigInt(7),oKe=BigInt(256),sKe=BigInt(113);for(let t=0,e=oS,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],_ce.push(2*(5*n+r)),Ace.push((t+1)*(t+2)/2%64);let i=rKe;for(let o=0;o<7;o++)e=(e<<oS^(e>>iKe)*sKe)%oKe,e&nKe&&(i^=oS<<(oS<<BigInt(o))-oS);Tce.push(i)}var[aKe,cKe]=Lt.split(Tce,!0),Sce=(t,e,r)=>r>32?Lt.rotlBH(t,e,r):Lt.rotlSH(t,e,r),Ece=(t,e,r)=>r>32?Lt.rotlBL(t,e,r):Lt.rotlSL(t,e,r);function fKe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let c=(s+8)%10,l=(s+2)%10,d=r[l],g=r[l+1],b=Sce(d,g,1)^r[c],_=Ece(d,g,1)^r[c+1];for(let T=0;T<50;T+=10)t[s+T]^=b,t[s+T+1]^=_}let i=t[2],o=t[3];for(let s=0;s<24;s++){let c=Ace[s],l=Sce(i,o,c),d=Ece(i,o,c),g=_ce[s];i=t[g],o=t[g+1],t[g]=l,t[g+1]=d}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)r[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=aKe[n],t[1]^=cKe[n]}r.fill(0)}var W5=class t extends Lh{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=B1(this.state)}keccak(){fKe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){sn.exists(this);let{blockLen:r,state:n}=this;e=If(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let c=0;c<s;c++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){sn.exists(this,!1),sn.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sn.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(sn.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},p0=(t,e,r)=>Ru(()=>new W5(e,t,r)),iDt=p0(6,144,224/8),oDt=p0(6,136,256/8),sDt=p0(6,104,384/8),aDt=p0(6,72,512/8),cDt=p0(1,144,224/8),AL=p0(1,136,256/8),fDt=p0(1,104,384/8),uDt=p0(1,72,512/8),Ice=(t,e,r)=>Iie((n={})=>new W5(e,t,n.dkLen===void 0?r:n.dkLen,!0)),lDt=Ice(31,168,128/8),dDt=Ice(31,136,256/8);var Ff=Ge(UU()),jle=Ge(au());function kWe(t){let{publicKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return PWe(e,r,t.networkID);case"eip155":return RWe(e);case"solana":return jle.default.encode(e);case"sui":return new f0(e).toSuiAddress();default:return ko(r)}}var PWe=(t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?Ff.networks.testnet:Ff.networks.bitcoin,i;switch(e){case"bip122_p2tr":Ff.initEccLib(MWe),i=Ff.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case"bip122_p2wpkh":i=Ff.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case"bip122_p2sh":{let o=Buffer.from(t),s=Ff.payments.p2wpkh({pubkey:o,network:n},{validate:!1});i=Ff.payments.p2sh({pubkey:o,network:n,redeem:s},{validate:!1})?.address;break}case"bip122_p2pkh":{i=Ff.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:ko(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},RWe=t=>{let e=t.slice(1),n=AL(e).slice(12);return BWe(`0x${Buffer.from(n).toString("hex")}`)},BWe=t=>{if(!_G.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(AL(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n};h();p();function CWe(t){return g2.safeParse(t).success}h();p();function NWe(t){switch(t){case"bip44Root":case"bip44Change":case"bip44":case"deprecated":return"solana";case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return"eip155";case"bitcoinLegacy":return"bip122_p2pkh";case"bitcoinNativeSegwit":return"bip122_p2wpkh";case"bitcoinNestedSegwit":return"bip122_p2sh";case"bitcoinTaproot":return"bip122_p2tr";case"bip44Sui":return"sui"}}h();p();h();p();var FU={id:"arbitrum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{"eip155:42161":{id:"eip155:42161",name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},"eip155:421614":{id:"eip155:421614",name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:"eip155:42161",tokenDecimals:18,tokenSymbol:"ETH",slip44:"9001",parentChain:"ethereum"};h();p();var qU={id:"base",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{"eip155:8453":{id:"eip155:8453",name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},"eip155:84532":{id:"eip155:84532",name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:"eip155:8453",tokenDecimals:18,tokenSymbol:"ETH",slip44:"8453",parentChain:"ethereum"};h();p();var OWe=Ge(_L());var YT=Ge(UU());var Db=le.string().refine(t=>{try{return YT.initEccLib(OWe),YT.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),AS=le.object({networkID:Ph,addressType:le.nativeEnum($t),address:Db,publicKey:le.instanceof(Uint8Array).optional()}),HU={id:"bitcoin",addressTypes:["bip122_p2tr","bip122_p2wpkh"],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{"bip122:000000000019d6689c085ae165831e93":{id:"bip122:000000000019d6689c085ae165831e93",name:"Bitcoin",value:128},"bip122:000000000933ea01ad0ee984209779ba":{id:"bip122:000000000933ea01ad0ee984209779ba",name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:"bip122:000000000019d6689c085ae165831e93",tokenDecimals:8,tokenSymbol:"BTC",slip44:"0"};h();p();var TS=le.object({networkID:Bh,addressType:le.nativeEnum($t),address:eg}),KU={id:"ethereum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{"eip155:1":{id:"eip155:1",name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},"eip155:11155111":{id:"eip155:11155111",name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:"eip155:1",tokenDecimals:18,tokenSymbol:"ETH",slip44:"60"};h();p();var VU={id:"hypercore",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{"hypercore:mainnet":{id:"hypercore:mainnet",name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},"hypercore:testnet":{id:"hypercore:testnet",name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:"hypercore:mainnet",tokenDecimals:9,tokenSymbol:"ETH",slip44:"925"},zle=le.object({networkID:jl,addressType:le.nativeEnum($t),address:o6});h();p();var jU={id:"monad",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{"eip155:143":{id:"eip155:143",name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143,hidden:!0},"eip155:10143":{id:"eip155:10143",name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143},"eip155:41454":{id:"eip155:41454",name:"Monad Devnet",shortName:"Devnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/devnet1",value:41454,hidden:!0}},mainnetID:"eip155:10143",tokenDecimals:18,tokenSymbol:"MON",slip44:"143"};h();p();var zU={id:"polygon",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{"eip155:137":{id:"eip155:137",name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},"eip155:80002":{id:"eip155:80002",name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:"eip155:137",tokenDecimals:18,tokenSymbol:"POL",slip44:"966",parentChain:"ethereum"};h();p();var IS=le.object({networkID:kh,addressType:le.nativeEnum($t),address:tg}),GU={id:"solana",addressTypes:["solana"],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{"solana:101":{id:"solana:101",name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},"solana:102":{id:"solana:102",name:"Solana Testnet",shortName:"Testnet",value:"testnet"},"solana:103":{id:"solana:103",name:"Solana Devnet",shortName:"Devnet",value:"devnet"},"solana:localnet":{id:"solana:localnet",name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:"solana:localnet",mainnetID:"solana:101",tokenDecimals:9,tokenSymbol:"SOL",slip44:"501"};h();p();var WU={id:"sui",addressTypes:["sui"],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{"sui:mainnet":{id:"sui:mainnet",name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},"sui:testnet":{id:"sui:testnet",name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:"sui:mainnet",tokenDecimals:9,tokenSymbol:"SUI",slip44:"784"},ZT=le.object({networkID:Rh,addressType:le.nativeEnum($t),address:rg,publicKey:le.instanceof(Uint8Array).optional()});h();p();var $U=class extends Error{constructor(r,n){super(`${n} is not yet supported for ${r}`);this.chain=r;this.feature=n;this.name="UnsupportedChainFeatureError"}},YU=class extends $U{constructor(e){super("sui",e)}};h();p();function QT(t){return Object.values(Pi).includes(t)}var Do={bitcoin:HU,ethereum:KU,polygon:zU,monad:jU,solana:GU,base:qU,sui:WU,arbitrum:FU,hypercore:VU},XT={solana:1,ethereum:2,monad:3,base:4,sui:5,polygon:6,bitcoin:7,arbitrum:8,hypercore:9},DWe={solana:!0,ethereum:!0,monad:!1,base:!0,polygon:!0,bitcoin:!0,sui:!0,arbitrum:!1,hypercore:!1},ZU=(t,e)=>{let r=XT[t]-XT[e];return r===0?0:r>0?1:-1},LWe=()=>{let t=Object.values(Pi).sort(ZU),e=t.map(Z=>Do[Z]),r={},n=[],i={},o={},s={};e.forEach(Z=>{let ct=Object.fromEntries(Object.entries(Z.networks).filter(([ur,me])=>!me.hidden)),de=Object.keys(ct);n.push(...de),de.forEach(ur=>{r[ur]=Z});let he=Object.values(ct);i[Z.id]=he.map(ur=>ur.id),he.forEach(ur=>{o[ur.id]=ur});for(let ur of Z.addressTypes){let me=s[ur];me?me.push(Z.id):s[ur]=[Z.id]}});let c=new Set(n);function l(Z){return Z?.evmOnly?t.filter(ct=>Do[ct].addressTypes.includes("eip155")):t}function d(Z){return DWe[Z]}function g(Z){return n.filter(ct=>r[ct].id===Z)}function b(Z){if(!Z)return n;let ct=n;return Z.evmOnly&&(ct=ct.filter(de=>A(de))),Z.mainnetOnly&&(ct=ct.filter(de=>U(de))),ct}function _(Z){return r[Z]}function T(Z){return o[Z].rpcProxyUrl}function M(Z){return r[Z].addressTypes[0]}function k(Z){let ct=r[Z];if(ct.addressTypes.length===1){let[de]=ct.addressTypes;return de}else throw`The chain ${ct.id} has multiple address types`}function B(Z){return r[Z].addressTypes}function P(Z){return r[Z].id}function D(Z){return Do[se(Z)].name}function R(Z){return r[Z].tokenDecimals}function L(Z){return(ne(Z)?r[Z]:Do[Z]).tokenSymbol}function V(Z){return(ne(Z)?r[Z]:Do[Z]).iconUrl}function z(Z){return r[Z].slip44}function oe(Z){return Do[se(Z)].mainnetID}function $(Z){let ct;if(A(Z)&&(ct=o[Z].value),typeof ct=="number")return ct;throw new Error(`Invalid NetworkID: ${Z}. Must be an EVM NetworkID.`)}function ne(Z){return c.has(Z)}function S(Z){return Object.keys(Do.bitcoin.networks).includes(Z)}function a(Z){return Object.keys(Do.ethereum.networks).includes(Z)}function u(Z){return Object.keys(Do.polygon.networks).includes(Z)}function m(Z){return Object.keys(Do.base.networks).includes(Z)}function y(Z){return Object.keys(Do.arbitrum.networks).includes(Z)}function w(Z){return Object.keys(Do.monad.networks).includes(Z)}function E(Z){return Object.keys(Do.hypercore.networks).includes(Z)}function A(Z){return a(Z)||u(Z)||m(Z)||w(Z)||y(Z)||E(Z)}function x(Z){return Object.keys(Do.solana.networks).includes(Z)}function f(Z){return Object.keys(Do.sui.networks).includes(Z)}function v(Z){if(!x(Z))throw new Error(`Invalid NetworkID: ${Z}. Must be a Solana NetworkID.`);return Do.solana.networks[Z].value}function q(Z){return r[Z].localnetID===Z}function U(Z){return r[Z].mainnetID===Z}function O(Z){return o[Z]}function W(Z,ct=!1){let de=o[Z];return ct&&de.shortName?de.shortName:de.name}function Q(Z){return r[Z].parentChain}function re(Z){return s[Z]}function Ke(Z,ct){let de=r[Z].id,he=r[ct].id;return ZU(de,he)}function se(Z){return QT(Z)?Z:ne(Z)?vt.getChainID(Z):ko(Z)}return{...Do,getAllChainIDs:l,isChainDefaultEnabled:d,getNetworkIDs:g,getAllNetworkIDs:b,getChainDefinition:_,getAddressType:k,getAddressTypes:B,getChainID:P,getChainName:D,getTokenDecimals:R,getTokenSymbol:L,getChainIconUrl:V,getSlip44:z,getMainnetNetworkID:oe,getEVMNetworkIDValue:$,getSolanaNetworkIDValue:v,_DO_NOT_USE_getAddressType:M,isNetworkID:ne,isBitcoinNetworkID:S,isEVMNetworkID:A,isSolanaNetworkID:x,isEthereumNetworkID:a,isPolygonNetworkID:u,isBaseNetworkID:m,isArbitrumNetworkID:y,isSuiNetworkID:f,isHypercoreNetworkID:E,isLocalNetworkID:q,isMainnetNetworkID:U,getNetworkDefinition:O,getNetworkName:W,getChainIDs:re,compareChain:ZU,compareNetworkID:Ke,getRpcProxyUrl:T,getParentChain:Q}},vt=LWe();h();p();h();p();h();p();var UWe=le.union([AS,TS,IS,ZT,zle]);var Hc=(n=>(n.address="address",n.tx="tx",n.nativeToken="nativeToken",n))(Hc||{}),Gle=le.string(),Wle=le.object({chainId:zl,resourceType:le.nativeEnum(Hc)}),QU=Wle.extend({resourceType:le.literal("nativeToken"),slip44:le.nativeEnum(Mo)}),M0=Wle.extend({resourceType:le.literal("address"),address:le.string()}),XU=M0.extend({chainId:kh,address:tg}),JU=M0.extend({chainId:Bh,address:eg,tokenId:le.string().optional()}),eF=M0.extend({chainId:Ph,address:Db.or(le.string())}),FWe=M0.extend({chainId:Rh,address:rg,tokenId:le.string().optional()}),$le=M0.extend({chainId:jl,address:o6,tokenId:le.string().optional()}),Yle=le.union([QU,M0,XU,JU,eF,FWe]);var Zle=t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(vt.isEVMNetworkID(r)||vt.isSolanaNetworkID(r)||vt.isBitcoinNetworkID(r)||vt.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,o]=n;if(!i||!o)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(Hc).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i==="nativeToken"){if(!Object.values(Mo).includes(o))throw new Error(`Unsupported slip44 '${o}'`);return{chainId:r,resourceType:i,slip44:o}}else if(vt.isEVMNetworkID(r)){if(i==="address")return e.length===3?{chainId:r,address:o,resourceType:i,tokenId:e[2]}:{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(vt.isSolanaNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(vt.isBitcoinNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(vt.isSuiNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)};h();p();var Qle=t=>{if(t.resourceType==="nativeToken")return`${t.chainId}/nativeToken:${t.slip44}`;if(vt.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(vt.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(vt.isSolanaNetworkID(t.chainId))return`${t.chainId}/address:${t.address}`;if(vt.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/address:${e.address}`}return vt.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`:ko(t.chainId)};h();p();h();p();var Xle=le.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let o=i[0],s=i[1];return typeof t=="string"&&vt.isNetworkID(r)&&o.match(/^[-a-z0-9]{2,8}/)&&s.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});h();p();function Jle(t){return!t||t.resourceType!=="address"?!1:!!vt.isEVMNetworkID(t.chainId)}h();p();h();p();h();p();function ede(t,e){return vt.isBitcoinNetworkID(e)?Db.safeParse(t).success:vt.isEVMNetworkID(e)?eg.safeParse(t).success:vt.isSolanaNetworkID(e)?tg.safeParse(t).success:vt.isSuiNetworkID(e)?rg.safeParse(t).success:ko(e)}h();p();var tde=t=>{let e=vt.getNetworkIDs(t),r=vt.getMainnetNetworkID(e[0]),n=vt[t].slip44;return{chainId:r,resourceType:"nativeToken",slip44:n}};h();p();h();p();h();p();function rde(t){return AS.safeParse(t).success}function nde(t){return IS.safeParse(t).success}function ide(t){return TS.safeParse(t).success}var ode=le.object({networkID:zl,addressType:le.nativeEnum($t),address:le.string()}),KWe=t=>`${t.networkID}-${t.address}`,sde={toKey:KWe},ade=t=>{let e={chainId:t.networkID,address:t.address,resourceType:"address"};return vt.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e};h();p();function cde(t){return[on.Solana.Devnet,on.Solana.Testnet,on.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}h();p();var fde=le.object({id:zl,name:le.string(),symbol:le.string(),imageUrl:le.string()});function ude(t){let{name:e,tokenSymbol:r,iconUrl:n}=vt.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}h();p();function lde(t){switch(t){case"devnet":return on.Solana.Devnet;case"mainnet":return on.Solana.Mainnet;case"testnet":return on.Solana.Testnet;case"localnet":return on.Solana.Localnet}}function dde(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}h();p();var hde=(t,e)=>{if(vt.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return"bip122_p2tr";case(e.startsWith("bc1q")||e.startsWith("tb1q")):return"bip122_p2wpkh";case(e.startsWith("3")||e.startsWith("2")):return"bip122_p2sh";case(e.startsWith("1")||e.startsWith("m")):return"bip122_p2pkh"}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return vt.isEVMNetworkID(t)?"eip155":vt.isSolanaNetworkID(t)?"solana":vt.isSuiNetworkID(t)?"sui":ko(t)};h();p();var VWe=vt.getAllNetworkIDs().filter(t=>vt.isEVMNetworkID(t)),pde=t=>VWe.find(e=>vt.getNetworkDefinition(e).value===t);h();p();var mde=t=>vt.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return vt.isMainnetNetworkID(e);if(t==="testnets_only")return!vt.isMainnetNetworkID(e)}else return!0}).map(tF),tF=t=>`0x${vt.getNetworkDefinition(t).value.toString(16)}`;h();p();var Ode=Ge(n6(),1),Dde=Ge(Ui(),1);h();p();var eI=Ge(Ui(),1);h();p();var JT=Ge(Ui(),1),rF=JT.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED||JT.default.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE||JT.default.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,WWe=!!rF.ReactCurrentDispatcher,yde=rF.ReactCurrentDispatcher||rF,nF=0,Ym=t=>{nF++;try{return t()}finally{nF--}};function MS(){let t=WWe?yde.current:yde.H;return nF===0&&!!t&&t.useState!==t.useEffect}var tI=(0,eI.createContext)(void 0);function iF(){if(MS())return(0,eI.useContext)(tI)}h();p();h();p();h();p();h();p();h();p();h();p();var oF=class{value;constructor(e){this.value=e}deref(){return this.value}},gde=typeof WeakRef=="function"?WeakRef:oF;h();p();var da,Kc;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(Kc||(Kc={}));var rI;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(rI||(rI={}));h();p();var $We=0,bde=new Map;function vde(t){let e=bde.get(t);return e===void 0&&(e=`unknownSignal${$We++}`,bde.set(t,e)),e}h();p();var{log:xde,floor:wde,imul:Wi,abs:YWe}=Math;function qf(t,e=0){let r=e^t.length,n=3432918353,i=461845907,o=0;for(;o+4<=t.length;){let c=t.charCodeAt(o)&255|(t.charCodeAt(o+1)&255)<<8|(t.charCodeAt(o+2)&255)<<16|(t.charCodeAt(o+3)&255)<<24;c=Wi(c,n),c=c<<15|c>>>17,c=Wi(c,i),r^=c,r=r<<13|r>>>19,r=Wi(r,5)+3864292196,o+=4}let s=0;switch(t.length&3){case 3:s^=(t.charCodeAt(o+2)&255)<<16;case 2:s^=(t.charCodeAt(o+1)&255)<<8;case 1:s^=t.charCodeAt(o)&255,s=Wi(s,n),s=s<<15|s>>>17,s=Wi(s,i),r^=s}return r^=t.length,r^=r>>>16,r=Wi(r,2246822507),r^=r>>>13,r=Wi(r,3266489909),r^=r>>>16,r>>>0}function ZWe(t,e=0){t=YWe(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let s=t&4294967295;t=wde(t/4294967296),s=Wi(s,n),s=s<<15|s>>>17,s=Wi(s,i),r^=s,r=r<<13|r>>>19,r=Wi(r,5)+3864292196}if(t>0){let s=t&4294967295;s=Wi(s,n),s=s<<15|s>>>17,s=Wi(s,i),r^=s}let o=t===0?1:wde(xde(t)/xde(256))+1;return r^=o,r^=r>>>16,r=Wi(r,2246822507),r^=r>>>13,r=Wi(r,3266489909),r^=r>>>16,r>>>0}function cF(t){let e=7,r=3432918353,n=461845907;for(let i of t){let o=k0(i);o=Wi(o,r),o=o<<15|o>>>17,o=Wi(o,n),e^=o,e=e<<13|e>>>19,e=Wi(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=Wi(e,2246822507),e^=e>>>13,e=Wi(e,3266489909),e^=e>>>16,e>>>0}function QWe(t){let e=r$e,r=Object.keys(t);for(let n of r)e+=k0(n)^k0(t[n]);return e>>>0}var XWe=qf("undefined",0),JWe=qf("null",1),e$e=qf("true",2),t$e=qf("false",3),Xjt=qf("array",7),r$e=qf("object",8),n$e=Object.getPrototypeOf,i$e=new Map([[Object.prototype,QWe],[Array.prototype,cF]]);function k0(t,e=[]){switch(typeof t){case"undefined":return XWe;case"boolean":return t?e$e:t$e;case"number":return qf(String(t),4);case"string":return qf(t,5);case"bigint":return qf(t.toString(),6);case"object":{if(t===null)return JWe;let r=e.indexOf(t);if(r!==-1)return qf(String(r),11);let n=i$e.get(n$e(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return aF(t)}case"function":return aF(t);case"symbol":return qf(t.toString(),10)}}var Sde=new WeakMap,o$e=1;function aF(t){let e=Sde.get(t);return e===void 0&&(e=ZWe(o$e++,9),Sde.set(t,e)),e}var s$e=cF([]);function Ede(t,e){return aF(t)^(e.length>0?cF(e):s$e)}h();p();var _de=new WeakMap,a$e=1;function fF(t){let e=_de.get(t);return e===void 0&&(e=`obj-${a$e++}`,_de.set(t,e)),e}function c$e(t){return Object.getPrototypeOf(t)===Object.prototype}function f$e(t){return Array.isArray(t)}function nI(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():f$e(t)?`[${t.map(nI).join(",")}]`:c$e(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${nI(n)}`).join(", ")} }`:fF(t);case"function":return fF(t);default:return fF(t)}}var u$e=0,kS=class{flags;scope=void 0;subs=new Map;deps=new Map;ref=new gde(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;_listeners=null;key;args;value;tracerMeta;def;constructor(e,r,n,i,o){this.flags=(e.isSubscription?4:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,this.value=o?.initValue,da&&(this.tracerMeta={id:o?.id??n??k0([e.compute,u$e++]),desc:o?.desc??e.compute.name??vde(e.compute),params:r.map(s=>nI(s)).join(", "),tracer:o?.tracer})}get _state(){return this.flags&3}set _state(e){this.flags=this.flags&-4|e}get _isListener(){return(this.flags&8)!==0}set _isListener(e){e?this.flags|=8:this.flags&=-9}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get(){return sI(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(this.watchCount++,this.flags|=8),iI(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(oI(this),this.flags&=-9))}}addListenerLazy(){return this._isListener||(this.watchCount++,this.flags|=8),this.listeners.cachedBoundAdd}},Ade=t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},PS=t=>(t.flags&4)!==0;function RS(t,e=[],r,n,i){return new kS(t,e,r,n,i)}h();p();h();p();function BS(t){let e=t._state;e!==2&&(t._state=2,e!==3&&uF(t))}function uF(t){if(fr===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");PS(t)?t.watchCount>0&&aI(t):(t._isListener&&iI(t),lF(t.subs),t.subs=new Map)}function lF(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,uF(n);break;case 1:case 3:{let o=n.dirtyHead,s=r.ord;if(o.ord>s)n.dirtyHead=r,r.nextDirty=o,i===1&&(n._state=3,uF(n));else{let c=o.nextDirty;for(;c!==void 0&&c.ord<s;)o=c,c=o.nextDirty;r.nextDirty=c,o.nextDirty=r}break}}}}var l$e=0,dF=class{_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,o)=>i===o,n="state"){this._value=e,this._equals=r,this._id=l$e++,this._desc=`${n}${this._id}`}get(){return fr!==void 0?(da?.emit({type:Kc.ConsumeState,id:fr.tracerMeta.id,childId:this._id,value:this._value,setValue:e=>{this.set(e)}}),this._subs.set(fr.ref,fr.computedCount),this._value):Ide(this)}update(e){this.set(e(this._value))}peek(){return this._value}set(e){if(this._equals(e,this._value))return;this._value=e;let{_subs:r,_listeners:n}=this;for(let[i,o]of r.entries()){let s=i.deref();s===void 0||o!==s.computedCount||BS(s)}this._subs=new Map,fI(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function Tde(t){let e=t._listeners;if(e!==null)for(let r of e)r()}var d$e=()=>!1;function cI(t,e){let r=e?.equals===!1?d$e:e?.equals??((n,i)=>n===i);return new dF(t,r,e?.desc)}h();p();function hF(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())hF(n);PS(t)&&P0(t)}}function pF(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())pF(i);PS(t)&&t.value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}var h$e=typeof requestIdleCallback=="function"?requestIdleCallback:t=>NS(t),Mde=!1,lI=[],dI=[],hI=new Map,mF=[],yF=[],uI=new Set,p$e=()=>Promise.resolve(),pI=null,CS=t=>{if(pI)return;let e;pI={promise:new Promise(n=>e=n),resolve:e},NS(Lb)};var iI=t=>{lI.push(t),CS(Lb)},aI=t=>{dI.push(t),CS(Lb)},oI=t=>{let e=hI.get(t)??0;hI.set(t,e+1),CS(Lb)},fI=t=>{mF.push(t),CS(Lb)},sF=t=>{yF.push(t),CS(Lb)},kde=t=>{uI.add(t),!(uI.size>1)&&h$e(()=>{for(let e of uI)e.sweepGc();uI.clear()})},Lb=async()=>{let t=pI;for(;Mde||dI.length>0||lI.length>0;){Mde=!1;let e=dI;dI=[];for(let n of e)P0(n);let r=lI;lI=[];for(let n of r)Pde(n);await p$e()}pI=null,mI(()=>{for(let[e,r]of hI)pF(e,r);for(let e of mF)e instanceof kS?Ade(e):Tde(e);for(let e of yF)e.flush();hI.clear(),mF=[],yF=[]}),t.resolve()};h();p();var Rde=0;function OS(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:Rde++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=Rde++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}function Bde(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}h();p();h();p();var m$e=function*(){}().constructor;function DS(t){return t.constructor===m$e}function LS(t){return t.constructor===Promise}function US(t){return t.constructor===Zu}h();p();var yI=(t,e)=>t===e,y$e=()=>!1,FS=t=>t===!1?y$e:t??yI;var Zu=class t{_value=void 0;_error=void 0;_flags=0;_signal=void 0;_equals;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_version=cI(0);_boundRun;static createPromise(e,r,n){let i=new t;return i._signal=r,i._equals=r?.def.equals??yI,i._initFlags(1,n),e&&i._setPromise(e),i}static createSubscription(e,r,n){let i=new t,o=n?.initValue,s=!1,c,l=()=>{typeof c=="function"?c():c!==void 0&&c.unsubscribe?.();let b=i._signal;b.subs=new Map,b._state=2,b.watchCount=0,s=!1,c=void 0},d={get:()=>i._value,set:b=>{b!==null&&typeof b=="object"&&LS(b)?i._setPromise(b):i._setValue(b)},setError:b=>{i._setError(b)}},g={compute:()=>(s===!1?(c=e(d),s=!0):typeof c=="function"||c===void 0?(c?.(),c=e(d)):c.update?.(),l),equals:yI,isSubscription:!0};return i._signal=RS(g,[],void 0,r,n),i._equals=FS(n?.equals),i._initFlags(129,o),i}static createTask(e,r,n){let i=new t,o=n?.initValue;return i._signal=(...s)=>Cde(r,()=>{let c=e(...s);return typeof c=="object"&&c!==null&&DS(c)?gI(c,void 0):c}),i._equals=FS(n?.equals),i._initFlags(64,o),i}_initFlags(e,r){let n=e;r!==void 0&&(n|=8),this._flags=n,this._value=r}_consumeFlags(e){if(fr===void 0)return;this._flags&128&&this._connect();let r=fr.ref,n=this._stateSubs,i=n.get(r)??0;n.set(r,i|e)}_connect(){let e=this._signal;if(fr?.watchCount===0){let{ref:r,computedCount:n,deps:i}=fr,o=i.get(e);if(o?.consumedAt!==n){let s=OS(o,0,e,e.updatedCount,n);e.subs.set(r,s),i.set(e,s)}}else sI(e)}_setFlags(e,r=0,n=0){let i=this._flags,o=i&~r|e,s=i^o|n;if(this._flags=o,s===0)return;let c=this._stateSubs;for(let[l,d]of c)if(d&s){let g=l.deref();g&&BS(g),c.delete(l)}this._version.update(l=>l+1)}_setPending(){this._setFlags(1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(this._setPending(),lF(n),this._awaitSubs=n=new Map);try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,o=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,o=16),n&2&&(o=32,this._error=void 0),this._scheduleSubs(r,o!==0),this._setFlags(12,3,o);for(let{ref:s,edge:c,resolve:l}of this._pending)l?.(i),s!==void 0&&r.set(s,c);this._pending=[]}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._scheduleSubs(r,i!==0),this._setFlags(2,5,i);for(let{ref:o,edge:s,reject:c}of this._pending)c?.(n),o!==void 0&&r.set(o,s);this._pending=[]}_scheduleSubs(e,r){let n=r?2:3;for(let i of e.keys()){let o=i.deref();o!==void 0&&(o._state=n,aI(o))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}get data(){return this.value}get isFetching(){return this.isPending}get isSuccess(){return this.isResolved}get isError(){return this.isRejected}get isFetched(){return this.isSettled}_run(...e){let r=this._flags,n=this._signal;if(r&64)this._setPromise(n(...e));else if(n)BS(n);else throw new Error("ReactivePromise is not runnable. If you are using run() on a ReactivePromise, make sure you used `task` to create this promise. If you are using rerun(), make sure its a promise that was generated by a reactive async function.");return this}run=this._run.bind(this);get rerun(){return this.run}then(e,r){let n=this._flags;return new Promise((i,o)=>{let s,c;if(fr!==void 0){n&128&&this._connect(),s=fr.ref;let g=this._awaitSubs.get(s)??Bde(fr,this);c=OS(g,1,this,-1,fr.computedCount)}let l=e?g=>{try{let b=e(g);i(b)}catch(b){o(b)}}:i,d=r?g=>{try{let b=r(g);i(b)}catch(b){o(b)}}:o;n&1?this._pending.push({ref:s,edge:c,resolve:l,reject:d}):(n&4?l(this._value):n&2&&d(this._error),s&&this._awaitSubs.set(s,c))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}};function gF(t){return t instanceof Zu&&(t._flags&128)!==0}var fr;function sI(t){if(fr!==void 0){let{ref:e,computedCount:r,deps:n}=fr,i=n.get(t);if(i?.consumedAt!==r){i===void 0&&(da?.emit({type:Kc.Connected,id:fr.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:rI.Reactive}),fr.watchCount>0&&hF(t));let s=P0(t),c=OS(i,0,t,s,r);t.subs.set(e,c),n.set(t,c)}}else P0(t);return t.value}function P0(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r===3){let n=t.dirtyHead;for(;n!==void 0;){if(n.type===1){let s=n.dep;if(s.isPending){let c=t.value;return c instanceof Zu&&c._setPending(),s._awaitSubs.set(e,n),r=1,t.dirtyHead=n,t.updatedCount}n=n.nextDirty;continue}let i=n.dep,o=P0(i);if(i.subs.set(e,n),n.updatedAt!==o){t.dirtyHead=n.nextDirty,r=2;break}n=n.nextDirty}}return r===2&&g$e(t),t._state=0,t.dirtyHead=void 0,da!==void 0&&t.tracerMeta?.tracer&&sF(t.tracerMeta.tracer),t.updatedCount}function g$e(t){da?.emit({type:Kc.StartUpdate,id:t.tracerMeta.id});let e=fr,r=t.updatedCount,n=++t.computedCount;try{fr=t;let i=r!==0,o=t.value,s=t.def.compute(...t.args),c=!1;if(s!==null&&typeof s=="object"&&(DS(s)?(s=gI(s,t),c=!0):LS(s)&&(c=!0)),c)if(da!==void 0&&(da.emit({type:Kc.StartLoading,id:t.tracerMeta.id}),s.finally(()=>{da.emit({type:Kc.EndLoading,id:t.tracerMeta.id,value:t.value})})),da?.emit({type:Kc.StartLoading,id:t.tracerMeta.id}),o!==null&&typeof o=="object"&&US(o))o._setPromise(s);else{let l=i?void 0:o;t.value=Zu.createPromise(s,t,l),t.updatedCount=r+1}else(!i||!t.def.equals(o,s))&&(t.value=s,t.updatedCount=r+1)}finally{fr=e,da?.emit({type:Kc.EndUpdate,id:t.tracerMeta.id,value:t.value});let{ref:i,deps:o}=t;for(let[s,c]of o)c.consumedAt!==n&&(oI(s),s.subs.delete(i),o.delete(s),da?.emit({type:Kc.Disconnected,id:t.tracerMeta.id,childId:s.tracerMeta.id}))}}function Pde(t,e=!1){let r=t.listeners;e&&(r===null||r.current.size===0)&&(t.watchCount++,t.flags|=8);let n=P0(t);return r!==null&&r.updatedAt!==n&&(r.updatedAt=n,fI(t)),n}function bF(t){let e=fr;return(...r)=>{let n=fr;fr=e;try{let i=t(...r);return i!==null&&typeof i=="object"&&DS(i)?gI(i,e):i}finally{fr=n}}}function gI(t,e){function r(n){return typeof n=="object"&&n!==null&&(LS(n)||US(n))?n:Promise.resolve(n)}return new Promise((n,i)=>{function o(l){l.done?n(l.value):r(l.value).then(s,c)}function s(l){let d=fr;try{fr=e,o(t.next(l))}catch(g){i(g)}finally{fr=d}}function c(l){let d=fr;try{fr=e,o(t.throw(l))}catch(g){i(g)}finally{fr=d}}o(t.next())})}var NS=t=>{setTimeout(()=>{t()},0)},mI=t=>t(),qS=()=>{},vF=t=>t.get(),xF=t=>t.get();function Nde(t){return fr!==void 0?t.get():xF(t)}function Ide(t){return vF(t)}function wF(t){NS=t.scheduleFlush??NS,mI=t.runBatch??mI,qS=t.getFrameworkScope??qS,vF=t.useStateSignal??vF,xF=t.useDerivedSignal??xF}var b$e=Symbol("signalium:context"),v$e=0,SF=class{defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${v$e++}`,this._key=Symbol(this._description)}},Zm=(t,e)=>new SF(t,e),Ub=class t{constructor(e,r){this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n;this.signals.clear()}getChild(e){let r=k0(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r,n){let i=n?.paramKey?.(...r),o=Ede(e.compute,i?[i]:r),s=this.signals.get(o);return s===void 0&&(s=RS(e,r,o,this,n),this.signals.set(o,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),kde(this))}removeFromGc(e){this.gcCandidates.delete(e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){for(let e of this.gcCandidates)if(e.watchCount===0){let{shouldGC:r}=e.def;(!r||r(e,e.value,e.args))&&this.signals.delete(e.key)}this.gcCandidates=new Set}},bI=new Ub([]);function EF(t){bI.setContexts(t)}var HS,_F=()=>HS??fr?.scope??qS()??bI;var Cde=(t,e)=>{let r=HS;try{return HS=t,e()}finally{HS=r}},R0=t=>{let e=HS??fr?.scope??qS();if(e===void 0)throw new Error("useContext must be used within a signal hook, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue};function Lde({children:t,contexts:e=[],inherit:r=!0}){let n=(0,Dde.useContext)(tI)??bI,i=new Ub(e,r?n:void 0);return(0,Ode.jsx)(tI.Provider,{value:i,children:t})}h();p();h();p();h();p();var KS=Ge(Ui(),1);function AF(t){return MS()?(0,KS.useSyncExternalStore)((0,KS.useCallback)(e=>t.addListener(e),[t]),()=>t.peek(),()=>t.peek()):t.peek()}function TF(t){if(!MS())return t.get();let e=(0,KS.useSyncExternalStore)(t.addListenerLazy(),()=>t.get(),()=>t.get());return typeof e=="object"&&e!==null&&US(e)&&(gF(e)&&TF(e._signal),AF(e._version)),e}function IF(){wF({useDerivedSignal:TF,useStateSignal:AF,getFrameworkScope:iF})}h();p();var x$e=Ge(Ui(),1);h();p();var Fb=cI;function Lo(t,e){let r={compute:t,equals:FS(e?.equals),shouldGC:e?.shouldGC,isSubscription:!1};return(...n)=>{let o=_F().get(r,n,e);return Nde(o)}}var VS=(t,e)=>{let r=_F();return Zu.createTask(t,r,e)};h();p();h();p();h();p();h();p();var Qm=()=>{let t=Fb(void 0,{equals:()=>!1});return{consume:()=>t.get(),notify:()=>t.set(void 0)}};IF();h();p();h();p();h();p();h();p();h();p();h();p();var jS=class{namespaces=new Map;options;_initPromise;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}destroy(){for(let e of this.namespaces.values())e.destroy()}},vI=Zm(null);function Xm(){let t=R0(vI);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}var Ude=async t=>{let e=new jS({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return EF([[vI,e]]),await e.init(),Fde(),e},Fde,S$e=new Promise(t=>{Fde=t}),zS=async(t,e)=>(await S$e,Ym(()=>t(e)));var E$e=t=>{switch(t){case"boolean":return le.boolean();case"number":return le.number();case"string":return le.string();default:return le.object({}).passthrough()}},_$e=(t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let s=typeof n.defaultValue;if(s!=="undefined"&&s!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let o=n.validator??E$e(i);n.nullable&&(o=o.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:o,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}};function qb(t,e,r){let n=_$e(e,r),i=Lo(s=>Xm().get(t,n(s))),o=Lo(s=>{let c=Xm();return bF(l=>c.set(t,n(s),l))});return[i,o]}h();p();var xI=(t,e)=>{if(!t)throw new Error(e);return t},MF=class t{key;readonly;disableCache;_store;_state;_hooks;_init;_deps;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=Qm();eventNotifiers={change:Qm(),idle:Qm()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this._init=e.init??void 0,this._deps=r}get state(){return xI(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return xI(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return xI(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return xI(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let o=e.eventVersions[n];i<o&&(r.eventVersions[n]=o,this.eventNotifiers[n].notify())}}};async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:()=>this.state.remoteState,set:i=>{this.setRemoteState(i)},onChange:i=>{this.onChangeCallbacks.push(i)}};this._hooks=await this._init?.(this.deps,n,r)??{}}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState=Lo(e=>{let r=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},n=e.updateOn,i=this.state.eventVersions[n],o=this.eventNotifiers[n];if(r.version<i||this.disableCache){if(this.hooks.getValue){r.value=this.hooks.getValue(e,r.value);let s=e.validator.safeParse(r.value);r.value=s.success?s.data:null}r.value===null&&(r.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),r.version=i,this.store.setItem(this.key,e.schema,e.key,r)}if(r.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return o.consume(),this.localNotifier.consume(),Fb(r.value)});get=Lo(e=>this.getState(e).get());async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),o=await this.hooks.setValue?.(e,i.peek(),n)??n;i.set(o),await this.store.setItem(this.key,e.schema,e.key,{value:o,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}destroy(){this._removeStoreListener?.()}};function wI(t){return new MF(t)}h();p();h();p();var y7=Ge(wme()),yet="eppo-phantom",get="0.0.1",bet="https://eppo-proxy.phantom.app/api",DH=class extends y7.MemoryOnlyConfigurationStore{constructor(r){super();this.state=r;let n=this.state.get();n&&super.setEntries(n),this.state.onChange(i=>{super.setEntries(i)})}setEntries(r){return this.state.set(r),super.setEntries(r)}},m7=null;async function vet({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i}){let o=new DH(r),s=new y7.EppoClient({flagConfigurationStore:o}),c={apiKey:t,sdkName:yet,sdkVersion:get,baseUrl:bet,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e};s.setConfigurationRequestParameters(c);let l=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await o.init();let d=s.fetchFlagConfigurations();o.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([d,new Promise(b=>setTimeout(b,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let g=performance.now()-l;return n?.(`Eppo: Initialized Eppo provider in ${g.toFixed(2)}ms`),s}async function Sme(t){return m7||(m7=vet(t),m7)}var LH={getBooleanAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getStringAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getNumericAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getJSONAssignmentDetails:(t,e,r,n)=>({variation:n,action:null})};var Eme=new Map,xet=async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if(!ng()||s6())n=LH;else{let i={get:()=>e.get()?.eppoConfig??null,set:o=>e.set({overrides:e.get()?.overrides??{},eppoConfig:o}),onChange:o=>e.onChange(({eppoConfig:s})=>o(s))};n=await Sme({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r})}return{getValue:(i,o)=>{try{let s,c,l=i.key,{subjectId:d,subjectAttributes:g}=t,b=e.get();if(b?.overrides[l]!==void 0)return b.overrides[l]??null;if(i.isLegacyStringBoolean)s=n.getStringAssignmentDetails(l,d,g,"DEFAULT"),s.variation==="DEFAULT"?c=i.defaultValue??null:c=s.variation==="variant";else{switch(i.type){case"boolean":s=n.getBooleanAssignmentDetails(l,d,g,i.defaultValue);break;case"string":s=n.getStringAssignmentDetails(l,d,g,i.defaultValue);break;case"number":s=n.getNumericAssignmentDetails(l,d,g,i.defaultValue);break;default:s=n.getJSONAssignmentDetails(l,d,g,i.defaultValue)}c=s.variation}if(t.analytics&&s.evaluationDetails){let _=s.evaluationDetails,T=_.matchedAllocation?.key??null,M=_.variationKey??null,k=T?`${l}-${T}`:null;if(T!==null&&M!==null&&k!==null){let P=Eme.get(l)??null,D=c!==o,R=P?.allocationKey!==T;if(D||R||P===null){let V={allocation:T,experiment:k,featureFlag:l,variation:M,subject:d,timestamp:new Date().toISOString(),subjectAttributes:g};t.analytics.capture("eppoRandomizationEvent",{data:{distinctId:d,properties:V}}),Eme.set(l,{allocationKey:T,value:c})}}t.telemetry?.trackFeatureFlag(l,c)}return c??null}catch(s){return console.error("Error fetching feature flag",s),i.defaultValue??null}}}},b3=wI({key:"flags",init:xet,disableCache:Zs()}),wet=Lo(()=>{let e=Xm().getNamespace(b3);return[e.getRemoteState()?.overrides,r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(i=>({eppoConfig:i?.eppoConfig??{},overrides:n})),e.sendEvent("idle")}]}),UH=new WeakMap,FH=(t,e)=>{let r=e.map(i=>({...i,defaultValue:ng()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=qb(b3,`feature:${t}`,r);return UH.set(n,e),n},qH=(t,e)=>{let r=e.map(o=>({key:typeof o=="string"?o:o.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof o=="object"?o.isLegacyStringBoolean:!1})),[n]=qb(b3,`kill-switch:${t}`,r),i=o=>{try{return n(o)}catch{return!1}};return UH.set(i,r),i},HH=(t,e)=>{let r=e.map(i=>({...i,defaultValue:ng()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=qb(b3,`config:${t}`,r);return UH.set(n,e),n};var dy=FH("general",[{key:"enable-psol-staking",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-feed-update-trigger",defaultValue:!1},{key:"enable-social-feed-nux",defaultValue:!1,devDefaultValue:!0},{key:"enable-user-profile-full-page",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-live-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-tokens-for-you",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-similar-tokens",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0},{key:"enable-remove-swap-cta",defaultValue:!1,devDefaultValue:!1},{key:"enable-perps-manual-retry",defaultValue:!1,devDefaultValue:!1},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-relay-bridge-sol",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-new-position-flow",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-adjust-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-adjust-margin",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-reverse-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-close-all-positions",defaultValue:!1,devDefaultValue:!0},{key:"enable-share-perps-feedback",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-share-pnl",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-skia-charts",defaultValue:!1,devDefaultValue:!0},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0},{key:"enable-classic-swapper-ext",defaultValue:!1,devDefaultValue:!0},{key:"enable-swap-settings-redesign",defaultValue:!1,devDefaultValue:!0},{key:"enable-ledger-swaps-mobile",defaultValue:!1,devDefaultValue:!0},{key:"enable-ledger-swaps-ext",defaultValue:!1,devDefaultValue:!0},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0},{key:"enable-swapper-presence",defaultValue:!1,devDefaultValue:!0},{key:"enable-swapper-presence-ui",defaultValue:!1,devDefaultValue:!0},{key:"enable-hip3-testnet-dogfood-filter",defaultValue:!1,devDefaultValue:!0},{key:"enable-new-launches-ui",defaultValue:!1,devDefaultValue:!0},{key:"enable-replace-classic-ngs",defaultValue:!1,devDefaultValue:!1},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0},{key:"enable-delete-seedless-bundle-security-settings",defaultValue:!1,devDefaultValue:!0},{key:"enable-new-fiat-ramp",defaultValue:!1,devDefaultValue:!0},{key:"enable-fiat-ramp-provider-quotes",defaultValue:!0,devDefaultValue:!0},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-native-convert",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-native-delayed-convert",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-convert-banner",defaultValue:!1,devDefaultValue:!0},{key:"enable-deposit-psol-with-kamino-link",defaultValue:!1,devDefaultValue:!0},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1},{key:"always-show-all-sites-permissions",defaultValue:!1},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash-home-redesign",defaultValue:!1,devDefaultValue:!0},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0},{key:"enable-buy-flow-warning",defaultValue:!1},{key:"enable-onboarding-aa",defaultValue:!1},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash-kms-default",defaultValue:!0,devDefaultValue:!0},{key:"enable-new-activity",defaultValue:!1,devDefaultValue:!0},{key:"enable-price-streaming",defaultValue:!1,devDefaultValue:!0}]),v3=HH("general",[{key:"feed-feedback-link",type:"string",nullable:!0},{key:"enable-social-chat-holdings",type:"string",nullable:!0,devDefaultValue:"quantity-abbreviate"},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0},{key:"latest-notification-updated-version-number",type:"string",nullable:!0},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0},{key:"psol-popup-copy-test",type:"string",nullable:!0},{key:"swapper-poll-interval-json",type:"object",nullable:!0},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0},{key:"enabled-ugc-programs",type:"object",nullable:!0},{key:"trade-hub-variant",type:"string",nullable:!0,devDefaultValue:"trade-menu"},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0},{key:"explore-config",type:"object",nullable:!0},{key:"launches-config",type:"object",nullable:!0},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0},{key:"network-logger-config-json",type:"object",nullable:!0}]),x3=qH("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check","kill-sync-account-names",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-cash-funding","kill-perps-funding","kill-perps-withdrawal","kill-cash-feedback-form"]);h();p();var Eet=Lo(t=>({data:t.map(r=>r.startsWith("kill-")?x3(r):dy(r)),isLoading:!1,isFetched:!0})),hy={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:Ym(()=>t.startsWith("kill-")?x3(t):dy(t))},isFeatureEnabledAsync(t){return t.startsWith("kill-")?zS(x3,t):zS(dy,t)},getMultivariateAssignment(t,e){let r=Ym(()=>v3(t));return typeof r=="string"||r===null?r:JSON.stringify(r)}};h();p();h();p();var _et=I.EPPO_API_KEY;h();p();function Aet(){let t=v3("trade-hub-variant");return dy("enable-replace-classic-ngs")||!!t}h();p();h();p();var Tet="Error message ignored by logging middleware.",_me=t=>({beforeEvent:(...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(Tet);return{value:e,...r.data?{data:r.data}:{}}},afterEvent:void 0});h();p();var Iet="Sensitive data detected by pki scanner. File logging blocked.",Met=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],Ame=new RegExp(`(${Met.join("|")})`,"mi"),Qb={beforeEvent:(...[t,e])=>{let r=t instanceof Error?t.message:t;if(Ame.test(r)||e.data&&Ame.test(JSON.stringify(e.data)))throw new Error(Iet);return{value:t,...e.data?{data:e.data}:{}}},afterEvent:void 0};var ket=["premature close"],Pet=_me(ket),py=class extends Error{constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function Ret(t=[]){let e=null;async function r({provider:l}){await l.init(),e={provider:l}}async function n(l){if(!e)throw new py;return e.provider.downloadLog(l)}async function i(){if(!e)throw new py;return e.provider.getLogFilePaths()}async function o(){if(!e)throw new py;return e.provider.getRecentLogs()}async function s(l){if(!e)throw new py;return e.provider.sendLogFilesByEmail(l)}function c(l,d,g,b){if(!e)throw new py;for(let _ of t)if(_?.beforeEvent!==void 0)try{_.beforeEvent(l,{featureTag:d,severity:g})}catch(T){Zs()&&T instanceof Error&&console.warn(T.message);return}e.provider.write(l,d,g,b);for(let _ of t)if(_?.afterEvent!==void 0)try{_.afterEvent(l,{featureTag:d,severity:g})}catch(T){Zs()&&T instanceof Error&&console.warn(T.message);return}}return{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:o,sendLogFilesByEmail:s,write:c}}var my=Ret([Pet,Qb]);h();p();h();p();h();p();h();p();h();p();h();p();function Xb(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return Tme[t]>=Tme[r.getLevel()]&&i.includes(e)}var Ot={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},Tme={[Ot.ok]:0,[Ot.debug]:1,[Ot.info]:2,[Ot.notice]:4,[Ot.warn]:5,[Ot.error]:6,[Ot.critical]:7,[Ot.alert]:8,[Ot.emerg]:9};h();p();function F0(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}var Bet=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},yy={console:"console",http:"http",silent:"silent"},Ime=Object.keys(Ot),xs=class{constructor(e,r,n=yy.http,i=Ot.debug,o={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=cg("logger"),this.contextManager.setContext(o),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=Ot.info,i,o){let s=og(r),c;if(i!=null){let l=HG({stackTrace:VG(i)?f6(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:Yo.LOGGER,handling:"handled",startClocks:PG()});c=sg({error:F0(l,{includeMessage:!0})},s)}else c=s;this.handleLogStrategy({message:og(e),context:c,status:n},this,o)}log(e,r,n=Ot.info,i){let o;Xb(n,yy.http,this)&&(o=$k("log")),this.logImplementation(e,r,n,i,o)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};Bet([CG],xs.prototype,"logImplementation",null);xs.prototype.ok=Ad(Ot.ok);xs.prototype.debug=Ad(Ot.debug);xs.prototype.info=Ad(Ot.info);xs.prototype.notice=Ad(Ot.notice);xs.prototype.warn=Ad(Ot.warn);xs.prototype.error=Ad(Ot.error);xs.prototype.critical=Ad(Ot.critical);xs.prototype.alert=Ad(Ot.alert);xs.prototype.emerg=Ad(Ot.emerg);function Ad(t){return function(e,r,n){let i;Xb(t,yy.http,this)&&(i=$k("log")),this.logImplementation(e,r,t,n,i)}}h();p();function Mme(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}h();p();h();p();var Net=32*1024;function Pme(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&cu.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=LG(t),r=kme(t.forwardConsoleLogs,Wk(Ai),"Forward Console Logs"),n=kme(t.forwardReports,Wk(GG),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(Ai.error)&&r.push(Ai.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Net,...e}}function kme(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){cu.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:ZG(t)}function Rme(t){let e=UG(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}function Bme(t,e,r){let n=QG(),i,o,s=e.observable.subscribe(c);function c(){if(!o||!i||!e.isGranted())return;s.unsubscribe();let l=r(i,o);n.drain(l)}return{init(l){if(!l){cu.error("Missing configuration");return}if(FG(l.enableExperimentalFeatures),bl()&&(l=Oet(l)),i=l,o){l6("DD_LOGS",l);return}let d=Pme(l);d&&(o=d,m6().subscribe(Ta),e.tryToInit(d.trackingConsent),c())},get initConfiguration(){return i},getInternalContext:Ta,handleLog(l,d,g,b=t(),_=Fd()){n.add(T=>T.handleLog(l,d,g,b,_))}}}function Oet(t){return{...t,clientToken:"empty"}}var KH="logs";function Cme(t){let e=cg("global context"),r=cg("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=cg("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=OG();function o(){return Mme(e,r,n)}let s=Bme(o,i,(d,g)=>{d.storeContextsAcrossPages&&(y6(g,e,KH,2),y6(g,r,KH,1),y6(g,n,KH,4));let b=t(d,g,o,i);return s=Det(d,b),b}),c={},l=new xs((...d)=>s.handleLog(...d));return zG({logger:l,init:wn(d=>s.init(d)),setTrackingConsent:wn(d=>{i.update(d),rW({feature:"set-tracking-consent",tracking_consent:d})}),getGlobalContext:wn(()=>e.getContext()),setGlobalContext:wn(d=>e.setContext(d)),setGlobalContextProperty:wn((d,g)=>e.setContextProperty(d,g)),removeGlobalContextProperty:wn(d=>e.removeContextProperty(d)),clearGlobalContext:wn(()=>e.clearContext()),createLogger:wn((d,g={})=>(c[d]=new xs((...b)=>s.handleLog(...b),og(d),g.handler,g.level,og(g.context)),c[d])),getLogger:wn(d=>c[d]),getInitConfiguration:wn(()=>YG(s.initConfiguration)),getInternalContext:wn(d=>s.getInternalContext(d)),setUser:wn(r.setContext),getUser:wn(r.getContext),setUserProperty:wn(r.setContextProperty),removeUserProperty:wn(r.removeContextProperty),clearUser:wn(r.clearContext),setAccount:wn(n.setContext),getAccount:wn(n.getContext),setAccountProperty:wn(n.setContextProperty),removeAccountProperty:wn(n.removeContextProperty),clearAccount:wn(n.clearContext)})}function Det(t,e){return{init:r=>{l6("DD_LOGS",r)},initConfiguration:t,...e}}h();p();h();p();var Let="logs";function Nme(t,e){let r=nW(t,Let,n=>Uet(t,n),e);return{findTrackedSession:(n,i={returnInactive:!1})=>{let o=r.findSession(n,i);return o&&o.trackingType==="1"?{id:o.id,anonymousId:o.anonymousId}:void 0},expireObservable:r.expireObservable}}function Ome(t){let r=Dme(t)==="1"?{}:void 0;return{findTrackedSession:()=>r,expireObservable:new c6}}function Dme(t){return a6(t.sessionSampleRate)?"1":"0"}function Uet(t,e){let r=Fet(e)?e:Dme(t);return{trackingType:r,isTracked:r==="1"}}function Fet(t){return t==="0"||t==="1"}h();p();h();p();var Lme=!1;function Jb(t){let e=self;if(g6()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!Lme&&(Lme=!0,qd("Logs sent before RUM is injected by the synthetics worker",{testId:pW(),resultId:mW()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}function Ume(t,e,r,n,i){let o=Ime.concat(["custom"]),s={};o.forEach(c=>{s[c]=fW(c,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:c,messageContext:l=void 0,savedCommonContext:d=void 0,domainContext:g})=>{var b,_;let T=RG(c.date),M=t.findTrackedSession(T);if(!t.findTrackedSession(T,{returnInactive:!0}))return;let B=d||n(),P;!Gk(B.account)&&B.account.id&&(P=B.account),M&&M.anonymousId&&!B.user.anonymous_id&&(B.user.anonymous_id=M.anonymousId);let D=sg({service:e.service,session_id:M?M.id:void 0,session:M?{id:M.id}:void 0,usr:Gk(B.user)?void 0:B.user,account:P,view:B.view},B.context,Jb(T),c,l);((b=e.beforeSend)===null||b===void 0?void 0:b.call(e,D,g))===!1||D.origin!==Yo.AGENT&&((_=s[D.status])!==null&&_!==void 0?_:s.custom).isLimitReached()||r.notify(1,D)})}h();p();var qet={[Ai.log]:Ot.info,[Ai.debug]:Ot.debug,[Ai.info]:Ot.info,[Ai.warn]:Ot.warn,[Ai.error]:Ot.error};function Fme(t,e){let r=dW(t.forwardConsoleLogs).subscribe(n=>{var i;let o={rawLogsEvent:{date:Fd(),message:n.message,origin:Yo.CONSOLE,error:n.error&&F0(n.error),status:qet[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,o)});return{stop:()=>{r.unsubscribe()}}}h();p();function qme(t,e){let r=WG(t,t.forwardReports).subscribe(n=>{let i=n.message,o,s=n.originalError.type==="deprecation"?Ot.warn:Ot.error;s===Ot.error?o=F0(n):n.stack&&(i+=` Found in ${KG(n.stack)}`),e.notify(0,{rawLogsEvent:{date:Fd(),message:i,origin:Yo.REPORT,error:o,status:s}})});return{stop:()=>{r.unsubscribe()}}}h();p();function Hme(t,e){if(!t.forwardErrorsToLogs)return{stop:Ta};let r=lW(t).subscribe(o=>{o.state==="complete"&&i("xhr",o)}),n=m6().subscribe(o=>{o.state==="resolve"&&i("fetch",o)});function i(o,s){!DG(s.url)&&(jet(s)||iW(s.status))&&("xhr"in s?Het(s.xhr,t,c):s.response?Vet(s.response,t,c):s.error&&Ket(s.error,t,c));function c(l){let d={isAborted:s.isAborted,handlingStack:s.handlingStack};e.notify(0,{rawLogsEvent:{message:`${zet(o)} error ${s.method} ${s.url}`,date:s.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:s.method,status_code:s.status,url:s.url},status:Ot.error,origin:Yo.NETWORK},domainContext:d})}}return{stop:()=>{r.unsubscribe(),n.unsubscribe()}}}function Het(t,e,r){typeof t.response=="string"?r(VH(t.response,e)):r(t.response)}function Ket(t,e,r){r(VH(qG(f6(t)),e))}function Vet(t,e,r){let n=oW(t);!n||!n.body?r():self.TextDecoder?Get(n.body,e.requestErrorResponseLengthLimit,(i,o)=>{r(i?`Unable to retrieve response: ${i}`:o)}):n.text().then(wn(i=>r(VH(i,e))),wn(i=>r(`Unable to retrieve response: ${i}`)))}function jet(t){return t.status===0&&t.responseType!=="opaque"}function VH(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}function zet(t){return t==="xhr"?"XHR":"Fetch"}function Get(t,e,r){hW(t,(n,i,o)=>{if(n)r(n);else{let s=new TextDecoder().decode(i);o&&(s+="..."),r(void 0,s)}},{bytesLimit:e,collectStreamBody:!0})}h();p();function Kme(t,e){if(!t.forwardErrorsToLogs)return{stop:Ta};let r=new c6,{stop:n}=jG(r),i=r.subscribe(o=>{e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:F0(o),origin:Yo.SOURCE,status:Ot.error},messageContext:o.context})});return{stop:()=>{n(),i.unsubscribe()}}}h();p();var Vme=cW;h();p();function jme(t){function e(r,n,i,o,s){let c=sg(n.getContext(),r.context);if(Xb(r.status,yy.console,n)&&$et(r,c),Xb(r.status,yy.http,n)){let l={rawLogsEvent:{date:s||Fd(),message:r.message,status:r.status,origin:Yo.LOGGER},messageContext:c,savedCommonContext:o};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return{handleLog:e}}var Wet={[Ot.ok]:Ai.debug,[Ot.debug]:Ai.debug,[Ot.info]:Ai.info,[Ot.notice]:Ai.info,[Ot.warn]:Ai.warn,[Ot.error]:Ai.error,[Ot.critical]:Ai.error,[Ot.alert]:Ai.error,[Ot.emerg]:Ai.error};function $et({status:t,message:e},r){IG[Wet[t]].call(TG,e,r)}h();p();function zme(t,e,r,n,i){let o=p6(t,{endpoint:t.logsEndpointBuilder,encoder:ag()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:ag()},r,n,i.expireObservable);return e.subscribe(1,s=>{o.add(s)}),o}h();p();function Gme(t){let e=h6();t.subscribe(1,r=>{e.send("log",r)})}h();p();function Wme(t){return{get:e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}}}}h();p();function $me(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:Yo.AGENT,status:Ot.error}}),qd("Error reported to customer",{"error.message":e.message})}}h();p();function Yme(t,e,r,n,i){let o=XG("browser-logs-sdk",e);o.setContextProvider(()=>{var c,l,d,g,b,_;return{application:{id:(c=Jb())===null||c===void 0?void 0:c.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(g=(d=Jb())===null||d===void 0?void 0:d.view)===null||g===void 0?void 0:g.id},action:{id:(_=(b=Jb())===null||b===void 0?void 0:b.user_action)===null||_===void 0?void 0:_.id}}});let s=[];if(bl()){let c=h6(),l=o.observable.subscribe(d=>c.send("internal_telemetry",d));s.push(()=>l.unsubscribe())}else{let c=p6(e,{endpoint:e.rumEndpointBuilder,encoder:ag()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:ag()},r,n,i.expireObservable);s.push(()=>c.stop());let l=o.observable.subscribe(d=>c.add(d,eW(e)));s.push(()=>l.unsubscribe())}return JG(),tW(Rme(t)),{telemetry:o,stop:()=>{s.forEach(c=>c())}}}function Zme(t,e,r,n){let i=new Vme,o=[];i.subscribe(1,_=>$G("logs",_));let s=$me(i),c=aW(e),l=e.sessionStoreStrategyType&&!bl()&&!g6()?Nme(e,n):Ome(e),{stop:d}=Yme(t,e,s,c,l);o.push(()=>d()),Hme(e,i),Kme(e,i),Fme(e,i),qme(e,i);let{handleLog:g}=jme(i);if(Ume(l,e,i,r,s),bl())Gme(i);else{let{stop:_}=zme(e,i,s,c,l);o.push(()=>_())}let b=Wme(l);return{handleLog:g,getInternalContext:b.get,stop:()=>{o.forEach(_=>_())}}}var q0=Cme(Zme);u6(ig(),"DD_LOGS",q0);h();p();h();p();h();p();h();p();function w3(t,e,r){let n=0,i=[],o,s=0,c=[],{stop:l}=Ix(t,e,"message",({data:b})=>{if(b.type!=="wrote"||b.streamId!==r)return;n+=b.additionalBytesCount,i.push(b.result),o=b.trailer;let _=c.shift();_&&_.id===b.id?_.writeCallback?_.writeCallback(b.result.byteLength):_.finishCallback&&_.finishCallback():(l(),qd("Worker responses received out of order."))});function d(){let b=i.length===0?new Uint8Array(0):BG(i.concat(o)),_={rawBytesCount:n,output:b,outputBytesCount:b.byteLength,encoding:"deflate"};return n=0,i=[],_}function g(){s>0&&(e.postMessage({action:"reset",streamId:r}),s=0)}return{isAsync:!0,get isEmpty(){return s===0},write(b,_){e.postMessage({action:"write",id:s,data:b,streamId:r}),c.push({id:s,writeCallback:_,data:b}),s+=1},finish(b){g(),c.length?(c.forEach(_=>{delete _.writeCallback}),c[c.length-1].finishCallback=()=>b(d())):b(d())},finishSync(){g();let b=c.map(_=>(delete _.writeCallback,delete _.finishCallback,_.data)).join("");return{...d(),pendingData:b}},estimateEncodedBytesCount(b){return b.length/8},stop(){l()}}}h();p();h();p();function ev({configuredUrl:t,error:e,source:r,scriptType:n}){if(cu.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&Yet(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",cu.error(`${i} See documentation at ${MG}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&d6(e)}function Yet(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}var Zet=30*kG;function Qme(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}var xi={status:0};function S3(t,e,r,n=Qme){switch(xi.status===0&&Qet(t,e,n),xi.status){case 1:return xi.initializationFailureCallbacks.push(r),xi.worker;case 3:return xi.worker}}function g7(){return xi.status}function Qet(t,e,r=Qme){try{let n=r(t),{stop:i}=Ix(t,n,"error",c=>{jH(t,e,c)}),{stop:o}=Ix(t,n,"message",({data:c})=>{c.type==="errored"?jH(t,e,c.error,c.streamId):c.type==="initialized"&&Jet(c.version)});n.postMessage({action:"init"}),NG(()=>Xet(e),Zet),xi={status:1,worker:n,stop:()=>{i(),o()},initializationFailureCallbacks:[]}}catch(n){jH(t,e,n)}}function Xet(t){xi.status===1&&(cu.error(`${t} failed to start: a timeout occurred while initializing the Worker`),xi.initializationFailureCallbacks.forEach(e=>e()),xi={status:2})}function Jet(t){xi.status===1&&(xi={status:3,worker:xi.worker,stop:xi.stop,version:t})}function jH(t,e,r,n){xi.status===1||xi.status===0?(ev({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),xi.status===1&&xi.initializationFailureCallbacks.forEach(i=>i()),xi={status:2}):d6(r,{worker_version:xi.status===3&&xi.version,stream_id:n})}h();p();function b7(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}h();p();h();p();function Xme(t,e,r,n){let i=e.findTrackedSession(),o=ett(i,n),s=r.findView();return bW(t,{viewContext:s,errorType:o,session:i})}function ett(t,e){if(!b7())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}function Jme(t,e,r,n,i,o){let s=0,c;e.subscribe(9,()=>{(s===2||s===3)&&(g(),s=1)}),e.subscribe(10,()=>{s===1&&d()});let l=async()=>{let[b]=await Promise.all([i(),uW(t,"interactive")]);if(s!==2)return;let _=o();if(!_||!b){s=0;return}({stop:c}=b(e,t,r,n,_)),s=3};function d(b){let _=r.findTrackedSession();if(ttt(_,b)){s=1;return}rtt(s)||(s=2,l().catch(Tx),ntt(_,b)&&r.setForcedReplay())}function g(){s===3&&c?.(),s=0}return{start:d,stop:g,getSessionReplayLink(){return Xme(t,r,n,s!==0)},isRecording:()=>s===3}}function ttt(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}function rtt(t){return t===2||t===3}function ntt(t,e){return e&&e.force&&t.sessionReplay===0}h();p();function eye(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:()=>!1,getSessionReplayLink:Ta},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}function tye(t,e){if(bl()&&!sW("records")||!b7())return{start:Ta,stop:Ta,getReplayStats:()=>{},onRumStart:Ta,isRecording:()=>!1,getSessionReplayLink:()=>{}};let{strategy:r,shouldStartImmediately:n}=eye();return{start:o=>r.start(o),stop:()=>r.stop(),getSessionReplayLink:()=>r.getSessionReplayLink(),onRumStart:i,isRecording:()=>g7()===3&&r.isRecording(),getReplayStats:o=>g7()===3?vW(o):void 0};function i(o,s,c,l,d){let g;function b(){return g||(d??(d=S3(s,"Datadog Session Replay",()=>{r.stop()},e)),d&&(g=w3(s,d,1))),g}r=Jme(s,o,c,l,t,b),n(s)&&r.start()}}h();p();async function rye(t=itt){try{return await t()}catch(e){ev({error:e,source:"Recorder",scriptType:"module"})}}async function itt(){return(await import("./startRecording-DDI2ZZLL.js")).startRecording}h();p();h();p();function nye(){return ig().Profiler!==void 0}h();p();async function iye(t=ott){try{return await t()}catch(e){ev({error:e,source:"Profiler",scriptType:"module"})}}async function ott(){return(await import("./profiler-PYT4SLPV.js")).createRumProfiler}function oye(){let t;function e(r,n,i,o){!nye()||!a6(n.profilingSampleRate)||iye().then(s=>{if(!s){qd("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=s(n,r,i),t.start(o.findView())}).catch(Tx)}return{onRumStart:e,stop:()=>{t?.stop().catch(Tx)}}}var stt=tye(rye),att=oye(),gy=yW(gW,stt,att,{startDeflateWorker:S3,createDeflateEncoder:w3});u6(ig(),"DD_RUM",gy);h();p();h();p();var E3={init:async(t,e)=>{},captureError:(t,e)=>{},captureMessage:(t,e,r="info")=>{},addBreadcrumb:(t,e,r)=>{},setUser:async t=>{},setTags:async t=>{},captureMetric:async(t,e,r)=>{},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:t=>{},trackFeatureFlag:(t,e)=>{}};h();p();var Td=t=>{switch(t){case"collectibles":case"magicEden":case"fungibles":case"staking":case"swapper":case"perps":case"prices":case"webTokenPage":case"webExplorePage":case"tokens":case"webTokensSitemap":return"PD";case"autoConfirm":case"deepLinks":case"dappBrowser":case"dappRegistry":case"network":case"transaction":case"provider":case"history":case"trustedApps":case"simulation":case"mobileEmbedded":return"WP";case"webAppPage":case"account":case"Auth":case"actionBanner":case"authentication":case"ledger":case"se*dless":case"settings":case"migration":case"mobileWalletAdapter":case"generic":case"startUp":case"webPortal":case"notifications":case"webPublicSite":return"IO";case"bugReporter":case"storage":case"fileLogger":case"featureFlags":case"performance":return"PL";case"safeguard":return"TRA";case"profiles":case"feed":case"feedNotifications":case"webUserPage":case"userSearch":return"SOC";case"stripe":case"kyc":case"onRamp":case"cashAccount":case"cashActivity":case"cashTransfer":return"CASH"}};h();p();var v7;function sye(){return v7===void 0&&(typeof process<"u"&&I?v7=I.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(v7=self.process.env.DATADOG_CLIENT_TOKEN)),v7}var ftt={init:async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||sye();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate;gy.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:Ax,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"]}),q0.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:Ax,silentMultipleInit:!0,trackAnonymousUser:!1})},captureError:(t,e)=>{zH(t.message,"error",{feature:e,team:Td(e)},t)},captureMessage:(t,e,r="info")=>{zH(t,r,{feature:e,team:Td(e)})},addBreadcrumb:(t,e,r,n={})=>{zH(e,r,{category:t,...n})},setUser:async t=>{q0.setUser(t),gy.setUser(t)},setTags:async t=>{gy.setGlobalContext({tags:t}),q0.setGlobalContext({tags:t})},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:()=>{},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{gy.addFeatureFlagEvaluation(t,e)}};function zH(t,e,r,n){switch((e==="error"||e==="fatal")&&gy.addError(n??t,r),e){case"fatal":!n&&q0.logger.critical(t,{context:r});break;case"error":!n&&q0.logger.error(t,{context:r});break;case"info":q0.logger.info(t,{context:r},n);break;case"debug":break}}function utt(){return typeof document<"u"}var x7=utt()?ftt:E3;h();p();var w7=t=>({beforeEvent:(...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},afterEvent:void 0});h();p();h();p();var ltt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,dtt=/\b0x[a-fA-F0-9]{64}\b/g,htt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,ptt=/\b0x[a-fA-F0-9]{40}\b/g,aye={SOLANA_SIGNATURE:ltt,EVM_SIGNATURE:dtt,SOLANA_PUBKEY:htt,EVM_PUBKEY:ptt},cye=t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=S7(n):e[r]=n,e),{}),S7=t=>{let e=t;for(let r in aye){let n=aye[r];e=e.replace(n,"")}return e},mtt=t=>(t.message&&(t.message=S7(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=S7(t.cause)),t),fye=t=>t instanceof Error?mtt(t):S7(t);var E7={beforeEvent:(...[t,e])=>({value:fye(t),...e.data?{data:cye(e.data)}:{}}),afterEvent:void 0};h();p();function _7(t,e){return{init:async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},captureError:(r,n)=>{$c(()=>t.captureError(r,n)),$c(()=>e.captureError(r,n))},captureMessage:(r,n,i="info")=>{$c(()=>t.captureMessage(r,n,i)),$c(()=>e.captureMessage(r,n,i))},addBreadcrumb:(r,n,i,o)=>{$c(()=>t.addBreadcrumb(r,n,i,o)),$c(()=>e.addBreadcrumb(r,n,i,o))},setUser:async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},setTags:async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},captureMetric:async(r,n,i)=>{$c(()=>e.captureMetric(r,n,i))},startSpan:(r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),startInactiveSpan:r=>{let n=$c(()=>t.startInactiveSpan(r)),i=$c(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:()=>ytt(n,i)})},trackFeatureFlag:(r,n)=>{$c(()=>t.trackFeatureFlag(r,n)),$c(()=>e.trackFeatureFlag(r,n))}}}function $c(t){try{return t()}catch(e){Zs()&&console.error("[MultiProvider] Error:",e);return}}function ytt(...t){for(let e of t)e&&$c(()=>e.then(r=>r.end()))}h();p();h();p();h();p();h();p();h();p();h();p();var It=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;h();p();h();p();h();p();var zf="8.55.0";var Dt=globalThis;function H0(t,e,r){let n=r||Dt,i=n.__SENTRY__=n.__SENTRY__||{},o=i[zf]=i[zf]||{};return o[t]||(o[t]=e())}h();p();h();p();var pa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;h();p();var gtt="Sentry Logger ",_3=["debug","info","warn","error","log","assert","trace"],rv={};function ma(t){if(!("console"in Dt))return t();let e=Dt.console,r={},n=Object.keys(rv);n.forEach(i=>{let o=rv[i];r[i]=e[i],e[i]=o});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function btt(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return pa?_3.forEach(r=>{e[r]=(...n)=>{t&&ma(()=>{Dt.console[r](`${gtt}[${r}]:`,...n)})}}):_3.forEach(r=>{e[r]=()=>{}}),e}var ze=H0("logger",btt);h();p();var tl="?",uye=/\(error: (.*)\)/,lye=/captureMessage|captureException/;function T7(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let o=[],s=r.split(`
`);for(let c=n;c<s.length;c++){let l=s[c];if(l.length>1024)continue;let d=uye.test(l)?l.replace(uye,"$1"):l;if(!d.match(/\S*Error: /)){for(let g of e){let b=g(d);if(b){o.push(b);break}}if(o.length>=50+i)break}}return dye(o.slice(i))}}function WH(t){return Array.isArray(t)?T7(...t):t}function dye(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(A7(e).function||"")&&e.pop(),e.reverse(),lye.test(A7(e).function||"")&&(e.pop(),lye.test(A7(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||A7(e).filename,function:r.function||tl}))}function A7(t){return t[t.length-1]||{}}var GH="<anonymous>";function ya(t){try{return!t||typeof t!="function"?GH:t.name||GH}catch{return GH}}function I7(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}var M7={},hye={};function ws(t,e){M7[t]=M7[t]||[],M7[t].push(e)}function Ss(t,e){if(!hye[t]){hye[t]=!0;try{e()}catch(r){pa&&ze.error(`Error while instrumenting ${t}`,r)}}}function Ni(t,e){let r=t&&M7[t];if(r)for(let n of r)try{n(e)}catch(i){pa&&ze.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ya(n)}
Error:`,i)}}var $H=null;function A3(t){let e="error";ws(e,t),Ss(e,vtt)}function vtt(){$H=Dt.onerror,Dt.onerror=function(t,e,r,n,i){return Ni("error",{column:n,error:i,line:r,msg:t,url:e}),$H?$H.apply(this,arguments):!1},Dt.onerror.__SENTRY_INSTRUMENTED__=!0}h();p();var YH=null;function T3(t){let e="unhandledrejection";ws(e,t),Ss(e,xtt)}function xtt(){YH=Dt.onunhandledrejection,Dt.onunhandledrejection=function(t){return Ni("unhandledrejection",t),YH?YH.apply(this,arguments):!0},Dt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}h();p();h();p();h();p();function za(){return I3(Dt),Dt}function I3(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||zf,e[zf]=e[zf]||{}}h();p();h();p();h();p();h();p();h();p();h();p();h();p();var pye=Object.prototype.toString;function by(t){switch(pye.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ga(t,Error)}}function nv(t,e){return pye.call(t)===`[object ${e}]`}function k7(t){return nv(t,"ErrorEvent")}function P7(t){return nv(t,"DOMError")}function ZH(t){return nv(t,"DOMException")}function zs(t){return nv(t,"String")}function iv(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function vy(t){return t===null||iv(t)||typeof t!="object"&&typeof t!="function"}function Gf(t){return nv(t,"Object")}function xy(t){return typeof Event<"u"&&Ga(t,Event)}function QH(t){return typeof Element<"u"&&Ga(t,Element)}function XH(t){return nv(t,"RegExp")}function Wf(t){return!!(t&&t.then&&typeof t.then=="function")}function JH(t){return Gf(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Ga(t,e){try{return t instanceof e}catch{return!1}}function M3(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}var ov=Dt,wtt=80;function Wa(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],o=0,s=0,c=" > ",l=c.length,d,g=Array.isArray(e)?e:e.keyAttrs,b=!Array.isArray(e)&&e.maxStringLength||wtt;for(;r&&o++<n&&(d=Stt(r,g),!(d==="html"||o>1&&s+i.length*l+d.length>=b));)i.push(d),s+=d.length,r=r.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function Stt(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(ov.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let s=r.className;if(s&&zs(s)){let c=s.split(/\s+/);for(let l of c)n.push(`.${l}`)}}let o=["aria-label","type","name","title","alt"];for(let s of o){let c=r.getAttribute(s);c&&n.push(`[${s}="${c}"]`)}return n.join("")}function eK(){try{return ov.document.location.href}catch{return""}}function tK(t){return ov.document&&ov.document.querySelector?ov.document.querySelector(t):null}function k3(t){if(!ov.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}h();p();function rl(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function R7(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{M3(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function mye(t,e,r=!1){return zs(t)?XH(e)?e.test(t):zs(e)?r?t===e:t.includes(e):!1:!1}function nl(t,e=[],r=!1){return e.some(n=>mye(t,n,r))}function $i(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&B7(i,n);try{t[e]=i}catch{pa&&ze.log(`Failed to replace method "${e}" in object`,t)}}function wi(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{pa&&ze.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function B7(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,wi(t,"__sentry_original__",e)}catch{}}function wy(t){return t.__sentry_original__}function C7(t){if(by(t))return{message:t.message,name:t.name,stack:t.stack,...gye(t)};if(xy(t)){let e={type:t.type,target:yye(t.target),currentTarget:yye(t.currentTarget),...gye(t)};return typeof CustomEvent<"u"&&Ga(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function yye(t){try{return QH(t)?Wa(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function gye(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function nK(t,e=40){let r=Object.keys(C7(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return rl(n,e);for(let i=r.length;i>0;i--){let o=r.slice(0,i).join(", ");if(!(o.length>e))return i===r.length?o:rl(o,e)}return""}function cn(t){return rK(t,new Map)}function rK(t,e){if(Ett(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=rK(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(rK(i,e))}),n}return t}function Ett(t){if(!Gf(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}h();p();var bye=1e3;function il(){return Date.now()/bye}function _tt(){let{performance:t}=Dt;if(!t||!t.now)return il;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/bye}var ui=_tt(),P3,Oi=(()=>{let{performance:t}=Dt;if(!t||!t.now){P3="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=i<e,s=t.timing&&t.timing.navigationStart,l=typeof s=="number"?Math.abs(s+r-n):e,d=l<e;return o||d?i<=l?(P3="timeOrigin",t.timeOrigin):(P3="navigationStart",s):(P3="dateNow",n)})();h();p();function Yi(){let t=Dt,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function vye(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function $f(t){let{message:e,event_id:r}=t;if(e)return e;let n=vye(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function sv(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=r||"Error")}function ol(t,e){let r=vye(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let o={...i&&i.data,...e.data};r.mechanism.data=o}}function N7(t){if(Att(t))return!0;try{wi(t,"__sentry_captured__",!0)}catch{}return!1}function Att(t){try{return t.__sentry_captured__}catch{}}h();p();var Id;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(Id||(Id={}));function Yc(t){return new Yf(e=>{e(t)})}function K0(t){return new Yf((e,r)=>{r(t)})}var Yf=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=Id.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(s){i(s)}},o=>{if(!r)i(o);else try{n(r(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,o;return this.then(s=>{o=!1,i=s,e&&e()},s=>{o=!0,i=s,e&&e()}).then(()=>{if(o){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(Id.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Id.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===Id.PENDING){if(Wf(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Id.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Id.RESOLVED&&r[1](this._value),this._state===Id.REJECTED&&r[2](this._value),r[0]=!0)})}}};function xye(t){let e=ui(),r={sid:Yi(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ttt(r)};return t&&Md(r,t),r}function Md(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ui(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Yi()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function wye(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Md(t,r)}function Ttt(t){return cn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}h();p();function ga(){return Yi()}function ba(){return Yi().substring(16)}h();p();function av(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=av(n[i],e[i],r-1));return n}h();p();var iK="_sentrySpan";function kd(t,e){e?wi(t,iK,e):delete t[iK]}function Sy(t){return t[iK]}var Itt=100,oK=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ga(),spanId:ba()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,kd(e,Sy(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Md(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof $a?[r.getScopeData(),r.getRequestSession()]:Gf(r)?[e,e.requestSession]:[],{tags:o,extra:s,user:c,contexts:l,level:d,fingerprint:g=[],propagationContext:b}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},c&&Object.keys(c).length&&(this._user=c),d&&(this._level=d),g.length&&(this._fingerprint=g),b&&(this._propagationContext=b),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,kd(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ga()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Itt;if(n<=0)return this;let i={timestamp:il(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Sy(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=av(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:ba(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Yi();if(!this._client)return ze.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:Yi();if(!this._client)return ze.warn("No client configured on scope - will not capture message!"),i;let o=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Yi();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(ze.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},$a=oK;function Sye(){return H0("defaultCurrentScope",()=>new $a)}function Eye(){return H0("defaultIsolationScope",()=>new $a)}var sK=class{constructor(e,r){let n;e?n=e:n=new $a;let i;r?i=r:i=new $a,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return Wf(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function cv(){let t=za(),e=I3(t);return e.stack=e.stack||new sK(Sye(),Eye())}function Mtt(t){return cv().withScope(t)}function ktt(t,e){let r=cv();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function _ye(t){return cv().withScope(()=>t(cv().getIsolationScope()))}function Aye(){return{withIsolationScope:_ye,withScope:Mtt,withSetScope:ktt,withSetIsolationScope:(t,e)=>_ye(e),getCurrentScope:()=>cv().getScope(),getIsolationScope:()=>cv().getIsolationScope()}}function sl(t){let e=I3(t);return e.acs?e.acs:Aye()}h();p();function Qt(){let t=za();return sl(t).getCurrentScope()}function Zi(){let t=za();return sl(t).getIsolationScope()}function O7(){return H0("globalScope",()=>new $a)}function V0(...t){let e=za(),r=sl(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}function Ut(){return Qt().getClient()}function aK(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return cn({trace_id:r,span_id:n,parent_span_id:i})}h();p();var Ptt="_sentryMetrics";function R3(t){let e=t[Ptt];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(cn(i));return r}h();p();var Es="sentry.source",fv="sentry.sample_rate",Gs="sentry.op",fn="sentry.origin",uv="sentry.idle_span_finish_reason",j0="sentry.measurement_unit",z0="sentry.measurement_value",B3="sentry.custom_span_name",cK="sentry.profile_id",Ey="sentry.exclusive_time";h();p();function fK(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function lv(t,e){t.setAttribute("http.response.status_code",e);let r=fK(e);r.message!=="unknown_error"&&t.setStatus(r)}h();p();h();p();var D7="sentry-",Rtt=/^sentry-/,Btt=8192;function L7(t){let e=Ctt(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,o])=>{if(i.match(Rtt)){let s=i.slice(D7.length);n[s]=o}return n},{});if(Object.keys(r).length>0)return r}function uK(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${D7}${n}`]=i),r),{});return Ntt(e)}function Ctt(t){if(!(!t||!zs(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=Tye(r);return Object.entries(n).forEach(([i,o])=>{e[i]=o}),e},{}):Tye(t)}function Tye(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}function Ntt(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let o=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,s=i===0?o:`${e},${o}`;return s.length>Btt?(pa&&ze.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s},"")}var U7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Iye(t){if(!t)return;let e=t.match(U7);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function lK(t,e){let r=Iye(t),n=L7(e);if(!r||!r.traceId)return{traceId:ga(),spanId:ba()};let{traceId:i,parentSpanId:o,parentSampled:s}=r,c=ba();return{traceId:i,parentSpanId:o,spanId:c,sampled:s,dsc:n||{}}}function C3(t=ga(),e=ba(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}var F7=0,hK=1,Mye=!1;function Pye(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:o,status:s,origin:c}=Ft(t);return cn({parent_span_id:o,span_id:e,trace_id:r,data:n,op:i,status:s,origin:c})}function pK(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:Ft(t).parent_span_id,o=n?ba():e;return cn({parent_span_id:i,span_id:o,trace_id:r})}function q7(t){let{traceId:e,spanId:r}=t.spanContext(),n=Zc(t);return C3(e,r,n)}function Zf(t){return typeof t=="number"?kye(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?kye(t.getTime()):ui()}function kye(t){return t>9999999999?t/1e3:t}function Ft(t){if(Utt(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(Ltt(t)){let{attributes:n,startTime:i,name:o,endTime:s,parentSpanId:c,status:l}=t;return cn({span_id:e,trace_id:r,data:n,description:o,parent_span_id:c,start_timestamp:Zf(i),timestamp:Zf(s)||void 0,status:H7(l),op:n[Gs],origin:n[fn],_metrics_summary:R3(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function Ltt(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function Utt(t){return typeof t.getSpanJSON=="function"}function Zc(t){let{traceFlags:e}=t.spanContext();return e===hK}function H7(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}var _y="_sentryChildSpans",dK="_sentryRootSpan";function K7(t,e){let r=t[dK]||t;wi(e,dK,r),t[_y]?t[_y].add(e):wi(t,_y,new Set([e]))}function Rye(t,e){t[_y]&&t[_y].delete(e)}function G0(t){let e=new Set;function r(n){if(!e.has(n)&&Zc(n)){e.add(n);let i=n[_y]?Array.from(n[_y]):[];for(let o of i)r(o)}}return r(t),Array.from(e)}function Xr(t){return t[dK]||t}function Jr(){let t=za(),e=sl(t);return e.getActiveSpan?e.getActiveSpan():Sy(Qt())}function V7(){Mye||(ma(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Mye=!0)}var Bye=!1;function j7(){Bye||(Bye=!0,A3(mK),T3(mK))}function mK(){let t=Jr(),e=t&&Xr(t);if(e){let r="internal_error";It&&ze.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}mK.tag="sentry_tracingErrorCallback";h();p();var Cye="_sentryScope",Nye="_sentryIsolationScope";function Oye(t,e,r){t&&(wi(t,Nye,r),wi(t,Cye,e))}function yK(t){return{scope:t[Cye],isolationScope:t[Nye]}}h();p();h();p();function Ws(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Ut(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}h();p();var va=class{constructor(e={}){this._traceId=e.traceId||ga(),this._spanId=e.spanId||ba()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:F7}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};h();p();h();p();function Dye(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return Ftt(n,e,r)}function Ftt(t,e,r){return Wf(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}h();p();h();p();var dv="production";var Lye="_frozenDsc";function gK(t,e){wi(t,Lye,e)}function bK(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=cn({environment:r.environment||dv,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}function N3(t,e){let r=e.getPropagationContext();return r.dsc||bK(r.traceId,t)}function Ya(t){let e=Ut();if(!e)return{};let r=Xr(t),n=r[Lye];if(n)return n;let i=r.spanContext().traceState,o=i&&i.get("sentry.dsc"),s=o&&L7(o);if(s)return s;let c=bK(t.spanContext().traceId,e),l=Ft(r),d=l.data||{},g=d[fv];g!=null&&(c.sample_rate=`${g}`);let b=d[Es],_=l.description;return b!=="url"&&_&&(c.transaction=_),Ws()&&(c.sampled=String(Zc(r))),e.emit("createDsc",c,r),c}h();p();function Uye(t){if(!It)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Ft(t),{spanId:i}=t.spanContext(),o=Zc(t),s=Xr(t),c=s===t,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${c?"root ":""}span`,d=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&d.push(`parent ID: ${n}`),!c){let{op:g,description:b}=Ft(s);d.push(`root ID: ${s.spanContext().spanId}`),g&&d.push(`root op: ${g}`),b&&d.push(`root description: ${b}`)}ze.log(`${l}
  ${d.join(`
  `)}`)}function Fye(t){if(!It)return;let{description:e="< unknown name >",op:r="< unknown op >"}=Ft(t),{spanId:n}=t.spanContext(),o=Xr(t)===t,s=`[Tracing] Finishing "${r}" ${o?"root ":""}span "${e}" with ID ${n}`;ze.log(s)}h();p();h();p();function z7(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){It&&ze.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}function qye(t,e){if(!Ws(t))return[!1];let r=Zi().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let o=z7(i);return o===void 0?(It&&ze.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(It&&ze.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,o]):(It&&ze.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}h();p();h();p();h();p();var qtt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Htt(t){return t==="http"||t==="https"}function al(t,e=!1){let{host:r,path:n,pass:i,port:o,projectId:s,protocol:c,publicKey:l}=t;return`${c}://${l}${e&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n&&`${n}/`}${s}`}function Hye(t){let e=qtt.exec(t);if(!e){ma(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",o="",s="",c=""]=e.slice(1),l="",d=c,g=d.split("/");if(g.length>1&&(l=g.slice(0,-1).join("/"),d=g.pop()),d){let b=d.match(/^\d+/);b&&(d=b[0])}return Kye({host:o,pass:i,path:l,projectId:d,port:s,protocol:r,publicKey:n})}function Kye(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Ktt(t){if(!pa)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(ze.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:r.match(/^\d+$/)?Htt(n)?e&&isNaN(parseInt(e,10))?(ze.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(ze.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(ze.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function vK(t){let e=typeof t=="string"?Hye(t):Kye(t);if(!(!e||!Ktt(e)))return e}h();p();h();p();h();p();function Vye(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[r,n]}function Qc(t,e=100,r=1/0){try{return xK("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function G7(t,e=3,r=100*1024){let n=Qc(t,e);return Gtt(n)>r?G7(t,e-1,r):n}function xK(t,e,r=1/0,n=1/0,i=Vye()){let[o,s]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let c=Vtt(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return c.replace("object ","");if(o(e))return"[Circular ~]";let d=e;if(d&&typeof d.toJSON=="function")try{let T=d.toJSON();return xK("",T,l-1,n,i)}catch{}let g=Array.isArray(e)?[]:{},b=0,_=C7(e);for(let T in _){if(!Object.prototype.hasOwnProperty.call(_,T))continue;if(b>=n){g[T]="[MaxProperties ~]";break}let M=_[T];g[T]=xK(T,M,l-1,n,i),b++}return s(e),g}function Vtt(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(M3(e))return"[VueViewModel]";if(JH(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${ya(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=jtt(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function jtt(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function ztt(t){return~-encodeURI(t).split(/%..|./).length}function Gtt(t){return ztt(JSON.stringify(t))}function Qf(t,e=[]){return[t,e]}function SK(t,e){let[r,n]=t;return[r,[...n,e]]}function W7(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}function wK(t){return Dt.__SENTRY__&&Dt.__SENTRY__.encodePolyfill?Dt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function EK(t){let[e,r]=t,n=JSON.stringify(e);function i(o){typeof n=="string"?n=typeof o=="string"?n+o:[wK(n),o]:n.push(typeof o=="string"?wK(o):o)}for(let o of r){let[s,c]=o;if(i(`
${JSON.stringify(s)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(Qc(c))}i(l)}}return typeof n=="string"?n:Wtt(n)}function Wtt(t){let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}function _K(t){return[{type:"span"},t]}function AK(t){let e=typeof t.data=="string"?wK(t.data):t.data;return[cn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}var $tt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function $7(t){return $tt[t]}function Y7(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function TK(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:al(n)},...i&&{trace:cn({...i})}}}function Ytt(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function jye(t,e,r,n){let i=Y7(r),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:al(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Qf(o,[s])}function zye(t,e,r,n){let i=Y7(r),o=t.type&&t.type!=="replay_event"?t.type:"event";Ytt(t,r&&r.sdk);let s=TK(t,i,n,e);return delete t.sdkProcessingMetadata,Qf(s,[[{type:o},t]])}function Gye(t,e){function r(g){return!!g.trace_id&&!!g.public_key}let n=Ya(t[0]),i=e&&e.getDsn(),o=e&&e.getOptions().tunnel,s={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!o&&i&&{dsn:al(i)}},c=e&&e.getOptions().beforeSendSpan,l=c?g=>{let b=c(Ft(g));return b||V7(),b}:g=>Ft(g),d=[];for(let g of t){let b=l(g);b&&d.push(_K(b))}return Qf(s,d)}h();p();function Z7(t,e,r,n=Jr()){let i=n&&Xr(n);i&&(It&&ze.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[z0]:e,[j0]:r}))}function Q7(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[j0],o=n[z0];typeof i=="string"&&typeof o=="number"&&(e[r.name]={value:o,unit:i})}),e}var Wye=1e3,hv=class{constructor(e={}){this._traceId=e.traceId||ga(),this._spanId=e.spanId||ba(),this._startTime=e.startTimestamp||ui(),this._attributes={},this.setAttributes({[fn]:"manual",[Gs]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?hK:F7}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=Zf(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Es,"custom"),this}end(e){this._endTime||(this._endTime=Zf(e),Fye(this),this._onSpanEnded())}getSpanJSON(){return cn({data:this._attributes,description:this._name,op:this._attributes[Gs],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:H7(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[fn],_metrics_summary:R3(this),profile_id:this._attributes[cK],exclusive_time:this._attributes[Ey],measurements:Q7(this._events),is_segment:this._isStandaloneSpan&&Xr(this)===this||void 0,segment_id:this._isStandaloneSpan?Xr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){It&&ze.log("[Tracing] Adding an event to span:",e);let i=$ye(r)?r:n||ui(),o=$ye(r)?{}:r||{},s={name:e,time:Zf(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Ut();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Xr(this)))return;if(this._isStandaloneSpan){this._sampled?Qtt(Gye([this],e)):(It&&ze.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(yK(this).scope||Qt()).captureEvent(n)}_convertSpanToTransaction(){if(!Yye(Ft(this)))return;this._name||(It&&ze.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=yK(this),i=(e||Qt()).getClient()||Ut();if(this._sampled!==!0){It&&ze.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let s=G0(this).filter(b=>b!==this&&!Ztt(b)).map(b=>Ft(b)).filter(Yye),c=this._attributes[Es];delete this._attributes[B3],s.forEach(b=>{b.data&&delete b.data[B3]});let l={contexts:{trace:Pye(this)},spans:s.length>Wye?s.sort((b,_)=>b.start_timestamp-_.start_timestamp).slice(0,Wye):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...cn({dynamicSamplingContext:Ya(this)})},_metrics_summary:R3(this),...c&&{transaction_info:{source:c}}},d=Q7(this._events);return d&&Object.keys(d).length&&(It&&ze.log("[Measurements] Adding measurements to transaction event",JSON.stringify(d,void 0,2)),l.measurements=d),l}};function $ye(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function Yye(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function Ztt(t){return t instanceof hv&&t.isStandaloneSpan()}function Qtt(t){let e=Ut();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}var Qye="__SENTRY_SUPPRESS_TRACING__";function X7(t,e){let r=IK();if(r.startSpan)return r.startSpan(t,e);let n=Jye(t),{forceTransaction:i,parentSpan:o}=t;return V0(t.scope,()=>Jtt(o)(()=>{let c=Qt(),l=ege(c),g=t.onlyIfParent&&!l?new va:Xye({parentSpan:l,spanArguments:n,forceTransaction:i,scope:c});return kd(c,g),Dye(()=>e(g),()=>{let{status:b}=Ft(g);g.isRecording()&&(!b||b==="ok")&&g.setStatus({code:2,message:"internal_error"})},()=>g.end())}))}function Za(t){let e=IK();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=Jye(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?s=>V0(t.scope,s):i!==void 0?s=>pv(i,s):s=>s())(()=>{let s=Qt(),c=ege(s);return t.onlyIfParent&&!c?new va:Xye({parentSpan:c,spanArguments:r,forceTransaction:n,scope:s})})}function pv(t,e){let r=IK();return r.withActiveSpan?r.withActiveSpan(t,e):V0(n=>(kd(n,t||void 0),e(n)))}function Xye({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!Ws())return new va;let i=Zi(),o;if(t&&!r)o=Xtt(t,n,e),K7(t,o);else if(t){let s=Ya(t),{traceId:c,spanId:l}=t.spanContext(),d=Zc(t);o=Zye({traceId:c,parentSpanId:l,...e},n,d),gK(o,s)}else{let{traceId:s,dsc:c,parentSpanId:l,sampled:d}={...i.getPropagationContext(),...n.getPropagationContext()};o=Zye({traceId:s,parentSpanId:l,...e},n,d),c&&gK(o,c)}return Uye(o),Oye(o,n,i),o}function Jye(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=Zf(t.startTime),delete n.startTime,n}return r}function IK(){let t=za();return sl(t)}function Zye(t,e,r){let n=Ut(),i=n&&n.getOptions()||{},{name:o="",attributes:s}=t,[c,l]=e.getScopeData().sdkProcessingMetadata[Qye]?[!1]:qye(i,{name:o,parentSampled:r,attributes:s,transactionContext:{name:o,parentSampled:r}}),d=new hv({...t,attributes:{[Es]:"custom",...t.attributes},sampled:c});return l!==void 0&&d.setAttribute(fv,l),n&&n.emit("spanStart",d),d}function Xtt(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),o=e.getScopeData().sdkProcessingMetadata[Qye]?!1:Zc(t),s=o?new hv({...r,parentSpanId:n,traceId:i,sampled:o}):new va({traceId:i});K7(t,s);let c=Ut();return c&&(c.emit("spanStart",s),r.endTimestamp&&c.emit("spanEnd",s)),s}function ege(t){let e=Sy(t);if(!e)return;let r=Ut();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Xr(e):e}function Jtt(t){return t!==void 0?e=>pv(t,e):e=>e()}var mv={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},ert="heartbeatFailed",trt="idleTimeout",rrt="finalTimeout",nrt="externalFinish";function J7(t,e={}){let r=new Map,n=!1,i,o=nrt,s=!e.disableAutoFinish,c=[],{idleTimeout:l=mv.idleTimeout,finalTimeout:d=mv.finalTimeout,childSpanTimeout:g=mv.childSpanTimeout,beforeSpanEnd:b}=e,_=Ut();if(!_||!Ws())return new va;let T=Qt(),M=Jr(),k=irt(t);k.end=new Proxy(k.end,{apply(z,oe,$){b&&b(k);let[ne,...S]=$,a=ne||ui(),u=Zf(a),m=G0(k).filter(x=>x!==k);if(!m.length)return V(u),Reflect.apply(z,oe,[u,...S]);let y=m.map(x=>Ft(x).timestamp).filter(x=>!!x),w=y.length?Math.max(...y):void 0,E=Ft(k).start_timestamp,A=Math.min(E?E+d/1e3:1/0,Math.max(E||-1/0,Math.min(u,w||1/0)));return V(A),Reflect.apply(z,oe,[A,...S])}});function B(){i&&(clearTimeout(i),i=void 0)}function P(z){B(),i=setTimeout(()=>{!n&&r.size===0&&s&&(o=trt,k.end(z))},l)}function D(z){i=setTimeout(()=>{!n&&s&&(o=ert,k.end(z))},g)}function R(z){B(),r.set(z,!0);let oe=ui();D(oe+g/1e3)}function L(z){if(r.has(z)&&r.delete(z),r.size===0){let oe=ui();P(oe+l/1e3)}}function V(z){n=!0,r.clear(),c.forEach(u=>u()),kd(T,M);let oe=Ft(k),{start_timestamp:$}=oe;if(!$)return;(oe.data||{})[uv]||k.setAttribute(uv,o),ze.log(`[Tracing] Idle span "${oe.op}" finished`);let S=G0(k).filter(u=>u!==k),a=0;S.forEach(u=>{u.isRecording()&&(u.setStatus({code:2,message:"cancelled"}),u.end(z),It&&ze.log("[Tracing] Cancelling span since span ended early",JSON.stringify(u,void 0,2)));let m=Ft(u),{timestamp:y=0,start_timestamp:w=0}=m,E=w<=z,A=(d+l)/1e3,x=y-w<=A;if(It){let f=JSON.stringify(u,void 0,2);E?x||ze.log("[Tracing] Discarding span since it finished after idle span final timeout",f):ze.log("[Tracing] Discarding span since it happened after idle span was finished",f)}(!x||!E)&&(Rye(k,u),a++)}),a>0&&k.setAttribute("sentry.idle_span_discarded_spans",a)}return c.push(_.on("spanStart",z=>{if(n||z===k||Ft(z).timestamp)return;G0(k).includes(z)&&R(z.spanContext().spanId)})),c.push(_.on("spanEnd",z=>{n||L(z.spanContext().spanId)})),c.push(_.on("idleSpanEnableAutoFinish",z=>{z===k&&(s=!0,P(),r.size&&D())})),e.disableAutoFinish||P(),setTimeout(()=>{n||(k.setStatus({code:2,message:"deadline_exceeded"}),o=rrt,k.end())},d),k}function irt(t){let e=Za(t);return kd(Qt(),e),It&&ze.log("[Tracing] Started span is an idle span"),e}h();p();h();p();h();p();function e9(t,e,r,n=0){return new Yf((i,o)=>{let s=t[n];if(e===null||typeof s!="function")i(e);else{let c=s({...e},r);It&&s.id&&c===null&&ze.log(`Event processor "${s.id}" dropped event`),Wf(c)?c.then(l=>e9(t,l,r,n+1).then(i)).then(null,o):e9(t,c,r,n+1).then(i).then(null,o)}})}h();p();var t9,tge,r9;function rge(t){let e=Dt._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return r9&&r.length===tge||(tge=r.length,r9=r.reduce((n,i)=>{t9||(t9={});let o=t9[i];if(o)n[o[0]]=o[1];else{let s=t(i);for(let c=s.length-1;c>=0;c--){let l=s[c],d=l&&l.filename,g=e[i];if(d&&g){n[d]=g,t9[i]=[d,g];break}}}return n},{})),r9}h();p();function nge(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=e;ort(t,e),n&&crt(t,n),frt(t,r),srt(t,i),art(t,o)}function MK(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:d,eventProcessors:g,attachments:b,propagationContext:_,transactionName:T,span:M}=e;n9(t,"extra",r),n9(t,"tags",n),n9(t,"user",i),n9(t,"contexts",o),t.sdkProcessingMetadata=av(t.sdkProcessingMetadata,c,2),s&&(t.level=s),T&&(t.transactionName=T),M&&(t.span=M),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),d.length&&(t.fingerprint=[...t.fingerprint,...d]),g.length&&(t.eventProcessors=[...t.eventProcessors,...g]),b.length&&(t.attachments=[...t.attachments,...b]),t.propagationContext={...t.propagationContext,..._}}function n9(t,e,r){t[e]=av(t[e],r,1)}function ort(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,transactionName:c}=e,l=cn(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let d=cn(n);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});let g=cn(i);g&&Object.keys(g).length&&(t.user={...g,...t.user});let b=cn(o);b&&Object.keys(b).length&&(t.contexts={...b,...t.contexts}),s&&(t.level=s),c&&t.type!=="transaction"&&(t.transaction=c)}function srt(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function art(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function crt(t,e){t.contexts={trace:pK(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Ya(e),...t.sdkProcessingMetadata};let r=Xr(e),n=Ft(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}function frt(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}function ige(t,e,r,n,i,o){let{normalizeDepth:s=3,normalizeMaxBreadth:c=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Yi(),timestamp:e.timestamp||il()},d=r.integrations||t.integrations.map(B=>B.name);urt(l,t),hrt(l,d),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&lrt(l,t.stackParser);let g=mrt(n,r.captureContext);r.mechanism&&ol(l,r.mechanism);let b=i?i.getEventProcessors():[],_=O7().getScopeData();if(o){let B=o.getScopeData();MK(_,B)}if(g){let B=g.getScopeData();MK(_,B)}let T=[...r.attachments||[],..._.attachments];T.length&&(r.attachments=T),nge(l,_);let M=[...b,..._.eventProcessors];return e9(M,l,r).then(B=>(B&&drt(B),typeof s=="number"&&s>0?prt(B,s,c):B))}function urt(t,e){let{environment:r,release:n,dist:i,maxValueLength:o=250}=e;t.environment=t.environment||r||dv,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=rl(t.message,o));let s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=rl(s.value,o));let c=t.request;c&&c.url&&(c.url=rl(c.url,o))}function lrt(t,e){let r=rge(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}function drt(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}function hrt(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function prt(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:Qc(i.data,e,r)}}))},...t.user&&{user:Qc(t.user,e,r)},...t.contexts&&{contexts:Qc(t.contexts,e,r)},...t.extra&&{extra:Qc(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Qc(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:Qc(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=Qc(t.contexts.flags,3,r)),n}function mrt(t,e){if(!e)return t;let r=t?t.clone():new $a;return r.update(e),r}function oge(t){if(t)return yrt(t)?{captureContext:t}:brt(t)?{captureContext:t}:t}function yrt(t){return t instanceof $a||typeof t=="function"}var grt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function brt(t){return Object.keys(t).some(e=>grt.includes(e))}function $0(t,e){return Qt().captureException(t,oge(e))}function yv(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return Qt().captureMessage(t,r,n)}function O3(t,e){return Qt().captureEvent(t,e)}function i9(t,e){Zi().setContext(t,e)}function gv(t){Zi().setTags(t)}function bv(t){Zi().setUser(t)}function kK(){let t=Ut();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}function D3(t){let e=Ut(),r=Zi(),n=Qt(),{release:i,environment:o=dv}=e&&e.getOptions()||{},{userAgent:s}=Dt.navigator||{},c=xye({release:i,environment:o,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...t}),l=r.getSession();return l&&l.status==="ok"&&Md(l,{status:"exited"}),o9(),r.setSession(c),n.setSession(c),c}function o9(){let t=Zi(),e=Qt(),r=e.getSession()||t.getSession();r&&wye(r),age(),t.setSession(),e.setSession()}function age(){let t=Zi(),e=Qt(),r=Ut(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}function L3(t=!1){if(t){o9();return}age()}h();p();var vrt="7";function xrt(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function wrt(t){return`${xrt(t)}${t.projectId}/envelope/`}function Srt(t,e){let r={sentry_version:vrt};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function cge(t,e,r){return e||`${wrt(t)}?${Srt(t,r)}`}h();p();h();p();var fge=[];function Ert(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}function PK(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let s=r(e);n=Array.isArray(s)?s:[s]}else n=e;let i=Ert(n),o=i.findIndex(s=>s.name==="Debug");if(o>-1){let[s]=i.splice(o,1);i.push(s)}return i}function uge(t,e){let r={};return e.forEach(n=>{n&&BK(t,n,r)}),r}function RK(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function BK(t,e,r){if(r[e.name]){It&&ze.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,fge.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),fge.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,o)=>n(i,o,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((o,s)=>n(o,s,t),{id:e.name});t.addEventProcessor(i)}It&&ze.log(`Integration installed: ${e.name}`)}h();p();function lge(t,e,r){let n=[{type:"client_report"},{timestamp:r||il(),discarded_events:t}];return Qf(e?{dsn:e}:{},[n])}h();p();var _s=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var dge="Not capturing exception because it's already been captured.",U3=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=vK(e.dsn):It&&ze.warn("No DSN provided, client will not send events."),this._dsn){let i=cge(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&ma(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=Yi();if(N7(e))return It&&ze.log(dge),i;let o={event_id:i,...r};return this._process(this.eventFromException(e,o).then(s=>this._captureEvent(s,o,n))),o.event_id}captureMessage(e,r,n,i){let o={event_id:Yi(),...n},s=iv(e)?e:String(e),c=vy(e)?this.eventFromMessage(s,r,o):this.eventFromException(e,o);return this._process(c.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(e,r,n){let i=Yi();if(r&&r.originalException&&N7(r.originalException))return It&&ze.log(dge),i;let o={event_id:i,...r},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,c||n)),o.event_id}captureSession(e){typeof e.release!="string"?It&&ze.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Md(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):Yc(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];BK(this,e,this._integrations),r||RK(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=zye(e,this._dsn,this._options._metadata,this._options.tunnel);for(let o of r.attachments||[])n=SK(n,AK(o));let i=this.sendEnvelope(n);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){let r=jye(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,o=`${e}:${r}`;It&&ze.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(It&&ze.error("Error while sending envelope:",r),r)):(It&&ze.error("Transport disabled"),Yc({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=uge(this,e),RK(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,o=r.exception&&r.exception.values;if(o){i=!0;for(let l of o){let d=l.mechanism;if(d&&d.handled===!1){n=!0;break}}}let s=e.status==="ok";(s&&e.errors===0||s&&n)&&(Md(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Yf(r=>{let n=0,i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=i,e&&n>=e&&(clearInterval(o),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=Qt(),i=Zi()){let o=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),ige(o,e,r,n,this,i).then(c=>{if(c===null)return c;c.contexts={trace:aK(n),...c.contexts};let l=N3(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:l,...c.sdkProcessingMetadata},c})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{It&&(i instanceof _s&&i.logLevel==="log"?ze.log(i.message):ze.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:o}=i,s=pge(e),c=hge(e),l=e.type||"error",d=`before send for type \`${l}\``,g=typeof o>"u"?void 0:z7(o);if(c&&typeof g=="number"&&Math.random()>g)return this.recordDroppedEvent("sample_rate","error",e),K0(new _s(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let b=l==="replay_event"?"replay":l,T=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,T).then(M=>{if(M===null)throw this.recordDroppedEvent("event_processor",b,e),new _s("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return M;let B=Art(this,i,M,r);return _rt(B,d)}).then(M=>{if(M===null){if(this.recordDroppedEvent("before_send",b,e),s){let D=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",D)}throw new _s(`${d} returned \`null\`, will not send event.`,"log")}let k=n&&n.getSession();if(!s&&k&&this._updateSessionFromEvent(k,M),s){let P=M.sdkProcessingMetadata&&M.sdkProcessingMetadata.spanCountBeforeProcessing||0,D=M.spans?M.spans.length:0,R=P-D;R>0&&this.recordDroppedEvent("before_send","span",R)}let B=M.transaction_info;if(s&&B&&M.transaction!==e.transaction){let P="custom";M.transaction_info={...B,source:P}}return this.sendEvent(M,r),M}).then(null,M=>{throw M instanceof _s?M:(this.captureException(M,{data:{__sentry__:!0},originalException:M}),new _s(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${M}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,o]=r.split(":");return{reason:i,category:o,quantity:n}})}_flushOutcomes(){It&&ze.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){It&&ze.log("No outcomes to send");return}if(!this._dsn){It&&ze.log("No dsn provided, will not send outcomes");return}It&&ze.log("Sending outcomes:",e);let r=lge(e,this._options.tunnel&&al(this._dsn));this.sendEnvelope(r)}};function _rt(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Wf(t))return t.then(n=>{if(!Gf(n)&&n!==null)throw new _s(r);return n},n=>{throw new _s(`${e} rejected with ${n}`)});if(!Gf(t)&&t!==null)throw new _s(r);return t}function Art(t,e,r,n){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=e;if(hge(r)&&i)return i(r,n);if(pge(r)){if(r.spans&&s){let c=[];for(let l of r.spans){let d=s(l);d?c.push(d):(V7(),t.recordDroppedEvent("before_send","span"))}r.spans=c}if(o){if(r.spans){let c=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return o(r,n)}}return r}function hge(t){return t.type===void 0}function pge(t){return t.type==="transaction"}h();p();function CK(t,e){e.debug===!0&&(It?ze.enable():ma(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Qt().update(e.initialScope);let n=new t(e);return NK(n),n.init(),n}function NK(t){Qt().setClient(t)}h();p();h();p();function mge(t){let e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!r())return K0(new _s("Not adding Promise because buffer limit was reached."));let c=s();return e.indexOf(c)===-1&&e.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}function o(s){return new Yf((c,l)=>{let d=e.length;if(!d)return c(!0);let g=setTimeout(()=>{s&&s>0&&c(!1)},s);e.forEach(b=>{Yc(b).then(()=>{--d||(clearTimeout(g),c(!0))},l)})})}return{$:e,add:i,drain:o}}h();p();function Trt(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}function Irt(t,e){return t[e]||t.all||0}function yge(t,e,r=Date.now()){return Irt(t,e)>r}function gge(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(let c of o.trim().split(",")){let[l,d,,,g]=c.split(":",5),b=parseInt(l,10),_=(isNaN(b)?60:b)*1e3;if(!d)i.all=n+_;else for(let T of d.split(";"))T==="metric_bucket"?(!g||g.split(";").includes("custom"))&&(i[T]=n+_):i[T]=n+_}else s?i.all=n+Trt(s,n):e===429&&(i.all=n+60*1e3);return i}var Mrt=64;function s9(t,e,r=mge(t.bufferSize||Mrt)){let n={},i=s=>r.drain(s);function o(s){let c=[];if(W7(s,(b,_)=>{let T=$7(_);if(yge(n,T)){let M=bge(b,_);t.recordDroppedEvent("ratelimit_backoff",T,M)}else c.push(b)}),c.length===0)return Yc({});let l=Qf(s[0],c),d=b=>{W7(l,(_,T)=>{let M=bge(_,T);t.recordDroppedEvent(b,$7(T),M)})},g=()=>e({body:EK(l)}).then(b=>(b.statusCode!==void 0&&(b.statusCode<200||b.statusCode>=300)&&It&&ze.warn(`Sentry responded with status code ${b.statusCode} to sent event.`),n=gge(n,b),b),b=>{throw d("network_error"),b});return r.add(g).then(b=>b,b=>{if(b instanceof _s)return It&&ze.error("Skipped sending event because buffer is full."),d("queue_overflow"),Yc({});throw b})}return{send:o,flush:i}}function bge(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}h();p();function Ay(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(o=>({name:`${n}:@sentry/${o}`,version:zf})),version:zf}),t._metadata=i}h();p();function F3(t={}){let e=Ut();if(!kK()||!e)return{};let r=za(),n=sl(r);if(n.getTraceData)return n.getTraceData(t);let i=Qt(),o=t.span||Jr(),s=o?q7(o):krt(i),c=o?Ya(o):N3(e,i),l=uK(c);return U7.test(s)?{"sentry-trace":s,baggage:l}:(ze.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function krt(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return C3(e,n,r)}h();p();var Prt=100;function xa(t,e){let r=Ut(),n=Zi();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Prt}=r.getOptions();if(o<=0)return;let c={timestamp:il(),...t},l=i?ma(()=>i(c,e)):c;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,o))}h();p();var vge,Rrt="FunctionToString",xge=new WeakMap,Brt=()=>({name:Rrt,setupOnce(){vge=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=wy(this),r=xge.has(Ut())&&e!==void 0?e:this;return vge.apply(r,t)}}catch{}},setup(t){xge.set(t,!0)}}),a9=Brt;h();p();var Crt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Nrt="InboundFilters",Ort=(t={})=>({name:Nrt,processEvent(e,r,n){let i=n.getOptions(),o=Drt(t,i);return Lrt(e,o)?null:e}}),f9=Ort;function Drt(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Crt],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Lrt(t,e){return e.ignoreInternal&&Vrt(t)?(It&&ze.warn(`Event dropped due to being internal Sentry Error.
Event: ${$f(t)}`),!0):Urt(t,e.ignoreErrors)?(It&&ze.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$f(t)}`),!0):zrt(t)?(It&&ze.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${$f(t)}`),!0):Frt(t,e.ignoreTransactions)?(It&&ze.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$f(t)}`),!0):qrt(t,e.denyUrls)?(It&&ze.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$f(t)}.
Url: ${c9(t)}`),!0):Hrt(t,e.allowUrls)?!1:(It&&ze.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$f(t)}.
Url: ${c9(t)}`),!0)}function Urt(t,e){return t.type||!e||!e.length?!1:Krt(t).some(r=>nl(r,e))}function Frt(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?nl(r,e):!1}function qrt(t,e){if(!e||!e.length)return!1;let r=c9(t);return r?nl(r,e):!1}function Hrt(t,e){if(!e||!e.length)return!0;let r=c9(t);return r?nl(r,e):!0}function Krt(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}function Vrt(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function jrt(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function c9(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?jrt(e):null}catch{return It&&ze.error(`Cannot extract url for event ${$f(t)}`),null}}function zrt(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}h();p();function DK(t,e,r=250,n,i,o,s){if(!o.exception||!o.exception.values||!s||!Ga(s.originalException,Error))return;let c=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;c&&(o.exception.values=Grt(OK(t,e,i,s.originalException,n,o.exception.values,c,0),r))}function OK(t,e,r,n,i,o,s,c){if(o.length>=r+1)return o;let l=[...o];if(Ga(n[i],Error)){wge(s,c);let d=t(e,n[i]),g=l.length;Sge(d,i,g,c),l=OK(t,e,r,n[i],i,[d,...l],d,g)}return Array.isArray(n.errors)&&n.errors.forEach((d,g)=>{if(Ga(d,Error)){wge(s,c);let b=t(e,d),_=l.length;Sge(b,`errors[${g}]`,_,c),l=OK(t,e,r,d,i,[b,...l],b,_)}}),l}function wge(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Sge(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function Grt(t,e){return t.map(r=>(r.value&&(r.value=rl(r.value,e)),r))}h();p();function Xc(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}h();p();function LK(t){let e="console";ws(e,t),Ss(e,Wrt)}function Wrt(){"console"in Dt&&_3.forEach(function(t){t in Dt.console&&$i(Dt.console,t,function(e){return rv[t]=e,function(...r){Ni("console",{args:r,level:t});let i=rv[t];i&&i.apply(Dt.console,r)}})})}h();p();function UK(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}h();p();var $rt="Dedupe",Yrt=()=>{let t;return{name:$rt,processEvent(e){if(e.type)return e;try{if(Zrt(e,t))return It&&ze.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},u9=Yrt;function Zrt(t,e){return e?!!(Qrt(t,e)||Xrt(t,e)):!1}function Qrt(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!Age(t,e)||!_ge(t,e))}function Xrt(t,e){let r=Ege(e),n=Ege(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!Age(t,e)||!_ge(t,e))}function _ge(t,e){let r=I7(t),n=I7(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let o=n[i],s=r[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function Age(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function Ege(t){return t.exception&&t.exception.values&&t.exception.values[0]}h();p();function FK(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let o=Ws()&&e(t.fetchData.url);if(t.endTimestamp&&o){let _=t.fetchData.__span;if(!_)return;let T=n[_];T&&(tnt(T,t),delete n[_]);return}let{method:s,url:c}=t.fetchData,l=ent(c),d=l?Xc(l).host:void 0,g=!!Jr(),b=o&&g?Za({name:`${s} ${c}`,attributes:{url:c,type:"fetch","http.method":s,"http.url":l,"server.address":d,[fn]:i,[Gs]:"http.client"}}):new va;if(t.fetchData.__span=b.spanContext().spanId,n[b.spanContext().spanId]=b,r(t.fetchData.url)){let _=t.args[0],T=t.args[1]||{},M=Jrt(_,T,Ws()&&g?b:void 0);M&&(t.args[1]=T,T.headers=M)}return b}function Jrt(t,e,r){let n=F3({span:r}),i=n["sentry-trace"],o=n.baggage;if(!i)return;let s=e.headers||(rnt(t)?t.headers:void 0);if(s)if(nnt(s)){let c=new Headers(s);if(c.set("sentry-trace",i),o){let l=c.get("baggage");if(l){let d=l9(l);c.set("baggage",d?`${d},${o}`:o)}else c.set("baggage",o)}return c}else if(Array.isArray(s)){let c=[...s.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[d,g,...b]=l;return[d,l9(g),...b]}else return l}),["sentry-trace",i]];return o&&c.push(["baggage",o]),c}else{let c="baggage"in s?s.baggage:void 0,l=[];return Array.isArray(c)?l=c.map(d=>typeof d=="string"?l9(d):d).filter(d=>d===""):c&&l.push(l9(c)),o&&l.push(o),{...s,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}function ent(t){try{return new URL(t).href}catch{return}}function tnt(t,e){if(e.response){lv(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}function l9(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(D7)).join(",")}function rnt(t){return typeof Request<"u"&&Ga(t,Request)}function nnt(t){return typeof Headers<"u"&&Ga(t,Headers)}h();p();function d9(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}h();p();h();p();var qK=Dt;function h9(){if(!("fetch"in qK))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function q3(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function HK(){if(typeof EdgeRuntime=="string")return!0;if(!h9())return!1;if(q3(qK.fetch))return!0;let t=!1,e=qK.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=q3(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){pa&&ze.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function H3(t,e){let r="fetch";ws(r,t),Ss(r,()=>Ige(void 0,e))}function VK(t){let e="fetch-body-resolved";ws(e,t),Ss(e,()=>Ige(ont))}function Ige(t,e=!1){e&&!HK()||$i(Dt,"fetch",function(r){return function(...n){let i=new Error,{method:o,url:s}=snt(n),c={args:n,fetchData:{method:o,url:s},startTimestamp:ui()*1e3,virtualError:i};return t||Ni("fetch",{...c}),r.apply(Dt,n).then(async l=>(t?t(l):Ni("fetch",{...c,endTimestamp:ui()*1e3,response:l}),l),l=>{throw Ni("fetch",{...c,endTimestamp:ui()*1e3,error:l}),by(l)&&l.stack===void 0&&(l.stack=i.stack,wi(l,"framesToPop",1)),l})}})}async function int(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),o=!0;for(;o;){let s;try{s=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:c}=await n.read();clearTimeout(s),c&&(e(),o=!1)}catch{o=!1}finally{clearTimeout(s)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}function ont(t){let e;try{e=t.clone()}catch{return}int(e,()=>{Ni("fetch-body-resolved",{endTimestamp:ui()*1e3,response:t})})}function KK(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Tge(t){return typeof t=="string"?t:t?KK(t,"url")?t.url:t.toString?t.toString():"":""}function snt(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:Tge(r),method:KK(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:Tge(e),method:KK(e,"method")?String(e.method).toUpperCase():"GET"}}h();p();function jK(){return"npm"}h();p();var p9=Dt;function zK(){let t=p9.chrome,e=t&&t.app&&t.app.runtime,r="history"in p9&&!!p9.history.pushState&&!!p9.history.replaceState;return!e&&r}h();p();var Bt=Dt,GK=0;function WK(){return GK>0}function wnt(){GK++,setTimeout(()=>{GK--})}function Ty(t,e={}){function r(i){return typeof i=="function"}if(!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(wy(t))return t}catch{return t}let n=function(...i){try{let o=i.map(s=>Ty(s,e));return t.apply(this,o)}catch(o){throw wnt(),V0(s=>{s.addEventProcessor(c=>(e.mechanism&&(sv(c,void 0,void 0),ol(c,e.mechanism)),c.extra={...c.extra,arguments:i},c)),$0(o)}),o}};try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}B7(n,t),wi(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}h();p();h();p();var Ho=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;h();p();function m9(t,e){let r=ZK(t,e),n={type:Tnt(e),value:Int(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Snt(t,e,r,n){let i=Ut(),o=i&&i.getOptions().normalizeDepth,s=Pnt(e),c={__serialized__:G7(e,o)};if(s)return{exception:{values:[m9(t,s)]},extra:c};let l={exception:{values:[{type:xy(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:Mnt(e,{isUnhandledRejection:n})}]},extra:c};if(r){let d=ZK(t,r);d.length&&(l.exception.values[0].stacktrace={frames:d})}return l}function $K(t,e){return{exception:{values:[m9(t,e)]}}}function ZK(t,e){let r=e.stacktrace||e.stack||"",n=_nt(e),i=Ant(e);try{return t(r,n,i)}catch{}return[]}var Ent=/Minified React error #\d+;/i;function _nt(t){return t&&Ent.test(t.message)?1:0}function Ant(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function kge(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function Tnt(t){let e=t&&t.name;return!e&&kge(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function Int(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:kge(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function Pge(t,e,r,n){let i=r&&r.syntheticException||void 0,o=y9(t,e,i,n);return ol(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),Yc(o)}function Rge(t,e,r="info",n,i){let o=n&&n.syntheticException||void 0,s=YK(t,e,o,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),Yc(s)}function y9(t,e,r,n,i){let o;if(k7(e)&&e.error)return $K(t,e.error);if(P7(e)||ZH(e)){let s=e;if("stack"in e)o=$K(t,e);else{let c=s.name||(P7(s)?"DOMError":"DOMException"),l=s.message?`${c}: ${s.message}`:c;o=YK(t,l,r,n),sv(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return by(e)?$K(t,e):Gf(e)||xy(e)?(o=Snt(t,e,r,i),ol(o,{synthetic:!0}),o):(o=YK(t,e,r,n),sv(o,`${e}`,void 0),ol(o,{synthetic:!0}),o)}function YK(t,e,r,n){let i={};if(n&&r){let o=ZK(t,r);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]}),ol(i,{synthetic:!0})}if(iv(e)){let{__sentry_template_string__:o,__sentry_template_values__:s}=e;return i.logentry={message:o,params:s},i}return i.message=e,i}function Mnt(t,{isUnhandledRejection:e}){let r=nK(t),n=e?"promise rejection":"exception";return k7(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:xy(t)?`Event \`${knt(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function knt(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Pnt(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}h();p();function Bge(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:al(n)}},o=Rnt(t);return Qf(i,[o])}function Rnt(t){return[{type:"user_report"},t]}var g9=class extends U3{constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=Bt.SENTRY_SDK_SOURCE||jK();Ay(r,"browser",["browser"],n),super(r),r.sendClientReports&&Bt.document&&Bt.document.addEventListener("visibilitychange",()=>{Bt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return Pge(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return Rge(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Ho&&ze.warn("SDK not enabled, will not capture user feedback.");return}let r=Bge(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};h();p();h();p();h();p();h();p();var vv=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;h();p();h();p();var Bnt=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",Jc=(t,e,r,n)=>{let i,o;return s=>{e.value>=0&&(s||n)&&(o=e.value-(i||0),(o||i===void 0)&&(i=e.value,e.delta=o,e.rating=Bnt(e.value,r),t(e)))}};h();p();h();p();var xt=Dt;h();p();var Cge=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;h();p();h();p();var Pd=(t=!0)=>{let e=xt.performance&&xt.performance.getEntriesByType&&xt.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e};var cl=()=>{let t=Pd();return t&&t.activationStart||0};var ef=(t,e)=>{let r=Pd(),n="navigate";return r&&(xt.document&&xt.document.prerendering||cl()>0?n="prerender":xt.document&&xt.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:Cge(),navigationType:n}};h();p();var wa=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}};h();p();var tf=t=>{let e=r=>{(r.type==="pagehide"||xt.document&&xt.document.visibilityState==="hidden")&&t(r)};xt.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))};h();p();var Y0=t=>{let e=!1;return()=>{e||(t(),e=!0)}};h();p();h();p();var V3=-1,Cnt=()=>xt.document.visibilityState==="hidden"&&!xt.document.prerendering?0:1/0,b9=t=>{xt.document.visibilityState==="hidden"&&V3>-1&&(V3=t.type==="visibilitychange"?t.timeStamp:0,Ont())},Nnt=()=>{addEventListener("visibilitychange",b9,!0),addEventListener("prerenderingchange",b9,!0)},Ont=()=>{removeEventListener("visibilitychange",b9,!0),removeEventListener("prerenderingchange",b9,!0)},Z0=()=>(xt.document&&V3<0&&(V3=Cnt(),Nnt()),{get firstHiddenTime(){return V3}});h();p();var fl=t=>{xt.document&&xt.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()};var Dnt=[1800,3e3],Nge=(t,e={})=>{fl(()=>{let r=Z0(),n=ef("FCP"),i,s=wa("paint",c=>{c.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-cl(),0),n.entries.push(l),i(!0)))})});s&&(i=Jc(t,n,Dnt,e.reportAllChanges))})};var Lnt=[.1,.25],Oge=(t,e={})=>{Nge(Y0(()=>{let r=ef("CLS",0),n,i=0,o=[],s=l=>{l.forEach(d=>{if(!d.hadRecentInput){let g=o[0],b=o[o.length-1];i&&g&&b&&d.startTime-b.startTime<1e3&&d.startTime-g.startTime<5e3?(i+=d.value,o.push(d)):(i=d.value,o=[d])}}),i>r.value&&(r.value=i,r.entries=o,n())},c=wa("layout-shift",s);c&&(n=Jc(t,r,Lnt,e.reportAllChanges),tf(()=>{s(c.takeRecords()),n(!0)}),setTimeout(n,0))}))};h();p();var Unt=[100,300],Dge=(t,e={})=>{fl(()=>{let r=Z0(),n=ef("FID"),i,o=l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},s=l=>{l.forEach(o)},c=wa("first-input",s);i=Jc(t,n,Unt,e.reportAllChanges),c&&tf(Y0(()=>{s(c.takeRecords()),c.disconnect()}))})};h();p();h();p();h();p();var Lge=0,QK=1/0,v9=0,Fnt=t=>{t.forEach(e=>{e.interactionId&&(QK=Math.min(QK,e.interactionId),v9=Math.max(v9,e.interactionId),Lge=v9?(v9-QK)/7+1:0)})},XK,Uge=()=>XK?Lge:performance.interactionCount||0,Fge=()=>{"interactionCount"in performance||XK||(XK=wa("event",Fnt,{type:"event",buffered:!0,durationThreshold:0}))};var Rd=[],JK=new Map,qge=40,qnt=0,Hnt=()=>Uge()-qnt,Hge=()=>{let t=Math.min(Rd.length-1,Math.floor(Hnt()/50));return Rd[t]},eV=10,Knt=[],Kge=t=>{if(Knt.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=Rd[Rd.length-1],r=JK.get(t.interactionId);if(r||Rd.length<eV||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};JK.set(n.id,n),Rd.push(n)}Rd.sort((n,i)=>i.latency-n.latency),Rd.length>eV&&Rd.splice(eV).forEach(n=>JK.delete(n.id))}};h();p();var x9=t=>{let e=xt.requestIdleCallback||xt.setTimeout,r=-1;return t=Y0(t),xt.document&&xt.document.visibilityState==="hidden"?t():(r=e(t),tf(t)),r};var Vnt=[200,500],Vge=(t,e={})=>{"PerformanceEventTiming"in xt&&"interactionId"in PerformanceEventTiming.prototype&&fl(()=>{Fge();let r=ef("INP"),n,i=s=>{x9(()=>{s.forEach(Kge);let c=Hge();c&&c.latency!==r.value&&(r.value=c.latency,r.entries=c.entries,n())})},o=wa("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:qge});n=Jc(t,r,Vnt,e.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),tf(()=>{i(o.takeRecords()),n(!0)}))})};h();p();var jnt=[2500,4e3],jge={},zge=(t,e={})=>{fl(()=>{let r=Z0(),n=ef("LCP"),i,o=c=>{e.reportAllChanges||(c=c.slice(-1)),c.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-cl(),0),n.entries=[l],i())})},s=wa("largest-contentful-paint",o);if(s){i=Jc(t,n,jnt,e.reportAllChanges);let c=Y0(()=>{jge[n.id]||(o(s.takeRecords()),s.disconnect(),jge[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{xt.document&&addEventListener(l,()=>x9(c),{once:!0,capture:!0})}),tf(c)}})};h();p();var znt=[800,1800],tV=t=>{xt.document&&xt.document.prerendering?fl(()=>tV(t)):xt.document&&xt.document.readyState!=="complete"?addEventListener("load",()=>tV(t),!0):setTimeout(t,0)},Gge=(t,e={})=>{let r=ef("TTFB"),n=Jc(t,r,znt,e.reportAllChanges);tV(()=>{let i=Pd();i&&(r.value=Math.max(i.responseStart-cl(),0),r.entries=[i],n(!0))})};var j3={},w9={},Wge,$ge,Yge,Zge,Qge;function z3(t,e=!1){return G3("cls",t,Gnt,Wge,e)}function rV(t,e=!1){return G3("lcp",t,$nt,Yge,e)}function nV(t){return G3("fid",t,Wnt,$ge)}function iV(t){return G3("ttfb",t,Ynt,Zge)}function oV(t){return G3("inp",t,Znt,Qge)}function Bd(t,e){return Xge(t,e),w9[t]||(Qnt(t),w9[t]=!0),Jge(t,e)}function xv(t,e){let r=j3[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){vv&&ze.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ya(n)}
Error:`,i)}}function Gnt(){return Oge(t=>{xv("cls",{metric:t}),Wge=t},{reportAllChanges:!0})}function Wnt(){return Dge(t=>{xv("fid",{metric:t}),$ge=t})}function $nt(){return zge(t=>{xv("lcp",{metric:t}),Yge=t},{reportAllChanges:!0})}function Ynt(){return Gge(t=>{xv("ttfb",{metric:t}),Zge=t})}function Znt(){return Vge(t=>{xv("inp",{metric:t}),Qge=t})}function G3(t,e,r,n,i=!1){Xge(t,e);let o;return w9[t]||(o=r(),w9[t]=!0),n&&e({metric:n}),Jge(t,e,i?o:void 0)}function Qnt(t){let e={};t==="event"&&(e.durationThreshold=0),wa(t,r=>{xv(t,{entries:r})},e)}function Xge(t,e){j3[t]=j3[t]||[],j3[t].push(e)}function Jge(t,e,r){return()=>{r&&r();let n=j3[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}function e1e(t){return"duration"in t}h();p();h();p();h();p();function S9(t){return typeof t=="number"&&isFinite(t)}function ul(t,e,r,{...n}){let i=Ft(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),pv(t,()=>{let o=Za({startTime:e,...n});return o&&o.end(r),o})}function E9(t){let e=Ut();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:o}=t,{release:s,environment:c}=e.getOptions(),l=e.getIntegrationByName("Replay"),d=l&&l.getReplayId(),g=Qt(),b=g.getUser(),_=b!==void 0?b.email||b.id||b.ip_address:void 0,T;try{T=g.getScopeData().contexts.profile.profile_id}catch{}let M={release:s,environment:c,user:_||void 0,profile_id:T||void 0,replay_id:d||void 0,transaction:n,"user_agent.original":xt.navigator&&xt.navigator.userAgent,...i};return Za({name:r,attributes:M,startTime:o,experimental:{standalone:!0}})}function W3(){return xt&&xt.addEventListener&&xt.performance}function On(t){return t/1e3}function $3(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}function t1e(){let t=0,e,r;if(!Jnt())return;let n=!1;function i(){n||(n=!0,r&&Xnt(t,e,r),o())}let o=z3(({metric:s})=>{let c=s.entries[s.entries.length-1];c&&(t=s.value,e=c)},!0);tf(()=>{i()}),setTimeout(()=>{let s=Ut();if(!s)return;let c=s.on("startNavigationSpan",()=>{i(),c&&c()}),l=Jr(),d=l&&Xr(l),g=d&&Ft(d);g&&g.op==="pageload"&&(r=d.spanContext().spanId)},0)}function Xnt(t,e,r){vv&&ze.log(`Sending CLS span (${t})`);let n=On((Oi||0)+(e&&e.startTime||0)),i=Qt().getScopeData().transactionName,o=e?Wa(e.sources[0]&&e.sources[0].node):"Layout shift",s=cn({[fn]:"auto.http.browser.cls",[Gs]:"ui.webvital.cls",[Ey]:e&&e.duration||0,"sentry.pageload.span_id":r}),c=E9({name:o,transaction:i,attributes:s,startTime:n});c&&(c.addEvent("cls",{[j0]:"",[z0]:t}),c.end(n))}function Jnt(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var eit=2147483647,r1e=0,Ko={},Sa,Y3;function aV({recordClsStandaloneSpans:t}){let e=W3();if(e&&Oi){e.mark&&xt.performance.mark("sentry-tracing-init");let r=nit(),n=rit(),i=iit(),o=t?t1e():tit();return()=>{r(),n(),i(),o&&o()}}return()=>{}}function cV(){Bd("longtask",({entries:t})=>{let e=Jr();if(!e)return;let{op:r,start_timestamp:n}=Ft(e);for(let i of t){let o=On(Oi+i.startTime),s=On(i.duration);r==="navigation"&&n&&o<n||ul(e,o,o+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[fn]:"auto.ui.browser.metrics"}})}})}function fV(){new PerformanceObserver(e=>{let r=Jr();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=On(Oi+n.startTime),{start_timestamp:o,op:s}=Ft(r);if(s==="navigation"&&o&&i<o)continue;let c=On(n.duration),l={[fn]:"auto.ui.browser.metrics"},d=n.scripts[0],{invoker:g,invokerType:b,sourceURL:_,sourceFunctionName:T,sourceCharPosition:M}=d;l["browser.script.invoker"]=g,l["browser.script.invoker_type"]=b,_&&(l["code.filepath"]=_),T&&(l["code.function"]=T),M!==-1&&(l["browser.script.source_char_position"]=M),ul(r,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function uV(){Bd("event",({entries:t})=>{let e=Jr();if(e){for(let r of t)if(r.name==="click"){let n=On(Oi+r.startTime),i=On(r.duration),o={name:Wa(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[fn]:"auto.ui.browser.metrics"}},s=k3(r.target);s&&(o.attributes["ui.component_name"]=s),ul(e,n,n+i,o)}}})}function tit(){return z3(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Ko.cls={value:t.value,unit:""},Y3=e)},!0)}function rit(){return rV(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Ko.lcp={value:t.value,unit:"millisecond"},Sa=e)},!0)}function nit(){return nV(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=On(Oi),n=On(e.startTime);Ko.fid={value:t.value,unit:"millisecond"},Ko["mark.fid"]={value:r+n,unit:"second"}})}function iit(){return iV(({metric:t})=>{t.entries[t.entries.length-1]&&(Ko.ttfb={value:t.value,unit:"millisecond"})})}function lV(t,e){let r=W3();if(!r||!r.getEntries||!Oi)return;let n=On(Oi),i=r.getEntries(),{op:o,start_timestamp:s}=Ft(t);if(i.slice(r1e).forEach(c=>{let l=On(c.startTime),d=On(Math.max(0,c.duration));if(!(o==="navigation"&&s&&n+l<s))switch(c.entryType){case"navigation":{sit(t,c,n);break}case"mark":case"paint":case"measure":{oit(t,c,l,d,n);let g=Z0(),b=c.startTime<g.firstHiddenTime;c.name==="first-paint"&&b&&(Ko.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&b&&(Ko.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{fit(t,c,c.name,l,d,n);break}}}),r1e=Math.max(i.length-1,0),uit(t),o==="pageload"){dit(Ko);let c=Ko["mark.fid"];c&&Ko.fid&&(ul(t,c.value,c.value+On(Ko.fid.value),{name:"first input delay",op:"ui.action",attributes:{[fn]:"auto.ui.browser.metrics"}}),delete Ko["mark.fid"]),(!("fcp"in Ko)||!e.recordClsOnPageloadSpan)&&delete Ko.cls,Object.entries(Ko).forEach(([l,d])=>{Z7(l,d.value,d.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",cl()),lit(t)}Sa=void 0,Y3=void 0,Ko={}}function oit(t,e,r,n,i){let o=Pd(!1),s=On(o?o.requestStart:0),c=i+Math.max(r,s),l=i+r,d=l+n,g={[fn]:"auto.resource.browser.metrics"};return c!==l&&(g["sentry.browser.measure_happened_before_request"]=!0,g["sentry.browser.measure_start_time"]=c),ul(t,c,d,{name:e.name,op:e.entryType,attributes:g}),c}function sit(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{_9(t,e,n,r)}),_9(t,e,"secureConnection",r,"TLS/SSL"),_9(t,e,"fetch",r,"cache"),_9(t,e,"domainLookup",r,"DNS"),cit(t,e,r)}function _9(t,e,r,n,i=r){let o=ait(r),s=e[o],c=e[`${r}Start`];!c||!s||ul(t,n+On(c),n+On(s),{op:`browser.${i}`,name:e.name,attributes:{[fn]:"auto.ui.browser.metrics"}})}function ait(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function cit(t,e,r){let n=r+On(e.requestStart),i=r+On(e.responseEnd),o=r+On(e.responseStart);e.responseEnd&&(ul(t,n,i,{op:"browser.request",name:e.name,attributes:{[fn]:"auto.ui.browser.metrics"}}),ul(t,o,i,{op:"browser.response",name:e.name,attributes:{[fn]:"auto.ui.browser.metrics"}}))}function fit(t,e,r,n,i,o){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let s=Xc(r),c={[fn]:"auto.resource.browser.metrics"};sV(c,e,"transferSize","http.response_transfer_size"),sV(c,e,"encodedBodySize","http.response_content_length"),sV(c,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(c["http.response_delivery_type"]=l);let d=e.renderBlockingStatus;d&&(c["resource.render_blocking_status"]=d),s.protocol&&(c["url.scheme"]=s.protocol.split(":").pop()),s.host&&(c["server.address"]=s.host),c["url.same_origin"]=r.includes(xt.location.origin);let{name:g,version:b}=$3(e.nextHopProtocol);c["network.protocol.name"]=g,c["network.protocol.version"]=b;let _=o+n,T=_+i;ul(t,_,T,{name:r.replace(xt.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}function uit(t){let e=xt.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),S9(r.rtt)&&(Ko["connection.rtt"]={value:r.rtt,unit:"millisecond"})),S9(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),S9(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function lit(t){Sa&&(Sa.element&&t.setAttribute("lcp.element",Wa(Sa.element)),Sa.id&&t.setAttribute("lcp.id",Sa.id),Sa.url&&t.setAttribute("lcp.url",Sa.url.trim().slice(0,200)),Sa.loadTime!=null&&t.setAttribute("lcp.loadTime",Sa.loadTime),Sa.renderTime!=null&&t.setAttribute("lcp.renderTime",Sa.renderTime),t.setAttribute("lcp.size",Sa.size)),Y3&&Y3.sources&&Y3.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,Wa(e.node)))}function sV(t,e,r,n){let i=e[r];i!=null&&i<eit&&(t[n]=i)}function dit(t){let e=Pd(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}h();p();var hit=1e3,n1e,dV,hV;function pV(t){let e="dom";ws(e,t),Ss(e,pit)}function pit(){if(!xt.document)return;let t=Ni.bind(null,"dom"),e=i1e(t,!0);xt.document.addEventListener("click",e,!1),xt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=xt[r],o=i&&i.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||($i(o,"addEventListener",function(s){return function(c,l,d){if(c==="click"||c=="keypress")try{let g=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},b=g[c]=g[c]||{refCount:0};if(!b.handler){let _=i1e(t);b.handler=_,s.call(this,c,_,d)}b.refCount++}catch{}return s.call(this,c,l,d)}}),$i(o,"removeEventListener",function(s){return function(c,l,d){if(c==="click"||c=="keypress")try{let g=this.__sentry_instrumentation_handlers__||{},b=g[c];b&&(b.refCount--,b.refCount<=0&&(s.call(this,c,b.handler,d),b.handler=void 0,delete g[c]),Object.keys(g).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,c,l,d)}}))})}function mit(t){if(t.type!==dV)return!1;try{if(!t.target||t.target._sentryId!==hV)return!1}catch{}return!0}function yit(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function i1e(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=git(r);if(yit(r.type,n))return;wi(r,"_sentryCaptured",!0),n&&!n._sentryId&&wi(n,"_sentryId",Yi());let i=r.type==="keypress"?"input":r.type;mit(r)||(t({event:r,name:i,global:e}),dV=r.type,hV=n?n._sentryId:void 0),clearTimeout(n1e),n1e=xt.setTimeout(()=>{hV=void 0,dV=void 0},hit)}}function git(t){try{return t.target}catch{return null}}h();p();var A9;function Iy(t){let e="history";ws(e,t),Ss(e,bit)}function bit(){if(!zK())return;let t=xt.onpopstate;xt.onpopstate=function(...r){let n=xt.location.href,i=A9;if(A9=n,Ni("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let o=A9,s=String(i);A9=s,Ni("history",{from:o,to:s})}return r.apply(this,n)}}$i(xt.history,"pushState",e),$i(xt.history,"replaceState",e)}h();p();var T9={};function mV(t){let e=T9[t];if(e)return e;let r=xt[t];if(q3(r))return T9[t]=r.bind(xt);let n=xt.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let o=i.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(i)}catch(i){vv&&ze.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(T9[t]=r.bind(xt))}function I9(t){T9[t]=void 0}h();p();var Cd="__sentry_xhr_v3__";function Z3(t){let e="xhr";ws(e,t),Ss(e,vit)}function vit(){if(!xt.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,o=ui()*1e3,s=zs(n[0])?n[0].toUpperCase():void 0,c=xit(n[1]);if(!s||!c)return e.apply(r,n);r[Cd]={method:s,url:c,request_headers:{}},s==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=()=>{let d=r[Cd];if(d&&r.readyState===4){try{d.status_code=r.status}catch{}let g={endTimestamp:ui()*1e3,startTimestamp:o,xhr:r,virtualError:i};Ni("xhr",g)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(d,g,b){return l(),d.apply(g,b)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(d,g,b){let[_,T]=b,M=g[Cd];return M&&zs(_)&&zs(T)&&(M.request_headers[_.toLowerCase()]=T),d.apply(g,b)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[Cd];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let o={startTimestamp:ui()*1e3,xhr:r};return Ni("xhr",o),e.apply(r,n)}})}function xit(t){if(zs(t))return t;try{return t.toString()}catch{}}h();p();var yV=[],M9=new Map;function gV(){if(W3()&&Oi){let e=wit();return()=>{e()}}return()=>{}}var o1e={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function wit(){return oV(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(M=>M.duration===t.value&&o1e[M.name]);if(!e)return;let{interactionId:r}=e,n=o1e[e.name],i=On(Oi+e.startTime),o=On(t.value),s=Jr(),c=s?Xr(s):void 0,d=(r!=null?M9.get(r):void 0)||c,g=d?Ft(d).description:Qt().getScopeData().transactionName,b=Wa(e.target),_=cn({[fn]:"auto.http.browser.inp",[Gs]:`ui.interaction.${n}`,[Ey]:e.duration}),T=E9({name:b,transaction:g,attributes:_,startTime:i});T&&(T.addEvent("inp",{[j0]:"millisecond",[z0]:t.value}),T.end(i+o))})}function bV(t){let e=({entries:r})=>{let n=Jr(),i=n&&Xr(n);r.forEach(o=>{if(!e1e(o)||!i)return;let s=o.interactionId;if(s!=null&&!M9.has(s)){if(yV.length>10){let c=yV.shift();M9.delete(c)}yV.push(s),M9.set(s,i)}})};Bd("event",e),Bd("first-input",e)}function s1e(t,e=mV("fetch")){let r=0,n=0;function i(o){let s=o.body.length;r+=s,n++;let c={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return I9("fetch"),K0("No fetch implementation available");try{return e(t.url,c).then(l=>(r-=s,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return I9("fetch"),r-=s,n--,K0(l)}}return s9(t,i)}h();p();var Sit=30;var Eit=50;function vV(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?tl:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var _it=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ait=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Tit=/\((\S*)(?::(\d+))(?::(\d+))\)/,Iit=t=>{let e=_it.exec(t);if(e){let[,n,i,o]=e;return vV(n,tl,+i,+o)}let r=Ait.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let s=Tit.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}let[i,o]=c1e(r[1]||tl,r[2]);return vV(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Mit=[Sit,Iit],kit=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Pit=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Rit=t=>{let e=kit.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let o=Pit.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],i=e[1]||tl;return[i,n]=c1e(i,n),vV(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Bit=[Eit,Rit];var Cit=[Mit,Bit],a1e=T7(...Cit),c1e=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:tl,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};h();p();h();p();var k9=1024,Nit="Breadcrumbs",Oit=(t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Nit,setup(r){e.console&&LK(Uit(r)),e.dom&&pV(Lit(r,e.dom)),e.xhr&&Z3(Fit(r)),e.fetch&&H3(qit(r)),e.history&&Iy(Hit(r)),e.sentry&&r.on("beforeSendEvent",Dit(r))}}},Q3=Oit;function Dit(t){return function(r){Ut()===t&&xa({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:$f(r)},{event:r})}}function Lit(t,e){return function(n){if(Ut()!==t)return;let i,o,s=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>k9&&(Ho&&ze.warn(`\`dom.maxStringLength\` cannot exceed ${k9}, but a value of ${c} was configured. Sentry will use ${k9} instead.`),c=k9),typeof s=="string"&&(s=[s]);try{let d=n.event,g=Kit(d)?d.target:d;i=Wa(g,{keyAttrs:s,maxStringLength:c}),o=k3(g)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};o&&(l.data={"ui.component_name":o}),xa(l,{event:n.event,name:n.name,global:n.global})}}function Uit(t){return function(r){if(Ut()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:UK(r.level),message:R7(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${R7(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;xa(n,{input:r.args,level:r.level})}}function Fit(t){return function(r){if(Ut()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,o=r.xhr[Cd];if(!n||!i||!o)return;let{method:s,url:c,status_code:l,body:d}=o,g={method:s,url:c,status_code:l},b={xhr:r.xhr,input:d,startTimestamp:n,endTimestamp:i},_=d9(l);xa({category:"xhr",data:g,type:"http",level:_},b)}}function qit(t){return function(r){if(Ut()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let o=r.fetchData,s={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};xa({category:"fetch",data:o,level:"error",type:"http"},s)}else{let o=r.response,s={...r.fetchData,status_code:o&&o.status},c={input:r.args,response:o,startTimestamp:n,endTimestamp:i},l=d9(s.status_code);xa({category:"fetch",data:s,type:"http",level:l},c)}}}function Hit(t){return function(r){if(Ut()!==t)return;let n=r.from,i=r.to,o=Xc(Bt.location.href),s=n?Xc(n):void 0,c=Xc(i);(!s||!s.path)&&(s=o),o.protocol===c.protocol&&o.host===c.host&&(i=c.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),xa({category:"navigation",data:{from:n,to:i}})}}function Kit(t){return!!t&&!!t.target}h();p();var Vit=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],jit="BrowserApiErrors",zit=(t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:jit,setupOnce(){e.setTimeout&&$i(Bt,"setTimeout",f1e),e.setInterval&&$i(Bt,"setInterval",f1e),e.requestAnimationFrame&&$i(Bt,"requestAnimationFrame",Git),e.XMLHttpRequest&&"XMLHttpRequest"in Bt&&$i(XMLHttpRequest.prototype,"send",Wit);let r=e.eventTarget;r&&(Array.isArray(r)?r:Vit).forEach($it)}}},u1e=zit;function f1e(t){return function(...e){let r=e[0];return e[0]=Ty(r,{mechanism:{data:{function:ya(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Git(t){return function(e){return t.apply(this,[Ty(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ya(t)},handled:!1,type:"instrument"}})])}}function Wit(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&$i(r,i,function(o){let s={mechanism:{data:{function:i,handler:ya(o)},handled:!1,type:"instrument"}},c=wy(o);return c&&(s.mechanism.data.handler=ya(c)),Ty(o,s)})}),t.apply(this,e)}}function $it(t){let r=Bt[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||($i(n,"addEventListener",function(i){return function(o,s,c){try{Yit(s)&&(s.handleEvent=Ty(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ya(s),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,Ty(s,{mechanism:{data:{function:"addEventListener",handler:ya(s),target:t},handled:!1,type:"instrument"}}),c])}}),$i(n,"removeEventListener",function(i){return function(o,s,c){try{let l=s.__sentry_wrapped__;l&&i.call(this,o,l,c)}catch{}return i.call(this,o,s,c)}}))}function Yit(t){return typeof t.handleEvent=="function"}h();p();var l1e=()=>({name:"BrowserSession",setupOnce(){if(typeof Bt.document>"u"){Ho&&ze.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}D3({ignoreDuration:!0}),L3(),Iy(({from:t,to:e})=>{t!==void 0&&t!==e&&(D3({ignoreDuration:!0}),L3())})}});h();p();var Zit="GlobalHandlers",Qit=(t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:Zit,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(Xit(r),d1e("onerror")),e.onunhandledrejection&&(Jit(r),d1e("onunhandledrejection"))}}},h1e=Qit;function Xit(t){A3(e=>{let{stackParser:r,attachStacktrace:n}=p1e();if(Ut()!==t||WK())return;let{msg:i,url:o,line:s,column:c,error:l}=e,d=rot(y9(r,l||i,void 0,n,!1),o,s,c);d.level="error",O3(d,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function Jit(t){T3(e=>{let{stackParser:r,attachStacktrace:n}=p1e();if(Ut()!==t||WK())return;let i=eot(e),o=vy(i)?tot(i):y9(r,i,void 0,n,!0);o.level="error",O3(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function eot(t){if(vy(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function tot(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function rot(t,e,r,n){let i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},c=s.stacktrace=s.stacktrace||{},l=c.frames=c.frames||[],d=n,g=r,b=zs(e)&&e.length>0?e:eK();return l.length===0&&l.push({colno:d,filename:b,function:tl,in_app:!0,lineno:g}),t}function d1e(t){Ho&&ze.log(`Global Handler attached: ${t}`)}function p1e(){let t=Ut();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}h();p();var m1e=()=>({name:"HttpContext",preprocessEvent(t){if(!Bt.navigator&&!Bt.location&&!Bt.document)return;let e=t.request&&t.request.url||Bt.location&&Bt.location.href,{referrer:r}=Bt.document||{},{userAgent:n}=Bt.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...t.request,...e&&{url:e},headers:i};t.request=o}});h();p();var not="cause",iot=5,oot="LinkedErrors",sot=(t={})=>{let e=t.limit||iot,r=t.key||not;return{name:oot,preprocessEvent(n,i,o){let s=o.getOptions();DK(m9,s.stackParser,s.maxValueLength,r,e,n,i)}}},y1e=sot;function g1e(t){let e=[f9(),a9(),u1e(),Q3(),h1e(),y1e(),u9(),m1e()];return t.autoSessionTracking!==!1&&e.push(l1e()),e}function aot(t={}){let e={defaultIntegrations:g1e(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Bt.SENTRY_RELEASE&&Bt.SENTRY_RELEASE.id?Bt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}function cot(){let t=typeof Bt.window<"u"&&Bt;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=Bt.location&&Bt.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],s=!!n&&Bt===Bt.top&&o.some(l=>i.startsWith(`${l}//`)),c=typeof t.nw<"u";return!!n&&!s&&!c}function xV(t={}){let e=aot(t);if(!e.skipBrowserExtensionCheck&&cot()){ma(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Ho&&(h9()||ze.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:WH(e.stackParser||a1e),integrations:PK(e),transport:e.transport||s1e};return CK(g9,r)}h();p();var b1e=new WeakMap,wV=new Map,X3={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function x1e(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:c}={traceFetch:X3.traceFetch,traceXHR:X3.traceXHR,trackFetchStreamPerformance:X3.trackFetchStreamPerformance,...e},l=typeof o=="function"?o:b=>!0,d=b=>lot(b,c),g={};r&&(t.addEventProcessor(b=>(b.type==="transaction"&&b.spans&&b.spans.forEach(_=>{if(_.op==="http.client"){let T=wV.get(_.span_id);T&&(_.timestamp=T/1e3,wV.delete(_.span_id))}}),b)),i&&VK(b=>{if(b.response){let _=b1e.get(b.response);_&&b.endTimestamp&&wV.set(_,b.endTimestamp)}}),H3(b=>{let _=FK(b,l,d,g);if(b.response&&b.fetchData.__span&&b1e.set(b.response,b.fetchData.__span),_){let T=w1e(b.fetchData.url),M=T?Xc(T).host:void 0;_.setAttributes({"http.url":T,"server.address":M})}s&&_&&v1e(_)})),n&&Z3(b=>{let _=dot(b,l,d,g);s&&_&&v1e(_)})}function fot(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function v1e(t){let{url:e}=Ft(t).data||{};if(!e||typeof e!="string")return;let r=Bd("resource",({entries:n})=>{n.forEach(i=>{fot(i)&&i.name.endsWith(e)&&(uot(i).forEach(s=>t.setAttribute(...s)),setTimeout(r))})})}function ll(t=0){return((Oi||performance.timeOrigin)+t)/1e3}function uot(t){let{name:e,version:r}=$3(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),Oi?[...n,["http.request.redirect_start",ll(t.redirectStart)],["http.request.fetch_start",ll(t.fetchStart)],["http.request.domain_lookup_start",ll(t.domainLookupStart)],["http.request.domain_lookup_end",ll(t.domainLookupEnd)],["http.request.connect_start",ll(t.connectStart)],["http.request.secure_connection_start",ll(t.secureConnectionStart)],["http.request.connection_end",ll(t.connectEnd)],["http.request.request_start",ll(t.requestStart)],["http.request.response_start",ll(t.responseStart)],["http.request.response_end",ll(t.responseEnd)]]:n}function lot(t,e){let r=Bt.location&&Bt.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let o=n.origin===i;return e?nl(n.toString(),e)||o&&nl(n.pathname,e):o}else{let n=!!t.match(/^\/(?!\/)/);return e?nl(t,e):n}}function dot(t,e,r,n){let i=t.xhr,o=i&&i[Cd];if(!i||i.__sentry_own_request__||!o)return;let s=Ws()&&e(o.url);if(t.endTimestamp&&s){let b=i.__sentry_xhr_span_id__;if(!b)return;let _=n[b];_&&o.status_code!==void 0&&(lv(_,o.status_code),_.end(),delete n[b]);return}let c=w1e(o.url),l=c?Xc(c).host:void 0,d=!!Jr(),g=s&&d?Za({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":c,url:o.url,"server.address":l,[fn]:"auto.http.browser",[Gs]:"http.client"}}):new va;return i.__sentry_xhr_span_id__=g.spanContext().spanId,n[i.__sentry_xhr_span_id__]=g,r(o.url)&&hot(i,Ws()&&d?g:void 0),g}function hot(t,e){let{"sentry-trace":r,baggage:n}=F3({span:e});r&&pot(t,r,n)}function pot(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}function w1e(t){try{return new URL(t,Bt.location.origin).href}catch{return}}h();p();h();p();function S1e(){Bt&&Bt.document?Bt.document.addEventListener("visibilitychange",()=>{let t=Jr();if(!t)return;let e=Xr(t);if(Bt.document.hidden&&e){let r="cancelled",{op:n,status:i}=Ft(e);Ho&&ze.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Ho&&ze.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var mot="BrowserTracing",yot={...mv,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...X3},SV=(t={})=>{j7();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:s,idleTimeout:c,finalTimeout:l,childSpanTimeout:d,markBackgroundSpan:g,traceFetch:b,traceXHR:_,trackFetchStreamPerformance:T,shouldCreateSpanForRequest:M,enableHTTPTimings:k,instrumentPageLoad:B,instrumentNavigation:P}={...yot,...t},D=aV({recordClsStandaloneSpans:o||!1});e&&gV(),n&&Dt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?fV():r&&cV(),i&&uV();let R={name:void 0,source:void 0};function L(V,z){let oe=z.op==="pageload",$=s?s(z):z,ne=$.attributes||{};z.name!==$.name&&(ne[Es]="custom",$.attributes=ne),R.name=$.name,R.source=ne[Es];let S=J7($,{idleTimeout:c,finalTimeout:l,childSpanTimeout:d,disableAutoFinish:oe,beforeSpanEnd:u=>{D(),lV(u,{recordClsOnPageloadSpan:!o})}});function a(){["interactive","complete"].includes(Bt.document.readyState)&&V.emit("idleSpanEnableAutoFinish",S)}return oe&&Bt.document&&(Bt.document.addEventListener("readystatechange",()=>{a()}),a()),S}return{name:mot,afterAllSetup(V){let z,oe=Bt.location&&Bt.location.href;function $(){z&&!Ft(z).timestamp&&(Ho&&ze.log(`[Tracing] Finishing current active span with op: ${Ft(z).op}`),z.end())}V.on("startNavigationSpan",ne=>{Ut()===V&&($(),z=L(V,{op:"navigation",...ne}))}),V.on("startPageLoadSpan",(ne,S={})=>{if(Ut()!==V)return;$();let a=S.sentryTrace||E1e("sentry-trace"),u=S.baggage||E1e("baggage"),m=lK(a,u);Qt().setPropagationContext(m),z=L(V,{op:"pageload",...ne})}),V.on("spanEnd",ne=>{let S=Ft(ne).op;if(ne!==Xr(ne)||S!=="navigation"&&S!=="pageload")return;let a=Qt(),u=a.getPropagationContext();a.setPropagationContext({...u,sampled:u.sampled!==void 0?u.sampled:Zc(ne),dsc:u.dsc||Ya(ne)})}),Bt.location&&(B&&_1e(V,{name:Bt.location.pathname,startTime:Oi?Oi/1e3:void 0,attributes:{[Es]:"url",[fn]:"auto.pageload.browser"}}),P&&Iy(({to:ne,from:S})=>{if(S===void 0&&oe&&oe.indexOf(ne)!==-1){oe=void 0;return}S!==ne&&(oe=void 0,A1e(V,{name:Bt.location.pathname,attributes:{[Es]:"url",[fn]:"auto.navigation.browser"}}))})),g&&S1e(),i&&got(c,l,d,R),e&&bV(),x1e(V,{traceFetch:b,traceXHR:_,trackFetchStreamPerformance:T,tracePropagationTargets:V.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:M,enableHTTPTimings:k})}}};function _1e(t,e,r){t.emit("startPageLoadSpan",e,r),Qt().setTransactionName(e.name);let n=Jr();return(n&&Ft(n).op)==="pageload"?n:void 0}function A1e(t,e){Zi().setPropagationContext({traceId:ga()}),Qt().setPropagationContext({traceId:ga()}),t.emit("startNavigationSpan",e),Qt().setTransactionName(e.name);let r=Jr();return(r&&Ft(r).op)==="navigation"?r:void 0}function E1e(t){let e=tK(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function got(t,e,r,n){let i,o=()=>{let s="ui.action.click",c=Jr(),l=c&&Xr(c);if(l){let d=Ft(l).op;if(["navigation","pageload"].includes(d)){Ho&&ze.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(uv,"interactionInterrupted"),i.end(),i=void 0),!n.name){Ho&&ze.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}i=J7({name:n.name,op:s,attributes:{[Es]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})};Bt.document&&addEventListener("click",o,{once:!1,capture:!0})}h();p();var T1e=Ge(Ui(),1);function J3(t){let e={...t};return Ay(e,"react"),i9("react",{version:T1e.version}),xV(e)}h();p();var EV={op:"function"};var vot=["The server encountered a temporary error","premature close","The browser is shutting down."],xot=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],wot=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],I1e=!1,M1e={init:async(t,{appVersion:e,sentry:r})=>{r.enabled&&J3({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:n=>{let i=n.transactionContext.name;return xot.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},beforeSend:async(n,i)=>{let o=i?.originalException;for(let s of vot)if(o instanceof Error&&o.message===s||typeof o=="string"&&o===s)return null;if(o&&!I1e){let c=`${new Date().toISOString()}-logs.txt`,l=await my.getRecentLogs();i.attachments=[{filename:c,data:l}],I1e=!0}return n},dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:(n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,integrations:function(n){return n.filter(function(o){return!wot.includes(o.name)}).concat([Q3({dom:!1,history:!1,console:!1}),SV({traceFetch:!1,traceXHR:!1,enableInp:!0})])}})},captureError:(t,e)=>{$0(t,{tags:{feature:e,team:Td(e)}})},captureMessage:(t,e,r="info")=>{yv(t,{tags:{feature:e,team:Td(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{xa({category:t,message:e,level:r,data:n})},setUser:async t=>{bv(t)},setTags:async t=>{gv(t)},startSpan:(t,e)=>{let r=X7({...EV,name:t},e);return Promise.resolve(r)},startInactiveSpan:t=>{let e=Za({...EV,name:t});return e?Promise.resolve(e):void 0},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{}};h();p();h();p();h();p();function k1e(){return Zs()}var Sot=le.enum(["disabled","console","standard","debug"]);function P1e(){let t=I.TELEMETRY_ENV,e=Sot.optional().parse(I.TELEMETRY_MODE),r=k1e(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}h();p();var L1e=Ge(D1e()),U1e=Ge(mEe());var P9="[Telemetry Development Log]",R9={debug:console.log,info:console.warn,error:console.error,fatal:console.error};function Pot(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}function Rot(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,U1e.default)(n)||(0,L1e.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:Pot(n)&&(e[r]=n.toString())),e),{})}function wv(t,e,{featureTag:r,value:n,severity:i,data:o}){let s={value:n,data:o};for(let c of t){let l=c[e];if(l){let d=l(s.value,{featureTag:r,severity:i,data:s.data});s.value=d.value,d.data&&(s.data=d.data)}}return s}function B9(t,e){let r,n=E3;async function i(B){if(!r){if(r=P1e(),n=r.isSubmitEnabled?t.provider:E3,Zs()){let P=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${P}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,B)}}function o(){return r}function s(B,P){if(r)try{let D=wv(e,"beforeEvent",{value:B,featureTag:P,severity:"error"});r.shouldLogToConsole&&R9.error(P9,D.value,D.data),D.value instanceof Error?n.captureError(D.value,P):n.captureError(new Error(D.value),P),wv(e,"afterEvent",{value:D.value,featureTag:P,severity:"error"})}catch(D){Zs()&&console.warn(D)}}function c(B,P,D="info"){if(r)try{let R=wv(e,"beforeEvent",{value:B,featureTag:P,severity:D});r.shouldLogToConsole&&R9[D](P9,R.value),n.captureMessage(R.value instanceof Error?R.value.message:R.value,P,D),wv(e,"afterEvent",{value:R.value,featureTag:P,severity:D})}catch(R){Zs()&&console.warn(R)}}function l(B,P,D,R){if(r)try{let L=wv(e,"beforeEvent",{featureTag:B,value:P,severity:D,data:R});r.shouldLogToConsole&&R9[D](...[P9,L.value,L.data].filter(Boolean)),n.addBreadcrumb(B,L.value instanceof Error?L.value.message:L.value,D,L.data),wv(e,"afterEvent",{featureTag:B,value:L.value,severity:D,data:L.data})}catch(L){Zs()&&console.warn(L)}}async function d(B){r&&await n.setUser(B)}async function g(B){r&&await n.setTags(B)}function b(B,P){return r?n.startSpan(B,P):Promise.resolve(P())}function _(B,P){return r?()=>n.startSpan(B,P):()=>Promise.resolve(P())}function T(B){if(r)return n.startInactiveSpan(B)}async function M(B,P,D){r&&await t.provider.captureMetric(B,P,D)}function k(B,P){r&&n.trackFeatureFlag(B,P)}return{init:i,getConfig:o,captureError:s,captureMessage:c,addBreadcrumb:l,setUser:d,setTags:g,startSpan:b,startSpanCallback:_,startInactiveSpan:T,captureMetric:M,trackFeatureFlag:k}}var Bot=[Qb,E7],Cot=w7(my),Not=[...Bot,Cot],en=B9({provider:_7(M1e,x7)},Not);h();p();h();p();h();p();h();p();function F1e(t){let e={...t,environment:t.environment||I.NODE_ENV};return Ay(e,"remix",["remix","react"]),J3(e)}var q1e={init:async(t,{sentry:e})=>{e.enabled&&F1e({dsn:e.dsn,sampleRate:t.mode==="debug"?1:e.sampleRate,tracesSampleRate:t.mode==="debug"?1:e.tracesSampleRate,profilesSampleRate:t.mode==="debug"?1:e.profilesSampleRate,environment:t.env,initialScope:e.initialScope,integrations:[]})},captureError:(t,e)=>{$0(t,{tags:{feature:e,team:Td(e)}})},captureMessage:(t,e,r="info")=>{yv(t,{tags:{feature:e,team:Td(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{xa({category:t,message:e,level:r,data:n})},setUser:async t=>{bv(t)},setTags:async t=>{gv(t)},startSpan:(t,e)=>{throw new Error("Not implemented")},startInactiveSpan:t=>{throw new Error("Not implemented")},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{}};var Dot=[Qb,E7],Lot=w7(my),Uot=[...Dot,Lot],Fot=B9({provider:_7(q1e,x7)},Uot);h();p();h();p();function H1e(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}h();p();var qot="Logger not initialized",Hot="Method not supported on this platform",K1e=["publicKey"];var O9=t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let o=V1e(e);switch(o){case"Object":return Kot(t);case"Array":return Vot(t);case"function":return jot(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return o;default:return"?"}},Kot=t=>{let{obj:e,indent:r,...n}=t,i="{",o=t.depth;if(_V(e)>0){i+=`
`,o++;let s=0;for(let c in e){i+=N9(o,r),i+=c+": ";let l=O9({...n,obj:e[c],depth:o,indent:r});l&&(i+=l),s<_V(e)-1&&(i+=","),i+=`
`,s++}o--,i+=N9(o,r)}return i+="}",i},Vot=t=>{let{obj:e,indent:r,...n}=t,i="[",o=t.depth,s=!1;if(e.length>0){o++;for(let c=0;c<e.length;c++){let l=V1e(e[c]),d=!1;l==="Object"&&_V(e[c])>0&&(d=!0),l==="Array"&&e[c].length>0&&(d=!0),!s&&d&&(i+=`
`);let g=O9({...n,obj:e[c],depth:o,indent:r});g&&(d&&(i+=N9(o,r)),i+=g,c<e.length-1&&(i+=", "),d&&(i+=`
`)),s=d}o--}return i+="]",i},jot=t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(o=>{o.match(/\}/)&&i--;let s=N9(i,n)+o.trim();return o.match(/\{/)&&i++,s}).join(`
`)},V1e=t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},N9=(t,e)=>e.repeat(Math.max(t,0)),_V=t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},zot=`======================================================
Application State
======================================================

`,Got=`======================================================
Network Logs
======================================================

`,Wot=`======================================================
Application Logs
======================================================

`,C9=`------------------------------------------------
`,$ot=["authorization","x-phantomauthtoken","x-phantomnonce"],Yot=(t,e=[])=>{let r=zot;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${C9}`,r+=`${n}
${C9}
`,r+=O9({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=Got;for(let n of e){if(n.requestHeaders)for(let i of $ot)delete n.requestHeaders[i.toLowerCase()];r+=`${C9}`,r+=`${n.id}
${C9}
`,r+=H1e(n),r+=`

`}}return r+=Wot,r},Zot=t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),Qot=t=>t?JSON.parse(JSON.stringify(t,(e,r)=>K1e.includes(e)?void 0:r)):null;h();p();var Xot=le.object({maxRequests:le.number(),ignoredUrls:le.array(le.string()),ignoredHosts:le.array(le.string())});h();p();var D9=Zm(null);function AV(){let t=R0(D9);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}h();p();h();p();var j1e=Zm(null);function TV(){let t=R0(j1e),e=R0(D9);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}h();p();var Jot={recipientError:void 0,amountError:void 0};h();p();h();p();h();p();h();p();var z1e="REACT_QUERY_OFFLINE_CACHE";function eE(t,e,...r){t&&console.log(e,...r)}var est=({underlyingStorage:t,throttleMs:e,cacheKey:r=z1e,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let o=null,s=async()=>{if(o)try{let c=JSON.stringify(o),l=c.length;l<n?await t.set(r,c):(await t.remove(r),eE(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),o=null}catch{}};return setInterval(()=>{s()},e),{persistClient:c=>{o=c},restoreClient:async()=>{try{let c=await t.get(r);if(!c){eE(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(c),d=c.length;return eE(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",d,"bytes"),l}catch{eE(i,"[React Query Offline Cache] Error restoring offline cache.");return}},removeClient:()=>(eE(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r))}};h();p();h();p();h();p();h();p();var Ea=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};h();p();h();p();var tst={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},rst=class{#t=tst;#e=!1;setTimeoutProvider(t){I.NODE_ENV!=="production"&&this.#e&&t!==this.#t&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:this.#t,provider:t}),this.#t=t,I.NODE_ENV!=="production"&&(this.#e=!1)}setTimeout(t,e){return I.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return I.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},dl=new rst;function G1e(t){setTimeout(t,0)}var _a=typeof self>"u"||"Deno"in globalThis;function dn(){}function Y1e(t,e){return typeof t=="function"?t(e):t}function tE(t){return typeof t=="number"&&t>=0&&t!==1/0}function L9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xf(t,e){return typeof t=="function"?t(e):t}function Aa(t,e){return typeof t=="function"?t(e):t}function U9(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:c}=t;if(s){if(n){if(e.queryHash!==rE(s,e.options))return!1}else if(!My(e.queryKey,s))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function F9(t,e){let{exact:r,status:n,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(hl(e.options.mutationKey)!==hl(o))return!1}else if(!My(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function rE(t,e){return(e?.queryKeyHashFn||hl)(t)}function hl(t){return JSON.stringify(t,(e,r)=>IV(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function My(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>My(t[r],e[r])):!1}var nst=Object.prototype.hasOwnProperty;function Sv(t,e){if(t===e)return t;let r=W1e(t)&&W1e(e);if(!r&&!(IV(t)&&IV(e)))return e;let i=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),s=o.length,c=r?new Array(s):{},l=0;for(let d=0;d<s;d++){let g=r?d:o[d],b=t[g],_=e[g];if(b===_){c[g]=b,(r?d<i:nst.call(t,g))&&l++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){c[g]=_;continue}let T=Sv(b,_);c[g]=T,T===b&&l++}return i===s&&l===i?t:c}function X0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function W1e(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function IV(t){if(!$1e(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!$1e(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $1e(t){return Object.prototype.toString.call(t)==="[object Object]"}function Z1e(t){return new Promise(e=>{dl.setTimeout(e,t)})}function nE(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(I.NODE_ENV!=="production")try{return Sv(t,e)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return Sv(t,e)}return e}function Q1e(t){return t}function X1e(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}function J1e(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Q0=Symbol();function q9(t,e){return I.NODE_ENV!=="production"&&t.queryFn===Q0&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Q0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function iE(t,e){return typeof t=="function"?t(...e):!!t}var ist=class extends Ea{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!_a&&self.addEventListener){let e=()=>t();return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ev=new ist;h();p();h();p();function oE(){let t,e,r=new Promise((i,o)=>{t=i,e=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function ebe(t){let e;if(t.then(r=>(e=r,r),dn)?.catch(dn),e!==void 0)return{data:e}}function tbe(t){return t}function ost(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function sst(t,e,r){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>r(n)?(I.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${n}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))):Promise.reject(n))},...t.meta&&{meta:t.meta}}}function rbe(t){return t.state.isPaused}function nbe(t){return t.state.status==="success"}function ast(t){return!0}function H9(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??rbe,n=t.getMutationCache().getAll().flatMap(l=>r(l)?[ost(l)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??nbe,o=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??ast,s=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??tbe,c=t.getQueryCache().getAll().flatMap(l=>i(l)?[sst(l,s,o)]:[]);return{mutations:n,queries:c}}function MV(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),o=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??tbe,s=e.mutations||[],c=e.queries||[];s.forEach(({state:l,...d})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...d},l)}),c.forEach(({queryKey:l,state:d,queryHash:g,meta:b,promise:_,dehydratedAt:T})=>{let M=_?ebe(_):void 0,k=d.data===void 0?M?.data:d.data,B=k===void 0?k:o(k),P=i.get(g),D=P?.state.status==="pending",R=P?.state.fetchStatus==="fetching";if(P){let L=M&&T!==void 0&&T>P.state.dataUpdatedAt;if(d.dataUpdatedAt>P.state.dataUpdatedAt||L){let{fetchStatus:V,...z}=d;P.setState({...z,data:B})}}else P=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:g,meta:b},{...d,data:B,fetchStatus:"idle",status:B!==void 0?"success":d.status});_&&!D&&!R&&(T===void 0||T>P.state.dataUpdatedAt)&&P.fetch(void 0,{initialPromise:Promise.resolve(_).then(o)})})}h();p();h();p();h();p();var ibe=G1e;function cst(){let t=[],e=0,r=c=>{c()},n=c=>{c()},i=ibe,o=c=>{e?t.push(c):i(()=>{r(c)})},s=()=>{let c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||s()}return l},batchCalls:c=>(...l)=>{o(()=>{c(...l)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var _r=cst();h();p();h();p();h();p();var fst=class extends Ea{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!_a&&self.addEventListener){let e=()=>t(!0),r=()=>t(!1);return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},_v=new fst;function ust(t){return Math.min(1e3*2**t,3e4)}function kV(t){return(t??"online")==="online"?_v.isOnline():!0}var K9=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function V9(t){let e=!1,r=0,n,i=oE(),o=()=>i.status!=="pending",s=k=>{if(!o()){let B=new K9(k);_(B),t.onCancel?.(B)}},c=()=>{e=!0},l=()=>{e=!1},d=()=>Ev.isFocused()&&(t.networkMode==="always"||_v.isOnline())&&t.canRun(),g=()=>kV(t.networkMode)&&t.canRun(),b=k=>{o()||(n?.(),i.resolve(k))},_=k=>{o()||(n?.(),i.reject(k))},T=()=>new Promise(k=>{n=B=>{(o()||d())&&k(B)},t.onPause?.()}).then(()=>{n=void 0,o()||t.onContinue?.()}),M=()=>{if(o())return;let k,B=r===0?t.initialPromise:void 0;try{k=B??t.fn()}catch(P){k=Promise.reject(P)}Promise.resolve(k).then(b).catch(P=>{if(o())return;let D=t.retry??(_a?0:3),R=t.retryDelay??ust,L=typeof R=="function"?R(r,P):R,V=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,P);if(e||!V){_(P);return}r++,t.onFail?.(r,P),Z1e(L).then(()=>d()?void 0:T()).then(()=>{e?_(P):M()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n?.(),i),cancelRetry:c,continueRetry:l,canStart:g,start:()=>(g()?M():T().then(M),i)}}h();p();var j9=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tE(this.gcTime)&&(this.#t=dl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_a?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(dl.clearTimeout(this.#t),this.#t=void 0)}};var sbe=class extends j9{#t;#e;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=obe(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=obe(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=nE(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Aa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Q0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!L9(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}I.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{let c=q9(this.options,e),d=(()=>{let g={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(g),g})();return this.#a=!1,this.options.persister?this.options.persister(c,d,this):c(d)},s=(()=>{let c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(c),c})();this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta}),this.#i=V9({initialPromise:e?.initialPromise,fn:s.fetchFn,onCancel:c=>{c instanceof K9&&c.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},onFail:(c,l)=>{this.#o({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{let c=await this.#i.start();if(c===void 0)throw I.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof K9){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#o({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#o(t){let e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...PV(r.data,this.options),fetchMeta:t.meta??null};case"success":let n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":let i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),_r.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function PV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function obe(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nd=class extends Ea{constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#a=oE(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#c;#d;#h;#u;#l;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),abe(this.#e,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return RV(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return RV(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(t){let e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Aa(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!X0(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let n=this.hasListeners();n&&cbe(this.#e,r,this.options,e)&&this.#p(),this.updateResult(),n&&(this.#e!==r||Aa(this.options.enabled,this.#e)!==Aa(e.enabled,this.#e)||Xf(this.options.staleTime,this.#e)!==Xf(e.staleTime,this.#e))&&this.#y();let i=this.#g();n&&(this.#e!==r||Aa(this.options.enabled,this.#e)!==Aa(e.enabled,this.#e)||i!==this.#f)&&this.#b(i)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return dst(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(dn)),e}#y(){this.#x();let t=Xf(this.options.staleTime,this.#e);if(_a||this.#n.isStale||!tE(t))return;let r=L9(this.#n.dataUpdatedAt,t)+1;this.#u=dl.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#f=t,!(_a||Aa(this.options.enabled,this.#e)===!1||!tE(this.#f)||this.#f===0)&&(this.#l=dl.setInterval(()=>{(this.options.refetchIntervalInBackground||Ev.isFocused())&&this.#p()},this.#f))}#v(){this.#y(),this.#b(this.#g())}#x(){this.#u&&(dl.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#l&&(dl.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){let r=this.#e,n=this.options,i=this.#n,o=this.#i,s=this.#s,l=t!==r?t.state:this.#r,{state:d}=t,g={...d},b=!1,_;if(e._optimisticResults){let $=this.hasListeners(),ne=!$&&abe(t,e),S=$&&cbe(t,r,e,n);(ne||S)&&(g={...g,...PV(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:T,errorUpdatedAt:M,status:k}=g;_=g.data;let B=!1;if(e.placeholderData!==void 0&&_===void 0&&k==="pending"){let $;i?.isPlaceholderData&&e.placeholderData===s?.placeholderData?($=i.data,B=!0):$=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,$!==void 0&&(k="success",_=nE(i?.data,$,e),b=!0)}if(e.select&&_!==void 0&&!B)if(i&&_===o?.data&&e.select===this.#c)_=this.#d;else try{this.#c=e.select,_=e.select(_),_=nE(i?.data,_,e),this.#d=_,this.#o=null}catch($){this.#o=$}this.#o&&(T=this.#o,_=this.#d,M=Date.now(),k="error");let P=g.fetchStatus==="fetching",D=k==="pending",R=k==="error",L=D&&P,V=_!==void 0,oe={status:k,fetchStatus:g.fetchStatus,isPending:D,isSuccess:k==="success",isError:R,isInitialLoading:L,isLoading:L,data:_,dataUpdatedAt:g.dataUpdatedAt,error:T,errorUpdatedAt:M,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:P,isRefetching:P&&!D,isLoadingError:R&&!V,isPaused:g.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:R&&V,isStale:BV(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Aa(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){let $=a=>{oe.status==="error"?a.reject(oe.error):oe.data!==void 0&&a.resolve(oe.data)},ne=()=>{let a=this.#a=oe.promise=oE();$(a)},S=this.#a;switch(S.status){case"pending":t.queryHash===r.queryHash&&$(S);break;case"fulfilled":(oe.status==="error"||oe.data!==S.value)&&ne();break;case"rejected":(oe.status!=="error"||oe.error!==S.reason)&&ne();break}}return oe}updateResult(){let t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),X0(e,t))return;this.#n=e;let r=()=>{if(!t)return!0;let{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;let o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(s=>{let c=s;return this.#n[c]!==t[c]&&o.has(c)})};this.#E({listeners:r()})}#S(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;let e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#E(t){_r.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function lst(t,e){return Aa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function abe(t,e){return lst(t,e)||t.state.data!==void 0&&RV(t,e,e.refetchOnMount)}function RV(t,e,r){if(Aa(e.enabled,t)!==!1&&Xf(e.staleTime,t)!=="static"){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&BV(t,e)}return!1}function cbe(t,e,r,n){return(t!==e||Aa(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&BV(t,r)}function BV(t,e){return Aa(e.enabled,t)!==!1&&t.isStaleByTime(Xf(e.staleTime,t))}function dst(t,e){return!X0(t.getCurrentResult(),e)}h();p();function Av(t){return{onFetch:(e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[],c={pages:[],pageParams:[]},l=0,d=async()=>{let g=!1,b=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=q9(e.options,e.fetchOptions),T=async(M,k,B)=>{if(g)return Promise.reject();if(k==null&&M.pages.length)return Promise.resolve(M);let D=(()=>{let z={client:e.client,queryKey:e.queryKey,pageParam:k,direction:B?"backward":"forward",meta:e.options.meta};return b(z),z})(),R=await _(D),{maxPages:L}=e.options,V=B?J1e:X1e;return{pages:V(M.pages,R,L),pageParams:V(M.pageParams,k,L)}};if(i&&o.length){let M=i==="backward",k=M?fbe:CV,B={pages:o,pageParams:s},P=k(n,B);c=await T(B,P,M)}else{let M=t??o.length;do{let k=l===0?s[0]??n.initialPageParam:CV(n,c);if(l>0&&k==null)break;c=await T(c,k),l++}while(l<M)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=d}}}function CV(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function fbe(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function ube(t,e){return e?CV(t,e)!=null:!1}function lbe(t,e){return!e||!t.getPreviousPageParam?!1:fbe(t,e)!=null}var NV=class extends Nd{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Av()})}getOptimisticResult(t){return t.behavior=Av(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:o,isError:s,isRefetchError:c}=n,l=r.fetchMeta?.fetchMore?.direction,d=s&&l==="forward",g=i&&l==="forward",b=s&&l==="backward",_=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ube(e,r.data),hasPreviousPage:lbe(e,r.data),isFetchNextPageError:d,isFetchingNextPage:g,isFetchPreviousPageError:b,isFetchingPreviousPage:_,isRefetchError:c&&!d&&!b,isRefetching:o&&!g&&!_}}};h();p();h();p();var dbe=class extends j9{#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||OV(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#n({type:"continue"})};this.#r=V9({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});let r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);let o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:n})}let i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){let e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),_r.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function OV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hbe=class extends Ea{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){let n=new dbe({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);let e=z9(t);if(typeof e=="string"){let r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){let e=z9(t);if(typeof e=="string"){let r=this.#e.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=z9(t);if(typeof e=="string"){let n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=z9(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_r.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>F9(e,r))}findAll(t={}){return this.getAll().filter(e=>F9(t,e))}notify(t){_r.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return _r.batch(()=>Promise.all(t.map(e=>e.continue().catch(dn))))}};function z9(t){return t.options.scope?.id}h();p();var DV=class extends Ea{#t;#e=void 0;#r;#n;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),X0(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&hl(e.mutationKey)!==hl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??OV();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){_r.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#e)})})}};h();p();function pbe(t,e){let r=new Set(e);return t.filter(n=>!r.has(n))}function hst(t,e,r){let n=t.slice(0);return n[e]=r,n}var LV=class extends Ea{#t;#e;#r;#n;#i;#s;#a;#o;#c=[];constructor(t,e,r){super(),this.#t=t,this.#n=r,this.#r=[],this.#i=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){if(this.#r=t,this.#n=e,I.NODE_ENV!=="production"){let r=t.map(n=>this.#t.defaultQueryOptions(n).queryHash);new Set(r).size!==r.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}_r.batch(()=>{let r=this.#i,n=this.#u(this.#r);this.#c=n,n.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));let i=n.map(l=>l.observer),o=i.map(l=>l.getCurrentResult()),s=i.some((l,d)=>l!==r[d]),c=r.length===i.length&&!s?o.some((l,d)=>{let g=this.#e[d];return!g||!X0(l,g)}):!0;!s&&!c||(s&&(this.#i=i),this.#e=o,this.hasListeners()&&(s&&(pbe(r,i).forEach(l=>{l.destroy()}),pbe(i,r).forEach(l=>{l.subscribe(d=>{this.#l(l,d)})})),this.#f()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#u(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#h(i??n,e),()=>this.#d(n,r)]}#d(t,e){return e.map((r,n)=>{let i=t[n];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,o=>{e.forEach(s=>{s.observer.trackProp(o)})})})}#h(t,e){return e?((!this.#s||this.#e!==this.#o||e!==this.#a)&&(this.#a=e,this.#o=this.#e,this.#s=Sv(this.#s,e(t))),this.#s):t}#u(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#t.defaultQueryOptions(n),o=e.get(i.queryHash);o?r.push({defaultedQueryOptions:i,observer:o}):r.push({defaultedQueryOptions:i,observer:new Nd(this.#t,i)})}),r}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#e=hst(this.#e,r,e),this.#f())}#f(){if(this.hasListeners()){let t=this.#s,e=this.#d(this.#e,this.#c),r=this.#h(e,this.#n?.combine);t!==r&&_r.batch(()=>{this.listeners.forEach(n=>{n(this.#e)})})}}};h();p();var mbe=class extends Ea{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let n=e.queryKey,i=e.queryHash??rE(n,e),o=this.get(i);return o||(o=new sbe({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_r.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>U9(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>U9(t,r)):e}notify(t){_r.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){_r.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_r.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};h();p();var ybe=class{#t;#e;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#t=t.queryCache||new mbe,this.#e=t.mutationCache||new hbe,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=Ev.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=_v.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Xf(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),o=this.#t.get(n.queryHash)?.state.data,s=Y1e(e,o);if(s!==void 0)return this.#t.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return _r.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){let e=this.#t;_r.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#t;return _r.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=_r.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(dn).catch(dn)}invalidateQueries(t,e={}){return _r.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=_r.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(dn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(dn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#t.build(this,e);return r.isStaleByTime(Xf(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=Av(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=Av(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _v.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(hl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{My(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(hl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{My(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Q0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};h();p();var pl=Ge(Ui(),1);h();p();var Tv=Ge(Ui(),1),gbe=Ge(n6(),1),UV=Tv.createContext(void 0),J0=t=>{let e=Tv.useContext(UV);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},G9=({client:t,children:e})=>(Tv.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,gbe.jsx)(UV.Provider,{value:t,children:e}));h();p();var W9=Ge(Ui(),1),bbe=W9.createContext(!1),sE=()=>W9.useContext(bbe),FV=bbe.Provider;h();p();var aE=Ge(Ui(),1),pst=Ge(n6(),1);function mst(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yst=aE.createContext(mst()),$9=()=>aE.useContext(yst);h();p();var vbe=Ge(Ui(),1);var Y9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Z9=t=>{vbe.useEffect(()=>{t.clearReset()},[t])},Q9=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||iE(r,[t.error,n]));h();p();var X9=t=>{if(t.suspense){let r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},J9=(t,e)=>t.isLoading&&t.isFetching&&!e,cE=(t,e)=>t?.suspense&&e.isPending,Iv=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function xbe({queries:t,...e},r){let n=J0(r),i=sE(),o=$9(),s=pl.useMemo(()=>t.map(k=>{let B=n.defaultQueryOptions(k);return B._optimisticResults=i?"isRestoring":"optimistic",B}),[t,n,i]);s.forEach(k=>{X9(k),Y9(k,o)}),Z9(o);let[c]=pl.useState(()=>new LV(n,s,e)),[l,d,g]=c.getOptimisticResult(s,e.combine),b=!i&&e.subscribed!==!1;pl.useSyncExternalStore(pl.useCallback(k=>b?c.subscribe(_r.batchCalls(k)):dn,[c,b]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),pl.useEffect(()=>{c.setQueries(s,e)},[s,e,c]);let T=l.some((k,B)=>cE(s[B],k))?l.flatMap((k,B)=>{let P=s[B];if(P){let D=new Nd(n,P);if(cE(P,k))return Iv(P,D,o);J9(k,i)&&Iv(P,D,o)}return[]}):[];if(T.length>0)throw Promise.all(T);let M=l.find((k,B)=>{let P=s[B];return P&&Q9({result:k,errorResetBoundary:o,throwOnError:P.throwOnError,query:n.getQueryCache().get(P.queryHash),suspense:P.suspense})});if(M?.error)throw M.error;return d(g())}h();p();h();p();var ep=Ge(Ui(),1);function eM(t,e,r){if(I.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=sE(),i=$9(),o=J0(r),s=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s),I.NODE_ENV!=="production"&&(s.queryFn||console.error(`[${s.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),s._optimisticResults=n?"isRestoring":"optimistic",X9(s),Y9(s,i),Z9(i);let c=!o.getQueryCache().get(s.queryHash),[l]=ep.useState(()=>new e(o,s)),d=l.getOptimisticResult(s),g=!n&&t.subscribed!==!1;if(ep.useSyncExternalStore(ep.useCallback(b=>{let _=g?l.subscribe(_r.batchCalls(b)):dn;return l.updateResult(),_},[l,g]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),ep.useEffect(()=>{l.setOptions(s)},[s,l]),cE(s,d))throw Iv(s,l,i);if(Q9({result:d,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw d.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,d),s.experimental_prefetchInRender&&!_a&&J9(d,n)&&(c?Iv(s,l,i):o.getQueryCache().get(s.queryHash)?.promise)?.catch(dn).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?d:l.trackResult(d)}function qV(t,e){return eM(t,Nd,e)}h();p();var Od=Ge(Ui(),1);function wbe(t,e){let r=J0(e),[n]=Od.useState(()=>new DV(r,t));Od.useEffect(()=>{n.setOptions(t)},[n,t]);let i=Od.useSyncExternalStore(Od.useCallback(s=>n.subscribe(_r.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=Od.useCallback((s,c)=>{n.mutate(s,c).catch(dn)},[n]);if(i.error&&iE(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}h();p();function Sbe(t,e){return eM(t,NV,e)}h();p();var gst=["added","removed","updated"];function Ebe(t){return gst.includes(t)}async function Abe({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let o=await e.restoreClient();if(o)if(o.timestamp){let s=Date.now()-o.timestamp>r,c=o.buster!==n;if(s||c)return e.removeClient();MV(t,o.clientState,i)}else return e.removeClient()}catch(o){throw I.NODE_ENV!=="production"&&(console.error(o),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),await e.removeClient(),o}}async function _be({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:H9(t,n)};await e.persistClient(i)}function Tbe(t){let e=t.queryClient.getQueryCache().subscribe(n=>{Ebe(n.type)&&_be(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{Ebe(n.type)&&_be(t)});return()=>{e(),r()}}h();p();var tp=Ge(Ui(),1);var HV=Ge(n6(),1),bst=({children:t,persistOptions:e,onSuccess:r,onError:n,...i})=>{let[o,s]=tp.useState(!0),c=tp.useRef({persistOptions:e,onSuccess:r,onError:n}),l=tp.useRef(!1);return tp.useEffect(()=>{c.current={persistOptions:e,onSuccess:r,onError:n}}),tp.useEffect(()=>{let d={...c.current.persistOptions,queryClient:i.client};return l.current||(l.current=!0,Abe(d).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{s(!1)})),o?void 0:Tbe(d)},[i.client,o]),(0,HV.jsx)(G9,{...i,children:(0,HV.jsx)(FV,{value:o,children:t})})};h();p();h();p();var tM=Ge(Ui()),vst=tM.default.createContext(!1);function Ibe(){return(0,tM.useContext)(vst)}var Mbe=Ge(Ui());function KV(t,e){let r=Ibe(),n=(0,Mbe.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,o=t?.enabled===!1;if(i&&!o)return{...t,refetchInterval:!1}}return t},[r,t]);return qV(n,e)}h();p();var VV="__STORAGE_RESET_KEY__",kbe=["authEnabled","balanceHiddenStatus","buyFormValues","customGasControls","dAppBrowserBookmarks","deviceId","latestCleanedStorageVersion","lockTimerMs","maxWalletIndex","onboardingDone","ownerToHiddenMints","pendingTransactions","priceMap","userExplorerPreferenceV2","userRecentAddresses","userSavedAddresses","userTrustedApps","userWhitelistedSubdomains","userWhitelistedOrigins"];var wst="Error processing storage data",Sst="Error getting storage data",Est=["export-storage"],_st=(t,e)=>{let r=[...kbe,...e];return KV({queryKey:Est,queryFn:()=>Ast(t,r),gcTime:0,staleTime:0})},Ast=async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let o=await i.getAll();r[n]=Tst(o,e)}return r}catch(r){throw new Error(`${Sst}: ${JSON.stringify(r)}`)}},Tst=(t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${wst}: ${JSON.stringify(r)}`)}};h();p();var Mv=class{constructor(e){this.storage=e;e.subscribe(r=>{r===VV?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}notifierCache=new Map;getNotifier(e){let r=this.notifierCache.get(e);return r||(r=Qm(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},Pbe=new WeakMap,fE=()=>{let t=AV(),e=Pbe.get(t);return e===void 0&&(e=new Mv(t),Pbe.set(t,e)),e},Ist=Lo(t=>fE().get(t)),Mst=Lo(t=>VS(async e=>fE().set(t,e)));h();p();var rM=Ge(Ui()),M_r=(0,rM.createContext)(void 0);h();p();h();p();h();p();h();p();h();p();var ZV=Ge(au()),Nbe=Ge(nd());h();p();h();p();h();p();var kst=(t,e,r)=>t&e^~t&r,Pst=(t,e,r)=>t&e^t&r^e&r,Rst=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),np=new Uint32Array(64),nM=class extends N1{constructor(){super(64,32,8,!1),this.A=rp[0]|0,this.B=rp[1]|0,this.C=rp[2]|0,this.D=rp[3]|0,this.E=rp[4]|0,this.F=rp[5]|0,this.G=rp[6]|0,this.H=rp[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)np[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let _=np[b-15],T=np[b-2],M=Tf(_,7)^Tf(_,18)^_>>>3,k=Tf(T,17)^Tf(T,19)^T>>>10;np[b]=k+np[b-7]+M+np[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:d,H:g}=this;for(let b=0;b<64;b++){let _=Tf(c,6)^Tf(c,11)^Tf(c,25),T=g+_+kst(c,l,d)+Rst[b]+np[b]|0,k=(Tf(n,2)^Tf(n,13)^Tf(n,22))+Pst(n,i,o)|0;g=d,d=l,l=c,c=s+T|0,s=o,o=i,i=n,n=T+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,g=g+this.H|0,this.set(n,i,o,s,c,l,d,g)}roundClean(){np.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},jV=class extends nM{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},zV=Ru(()=>new nM),N_r=Ru(()=>new jV);h();p();function Bst(t,e,r,n){sn.hash(t);let i=nA({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(sn.number(o),sn.number(s),sn.number(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=If(e),d=If(r),g=new Uint8Array(s),b=Wl.create(t,l),_=b._cloneInto().update(d);return{c:o,dkLen:s,asyncTick:c,DK:g,PRF:b,PRFSalt:_}}function Cst(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function GV(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=Bst(t,e,r,n),d,g=new Uint8Array(4),b=C1(g),_=new Uint8Array(c.outputLen);for(let T=1,M=0;M<o;T++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,T,!1),(d=l._cloneInto(d)).update(g).digestInto(_),k.set(_.subarray(0,k.length));for(let B=1;B<i;B++){c._cloneInto(d).update(_).digestInto(_);for(let P=0;P<k.length;P++)k[P]^=_[P]}}return Cst(c,l,s,d,_)}var Hr=(t,e)=>t<<e|t>>>32-e;function Rbe(t,e,r,n,i,o){let s=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],d=t[e++]^r[n++],g=t[e++]^r[n++],b=t[e++]^r[n++],_=t[e++]^r[n++],T=t[e++]^r[n++],M=t[e++]^r[n++],k=t[e++]^r[n++],B=t[e++]^r[n++],P=t[e++]^r[n++],D=t[e++]^r[n++],R=t[e++]^r[n++],L=t[e++]^r[n++],V=t[e++]^r[n++],z=s,oe=c,$=l,ne=d,S=g,a=b,u=_,m=T,y=M,w=k,E=B,A=P,x=D,f=R,v=L,q=V;for(let U=0;U<8;U+=2)S^=Hr(z+x|0,7),y^=Hr(S+z|0,9),x^=Hr(y+S|0,13),z^=Hr(x+y|0,18),w^=Hr(a+oe|0,7),f^=Hr(w+a|0,9),oe^=Hr(f+w|0,13),a^=Hr(oe+f|0,18),v^=Hr(E+u|0,7),$^=Hr(v+E|0,9),u^=Hr($+v|0,13),E^=Hr(u+$|0,18),ne^=Hr(q+A|0,7),m^=Hr(ne+q|0,9),A^=Hr(m+ne|0,13),q^=Hr(A+m|0,18),oe^=Hr(z+ne|0,7),$^=Hr(oe+z|0,9),ne^=Hr($+oe|0,13),z^=Hr(ne+$|0,18),u^=Hr(a+S|0,7),m^=Hr(u+a|0,9),S^=Hr(m+u|0,13),a^=Hr(S+m|0,18),A^=Hr(E+w|0,7),y^=Hr(A+E|0,9),w^=Hr(y+A|0,13),E^=Hr(w+y|0,18),x^=Hr(q+v|0,7),f^=Hr(x+q|0,9),v^=Hr(f+x|0,13),q^=Hr(v+f|0,18);i[o++]=s+z|0,i[o++]=c+oe|0,i[o++]=l+$|0,i[o++]=d+ne|0,i[o++]=g+S|0,i[o++]=b+a|0,i[o++]=_+u|0,i[o++]=T+m|0,i[o++]=M+y|0,i[o++]=k+w|0,i[o++]=B+E|0,i[o++]=P+A|0,i[o++]=D+x|0,i[o++]=R+f|0,i[o++]=L+v|0,i[o++]=V+q|0}function WV(t,e,r,n,i){let o=n+0,s=n+16*i;for(let c=0;c<16;c++)r[s+c]=t[e+(2*i-1)*16+c];for(let c=0;c<i;c++,o+=16,e+=16)Rbe(r,s,t,e,r,o),c>0&&(s+=16),Rbe(r,o,t,e+=16,r,s)}function Nst(t,e,r){let n=nA({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:o,p:s,dkLen:c,asyncTick:l,maxmem:d,onProgress:g}=n;if(sn.number(i),sn.number(o),sn.number(s),sn.number(c),sn.number(l),sn.number(d),g!==void 0&&typeof g!="function")throw new Error("progressCb should be function");let b=128*o,_=b/4;if(i<=1||i&i-1||i>=2**(b/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let T=b*(i+s);if(T>d)throw new Error(`Scrypt: parameters too large, ${T} (128 * r * (N + p)) > ${d} (maxmem)`);let M=GV(zV,t,e,{c:1,dkLen:b*s}),k=B1(M),B=B1(new Uint8Array(b*i)),P=B1(new Uint8Array(b)),D=()=>{};if(g){let R=2*i*s,L=Math.max(Math.floor(R/1e4),1),V=0;D=()=>{V++,g&&(!(V%L)||V===R)&&g(V/R)}}return{N:i,r:o,p:s,dkLen:c,blockSize32:_,V:B,B32:k,B:M,tmp:P,blockMixCb:D,asyncTick:l}}function Ost(t,e,r,n,i){let o=GV(zV,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),o}async function Bbe(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:c,V:l,B32:d,B:g,tmp:b,blockMixCb:_,asyncTick:T}=Nst(t,e,r);for(let M=0;M<o;M++){let k=c*M;for(let P=0;P<c;P++)l[P]=d[k+P];let B=0;await rA(n-1,T,P=>{WV(l,B,l,B+=c,i),_()}),WV(l,(n-1)*c,d,k,i),_(),await rA(n,T,P=>{let D=d[k+c-16]%n;for(let R=0;R<c;R++)b[R]=d[k+R]^l[D*c+R];WV(b,0,d,k,i),_()})}return Ost(t,s,g,l,b)}var $V=Ge(au()),Cbe=Ge(s_()),YV=Ge(nd()),iM=async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await Bbe(t,$V.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:YV.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,Cbe.pbkdf2)(t,$V.default.decode(e.salt),e.iterations,YV.secretbox.keyLength,e.digest,(i,o)=>i?n(i):r(o)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)};var QV=async(t,e)=>{let r=Nbe.secretbox.open(ZV.default.decode(t.encrypted),ZV.default.decode(t.nonce),await iM(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r};async function kv(t,e){try{return await QV(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await QV(t,n);return i&&en.addBreadcrumb("storage","DecryptEncryptedText: Legacy decryption successful \u2705","info"),i}}h();p();var uE=Ge(au()),Pv=Ge(nd());var Rv=async(t,e)=>{let r={kdf:"scrypt",salt:uE.default.encode((0,Pv.randomBytes)(16)),nonce:uE.default.encode((0,Pv.randomBytes)(Pv.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await iM(e,r),i=(0,Pv.secretbox)(t,uE.default.decode(r.nonce),n);return{...r,encrypted:uE.default.encode(i)}};h();p();async function oM(t,e){return Rv(Buffer.from(t),e)}h();p();var XV=le.object({encrypted:le.string(),nonce:le.string(),kdf:le.string(),salt:le.string(),iterations:le.number(),digest:le.string()});var Obe=le.object({version:le.literal(1),content:XV});var JV=class{storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:"plain"},r)}static fromSecureStorage(e,r){return new this({store:e,type:"secure"},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),o={};for(let[s,c]of Object.entries(i)){let l=await this.encrypt(c,r);o[s]=l}return n(o,e)})}async getSecureValue(e){let r;switch(this.storage.type){case"plain":{r=await this.storage.store.get(e);break}case"secure":{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case"plain":{n=await this.storage.store.getAll(e);break}case"secure":{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,o]of Object.entries(n)){let s=Obe.safeParse(o);if(s.success){let c=await this.decrypt(s.data);r[i]=c}}return r}async removeSecureValue(e){switch(this.storage.type){case"plain":{await this.storage.store.remove(e);break}case"secure":{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case"plain":{await this.storage.store.set(e,n);break}case"secure":{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let o=await this.encrypt(i);r[n]=o}switch(this.storage.type){case"plain":{await this.storage.store.setAll(r);break}case"secure":{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(s=>oM(n,s))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>kv(e.content,i));return JSON.parse(Buffer.from(n).toString())}};h();p();var Dbe=Ge(nd()),dE=class extends Error{message="Failed to get the encryption password"},sM=class extends Error{message="Failed to update password that has never been set"},ej=class extends Error{message="Failed to decrypt using the password"},lE=".phantom-labs.encryption.encryptionKey",tj=class{tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?Ic.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=Ic.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=Ic.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=async o=>await this.encrypt(o,r),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new dE;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new sM;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new dE;if(!await this.fetchAndDecryptExistingKey())throw new sM;let i=Ic.from(this.randomEncryptionKey());return e(i,async(o,s)=>{let c=s??r,l=await i.foldAsync(d=>this.encrypt(d,c));return await this.saveExistingKey(l,o),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(en.addBreadcrumb("storage","Failed to get existing encryption key!","info"),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return en.addBreadcrumb("storage","Failed to get existing encryption key!","info"),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new dE;return e}async fetchExistingKey(){return this.deps.storage.get(lE)}async saveExistingKey(e,r){if(r){let n={...r,[lE]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(lE,e)}async deleteExistingKey(){return this.deps.storage.remove(lE)}randomEncryptionKey(){return(0,Dbe.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>Rv(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>kv(e.encryptedKey,n)).catch(()=>{throw new ej})}};h();p();h();p();h();p();h();p();h();p();var Lbe=null;function Dst(t){Lbe=t}function Ube(){return Lbe}function Fbe(t){let e=Ube();if(e){let r=new Headers(t);return r.set("X-Phantom-AnonymousId",e),r}return t}h();p();var rj=null;function Lst(t){rj=t}async function nj(t=!1){if(!rj)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return await rj(t)}h();p();h();p();function qbe(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}var Ust=2*60*1e3,Fst=[];function Hbe(t,e){let{fetchTimeout:r,retryDelays:n,retryOnAuthTokenExpiration:i,onAuthRetry:o,...s}=e||{},c=e?.fetchTimeout??Ust,l=e?.retryDelays??Fst,d=0,g=0,b=s;return new Promise((_,T)=>{function M(){d++,g=Date.now();let P=!0,D=new AbortController,R=fetch(t,{...b,signal:qbe(...s.signal?[s.signal,D.signal]:[D.signal])}),L=setTimeout(()=>{D.abort(),P=!1,B(d)?k():T(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${c} ms, tried ${d} times.`))},c);R.then(V=>{clearTimeout(L),P&&(V.status>=200&&V.status<300?_(V):B(d,V.status)?V.status===401&&i&&o?o(b).then(z=>{b=z,k()}).catch(z=>{T(z)}):k():_(V))}).catch(V=>{clearTimeout(L),B(d)?k():T(V)})}function k(){let P=l[d-1],D=g+P;setTimeout(M,Math.max(D-Date.now(),0))}function B(P,D){if(D===401&&i)return P<=l.length;let R=D?D>=400&&D<=499:!1;return P<=l.length&&!R}M()})}h();p();var hE=(t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[i,o]of n.entries())o===void 0||o==="undefined"?r.delete(i):r.set(i,o);return r};h();p();var Nv=Ge(_i());h();p();h();p();function Kbe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ij(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Vbe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Kbe(t.outputLen),Kbe(t.blockLen)}function Bv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jbe(t,e){ij(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}h();p();var qst=t=>t instanceof Uint8Array;var aM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jf=(t,e)=>t<<32-e|t>>>e,Hst=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hst)throw new Error("Non little-endian hardware is not supported");function Kst(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function pE(t){if(typeof t=="string"&&(t=Kst(t)),!qst(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var Cv=class{clone(){return this._cloneInto()}},S8r={}.toString;function zbe(t){let e=n=>t().update(pE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var cM=class extends Cv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Vbe(e);let n=pE(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Bv(this),this.iHash.update(e),this}digestInto(e){Bv(this),ij(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},oj=(t,e,r)=>new cM(t,e).update(r).digest();oj.create=(t,e)=>new cM(t,e);h();p();h();p();function Vst(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,d=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+d,c,n)}var fM=class extends Cv{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=aM(this.buffer)}update(e){Bv(this);let{view:r,buffer:n,blockLen:i}=this;e=pE(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=aM(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Bv(this),jbe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Vst(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=aM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,g[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var jst=(t,e,r)=>t&e^~t&r,zst=(t,e,r)=>t&e^t&r^e&r,Gst=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ip=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),op=new Uint32Array(64),sj=class extends fM{constructor(){super(64,32,8,!1),this.A=ip[0]|0,this.B=ip[1]|0,this.C=ip[2]|0,this.D=ip[3]|0,this.E=ip[4]|0,this.F=ip[5]|0,this.G=ip[6]|0,this.H=ip[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)op[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let _=op[b-15],T=op[b-2],M=Jf(_,7)^Jf(_,18)^_>>>3,k=Jf(T,17)^Jf(T,19)^T>>>10;op[b]=k+op[b-7]+M+op[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:d,H:g}=this;for(let b=0;b<64;b++){let _=Jf(c,6)^Jf(c,11)^Jf(c,25),T=g+_+jst(c,l,d)+Gst[b]+op[b]|0,k=(Jf(n,2)^Jf(n,13)^Jf(n,22))+zst(n,i,o)|0;g=d,d=l,l=c,c=s+T|0,s=o,o=i,i=n,n=T+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,g=g+this.H|0,this.set(n,i,o,s,c,l,d,g)}roundClean(){op.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Gbe=zbe(()=>new sj);var Wst=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],$st=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],Yst=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function Zst(t){let e=new URL(t);return e.pathname+e.search}function aj(t,e){let r=Zst(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),i=r+n,o=oj(Gbe,Nv.Buffer.from(String.fromCharCode(...Wst)),Nv.Buffer.from(i)),s=new Headers(e);return s.set(Nv.Buffer.from(String.fromCharCode(...$st),"base64").toString(),encodeURIComponent(Nv.Buffer.from(o).toString("base64"))),s.set(Nv.Buffer.from(String.fromCharCode(...Yst),"base64").toString(),n),s}var ky=class extends Error{constructor(e,r){super(e),this.response=r}response},Qst={"Content-Type":"application/json","X-Phantom-Version":Ax,"X-Phantom-Platform":AG},Ov=async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:i}=t;return{blob:r,data:e,status:n,statusText:i}},uM=class t{config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:Qst,withApiEnvironment:"none",fetchBearerToken:!1,...e}}fetch=async(e,r={})=>{try{if(typeof e=="function"){let l=zk()==="https://api.phantom.app"?"prod":"staging";e=e({apiEnv:l})}let n="";this.config.withApiEnvironment==="prod"?n="https://api.phantom.app":this.config.withApiEnvironment==="staging"?n="https://staging-api.phantom.app":this.config.withApiEnvironment==="default"?n=zk():this.config.withApiEnvironment==="custom"&&this.config.customApiEnv&&(n=this.config.customApiEnv);let i=new URL(`${n}${e}`);r?.params&&(i.search=new URLSearchParams(r.params).toString()),r.headers=hE(this.config.headers,r.headers),r.headers=Fbe(r.headers),this.config.withClientAuth&&(r.headers=aj(i.toString(),r.headers));let o={...r,onAuthRetry:async l=>{let d=await nj(!0);if(d){let g=new Headers(l.headers);return g.set("authorization",`Bearer ${d}`),{...l,headers:g}}return l}},s=this.config.validateStatus;if(r?.validateStatus&&(s=r?.validateStatus),o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body)),this.config.timeoutMs&&(o.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(o.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs)),this.config.fetchBearerToken){o.retryOnAuthTokenExpiration=!0;let l=await nj();if(l)o.headers=hE(o.headers,{authorization:`Bearer ${l}`});else throw new ky("Unable to get bearer token. Full auth is required.")}let c=await Hbe(i.toString(),o);if(s&&!c.ok)throw new ky(`Request failed with status code ${c.status}`,await Ov(c));return c}catch(n){throw n instanceof ky?n:new ky(n?.message,n?.response)}};auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,validateStatus:!0,fetchBearerToken:!0,numRetries:1}):this}headers(e,r){let n=r?.mergeHeaders===!1?e:hE(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default",r){return new t({...this.config,withApiEnvironment:e,customApiEnv:e==="custom"?r:void 0})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return Ov(n)}async post(e,r,n={}){n.method="POST";let i=await this.fetch(e,{...n,body:r});return Ov(i)}async put(e,r,n={}){n.method="PUT";let i=await this.fetch(e,{...n,body:r});return Ov(i)}async patch(e,r,n={}){n.method="PATCH";let i=await this.fetch(e,{...n,body:r});return Ov(i)}async delete(e,r,n={}){n.method="DELETE";let i=await this.fetch(e,{...n,body:r});return Ov(i)}},Py=new uM;function Xst(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},o=(await Py.post(t,n)).data;if("error"in o)throw new Error(JSON.stringify(o.error));return o.result}}async function Jst(t,e={}){return Py.fetch(t,e)}function mE(t){return t.status>199&&t.status<400}function eat(t){return t instanceof ky}h();p();var yE=(t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`;h();p();h();p();function sp(){return(t,e)=>e??t}var Wbe=async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(s=>Object.prototype.hasOwnProperty.call(e,s)),o=await t.getAll();try{await t.setAll(i.reduce((s,c)=>{let l=o[c],d=r[c];if(d!=null){let{resolver:g=sp}=e[c];s[c]=g(l,d)}return s},{})).then(()=>{en.addBreadcrumb("storage","\u2705 Synced remote data to disk!","info")})}catch{try{for(let c of i){let l=o[c],d=r[c];if(d==null)continue;let{resolver:g=sp}=e[c];await t.set(c,g(l,d)).then(()=>{en.addBreadcrumb("storage",`\u2705 Synced remote data to disk: ${c}`,"info")}).catch(b=>{en.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${c} => Error: ${b}`,"info")})}}catch(c){en.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${c}`,"info")}}};var cj=2,fj=500,gE=class t{static#t;#e;#r={};#n={};#i=null;#s=null;#a;#o=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){this.#e=e,this.#n=r,this.#s=n,this.#i=i,this.#a=o}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){return this.#t||(this.#t=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o})),this.#t}clear(){this.#o=null,this.#r={},this.#c=!1,en.addBreadcrumb("storage","\u{1F5D1}\uFE0F  SyncedStorage cleared!","info")}async hydrateIfNeeded(e=!0){if(s6())return;if(await hy.isFeatureEnabledAsync("kill-sync-account-names")&&(delete this.#n[".phantom-labs.account.accountMetadata"],en.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: kill-sync-account-names is enabled, removing from keyRegistry","info")),!this.#s||!this.#e||!this.#n)return en.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not initialized!","info");if(!await this.#a())return en.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not onboarded!","info");try{let n=await this.#s.getUser();if(!n)return en.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: No user found","info");if(n?.userID===this.#o)return;this.#o=n.userID;let i=await this.syncFromCloud();if(i){en.addBreadcrumb("storage","\u2705 SyncedStorage found!","info"),this.#r=i,e&&(await Wbe({storage:this.#e,keyRegistry:this.#n,allRemoteData:i}),this.#c=!0);let o=Object.values(this.#n).map(s=>s.queryKey).flat();await this.#i?.invalidateQueries({queryKey:o})}}catch(n){en.captureError(new Error(`\u274C Failed to initialize Synced Storage: ${JSON.stringify(n)}`),"storage")}}async syncFromCloud(e){if(this.#o)try{let r=yE(this.#o,e),n=await Py.api().bearer(!0).retry(cj,fj).get(r);if(mE(n))return n.data;en.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(n)}`,"info")}catch(r){en.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(r)}`,"info")}}async syncToCloud(e,r){if(this.#r[e]=r,!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return!1;try{let n=yE(this.#o,e),i=await Py.api().bearer(!0).retry(cj,fj).put(n,{value:r});if(mE(i))return en.addBreadcrumb("storage",`\u2705 Synced to cloud: ${e}`,"info"),!0;en.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,"info")}catch(n){en.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${JSON.stringify(n)}`,"info")}return!1}async removeFromCloud(e){if(delete this.#r[e],!this.#o)return!1;try{let r=yE(this.#o,e),n=await Py.api().bearer(!0).retry(cj,fj).delete(r);if(mE(n))return en.addBreadcrumb("storage",`\u2705 Removed from cloud: ${e}`,"info"),!0;en.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,"info")}catch(r){en.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${JSON.stringify(r)}`,"info")}return!1}async get(e){let r=await this.#e.get(e);if(!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return r;let{resolver:n=sp,fetchLatestRemote:i=!1}=this.#n[e];if(!i&&this.#c)return r;let o=i?await this.syncFromCloud(e):this.#r[e];return n(r,o)}async getAll(e){return this.#e.getAll(e)}async remove(e){await this.#e.remove(e),Array.isArray(e)?Promise.all(e.map(r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#e.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#e.setAll(e),Promise.all(Object.entries(e).map(([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#e.subscribe(e)}async update(e,r){await this.#e.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};h();p();var lM=(t,e,r=sp(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}});h();p();var $be=new WeakMap,Ybe=()=>{let t=fE(),e=TV();if(e instanceof gE){let r=$be.get(e);return r===void 0&&(r=new Mv(e),$be.set(e,r)),r}return t},tat=Lo(t=>Ybe().get(t)),rat=Lo(t=>VS(async e=>Ybe().set(t,e)));h();p();var nat={[on.Monad.Mainnet]:1,[on.Monad.Devnet]:1,[on.Monad.Testnet]:1,[on.Ethereum.Mainnet]:6,[on.Ethereum.Sepolia]:6,[on.Polygon.Mainnet]:128,[on.Polygon.Amoy]:128,[on.Base.Mainnet]:3,[on.Base.Sepolia]:3,[on.Arbitrum.Mainnet]:1,[on.Arbitrum.Sepolia]:1,[on.Hypercore.Mainnet]:1,[on.Hypercore.Testnet]:1},iat={[on.Bitcoin.Mainnet]:1,[on.Bitcoin.Testnet]:1};var oat="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",sat=100;h();p();h();p();function aat(t,e){return e.getSupportedChains().includes(t)}function Zbe(t,e){if(QT(t))return e.get(t);if(vt.isNetworkID(t)){let r=vt.getChainID(t);if(aat(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}function uj(t){return{get:e=>Zbe(e,t),supportedChains:t.getSupportedChains()}}h();p();var lj=class{chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};h();p();h();p();var Ry="@phantom/chains",bE={enabledChains:[`${Ry}:enabled-chains`],enabledAddressTypes:[`${Ry}:enabled-address-types`],enabledNetworkIDs(t){return[`${Ry}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${Ry}:chain-availability`,t]}};var dM=".phantom-labs.internal.enabledChainsOverrideSettings",Qbe=async t=>{try{return(await t.get(dM))?.settings}catch{return null}},Xbe=async(t,e,r)=>{let n=await Qbe(r);return r.set(dM,{version:1,settings:{...n!=null&&n,[t]:e}})},Jbe=async t=>{let e=[],r;try{r=await Qbe(t),r&&Object.entries(r).forEach(([n,i])=>{i||e.push(n)})}catch{}try{let n=await t.get(mat);!n||n.version===1||n.chains.forEach(i=>{r&&r[i]||e.push(i)})}catch{}try{vt.getAllChainIDs().forEach(n=>{r&&r[n]||vt.isChainDefaultEnabled(n)||e.push(n)})}catch{}return[...new Set(e)]},cat=async(t,e)=>Xbe(t,!1,e),fat=async(t,e)=>Xbe(t,!0,e),By=".phantom-labs.internal.disabledAddressTypes",uat=async t=>{let e;try{e=await t.get(By)!==null}catch{e=!1}return e},eve=async t=>{let e;try{e=(await t.get(By))?.addressTypes??[]}catch{e=[]}return[...new Set([...e,"bip122_p2sh","bip122_p2pkh"])]},lat=async(t,e)=>{let r=await e.get(By),n=new Set(r?.addressTypes??[]);return n.delete(t),e.set(By,{version:1,addressTypes:Array.from(n)})},dat=async(t,e)=>{let r=await e.get(By),n=new Set(r?.addressTypes??[]);return n.add(t),e.set(By,{version:1,addressTypes:Array.from(n)})},hat=(t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),pat={...lM(dM,[`${Ry}:chain-availability`,`${Ry}:enabled-network-ids`,...bE.enabledChains],hat),...lM(By,[...bE.enabledAddressTypes])},mat=".phantom-labs.internal.disabledChains";h();p();var Dv=Ge(Ui());var hM={async deriveAddresses(){},getUIConfig:()=>({}),supportedUIConfigChains:[]},tve=(0,Dv.createContext)(hM);function yat({children:t,registry:e,effects:r}){let n=e?uj(e):void 0,i={deriveAddresses:r?.deriveAddresses??hM.deriveAddresses,getUIConfig:o=>n?n.get(o):hM.getUIConfig(o),supportedUIConfigChains:n?n.supportedChains:hM.supportedUIConfigChains};return Dv.default.createElement(tve.Provider,{value:i},t)}function gat(){return(0,Dv.useContext)(tve)}h();p();var rve=!1,bat=async(t,e)=>{e=e??await hy.isFeatureEnabledAsync("enable-arbitrum");let r=!ng();rve||(en.addBreadcrumb("network","Fetched chain availability","info",{skipFileLogger:!0}),rve=!0);let n=vt.getAllChainIDs().filter(D=>(D!=="arbitrum"||e)&&(D!=="hypercore"||r)),i=await Jbe(t),o=new Set(i),s=n.filter(D=>!o.has(D)),c=D=>{let R=vt.getChainID(D);return s.includes(R)},l=vt.getAllNetworkIDs({mainnetOnly:!1}).filter(c),d=vt.getAllNetworkIDs({mainnetOnly:!0}).filter(c),g=new Set(i.flatMap(D=>vt.getNetworkIDs(D))),b=l.filter(D=>!g.has(D)),_=d.filter(D=>!g.has(D)),T=b.filter(D=>!vt.isMainnetNetworkID(D)),M=bm.getAll(),k=await eve(t),B=new Set(k);for(let D of M){let R=vt.getChainIDs(D);if(!R){B.add(D);continue}R.every(V=>o.has(V))&&B.add(D)}let P=M.filter(D=>!B.has(D));return{supportedChainIDs:n,supportedAddressTypes:M,disabledChainIDs:i,enabledChainIDs:s,enabledAddressTypes:P,enabledNetworkIDs:b,enabledMainnetOnlyNetworkIDs:_,enabledTestnetOnlyNetworkIDs:T}};h();p();var nve=[],vat=t=>{nve.push(t)},xat=async t=>{let e=hy.isFeatureEnabled("enable-arbitrum");await t.invalidateQueries({queryKey:bE.chainAvailability({isArbitrumEnabled:e})}),await Promise.all(nve.map(r=>r(t)))};h();p();var wat={days:t=>t*864e5,hours:t=>t*36e5,minutes:t=>t*6e4,seconds:t=>t*1e3,milliseconds:t=>t,microseconds:t=>t/1e3,nanoseconds:t=>t/1e6};function dTr(t){let e=0;for(let[r,n]of Object.entries(t)){let i=wat[r];e+=i(n)}return e}h();p();var Lv=Ge(Ui()),ive=(0,Lv.createContext)(null);function Sat({children:t,analytics:e}){return Lv.default.createElement(ive.Provider,{value:e},t)}function Eat(){let t=(0,Lv.useContext)(ive);if(!t)throw new Error("useAnalytics must be used within a AnalyticsProvider");return t}h();p();h();p();h();p();h();p();h();p();h();p();function Yve(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function hj(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Zve(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yve(t.outputLen),Yve(t.blockLen)}function Uv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Qve(t,e){hj(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}h();p();h();p();var mM=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Xve=t=>t instanceof Uint8Array;var yM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),eu=(t,e)=>t<<32-e|t>>>e,Fft=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Fft)throw new Error("Non little-endian hardware is not supported");function qft(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function vE(t){if(typeof t=="string"&&(t=qft(t)),!Xve(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Jve(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Xve(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var Fv=class{clone(){return this._cloneInto()}},PIr={}.toString;function gM(t){let e=n=>t().update(vE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function bM(t=32){if(mM&&typeof mM.getRandomValues=="function")return mM.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Hft(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,d=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+d,c,n)}var qv=class extends Fv{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yM(this.buffer)}update(e){Uv(this);let{view:r,buffer:n,blockLen:i}=this;e=vE(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=yM(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Uv(this),Qve(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Hft(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=yM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,g[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var Kft=(t,e,r)=>t&e^~t&r,Vft=(t,e,r)=>t&e^t&r^e&r,jft=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ap=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cp=new Uint32Array(64),pj=class extends qv{constructor(){super(64,32,8,!1),this.A=ap[0]|0,this.B=ap[1]|0,this.C=ap[2]|0,this.D=ap[3]|0,this.E=ap[4]|0,this.F=ap[5]|0,this.G=ap[6]|0,this.H=ap[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)cp[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let _=cp[b-15],T=cp[b-2],M=eu(_,7)^eu(_,18)^_>>>3,k=eu(T,17)^eu(T,19)^T>>>10;cp[b]=k+cp[b-7]+M+cp[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:d,H:g}=this;for(let b=0;b<64;b++){let _=eu(c,6)^eu(c,11)^eu(c,25),T=g+_+Kft(c,l,d)+jft[b]+cp[b]|0,k=(eu(n,2)^eu(n,13)^eu(n,22))+Vft(n,i,o)|0;g=d,d=l,l=c,c=s+T|0,s=o,o=i,i=n,n=T+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,g=g+this.H|0,this.set(n,i,o,s,c,l,d,g)}roundClean(){cp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var As=gM(()=>new pj);h();p();var bj={};wG(bj,{bitGet:()=>Qft,bitLen:()=>Zft,bitMask:()=>xE,bitSet:()=>Xft,bytesToHex:()=>Cy,bytesToNumberBE:()=>Vo,bytesToNumberLE:()=>wM,concatBytes:()=>Dd,createHmacDrbg:()=>gj,ensureBytes:()=>Qi,equalBytes:()=>$ft,hexToBytes:()=>Ny,hexToNumber:()=>yj,numberToBytesBE:()=>tu,numberToBytesLE:()=>SM,numberToHexUnpadded:()=>rxe,numberToVarBytesBE:()=>Wft,utf8ToBytes:()=>Yft,validateObject:()=>fp});h();p();var txe=BigInt(0),vM=BigInt(1),zft=BigInt(2),xM=t=>t instanceof Uint8Array,Gft=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cy(t){if(!xM(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Gft[t[r]];return e}function rxe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function yj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ny(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Vo(t){return yj(Cy(t))}function wM(t){if(!xM(t))throw new Error("Uint8Array expected");return yj(Cy(Uint8Array.from(t).reverse()))}function tu(t,e){return Ny(t.toString(16).padStart(e*2,"0"))}function SM(t,e){return tu(t,e).reverse()}function Wft(t){return Ny(rxe(t))}function Qi(t,e,r){let n;if(typeof e=="string")try{n=Ny(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(xM(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Dd(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!xM(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function $ft(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Yft(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Zft(t){let e;for(e=0;t>txe;t>>=vM,e+=1);return e}function Qft(t,e){return t>>BigInt(e)&vM}var Xft=(t,e,r)=>t|(r?vM:txe)<<BigInt(e),xE=t=>(zft<<BigInt(t-1))-vM,mj=t=>new Uint8Array(t),exe=t=>Uint8Array.from(t);function gj(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=mj(t),i=mj(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},c=(...b)=>r(i,n,...b),l=(b=mj())=>{i=c(exe([0]),b),n=c(),b.length!==0&&(i=c(exe([1]),b),n=c())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,_=[];for(;b<e;){n=c();let T=n.slice();_.push(T),b+=n.length}return Dd(..._)};return(b,_)=>{s(),l(b);let T;for(;!(T=_(d()));)l();return s(),T}}var Jft={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function fp(t,e,r={}){let n=(i,o,s)=>{let c=Jft[o];if(typeof c!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=t[i];if(!(s&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Ji=BigInt(0),li=BigInt(1),Oy=BigInt(2),eut=BigInt(3),vj=BigInt(4),nxe=BigInt(5),ixe=BigInt(8),tut=BigInt(9),rut=BigInt(16);function Xi(t,e){let r=t%e;return r>=Ji?r:e+r}function nut(t,e,r){if(r<=Ji||e<Ji)throw new Error("Expected power/modulo > 0");if(r===li)return Ji;let n=li;for(;e>Ji;)e&li&&(n=n*t%r),t=t*t%r,e>>=li;return n}function Qa(t,e,r){let n=t;for(;e-- >Ji;)n*=n,n%=r;return n}function EM(t,e){if(t===Ji||e<=Ji)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Xi(t,e),n=e,i=Ji,o=li,s=li,c=Ji;for(;r!==Ji;){let d=n/r,g=n%r,b=i-s*d,_=o-c*d;n=r,r=g,i=s,o=c,s=b,c=_}if(n!==li)throw new Error("invert: does not exist");return Xi(i,e)}function iut(t){let e=(t-li)/Oy,r,n,i;for(r=t-li,n=0;r%Oy===Ji;r/=Oy,n++);for(i=Oy;i<t&&nut(i,e,t)!==t-li;i++);if(n===1){let s=(t+li)/vj;return function(l,d){let g=l.pow(d,s);if(!l.eql(l.sqr(g),d))throw new Error("Cannot find square root");return g}}let o=(r+li)/Oy;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=n,g=c.pow(c.mul(c.ONE,i),r),b=c.pow(l,o),_=c.pow(l,r);for(;!c.eql(_,c.ONE);){if(c.eql(_,c.ZERO))return c.ZERO;let T=1;for(let k=c.sqr(_);T<d&&!c.eql(k,c.ONE);T++)k=c.sqr(k);let M=c.pow(g,li<<BigInt(d-T-1));g=c.sqr(M),b=c.mul(b,M),_=c.mul(_,g),d=T}return b}}function out(t){if(t%vj===eut){let e=(t+li)/vj;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%ixe===nxe){let e=(t-nxe)/ixe;return function(n,i){let o=n.mul(i,Oy),s=n.pow(o,e),c=n.mul(i,s),l=n.mul(n.mul(c,Oy),s),d=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(d),i))throw new Error("Cannot find square root");return d}}return t%rut,iut(t)}var sut=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xj(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=sut.reduce((n,i)=>(n[i]="function",n),e);return fp(t,r)}function aut(t,e,r){if(r<Ji)throw new Error("Expected power > 0");if(r===Ji)return t.ONE;if(r===li)return e;let n=t.ONE,i=e;for(;r>Ji;)r&li&&(n=t.mul(n,i)),i=t.sqr(i),r>>=li;return n}function cut(t,e){let r=new Array(e.length),n=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),i),r}function wj(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function oxe(t,e,r=!1,n={}){if(t<=Ji)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=wj(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=out(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:xE(i),ZERO:Ji,ONE:li,create:l=>Xi(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ji<=l&&l<t},is0:l=>l===Ji,isOdd:l=>(l&li)===li,neg:l=>Xi(-l,t),eql:(l,d)=>l===d,sqr:l=>Xi(l*l,t),add:(l,d)=>Xi(l+d,t),sub:(l,d)=>Xi(l-d,t),mul:(l,d)=>Xi(l*d,t),pow:(l,d)=>aut(c,l,d),div:(l,d)=>Xi(l*EM(d,t),t),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>EM(l,t),sqrt:n.sqrt||(l=>s(c,l)),invertBatch:l=>cut(c,l),cmov:(l,d,g)=>g?d:l,toBytes:l=>r?SM(l,o):tu(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?wM(l):Vo(l)}});return Object.freeze(c)}function sxe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Sj(t){let e=sxe(t);return e+Math.ceil(e/2)}function axe(t,e,r=!1){let n=t.length,i=sxe(e),o=Sj(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Vo(t):wM(t),c=Xi(s,e-li)+li;return r?SM(c,i):tu(c,i)}h();p();h();p();var uut=BigInt(0),Ej=BigInt(1);function cxe(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,c=i;for(;o>uut;)o&Ej&&(s=s.add(c)),c=c.double(),o>>=Ej;return s},precomputeWindow(i,o){let{windows:s,windowSize:c}=n(o),l=[],d=i,g=d;for(let b=0;b<s;b++){g=d,l.push(g);for(let _=1;_<c;_++)g=g.add(d),l.push(g);d=g.double()}return l},wNAF(i,o,s){let{windows:c,windowSize:l}=n(i),d=t.ZERO,g=t.BASE,b=BigInt(2**i-1),_=2**i,T=BigInt(i);for(let M=0;M<c;M++){let k=M*l,B=Number(s&b);s>>=T,B>l&&(B-=_,s+=Ej);let P=k,D=k+Math.abs(B)-1,R=M%2!==0,L=B<0;B===0?g=g.add(r(R,o[P])):d=d.add(r(L,o[D]))}return{p:d,f:g}},wNAFCached(i,o,s,c){let l=i._WINDOW_SIZE||1,d=o.get(i);return d||(d=this.precomputeWindow(i,l),l!==1&&o.set(i,c(d))),this.wNAF(l,d,s)}}}function _j(t){return xj(t.Fp),fp(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wj(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function lut(t){let e=_j(t);fp(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:dut,hexToBytes:hut}=bj,Dy={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Dy;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:dut(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Dy,r=typeof t=="string"?hut(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=Dy._parseInt(r.subarray(2)),{d:s,l:c}=Dy._parseInt(o);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,r=d=>{let g=d.toString(16);return g.length&1?`0${g}`:g},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,c=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${c}${n}`}},Ld=BigInt(0),rf=BigInt(1),n7r=BigInt(2),fxe=BigInt(3),i7r=BigInt(4);function put(t){let e=lut(t),{Fp:r}=e,n=e.toBytes||((M,k,B)=>{let P=k.toAffine();return Dd(Uint8Array.from([4]),r.toBytes(P.x),r.toBytes(P.y))}),i=e.fromBytes||(M=>{let k=M.subarray(1),B=r.fromBytes(k.subarray(0,r.BYTES)),P=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:B,y:P}});function o(M){let{a:k,b:B}=e,P=r.sqr(M),D=r.mul(P,M);return r.add(r.add(D,r.mul(M,k)),B)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(M){return typeof M=="bigint"&&Ld<M&&M<e.n}function c(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(M){let{allowedPrivateKeyLengths:k,nByteLength:B,wrapPrivateKey:P,n:D}=e;if(k&&typeof M!="bigint"){if(M instanceof Uint8Array&&(M=Cy(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(B*2,"0")}let R;try{R=typeof M=="bigint"?M:Vo(Qi("private key",M,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof M}`)}return P&&(R=Xi(R,D)),c(R),R}let d=new Map;function g(M){if(!(M instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(k,B,P){if(this.px=k,this.py=B,this.pz=P,k==null||!r.isValid(k))throw new Error("x required");if(B==null||!r.isValid(B))throw new Error("y required");if(P==null||!r.isValid(P))throw new Error("z required")}static fromAffine(k){let{x:B,y:P}=k||{};if(!k||!r.isValid(B)||!r.isValid(P))throw new Error("invalid affine point");if(k instanceof b)throw new Error("projective point not allowed");let D=R=>r.eql(R,r.ZERO);return D(B)&&D(P)?b.ZERO:new b(B,P,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let B=r.invertBatch(k.map(P=>P.pz));return k.map((P,D)=>P.toAffine(B[D])).map(b.fromAffine)}static fromHex(k){let B=b.fromAffine(i(Qi("pointHex",k)));return B.assertValidity(),B}static fromPrivateKey(k){return b.BASE.multiply(l(k))}_setWindowSize(k){this._WINDOW_SIZE=k,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:k,y:B}=this.toAffine();if(!r.isValid(k)||!r.isValid(B))throw new Error("bad point: x or y not FE");let P=r.sqr(B),D=o(k);if(!r.eql(P,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){g(k);let{px:B,py:P,pz:D}=this,{px:R,py:L,pz:V}=k,z=r.eql(r.mul(B,V),r.mul(R,D)),oe=r.eql(r.mul(P,V),r.mul(L,D));return z&&oe}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:B}=e,P=r.mul(B,fxe),{px:D,py:R,pz:L}=this,V=r.ZERO,z=r.ZERO,oe=r.ZERO,$=r.mul(D,D),ne=r.mul(R,R),S=r.mul(L,L),a=r.mul(D,R);return a=r.add(a,a),oe=r.mul(D,L),oe=r.add(oe,oe),V=r.mul(k,oe),z=r.mul(P,S),z=r.add(V,z),V=r.sub(ne,z),z=r.add(ne,z),z=r.mul(V,z),V=r.mul(a,V),oe=r.mul(P,oe),S=r.mul(k,S),a=r.sub($,S),a=r.mul(k,a),a=r.add(a,oe),oe=r.add($,$),$=r.add(oe,$),$=r.add($,S),$=r.mul($,a),z=r.add(z,$),S=r.mul(R,L),S=r.add(S,S),$=r.mul(S,a),V=r.sub(V,$),oe=r.mul(S,ne),oe=r.add(oe,oe),oe=r.add(oe,oe),new b(V,z,oe)}add(k){g(k);let{px:B,py:P,pz:D}=this,{px:R,py:L,pz:V}=k,z=r.ZERO,oe=r.ZERO,$=r.ZERO,ne=e.a,S=r.mul(e.b,fxe),a=r.mul(B,R),u=r.mul(P,L),m=r.mul(D,V),y=r.add(B,P),w=r.add(R,L);y=r.mul(y,w),w=r.add(a,u),y=r.sub(y,w),w=r.add(B,D);let E=r.add(R,V);return w=r.mul(w,E),E=r.add(a,m),w=r.sub(w,E),E=r.add(P,D),z=r.add(L,V),E=r.mul(E,z),z=r.add(u,m),E=r.sub(E,z),$=r.mul(ne,w),z=r.mul(S,m),$=r.add(z,$),z=r.sub(u,$),$=r.add(u,$),oe=r.mul(z,$),u=r.add(a,a),u=r.add(u,a),m=r.mul(ne,m),w=r.mul(S,w),u=r.add(u,m),m=r.sub(a,m),m=r.mul(ne,m),w=r.add(w,m),a=r.mul(u,w),oe=r.add(oe,a),a=r.mul(E,w),z=r.mul(y,z),z=r.sub(z,a),a=r.mul(y,u),$=r.mul(E,$),$=r.add($,a),new b(z,oe,$)}subtract(k){return this.add(k.negate())}is0(){return this.equals(b.ZERO)}wNAF(k){return T.wNAFCached(this,d,k,B=>{let P=r.invertBatch(B.map(D=>D.pz));return B.map((D,R)=>D.toAffine(P[R])).map(b.fromAffine)})}multiplyUnsafe(k){let B=b.ZERO;if(k===Ld)return B;if(c(k),k===rf)return this;let{endo:P}=e;if(!P)return T.unsafeLadder(this,k);let{k1neg:D,k1:R,k2neg:L,k2:V}=P.splitScalar(k),z=B,oe=B,$=this;for(;R>Ld||V>Ld;)R&rf&&(z=z.add($)),V&rf&&(oe=oe.add($)),$=$.double(),R>>=rf,V>>=rf;return D&&(z=z.negate()),L&&(oe=oe.negate()),oe=new b(r.mul(oe.px,P.beta),oe.py,oe.pz),z.add(oe)}multiply(k){c(k);let B=k,P,D,{endo:R}=e;if(R){let{k1neg:L,k1:V,k2neg:z,k2:oe}=R.splitScalar(B),{p:$,f:ne}=this.wNAF(V),{p:S,f:a}=this.wNAF(oe);$=T.constTimeNegate(L,$),S=T.constTimeNegate(z,S),S=new b(r.mul(S.px,R.beta),S.py,S.pz),P=$.add(S),D=ne.add(a)}else{let{p:L,f:V}=this.wNAF(B);P=L,D=V}return b.normalizeZ([P,D])[0]}multiplyAndAddUnsafe(k,B,P){let D=b.BASE,R=(V,z)=>z===Ld||z===rf||!V.equals(D)?V.multiplyUnsafe(z):V.multiply(z),L=R(this,B).add(R(k,P));return L.is0()?void 0:L}toAffine(k){let{px:B,py:P,pz:D}=this,R=this.is0();k==null&&(k=R?r.ONE:r.inv(D));let L=r.mul(B,k),V=r.mul(P,k),z=r.mul(D,k);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(z,r.ONE))throw new Error("invZ was invalid");return{x:L,y:V}}isTorsionFree(){let{h:k,isTorsionFree:B}=e;if(k===rf)return!0;if(B)return B(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:B}=e;return k===rf?this:B?B(b,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(b,this,k)}toHex(k=!0){return Cy(this.toRawBytes(k))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let _=e.nBitLength,T=cxe(b,e.endo?Math.ceil(_/2):_);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function mut(t){let e=_j(t);return fp(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function uxe(t){let e=mut(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(w){return Ld<w&&w<r.ORDER}function c(w){return Xi(w,n)}function l(w){return EM(w,n)}let{ProjectivePoint:d,normPrivateKeyToScalar:g,weierstrassEquation:b,isWithinCurveOrder:_}=put({...e,toBytes(w,E,A){let x=E.toAffine(),f=r.toBytes(x.x),v=Dd;return A?v(Uint8Array.from([E.hasEvenY()?2:3]),f):v(Uint8Array.from([4]),f,r.toBytes(x.y))},fromBytes(w){let E=w.length,A=w[0],x=w.subarray(1);if(E===i&&(A===2||A===3)){let f=Vo(x);if(!s(f))throw new Error("Point is not on curve");let v=b(f),q=r.sqrt(v),U=(q&rf)===rf;return(A&1)===1!==U&&(q=r.neg(q)),{x:f,y:q}}else if(E===o&&A===4){let f=r.fromBytes(x.subarray(0,r.BYTES)),v=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:f,y:v}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),T=w=>Cy(tu(w,e.nByteLength));function M(w){let E=n>>rf;return w>E}function k(w){return M(w)?c(-w):w}let B=(w,E,A)=>Vo(w.slice(E,A));class P{constructor(E,A,x){this.r=E,this.s=A,this.recovery=x,this.assertValidity()}static fromCompact(E){let A=e.nByteLength;return E=Qi("compactSignature",E,A*2),new P(B(E,0,A),B(E,A,2*A))}static fromDER(E){let{r:A,s:x}=Dy.toSig(Qi("DER",E));return new P(A,x)}assertValidity(){if(!_(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new P(this.r,this.s,E)}recoverPublicKey(E){let{r:A,s:x,recovery:f}=this,v=oe(Qi("msgHash",E));if(f==null||![0,1,2,3].includes(f))throw new Error("recovery id invalid");let q=f===2||f===3?A+e.n:A;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let U=f&1?"03":"02",O=d.fromHex(U+T(q)),W=l(q),Q=c(-v*W),re=c(x*W),Ke=d.BASE.multiplyAndAddUnsafe(O,Q,re);if(!Ke)throw new Error("point at infinify");return Ke.assertValidity(),Ke}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ny(this.toDERHex())}toDERHex(){return Dy.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ny(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let D={isValidPrivateKey(w){try{return g(w),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{let w=Sj(e.n);return axe(e.randomBytes(w),e.n)},precompute(w=8,E=d.BASE){return E._setWindowSize(w),E.multiply(BigInt(3)),E}};function R(w,E=!0){return d.fromPrivateKey(w).toRawBytes(E)}function L(w){let E=w instanceof Uint8Array,A=typeof w=="string",x=(E||A)&&w.length;return E?x===i||x===o:A?x===2*i||x===2*o:w instanceof d}function V(w,E,A=!0){if(L(w))throw new Error("first arg must be private key");if(!L(E))throw new Error("second arg must be public key");return d.fromHex(E).multiply(g(w)).toRawBytes(A)}let z=e.bits2int||function(w){let E=Vo(w),A=w.length*8-e.nBitLength;return A>0?E>>BigInt(A):E},oe=e.bits2int_modN||function(w){return c(z(w))},$=xE(e.nBitLength);function ne(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(Ld<=w&&w<$))throw new Error(`bigint expected < 2^${e.nBitLength}`);return tu(w,e.nByteLength)}function S(w,E,A=a){if(["recovered","canonical"].some(Z=>Z in A))throw new Error("sign() legacy options not supported");let{hash:x,randomBytes:f}=e,{lowS:v,prehash:q,extraEntropy:U}=A;v==null&&(v=!0),w=Qi("msgHash",w),q&&(w=Qi("prehashed msgHash",x(w)));let O=oe(w),W=g(E),Q=[ne(W),ne(O)];if(U!=null){let Z=U===!0?f(r.BYTES):U;Q.push(Qi("extraEntropy",Z))}let re=Dd(...Q),Ke=O;function se(Z){let ct=z(Z);if(!_(ct))return;let de=l(ct),he=d.BASE.multiply(ct).toAffine(),ur=c(he.x);if(ur===Ld)return;let me=c(de*c(Ke+ur*W));if(me===Ld)return;let Se=(he.x===ur?0:2)|Number(he.y&rf),qn=me;return v&&M(me)&&(qn=k(me),Se^=1),new P(ur,qn,Se)}return{seed:re,k2sig:se}}let a={lowS:e.lowS,prehash:!1},u={lowS:e.lowS,prehash:!1};function m(w,E,A=a){let{seed:x,k2sig:f}=S(w,E,A),v=e;return gj(v.hash.outputLen,v.nByteLength,v.hmac)(x,f)}d.BASE._setWindowSize(8);function y(w,E,A,x=u){let f=w;if(E=Qi("msgHash",E),A=Qi("publicKey",A),"strict"in x)throw new Error("options.strict was renamed to lowS");let{lowS:v,prehash:q}=x,U,O;try{if(typeof f=="string"||f instanceof Uint8Array)try{U=P.fromDER(f)}catch(he){if(!(he instanceof Dy.Err))throw he;U=P.fromCompact(f)}else if(typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint"){let{r:he,s:ur}=f;U=new P(he,ur)}else throw new Error("PARSE");O=d.fromHex(A)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&U.hasHighS())return!1;q&&(E=e.hash(E));let{r:W,s:Q}=U,re=oe(E),Ke=l(Q),se=c(re*Ke),Z=c(W*Ke),ct=d.BASE.multiplyAndAddUnsafe(O,se,Z)?.toAffine();return ct?c(ct.x)===W:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:V,sign:m,verify:y,ProjectivePoint:d,Signature:P,utils:D}}h();p();h();p();var _M=class extends Fv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Zve(e);let n=vE(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Uv(this),this.iHash.update(e),this}digestInto(e){Uv(this),hj(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Aj=(t,e,r)=>new _M(t,e).update(r).digest();Aj.create=(t,e)=>new _M(t,e);function yut(t){return{hash:t,hmac:(e,...r)=>Aj(t,e,Jve(...r)),randomBytes:bM}}function lxe(t,e){let r=n=>uxe({...t,...yut(n)});return Object.freeze({...r(e),create:r})}var MM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),AM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pxe=BigInt(1),TM=BigInt(2),dxe=(t,e)=>(t+e/TM)/e;function mxe(t){let e=MM,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),l=BigInt(88),d=t*t*t%e,g=d*d*t%e,b=Qa(g,r,e)*g%e,_=Qa(b,r,e)*g%e,T=Qa(_,TM,e)*d%e,M=Qa(T,i,e)*T%e,k=Qa(M,o,e)*M%e,B=Qa(k,c,e)*k%e,P=Qa(B,l,e)*B%e,D=Qa(P,c,e)*k%e,R=Qa(D,r,e)*g%e,L=Qa(R,s,e)*M%e,V=Qa(L,n,e)*d%e,z=Qa(V,TM,e);if(!Ij.eql(Ij.sqr(z),t))throw new Error("Cannot find square root");return z}var Ij=oxe(MM,void 0,void 0,{sqrt:mxe}),Hv=lxe({a:BigInt(0),b:BigInt(7),Fp:Ij,n:AM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=AM,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pxe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=dxe(o*t,e),l=dxe(-n*t,e),d=Xi(t-c*r-l*i,e),g=Xi(-c*n-l*o,e),b=d>s,_=g>s;if(b&&(d=e-d),_&&(g=e-g),d>s||g>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:d,k2neg:_,k2:g}}}},As),kM=BigInt(0),yxe=t=>typeof t=="bigint"&&kM<t&&t<MM,gut=t=>typeof t=="bigint"&&kM<t&&t<AM,hxe={};function IM(t,...e){let r=hxe[t];if(r===void 0){let n=As(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Dd(n,n),hxe[t]=r}return As(Dd(r,...e))}var Pj=t=>t.toRawBytes(!0).slice(1),Mj=t=>tu(t,32),Tj=t=>Xi(t,MM),wE=t=>Xi(t,AM),Rj=Hv.ProjectivePoint,but=(t,e,r)=>Rj.BASE.multiplyAndAddUnsafe(t,e,r);function kj(t){let e=Hv.utils.normPrivateKeyToScalar(t),r=Rj.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:wE(-e),bytes:Pj(r)}}function gxe(t){if(!yxe(t))throw new Error("bad x: need 0 < x < p");let e=Tj(t*t),r=Tj(e*t+BigInt(7)),n=mxe(r);n%TM!==kM&&(n=Tj(-n));let i=new Rj(t,n,pxe);return i.assertValidity(),i}function bxe(...t){return wE(Vo(IM("BIP0340/challenge",...t)))}function vut(t){return kj(t).bytes}function xut(t,e,r=bM(32)){let n=Qi("message",t),{bytes:i,scalar:o}=kj(e),s=Qi("auxRand",r,32),c=Mj(o^Vo(IM("BIP0340/aux",s))),l=IM("BIP0340/nonce",c,i,n),d=wE(Vo(l));if(d===kM)throw new Error("sign failed: k is zero");let{bytes:g,scalar:b}=kj(d),_=bxe(g,i,n),T=new Uint8Array(64);if(T.set(g,0),T.set(Mj(wE(b+_*o)),32),!vxe(T,n,i))throw new Error("sign: Invalid signature produced");return T}function vxe(t,e,r){let n=Qi("signature",t,64),i=Qi("message",e),o=Qi("publicKey",r,32);try{let s=gxe(Vo(o)),c=Vo(n.subarray(0,32));if(!yxe(c))return!1;let l=Vo(n.subarray(32,64));if(!gut(l))return!1;let d=bxe(Mj(c),Pj(s),i),g=but(s,l,wE(-d));return!(!g||!g.hasEvenY()||g.toAffine().x!==c)}catch{return!1}}var Xa={getPublicKey:vut,sign:xut,verify:vxe,utils:{randomPrivateKey:Hv.utils.randomPrivateKey,lift_x:gxe,pointToBytes:Pj,numberToBytesBE:tu,bytesToNumberBE:Vo,taggedHash:IM,mod:Xi}};h();p();var wut=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),wxe=Uint8Array.from({length:16},(t,e)=>e),Sut=wxe.map(t=>(9*t+5)%16),Cj=[wxe],Nj=[Sut];for(let t=0;t<4;t++)for(let e of[Cj,Nj])e.push(e[t].map(r=>wut[r]));var Sxe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Eut=Cj.map((t,e)=>t.map(r=>Sxe[e][r])),_ut=Nj.map((t,e)=>t.map(r=>Sxe[e][r])),Aut=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Tut=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),PM=(t,e)=>t<<e|t>>>32-e;function xxe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var RM=new Uint32Array(16),Bj=class extends qv{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let T=0;T<16;T++,r+=4)RM[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,c=this.h2|0,l=c,d=this.h3|0,g=d,b=this.h4|0,_=b;for(let T=0;T<5;T++){let M=4-T,k=Aut[T],B=Tut[T],P=Cj[T],D=Nj[T],R=Eut[T],L=_ut[T];for(let V=0;V<16;V++){let z=PM(n+xxe(T,o,c,d)+RM[P[V]]+k,R[V])+b|0;n=b,b=d,d=PM(c,10)|0,c=o,o=z}for(let V=0;V<16;V++){let z=PM(i+xxe(M,s,l,g)+RM[D[V]]+B,L[V])+_|0;i=_,_=g,g=PM(l,10)|0,l=s,s=z}}this.set(this.h1+c+g|0,this.h2+d+_|0,this.h3+b+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){RM.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},Exe=gM(()=>new Bj);h();p();function Kv(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function CM(...t){let e=(i,o)=>s=>i(o(s)),r=Array.from(t).reverse().reduce((i,o)=>i?e(i,o.encode):o.encode,void 0),n=t.reduce((i,o)=>i?e(i,o.decode):o.decode,void 0);return{encode:r,decode:n}}function Lj(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function Uj(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function Iut(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function _xe(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],o=Array.from(t);for(o.forEach(s=>{if(s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,c=!0;for(let l=n;l<o.length;l++){let d=o[l],g=e*s+d;if(!Number.isSafeInteger(g)||e*s/e!==s||g-d!==e*s)throw new Error("convertRadix: carry overflow");s=g%r;let b=Math.floor(g/r);if(o[l]=b,!Number.isSafeInteger(b)||b*r+s!==g)throw new Error("convertRadix: carry overflow");if(c)b?c=!1:n=l;else continue}if(i.push(s),c)break}for(let s=0;s<t.length-1&&t[s]===0;s++)i.push(0);return i.reverse()}var Mxe=(t,e)=>e?Mxe(e,t%e):t,BM=(t,e)=>t+(e-Mxe(t,e));function Oj(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(BM(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${BM(e,r)}`);let i=0,o=0,s=2**r-1,c=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=r;o-=r)c.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&c.push(i>>>0),c}function Mut(t){return{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return _xe(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(_xe(e,t,2**8))}}}function kxe(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(BM(8,t)>32||BM(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Oj(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Oj(r,t,8,e))}}}function Axe(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function kut(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),o=r.slice(-t);for(let s=0;s<t;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}var Put=t=>CM(Mut(58),Lj(t),Uj("")),Rut=Put("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Pxe=t=>CM(kut(4,e=>t(t(e))),Rut),Dj=CM(Lj("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Uj("")),Txe=[996825010,642813549,513874426,1027748829,705979059];function SE(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<Txe.length;n++)(e>>n&1)===1&&(r^=Txe[n]);return r}function Ixe(t,e,r=1){let n=t.length,i=1;for(let o=0;o<n;o++){let s=t.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${t})`);i=SE(i)^s>>5}i=SE(i);for(let o=0;o<n;o++)i=SE(i)^t.charCodeAt(o)&31;for(let o of e)i=SE(i)^o;for(let o=0;o<6;o++)i=SE(i);return i^=r,Dj.encode(Oj([i%2**30],30,5,!1))}function Rxe(t){let e=t==="bech32"?1:734539939,r=kxe(5),n=r.decode,i=r.encode,o=Axe(n);function s(g,b,_=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(b)||b.length&&typeof b[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof b}`);let T=g.length+7+b.length;if(_!==!1&&T>_)throw new TypeError(`Length ${T} exceeds limit ${_}`);let M=g.toLowerCase(),k=Ixe(M,b,e);return`${M}1${Dj.encode(b)}${k}`}function c(g,b=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||b!==!1&&g.length>b)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${b})`);let _=g.toLowerCase();if(g!==_&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=_;let T=g.lastIndexOf("1");if(T===0||T===-1)throw new Error('Letter "1" must be present between prefix and data only');let M=g.slice(0,T),k=g.slice(T+1);if(k.length<6)throw new Error("Data must be at least 6 characters long");let B=Dj.decode(k).slice(0,-6),P=Ixe(M,B,e);if(!k.endsWith(P))throw new Error(`Invalid checksum in ${g}: expected "${P}"`);return{prefix:M,words:B}}let l=Axe(c);function d(g){let{prefix:b,words:_}=c(g,!1);return{prefix:b,words:_,bytes:n(_)}}return{encode:s,decode:c,decodeToBytes:d,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}var NM=Rxe("bech32"),Fj=Rxe("bech32m"),qj={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},Qn=CM(kxe(4),Lj("0123456789abcdef"),Uj(""),Iut(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));h();p();var Xn=new Uint8Array,qM=new Uint8Array([0]);function Mn(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function OM(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Ja=t=>t instanceof Uint8Array,DM=class{constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(up(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=FM(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!Ja(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(Mn(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${Qn.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},LM=class{constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=OM(...this.buffers);for(let r of this.ptrs){let n=e.length;e=OM(e,r.buffer);let i=r.ptr.encode(n);for(let o=0;o<i.length;o++)e[r.pos+o]=i[o]}return e}length(e,r){if(e===null)return;if(up(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=FM(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},UM=t=>Uint8Array.from(t).reverse();function Bxe(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}function eo(t){return{...t,encode:e=>{let r=new LM;return t.encodeStream(r,e),r.buffer},decode:e=>{let r=new DM(e),n=t.decodeStream(r);return r.finish(),n}}}function FM(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}function up(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}function Cut(){return{encode:t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},decode:t=>Object.entries(t)}}var Nut={encode:t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},decode:t=>BigInt(t)};function Out(t){return{encode:e=>t[e],decode:e=>t[e]}}function Dut(t){let e=10n**BigInt(t);return{encode:r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let o=n.length-1;for(;o>=i&&n[o]==="0";o--);let[s,c]=[n.slice(0,i),n.slice(i,o+1)];return s||(s="0"),r<0n&&(s="-"+s),c?`${s}.${c}`:s},decode:r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[o,s]=[r.slice(0,i),r.slice(i+1)],c=BigInt(o)*e,l=Math.min(s.length,t),d=BigInt(s.slice(0,l))*10n**BigInt(t-l),g=c+d;return n?-g:g}}}function Lut(t){return{encode:e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},decode:e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)}}}var Vv={dict:Cut,number:Nut,tsEnum:Out,decimal:Dut,match:Lut};var ec=(t,e=!1,r=!1)=>eo({size:t,encodeStream:(n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let o=BigInt(i),s=BigInt(t);Bxe(n,o,8n*s,!!r);let c=2n**(8n*s-1n);r&&o<0&&(o=o|c);let l=[];for(let g=0;g<t;g++)l.push(Number(o&255n)),o>>=8n;let d=new Uint8Array(l).reverse();n.bytes(e?d.reverse():d)},decodeStream:n=>{let i=BigInt(t),o=n.bytes(t);e&&(o=UM(o));let s=UM(o),c=2n**(8n*i-1n),l=0n;for(let d=0;d<s.length;d++)l|=BigInt(s[d])<<8n*BigInt(d);return r&&l&c&&(l=(l^c)-c),Bxe(n,l,8n*i,!!r),l}}),L7r=ec(32,!0),Cxe=ec(32,!1),U7r=ec(32,!0,!0),F7r=ec(32,!1,!0),q7r=ec(16,!0),H7r=ec(16,!1),K7r=ec(16,!0,!0),V7r=ec(16,!1,!0),EE=ec(8,!0),j7r=ec(8,!1),Nxe=ec(8,!0,!0),z7r=ec(8,!1,!0),ml=(t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return AE(ec(t,e,r),Vv.number)},hn=ml(4,!0),Oxe=ml(4,!1),jv=ml(4,!0,!0),G7r=ml(4,!1,!0),Hj=ml(2,!0),W7r=ml(2,!1),$7r=ml(2,!0,!0),Y7r=ml(2,!1,!0),Ud=ml(1,!1),Z7r=ml(1,!1,!0),Q7r=eo({size:1,encodeStream:(t,e)=>t.byte(e?1:0),decodeStream:t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1}}),Dn=(t,e=!1)=>eo({size:typeof t=="number"?t:void 0,encodeStream:(r,n)=>{if(!Ja(n))throw r.err(`bytes: invalid value ${n}`);Ja(t)||r.length(t,n.length),r.bytes(e?UM(n):n),Ja(t)&&r.bytes(t)},decodeStream:r=>{let n;if(Ja(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?UM(n):n}}),_E=(t,e=!1)=>{let r=Dn(t,e);return eo({size:r.size,encodeStream:(n,i)=>r.encodeStream(n,qj.decode(i)),decodeStream:n=>qj.encode(r.decodeStream(n))})},X7r=_E(qM),Dxe=(t,e=!1,r=!1)=>{let n=Dn(t,e);return eo({size:n.size,encodeStream:(i,o)=>{if(r&&!o.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let s=Qn.decode(r?o.slice(2):o);return n.encodeStream(i,s)},decodeStream:i=>(r?"0x":"")+Qn.encode(n.decodeStream(i))})};function AE(t,e){if(!up(t))throw new Error(`apply: invalid inner value ${t}`);return eo({size:t.size,encodeStream:(r,n)=>{let i;try{i=e.decode(n)}catch(o){throw r.err(""+o)}return t.encodeStream(r,i)},decodeStream:r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}}})}function nf(t,e){if(!up(t))throw new Error(`validate: invalid inner value ${t}`);return eo({size:t.size,encodeStream:(r,n)=>t.encodeStream(r,e(n)),decodeStream:r=>e(t.decodeStream(r))})}var Lxe=(t,e=!1)=>eo({size:t.length,encodeStream:(r,n)=>{!!n!==e&&r.bytes(t)},decodeStream:r=>{let n=r.leftBytes>=t.length;return n&&(n=Mn(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e}});function Uxe(t,e,r){if(!up(e))throw new Error(`flagged: invalid inner value ${e}`);return eo({encodeStream:(n,i)=>{typeof t=="string"?FM(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},decodeStream:n=>{let i=!1;if(typeof t=="string"?i=FM(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)}})}function TE(t,e,r=!0){if(!up(t))throw new Error(`flagged: invalid inner value ${t}`);return eo({size:t.size,encodeStream:(n,i)=>t.encodeStream(n,e),decodeStream:n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||Ja(e)&&!Mn(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)}})}function Fxe(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}function Ts(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return eo({size:Fxe(Object.values(t)),encodeStream:(e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r}})}function qxe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return eo({size:Fxe(t),encodeStream:(e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r}})}function Hxe(t,e){if(!up(e))throw new Error(`prefix: invalid inner value ${e}`);if(Ja(t))throw new Error("prefix: len cannot be Uint8Array");let r=Dn(t);return eo({size:typeof t=="number"?t:void 0,encodeStream:(n,i)=>{let o=new LM(n.path,n.fieldPath);e.encodeStream(o,i),r.encodeStream(n,o.buffer)},decodeStream:n=>{let i=r.decodeStream(n);return e.decodeStream(new DM(i,n.path,n.fieldPath))}})}function $s(t,e){if(!up(e))throw new Error(`array: invalid inner value ${e}`);return eo({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:(r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);Ja(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let o=n[i],s=r.pos;if(e.encodeStream(r,o),Ja(t)){if(t.length>r.pos-s)continue;let c=r.buffer.subarray(s,r.pos);if(Mn(c.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${o} data=${c}`)}r.fieldPathPop()}r.path.pop(),Ja(t)&&r.bytes(t)},decodeStream:r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(Ja(t)){let i=0;for(r.path.push(n);;){if(Mn(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let o=0;o<i;o++)r.fieldPathPush(""+o),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n}})}var J7r=TE(Dn(0),Xn);var{ProjectivePoint:YM,sign:Kxe,getPublicKey:Fut}=Hv,jM=Hv.CURVE.n,ME=(t,e)=>t===void 0?e:t,Un=Ja,ZM=t=>Exe(As(t)),lp=(...t)=>As(As(dp(...t))),dp=OM,rwe=Pxe(As);function zM(t){if(Array.isArray(t))return t.map(e=>zM(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,zM(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}var Ms;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(Ms||(Ms={}));function $v(t,e){let r=t.length;if(e===Ms.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return YM.fromHex(t),t}else if(e===Ms.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return Xa.utils.lift_x(Xa.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}function Uy(t,e){try{return $v(t,e),!0}catch{return!1}}var Vxe=t=>t.r<jM/2n;function qut(t,e,r=!1){let n=Kxe(t,e);if(r&&!Vxe(n)){let i=new Uint8Array(32);for(let o=0;o<Number.MAX_SAFE_INTEGER&&(i.set(hn.encode(o)),n=Kxe(t,e,{extraEntropy:i}),!Vxe(n));o++);}return n.toDERRawBytes()}function nwe(t,e){let r=Xa.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=jM)throw new Error("tweak higher than curve order");return i}function Hut(t,e=new Uint8Array){let r=Xa.utils,n=r.bytesToNumberBE(t),i=YM.fromPrivateKey(n),o=i.hasEvenY()?n:r.mod(-n,jM),s=r.pointToBytes(i),c=nwe(s,e);return r.numberToBytesBE(r.mod(o+c,jM),32)}function iwe(t,e){let r=Xa.utils,n=nwe(t,e),o=r.lift_x(r.bytesToNumberBE(t)).add(YM.fromPrivateKey(n)),s=o.hasEvenY()?0:1;return[r.pointToBytes(o),s]}var Gj=nf(Dn(null),t=>$v(t,Ms.ecdsa)),GM=nf(Dn(32),t=>$v(t,Ms.schnorr)),jxe=nf(Dn(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var Yv={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var Kut=8,Vut=2,Ly=0,owe=4294967295,HM=new Uint8Array(32),s9r=Vv.decimal(Kut);function Wj(t,e){if(!Un(t)||!Un(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}var to;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(to||(to={}));var Is=eo({encodeStream:(t,e)=>{for(let r of e){if(typeof r=="string"){if(to[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(to[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(to.OP_1-1+r);continue}}if(typeof r=="number"&&(r=swe().encode(BigInt(r))),!Un(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<to.PUSHDATA1?t.byte(n):n<=255?(t.byte(to.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(to.PUSHDATA2),t.bytes(Hj.encode(n))):(t.byte(to.PUSHDATA4),t.bytes(hn.encode(n))),t.bytes(r)}},decodeStream:t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(to.OP_0<r&&r<=to.PUSHDATA4){let n;if(r<to.PUSHDATA1)n=r;else if(r===to.PUSHDATA1)n=Ud.decodeStream(t);else if(r===to.PUSHDATA2)n=Hj.decodeStream(t);else if(r===to.PUSHDATA4)n=hn.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(to.OP_1<=r&&r<=to.OP_16)e.push(r-(to.OP_1-1));else{let n=to[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e}});function swe(t=6,e=!1){return eo({encodeStream:(r,n)=>{if(n===0n)return;let i=n<0,o=BigInt(n),s=[];for(let c=i?-o:o;c;c>>=8n)s.push(Number(c&0xffn));s[s.length-1]>=128?s.push(i?128:0):i&&(s[s.length-1]|=128),r.bytes(new Uint8Array(s))},decodeStream:r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,o=0n;for(let s=0;s<n;++s)i=r.byte(),o|=BigInt(i)<<8n*BigInt(s);return i>=128&&(o&=2n**BigInt(n*8)-1n>>1n,o=-o),o}})}function jut(t,e=4,r=!0){if(typeof t=="number")return t;if(Un(t))try{let n=swe(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}var zxe={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},QM=eo({encodeStream:(t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,o]of Object.values(zxe))if(!(i>e||e>o)){t.byte(r);for(let s=0;s<n;s++)t.byte(Number(e>>8n*BigInt(s)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},decodeStream:t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=zxe[e],o=0n;for(let s=0;s<n;s++)o|=BigInt(t.byte())<<8n*BigInt(s);if(o<i)throw t.err(`Wrong CompactSize(${8*n})`);return o}}),nu=AE(QM,Vv.number),Gxe=t=>$s(QM,t),ru=Dn(QM),zut=Ts({txid:Dn(32,!0),index:hn,finalScriptSig:ru,sequence:hn}),Gv=Ts({amount:EE,script:ru}),Gut={amount:0xffffffffffffffffn,script:Xn},rz=$s(nu,ru),Wut=Ts({version:jv,segwitFlag:Lxe(new Uint8Array([0,1])),inputs:Gxe(zut),outputs:Gxe(Gv),witnesses:Uxe("segwitFlag",$s("inputs/length",rz)),lockTime:hn});function $ut(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}var yl=nf(Wut,$ut);function $j(t){let[e,r,n,i,o,s]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:o,silentIgnore:s}}var XM=Ts({fingerprint:Oxe,path:$s(null,hn)}),Yut=Ts({version:Ud,internalKey:Dn(32),merklePath:$s(null,Dn(32))}),Wv=nf(Yut,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),awe=Ts({hashes:$s(nu,Dn(32)),der:XM}),Zut=Dn(78),Qut=Ts({pubKey:GM,leafHash:Dn(32)}),Xut=$s(null,Ts({depth:Ud,version:Ud,script:ru})),ro=Dn(null),Wxe=Dn(20),IE=Dn(32),nz={unsignedTx:[0,!1,yl,[0],[0],!1],xpub:[1,Zut,XM,[],[0,2],!1],txVersion:[2,!1,hn,[2],[2],!1],fallbackLocktime:[3,!1,hn,[],[2],!1],inputCount:[4,!1,nu,[2],[2],!1],outputCount:[5,!1,nu,[2],[2],!1],txModifiable:[6,!1,Ud,[],[2],!1],version:[251,!1,hn,[],[0,2],!1],proprietary:[252,ro,ro,[],[0,2],!1]},WM={nonWitnessUtxo:[0,!1,yl,[],[0,2],!1],witnessUtxo:[1,!1,Gv,[],[0,2],!1],partialSig:[2,Gj,ro,[],[0,2],!1],sighashType:[3,!1,hn,[],[0,2],!1],redeemScript:[4,!1,ro,[],[0,2],!1],witnessScript:[5,!1,ro,[],[0,2],!1],bip32Derivation:[6,Gj,XM,[],[0,2],!1],finalScriptSig:[7,!1,ro,[],[0,2],!1],finalScriptWitness:[8,!1,rz,[],[0,2],!1],porCommitment:[9,!1,ro,[],[0,2],!1],ripemd160:[10,Wxe,ro,[],[0,2],!1],sha256:[11,IE,ro,[],[0,2],!1],hash160:[12,Wxe,ro,[],[0,2],!1],hash256:[13,IE,ro,[],[0,2],!1],txid:[14,!1,IE,[2],[2],!0],index:[15,!1,hn,[2],[2],!0],sequence:[16,!1,hn,[],[2],!0],requiredTimeLocktime:[17,!1,hn,[],[2],!1],requiredHeightLocktime:[18,!1,hn,[],[2],!1],tapKeySig:[19,!1,jxe,[],[0,2],!1],tapScriptSig:[20,Qut,jxe,[],[0,2],!1],tapLeafScript:[21,Wv,ro,[],[0,2],!1],tapBip32Derivation:[22,IE,awe,[],[0,2],!1],tapInternalKey:[23,!1,GM,[],[0,2],!1],tapMerkleRoot:[24,!1,IE,[],[0,2],!1],proprietary:[252,ro,ro,[],[0,2],!1]},Jut=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],elt=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],$M={redeemScript:[0,!1,ro,[],[0,2],!1],witnessScript:[1,!1,ro,[],[0,2],!1],bip32Derivation:[2,Gj,XM,[],[0,2],!1],amount:[3,!1,Nxe,[2],[2],!0],script:[4,!1,ro,[2],[2],!0],tapInternalKey:[5,!1,GM,[],[0,2],!1],tapTree:[6,!1,Xut,[],[0,2],!1],tapBip32Derivation:[7,GM,awe,[],[0,2],!1],proprietary:[252,ro,ro,[],[0,2],!1]},tlt=[],$xe=$s(qM,Ts({key:Hxe(nu,Ts({type:nu,key:Dn(null)})),value:Dn(nu)})),a9r=Ts({type:nu,key:Dn(null)});function iz(t){let e={};for(let r in t){let[n,i,o]=t[r];e[n]=[r,i,o]}return eo({encodeStream:(r,n)=>{let i=[];for(let o in t){let s=n[o];if(s===void 0)continue;let[c,l,d]=t[o];if(!l)i.push({key:{type:c,key:Xn},value:d.encode(s)});else{let g=s.map(([b,_])=>[l.encode(b),d.encode(_)]);g.sort((b,_)=>Wj(b[0],_[0]));for(let[b,_]of g)i.push({key:{key:b,type:c},value:_})}}if(n.unknown){n.unknown.sort((o,s)=>Wj(o[0].key,s[0].key));for(let[o,s]of n.unknown)i.push({key:o,value:s})}$xe.encodeStream(r,i)},decodeStream:r=>{let n=$xe.decodeStream(r),i={},o={};for(let s of n){let c="unknown",l=s.key.key,d=s.value;if(e[s.key.type]){let[g,b,_]=e[s.key.type];if(c=g,!b&&l.length)throw new Error(`PSBT: Non-empty key for ${c} (key=${Qn.encode(l)} value=${Qn.encode(d)}`);if(l=b?b.decode(l):void 0,d=_.decode(d),!b){if(i[c])throw new Error(`PSBT: Same keys: ${c} (key=${l} value=${d})`);i[c]=d,o[c]=!0;continue}}else l={type:s.key.type,key:s.key.key};if(o[c])throw new Error(`PSBT: Key type with empty key and no key=${c} val=${d}`);i[c]||(i[c]=[]),i[c].push([l,d])}return i}})}function Yxe(t,e){if(!Mn(t.hash,As(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=jo.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}function Yj(t,e,r){if(t){let n=jo.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!Mn(n.hash,ZM(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=jo.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&Yxe(n,r)}if(e){let n=jo.decode(e);n.type==="wsh"&&r&&Yxe(n,r)}}var oz=nf(iz(WM),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)$v(e,Ms.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)$v(e,Ms.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!Mn(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=tz.fromRaw(yl.encode(t.nonWitnessUtxo)),n=Qn.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),sz=nf(iz($M),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)$v(e,Ms.ecdsa);return t}),cwe=nf(iz(nz),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),rlt=Ts({magic:TE(_E(new Uint8Array([255])),"psbt"),global:cwe,inputs:$s("global/unsignedTx/inputs/length",oz),outputs:$s(null,sz)}),nlt=Ts({magic:TE(_E(new Uint8Array([255])),"psbt"),global:cwe,inputs:$s("global/inputCount",oz),outputs:$s("global/outputCount",sz)}),c9r=Ts({magic:TE(_E(new Uint8Array([255])),"psbt"),items:$s(null,AE($s(qM,qxe([Dxe(nu),Dn(QM)])),Vv.dict()))});function Kj(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=$j(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=$j(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}function Zxe(t,e,r){let n={};for(let i in r){let o=i;if(o!=="unknown"){if(!e[o])continue;let{allowInc:s,silentIgnore:c}=$j(e[o]);if(!s.includes(t)){if(c)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${o} but versions allows inclusion=${s}`)}}n[o]=r[o]}return n}function fwe(t){let e=t&&t.global&&t.global.version||0;Kj(e,nz,t.global);for(let s of t.inputs)Kj(e,WM,s);for(let s of t.outputs)Kj(e,$M,s);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let o=t.outputs.slice(i);if(o.length>1||o.length&&Object.keys(o[0]).length)throw new Error(`Unexpected outputs left in tx=${o}`);return t}function Vj(t,e,r,n){let i={...r,...e};for(let o in t){let s=o,[c,l,d]=t[s],g=n&&!n.includes(o);if(e[o]===void 0&&o in e){if(g)throw new Error(`Cannot remove signed field=${o}`);delete i[o]}else if(l){let b=r&&r[o]?r[o]:[],_=e[s];if(_){if(!Array.isArray(_))throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);_=_.map(k=>{if(k.length!==2)throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);return[typeof k[0]=="string"?l.decode(Qn.decode(k[0])):k[0],typeof k[1]=="string"?d.decode(Qn.decode(k[1])):k[1]]});let T={},M=(k,B,P)=>{if(T[k]===void 0){T[k]=[B,P];return}let D=Qn.encode(d.encode(T[k][1])),R=Qn.encode(d.encode(P));if(D!==R)throw new Error(`keyMap(${s}): same key=${k} oldVal=${D} newVal=${R}`)};for(let[k,B]of b){let P=Qn.encode(l.encode(k));M(P,k,B)}for(let[k,B]of _){let P=Qn.encode(l.encode(k));if(B===void 0){if(g)throw new Error(`Cannot remove signed field=${s}/${k}`);delete T[P]}else M(P,k,B)}i[s]=Object.values(T)}}else if(typeof i[o]=="string")i[o]=d.decode(Qn.decode(i[o]));else if(g&&o in e&&r&&r[o]!==void 0&&!Mn(d.encode(e[o]),d.encode(r[o])))throw new Error(`Cannot change signed field=${o}`)}for(let o in i)t[o]||delete i[o];return i}var Qxe=nf(rlt,fwe),Xxe=nf(nlt,fwe),jj=Ts({txid:Dn(32,!0),index:hn}),ilt={encode(t){if(!(t.length!==2||!Un(t[0])||!Uy(t[0],Ms.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0};var olt={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Un(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0};var slt={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Un(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0},f9r=(t,e=Yv)=>{let r=t.script;if(!Un(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=ZM(r),i=jo.encode({type:"sh",hash:n});Yj(i,r,t.witnessScript);let o={type:"sh",redeemScript:r,script:jo.encode({type:"sh",hash:n}),address:JM(e).encode({type:"sh",hash:n})};return t.witnessScript&&(o.witnessScript=t.witnessScript),o},alt={encode(t){if(!(t.length!==2||t[0]!==0||!Un(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:t=>t.type==="wsh"?[0,t.hash]:void 0};var clt={encode(t){if(!(t.length!==2||t[0]!==0||!Un(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:t=>t.type==="wpkh"?[0,t.hash]:void 0},u9r=(t,e=Yv)=>{if(!Uy(t,Ms.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=ZM(t);return{type:"wpkh",script:jo.encode({type:"wpkh",hash:r}),address:JM(e).encode({type:"wpkh",hash:r})}},flt={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let o of i)if(!Un(o))return;return{type:"ms",m:r,pubkeys:i}}},decode:t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0};var ult={encode(t){if(!(t.length!==2||t[0]!==1||!Un(t[1])))return{type:"tr",pubkey:t[1]}},decode:t=>t.type==="tr"?[1,t.pubkey]:void 0};function llt(t){let e=Array.from(t);for(;e.length>=2;){e.sort((s,c)=>(c.weight||1)-(s.weight||1));let n=e.pop(),i=e.pop(),o=(i?.weight||1)+(n?.weight||1);e.push({weight:o,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}function dlt(t,e,r=!1){let n=jo.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let o of i.pubkeys){if(Mn(o,uwe))throw new Error("Unspendable taproot key in leaf script");if(Mn(o,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function Zj(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:c,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!Mn(t.tapMerkleRoot,Xn))throw new Error("P2TR: tapRoot leafScript cannot have tree");let d=typeof l=="string"?Qn.decode(l):l;if(!Un(d))throw new Error(`checkScript: wrong script type=${d}`);return dlt(d,e,r),{type:"leaf",version:c,script:d,hash:VM(d,c)}}if(t.length!==2&&(t=llt(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=Zj(t[0],e,r),i=Zj(t[1],e,r),[o,s]=[n.hash,i.hash];return Wj(s,o)===-1&&([o,s]=[s,o]),{type:"branch",left:n,right:i,hash:Xa.utils.taggedHash("TapBranch",o,s)}}function Qj(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:Qj(t.left,[t.right.hash,...e]),right:Qj(t.right,[t.left.hash,...e])}}function Xj(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...Xj(t.left),...Xj(t.right)]}var uwe=As(YM.BASE.toRawBytes(!1));function l9r(t,e,r=Yv,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?Qn.decode(t):t||uwe;if(!Uy(i,Ms.schnorr))throw new Error("p2tr: non-schnorr pubkey");let o=e?Qj(Zj(e,i,n)):void 0,s=o?o.hash:void 0,[c,l]=iwe(i,s||Xn),d;o&&(d=Xj(o).map(_=>({..._,controlBlock:Wv.encode({version:(_.version||ez)+l,internalKey:i,merklePath:_.path})})));let g;d&&(g=d.map(_=>[Wv.decode(_.controlBlock),dp(_.script,new Uint8Array([_.version||ez]))]));let b={type:"tr",script:jo.encode({type:"tr",pubkey:c}),address:JM(r).encode({type:"tr",pubkey:c}),tweakedPubkey:c,tapInternalKey:i};return d&&(b.leaves=d),g&&(b.tapLeafScript=g),s&&(b.tapMerkleRoot=s),b}var hlt={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Un(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e}};var plt={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=jut(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let o=t[i];if(i&1){if(o!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Un(o))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(o)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e}};var mlt={encode(t){return{type:"unknown",script:Is.encode(t)}},decode:t=>t.type==="unknown"?Is.decode(t.script):void 0},ylt=[ilt,olt,slt,alt,clt,flt,ult,hlt,plt,mlt],glt=AE(Is,Vv.match(ylt)),jo=nf(glt,t=>{if(t.type==="pk"&&!Uy(t.pubkey,Ms.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Un(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Un(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Un(t.pubkey)||!Uy(t.pubkey,Ms.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!Uy(r,Ms.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!Uy(e,Ms.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function lwe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}function zj(t,e,r=Yv){lwe(t,e);let n=t===0?NM:Fj;return n.encode(r.bech32,[t].concat(n.toWords(e)))}function Jxe(t,e){return rwe.encode(dp(Uint8Array.from(e),t))}function JM(t=Yv){return{encode(e){let{type:r}=e;if(r==="wpkh")return zj(0,e.hash,t);if(r==="wsh")return zj(0,e.hash,t);if(r==="tr")return zj(1,e.pubkey,t);if(r==="pkh")return Jxe(e.hash,[t.pubKeyHash]);if(r==="sh")return Jxe(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=NM.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=Fj.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...o]=n.words,s=NM.fromWords(o);if(lwe(i,s),i===0&&s.length===32)return{type:"wsh",hash:s};if(i===0&&s.length===20)return{type:"wpkh",hash:s};if(i===1&&s.length===32)return{type:"tr",pubkey:s};throw new Error("Unknown witness program")}let r=rwe.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}var Ln;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Ln||(Ln={}));var Jj;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(Jj||(Jj={}));function blt(t){if(typeof t!="number"||typeof Jj[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}function ewe(t){let e=t&31;return{isAny:!!(t&Ln.ANYONECANPAY),isNone:e===Ln.NONE,isSingle:e===Ln.SINGLE}}function KM(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:ME(t.sequence,owe),finalScriptSig:ME(t.finalScriptSig,Xn)}}function twe(t){for(let e in t){let r=e;Jut.includes(r)||delete t[r]}}function zv(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}var ez=192,VM=(t,e=ez)=>Xa.utils.taggedHash("TapLeaf",new Uint8Array([e]),ru.encode(t));function vlt(t,e,r,n=Xn){return Mn(r,e)&&(t=Hut(t,n),e=Xa.getPublicKey(t)),{privKey:t,pubKey:e}}var xlt={}.toString;function wlt(t){if(t!==void 0&&xlt.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:ME(t.version,Vut),lockTime:ME(t.lockTime,0),PSBTVersion:ME(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(hn.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}var tz=class t{constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=wlt(e);r.lockTime!==Ly&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=yl.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let o of n.outputs)i.addOutput(o);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let o=0;o<n.witnesses.length;o++)i.inputs[o].finalScriptWitness=n.witnesses[o];return i}static fromPSBT(e,r={}){let n;try{n=Qxe.decode(e)}catch(b){try{n=Xxe.decode(e)}catch{throw b}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let o=n.global.unsignedTx,s=i===0?o?.version:n.global.txVersion,c=i===0?o?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:s,lockTime:c,PSBTVersion:i}),d=i===0?o?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,d).map((b,_)=>({finalScriptSig:Xn,...n.global.unsignedTx?.inputs[_],...b}));let g=i===0?o?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,g).map((b,_)=>({...b,...n.global.unsignedTx?.outputs[_]})),l.global={...n.global,txVersion:s},c!==Ly&&(l.global.fallbackLocktime=c),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(o=>Zxe(e,WM,o));for(let o of r)o.partialSig&&!o.partialSig.length&&delete o.partialSig,o.finalScriptSig&&!o.finalScriptSig.length&&delete o.finalScriptSig,o.finalScriptWitness&&!o.finalScriptWitness.length&&delete o.finalScriptWitness;let n=this.outputs.map(o=>Zxe(e,$M,o)),i={...this.global};return e===0?(i.unsignedTx=yl.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===Ly&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?Qxe:Xxe).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=Ly,r=0,n=Ly,i=0;for(let o of this.inputs)o.requiredHeightLocktime&&(e=Math.max(e,o.requiredHeightLocktime),r++),o.requiredTimeLocktime&&(n=Math.max(n,o.requiredTimeLocktime),i++);return r&&r>=i?e:n!==Ly?n:this.global.fallbackLocktime||Ly}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===Ln.DEFAULT?Ln.ALL:r&3;return{sigInputs:r&Ln.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let o=0;o<this.inputs.length;o++){if(this.inputStatus(o)==="unsigned")continue;let{sigInputs:c,sigOutputs:l}=this.inputSighash(o);if(c===Ln.ANYONECANPAY?n.push(o):e=!1,l===Ln.ALL)r=!1;else if(l===Ln.SINGLE)i.push(o);else if(l!==Ln.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(zv);this.hasWitnesses&&(e+=2),e+=4*nu.encode(this.inputs.length).length,e+=4*nu.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*ru.encode(n.finalScriptSig||Xn).length;for(let n of r)e+=32+4*ru.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=rz.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return yl.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(KM).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||Xn})),outputs:this.outputs.map(zv),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return Qn.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Qn.encode(lp(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Qn.encode(lp(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),zM(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:o}=e;typeof i=="string"&&(i=Qn.decode(i)),Un(i)&&(i=yl.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof o=="string"&&(o=Qn.decode(o)),o===void 0&&(o=r?.txid);let s={...r,...e,nonWitnessUtxo:i,txid:o};s.nonWitnessUtxo===void 0&&delete s.nonWitnessUtxo,s.sequence===void 0&&(s.sequence=owe),s.tapMerkleRoot===null&&delete s.tapMerkleRoot,s=Vj(WM,s,r,n),oz.encode(s);let c;return s.nonWitnessUtxo&&s.index!==void 0?c=s.nonWitnessUtxo.outputs[s.index]:s.witnessUtxo&&(c=s.witnessUtxo),c&&!this.opts.disableScriptCheck&&Yj(c&&c.script,s.redeemScript,s.witnessScript),s}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addInput||o.inputs.includes(e))&&(i=elt)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),zM(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:o}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof o=="string"&&(o=Qn.decode(o)),o===void 0&&(o=r?.script);let s={...r,...e,amount:i,script:o};if(s.amount===void 0&&delete s.amount,s=Vj($M,s,r,n),sz.encode(s),s.script&&!this.opts.allowUnknownOutputs&&jo.decode(s.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||Yj(s.script,s.redeemScript,s.witnessScript),s}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addOutput||o.outputs.includes(e))&&(i=tlt)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=Yv){return this.addOutput({script:jo.encode(JM(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(zv);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:o,isSingle:s}=ewe(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(s&&e>=this.outputs.length||e>=this.inputs.length)return Cxe.encode(1n);r=Is.encode(Is.decode(r).filter(g=>g!=="CODESEPARATOR"));let c=this.inputs.map(KM).map((g,b)=>({...g,finalScriptSig:b===e?r:Xn}));i?c=[c[e]]:(o||s)&&(c=c.map((g,b)=>({...g,sequence:b===e?g.sequence:0})));let l=this.outputs.map(zv);o?l=[]:s&&(l=l.slice(0,e).fill(Gut).concat([l[e]]));let d=yl.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:c,outputs:l});return lp(d,jv.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:o,isNone:s,isSingle:c}=ewe(n),l=HM,d=HM,g=HM,b=this.inputs.map(KM),_=this.outputs.map(zv);o||(l=lp(...b.map(jj.encode))),!o&&!c&&!s&&(d=lp(...b.map(M=>hn.encode(M.sequence)))),!c&&!s?g=lp(..._.map(Gv.encode)):c&&e<_.length&&(g=lp(Gv.encode(_[e])));let T=b[e];return lp(jv.encode(this.version),l,d,Dn(32,!0).encode(T.txid),hn.encode(T.index),ru.encode(r),EE.encode(i),hn.encode(T.sequence),g,hn.encode(this.lockTime),hn.encode(n))}preimageWitnessV1(e,r,n,i,o=-1,s,c=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let d=[Ud.encode(0),Ud.encode(n),jv.encode(this.version),hn.encode(this.lockTime)],g=n===Ln.DEFAULT?Ln.ALL:n&3,b=n&Ln.ANYONECANPAY,_=this.inputs.map(KM),T=this.outputs.map(zv);b!==Ln.ANYONECANPAY&&d.push(...[_.map(jj.encode),i.map(EE.encode),r.map(ru.encode),_.map(k=>hn.encode(k.sequence))].map(k=>As(dp(...k)))),g===Ln.ALL&&d.push(As(dp(...T.map(Gv.encode))));let M=(l?1:0)|(s?2:0);if(d.push(new Uint8Array([M])),b===Ln.ANYONECANPAY){let k=_[e];d.push(jj.encode(k),EE.encode(i[e]),ru.encode(r[e]),hn.encode(k.sequence))}else d.push(hn.encode(e));return M&1&&d.push(As(ru.encode(l||Xn))),g===Ln.SINGLE&&d.push(e<T.length?As(Gv.encode(T[e])):HM),s&&d.push(VM(s,c),Ud.encode(0),jv.encode(o)),Xa.utils.taggedHash("TapSighash",...d)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=Ln.ALL,i=this.prevOut(e),o=jo.decode(i.script),s=o.type,c=o,l=[o];if(o.type==="tr")return n=Ln.DEFAULT,{txType:"taproot",type:"tr",last:o,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((o.type==="wpkh"||o.type==="wsh")&&(r="segwit"),o.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let _=jo.decode(e.redeemScript);(_.type==="wpkh"||_.type==="wsh")&&(r="segwit"),l.push(_),c=_,s+=`-${_.type}`}if(c.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let _=jo.decode(e.witnessScript);_.type==="wsh"&&(r="segwit"),l.push(_),c=_,s+=`-${_.type}`}let d=l[l.length-1];if(d.type==="sh"||d.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let g=jo.encode(d),b={type:s,txType:r,last:d,lastScript:g,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return b}}signIdx(e,r,n,i){this.checkInputIdx(r);let o=this.inputs[r],s=this.inputType(o);if(!Un(e)){if(!o.bip32Derivation||!o.bip32Derivation.length)throw new Error("bip32Derivation: empty");let g=o.bip32Derivation.filter(_=>_[1].fingerprint==e.fingerprint).map(([_,{path:T}])=>{let M=e;for(let k of T)M=M.deriveChild(k);if(!Mn(M.publicKey,_))throw new Error("bip32Derivation: wrong pubKey");if(!M.privateKey)throw new Error("bip32Derivation: no privateKey");return M});if(!g.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let b=!1;for(let _ of g)this.signIdx(_.privateKey,r)&&(b=!0);return b}n?n.forEach(blt):n=[s.defaultSighash];let c=s.sighash;if(!n.includes(c))throw new Error(`Input with not allowed sigHash=${c}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===Ln.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let d=this.prevOut(o);if(s.txType==="taproot"){if(o.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let g=this.inputs.map(this.prevOut),b=g.map(B=>B.script),_=g.map(B=>B.amount),T=!1,M=Xa.getPublicKey(e),k=o.tapMerkleRoot||Xn;if(o.tapInternalKey){let{pubKey:B,privKey:P}=vlt(e,M,o.tapInternalKey,k),[D,R]=iwe(o.tapInternalKey,k);if(Mn(D,B)){let L=this.preimageWitnessV1(r,b,c,_),V=dp(Xa.sign(L,P,i),c!==Ln.DEFAULT?new Uint8Array([c]):Xn);this.updateInput(r,{tapKeySig:V},!0),T=!0}}if(o.tapLeafScript){o.tapScriptSig=o.tapScriptSig||[];for(let[B,P]of o.tapLeafScript){let D=P.subarray(0,-1),R=Is.decode(D),L=P[P.length-1],V=VM(D,L);if(R.findIndex(ne=>Un(ne)&&Mn(ne,M))===-1)continue;let oe=this.preimageWitnessV1(r,b,c,_,void 0,D,L),$=dp(Xa.sign(oe,e,i),c!==Ln.DEFAULT?new Uint8Array([c]):Xn);this.updateInput(r,{tapScriptSig:[[{pubKey:M,leafHash:V},$]]},!0),T=!0}}if(!T)throw new Error("No taproot scripts signed");return!0}else{let g=Fut(e),b=!1,_=ZM(g);for(let k of Is.decode(s.lastScript))Un(k)&&(Mn(k,g)||Mn(k,_))&&(b=!0);if(!b)throw new Error(`Input script doesn't have pubKey: ${s.lastScript}`);let T;if(s.txType==="legacy")T=this.preimageLegacy(r,s.lastScript,c);else if(s.txType==="segwit"){let k=s.lastScript;s.last.type==="wpkh"&&(k=jo.encode({type:"pkh",hash:s.last.hash})),T=this.preimageWitnessV0(r,k,c,d.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${s.txType}`);let M=qut(T,e,this.opts.lowR);this.updateInput(r,{partialSig:[[g,dp(M,new Uint8Array([c]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let o=0;o<this.inputs.length;o++)try{this.signIdx(e,o,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((d,g)=>Wv.encode(d[0]).length-Wv.encode(g[0]).length);for(let[d,g]of l){let b=g.slice(0,-1),_=g[g.length-1],T=jo.decode(b),M=VM(b,_),k=r.tapScriptSig.filter(P=>Mn(P[0].leafHash,M)),B=[];if(T.type==="tr_ms"){let P=T.m,D=T.pubkeys,R=0;for(let L of D){let V=k.findIndex(z=>Mn(z[0].pubKey,L));if(R===P||V===-1){B.push(Xn);continue}B.push(k[V][1]),R++}if(R!==P)continue}else if(T.type==="tr_ns"){for(let P of T.pubkeys){let D=k.findIndex(R=>Mn(R[0].pubKey,P));D!==-1&&B.push(k[D][1])}if(B.length!==T.pubkeys.length)continue}else if(T.type==="unknown"&&this.opts.allowUnknownInputs){let P=Is.decode(b);if(B=k.map(([{pubKey:D},R])=>{let L=P.findIndex(V=>Un(V)&&Mn(V,D));if(L===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:R,pos:L}}).sort((D,R)=>D.pos-R.pos).map(D=>D.signature),!B.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=B.reverse().concat([b,Wv.encode(d)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=Xn,twe(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=Xn,o=[];if(n.last.type==="ms"){let l=n.last.m,d=n.last.pubkeys,g=[];for(let b of d){let _=r.partialSig.find(T=>Mn(b,T[0]));_&&g.push(_[1])}if(g=g.slice(0,l),g.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${d.length} signatures=${g.length}`);i=Is.encode([0,...g])}else if(n.last.type==="pk")i=Is.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Is.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=Xn,o=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let s,c;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(o=Is.decode(i).map(l=>{if(l===0)return Xn;if(Un(l))return l;throw new Error(`Wrong witness op=${l}`)})),o=o.concat(n.lastScript)),n.txType==="segwit"&&(c=o),n.type.startsWith("sh-wsh-")?s=Is.encode([Is.encode([0,As(n.lastScript)])]):n.type.startsWith("sh-")?s=Is.encode([...Is.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(s=i),!s&&!c)throw new Error("Unknown error finalizing input");s&&(r.finalScriptSig=s),c&&(r.finalScriptWitness=c),twe(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?yl.encode(this.global.unsignedTx):Xn,n=e.global.unsignedTx?yl.encode(e.global.unsignedTx):Xn;if(!Mn(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=Vj(nz,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};export{WW as a,wp as b,K$ as c,Mp as d,s_ as e,X_ as f,Dp as g,Nte as h,b4 as i,Ote as j,Nw as k,AC as l,gre as m,s1 as n,HC as o,Tre as p,KC as q,jC as r,zC as s,WC as t,Rre as u,Cre as v,Hre as w,Vre as x,XC as y,q8 as z,hie as A,mie as B,RN as C,$ne as D,Ec as E,BN as F,w1 as G,CN as H,NN as I,rie as J,nie as K,iie as L,oie as M,sie as N,aie as O,cie as P,fie as Q,uie as R,gOe as S,oa as T,Da as U,Dst as V,Ube as W,Lst as X,hE as Y,aj as Z,Py as _,Xst as $,Jst as aa,mE as ba,eat as ca,X6t as da,KOe as ea,jOe as fa,WN as ga,Bu as ha,q1 as ia,v_t as ja,ko as ka,CDe as la,NDe as ma,ODe as na,Yie as oa,WDe as pa,YDe as qa,ZDe as ra,QDe as sa,XDe as ta,Nu as ua,$t as va,Z8 as wa,g2 as xa,kh as ya,k1 as za,Ph as Aa,Rh as Ba,jl as Ca,Bh as Da,zl as Ea,on as Fa,bm as Ga,Pt as Ha,DAt as Ia,Yl as Ja,ioe as Ka,O2 as La,N2 as Ma,jh as Na,aoe as Oa,IA as Pa,D2 as Qa,uoe as Ra,hLe as Sa,pLe as Ta,iO as Ua,mLe as Va,yLe as Wa,gLe as Xa,uo as Ya,goe as Za,V1 as _a,cO as $a,wLe as ab,qLe as bb,HLe as cb,z1 as db,hO as eb,mO as fb,Uu as gb,AO as hb,kO as ib,PO as jb,BIt as kb,$h as lb,ZO as mb,Sm as nb,Em as ob,ho as pb,Wn as qb,Zh as rb,Nc as sb,eD as tb,X as ub,d5 as vb,HD as wb,Pae as xb,pb as yb,nd as zb,nL as Ab,Gqe as Bb,yb as Cb,cL as Db,aHe as Eb,Ic as Fb,Qie as Gb,tLe as Hb,rO as Ib,nO as Jb,oLe as Kb,cHe as Lb,_L as Mb,jce as Nb,bfe as Ob,Nfe as Pb,rU as Qb,vle as Rb,UU as Sb,kWe as Tb,CWe as Ub,NWe as Vb,Db as Wb,GU as Xb,YU as Yb,vt as Zb,Xle as _b,Gle as $b,M0 as ac,Yle as bc,Zle as cc,Qle as dc,Jle as ec,rde as fc,nde as gc,ide as hc,ode as ic,sde as jc,ade as kc,cde as lc,fde as mc,ude as nc,lde as oc,dde as pc,ede as qc,hde as rc,tde as sc,pde as tc,mde as uc,tF as vc,uj as wc,lj as xc,Ym as yc,Lde as zc,Lo as Ac,Ude as Bc,Lpe as Cc,b3 as Dc,wet as Ec,UH as Fc,dy as Gc,v3 as Hc,x3 as Ic,_et as Jc,Eet as Kc,hy as Lc,Aet as Mc,my as Nc,Rot as Oc,en as Pc,qot as Qc,Hot as Rc,O9 as Sc,Yot as Tc,Zot as Uc,Qot as Vc,Xot as Wc,gE as Xc,lM as Yc,D9 as Zc,AV as _c,j1e as $c,TV as ad,est as bd,Q1e as cd,Q0 as dd,H9 as ed,_r as fd,Nd as gd,NV as hd,ybe as id,J0 as jd,xbe as kd,wbe as ld,Sbe as md,bst as nd,KV as od,Jot as pd,_st as qd,zV as rd,GV as sd,Obe as td,JV as ud,tj as vd,tat as wd,rat as xd,bE as yd,dM as zd,cat as Ad,fat as Bd,uat as Cd,lat as Dd,dat as Ed,pat as Fd,nat as Gd,iat as Hd,oat as Id,sat as Jd,yat as Kd,gat as Ld,bat as Md,vat as Nd,xat as Od,Uft as Pd,rG as Qd,dTr as Rd,Yv as Sd,Is as Td,f9r as Ud,u9r as Vd,l9r as Wd,jo as Xd,tz as Yd,Sat as Zd,Eat as _d};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-PJ6PRBE2.js.map
