import{Bb as At,Cb as Nt,Db as ce,Eb as le,K as yt,M as he,N as pe,Nb as It,R as bt,Wa as St,Xa as ht,Xb as hi,Ya as kt,_a as xt,ba as Tt,bb as ue,jb as Ct,mb as vt,nc as Et,oc as Bt,ub as Ft,v as ft}from"./chunk-F63TUCMM.js";import{Ea as nt,Fa as se,Gc as ct,Pc as W,Qb as Si,Rb as it,Rd as v,Sb as P,U,Yc as lt,Zb as g,_ as ae,_d as gt,bc as rt,ca as et,cc as ot,dc as $,dd as mt,gc as Te,jd as dt,ka as D,mc as at,nc as st,od as L,rc as I,wa as tt,wc as pt,xc as ut}from"./chunk-PJ6PRBE2.js";import{R as x,S as C,u as _}from"./chunk-DHKCVHRA.js";import{S as q,Y as Se,c as Ti,l as t}from"./chunk-UTOBJRXZ.js";import{f as F,h as i,m as Buffer,n as r}from"./chunk-SVG5OEFH.js";i();r();var Wo=v({seconds:10});var Pt={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.4},{name:"data.chain.name",weight:.1},{name:"data.tokenAddress",weight:.1}]},ki={...Pt,shouldSort:!1};var xi="https://help.phantom.com/hc/en-us/articles/22984230766483",Ci="https://help.phantom.com/hc/en-us/articles/44063915243283-How-to-trade-tokenized-equities-in-Phantom",vi={maximumFractionDigits:2,minimumFractionDigits:2},wt="pSo1f9nQXWgXibFtKf7NWYxb5enAM4qfP6UJSiXRQfL",Fi=`solana:101/address:${wt}`,Ai="solana:101/nativeToken:501",Dt="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",Ni=`solana:101/address:${Dt}`,Mt="J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn",Ii=`solana:101/address:${Mt}`,Ot="CASHx9KJUStyftLFWGvEVf59SGeG9sh5FfcnZMVPCASH";i();r();i();r();i();r();var H=(p=>(p[p.Always=1/0]="Always",p[p.Short=v({days:1})]="Short",p[p.Medium=v({days:3})]="Medium",p[p.Long=v({days:7})]="Long",p))(H||{}),Q=(s=>(s[s.Immediate=0]="Immediate",s[s.Short=v({minutes:1})]="Short",s[s.Medium=v({minutes:2.5})]="Medium",s[s.Long=v({minutes:5})]="Long",s[s.Never=1/0]="Never",s))(Q||{}),ke=(a=>(a[a.Short=v({minutes:1})]="Short",a[a.Medium=v({minutes:2.5})]="Medium",a[a.Long=v({minutes:5})]="Long",a))(ke||{});i();r();var xe=(e,n,o,a)=>{(!n||n>=400&&n<500)&&(W.addBreadcrumb(o,e.message,"info",a),W.captureError(e,"fungibles"))};i();r();var Rt=["BitcoinNative","EthereumNative","PolygonNative","MonadNative","SolanaNative","BaseNative","ArbitrumNative","SuiNative","HypercoreNative"];function A(e){return!!e&&Rt.includes(e)}i();r();function Bi(e){let n=e.resourceType==="nativeToken";return g.isSolanaNetworkID(e.chainId)?n?"SolanaNative":"SPL":g.isEVMNetworkID(e.chainId)?n?g.isEthereumNetworkID(e.chainId)?"EthereumNative":g.isPolygonNetworkID(e.chainId)?"PolygonNative":g.isBaseNetworkID(e.chainId)?"BaseNative":g.isArbitrumNetworkID(e.chainId)?"ArbitrumNative":g.isHypercoreNetworkID(e.chainId)?"HypercoreNative":"MonadNative":"ERC20":g.isBitcoinNetworkID(e.chainId)?n?"BitcoinNative":"BRC20":g.isSuiNetworkID(e.chainId)?n?"SuiNative":"SuiCoin":"SPL"}i();r();var _t=F(ft()),Pi={maximumFractionDigits:2,minimumFractionDigits:2},Vt=1e-5,wi="0,0.[00]a",Di=1e5,Mi=(e,n=5)=>{let o=new C(e);if(o.abs().isGreaterThan(0)&&o.abs().isLessThan(Vt))return`< ${o.isLessThan(0)?"-":""}${Vt}`;let a=(0,_t.default)(o.toNumber());return o.isGreaterThanOrEqualTo(Di)?a.format(wi):a.format(`0,0.[${"0".repeat(n)}]`)};i();r();var Oi=e=>({data:{balance:e&&e.data&&e.data.balance!==void 0&&e.data.balance!==null?String(e.data.balance):void 0,price:e?.data?.price,usd_24h_change:e?.data?.usd_24h_change}}),Ut=e=>{if(!e?.data?.balance||!e?.data?.price)return;let n=new C(e.data.balance),o=new C(e.data.price);return n.multipliedBy(o).toNumber()},Lt=(e,n)=>!e?.averageCostBasis||!n?.data?.balance||!n?.data?.price?void 0:new C(e.averageCostBasis).multipliedBy(10**6).toNumber(),Ri=(e,n)=>{let o=Lt(e,n),a=Ut(n);if(!o||!a||!n?.data?.balance)return;let s=new C(n.data.balance).multipliedBy(o);return new C(a).minus(s).toNumber()};i();r();var Vi=(e,n)=>g.isBitcoinNetworkID(e)&&n?`BitcoinNative-${n}`:null;i();r();var _i=(e,n)=>{if(!g.isBitcoinNetworkID(e))return;let o=I(e,n);return`BitcoinNative-${o}`};i();r();i();r();i();r();var E={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nonNativeFungibleTokenType:"ERC20"};var Ht={...E,nativeFungibleTokenType:"ArbitrumNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};i();r();var jt={...E,nativeFungibleTokenType:"BaseNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};i();r();var zt={sendSuccessCondition:"SUBMISSION",formDisplayPrecision:6,minimumSendableCurrencyAmount:.5,nativeFungibleTokenType:"BitcoinNative",nonNativeFungibleTokenType:"BRC20",nativeTokenFungibleBalanceKey:function(e,n){if(n!==void 0)return`BitcoinNative-${n}`},alwaysShowNetworkBadge:!1};i();r();var Kt={...E,nativeFungibleTokenType:"EthereumNative",nativeTokenFungibleBalanceKey(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};i();r();var Gt={...E,nativeFungibleTokenType:"HypercoreNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};i();r();var $t={...E,nativeFungibleTokenType:"MonadNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!1};i();r();var Wt={...E,nativeFungibleTokenType:"PolygonNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};i();r();var qt={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nativeFungibleTokenType:"SolanaNative",nonNativeFungibleTokenType:"SPL",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};i();r();var Qt={nativeFungibleTokenType:"SuiNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!0,sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:9,minimumSendableCurrencyAmount:0,nonNativeFungibleTokenType:"SuiCoin"};var Ui=new ut({solana:qt,ethereum:Kt,polygon:Wt,base:jt,arbitrum:Ht,bitcoin:zt,monad:$t,sui:Qt,hypercore:Gt}),j=pt(Ui);i();r();var Li="25.13.0",Hi=`fungible-tokens-${Li}`,Yt=[Hi,"token-details"],ji={tokenDetails:({caip19:e,includePrice:n})=>[...Yt,{caip19:e,includePrice:n}]};i();r();i();r();i();r();var Ce=t.object({usd:t.number().optional(),usd_24h_change:t.number().optional(),price:t.number().optional(),priceChange24h:t.number().optional(),currencyValue:t.number().optional(),currencyChange:t.number().optional(),lastUpdatedAt:t.string().datetime().optional()});i();r();i();r();var Xt=e=>!!e;function z(e){return t.any().array().transform(n=>n.map(o=>{let a=e.safeParse(o);return a.success?a.data:void 0}).filter(Xt)).catch([])}i();r();i();r();i();r();var Y=(s=>(s.Trusted="TRUSTED",s.Verified="VERIFIED",s.NotVerified="NOT_VERIFIED",s.PossibleSpam="POSSIBLE_SPAM",s.Spam="SPAM",s))(Y||{}),ve=t.nativeEnum(Y);var f=t.object({chain:at,decimals:t.number(),logoUri:t.string().nullish().default(null),name:t.string().nullish().default(null),symbol:t.string().nullish().default(null),spamStatus:ve.optional().default("NOT_VERIFIED"),marketCap:t.number().optional(),volume24hUsd:t.number().optional()}),Fe=(p=>(p.Website="website",p.Telegram="telegram",p.X="x",p.Discrod="discord",p))(Fe||{}),zi=t.object({type:t.nativeEnum(Fe),url:t.string()});var Ki=t.object({extension:t.literal("interestBearingConfig"),state:t.object({currentRate:t.number(),initializationTimestamp:t.number(),lastUpdateTimestamp:t.number(),preUpdateAverageRate:t.number(),rateAuthority:t.string()}),meta:t.object({amountPrincipal:t.string()}).optional()}),Gi=t.object({extension:t.literal("transferFeeConfig"),state:t.object({newerTransferFee:t.object({transferFeeBasisPoints:t.number()})})}),$i=t.object({extension:t.literal("permanentDelegate"),state:t.object({delegate:t.string()})}),Wi=t.object({extension:t.literal("transferHook"),state:t.object({authority:t.string().nullish().default(null),programId:t.string()})}),qi=t.object({extension:t.literal("tokenMetadata"),state:t.object({additionalMetadata:t.array(t.array(t.string())),mint:t.string(),name:t.string(),symbol:t.string(),updateAuthority:t.string(),uri:t.string()})}),Qi=t.object({extension:t.literal("mintCloseAuthority"),state:t.object({closeAuthority:t.string()})}),Yi=t.object({extension:t.literal("groupMemberPointer"),state:t.object({authority:t.string(),memberAddress:t.string()})}),Xi=t.object({extension:t.literal("metadataPointer"),state:t.object({authority:t.string(),metadataAddress:t.string()})}),Ji=t.object({extension:t.literal("nonTransferable")}),Zi=t.object({extension:t.literal("scaledUiAmountConfig"),state:t.object({authority:t.string(),multiplier:t.string(),newMultiplier:t.string().optional(),newMultiplierEffectiveTimestamp:t.number().optional()})}),V=t.union([Ki,Gi,$i,Wi,qi,Qi,Xi,Yi,Ji,Zi]),fp=f.merge(t.object({address:t.string().nullish(),description:t.string().nullish(),logoURI:t.string().nullish(),links:t.array(zi).nullish(),marketCap:t.number({coerce:!0}).nullish(),totalSupply:t.number({coerce:!0}).nullish(),circulatingSupply:t.number({coerce:!0}).nullish(),maxSupply:t.number({coerce:!0}).nullish(),holders:t.number().nullish(),volume24hUSD:t.number({coerce:!0}).nullish(),volume24hUSDChangePercentage:t.number().nullish(),trades24h:t.number().nullish(),trades24hChangePercentage:t.number().nullish(),uniqueWallets24h:t.number().nullish(),uniqueWallets24hChangePercentage:t.number().nullish(),top10HoldersPercent:t.number().nullish(),mintable:t.boolean().nullish(),freezable:t.boolean().nullish(),mutableMetadata:t.boolean().nullish(),ownershipRenounced:t.boolean().nullish(),updateAuthority:t.string().nullish(),freezeAuthority:t.string().nullish(),spamStatus:ve.optional().default("NOT_VERIFIED"),mintExtensions:z(V).nullish(),createdDate:t.string().datetime().nullish().default(null),categories:t.object({id:t.string(),name:t.string(),imageUri:t.string(),numTokens:t.number()}).array().optional()})),yp=t.object({code:t.string(),message:t.string()});var y=t.object({walletAddress:t.string(),amount:t.string()}),er=t.object({type:t.literal("SolanaNative"),data:f}),tr=t.object({type:t.literal("SolanaNative"),data:f.merge(y)}),nr=t.object({type:t.literal("EthereumNative"),data:f}),ir=t.object({type:t.literal("EthereumNative"),data:f.merge(y)}),rr=t.object({type:t.literal("PolygonNative"),data:f}),or=t.object({type:t.literal("PolygonNative"),data:f.merge(y)}),ar=t.object({type:t.literal("BaseNative"),data:f}),sr=t.object({type:t.literal("BaseNative"),data:f.merge(y)}),pr=t.object({type:t.literal("ArbitrumNative"),data:f}),ur=t.object({type:t.literal("ArbitrumNative"),data:f.merge(y)}),cr=t.object({type:t.literal("MonadNative"),data:f}),lr=t.object({type:t.literal("MonadNative"),data:f.merge(y)}),mr=t.object({type:t.literal("SuiNative"),data:f}),dr=t.object({type:t.literal("SuiNative"),data:f.merge(y)}),gr=t.object({type:t.literal("HypercoreNative"),data:f}),fr=t.object({type:t.literal("HypercoreNative"),data:f.merge(y)}),yr=t.object({type:t.literal("BitcoinNative"),data:f}),br=t.object({type:t.literal("BitcoinNative"),data:f.merge(y)}),X=(o=>(o.PreDeploy="preDeploy",o.Graduated="graduated",o))(X||{}),Tr=t.object({programId:t.string(),status:t.nativeEnum(X)}),Sr=f.extend({contractAddress:t.string()}),hr=t.object({type:t.literal("HypercoreAsset"),data:Sr}),K=f.extend({mintAddress:t.string(),splTokenAccountPubkey:t.string(),programId:t.string(),mintExtensions:z(V).optional(),ugcTokenMeta:Tr.optional()}),Ap=t.object({type:t.literal("SPL"),data:K}),kr=t.object({type:t.literal("SPL"),data:K.merge(y)}),xr=t.object({type:t.literal("CompressedSPL"),data:K.merge(y).omit({splTokenAccountPubkey:!0})}),Cr=t.object({type:t.literal("SPL"),data:K.omit({splTokenAccountPubkey:!0,programId:!0})}),Ae=f.extend({contractAddress:t.string()}),vr=t.object({type:t.literal("ERC20"),data:Ae}),Fr=t.object({type:t.literal("ERC20"),data:Ae.merge(y)}),Ne=f.extend({firstCreatedTransactionHash:t.string().optional(),firstCreatedInscriptionId:t.string()}),Ar=t.object({type:t.literal("BRC20"),data:Ne}),Nr=t.object({type:t.literal("BRC20"),data:Ne.merge(y)}),Jt=f.extend({contractAddress:t.string()}),Ir=t.object({type:t.literal("SuiCoin"),data:Jt}),Zt=f.extend({contractAddress:t.string()}),Np=t.object({type:t.literal("SuiCoin"),data:Zt}),Er=t.object({type:t.literal("SuiCoin"),data:Zt.merge(y)}),J=t.discriminatedUnion("type",[Nr,Fr,kr,xr,Er,tr,ir,or,sr,ur,lr,br,dr,fr]),Ie=t.union([Ar,vr,Cr,er,nr,rr,ar,pr,cr,yr,mr,Ir,gr,hr]),N=Ce.extend({balance:t.instanceof(C),key:t.string(),tokenAddress:t.string().optional(),externalUrl:t.string().optional()}),Ee=t.union([t.object({type:t.literal("SolanaNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("SPL"),data:t.intersection(K.merge(y),N)}),t.object({type:t.literal("CompressedSPL"),data:t.intersection(K.merge(y).omit({splTokenAccountPubkey:!0}),N)})]),Be=t.union([t.object({type:t.literal("EthereumNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("ERC20"),data:t.intersection(Ae.merge(y),N)}),t.object({type:t.literal("PolygonNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("BaseNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("ArbitrumNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("MonadNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("HypercoreNative"),data:t.intersection(f.merge(y),N)})]),Pe=t.union([t.object({type:t.literal("BitcoinNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("BRC20"),data:t.intersection(Ne.merge(y),N)})]),we=t.union([t.object({type:t.literal("SuiNative"),data:t.intersection(f.merge(y),N)}),t.object({type:t.literal("SuiCoin"),data:t.intersection(Jt.merge(y),N)})]),en=t.union([Ee,Be,Pe,we]);i();r();var Br=t.object({price:t.number(),priceChange24h:t.number().optional(),lastUpdatedAt:t.coerce.date(),marketCap:t.number().optional()}).nullish(),Pr=t.enum(["TRUSTED","VERIFIED","NOT_VERIFIED","POSSIBLE_SPAM","SPAM"]),wr=t.object({id:t.string(),name:t.string(),imageUri:t.string().nullish().transform(e=>e??""),numTokens:t.number()}),tn=t.object({compression:t.object({compressed:t.boolean()}).optional(),creators:t.array(t.object({address:t.string(),share:t.number(),verified:t.boolean()})).nullish(),tokenProgram:t.string().nullish(),extensions:z(V).nullish()}),Dr=t.object({name:t.string().nullish(),symbol:t.string().nullish(),decimals:t.number(),logoUri:t.string().nullish(),extraMetadata:tn.optional(),price:Br}),Mr=Dr.extend({type:t.enum(["native","fungible"]),encodedCaip19:t.string(),decodedCaip19:rt,spamStatus:Pr,chainName:t.string(),legacyKey:t.string()}),Or=Mr.extend({extraMetadata:tn.extend({id:t.string().nullish().default(null),description:t.string().nullish().default(null),marketCap:t.coerce.number().optional(),circulatingSupply:t.coerce.number().optional(),totalSupply:t.coerce.number().optional(),liquidity:t.coerce.number().optional(),holders:t.coerce.number().optional(),links:t.array(t.object({type:t.string(),url:t.string()})).optional(),volume24hUSD:t.coerce.number().optional(),volume24hUSDChangePercentage:t.coerce.number().optional(),trades24h:t.coerce.number().optional(),trades24hChangePercentage:t.coerce.number().optional(),uniqueWallets24h:t.coerce.number().optional(),uniqueWallets24hChangePercentage:t.coerce.number().optional(),top10HoldersPercent:t.coerce.number().optional(),mintable:t.boolean().optional(),freezable:t.boolean().optional(),mutableMetadata:t.boolean().optional(),ownershipRenounced:t.boolean().optional(),updateAuthority:t.string().optional(),createdDate:t.string().datetime().nullish().default(null)}).optional(),categories:t.array(wr),createdDate:t.coerce.date().nullish().default(null)});var O=F(hi());i();r();function Rr(e){return e.map(n=>`${n.networkID}/${n.address}`).sort()}function nn(e){return["tokens",Rr(e)]}var M={swapperDiscovery(e){return["swapperDiscovery",e]},hiddenMints(e){return["hiddenMints",{accountId:e}]},splTokenMap:["splTokenMap"],tokenPrices(e){return["tokenPrices",{tokenIds:e}]},tokens(e){return nn(e)},tokensErrorCount(e){return[...nn(e),"tokensError"]},minimumRequiredBalance(e){return["minimumRequiredBalance",{chainAddress:e}]},solanaBalance(e){return["solanaBalance",{chainAddress:e}]},transferFungibleLoggingContext(e){return["transferFungibleLoggingContext",{fungibleKey:e}]},transferTransaction(e){return["transferTransaction",e]},unwrapTransaction({caip19:e,amount:n,owner:o}){return["unwrapTransaction",{caip19:e,amount:n,owner:o}]},fungibleDetail({caip19:e}){return["fungibleDetail",{caip19:e}]},fungiblePosition({caip19:e,walletAddress:n}){return["fungiblePosition",{caip19:e,walletAddress:n}]}};var Vr=v({days:30}),_r=O.struct([O.blob(32,"mint"),O.blob(32,"owner"),O.nu64("amount"),O.blob(93)]),Ur=e=>{let n=M.minimumRequiredBalance(e);return L({enabled:!!e&&Te(e),gcTime:1/0,staleTime:Vr,queryKey:n,async queryFn(){if(!e)throw new Error("No chain address provided");if(Te(e))return ue(e.networkID).getMinimumBalanceForRentExemption(_r.span);throw new Error(`Minimum required balance not implemented for ${e.networkID}`)}})};i();r();var rn={Taproot:"bip122_p2tr",NativeSegwit:"bip122_p2wpkh"};function Lr(e){return!e||!e.startsWith("BitcoinNative")?null:e.endsWith("bip122_p2tr")?rn.Taproot:e.endsWith("bip122_p2wpkh")?rn.NativeSegwit:null}i();r();var Hr=(e,n)=>j.get(e).nativeTokenFungibleBalanceKey(e,n);i();r();var jr=e=>zr[e],zr={"shortcut-chat":"MessageCircle","shortcut-default":"Link","shortcut-discord":"LogoDiscord","shortcut-gaming":"Joystick","shortcut-gaming-2":"PacMan","shortcut-generic-add":"Plus","shortcut-generic-link":"Link","shortcut-instagram":"Instagram","shortcut-leaderboard":"Crown","shortcut-mint":"Sparkle","shortcut-mint-2":"Leaf","shortcut-stake":"TrendingUp","shortcut-stake-2":"Star","shortcut-telegram":"LogoTelegram","shortcut-tip":"DollarSign","shortcut-twitter":"LogoXTwitter","shortcut-twitter-2":"LogoXTwitter","shortcut-view":"Eye","shortcut-vote":"ThumbsUp","shortcut-vote-2":"CheckSquare","shortcut-x":"LogoXTwitter",burnToken:"Burn",buy:"DollarSign",copyTokenAddress:"Copy",hide:"Eye",list:"Tag2",mintLST:"Droplet",more:"MoreHorizontal",pin:"PinRight",receive:"Qr",reportIssue:"Flag",reportAsNotSpam:"Flag",reportAsSpam:"Flag",saveToLibrary:"Download",send:"Send",setAsAvatar:"Smile",share:"Share",stake:"TrendingUp",stakeSol:"TrendingUp",swap:"Swap",trade:"Swap",unhide:"EyeOff",unpin:"PinRightOff",unstake:"MinusCircle",unwrapWrappedSol:"WalletOpen",viewOnExplorer:"ExternalLink",decompress:"PlusCircle",depositWithKamino:"Droplet"};i();r();i();r();var Tn=F(Ti());i();r();i();r();i();r();var on=(u=>(u.NonFungible="NonFungible",u.SemiFungible="SemiFungible",u.Fungible="Fungible",u.NonFungibleEdition="NonFungibleEdition",u.ProgrammableNonFungible="ProgrammableNonFungible",u.ProgrammableNonFungibleEdition="ProgrammableNonFungibleEdition",u))(on||{}),an=(u=>(u.ERC20="ERC20",u.ERC721="ERC721",u.ERC777="ERC777",u.ERC1155="ERC1155",u.ERC4626="ERC4626",u.unknown="unknown",u))(an||{}),sn=t.object({code:t.string(),message:t.string(),details:t.object({chainId:nt,address:t.string()})}),De=t.object({averageCostBasis:t.string().optional(),amount:t.string()}),Z=class e extends Error{statusCode=400;constructor(n){super(n),Object.setPrototypeOf(this,e.prototype),this.name="FungibleError"}getMessage(){return`Something went wrong: ${this.message}`}};i();r();function Me(e){return e.resourceType==="nativeToken"?j.get(e.chainId).nativeFungibleTokenType:j.get(e.chainId).nonNativeFungibleTokenType}i();r();function Oe(e){if(A(e.type))return e.type==="BitcoinNative"?`${e.type}-${I(e.data.chain.id,e.data.walletAddress)}`:e.type;switch(e.type){case"SPL":case"CompressedSPL":return e.data.mintAddress??"";case"ERC20":case"SuiCoin":return e.data.contractAddress;case"BRC20":{let n=I(e.data.chain.id,e.data.walletAddress);return`${e.data.firstCreatedInscriptionId}-${n}`}}}function Kr(e,n){let o=Me(e);if(A(o))return o==="BitcoinNative"&&n!==void 0?[`${o}-${I(e.chainId,n)}`]:[o];if(o==="SPL"&&e.resourceType==="address")return[e.address];if(o==="ERC20"&&e.resourceType==="address")return[e.address];if(o==="BRC20"&&e.resourceType==="address")return tt.map(a=>`${e.address}-${a}`);if(o==="SuiCoin"&&e.resourceType==="address")return[e.address]}i();r();i();r();i();r();i();r();i();r();var Re=e=>e/100;i();r();var Ve=e=>e.extension==="transferFeeConfig",_e=e=>e.extension==="interestBearingConfig",pn=e=>e.extension==="permanentDelegate";function Gr(e){return e.extension==="nonTransferable"}function un(e){return g.isSolanaNetworkID(e.data.chain.id)}function cn(e){return g.isEVMNetworkID(e.data.chain.id)}function ln(e){return g.isSuiNetworkID(e.data.chain.id)}function mn(e){return g.isBitcoinNetworkID(e.data.chain.id)}var de=e=>"data"in e&&e.data&&"mintExtensions"in e.data?e.data.mintExtensions||[]:"chainData"in e&&e.chainData&&"mintExtensions"in e.chainData?e.chainData.mintExtensions||[]:[];function $r(e){if(!e)return;let o=de(e)?.find(Ve)?.state.newerTransferFee.transferFeeBasisPoints;return o?Re(o):void 0}function Ue(e){return e?de(e)?.find(_e):void 0}function Wr(e){return e?!!de(e).find(a=>a.extension==="nonTransferable"):!1}function Le(e){return e?de(e).reduce((a,p)=>p.extension==="transferHook"?p.state.programId:a,void 0):void 0}var dn=new x("31556736"),gn=new x("10000"),qr=17,fn=e=>new x(Math.exp(e.toNumber())),He=class{initializationTimestamp;preUpdateAverageRate;lastUpdateTimestamp;currentRate;constructor(n){this.initializationTimestamp=new x(n.initializationTimestamp),this.preUpdateAverageRate=new x(n.preUpdateAverageRate),this.lastUpdateTimestamp=new x(n.lastUpdateTimestamp),this.currentRate=new x(n.currentRate)}preUpdateTimespan(){return this.lastUpdateTimestamp.minus(this.initializationTimestamp)}preUpdateExp(){let o=new x(this.preUpdateAverageRate).times(this.preUpdateTimespan()).div(dn).div(gn);return fn(o)}postUpdateTimespan(n){return n.minus(this.lastUpdateTimestamp)}postUpdateExp(n){let a=new x(this.currentRate).times(this.postUpdateTimespan(n)).div(dn).div(gn);return fn(a)}totalScale(n,o){return this.preUpdateExp()?.times(this.postUpdateExp(o)).div(pe(n))}amountToUiAmount(n,o,a){return new x(n).times(this.totalScale(o,new x(a))).precision(qr).decimalPlaces(o).toString()}},yn=e=>{if(e.type!=="SPL")return e;let n=Ue(e)?.state;if(!n)return e;let{amount:o,mintExtensions:a}=e.data,p=new He(n),s=Date.now()/1e3,u=p.amountToUiAmount(o,0,s),l=a?a?.map(m=>m.extension==="interestBearingConfig"?{...m,meta:{amountPrincipal:o}}:m):void 0;return{...e,data:{...e.data,amount:u,mintExtensions:l}}},je=(e,n)=>{let o=Ue(e);if(!o||!o.meta)return n;let a=new x(e.data.amount),p=new x(o.meta.amountPrincipal);return new x(n).times(p).div(a).decimalPlaces(0)};var vc=new Z("Failed to get fungible tokens for addresses");async function ze(e){let{addresses:n,analytics:o}=e;try{let a=await ae.api().headers({"Content-Type":"application/json"}).timeout(v({seconds:20})).post("/tokens/v1",{addresses:n},{params:{isSolCompressedTokensEnabled:"true"}});if(a.status!==200)throw new Se({key:"TokensNotLoading"});let p=await a.data,s=[],u=[],l=!1;for(let m of p.tokens){let d=J.safeParse(m);if(d.success){let b=yn(d.data);s.push(b)}else l=!0}return p.errors.forEach(m=>{let d=sn.safeParse(m);d.success&&u.push(d.data)}),u.length===0&&p.isTrimmed&&u.push({code:"TokensTrimmed",message:"",details:{chainId:"solana:101",address:"unknown"}}),u.length&&o.capture("getBalanceRequestError",{data:{chains:u.map(m=>m.details.chainId)}}),l&&W.captureError(new Error("fungibles failed to parse some items"),"fungibles"),{tokens:s,errors:u,isTrimmed:p.isTrimmed}}catch{throw new Se({key:"TokensNotLoading"})}}function bn({select:e,chainAddresses:n=[],queryOptions:o={staleTime:Q.Short,refetchInterval:ke.Long}}){let a=M.tokens(n),p=M.tokensErrorCount(n),s=gt(),u=dt();return L({queryKey:a,enabled:n.length>0&&n.every(l=>!g.isLocalNetworkID(l.networkID)),gcTime:H.Medium,staleTime:o.staleTime,refetchInterval:o.refetchInterval,refetchOnReconnect:!0,networkMode:"always",retry:!1,select:e,async queryFn({queryKey:l}){try{let m=n.map(Ft),d=await ze({addresses:m,analytics:s});if(d.errors.length>0&&!d.isTrimmed){let b=u.getQueryData(l);if(b)for(let h of d.errors){let S=b.tokens.filter(k=>k.data.chain.id===h.details.chainId);d.tokens.push(...S)}}return u.removeQueries({queryKey:p}),d}catch(m){let d=u.getQueryData(p)??0;throw u.setQueryData(p,d+1),m}}})}function Yr({chainAddresses:e,keys:n,queryOptions:o}){let a=(0,Tn.useCallback)(({tokens:p})=>!n||!n.length?p:p.filter(s=>n.includes(Oe(s))),[n]);return bn({select:a,chainAddresses:e,queryOptions:o})}i();r();i();r();async function Sn(e){let n=ot(e.caip19);if(n.chainId!=="solana:101")throw new Error("Unsupported network for fungible position");let o=n.resourceType==="nativeToken"?"0x0":n.address,a=await ae.api().timeout(v({seconds:10})).get(`/bdp/positions/${e.walletAddress}/${o}`);if(a.status!==200)throw new Error(`Failed to fetch fungible position: ${a.statusText}`);let p=await a.data;return De.parse(p)}function Xr(e){let n=ct("enable-fungible-position"),o=e&&n;return L({gcTime:H.Short,staleTime:Q.Long,queryKey:o?M.fungiblePosition(e):[],queryFn:o?async()=>{try{return await Sn(e)}catch(a){if(et(a)){let p=a.response?.status;xe(a,p,"get-fungible-position")}throw a}}:mt})}i();r();i();r();var Ke=e=>{let{nonce:n,sender:o,destination:a,value:p,ethereumNetworkID:s}=e;return _.parse({type:"0x2",nonce:n!==void 0?`0x${Number(n).toString(16)}`:void 0,from:o,to:a,chainId:typeof s=="number"?s:g.getEVMNetworkIDValue(s),value:`0x${p.toString(16)}`})};i();r();i();r();i();r();var wn=F(it());i();r();var hn=F(P()),kn=F(P()),xn=F(it());i();r();i();r();i();r();function G(e){return e*111+546}function fe(e){return e*151+G(e)}function Cn({sender:e,feerate:n,taprootScriptSpendPath:o,utxoState:{safeToSendUtxos:a}}){let p=fe(n),{scriptTree:s,inscribeP2tr:u}=o,l=u.output;if(!l)throw new Error("Commit output script is undefined");let m=u.address;if(!m)throw new Error("Reveal address is undefined");let d=[{address:m,script:l,value:p,tapInternalKey:u.internalPubkey,tapTree:{leaves:(0,xn.tapTreeToList)(s)}}],b=ce(I(se.Bitcoin.Mainnet,e),a,d,n),h=new kn.Psbt({network:hn.networks.bitcoin});if(b.type==="success"){let{inputs:S,outputs:k}=b;h.addInputs(S.map(B=>le(B,e,!0))),h.addOutputs(k)}return[h,h.data.inputs.map((S,k)=>({address:e,signingIndexes:[k]})),b.vb]}i();r();var vn=F(P()),Fn=F(P());function An({sender:e,feerate:n,taprootScriptSpendPath:o}){return{metadata:"brc20_reveal",inputsToSign:[{address:e,signingIndexes:[0],isScriptSpend:!0}],psbtFn:a=>{let{inscribeP2tr:p,tapLeafScript:s}=o,u=p.output;if(!u)throw new Error("Commit output script is undefined");let l=new Fn.Psbt({network:vn.networks.bitcoin}),m=fe(n),d={hash:a,index:0,value:m};l.addInput({hash:d.hash,index:d.index,witnessUtxo:{script:u,value:d.value},tapLeafScript:[s]});let b=G(n);return l.addOutput({address:e,value:b}),l},additionalCost:{vb:new C(151),sats:new C(0)}}}i();r();var Nn=F(P()),In=F(P()),En=F(Si());function Bn({sender:e,receiver:n,feerate:o}){return{metadata:"brc20_send",inputsToSign:[{address:e,signingIndexes:[0]}],psbtFn:a=>{let p=new In.Psbt({network:Nn.networks.bitcoin}),s=G(o),u={hash:a,index:0,value:s};return p.addInput({hash:u.hash,index:u.index,witnessUtxo:{script:(0,En.toOutputScript)(e),value:u.value}}),p.addOutput({address:n,value:546}),p},additionalCost:{vb:new C(111),sats:new C(546)}}}i();r();var ye=F(P());function Pn(e,n,o){let a=Nt(e,At(n,o)),p={output:a},s={output:a,redeemVersion:192},u=ye.payments.p2tr({internalPubkey:e,scriptTree:p,network:ye.networks.bitcoin,redeem:s}),l=u.witness;if(!l)throw new Error("Witness is undefined");let m={leafVersion:s.redeemVersion,script:s.output,controlBlock:l[l.length-1]};return{scriptTree:p,inscribeLockRedeem:s,inscribeP2tr:u,tapLeafScript:m}}var Dn=({senderAddress:e,destination:n,tick:o,amount:a,scriptPublicKey:p,utxoState:s,feerate:u})=>{let l=(0,wn.toXOnly)(Buffer.from(p)),m=Pn(l,o,a.toNumber()),[d,b,h]=Cn({sender:e,feerate:u,taprootScriptSpendPath:m,utxoState:s}),S=An({sender:e,feerate:u,taprootScriptSpendPath:m}),k=Bn({sender:e,receiver:n,feerate:u});return[d,[S,k],b,h]};i();r();var Mn=F(P()),On=F(P()),Rn=({senderAddress:e,destination:n,amount:o,utxoState:{safeToSendUtxos:a},feerate:p})=>{let s=ce(I(se.Bitcoin.Mainnet,e),a,[{address:n,value:o.toNumber()}],p),u=new On.Psbt({network:Mn.networks.bitcoin});if(s.type==="success"){let{inputs:l,outputs:m}=s;u.addInputs(l.map(d=>le(d,e,!0))),u.addOutputs(m)}return[u,u.data.inputs.map((l,m)=>({address:e,signingIndexes:[m]})),s.vb]};function Vn({data:e,type:n},{amountAsset:o,recipient:a,transactionSpeed:p},s){let u,l,m,d,{transactionSpeedsToUnitCost:b,utxoState:h,chainAddress:S}=s,k=e.chain.id,B=b[p??"standard"];if(!B?.btcPerKilobyte)throw new Error("Transaction unit cost is required");let w=Math.round(B?bt(B.btcPerKilobyte).toNumber():yt);switch(n){case"BitcoinNative":[u,d,m]=Rn({senderAddress:e.walletAddress,destination:a,amount:o,utxoState:h,feerate:w});break;case"BRC20":{if(!S)throw new Error("Cannot find chain address to sign with.");let oe=S.publicKey;if(!oe)throw new Error(`Public key does not exist for address ${e.walletAddress}`);[u,l,d,m]=Dn({senderAddress:e.walletAddress,destination:a,amount:o,scriptPublicKey:oe,tick:e.name??"",utxoState:h,feerate:w});break}}return{networkID:k,psbt:u,psbtChain:l,inputsToSign:d,vb:m}}i();r();i();r();var Zr=["function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function approve(address spender, uint amount) returns (bool)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],_n=new Error("Error populating ERC20 transaction data."),Un=async e=>{let{sender:n,networkID:o,destination:a,contractAddress:p,value:s,ethereumNetworkID:u}=e,l=Tt(o,p,Zr,n),m;try{let b=await l.populateTransaction.transfer(a,It(s),{from:n});if(b.data)m=b.data;else throw _n}catch{throw _n}return _.parse({type:"0x2",to:p,from:n,chainId:typeof u=="number"?u:g.getEVMNetworkIDValue(u),data:m})};async function Ln({type:e,data:n},{recipient:o,amountAsset:a}){let{chain:p}=n,s=p.id,u;if(A(e))u=Ke({sender:n.walletAddress,destination:o,value:a,ethereumNetworkID:s});else if(e==="ERC20")u=await Un({sender:n.walletAddress,networkID:s,destination:o,contractAddress:n.contractAddress,value:a,ethereumNetworkID:s});else return D(e);return{networkID:s,unsignedTransaction:u}}i();r();async function jn(e,{amountAsset:n,recipient:o,solana:a}){let{type:p,data:s}=e,u=s.chain.id,{references:l,memo:m}=a,d=a.references?.map(B=>B.toString())??[],{walletAddress:b}=s,h=ue(u),S,k=2e5;switch(p){case"SolanaNative":{let B=new U.PublicKey(b),w=new U.PublicKey(o);(!d||!d.length)&&!m&&(k=500),S=Bt({fromPubkey:B,toPubkey:w,lamports:BigInt(n.toFixed()),references:d?.map(oe=>new U.PublicKey(oe))??[],memo:m??null});break}case"SPL":{S=await Et({connection:h,destination:o,senderAccount:s.splTokenAccountPubkey,mint:s.mintAddress,decimals:s.decimals,amount:je(e,n),programId:s.programId,references:d,memo:m,networkID:u,senderAddress:{networkID:u,addressType:"solana",address:s.walletAddress},transferHookProgramId:Le(e)});break}default:throw new Error("Unsupported solana transfer transaction")}if(!S)throw new Error("Unable to create transaction.");return S.feePayer=new U.PublicKey(b),S=await vt(S,{connection:h,calculators:{budget:new Ct(k)}}),S.recentBlockhash=(await h.getLatestBlockhash("confirmed")).blockhash,{networkID:u,transaction:[S]}}i();r();var no=BigInt("4000000"),zn=async({type:e,data:n},o)=>{let{walletAddress:a,chain:p}=n,s=p.id,{amountAsset:u,recipient:l}=o,m=g.getRpcProxyUrl(s);if(!m)throw new Error("Failed to get Sui RPC url");let d=new kt({url:m}),b=new St;b.setSender(a),b.setGasBudget(no);let h=()=>{let B=BigInt(u.toFixed()),w;switch(e){case"SuiNative":w={useGasCoin:!0};break;case"SuiCoin":w={type:n.contractAddress};break;default:D(e)}return ht({balance:B,...w})};b.transferObjects([h()],l);let S=await b.build({client:d});return{networkID:s,transaction:S}};async function io(e,n,o){return un(e)?jn(e,n):cn(e)?Ln(e,n):ln(e)?zn(e,n):mn(e)?Vn(e,n,o):D(e)}i();r();i();r();var ee=e=>{let n=e.data.chain.id;if(A(e.type))return{chainId:n,slip44:g.getSlip44(n),resourceType:"nativeToken"};{let o;switch(e.type){case"SPL":case"CompressedSPL":o=e.data.mintAddress;break;case"ERC20":case"SuiCoin":o=e.data.contractAddress;break;case"BRC20":o=e.data.firstCreatedInscriptionId;break;case"HypercoreAsset":o=e.data.contractAddress;break}return{chainId:n,address:o,resourceType:"address"}}};function oo({fungible:e,accountId:n,analytics:o,setVisibilityOverrides:a}){if(!(!e||!n))return async()=>{o.capture("fungiblesReportAsSpam",{data:{caip19:"encodedCaip19"in e?e.encodedCaip19:$(ee(e))}}),await a({accountId:n,mutations:[{fungibleKey:"legacyKey"in e?e.legacyKey:e.data.key,visibility:"hidden:reported_spam"}]})}}i();r();var ao=["receive","send","decompress","swap","trade","buy","stakeSol","mintLST","stake","unstake","viewOnExplorer","copyTokenAddress","unwrapWrappedSol","share","reportIssue"],ld=new Map(ao.map((e,n)=>[e,n+1]));function so(e,n){let o=e.length>n?e.slice(n-1):[];return{more:o,primary:o.length>0?e.slice(0,n-1):e}}i();r();function We(e,n){return n.data.balance.comparedTo(e.data.balance)}i();r();i();r();var Kn=["solana","eip155","sui","bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],Gn=he(I);function po(e,n){let o=Gn(e.data.chain.id,e.data.walletAddress),a=Gn(n.data.chain.id,n.data.walletAddress),p=Kn.indexOf(o)-Kn.indexOf(a);return p===0?0:p<0?-1:1}var $n=he(po);i();r();var Wn="\uFFFF";function qn(e,n){let o=e.data.name?.toUpperCase()??Wn,a=n.data.name?.toUpperCase()??Wn;return o.localeCompare(a)}i();r();function Qn(e,n){let o=e.data.usd??Number.NEGATIVE_INFINITY,a=n.data.usd??Number.NEGATIVE_INFINITY;return o>a?-1:o<a?1:0}i();r();i();r();i();r();i();r();i();r();var ie=(s=>(s.Trusted="TRUSTED",s.Verified="VERIFIED",s.NotVerified="NOT_VERIFIED",s.PossibleSpam="POSSIBLE_SPAM",s.Spam="SPAM",s))(ie||{});var te=class e extends Error{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype),this.name="FungibleError"}},ne=class e extends Error{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype),this.name="CollectibleError"}};i();r();var uo={...lt("accountIdToHiddenMints",["hiddenMints"])};function co(e){return e.map(n=>typeof n=="string"?{mintId:n,status:"hidden"}:n)}function lo(e){return e?e.version===2?e:{version:2,value:Object.entries(e.value).reduce((n,[o,a])=>(n[o]=co(a),n),{})}:null}async function qe(e){try{return lo(await e.get("accountIdToHiddenMints"))}catch{throw new te("Failed to get visibility overrides")}}async function Yn(e,n){try{return await e.set("accountIdToHiddenMints",n)}catch{throw new te("Failed to set new visibility overrides")}}function mo(e){return new Map(e.map(n=>typeof n=="string"?[n,{mintId:n,status:"hidden"}]:[n.mintId,n]))}async function go(e,n){let a=((await qe(e))?.value??{})[n]??[];return mo(a)}async function fo(e,n,{accountId:o,mutations:a}){let s=(await qe(e)??{version:2,value:{}}).value??{},u=new Map((s[o]??[]).map(l=>[l.mintId,l]));for(let{fungibleKey:l,...m}of a)if("isHidden"in m){let{isHidden:d}=m;n.capture(d?"hideFungibleToken":"unhideFungibleToken",{data:{fungibleKey:l}}),u.set(l,{mintId:l,status:d?"hidden":"visible"})}else{let{visibility:d}=m;u.set(l,{mintId:l,status:d})}return s[o]=Array.from(u.values()),Yn(e,{version:2,value:s})}i();r();i();r();async function yo(e){let n=await e.get("hiddenCollections"),o=await e.get("unhiddenCollections");if(!n&&!o)return null;let a=await e.get("accountIdToCollectibleVisibilitySettings")??{version:2,value:{}},p=Object.entries(a.value).reduce((s,[u,l])=>(s[u]=new Map(l.map(m=>[m.id,m])),s),{});n&&Object.entries(n).forEach(([s,u])=>{p[s]||(p[s]=new Map);let l=p[s];u.forEach(m=>l.set(m,{id:m,status:"hidden"}))}),o&&Object.entries(o).forEach(([s,u])=>{p[s]||(p[s]=new Map);let l=p[s];u.forEach(m=>l.set(m,{id:m,status:"visible"}))}),await e.set("accountIdToCollectibleVisibilitySettings",{version:2,value:Object.entries(p).reduce((s,[u,l])=>(s[u]=Array.from(l.values()),s),{})}),await e.remove("hiddenCollections"),await e.remove("unhiddenCollections")}async function be(e){try{return await yo(e),await e.get("accountIdToCollectibleVisibilitySettings")}catch{throw new ne("Failed to get visibility overrides")}}async function Xn(e,n){try{return await e.set("accountIdToCollectibleVisibilitySettings",n)}catch{throw new ne("Failed to set new visibility overrides")}}function bo(e){return new Map(e.map(n=>[n.id,n]))}async function To(e,n){let a=((await be(e))?.value??{})[n]??[];return bo(a)}async function So(e){let o=(await be(e)??{version:2,value:{}}).value??{};return Object.values(o).reduce((a,p)=>a+p.length,0)}async function ho(e,n,{accountId:o,mutations:a}){let s=(await be(e)??{version:2,value:{}}).value??{},u=new Map((s[o]??[]).map(l=>[l.id,l]));for(let{id:l,visibility:m}of a)m===null?u.delete(l):(n.capture(m.includes("hidden")?"collectionHidden":"collectionUnhidden",{data:{id:l}}),u.set(l,{id:l,status:m}));return s[o]=Array.from(u.values()),Xn(e,{version:2,value:s})}i();r();i();r();i();r();var Jn=e=>{switch(e){case"TRUSTED":return 5;case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1;default:return D(e,new Error(`Invalid spam status: ${e}`))}};function Qe({minimum:e,spamStatus:n}){let o=Jn(e);return Jn(n)>=o}function Zn({visibilityStatus:e,spamStatus:n}){return e==="hidden:reported_spam"?"POSSIBLE_SPAM":e==="visible:reported_notSpam"?Qe({minimum:"VERIFIED",spamStatus:n})?n:"NOT_VERIFIED":n}function ko(e,{key:n,spamStatus:o}){let a=e?.get(n);return ei(a,{spamStatus:o})}function ei(e,{spamStatus:n}){if(!e)return n;let{status:o}=e;return Zn({visibilityStatus:o,spamStatus:n})}function xo(e,{key:n,spamStatus:o}){let a=e?.get(n);return ti(a,{spamStatus:o})}function ti(e,{spamStatus:n}){if(!e)return n;let{status:o}=e;return Zn({visibilityStatus:o,spamStatus:n})}function Co(e){return e==="POSSIBLE_SPAM"||e==="SPAM"}i();r();function ni(e,{key:n,spamStatus:o}){let a=e?.get(n);return ii(a,{spamStatus:o})}function ii(e,{spamStatus:n}){if(!e&&(n==="POSSIBLE_SPAM"||n==="SPAM"))return!0;if(!e)return!1;let{status:o}=e;return o==="hidden"||o==="hidden:reported_spam"}function vo(e,{key:n,spamStatus:o}){return!ni(e,{key:n,spamStatus:o})}function Fo(e,{key:n,spamStatus:o}){let a=e?.get(n);return Ye(a,{spamStatus:o})}function Ye(e,{spamStatus:n}){if(!e&&(n==="POSSIBLE_SPAM"||n==="SPAM"))return!0;if(!e)return!1;let{status:o}=e;return No(o)}function Ao(e,{spamStatus:n}){return!Ye(e,{spamStatus:n})}function No(e){return e==="hidden"||e==="hidden:reported_spam"}function ri(e,n){let o=e.data.spamStatus,a=n.data.spamStatus,p=l=>{switch(l){case"TRUSTED":return 5;case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1}},s=p(o),u=p(a);return s>u?-1:s<u?1:0}i();r();var oi="\uFFFF";function ai(e,n){let o=e.data.symbol?.toUpperCase()??oi,a=n.data.symbol?.toUpperCase()??oi;return o.localeCompare(a)}i();r();function si(e,n){let o=A(e.type),a=A(n.type);return o!==a?o?-1:1:g.compareNetworkID(e.data.chain.id,n.data.chain.id)}var Io=(e,n)=>{let o=Qn(e,n);if(o)return o;let a=ri(e,n);if(a)return a;let p=We(e,n);if(p)return p;let s=si(e,n);if(s)return s;let u=$n(e,n);if(u)return u;let l=qn(e,n);return l||ai(e,n)};i();r();i();r();function pi(e,n,o,a,p,s,u,l){return{ownerAddress:e.address,networkID:n,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${o("transactionsPendingSending")} ${a} ${p}`},topRight:{text:`-${a} ${p}`},bottomLeft:{text:`${o("transactionsToParagraphInterpolated",{to:s})}`}},detail:{header:`${a} ${p}`,logoUri:u,uiRecipient:s,assetSymbol:p,tokenUSDPrice:l}}}}i();r();function ui(e,n="standard",o,a,p,s,u,l,m){let d=xt.get(e).transactionSpeedSeconds(n);return{ownerAddress:o.address,networkID:e,data:{nonce:"",hash:"",unsignedTransaction:_.parse({from:o.address}),estimatedTimeToMineInSeconds:d},type:"send",display:{summary:{topLeft:{text:`${a("transactionsPendingSending")}`},topRight:{text:`-${p} ${s}`},bottomLeft:{text:`${a("transactionsToParagraphInterpolated",{to:u})}`}},detail:{header:`${p} ${s}`,assetSymbol:s,logoUri:l,tokenUSDPrice:m,uiRecipient:u}}}}i();r();function ci(e,n,o,a,p,s,u){return{ownerAddress:e.address,networkID:n,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${o("transactionsPendingSending")} ${a} ${p}`},topRight:{text:`-${a} ${p}`},bottomLeft:{text:`${o("transactionsToParagraphInterpolated",{to:s})}`}},detail:{logoUri:u}}}}i();r();function li(e,n,o,a,p,s){return{ownerAddress:e.address,networkID:n,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${q.t("transactionsPendingSending")} ${o} ${a}`},topRight:{text:`-${o} ${a}`},bottomLeft:{text:`${q.t("transactionsToParagraphInterpolated",{to:p})}`}},detail:{logoUri:s}}}}var Eo=(e,n,o,a,p,s,u,l,m)=>{if(g.isEVMNetworkID(e))return ui(e,n,o,m,u,a,s,p,l);if(g.isSolanaNetworkID(e))return ci(o,e,m,u,a,s,p);if(g.isBitcoinNetworkID(e))return pi(o,e,m,u,a,s,p,l);if(g.isSuiNetworkID(e))return li(o,e,u,a,s,p);throw new Error(`Unable to create pending transaction input for chain id ${e}}`)};i();r();var Bo=e=>({chainId:e.data.chain.id,resourceType:"address",address:e.data.walletAddress});i();r();var Je=e=>{let n=g.getAllChainIDs().reduce((o,a)=>(o[`${a}WalletBalance`]=!1,o),{});for(let o of e){let{balance:a,chain:p}=o.data,s=a.isGreaterThan(0),l=`${g.getChainName(p.id).toLowerCase()}WalletBalance`;if(!n[l]&&(n[l]=s,Object.values(n).every(m=>m)))break}return n};i();r();i();r();function mi(e,n){return e instanceof Error?mi(e.message,n):typeof e=="string"&&n==="solana"?wo(e):"UnknownError"}function wo(e){let[n]=e.match(/0x\d+/)||[];return n&&typeof n=="string"&&n==="0x1"?"InsufficientFunds":"UnknownError"}i();r();function Do(e){if(A(e.type))return e.data.walletAddress;switch(e.type){case"ERC20":case"BRC20":case"CompressedSPL":case"SuiCoin":return e.data.walletAddress;case"SPL":return e.data.splTokenAccountPubkey}}i();r();function Mo(e){if(!e||e.type==="BRC20"||e.type==="BitcoinNative")return null;let n=ee(e);return n.resourceType==="address"?n.address:null}i();r();var gi=F(ft()),di=1e-5,Oo="0,0.[00]a",Ro=1e5,Vo=(e,n=5)=>{let o=new C(e);if(o.abs().isGreaterThan(0)&&o.abs().isLessThan(di))return`< ${o.isLessThan(0)?"-":""}${di}`;let a=(0,gi.default)(o.toNumber());return o.isGreaterThanOrEqualTo(Ro)?a.format(Oo):a.format(`0,0.[${"0".repeat(n)}]`)};i();r();var fi=[g.solana,g.ethereum,g.polygon,g.bitcoin,g.base,g.sui],_o=({chainName:e,address:n})=>{let o=fi.find(p=>p.id===e);if(!o)throw new Error(`Chain ${e} not supported`);let a=o.mainnetID;return typeof n!="string"?$({chainId:a,resourceType:"nativeToken",slip44:o.slip44}):$({chainId:a,address:n,resourceType:"address"})},Uo=()=>(Math.random()*Date.now()).toString(36).replace(".",""),Lo=({caip19:e,isAnalyticsOptedOut:n,isRelative:o})=>{let a=e.resourceType==="address"?e.address:void 0;return yi({chainId:e.chainId,address:a,isAnalyticsOptedOut:n,isRelative:o})},yi=({chainId:e,address:n,isAnalyticsOptedOut:o,isRelative:a=!1})=>{let p=fi.find(d=>d.mainnetID===e);if(!p)return null;let u=`${a?"":"https://phantom.com"}/tokens/${p.id}`,l=n?`${u}/${n}`:u,m=o?"":`?referralId=${Uo()}`;return`${l}${m}`},Ho={getCaip19FromUrlPath:_o,getUrlFromFungible:Lo,getUrlForFungibleComponents:yi};i();r();x.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});var jo=(e,n)=>new x(e).div(pe(n));i();r();i();r();var bi={website:"website",twitter:"x",x:"x",telegram:"telegram",discord:"discord"},zo=Object.keys(bi);function Ko(e){return{address:e.decodedCaip19.resourceType==="address"?e.decodedCaip19.address:void 0,chain:st(e.decodedCaip19.chainId),decimals:e.decimals,logoUri:e.logoUri??null,logoURI:e.logoUri??null,name:e.name||q.t("assetVisibilityUnknownToken"),symbol:e.symbol??"Unknown",spamStatus:e.spamStatus,createdDate:e.extraMetadata?.createdDate??null,marketCap:e.extraMetadata?.marketCap,description:e.extraMetadata?.description,volume24hUSD:e.extraMetadata?.volume24hUSD,volume24hUSDChangePercentage:e.extraMetadata?.volume24hUSDChangePercentage,totalSupply:e.extraMetadata?.totalSupply,uniqueWallets24h:e.extraMetadata?.uniqueWallets24h,uniqueWallets24hChangePercentage:e.extraMetadata?.uniqueWallets24hChangePercentage,links:e.extraMetadata?.links?.filter(n=>zo.includes(n.type)).map(n=>({type:bi[n.type],url:n.url})),circulatingSupply:e.extraMetadata?.circulatingSupply,holders:e.extraMetadata?.holders,top10HoldersPercent:e.extraMetadata?.top10HoldersPercent,mintable:e.extraMetadata?.mintable,freezable:e.extraMetadata?.freezable,mutableMetadata:e.extraMetadata?.mutableMetadata,updateAuthority:e.extraMetadata?.updateAuthority,categories:e.categories,mintExtensions:e.extraMetadata?.extensions}}i();r();var Go=e=>e?.data?.tokenAddress===Ot&&!!e?.data?.walletAddress;i();r();var Ze=class{#e;constructor(n){this.#e=n}walletBalance=(n,o,a)=>{let p=Je(a),s={accountId:n,selectedNetworks:o,...p};this.#e.capture("walletBalance",{data:s})};ctaBarTrackPrimaryButtonsClick=({uiContext:n,position:o,type:a,maxButtons:p,primaryActions:s,moreActions:u,shortcutActions:l,typeSpecificMetadata:m})=>{let d=[...u,...l||[]],b=[...s,...d].findIndex(k=>k.type===a),h=s.length+d.length,S={type:a,typeSpecificMetadata:m,overallIndex:b,position:o,primaryButtons:s.map(({type:k})=>({type:k})),moreButtons:d.map(({type:k})=>({type:k})),uiContext:n,maxButtons:p,totalButtons:h};this.#e.capture("ctaBarClickByUser",{data:{ctaBar:S}})};ctaBarTrackMoreButtonClick=({uiContext:n,maxButtons:o,totalButtons:a})=>{let p={uiContext:n,maxButtons:o,totalButtons:a};this.#e.capture("ctaBarMoreClickByUser",{data:{ctaBar:p}})};onPublicFungiblePageOpen=({uiContext:n,caip19:o,address:a,symbol:p,hasBalance:s})=>{let u={uiContext:n,caip19:o,address:a,symbol:p,hasBalance:s};this.#e.capture("onPublicFungiblePageOpen",{data:u})}};i();r();export{H as a,xe as b,A as c,Bi as d,Pi as e,Mi as f,Oi as g,Ut as h,Lt as i,Ri as j,Vi as k,_i as l,j as m,ji as n,Xt as o,z as p,ve as q,V as r,Ie as s,Or as t,on as u,an as v,Z as w,M as x,ie as y,uo as z,go as A,fo as B,To as C,So as D,ho as E,Qe as F,ko as G,ei as H,xo as I,ti as J,Co as K,ni as L,vo as M,Fo as N,Ye as O,Ao as P,Me as Q,Oe as R,Kr as S,Re as T,Ve as U,pn as V,Gr as W,$r as X,Wr as Y,Le as Z,je as _,bn as $,Yr as aa,Io as ba,ee as ca,jo as da,ld as ea,so as fa,Mo as ga,Ko as ha,ki as ia,xi as ja,Ci as ka,vi as la,wt as ma,Fi as na,Ai as oa,Ii as pa,Ur as qa,Xr as ra,Ke as sa,io as ta,Lr as ua,oo as va,Eo as wa,Bo as xa,Hr as ya,mi as za,Do as Aa,Vo as Ba,Ho as Ca,Go as Da,Ze as Ea,jr as Fa};
//# sourceMappingURL=chunk-QCKHHJ5F.js.map
