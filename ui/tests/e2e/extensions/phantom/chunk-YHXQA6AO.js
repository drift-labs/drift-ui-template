import{b as Gt,d as ie,ha as Be,la as Ut,ta as Xt,u as qt,ua as $t}from"./chunk-ZPSIMYUC.js";import{a as U}from"./chunk-IRT22BM2.js";import{a as b,b as D,c as ze,d as Ee}from"./chunk-XWNAHFTF.js";import{W as ke,Wb as _t,rb as Re}from"./chunk-QY5YIVDQ.js";import{A as Rt,D as zt,E as Wt,l as Vt,m as Ot}from"./chunk-BY77CZR3.js";import{Ba as Nt,Ea as Dt,Ga as Pe,I as It,Ia as Ht,La as Mt,Na as re,Qa as we,Ra as ne,b as M,e as h,f as ye,g as Te,i as Bt,j as Ve,n as Ft,pa as vt,qa as ce,ta as Ae,va as xe,xa as St,za as Lt}from"./chunk-IHXFHG2Y.js";import{la as Oe,o as Et}from"./chunk-QCKHHJ5F.js";import{U as Pt,V as wt,na as kt}from"./chunk-R5GARSZH.js";import{Fa as mt,Na as dt,Rb as pt,Tb as ft,gb as ut,l as st,m as at,y as lt}from"./chunk-VOCOWPRG.js";import{Lc as nt,Rd as ct,U as K,Zb as W,_d as Q,od as it,rc as rt}from"./chunk-PJ6PRBE2.js";import{Ab as Tt,Ba as Z,Ca as d,Da as k,E as tt,F as ot,Ga as gt,Ib as At,Jb as xt,Lb as be,Ma as ht,Na as bt,Tb as Ce,Vb as le,X as F,c as A,cb as fe,ec as J,hb as ge,ib as he,ob as Ct,rb as yt,wa as pe,ya as B}from"./chunk-UTOBJRXZ.js";import{f as T,h as l,n as c}from"./chunk-SVG5OEFH.js";l();c();var I=T(A());l();c();var jt=T(A());var Po=5e3,wo=1e4,_={HiddenTitle:"hidden-title",HiddenButton:"hidden-button",Collection:"collection",Empty:"empty",CollectiblesTrimmed:"collectibles-trimmed",AddCollection:"add-collection"};function ee(){let e=h(Ae),t=h(D),o=e?.addresses??[],s=e?.identifier??"",{data:r=[],isLoading:i,isRefetching:a,isError:n,isRefetchError:m,refetch:u}=Vt({addresses:o,queryOptions:{staleTime:Po,refetchInterval:wo,enabled:t==="collectibles"}}),g=Ot({addresses:o}),{getIsHidden:w,getIsSpam:C,isLoading:N}=zt(e?.identifier??""),{data:v=[],isPending:$}=Rt(s),{collections:E,hiddenCollections:j,spamCollections:te}=Wt({allCollections:r,pinnedCollectionIds:v,getIsHidden:w,getIsSpam:C});return{gridItems:(0,jt.useMemo)(()=>{let Y=E.map(y=>({type:_.Collection,data:{...y,determinedHidden:w(y),determinedSpam:C(y)}}));return g&&Y.push({type:_.CollectiblesTrimmed,data:null}),Y},[E,g,w,C]),isLoadingCollections:i,isRefetchingCollections:a,isErrorCollections:n,isRefetchErrorCollections:m,refetchCollections:u,isLoadingCollectionVisibility:N,isLoadingPinnedCollections:$,collections:E,pinnedCollectionIds:v,hiddenCollections:j,spamCollections:te}}l();c();function We(){let e=h(St),t=h(we),o=ke(),s=Be(),r=h(re),i=kt((t.data.currentValue||0)+(o?s:0),1e3),{data:a}=dt(e),{mutate:n}=ut();return ft({accountBalance:a?.value,accountId:e??"",enabled:r,value:i,setAccountBalance:n}),i}l();c();var q=T(A());l();c();var ko=e=>self.open(e,"_blank"),Qt=ko;var Bo="https://help.phantom.com/hc/en-us/articles/39776532231571-Why-does-my-Phantom-wallet-show-a-malicious-account-warning";function Eo(e){if(e.data.length===0)return!1;try{return!!K.NonceAccount.fromAccountData(e.data)}catch{return!1}}function Fo(){let{t:e}=F(),t=Q(),o=h(Ae),{connection:s}=It(),{data:r}=pt("solana"),i=o&&o.isReadOnly,{data:a,status:n}=it({staleTime:ct({minutes:10}),enabled:!!r?.address,queryKey:["accountOwner",r?.address],queryFn:()=>{if(!r?.address)throw new Error("No selected solana address");return s.getAccountInfo(new K.PublicKey(r.address))}}),m=(0,q.useMemo)(()=>a?!i&&n==="success"&&Eo(a):!1,[i,n,a]),u=(0,q.useMemo)(()=>!i&&n==="success"&&a?.owner&&a.owner.toBase58()!==K.SystemProgram.programId.toBase58(),[i,n,a]);return(0,q.useEffect)(()=>{(u||m)&&t.capture("portfolioHomeMaliciousAccountWarning",{data:{reason:u?"owner":"nonceAccount",networkId:r?.networkID}})},[u,m,t,r?.networkID]),u||m?q.default.createElement(d,{marginX:"screen",marginTop:16},q.default.createElement(be,{level:"2-alert",actions:[{children:e("commandLearnMore2"),onPress:()=>{Qt(Bo)}}]},e("portfolioHomeAccountOwnerWarning"))):null}var _e=(0,q.memo)(Fo);l();c();var V=T(A());l();c();var S=T(A());function Io({tabs:e}){return S.default.createElement(Do,{values:e.map(t=>({key:t.key,onClick:t.onPress,node:S.default.createElement(k,{font:"title1Semibold",color:t.isActive?"textBase":"textDiminished",whiteSpace:"nowrap"},t.title)}))})}var Zt=Io,vo=pe({display:"flex",flex:1,overflowX:"hidden",position:"relative",left:"-16",paddingLeft:16,marginRight:"-16"}),So=pe({display:"flex",flexDirection:"row",gap:12,paddingRight:12}),Lo={background:`linear-gradient(to left, ${B.colors.legacy.areaBase}, ${U(B.colors.legacy.areaBase,.85)}, ${U(B.colors.legacy.areaBase,0)})`};function No(e){if(!e)return 0;let{width:t}=e.getBoundingClientRect(),o=e.scrollWidth;return t-o}function Do({values:e}){let t=(0,S.useRef)(null),[o,s]=(0,S.useState)(null),[r,i]=(0,S.useState)(0),a=bt(0);return(0,S.useLayoutEffect)(()=>{let n=()=>{i(No(t.current))};n();let m=new ResizeObserver(n);return t.current&&m.observe(t.current),()=>m.disconnect()},[]),S.default.createElement(S.default.Fragment,null,S.default.createElement("div",{ref:t,className:vo},S.default.createElement(ht.div,{className:So,drag:"x",style:{x:a},dragConstraints:{left:r,right:0},onDragStart:()=>{s(a.get())},onDragEnd:()=>{s(null)},onWheel:n=>{if(n.deltaX===0)return;let m=a.get()-n.deltaX;return m>0?a.set(0):m<r?a.set(r):a.set(m)}},e.map(({key:n,onClick:m,node:u})=>S.default.createElement("div",{...m&&{role:"button",className:pe({cursor:"pointer"})},key:n,onClick:g=>{if(o!==null){g.stopPropagation(),g.preventDefault();return}m?.()}},u)))),S.default.createElement(d,{position:"absolute",right:24,top:0,width:24,height:"100%",style:Lo}))}var Ho=({selectedDataTab:e,onTappingManageTokens:t,onTappingManageCollections:o,onTappingSettings:s,isBalanceHidden:r,toggleBalanceVisibility:i,onRefresh:a})=>{let{t:n}=F(),m=Q(),u=ye(D),g=V.default.useRef(null),w=nt.isFeatureEnabled("kill-collectibles"),C=(0,V.useCallback)(()=>{m.capture("portfolioHomeContextMenuOpened"),g.current?.open()},[m]),N=(0,V.useMemo)(()=>{let E=[];return e===b.Tokens&&E.push({text:n("portfolioHomeManageTokens"),onPress:t,icon:"ToggleLeft"}),e===b.Collectibles&&E.push({text:n("portfolioHomeManageCollectibles"),onPress:o,icon:"ToggleLeft"}),E.push({text:n(r?"portfolioHomeShowBalances":"portfolioHomeHideBalances"),onPress:i,icon:r?"EyeFill":"EyeFillOff"}),E.push({text:n("portfolioHomeWalletSettings"),onPress:s,icon:"Settings"}),tt&&E.push({text:n("portfolioHomeRefresh"),onPress:a,icon:"RefreshCw"}),E},[r,o,t,s,e,i,a,n]),v=(0,V.useCallback)(E=>{u(E),m.capture("portfolioHomeTabSelected",{data:{tab:E}})},[u,m]),$=(0,V.useMemo)(()=>[{key:b.Tokens,title:n("portfolioHomeTokens"),isActive:e===b.Tokens,onPress:e!==b.Tokens?()=>v(b.Tokens):void 0},!w&&{key:b.Collectibles,title:n("portfolioHomeCollectibles"),isActive:e===b.Collectibles,onPress:e!==b.Collectibles?()=>v(b.Collectibles):void 0}].filter(Et),[e,v,n,w]);return V.default.createElement(d,{direction:"row",justifyContent:"space-between",alignItems:"center",marginX:"screen",gap:8,position:"relative"},V.default.createElement(Zt,{tabs:$}),V.default.createElement(Ct,{ref:g,items:N},V.default.createElement(yt,{color:["textDiminished","textBase"],icon:"MoreHorizontal",label:"More",size:24,bounded:!1,onPress:C})))},Yt=V.default.memo(Ho);l();c();var Ie=T(A());l();c();var Ge=T(A()),Kt=()=>{let{status:e,data:t}=h(we),{currentValue:o,priceDifference:s,totalPercentChange24h:r}=t,i=ke(),a=Be(),n=(0,Ge.useMemo)(()=>{let u=o||0;return i?u+a:u},[o,a,i]);return{isLoading:(0,Ge.useMemo)(()=>e==="pending"&&o===void 0,[e,o]),combinedPortfolioValue:n,fungiblesPortfolioValue:o,priceDifference:s,totalPercentChange24h:r}};l();c();var L=T(A());l();c();var Jt=T(A()),eo=e=>(0,Jt.useMemo)(()=>e?e>0?"spotPositive":"spotNegative":"textDiminished",[e]);l();c();function qe(e){return e===void 0?"-":`${e>=0?"+":"-"}${Math.abs(e).toFixed(2)}%`}l();c();var X=T(A());function Ue({children:e,maxFontSize:t}){let o=(0,X.useRef)(null),[s,r]=(0,X.useState)(t);return(0,X.useEffect)(()=>{let i=o.current;if(!i)return;let a=new ResizeObserver(()=>{let n=s;i.querySelectorAll("*").forEach(u=>{for(;u.scrollWidth>i.clientWidth&&n>10;)n-=1,u.style.fontSize=`${n}px`}),r(n)});return a.observe(i),()=>{a.disconnect()}},[s]),X.default.createElement(d,{ref:o,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},X.default.createElement("div",{style:{fontSize:`${s}px`,whiteSpace:"nowrap"}},e))}l();c();var me=T(A()),Mo="\u2022\u2022\u2022\u2022\u2022\u2022",Xe=({children:e,isBalanceHidden:t,showHiddenText:o,font:s="caption",textColor:r="textDiminished",paddingTop:i=0})=>{let{t:a}=F();return t?o?me.default.createElement(d,{gap:4,alignItems:"center",direction:"row",paddingTop:i},me.default.createElement(Z.Eye,{size:16,color:"textDiminished"}),me.default.createElement(k,{font:s,color:r},a("commandShowBalance"))):me.default.createElement(k,{font:s,color:r,paddingTop:i},Mo):e};l();c();var O=T(A());l();c();l();c();l();c();l();c();function $e(e){return t=>{let o=!1,s={...t};for(let r of e.queried){let i=e.prices[r],a=i?.price;if(!i)continue;let n=t[r]?.lastUpdatedAt,m=!n||i.lastUpdatedAt&&new Date(i.lastUpdatedAt)>n;a&&t[r]?.price!==a&&m&&(o=!0,s[r]={price:a,priceChange24h:i.priceChange24h??i.usd_24h_change,lastUpdatedAt:i.lastUpdatedAt?new Date(i.lastUpdatedAt):new Date})}return o?s:t}}l();c();var Vo=M(!1),to=Vo;var oo=Bt(e=>{let t=e(Ee),o=e(to),s=e(re);return{enabled:t.length>0&&!o&&s,refetchInterval:5e3,queryKey:["visible-prices",{tokens:t.map(r=>r.encodedCaip19).sort(),type:"visible-chunk",isMainnet:s}],queryFn:async()=>{let r=await Dt({tokens:t.map(i=>i.decodedCaip19)});return{prices:Object.fromEntries(Object.entries(r).map(([i,a])=>[i,{...a,lastUpdatedAt:a.lastUpdatedAt??new Date().toISOString()}])),queried:t.map(i=>i.encodedCaip19)}}}}),Oo=ce((e,t)=>{let{data:o}=e(oo);o&&t(Lt,$e(o))}),Ro=M(e=>{e(Oo);let t=e(oo);return{status:t.status,isFetching:t.isFetching}}),ro=Ro;var Fe=M(0),zo=3,Wo=5,_o=Ve(ze,({priceErrorCount:e})=>e),Go=ce((e,t)=>{e(_o)>0?t(Fe,s=>s+1):t(Fe,0)});function qo(e,t){let o=Ve(e,({status:r,isFetching:i})=>({status:r,isFetching:i}),(r,i)=>JSON.stringify(r)===JSON.stringify(i));return ce((r,i)=>{let a=r(o);a.isFetching||(a.status==="error"&&i(t,n=>n+1),a.status==="success"&&i(t,0))})}var Uo=qo(ro,Fe),Xo=M(e=>{e(Uo),e(Go);let{balanceErrorCount:t,partialErrors:o}=e(ze);return{isBalanceError:t>=zo,isPriceError:e(Fe)>=Wo,partialErrors:o||[]}}),no=Xo;l();c();var $o=M(e=>{let t=e(Nt),o=e(D),{isBalanceError:s,isPriceError:r,partialErrors:i}=e(no),{isPerpsBalanceError:a,isPerpsPositionsError:n}=e(Re),m=e(re),u=t.length>0,g=i&&i.length>0;return o==="fungibles"&&s&&r&&u&&m?{reason:"both"}:o==="fungibles"&&s&&u?{reason:"balances"}:o==="fungibles"&&r&&m?{reason:"prices"}:a&&n?{reason:"perpsBoth"}:a?{reason:"perpsBalance"}:n?{reason:"perpsPositions"}:o==="fungibles"&&g&&!s&&!r?{reason:"networkSpecific",partialErrors:i}:null}),io=$o;function jo(e){let t=e.map(n=>n.details.chainId),o=e.map(n=>n.code),s=[...new Set(t)],r=[...new Set(o)],i=s.reduce((n,m)=>(n[m]=t.filter(u=>u===m).length,n),{}),a=r.reduce((n,m)=>(n[m]=o.filter(u=>u===m).length,n),{});return{uniqueChains:s,uniqueErrorCodes:r,errorsPerChain:i,errorTypeCount:a,mostAffectedChain:Object.entries(i).reduce((n,m)=>i[n[0]]>i[m[0]]?n:m)[0],mostCommonError:Object.entries(a).reduce((n,m)=>a[n[0]]>a[m[0]]?n:m)[0]}}function Qo(){let e=(0,O.useRef)(void 0),t=(0,O.useRef)(!1),o=Q(),{t:s}=F(),[r]=Te(io);(0,O.useEffect)(()=>{if(r?.reason!==e.current){e.current=r?.reason;let a={reason:e.current??"none"};if(r?.reason==="networkSpecific"&&r.partialErrors){let n=jo(r.partialErrors),m=n.uniqueChains.map(u=>W.getChainName(u));o.capture("portfolioHomeErrorBanner",{data:{...a,networkCount:n.uniqueChains.length,chainIds:n.uniqueChains,chainNames:m,errorCodes:n.uniqueErrorCodes,totalErrors:r.partialErrors.length,mostAffectedChain:n.mostAffectedChain,mostCommonError:n.mostCommonError}}),o.capture("portfolioHomeNetworkSpecificError",{data:{networkCount:n.uniqueChains.length,chainIds:n.uniqueChains,chainNames:m,errorCodes:n.uniqueErrorCodes,totalErrors:r.partialErrors.length,isSingleNetwork:n.uniqueChains.length===1,errorsPerChain:n.errorsPerChain,errorTypeCount:n.errorTypeCount,mostAffectedChain:n.mostAffectedChain,mostCommonError:n.mostCommonError}})}else o.capture("portfolioHomeErrorBanner",{data:a})}},[r?.reason,r?.partialErrors,o]);let i=(0,O.useMemo)(()=>{if(r==null)return null;if(r.reason==="balances")return s("partialErrorTokenDetail");if(r.reason==="prices")return s("partialErrorTokenPrices");if(r.reason==="perpsBalance")return s("partialErrorPerpsBalance");if(r.reason==="perpsPositions")return s("partialErrorPerpsPositions");if(r.reason==="perpsBoth")return s("partialErrorPerpsBoth");if(r.reason==="networkSpecific"&&r.partialErrors){let a=[...new Set(r.partialErrors.map(u=>u.details.chainId))];if(a.length===1){let u=W.getChainName(a[0]);return s("partialErrorBalanceChainName",{chainName:u})}let n=a.map(u=>W.getChainName(u)),m;if(n.length===2)m=`${n[0]} and ${n[1]}`;else{let u=n.pop();m=`${n.join(", ")}, and ${u}`}return s("partialErrorBalanceMultipleChains",{chainNames:m})}return s("partialErrorGeneric")},[r,s]);return(0,O.useEffect)(()=>{let a=i!==null;a&&!t.current?(t.current=!0,o.capture("portfolioHomeErrorBannerDisplayed",{data:{reason:r?.reason??"unknown",timestamp:Date.now()}})):!a&&t.current&&(t.current=!1,o.capture("portfolioHomeErrorBannerHidden",{data:{reason:e.current??"unknown",timestamp:Date.now()}}))},[i,r?.reason,o]),i?O.default.createElement(d,{padding:16,marginX:"screen",width:"100%"},O.default.createElement(be,{level:"5-information"},i)):null}var so=(0,O.memo)(Qo);var Zo={minimumFractionDigits:2,maximumFractionDigits:2};function je({isLoading:e,totalValueUsdCurrent:t,totalValueUsd24h:o,totalPercentChange24h:s,isBalanceHidden:r,toggleBalanceVisibility:i}){let a=eo(s);return L.default.createElement(d,{gap:8,alignItems:"center",justifyContent:"center",marginTop:32},L.default.createElement(so,null),e?L.default.createElement(d,{alignItems:"center",gap:8},L.default.createElement(he,{width:192,font:"heading1Semibold"}),L.default.createElement(d,{direction:"row",gap:8},L.default.createElement(he,{width:50,font:"title2Semibold"}),L.default.createElement(he,{width:50,font:"title3Semibold"}))):L.default.createElement(d,{gap:r?3:0,onPress:r?i:void 0},L.default.createElement(Xe,{isBalanceHidden:r,font:"heading1Semibold",textColor:"textBase"},L.default.createElement(Ue,{maxFontSize:38},L.default.createElement(ie,{font:"heading1Semibold",value:t,intlNumberFormatOptions:Zo}))),L.default.createElement(Xe,{showHiddenText:!0,isBalanceHidden:r},L.default.createElement(d,{direction:"row",alignItems:"center",gap:6,justifyContent:"center"},L.default.createElement(ie,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:o}),L.default.createElement(k,{color:a,borderRadius:6,paddingX:4,paddingY:2,style:{backgroundColor:U(B.colors.legacy[a],.1)}},qe(s))))))}function Yo({isBalanceHidden:e,toggleBalanceVisibility:t,zeroBalanceNux:o,cashAccountBalance:s}){let{combinedPortfolioValue:r,isLoading:i,priceDifference:a,totalPercentChange24h:n}=Kt();return _t(r,s)?o:Ie.default.createElement(je,{isLoading:i,toggleBalanceVisibility:t,isBalanceHidden:e,totalPercentChange24h:n,totalValueUsd24h:a,totalValueUsdCurrent:r})}var Qe=(0,Ie.memo)(Yo);l();c();var f=T(A());l();c();var Ko={status:"idle",hasNextPage:!1,data:[]},ve={status:"idle",data:[]},ao=M(e=>{if(e(D)==="collectibles")return{fungibles:Ko,collectibles:ve};let o=e(Pe),{hasNextPage:s,status:r}=e(xe),i=e(Ht);return o?{collectibles:ve,fungibles:{status:"loading",hasNextPage:!1,data:[]}}:i.length===0&&r==="error"?{collectibles:ve,fungibles:{status:"error",hasNextPage:!1,data:[]}}:{collectibles:ve,fungibles:{status:"success",hasNextPage:s,data:i}}});l();c();var Jo={type:_.Collection,data:{type:_.Empty,data:null}};function er(e,t){return e.length===t?e:[...e,...Array(t-e.length).fill(Jo)]}function tr(e,t=2){let o=[],s=e.filter(i=>i.type!==_.CollectiblesTrimmed),r=Ft(s,t);for(let i of r){let a=i.map(n=>({type:_.Collection,data:n}));o.push({type:_.Collection,data:{pair:er(a,t)}})}return s.length!==e.length&&o.push({type:_.Collection,data:{pair:[{type:_.Collection,data:{type:_.CollectiblesTrimmed,data:null}}]}}),o}var lo=tr;l();c();var R=T(A());l();c();var G=T(A());function or(){let{t:e}=F(),t=h(D),{refetch:o}=h(ne),{refetchCollections:s}=ee(),r=(0,G.useCallback)(()=>{t==="fungibles"?o():t==="collectibles"&&s()},[t,o,s]);return G.default.createElement(d,{marginY:4,alignItems:"center",paddingX:"screen"},G.default.createElement(d,{width:48,height:48,alignItems:"center",justifyContent:"center",borderRadius:"full",marginBottom:16,style:{backgroundColor:U(B.colors.legacy.spotWarning,.2)}},G.default.createElement(Z.AlertCircle,{size:24,color:"spotWarning"})),G.default.createElement(k,{font:"bodySemibold",marginBottom:14},e("homeErrorTitle")),G.default.createElement(k,{align:"center",marginBottom:32},e("homeErrorDescription")),G.default.createElement(fe,{onPress:r},e("homeErrorButtonText")))}var Se=(0,G.memo)(or);l();c();var x=T(A());function Ze(){return x.default.createElement("svg",{width:"91",height:"91",viewBox:"0 0 91 91",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.default.createElement("g",null,x.default.createElement("rect",{width:"90",height:"90",transform:"translate(0.5 0.5)",fill:B.colors.legacy.areaBase}),x.default.createElement("rect",{x:"5.36923",y:"48.816",width:"33.707",height:"39.1595",rx:"2.86",transform:"rotate(-19.3489 5.36923 48.816)",fill:B.colors.legacy.spotBase}),x.default.createElement("rect",{x:"8.87532",y:"50.4995",width:"28.2068",height:"28.2096",rx:"1.5",transform:"rotate(-19.3489 8.87532 50.4995)",fill:B.colors.legacy.areaBase}),x.default.createElement("g",null,x.default.createElement("path",{d:"M67.8312 10.2413C67.9853 10.6569 67.9487 11.1193 67.7312 11.5056L57.3701 29.9014C56.7813 30.9468 55.8012 31.7156 54.6456 32.0385C53.49 32.3614 52.2534 32.2119 51.2079 31.6231L48.58 30.143C47.5345 29.5541 46.7658 28.5741 46.4429 27.4184C46.12 26.2628 46.2694 25.0262 46.8582 23.9808C47.4471 22.9353 48.4271 22.1666 49.5827 21.8437C50.7384 21.5208 51.9749 21.6702 53.0204 22.259L56.9624 24.4793L64.2296 11.5765L49.8563 6.36576L40.1221 23.6484C39.5333 24.6939 38.5533 25.4626 37.3976 25.7855C36.242 26.1084 35.0054 25.959 33.96 25.3702L31.332 23.89C30.2865 23.3012 29.5178 22.3211 29.1949 21.1655C28.872 20.0099 29.0214 18.7733 29.6103 17.7278C30.1991 16.6824 31.1791 15.9136 32.3348 15.5907C33.4904 15.2679 34.727 15.4173 35.7724 16.0061L39.7144 18.2263L47.8552 3.77249C48.217 3.13017 48.9901 2.84354 49.6832 3.09479L66.9312 9.34773C67.3479 9.49882 67.6771 9.82562 67.8312 10.2413ZM38.2343 20.8543L34.2923 18.6341C33.9438 18.4378 33.5316 18.388 33.1464 18.4956C32.7612 18.6032 32.4345 18.8595 32.2382 19.208C32.042 19.5565 31.9921 19.9687 32.0998 20.3539C32.2074 20.7391 32.4637 21.0658 32.8121 21.262L35.4401 22.7422C35.7886 22.9385 36.2008 22.9883 36.586 22.8807C36.9712 22.773 37.2979 22.5168 37.4942 22.1683L38.2343 20.8543ZM55.4822 27.1072L51.5403 24.887C51.1918 24.6907 50.7796 24.6409 50.3944 24.7486C50.0092 24.8562 49.6825 25.1124 49.4862 25.4609C49.2899 25.8094 49.2401 26.2216 49.3478 26.6068C49.4554 26.992 49.7116 27.3187 50.0601 27.515L52.6881 28.9951C53.0366 29.1914 53.4488 29.2412 53.834 29.1336C54.2192 29.026 54.5459 28.7697 54.7422 28.4212L55.4822 27.1072Z",fill:"#FFFFC4",stroke:"#FFFFC4"})),x.default.createElement("rect",{x:"32.9779",y:"17.8943",width:"6.03228",height:"3.01614",transform:"rotate(29.3895 32.9779 17.8943)",fill:"#FFFFC4"}),x.default.createElement("rect",{x:"50.2259",y:"24.1468",width:"6.03228",height:"3.01614",transform:"rotate(29.3895 50.2259 24.1468)",fill:"#FFFFC4"}),x.default.createElement("path",{d:"M87.0587 48.1502C88.4311 48.2419 89.1322 49.8405 88.27 50.9123L74.0483 68.5907C73.2484 69.5851 71.6791 69.3765 71.1665 68.2079L62.7499 49.0157C62.2374 47.847 63.1471 46.5513 64.4204 46.6365L87.0587 48.1502Z",fill:"#FF7243"}),x.default.createElement("path",{d:"M13.4383 28.3196L15.0033 29.5762C15.821 30.233 16.9286 30.4029 17.9055 30.0214L19.7752 29.2917C20.1233 29.1543 20.4298 29.572 20.1944 29.8629L18.9379 31.4279C18.281 32.2455 18.1111 33.3531 18.4927 34.3301L19.2223 36.1998C19.3597 36.5479 18.9421 36.8544 18.6511 36.619L17.0862 35.3624C16.2685 34.7056 15.1609 34.5357 14.184 34.9172L12.3143 35.6469C11.9662 35.7843 11.6596 35.3666 11.895 35.0757L13.1516 33.5107C13.8085 32.6931 13.9784 31.5855 13.5968 30.6086L12.8671 28.7389C12.7298 28.3908 13.1474 28.0842 13.4383 28.3196Z",fill:B.colors.legacy.elementAccent}),x.default.createElement("path",{d:"M60.2233 55.5181L59.226 57.1925C58.7046 58.0674 58.6906 59.1554 59.1893 60.0434L60.1431 61.743C60.3222 62.0592 59.9619 62.4104 59.6504 62.2232L57.9759 61.2259C57.1011 60.7045 56.013 60.6905 55.125 61.1892L53.4254 62.143C53.1092 62.3221 52.758 61.9618 52.9452 61.6503L53.9425 59.9758C54.4639 59.101 54.4779 58.0129 53.9792 57.1249L53.0254 55.4253C52.8464 55.1091 53.2066 54.758 53.5182 54.9451L55.1926 55.9424C56.0675 56.4638 57.1555 56.4778 58.0435 55.9792L59.7431 55.0253C60.0593 54.8463 60.4105 55.2065 60.2233 55.5181Z",fill:B.colors.legacy.elementAccent}),x.default.createElement("path",{d:"M78.1739 3.16606L77.825 5.25271C77.6423 6.34306 78.0569 7.44911 78.9112 8.15079L80.5458 9.49398C80.8515 9.74327 80.6254 10.2404 80.2366 10.1739L78.15 9.82495C77.0596 9.64234 75.9536 10.0569 75.2519 10.9112L73.9087 12.5458C73.6594 12.8515 73.1623 12.6254 73.2288 12.2366L73.5777 10.1499C73.7603 9.0596 73.3457 7.95354 72.4914 7.25187L70.8569 5.90868C70.5512 5.65938 70.7773 5.16225 71.1661 5.22878L73.2527 5.5777C74.3431 5.76032 75.4491 5.34574 76.1508 4.49142L77.494 2.85689C77.7433 2.55119 78.2404 2.77725 78.1739 3.16606Z",fill:B.colors.legacy.elementAccent}),x.default.createElement("circle",{cx:"51.0134",cy:"39.0883",r:"1.48466",transform:"rotate(26.2783 51.0134 39.0883)",fill:B.colors.legacy.elementAccent}),x.default.createElement("path",{d:"M79.2259 31.2607C80.251 32.4976 80.0792 34.3314 78.8423 35.3565C72.3787 40.7131 64.7682 41.4047 58.5851 40.516C57.4577 40.3539 56.3327 40.1324 55.248 39.8792C53.8509 39.5529 54.2211 37.9337 55.6541 38.0001C56.0293 38.0175 56.3861 38.0285 56.7169 38.0316C59.4348 38.0573 61.9912 37.6669 62.8283 37.4807C67.254 36.4959 71.3085 34.0442 75.1301 30.8771C76.367 29.852 78.2008 30.0238 79.2259 31.2607Z",fill:B.colors.legacy.elementAccent})),x.default.createElement("defs",null,x.default.createElement("clipPath",{id:"clip0_9952_91189"},x.default.createElement("rect",{width:"90",height:"90",fill:"white",transform:"translate(0.5 0.5)"})),x.default.createElement("clipPath",{id:"clip1_9952_91189"},x.default.createElement("rect",{width:"36.1936",height:"36.1936",fill:"white",transform:"translate(41.0437 -8.71805) rotate(29.3895)"}))))}var co=J.recycle(()=>{let{t:e}=F();return R.default.createElement(d,{paddingY:24,alignItems:"center",justifyContent:"center"},R.default.createElement(d,{gap:8,maxWidth:240,textAlign:"center",alignItems:"center",justifyContent:"center"},R.default.createElement(Ze,null),R.default.createElement(k,{color:"textBase",font:"bodySemibold"},e("collectiblesNoCollectiblesFound")),R.default.createElement(k,{color:"textDiminished",font:"caption",align:"center"},e("collectiblesNoCollectiblesFoundSecondary"))))}),mo=J.recycle(()=>Array.from({length:2}).map((e,t)=>R.default.createElement(d,{key:`loading-collectible-${t}`,marginY:8,paddingX:"screen",direction:"row",gap:16},R.default.createElement(d,{flex:1,borderRadius:8,width:"100%",aspectRatio:"1/1"},R.default.createElement(ge,{height:"100%",borderRadius:8})),R.default.createElement(d,{flex:1,borderRadius:8,width:"100%",aspectRatio:"1/1"},R.default.createElement(ge,{height:"100%",borderRadius:8}),R.default.createElement(ge,null))))),uo=J.recycle(()=>R.default.createElement(Se,null));l();c();l();c();var rr=M(e=>{let{fetchNextPage:t,hasNextPage:o,isFetching:s,refetch:r,data:i}=e(xe),a=e(Pe);return async()=>{if(!s&&o&&!a){let n=i?.pages[0];n&&new Date().getTime()-n.updatedAt>vt&&await r(),t()}}}),Le=rr;var P=T(A());l();c();var H=T(A());l();c();function Ne(e,t){return t*Number(e.totalQuantity)/10**e.decimals}l();c();var De=T(A());var po=(0,De.memo)(({imageSrc:e,fallbackText:t,chainId:o,type:s})=>{let r=W.getChainID(o),i=$t(s,o);return De.default.createElement(qt,{image:{type:"fungible",src:e,fallback:t.substring(0,4)},tokenType:i,chainMeta:Xt(r)})});function nr({token:e,price:t,font:o="body"}){let s=t?Ne(e,t):"-";return s==="-"?H.default.createElement(k,null,"-"):H.default.createElement(ie,{value:s,font:o,minimumResolutionValue:.01,intlNumberFormatOptions:Oe})}var ir=({networkID:e,walletAddress:t})=>{let o=mt();return t?at.get(e).badge?.(e,o,t)??null:null};function sr({token:e,price:t,priceChange:o,renderImageSource:s,renderImageFallbackText:r,renderImageChainId:i,renderImageType:a,isBalanceHidden:n,onPress:m,testID:u}){let{t:g}=F(),w=e.totalQuantity/10**e.decimals,C=Ne(e,t??0),N=Mt(C,o??0),v=ir({networkID:e.decodedCaip19.chainId,walletAddress:e.walletAddress})||"";return H.default.createElement(d,{marginX:"screen"},H.default.createElement(gt,{testID:u,truncate:"left",onPress:m,topLeft:{text:e.name||g("tokenRowUnknownToken"),after:H.default.createElement(Gt,{spamStatus:e.spamStatus,badgeText:v})},verticalAlign:"baseline",bottomLeft:H.default.createElement(Ce,{isBalanceHidden:n},`${Ut(w)} ${e.symbol||"null"}`),topRight:H.default.createElement(Ce,{isBalanceHidden:n,font:"inherit"},t?H.default.createElement(nr,{token:e,price:t,font:"inherit"}):"-"),bottomRight:H.default.createElement(Ce,{isBalanceHidden:n},o||t?H.default.createElement(ie,{signConfig:"exceptZero",font:"caption",value:N,color:"sentiment",minimumResolutionValue:.01,intlNumberFormatOptions:Oe}):"-"),start:H.default.createElement(po,{imageSrc:s,fallbackText:r,chainId:i,type:a})}))}var fo=(0,H.memo)(sr);var go=(0,P.memo)(({onFungibleDetailNav:e,isBalanceHidden:t,...o})=>{let s=o.legacyKey,r=`${o.symbol??(s&&lt(s))}`,i=`fungible-token-row-${W.getChainName(o.decodedCaip19.chainId).toLowerCase()}-${r}`;o.walletAddress&&st(o.decodedCaip19.chainId,o.walletAddress)&&(i+=`-${rt(o.decodedCaip19.chainId,o.walletAddress)}`);let a=o.symbol||(o.legacyKey??"").substring(0,4),n=(0,P.useCallback)(()=>{e(o)},[e,o]);return P.default.createElement(fo,{onPress:n,isBalanceHidden:t,price:o.livePrice?.price,priceChange:o.livePrice?.priceChange24h,renderImageChainId:o.decodedCaip19.chainId,renderImageFallbackText:a,renderImageSource:o.logoUri||"",renderImageType:o.type,testID:i,token:o})});function Ye(){let e=h(Le);return(0,P.useEffect)(()=>{e()},[e]),P.default.createElement(d,{marginY:4,paddingX:"screen"},P.default.createElement(le,null))}var ar=J.recycle(()=>P.default.createElement(d,{marginY:ot?4:0,paddingX:"screen"},P.default.createElement(le,null))),ho=J.recycle(()=>Array.from({length:4}).map((e,t)=>P.default.createElement(ar,{key:`loading-fungible-${t}`}))),lr={backgroundColor:U(B.colors.legacy.spotWarning,.2)},bo=(0,P.memo)(()=>{let{t:e}=F(),{refetch:t}=h(ne);return P.default.createElement(d,{marginY:4,alignItems:"center",paddingX:"screen"},P.default.createElement(d,{width:48,height:48,alignItems:"center",justifyContent:"center",borderRadius:"full",marginBottom:16,style:lr},P.default.createElement(Z.AlertCircle,{size:24,color:"spotWarning"})),P.default.createElement(k,{font:"bodySemibold",marginBottom:14},e("portfolioHomeNoFungibleTokens")),P.default.createElement(k,{align:"center",marginBottom:32},e("portfolioHomeNoFungibleTokensDescription")),P.default.createElement(fe,{onPress:t},e("homeErrorButtonText")))}),Co=()=>P.default.createElement(Se,null);var cr={collectibles:177,fungibles:84};function mr({data:e,status:t,collectibleRowRenderer:o}){if(!(t!=="success"||e.length===0))return{rowRenderer:o,rowCount:e.length}}function dr({data:e,status:t,hasNextPage:o,tokenRowRenderer:s,onRowsRendered:r}){if(!(t!=="success"||e.length===0))return{onRowsRendered:r,rowRenderer:s,rowCount:o?e.length+1:e.length}}function ur({onFungibleDetailNav:e,listHeaderChildren:t,isBalanceHidden:o,renderCollectiblesComponent:s,collectiblesPerRow:r,tabBar:i,onLayout:a}){let n=(0,f.useRef)(null),m=ye(Ee),u=(0,f.useCallback)(({stopIndex:y,startIndex:z})=>{m({start:z,end:y})},[m]),g=h(ao).fungibles,w=h(D),C=ee(),N=(0,f.useMemo)(()=>lo(C.gridItems,r),[C.gridItems,r]),v=(0,f.useMemo)(()=>C.isLoadingCollectionVisibility||C.isLoadingCollections?"loading":C.isErrorCollections&&N.length===0?"error":"success",[C.isLoadingCollectionVisibility,C.isLoadingCollections,C.isErrorCollections,N.length]),$=(0,f.useMemo)(()=>({item:y})=>{if(!s)throw new Error("renderCollectiblesComponent is not defined");return s({item:y,extraData:{collections:C.collections,pinnedCollectionIds:C.pinnedCollectionIds}})},[C.collections,C.pinnedCollectionIds,s]),E=(0,f.useCallback)(y=>{if(y.index===g.data.length)return f.default.createElement(d,{style:y.style,key:"fungible-loading-row"},f.default.createElement(Ye,null));let z=g.data[y.index];return f.default.createElement(d,{style:y.style,key:y.key},f.default.createElement(go,{onFungibleDetailNav:e,isBalanceHidden:o,...z}))},[g.data,o,e]),j=(0,f.useCallback)(y=>{let z=N[y.index];return f.default.createElement(d,{style:y.style,key:y.key},f.default.createElement($,{item:z}))},[N,$]),te=(0,f.useMemo)(()=>mr({data:N,status:v,collectibleRowRenderer:j}),[N,v,j]),se=(0,f.useMemo)(()=>dr({...g,tokenRowRenderer:E,onRowsRendered:u}),[g,E,u]),Y=(0,f.useMemo)(()=>{switch(w){case b.Tokens:return se;case b.Collectibles:return te;default:throw new Error("Invalid data tab")}},[w,se,te]);return f.default.createElement(d,{gap:8,paddingBottom:8,overflowY:"auto",ref:n,overflowX:"hidden"},t,i,w===b.Collectibles&&v==="loading"&&f.default.createElement(mo,null),w===b.Collectibles&&v==="error"&&f.default.createElement(uo,null),w===b.Collectibles&&v==="success"&&N.length===0&&f.default.createElement(co,null),w===b.Tokens&&g.status==="loading"&&f.default.createElement(ho,null),w===b.Tokens&&g.status==="error"&&f.default.createElement(Co,null),w===b.Tokens&&g.status==="success"&&g.data.length===0&&f.default.createElement(bo,null),Y&&f.default.createElement(xt,{scrollElement:n.current??void 0},({height:y=0,isScrolling:z,registerChild:oe,scrollTop:de})=>f.default.createElement("div",{style:{width:"100%"},ref:oe},f.default.createElement(Tt,{disableHeight:!0},({width:ue})=>f.default.createElement(At,{rowHeight:cr[w],autoHeight:!0,width:ue,height:y,scrollTop:de,isScrolling:z,...Y})))))}var yo=(0,f.memo)(ur);function pr(e,t,o){t({caip19:e.encodedCaip19,key:e.legacyKey??"",tokenAccount:void 0,...e.name&&{name:e.name},isSplCompressed:e.extraMetadata?.compression?.compressed??!1});let s=W.getChainName(e.decodedCaip19.chainId),r=W.getChainID(e.decodedCaip19.chainId);o.capture("assetDetailClick",{data:{address:e.decodedCaip19.resourceType==="address"?e.decodedCaip19.address:void 0,chain:s,chainId:r,isNativeOfType:r,networkId:e.decodedCaip19.chainId,type:"fungible",spamStatus:e.spamStatus,name:e.name??void 0}})}function fr({onFungibleDetailNav:e,onTappingAccount:t,onTappingQRButton:o,onTappingSearch:s,onTappingActivity:r,onTappingSettings:i=()=>{},onTappingManageTokens:a=()=>{},onTappingManageCollections:n=()=>{},listFooterChildren:m,pageFooterComponent:u,listHeaderChildren:g,pageHeaderComponent:w,fixedHeaderChildren:C,zeroBalanceNux:N,renderCollectiblesComponent:v,accountAvatar:$,collectiblesPerRow:E=2,defaultTab:j,showPerpsPage:te,showPerpsPositionDetails:se,onLayout:Y,cashAccountBalance:y}){let z=Q();We();let[oe,de]=Te(D),{refetch:ue}=h(ne),{refetchCollections:Ke}=ee(),ae=Pt(),Je=wt(),et=(0,I.useCallback)(()=>{Je(!ae)},[ae,Je]),To=(0,I.useCallback)(()=>{oe===b.Tokens&&ue(),oe===b.Collectibles&&Ke()},[oe,ue,Ke]),Ao=(0,I.useCallback)(xo=>pr(xo,e,z),[e,z]);return(0,I.useEffect)(()=>{z.capture("portfolioHomeViewed")},[z]),(0,I.useEffect)(()=>{typeof j<"u"&&de(j)},[j,de]),I.default.createElement(I.default.Fragment,null,w,I.default.createElement(yo,{isBalanceHidden:ae,collectiblesPerRow:E,renderCollectiblesComponent:v,fixedHeaderChildren:C,listFooterChildren:m,listHeaderChildren:I.default.createElement(I.default.Fragment,null,I.default.createElement(d,{marginBottom:24},I.default.createElement(Qe,{toggleBalanceVisibility:et,isBalanceHidden:ae,zeroBalanceNux:N,cashAccountBalance:y}),I.default.createElement(_e,null)),g),tabBar:I.default.createElement(Yt,{isBalanceHidden:ae,toggleBalanceVisibility:et,onRefresh:To,selectedDataTab:oe,onTappingManageTokens:a,onTappingManageCollections:n,onTappingSettings:i}),accountAvatar:$,onFungibleDetailNav:Ao,onTappingAccount:t,onTappingQRButton:o,onTappingSearch:s,onTappingActivity:r,showPerpsPage:te,showPerpsPositionDetails:se,onLayout:Y}),u)}l();c();var He=T(A());function gr({marginBottom:e}){let{t}=F();return He.default.createElement(d,{direction:"row",gap:6,paddingY:16,paddingX:18,borderRadius:"base",justifyContent:"center",backgroundColor:"areaAccent",marginBottom:e},He.default.createElement(Z.Eye,{size:20,color:"textDiminished"}),He.default.createElement(k,{font:"captionSemibold",color:"textDiminished"},t("readOnlyAccountBannerWarning")))}var hr=gr;l();c();l();c();var Me=T(A());function br(){let e=h(Le);return(0,Me.useEffect)(()=>{e()},[e]),Me.default.createElement(le,null)}var Cr=br;export{fr as a,Cr as b,hr as c};
//# sourceMappingURL=chunk-YHXQA6AO.js.map
