import{a as Ie}from"./chunk-SI6RNORY.js";import{a as Pe,b as Be,c as Ae,f as ve,g as Ee,j as Ve,k as De,l as Le,m as Me}from"./chunk-PJY5ZDKA.js";import{a as Z}from"./chunk-6BLAMF36.js";import{a as ke}from"./chunk-OHDC6JN5.js";import{u as he,ya as A}from"./chunk-ZPSIMYUC.js";import{a as xe}from"./chunk-66RATSMU.js";import{b as be}from"./chunk-BV3TS4XT.js";import{a as ye}from"./chunk-WIVKFT3Y.js";import{f as Ce}from"./chunk-SAN2LWG5.js";import{e as we}from"./chunk-26BEY7UU.js";import{a as Te}from"./chunk-KHFCJUHU.js";import{a as K}from"./chunk-75HMBX3C.js";import{g as B,k as j}from"./chunk-3JMYJD4J.js";import{a as Y}from"./chunk-IRT22BM2.js";import{X as U}from"./chunk-BY77CZR3.js";import{X as ue}from"./chunk-IHXFHG2Y.js";import{b as pe}from"./chunk-JAQNMSBC.js";import{ja as ce}from"./chunk-QCKHHJ5F.js";import{a as Fe,c as Se,d as z}from"./chunk-Y6JOYO4T.js";import{_ as fe,c as ge,db as v,m as S}from"./chunk-FABKKW5E.js";import{e as de}from"./chunk-YI2NXTPE.js";import{Qa as ne}from"./chunk-VOCOWPRG.js";import{Zb as R,pd as ee}from"./chunk-PJ6PRBE2.js";import{Ba as te,Ca as a,Da as L,Ia as ie,Ma as se,X as oe,ac as le,c as D,cb as X,dc as me,nb as ae,wa as re,ya as p}from"./chunk-UTOBJRXZ.js";import{f as I,h as w,n as x}from"./chunk-SVG5OEFH.js";w();x();var e=I(D());w();x();var G=I(D());var E=({children:n})=>{let{popDetailView:r}=B(),{handleHideModalVisibility:t}=A(),l=(0,G.useCallback)(()=>{r(),t("sendFungibleForm"),t("sendFungibleSelect")},[r,t]);return G.default.createElement(Pe,{goHome:l},n)};w();x();var k=I(D());var He=({networkID:n})=>{let{t:r}=oe();return R.isBitcoinNetworkID(n)?k.default.createElement(Xe,null,k.default.createElement(me,{alignment:"rightCenter",index:0,content:k.default.createElement(Ge,null,k.default.createElement(Je,null,r("sendFungibleSatProtectionExplainer")," ",k.default.createElement("span",{onClick:()=>void pe({url:ce})},r("commandLearnMore")))),closeOnSecondClick:!1},k.default.createElement(Qe,null,k.default.createElement(fe,{width:16}),k.default.createElement(Ne,null," ",r("sendFungibleSatProtectionTitle"))))):null},Ge=S.div`
  padding: 16px;
  width: 256px;
`,Je=S(v).attrs({size:15,lineHeight:20,color:p.colors.legacy.textBase})`
  text-align: left;
  span {
    color: ${p.colors.legacy.spotBase};
    cursor: pointer;
  }
`,Qe=S.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
`,Ne=S(v).attrs({size:14,color:p.colors.legacy.textBase,hoverColor:p.colors.legacy.spotBase})`
  display: flex;
  align-items: center;
`,Xe=S.div`
  padding: 15px;
  background: ${p.colors.legacy.elementBase};
  border-radius: 9px;
  width: 100%;
  cursor: pointer;
  position: relative;

  &:hover {
    ${Ne} {
      color: ${p.colors.legacy.spotBase};
    }
    svg {
      fill: ${p.colors.legacy.spotBase};
      path {
        fill: ${p.colors.legacy.spotBase};
      }
    }
  }
`;w();x();var i=I(D());w();x();var o=I(D());var Ye=S(K).attrs({align:"center"})`
  height: 100%;
`,Ze=S(K).attrs({align:"center",justify:"center"})`
  flex: 1;
  flex-grow: 1;
`,Re=S(K).attrs({align:"center",justify:"center",margin:"0 0 15px 0"})`
  position: relative;
  border-radius: 50%;
  background-color: ${Y(p.colors.legacy.spotBase,.2)};
  box-shadow: 0 0 0 20px ${Y(p.colors.legacy.spotBase,.2)};
`,eo=S(v).attrs({size:28,lineHeight:33.89,weight:500,margin:"20px 0 10px 0"})``,oo=S(v).attrs({size:16,lineHeight:20.8,weight:500,color:p.colors.legacy.spotBase})`
  margin-top: 12px;
`,no=()=>{let{popDetailView:n}=B(),{handleHideModalVisibility:r}=A(),{closeAllModals:t}=be(),l=ge(),[c,g]=(0,o.useState)(!0),[d,b]=(0,o.useState)(),f=(0,o.useCallback)(P=>{self.open(P)},[]),y=(0,o.useCallback)(()=>{n(),r("sendFungibleForm"),r("sendFungibleSelect")},[n,r]),h=(0,o.useCallback)(P=>{switch(y(),P){case"history":l("/notifications");break;case"home":l("/",{state:{defaultTab:"fungibles",nonce:Date.now()}});break}},[l,y]),{handleTokenTransfer:F,isLedger:u,ledgerApp:s,...m}=Ve({sendSequenceAnalytics:de.send,onTransactionLinkPress:f,onClose:h,onCancel:y,onBack:n,mobileSignWithLedger:!1,ledgerSupported:!0}),V=(0,o.useCallback)(async()=>{u?b(o.default.createElement(Ce,{ledgerAction:async()=>{await F(),g(!1)},cancel:t,ledgerApp:s})):await F()},[u,F,t,s]);return{...m,isLedger:u,ledgerApp:s,handleTokenTransfer:V,needsLedgerApproval:c,ledgerContent:d}},ro=o.default.memo(({isLedger:n,isError:r,isSuccess:t,MessageElement:l,txReceipt:c,handleTransactionLinkPress:g,i18nStrings:d,handleRetry:b,handleClose:f,handleCancel:y,handleTokenTransfer:h,isLoadingSelectedAccountStatus:F,ledgerContent:u,needsLedgerApproval:s})=>{let m=F;return(0,o.useEffect)(()=>{m||(!n||s)&&h()},[m]),n&&s?o.default.createElement(o.default.Fragment,null,u??null):o.default.createElement(Ye,null,o.default.createElement(Ze,null,o.default.createElement(ie,{mode:"wait",initial:!0},o.default.createElement(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},r?o.default.createElement(Z,{type:"failure"}):t?o.default.createElement(Z,{type:"success"}):o.default.createElement(Re,null,o.default.createElement(Fe,{diameter:54,color:p.colors.legacy.spotBase,trackColor:p.colors.legacy.areaAccent})))),o.default.createElement(eo,null,d.titleText),l,c&&o.default.createElement(oo,{onClick:g},d.viewTransactionText)),r&&o.default.createElement(z,{primaryText:d.retryText,onPrimaryClicked:b,secondaryText:d.cancelText,onSecondaryClicked:y}),!r&&!!c&&o.default.createElement(ye,{justify:"center"},o.default.createElement(Se,{onClick:f},d.closeText)))}),to=()=>{let n=no();return o.default.createElement(ro,{...n})},We=()=>o.default.createElement(E,null,o.default.createElement(to,null));var io=()=>{let{popDetailView:n,pushDetailView:r}=B(),{handleHideModalVisibility:t,handleShowModalVisibility:l}=A(),c=(0,i.useCallback)(({transactionSpeed:f,transactionUnitAmount:y,networkID:h,sendFormValues:F,setSendFormValues:u})=>{r(i.default.createElement(ke,{onSelectTransactionSpeed:s=>{u({...F,transactionSpeed:s})},selectedTransactionSpeed:f,networkID:h,transactionUnitAmount:y,closeModal:n}))},[n,r]),g=(0,i.useCallback)(f=>{l("txSubmissionCheckFailure",{...f,onButtonClick:()=>{t("txSubmissionCheckFailure")}})},[t,l]),d=(0,i.useCallback)(()=>{n(),t("sendFungibleForm"),t("sendFungibleSelect")},[n,t]),b=(0,i.useCallback)(()=>{r(i.default.createElement(We,null))},[r]);return ve({onNext:b,onClose:d,onTransactionSpeedChange:c,onSubmissionCheckFail:g,copyToClipboard:Te})},so=i.default.memo(({canSend:n,summaryRows:r,i18nStrings:t,handleNext:l,handleClose:c,networkID:g,senderAddress:d})=>i.default.createElement(a,{height:"100%"},i.default.createElement(j,null,t.title),i.default.createElement(a,{height:"100%",overflow:"scroll",marginBottom:8},i.default.createElement(a,{width:"100%",flex:1},i.default.createElement(Le,null),i.default.createElement(Me,{networkId:g,senderAddress:d}),i.default.createElement(le,{rows:r}))),i.default.createElement(ae,{direction:"row"},i.default.createElement(X,{onClick:c},t.cancel),i.default.createElement(X,{disabled:!n,onClick:l,background:"spot"},t.send)))),ao=()=>{let n=io();return i.default.createElement(so,{...n})},Oe=()=>i.default.createElement(E,null,i.default.createElement(ao,null));var lo={form:re({width:"100%"})},mo=()=>{let{popDetailView:n,pushDetailView:r}=B(),{handleHideModalVisibility:t}=A(),l=(0,e.useCallback)(()=>{n(),t("sendFungibleForm"),t("sendFungibleSelect")},[n,t]),c=(0,e.useCallback)(()=>{r(e.default.createElement(Oe,null))},[r]),{canGoNext:g,...d}=Ee({onClose:l,onNext:c}),[b,f]=(0,e.useState)(ee),{data:y=[]}=ne(),{networkID:h,senderAddress:F}=Be(),u=U(T=>T.sendFormValues.recipient),s=U(T=>T.sendFormValues),m=U(T=>T.setSendFormValues),{addressBookRecipient:V}=s,{recipientError:P,disabledDueToRecipient:M,isStaleRecipient:H,isRecipientLoading:J}=ue(u,h),{sendAddressWarning:N,sendAddressVariant:W}=Ae({senderAddress:F.address,senderAccounts:y,networkID:h,recipient:u}),O=u&&!!N&&!P&&!H,Q=(0,e.useCallback)(T=>{f(_=>({..._,recipientError:void 0})),m({...s,recipient:T,addressBookRecipient:T})},[s,m]);return{...d,canGoNext:g&&!M&&W!=="danger",senderAddress:F.address,addressBookRecipient:V,isStaleRecipient:H,recipientError:P,isRecipientLoading:J,sendAddressWarning:O?N:null,sendAddressVariant:W,sendFormValues:s,sendFormErrors:b,handleAddressSelection:Q,setSendFormValues:m,setSendFormErrors:f}},po=e.default.memo(({networkID:n,handleClose:r,handleInputChange:t,handleNext:l,primaryText:c,primarySymbol:g,toggleDenomination:d,errorText:b,secondaryText:f,formattedMaxAmount:y,symbol:h,decimals:F,logoUri:u,canGoNext:s,i18nStrings:m,handleSetMax:V,showSecondaryText:P,canSendCurrencyAmount:M,isMemoEnabled:H,memo:J,handleMemoChange:N,senderAddress:W,addressBookRecipient:O,isStaleRecipient:Q,recipientError:$,isRecipientLoading:T,sendAddressWarning:_,sendAddressVariant:$e,sendFormValues:_e,sendFormErrors:Ue,handleAddressSelection:ze,setSendFormValues:je,setSendFormErrors:Ke})=>{let qe=P?e.default.createElement(a,{direction:"row",justifyContent:"space-between",width:"100%"},e.default.createElement(a,{direction:"row",alignItems:"center",cursor:"pointer",color:{base:"textIncidental",hover:"spotBase"}},e.default.createElement(L,{font:"caption",onPress:M?d:void 0},f),M?e.default.createElement(a,{marginLeft:4},e.default.createElement(te.Swap2Vertical,{size:12})):null),e.default.createElement(L,{font:"caption",color:"textIncidental"},`${m.available} ${y}`)):null;return e.default.createElement(a,{justifyContent:"space-between",height:"100%"},e.default.createElement(a,null,e.default.createElement(j,null,m.pageTitle),e.default.createElement(a,{marginBottom:20,marginTop:10,marginLeft:"auto",marginRight:"auto"},e.default.createElement(he,{image:{type:"fungible",src:u,fallback:h},size:72})),e.default.createElement("form",{onSubmit:l,className:lo.form},e.default.createElement(a,{marginBottom:10},e.default.createElement(De,{addressBookRecipient:O,networkID:n,senderAddress:W,symbol:g,sendFormValues:_e,sendFormErrors:Ue,recipientError:$,handleAddressSelection:ze,setSendFormValues:je,setSendFormErrors:Ke,isLoading:T})),!O&&!Q&&$&&e.default.createElement(a,{marginBottom:10},e.default.createElement(L,{children:$,color:"spotNegative",font:"body"})),e.default.createElement(a,{marginBottom:10},e.default.createElement(a,{position:"relative"},e.default.createElement(xe,{name:"amount",value:c,symbol:g,alignSymbol:"right",buttonText:m.maxInput,width:47,maxLength:20,decimalLimit:F,warning:!!b,placeholder:m.inputAmountPlaceholder,onSetTarget:V,onKeyPress:C=>s&&C.key==="Enter"&&C.preventDefault(),onUserInput:t}))),H&&e.default.createElement(a,{marginBottom:10},e.default.createElement(we,{name:"memo",placeholder:m.memoPlaceholder,value:J,maxLength:240,onKeyDown:C=>s&&C.key==="Enter"&&C.preventDefault(),onChange:C=>{C.target.validity.valid?N(C.target.value):C.preventDefault()}}))),b?e.default.createElement(a,null,e.default.createElement(L,{color:"spotNegative",font:"body"},b)):qe,e.default.createElement(a,{marginTop:16},e.default.createElement(He,{networkID:n})),_&&e.default.createElement(Ie,{message:_,variant:$e,actions:[]})),e.default.createElement(z,{primaryText:m.next,secondaryText:m.cancel,onPrimaryClicked:l,onSecondaryClicked:r,primaryTheme:s?"primary":"default",primaryDisabled:!s}))}),uo=()=>{let n=mo();return e.default.createElement(po,{...n})},co=()=>e.default.createElement(E,null,e.default.createElement(uo,null)),Mn=co;export{Mn as a};
//# sourceMappingURL=chunk-V74I47Y4.js.map
