import{ya as M}from"./chunk-ZPSIMYUC.js";import"./chunk-3W7DN42P.js";import"./chunk-66RATSMU.js";import"./chunk-3CN4PSQF.js";import"./chunk-N6BAVOMX.js";import"./chunk-BV3TS4XT.js";import"./chunk-MSKCA54N.js";import"./chunk-WIVKFT3Y.js";import"./chunk-2DLZSCTQ.js";import"./chunk-DGD53LCE.js";import"./chunk-SAN2LWG5.js";import"./chunk-JVLGNGOV.js";import"./chunk-EMDZTJKZ.js";import"./chunk-26BEY7UU.js";import"./chunk-KHFCJUHU.js";import"./chunk-75HMBX3C.js";import"./chunk-3JMYJD4J.js";import"./chunk-FLIG3OXX.js";import"./chunk-IRT22BM2.js";import"./chunk-GDHNPAWS.js";import"./chunk-QCUZPSGD.js";import"./chunk-4NOCLPPV.js";import"./chunk-HRUBPS3N.js";import"./chunk-G46R4HGO.js";import{jb as P,kb as L,la as $,va as I}from"./chunk-QY5YIVDQ.js";import"./chunk-MUAOONPW.js";import"./chunk-BY77CZR3.js";import"./chunk-CEYX4EEL.js";import"./chunk-Q2MU5Q7Q.js";import"./chunk-CCUQPG33.js";import"./chunk-IHXFHG2Y.js";import"./chunk-JAQNMSBC.js";import"./chunk-MYAJJRTU.js";import"./chunk-EBUZAGLB.js";import"./chunk-QCKHHJ5F.js";import"./chunk-HPK5Q66L.js";import"./chunk-MEINW66A.js";import"./chunk-QMDPT5WS.js";import"./chunk-PQHYTRV5.js";import"./chunk-Y6JOYO4T.js";import{c as H}from"./chunk-FABKKW5E.js";import"./chunk-ZWNJSFU4.js";import"./chunk-MZPVJTUS.js";import"./chunk-JSLOSOZX.js";import"./chunk-GCJPSL4T.js";import"./chunk-RY7HN3SK.js";import"./chunk-YI2NXTPE.js";import"./chunk-TCB6NDII.js";import{$ as R}from"./chunk-R5GARSZH.js";import"./chunk-F24UB3BO.js";import{$a as v}from"./chunk-VOCOWPRG.js";import"./chunk-F63TUCMM.js";import"./chunk-CJHTJRVG.js";import{Zb as g}from"./chunk-PJ6PRBE2.js";import"./chunk-DHKCVHRA.js";import{Ca as F,X as h,Zb as A,c as X,rb as V}from"./chunk-UTOBJRXZ.js";import"./chunk-3Q6WUW5S.js";import"./chunk-I5GRDOQ7.js";import"./chunk-3KRCODTN.js";import{f as O,h as N,n as D}from"./chunk-SVG5OEFH.js";N();D();var t=O(X());var Y=o=>self.open(o,"_blank"),Z=()=>{let{handleHideModalVisibility:o}=M(),e=H(),{data:p}=v(),l=p?.type==="ledger",u="swapSDKConfirmation",r=(0,t.useCallback)(()=>{o(u)},[o,u]),i=(0,t.useCallback)(()=>{r(),e("/notifications")},[r,e]);return L({isLedger:l,goToSwapTab:r,goToActivityTab:i})},ee=()=>{let o=(0,t.useRef)(null),{t:e}=h(),p=$(),C=Z(),{data:l}=R(),u=e("swapTxConfirmationViewTransaction"),{isBridge:r,sellAsset:i,buyAsset:c,estimatedTime:K,isClosable:U,isSuccess:z,txErrorHelpButtonLink:Q,onClose:W,onSwapSuccess:_}=C,[d,j]=(0,t.useState)(void 0),[n,q]=(0,t.useState)(void 0),[b,G]=(0,t.useState)(!1),a,s,y,f,k=e("commandClose"),E,w=U||!1,S,B;if(r&&i){let m=`${i.amount} ${i.symbol}`,x=g.getNetworkName(i.networkID),T=`${c.amount} ${c.symbol}`,J=g.getNetworkName(c.networkID);a=e("swapTxBridgeSubmitting"),s=e("swapTxBridgeSubmittingDescription",{sellAmount:m,sellNetwork:x,buyAmount:T,buyNetwork:J})}else s=`${c.symbol||e("swapTxConfirmationTokens")} ${e("swapTxConfirmationTokensWillBeDeposited")} `,a=e("swapTxConfirmationSwappingTokens");return n?.type==="executeSwapStarted"&&o.current?.start(),n?.type==="transactionConfirmed"&&(r?(a=e("swapTxBridgeSubmitted"),s=e("swapTxBridgeSubmittedDescription",{estimatedTime:K}),y=e("swapTxBridgeSubmittedDisclaimer")):(a=e("swapTxConfirmationTokensDepositedTitle"),s=e("swapTxConfirmationTokensDepositedBody")),f={background:"spot"},w=!0,o.current?.success()),(n?.type==="simulationFailed"||n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(f={background:"element"},k=e("commandClose"),w=!0,E=t.default.createElement(F,{alignItems:"flex-end"},t.default.createElement(V,{icon:"HelpCircle",size:32,onClick:()=>Y(Q),backgroundColor:[null,"elementAccent"],color:["textDiminished","textBase"],label:e("commandHelp")}))),n?.type==="simulationFailed"&&(a=`${e("swapTxConfirmationSwapFailed")} ${i.symbol} \u2192 ${c.symbol}`,s=I(n.error),o.current?.fail()),(n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(a=e("swapTxConfirmationSwapFailed"),s=e("swapTxConfirmationSwapFailedUnknownError"),o.current?.fail()),(0,t.useEffect)(()=>{!S&&setTimeout(()=>{!b&&o.current?.start(),G(!0)},200)},[b,S]),(0,t.useEffect)(()=>{let m=p.subscribeExecution({onStateChange:(x,T)=>{j(T),q(x)}});return()=>m()},[p]),d?.type==="confirmingTransaction"&&(B=P({txReceipt:d?.txReceipt,networkID:d?.executingQuote.sell.data.chain.id,preferredExplorers:l})),t.default.createElement(A,{ref:o,title:a,txLink:B,txTitle:u,description:s,disclaimer:y,isClosable:w,buttonVariant:f,buttonText:k,onClose:z?_:W,header:E,customIcon:S})},Te=ee;export{ee as SwapperSDKSwapConfirmationPage,Te as default};
//# sourceMappingURL=SwapperSDKSwapConfirmationPage-7HJ3LXP6.js.map
