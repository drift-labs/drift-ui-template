import{a as jt}from"./chunk-7FBJWCUP.js";import{d as Kt,e as Jt}from"./chunk-YDE6XTRA.js";import"./chunk-WVBW7PM2.js";import{a as Ie,b as Zt,c as Ae}from"./chunk-62R3RHBC.js";import{a as Yt}from"./chunk-LRFHH3ZB.js";import{a as Ye}from"./chunk-6VBZ34UF.js";import{H as Ut,N as _t,O as Me,U as Gt,aa as qt,c as Wt,d as ye,ma as Ht,pa as Xt,u as ke,wa as Xe,ya as Z}from"./chunk-ZPSIMYUC.js";import"./chunk-3W7DN42P.js";import"./chunk-66RATSMU.js";import"./chunk-3CN4PSQF.js";import{o as re,q as Qe,s as Te}from"./chunk-N6BAVOMX.js";import"./chunk-BV3TS4XT.js";import"./chunk-MSKCA54N.js";import"./chunk-WIVKFT3Y.js";import"./chunk-2DLZSCTQ.js";import"./chunk-DGD53LCE.js";import"./chunk-SAN2LWG5.js";import"./chunk-JVLGNGOV.js";import"./chunk-EMDZTJKZ.js";import{h as K}from"./chunk-26BEY7UU.js";import"./chunk-KHFCJUHU.js";import{a as He}from"./chunk-75HMBX3C.js";import{g as qe}from"./chunk-3JMYJD4J.js";import"./chunk-FLIG3OXX.js";import{a as rt}from"./chunk-IRT22BM2.js";import{a as $t}from"./chunk-GDHNPAWS.js";import"./chunk-QCUZPSGD.js";import"./chunk-4NOCLPPV.js";import"./chunk-HRUBPS3N.js";import"./chunk-G46R4HGO.js";import{$a as Pt,$b as Ge,Ca as ht,Ea as _e,Ka as bt,Ma as xt,Yb as At,Zb as Dt,ab as Ft,ac as Bt,cb as Ct,da as Ee,db as vt,fc as Nt,gc as Lt,ia as gt,ic as Et,jc as Mt,la as ft,ma as tt,ob as kt,ta as wt,ub as Tt,wa as St,xa as yt,xb as It}from"./chunk-QY5YIVDQ.js";import"./chunk-MUAOONPW.js";import"./chunk-BY77CZR3.js";import"./chunk-CEYX4EEL.js";import{u as M}from"./chunk-Q2MU5Q7Q.js";import"./chunk-CCUQPG33.js";import{L as dt}from"./chunk-IHXFHG2Y.js";import"./chunk-JAQNMSBC.js";import"./chunk-MYAJJRTU.js";import"./chunk-EBUZAGLB.js";import{ca as Se}from"./chunk-QCKHHJ5F.js";import"./chunk-HPK5Q66L.js";import"./chunk-MEINW66A.js";import"./chunk-QMDPT5WS.js";import"./chunk-PQHYTRV5.js";import{c as Vt}from"./chunk-Y6JOYO4T.js";import{C as Ot,db as ot,j as Qt,l as zt,m as G}from"./chunk-FABKKW5E.js";import"./chunk-ZWNJSFU4.js";import"./chunk-MZPVJTUS.js";import"./chunk-JSLOSOZX.js";import"./chunk-GCJPSL4T.js";import"./chunk-RY7HN3SK.js";import{c as ut}from"./chunk-YI2NXTPE.js";import"./chunk-TCB6NDII.js";import"./chunk-R5GARSZH.js";import"./chunk-F24UB3BO.js";import{Nb as $e,lb as Ve}from"./chunk-VOCOWPRG.js";import"./chunk-F63TUCMM.js";import"./chunk-CJHTJRVG.js";import{Gc as et,Zb as Fe,_d as ct,dc as le,ka as lt}from"./chunk-PJ6PRBE2.js";import"./chunk-DHKCVHRA.js";import{Ba as ce,Ca as c,Da as C,Lb as ve,S as m,X as S,c as x,cb as mt,gb as te,hb as oe,ib as Ce,qb as de,rb as Ue,wa as A,ya as P}from"./chunk-UTOBJRXZ.js";import"./chunk-3Q6WUW5S.js";import"./chunk-I5GRDOQ7.js";import"./chunk-3KRCODTN.js";import{f as b,h as p,n as l}from"./chunk-SVG5OEFH.js";p();l();var T=b(x());p();l();var N=b(x());p();l();var me=b(x()),_o=me.default.memo(({retryString:e,message:t,errorCode:o,onRetry:n})=>o==="InsufficientSellAmount"?me.default.createElement(c,{width:"100%"},me.default.createElement(ve,{level:"1-critical-alert"},t)):me.default.createElement(c,{gap:10,width:"100%"},me.default.createElement(c,{width:"100%"},me.default.createElement(ve,{level:"2-alert",actions:[{children:e,onPress:n}]},t)))),Rt=me.default.memo(({message:e,errorCode:t,onRetry:o})=>{let{t:n}=S(),r=n("swapQuestionRetry");return me.default.createElement(_o,{retryString:r,message:e,errorCode:t,onRetry:o})});p();l();var ze=b(x());p();l();var Q=b(x());var eo={disclaimerText:A({textAlign:"left"}),secondaryTooltipText:A({textAlign:"left",marginLeft:4,marginRight:4})},to=({networkFee:e,tokenAccountFee:t,bridgeFee:o,phantomFeePercent:n,destinationNetworkFee:r,liquidityProviderFee:s})=>Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(We,{...e}),Q.default.createElement(We,{...o}),Q.default.createElement(We,{...t}),Q.default.createElement(We,{...r}),Q.default.createElement(We,{...s}),n?.value&&Q.default.createElement(C,{className:eo.disclaimerText,font:"captionItalic",color:"textIncidental",children:n.label})),We=({label:e,maxValueUsd:t,valueUsd:o})=>{let{t:n}=S();return o?Q.default.createElement(Qe,null,Q.default.createElement(re,null,e,t&&Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(C,{children:` ${n("swapperMax")} \xB7 `,className:eo.secondaryTooltipText,color:"textIncidental",font:"captionItalic"}),Q.default.createElement(ye,{color:"textIncidental",font:"captionItalic",minimumResolutionValue:1e-4,value:t}))),Q.default.createElement(re,null,Q.default.createElement(ye,{font:"caption",minimumResolutionValue:1e-4,value:o}))):null};p();l();var he=b(x());var nt={row:A({display:"flex",flexDirection:"row",minWidth:0}),iconContainer:A({position:"relative",top:1,marginLeft:4})},oo=({label:e,tooltipContent:t,isLoading:o,value:n,disabled:r,onClick:s,accessoryIcon:a})=>{let i=a?he.default.createElement("span",null,a==="chevron-right"?he.default.createElement(ce.ChevronRight,{className:nt.iconContainer,color:"textDiminished",size:16}):he.default.createElement(ce.Swap,{className:nt.iconContainer,color:"textDiminished",size:16})):null;return he.default.createElement(Ie,{label:e,tooltipContent:t,isLoading:o,onClick:r?void 0:s},he.default.createElement("div",{className:nt.row},he.default.createElement(Ae,null,n),r?null:i))};p();l();var $=b(x());var ro=({label:e,value:t,tooltipContent:o,onClick:n})=>{let[r,s]=(0,$.useState)(t),[a,i]=(0,$.useState)(!1),f=(0,$.useRef)(!1);(0,$.useEffect)(()=>{if(t===r)return;if(f.current){f.current=!1,s(t);return}i(!0);let w=setTimeout(()=>{let F=setTimeout(()=>{i(!1),s(t)},150);return()=>clearTimeout(F)},150);return()=>clearTimeout(w)},[r,t]);let u=(0,$.useMemo)(()=>a?$.default.createElement(Te,{width:"75px",height:"15px",borderRadius:"50px",backgroundColor:P.colors.legacy.borderDiminished}):$.default.createElement(Ae,{onClick:()=>{n&&(f.current=!0,n())}},r),[a,n,r]);return $.default.createElement(c,{direction:"row",gap:16,backgroundColor:"elementBase",padding:16,alignItems:"center",justifyContent:"space-between"},$.default.createElement(Ye,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:400,info:o?$.default.createElement(Zt,{tooltipContent:o}):null,textColor:P.colors.legacy.textBase},e),u)};p();l();var no=b(x()),io=e=>{switch(e.type){case"provider":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"providerPressable":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,accessoryIcon:"chevron-right",disabled:!e.selectProviderEnabled,onClick:e.showProviders,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"exchangeRate":return{type:"generic",label:m.t("swapFeesRate"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),isLoading:e.isFetchingQuote,value:e.exchangeRate.rate,onClick:e.exchangeRate.flip,accessoryIcon:"swap"};case"pricing":return{type:"generic",label:m.t("swapFeesPricing"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),value:e.exchangeRate.rate,isLoading:e.isFetchingQuote,accessoryIcon:"chevron-right",onClick:e.showSwapPricing};case"slippage":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"slippagePressable":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage}),onClick:e.showSwapSettings,accessoryIcon:"chevron-right"};case"priceImpact":return{type:"generic",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"network":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("nounNetwork"),value:`${e.sellNetwork} \u2794 ${e.buyNetwork}`};case"executionDuration":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapEstimatedTimeShort"),value:e.uiEstimatedTime,tooltipContent:m.t("swapEstimatedTimeDisclaimer")};case"fees":return{type:"generic",label:m.t("swapFeesFees"),isLoading:e.isFetchingQuote||e.fees.isFetchingFees,value:no.default.createElement(ye,{font:"caption",value:e.fees.totalFees.amountUsd})};case"highPriceImpact":return{type:"warning",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesHighPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"highSlippage":return{type:"warning",isLoading:e.isFetchingQuote,value:e.slippage?.text,label:m.t("swapFeesHighSlippage"),tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"transferFees":return{type:"warning",isLoading:e.isFetchingQuote,value:`${e.transferFees.totalPercentFees}%`,label:m.t("swapTransferFee"),tooltipContent:e.transferFees.fees.length>1?m.t("swapTransferFeeDisclaimerMany",{feePercent:e.transferFees.totalPercentFees}):m.t("swapTransferFeeDisclaimer",{symbol:e.transferFees.fees[0].symbol,feePercent:e.transferFees.fees[0].percentFee})}}};p();l();var Ze=b(x());var ao=({label:e,tooltipContent:t,isLoading:o,value:n})=>Ze.default.createElement(Ie,{label:e,icon:Ze.default.createElement(Ot,{width:"14",height:"14",fill:P.colors.legacy.areaBase}),tooltipContent:t,customBackground:P.colors.legacy.spotWarning,color:P.colors.legacy.areaBase,isLoading:o},Ze.default.createElement(Ae,{color:P.colors.legacy.areaBase},n));var so=e=>{let t=io(e);switch(t?.type){case"generic":let o=t,n=e.type==="fees"?e.feeBreakdown&&ze.default.createElement(to,{...e.feeBreakdown}):o.tooltipContent;return e.rowDisplayStrategy===0?ze.default.createElement(oo,{tooltipContent:n,...t}):ze.default.createElement(ro,{tooltipContent:n,...t});case"warning":return ze.default.createElement(ao,{...t});default:return null}};var Ho=e=>{let{t}=S(),{handleShowModalVisibility:o}=Z(),n=(0,N.useCallback)(()=>{o("swapProviders",void 0,{event:"showSwapModal",payload:{data:{uiContext:"SwapProviders"}}})},[o]),r=(0,N.useCallback)(()=>{o("swapSettings")},[o]),s=(0,N.useCallback)(()=>{o("swapPricingLegacy")},[o]),a=Dt({isSwapReview:e,showProviders:n,showSwapSettings:r,showSwapPricing:s}),{exchangeRate:i,fees:f}=a,u=i.rate?i.isBestRate?P.colors.legacy.spotPositive:P.colors.legacy.textBase:"",w=Ct(f);return{...a,exchangeRateColor:u,feeBreakdown:w,isSwapReview:e,showSwapProvidersModal:n,t}},Xo=N.default.memo(({displayPhantomFeeRow:e,fees:t,isFetchingQuote:o,rows:n,t:r,sharedRowProps:s,rowDisplayStrategy:a})=>{let i=!!t.phantomFee.pct,f=(0,N.useMemo)(()=>{switch(a){case 1:return e&&i;case 0:return e&&i&&!o}},[o,e,i,a]),u=n.map((w,F)=>N.default.createElement(so,{key:`r-${F}`,...s,type:w,rowDisplayStrategy:a}));return N.default.createElement(c,{gap:1,width:"100%"},N.default.createElement(c,{borderTopRadius:8,borderBottomRadius:8,gap:1,overflow:"hidden"},u),f?N.default.createElement(c,{borderBottomRadius:8,overflow:"hidden"},N.default.createElement(Ie,{customBackground:P.colors.legacy.areaBase,fontWeight:400,lineHeight:18,label:r("swapQuoteFeeDisclaimer",{feePercentage:M(t.phantomFee.pct)}),tooltipContent:r("swapFeesPhantomFeeDisclaimer",{feePercentage:M(t.phantomFee.pct)}),color:P.colors.legacy.textDiminished})):null)}),Yo=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=Ho(e);return N.default.createElement(Xo,{...o,rowDisplayStrategy:t})},po={direction:"row",marginY:10,width:"100%"},lo=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=Ee(a=>a.hasNoRoutes),n=Ee(a=>a.error),{clearQuotes:r}=ht(),s=(0,N.useCallback)(()=>{r()},[r]);return n&&o?N.default.createElement(c,{...po},N.default.createElement(Rt,{message:n.message,errorCode:n.code,onRetry:s})):N.default.createElement(c,{...po},N.default.createElement(Yo,{isSwapReview:e,rowDisplayStrategy:t??0}))};p();l();var q=b(x());p();l();var D=b(x());p();l();var Zo=b(x());var ne=G.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Wn=G.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var zn=G.div`
  color: ${P.colors.legacy.spotBase};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${P.colors.legacy.elementAccent};
  }
`;p();l();var U=b(x()),ie=({input:e,isLoading:t,onSelectorPress:o,perspective:n,selectorIcon:r,selectorLabel:s,spamStatus:a,accessories:i,footer:f})=>{let{t:u}=S(),w=u(n==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),F=(0,U.useMemo)(()=>{if(i)return U.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},i)},[i]);(0,U.useEffect)(()=>{n==="buy"?perfalyze.markFrame("buyTokenUpdated"):perfalyze.markFrame("sellTokenUpdated")},[s,n]);let v=U.default.createElement(c,{display:"flex",direction:"column",gap:0,backgroundColor:"elementBase",borderRadius:"table",padding:20},U.default.createElement(C,{font:"labelSemibold",color:"textIncidental",children:w}),U.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,U.default.createElement(c,{flex:1}),t?U.default.createElement(oe,{width:112,height:24}):U.default.createElement(c,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderBase"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${n}-token-button`},r,U.default.createElement(Wt,{spamStatus:a,children:s,font:"captionSemibold"}),U.default.createElement(ce.ChevronDown,{size:14}))),F);return jo(v,f)},jo=(e,t)=>t?U.default.createElement(c,{direction:"column",backgroundColor:"elementBase",borderRadius:"table"},e,t):e;p();l();var ge=b(x()),co=({warnings:e})=>{let{t}=S();if(e.length===0)return null;let o=e[0],n=a=>{switch(a.level){case"warn":return{backgroundColor:"spotWarning",textColor:"areaBase"};case"info":return{backgroundColor:"elementBase",textColor:"textBase"}}},{backgroundColor:r,textColor:s}=n(o);return ge.default.createElement(ge.default.Fragment,null,ge.default.createElement(c,{width:"100%",height:1,backgroundColor:"areaBase"}),ge.default.createElement(c,{gap:8,direction:"row",backgroundColor:r,padding:"screen",borderBottomRadius:"table"},ge.default.createElement(c,{flexShrink:0},ge.default.createElement(ce.AlertTriangle,{color:s,size:18})),ge.default.createElement(C,{flexShrink:1,font:"caption",color:s,children:t(o.titleKey,o.options)})))};p();l();var De="_4ag7710",mo=32,uo="_4ag7712 _4ag7711 _51gaznxf _51gazn13m _51gaznyw";p();l();var fe=b(x()),go={secondaryContainer:A({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),pointer:A({cursor:"pointer"})},fo=({isLoading:e,usdAmount:t,cryptoSubtitle:o,supportsCurrencyDenominationSwitching:n,switchCurrencyDenomination:r})=>{let s=Ee(i=>i.primaryCurrency),a=(0,fe.useMemo)(()=>e?fe.default.createElement(oe,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"}):s==="crypto"&&t!==void 0?fe.default.createElement(ye,{font:"caption",color:"textDiminished",value:t,intlNumberFormatOptions:{notation:"compact"}}):s==="fiat"&&o?fe.default.createElement(C,{font:"caption",color:"textDiminished",children:o}):null,[o,s,e,t]);return fe.default.createElement("div",{className:go.secondaryContainer,onClick:r},a,n?fe.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderBase"},color:"textDiminished",className:go.pointer}):null)};var it={filters:A({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),currencyPrefix:A({marginRight:2}),accessoryContainer:A({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:A({flex:1})},wo=({asset:e,perspective:t,onInputChange:o,onFungibleTap:n,onFilterTap:r,switchCurrencyDenomination:s,onBalanceTap:a})=>{let{amount:i,balance:f,fungible:u,isAmountEditable:w,isAmountLoading:F,isSecondaryCryptoSubtitleLoading:v,isWarning:d,secondaryCryptoSubtitle:y,amountPrefix:k,selectedFilter:g,filters:I,supportsCurrencyDenominationSwitching:_,usdAmount:R}=e,{t:ee}=S(),z=D.default.createElement(ke,{image:{type:"fungible",src:u.data?.logoUri,fallback:u.data?.symbol||u.data?.tokenAddress},size:32,tokenType:u.type,chainMeta:u.data?.chain}),ue=V=>V.length>16?16:V.length>14?18:V.length>12?20:22,pe=(0,D.useMemo)(()=>{let V=ue(i);return F?D.default.createElement(oe,{width:100,height:18,borderRadius:12}):D.default.createElement(ne,{hasWarning:d,fontSize:V},D.default.createElement(C,{font:"heading3",children:k,className:it.currencyPrefix}),D.default.createElement(K,{name:"amount",border:"0",placeholder:"0",warning:d,value:i,decimalLimit:u.data?.decimals,disabled:!w,onUserInput:o}))},[F,d,k,i,u.data?.decimals,w,o]),we=(0,D.useMemo)(()=>D.default.createElement(fo,{isLoading:v,usdAmount:R,cryptoSubtitle:y,supportsCurrencyDenominationSwitching:_,switchCurrencyDenomination:s}),[v,R,y,_,s]),Pe=(0,D.useMemo)(()=>{let V=Y=>{switch(Y){case .25:return"25%";case .5:return"50%";case 1:return ee("swapAssetCardMaxButton")}};return I.map(Y=>D.default.createElement(de,{key:Y,active:Y===g,children:V(Y),onChange:()=>r(Y),className:De}))},[I,ee,g,r]),Je=(0,D.useMemo)(()=>D.default.createElement(D.default.Fragment,null,we,D.default.createElement("div",{className:it.spacer}),D.default.createElement(C,{font:"caption",color:{base:"textDiminished",hover:a?"textBase":void 0},children:f,onPress:a}),D.default.createElement("div",{className:it.filters},Pe)),[f,Pe,a,we]),Re=(0,D.useMemo)(()=>{if(e.warnings.length!==0)return D.default.createElement(co,{warnings:e.warnings})},[e.warnings]);return D.default.createElement(ie,{perspective:t,input:pe,selectorIcon:z,selectorLabel:u.data?.symbol??"",spamStatus:u.data?.spamStatus,onSelectorPress:n,accessories:Je,footer:Re})};p();l();var Be=b(x());var So=({onSelectorTap:e,perspective:t})=>{let{t:o}=S();return Be.default.createElement(ie,{perspective:t,input:Be.default.createElement(ne,{hasWarning:!1,fontSize:32},Be.default.createElement(K,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:Be.default.createElement(te,{icon:"Plus",size:28,shape:"circle",color:"textBase",backgroundColor:"areaAccent"}),selectorLabel:o("commandSelect"),spamStatus:null,onSelectorPress:e,accessories:Be.default.createElement(C,{font:"caption",color:"textDiminished",children:"$0"})})};p();l();var L=b(x());var at={filters:A({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:A({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:A({marginRight:2}),accessoryContainer:A({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:A({flex:1})},Ko=[.5,1],yo=({perspective:e})=>{let{t}=S(),o=(0,L.useMemo)(()=>{let a=Number(P.typography.font.heading3.fontSize.replace("px",""));return L.default.createElement(ne,{fontSize:a},L.default.createElement(K,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),n=(0,L.useMemo)(()=>L.default.createElement(C,{font:"caption",color:"textDiminished",children:"$0"}),[]),r=(0,L.useMemo)(()=>{let a=i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return Ko.map(i=>L.default.createElement(de,{active:!1,children:a(i),onChange:()=>{},className:De}))},[t]),s=(0,L.useMemo)(()=>L.default.createElement(L.default.Fragment,null,L.default.createElement("div",{className:at.secondaryContainer},n,e==="sell"?L.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textDiminished"}):null),L.default.createElement("div",{className:at.spacer}),L.default.createElement(Ce,{font:"caption",width:64}),e==="sell"?L.default.createElement("div",{className:at.filters},r):null),[r,n,e]);return L.default.createElement(ie,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:s})};var ho={container:A({display:"flex",flexDirection:"column",flex:1}),assets:A({gap:12,display:"flex",flexDirection:"column"})},bo=({onSelectAsset:e,isLoadingInitialAssets:t})=>{let{buy:o,sell:n,switchPerspective:r,setAmount:s,switchCurrencyDenomination:a,setFilter:i}=Ft(),{t:f}=S(),u=(0,q.useCallback)(()=>{perfalyze.markFrame("switchButtonClick"),r()},[r]),w=(0,q.useCallback)(async(v,d)=>{await ut.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:v}}),i(v,d)},[i]),F=(0,q.useMemo)(()=>[{perspective:"sell",asset:n},{perspective:"buy",asset:o}].map(({asset:v,perspective:d})=>{if(!v)return q.default.createElement(So,{key:d+"select",perspective:d,onSelectorTap:()=>e(d)});if(t)return q.default.createElement(yo,{key:d+"loading",perspective:d});let y=v.filters.length>0?()=>i(1,d):void 0,k=q.default.createElement(wo,{key:d,asset:v,perspective:d,switchCurrencyDenomination:a,onFungibleTap:()=>e(d),onInputChange:g=>{s(d,g)},onFilterTap:g=>w(g,d),onBalanceTap:y});return d==="buy"?q.default.createElement(c,{position:"relative",key:d+"swap-button"},k,q.default.createElement("div",{className:uo,style:{pointerEvents:"none"}},q.default.createElement(Ue,{label:f("swapperSwitchTokens"),size:mo,shape:"circle",onClick:u,backgroundColor:{base:"spotBase",hover:"spotAccent"},icon:"SwapVertical"}))):k}),[n,o,t,a,w,e,s,i,u,f]);return q.default.createElement("div",{className:ho.container},q.default.createElement("div",{className:ho.assets},F))};p();l();var O=b(x());var Jo=O.default.memo(({rankAlgo:e,limit:t})=>{let{t:o}=S(),n=ct(),r=Me(g=>g.sortBy),s=Me(g=>g.sortDirection),a=Me(g=>g.timeFrame),i=Me(g=>g.network),{data:f,error:u,isLoading:w,refetch:F}=It({sortBy:r,sortDirection:s,timeFrame:a,limit:t,rankAlgo:e,network:i}),{pushDetailView:v}=qe(),d=(0,O.useCallback)(({item:g,index:I})=>{let _=le({chainId:g.chainId,address:g.address,resourceType:"address"});n.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:I,title:g.name||g.symbol,id:`${g.address}-${g.chainId}`}}}}),v(O.default.createElement(Xe,{caip19:_,title:g.name??void 0,entryPoint:"exploreInSwap"}))},[n,v]),y=!!u||f?.items.length===0,k=w||typeof f>"u";return O.default.createElement(c,{direction:"column",paddingTop:24,flex:1,width:"100%"},O.default.createElement(c,{paddingX:"screen",paddingBottom:10},O.default.createElement(C,{font:"title2",color:"textBase"},o("exploreTokens"))),O.default.createElement(Ht,{isError:y,isLoading:k,refetch:F,filters:O.default.createElement(Kt,null),listHeader:O.default.createElement(Gt,null),rows:(f?.items??[]).map((g,I)=>({...qt({item:g,sortBy:r,image:O.default.createElement(Jt,{index:I,displayRank:!0,image:O.default.createElement(ke,{image:{type:"fungible",src:g.logoUrl,fallback:g.symbol||g.name},size:48,badge:{type:"network",preset:Fe.getChainID(g.chainId)}})}),t:o}),onClick:()=>d({item:g,index:I})}))}))});function Ro(){let e=Tt("tokens");return e?O.default.createElement(_t,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault},O.default.createElement(Jo,{rankAlgo:e.rankAlgo,limit:10})):null}var je=O.default.memo(Ro);p();l();var Fo=b(x());p();l();var xo=b(x());var er={autoSlippageOptIn:"autoSlippageOptIn"},Po=()=>{let{handleShowModalVisibility:e}=Z();return(0,xo.useCallback)(t=>{let o=er[t];if(!o)throw new Error(`Swap review interceptor modal not found or configured for ${t}.`);e(o)},[e])};var Co=()=>{let{goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o}=jt(),n=Po(),{disabled:r,title:s,type:a,onClick:i}=At({goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o,showOverlay:n,showFungibleDetails:()=>{},showBuyFungibleScreen:()=>{},navigateToSwapper:()=>{}});function f(u){return u==="primary"?"primary":u==="alert"?"warning":"default"}return Fo.default.createElement(Vt,{type:"submit",theme:f(a),disabled:r,onClick:i,width:"90%"},s)};p();l();var be=b(x());p();l();var j=b(x());var tr=G.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,or=G.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,rr=G.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${rt(P.colors.legacy.areaBase,.75)};
`,vo=G.div`
  background-color: ${rt(P.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,ko=G(ot).attrs({size:14,lineHeight:19,weight:500,color:P.colors.legacy.textBase,textAlign:"left"})``,Ne=({message:e,swapDisabled:t=!0,children:o})=>t?j.default.createElement(j.default.Fragment,null,j.default.createElement(rr,{"data-testid":"disable-overlay"},j.default.createElement(vo,null,j.default.createElement(ko,null,e))),j.default.createElement(or,{"data-testid":"disable-wrapper"},o)):j.default.createElement(tr,null,j.default.createElement(vo,null,j.default.createElement(ko,null,e)),j.default.createElement(j.default.Fragment,null,o));var nr=G.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,To=be.default.memo(({children:e})=>{let t=Ve(),o=t.every(i=>Fe.isMainnetNetworkID(i)),r=_e().some(i=>t.includes(i)),{t:s}=S(),a=(0,be.useMemo)(()=>({availableOnlyOnMainnet:s("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:s("swapNotAvailableOnSelectedNetwork")}),[s]);return o?r?be.default.createElement(nr,null,e):be.default.createElement(Ne,{message:a.notAvailableOnSelectedNetwork,swapDisabled:!0},e):be.default.createElement(Ne,{message:a.availableOnlyOnMainnet,swapDisabled:!0},e)});p();l();var J=b(x());p();l();var Io="f8uvp90";var Ao="f8uvp92 f8uvp91 _51gaznxf _51gazn13m _51gaznyw",Do="f8uvp93";p();l();var H=b(x());p();l();var B=b(x());p();l();var ae=b(x()),Bo=({warnings:e})=>{let{t}=S(),o=e[0],{backgroundColor:n,textColor:r}=(0,ae.useMemo)(()=>{if(!o)return{backgroundColor:"elementBase",textColor:"textBase"};switch(o.level){case"warn":return{backgroundColor:"spotWarning",textColor:"areaBase"};case"info":return{backgroundColor:"elementBase",textColor:"textBase"}}},[o]);return e.length===0?null:ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(c,{width:"100%",height:1,backgroundColor:"areaBase"}),ae.default.createElement(c,{gap:8,direction:"row",backgroundColor:n,padding:"screen",borderBottomRadius:"table"},ae.default.createElement(c,{flexShrink:0},ae.default.createElement(ce.AlertTriangle,{color:r,size:18})),ae.default.createElement(C,{flexShrink:1,font:"caption",color:r,children:t(o.titleKey,o.options)})))};p();l();var Oe=b(x()),No=({isLoading:e,secondaryAmount:t,supportsCurrencyDenominationSwitching:o,switchCurrencyDenomination:n})=>{if(e)return Oe.default.createElement(oe,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"});let r=t?Oe.default.createElement(C,{font:"caption",color:"textDiminished",children:t}):null;return o?Oe.default.createElement(c,{direction:"row",alignItems:"center",gap:6,cursor:"pointer",onPress:n},r,Oe.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderBase"},color:"textDiminished"})):r};var Lo=({asset:e,perspective:t,currentPercentage:o,onPercentageTap:n,onInputChange:r,onFungibleTap:s,switchCurrencyDenomination:a,onBalanceTap:i})=>{let{amount:f,balance:u,fungible:w,isAmountEditable:F,isAmountLoading:v,isSecondaryAmountLoading:d,hasAmountWarning:y,secondaryAmount:k,amountPrefix:g,percentages:I,supportsCurrencyDenominationSwitching:_,warnings:R}=e,{t:ee}=S(),z=B.default.createElement(ke,{image:{type:"fungible",src:w.data?.logoUri,fallback:w.data?.symbol||w.data?.tokenAddress},size:32,tokenType:w.type,chainMeta:w.data?.chain}),ue=V=>V.length>16?16:V.length>14?18:V.length>12?20:22,pe=(0,B.useMemo)(()=>{let V=ue(f);return v?B.default.createElement(oe,{width:100,height:18,borderRadius:12}):B.default.createElement(ne,{hasWarning:y,fontSize:V},g&&B.default.createElement(C,{font:"heading3",children:g,marginRight:2}),B.default.createElement(K,{name:"amount",border:"0",placeholder:"0",warning:y,value:f,decimalLimit:w.data?.decimals,disabled:!F,onUserInput:r}))},[v,y,g,f,w.data?.decimals,F,r]),we=(0,B.useMemo)(()=>B.default.createElement(No,{isLoading:d,secondaryAmount:k,supportsCurrencyDenominationSwitching:_,switchCurrencyDenomination:a}),[d,k,_,a]),Pe=(0,B.useMemo)(()=>{let V=Y=>{switch(Y.percentage){case .25:return"25%";case .5:return"50%";case 1:return ee("swapAssetCardMaxButton")}};return I.map(Y=>B.default.createElement(de,{key:Y.percentage,active:Y.percentage===o?.percentage,children:V(Y),onChange:()=>n(Y),className:De}))},[I,ee,o,n]),Je=(0,B.useMemo)(()=>B.default.createElement(B.default.Fragment,null,we,B.default.createElement(c,{flex:1}),u&&B.default.createElement(C,{font:"caption",color:{base:"textDiminished",hover:i?"textBase":void 0},children:u,onPress:i}),Pe&&B.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},Pe)),[u,Pe,i,we]),Re=(0,B.useMemo)(()=>{if(R.length!==0)return B.default.createElement(Bo,{warnings:R})},[R]);return B.default.createElement(ie,{perspective:t,input:pe,selectorIcon:z,selectorLabel:w.data?.symbol??"",spamStatus:w.data?.spamStatus,onSelectorPress:s,accessories:Je,footer:Re})};p();l();var E=b(x());var ir=[.5,1],Eo=({perspective:e})=>{let{t}=S(),o=(0,E.useMemo)(()=>{let a=Number(P.typography.font.heading3.fontSize.replace("px",""));return E.default.createElement(ne,{fontSize:a},E.default.createElement(K,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),n=(0,E.useMemo)(()=>E.default.createElement(C,{font:"caption",color:"textDiminished",children:"$0"}),[]),r=(0,E.useMemo)(()=>{let a=i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return ir.map(i=>E.default.createElement(de,{active:!1,children:a(i),onChange:()=>{},className:Io}))},[t]),s=(0,E.useMemo)(()=>E.default.createElement(E.default.Fragment,null,E.default.createElement(c,{direction:"row",alignItems:"center",gap:6},n,e==="sell"?E.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textDiminished"}):null),E.default.createElement(c,{flex:1}),E.default.createElement(Ce,{font:"caption",width:64}),e==="sell"?E.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},r):null),[r,n,e]);return E.default.createElement(ie,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:s})};var ar=32,Mo=({isInitializingTokens:e,tokens:t,currentSellPercentage:o,setInputAmount:n,setSellPercentage:r,setInputPerspective:s,switchCurrencyDenomination:a,switchTokens:i,onSelectToken:f})=>{let{t:u}=S(),w=(0,H.useCallback)(y=>{let k=y.percentages.find(g=>g.percentage===1);k&&r(k,y.fungible)},[r]),F=(0,H.useCallback)(y=>{f(y)},[f]),v=(0,H.useCallback)((y,k)=>{r(y,k)},[r]),d=(0,H.useMemo)(()=>["sell","buy"].map(y=>{let k=t.find(I=>I.perspective===y);if(!k||e)return H.default.createElement(Eo,{key:`loading-${y}`,perspective:y});let g=H.default.createElement(Lo,{key:y,asset:k,perspective:y,switchCurrencyDenomination:a,currentPercentage:o,onFungibleTap:()=>F(y),onPercentageTap:I=>v(I,k.fungible),onInputChange:I=>{s(y),n(I,y)},onBalanceTap:()=>w(k)});return y==="buy"?H.default.createElement(c,{position:"relative",key:y+"-swap-button"},g,H.default.createElement("div",{className:Ao,style:{pointerEvents:"none"}},H.default.createElement(Ue,{label:u("swapperSwitchTokens"),size:ar,shape:"circle",onClick:i,backgroundColor:{base:"spotBase",hover:"spotAccent"},icon:"SwapVertical"}))):g}),[t,e,a,o,F,v,n,s,w,u,i]);return H.default.createElement(c,{display:"flex",direction:"column",flex:1,paddingX:"screen",paddingTop:"screen"},H.default.createElement(c,{display:"flex",direction:"column",gap:12},d))};p();l();var se=b(x());var Qo=({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:n,quoteProcessorState:r,currentPerspective:s,sellPercentages:a,onPress:i,resetSwapper:f})=>{let u=$e(),w=Xt(),{handleShowModalVisibility:F}=Z(),{pushDetailView:v}=qe(),d=(0,se.useCallback)(z=>{let ue=le(Se(z));v(se.default.createElement(Xe,{caip19:ue,title:z.data.name??void 0,entryPoint:"exploreInSwap"}))},[v]),{openBuy:y}=Ut({caip19:sr(o)||"",context:"modal",analyticsEvent:"fiatOnrampFromInsufficientBalance"}),k=(0,se.useCallback)(z=>{w({sellFungible:z.sell,buyFungible:z.buy,sellAmount:z.amount.amount})},[w]),g=(0,se.useCallback)((z,ue)=>{let pe=z.networkId,we={balance:z.balance,required:z.required};F("insufficientBalance",{networkId:pe,token:we},{event:"showSwapModal",payload:{data:{uiContext:"InsufficientBalance"}}})},[F]),{buttonState:I,swap:_}=Mt({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:n,quoteProcessorState:r,currentPerspective:s,sellPercentages:a,showFungibleDetails:d,showBuyFungibleScreen:y,retryAndNavigateToSwapper:k,resetSwapper:f,goToInsufficientFunds:g}),R=(0,se.useCallback)(()=>{i?.(),u?F("swapLedgerSigning",{executeSwap:_}):_()},[i,_,u,F]),ee=(0,se.useMemo)(()=>I.type==="insufficientBalance"?{background:"spot",theme:"negative"}:["untradable"].includes(I.type)?{background:"element"}:{background:"spot"},[I.type]);return["idle","error"].includes(r.type)?null:se.default.createElement(mt,{...ee,disabled:I.type!=="tradable",onPress:R},I.label)};function sr(e){if(!(e.type!=="pair"&&e.type!=="refreshing"))return le(Se(e.sellToken))}p();l();var W=b(x());p();l();var st=b(x());var Wo=({phantom:e,gasless:t})=>st.default.createElement(c,{paddingY:16,paddingX:32},st.default.createElement(Ye,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:500,noWrap:!1,showInfoIcon:!1,info:t?m.t("swapFeesPhantomFeeGaslessDisclaimer",{feePercentage:M(e),gaslessFeePercentage:M(t)}):m.t("swapFeesPhantomFeeRegularDisclaimer",{feePercentage:M(e)})},t?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(e),gaslessFeePercentage:M(t)}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(e)})));p();l();var X=b(x());var pr=({entry:e,fromUsd:t,currencySymbol:o})=>{let n=e.quoteFees.fees,r=n.find(i=>i.type==="phantom"),s=n.find(i=>i.type==="gasless"),a=n.filter(i=>!["gasless","phantom"].includes(i.type)).sort((i,f)=>Ke(i)&&!Ke(f)?-1:!Ke(i)&&Ke(f)?1:0).map(i=>{let f=i.amountUsd.toNumber(),u=`${o}${t(f,2)}`;switch(i.type){case"ata":return X.default.createElement(X.default.Fragment,{key:i.type},X.default.createElement(Qe,null,X.default.createElement(re,null,m.t(i.type)),X.default.createElement(re,null,u)),X.default.createElement(re,{style:{color:P.colors.legacy.textIncidental,fontSize:"12px",marginTop:4,textAlign:"left"}},m.t("accountCreationFeeBody")));default:return X.default.createElement(Qe,{key:i.type},X.default.createElement(re,null,m.t(i.type)),X.default.createElement(re,null,u))}});return X.default.createElement(X.default.Fragment,null,a,r&&X.default.createElement(re,{style:{fontStyle:"italic",color:P.colors.legacy.textIncidental,marginTop:8,textAlign:"left"}},s?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(r.percentage.toNumber()),gaslessFeePercentage:M(s.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(r.percentage.toNumber())})))};function pt({entry:e,currencySymbol:t,fromUsd:o,showSwapSettings:n,showSwapPricing:r}){let s,a,i;switch(e.type){case"pricing":{a=m.t("swapFeesPricing"),s=e.exchangeRate,i=r;break}case"slippage":{a=m.t("swapFeesSlippage"),s=e.slippageType==="auto"?m.t("swapTokenDetailEntryAutoSlippage",{slippage:e.slippage}):m.t("swapTokenDetailEntryFixedSlippage",{slippage:e.slippage}),i=n;break}case"priceImpact":{a=m.t("swapFeesPriceImpact"),s=e.priceImpactPercentage;break}case"fees":{a=m.t("swapFeesFees"),s=`${t}${o(e.quoteFees.totalFees.toString(),2)}`;break}case"transferFees":{a=m.t("swapFeesTransferFees"),s=m.t("swapTransferFeeDisclaimer",{symbol:e.transferTokenSymbol,feePercent:e.transferFees});break}default:throw new Error(`Unsupported entry type: ${e.type}`)}return{title:a,content:lr(e,s),tooltipContent:cr(e,o,t),color:mr(e),onClick:i}}function lr(e,t){return e.type==="transferFees"?t:e.warning?m.t("swapTokenDetailsWarningVeryHigh",{value:t}):e.alert?m.t("swapTokenDetailsAlertHigh",{value:t}):t}function cr(e,t,o){switch(e.type){case"pricing":return m.t("swapFeesRateDisclaimerMultichain");case"slippage":return m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage});case"priceImpact":return m.t("swapFeesPriceImpactDisclaimer");case"fees":{if(t&&o)return X.default.createElement(pr,{entry:e,fromUsd:t,currencySymbol:o});let n=e.quoteFees.fees.find(s=>s.type==="phantom"),r=e.quoteFees.fees.find(s=>s.type==="gasless");return n?r?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(n.percentage.toNumber()),gaslessFeePercentage:M(r.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(n.percentage.toNumber())}):void 0}default:return}}function mr(e){return e.warning?P.colors.legacy.spotNegative:e.alert?P.colors.legacy.spotWarning:P.colors.legacy.textDiminished}function zo(e){switch(e){case"slippage":return{title:m.t("swapFeesSlippage")};case"priceImpact":return{title:m.t("swapFeesPriceImpact")};case"fees":return{title:m.t("swapFeesFees")};case"pricing":return{title:m.t("swapFeesPricing")};case"transferFees":return{title:m.t("swapFeesTransferFees")};default:return lt(e)}}var Ke=e=>{switch(e.type){case"solanaNetwork":case"evmGas":case"suiNetwork":return!0;default:return!1}};p();l();var Le=b(x()),Oo=({message:e,errorCode:t,onRetry:o})=>{let{t:n}=S(),r=n("swapQuestionRetry");return t==="InsufficientSellAmount"?Le.default.createElement(c,{width:"100%"},Le.default.createElement(ve,{level:"1-critical-alert"},e)):Le.default.createElement(c,{gap:10,width:"100%"},Le.default.createElement(c,{width:"100%"},Le.default.createElement(ve,{level:"2-alert",actions:[{children:r,onPress:o}]},e)))};var ur=["pricing","slippage","priceImpact","fees"],Vo=({quoteProcessorState:e})=>{let t=ft();switch(e.type){case"idle":return W.default.createElement(c,{style:{marginTop:-16}},W.default.createElement(je,null));case"starting":case"firstQuoteReceived":case"quoteProcessed":return W.default.createElement(dr,{quoteProcessorState:e});case"error":return W.default.createElement(c,{paddingX:"screen"},W.default.createElement(Oo,{message:e.error.message,errorCode:e.error.code,onRetry:()=>t.refreshQuoteProcessor()}))}},dr=({quoteProcessorState:e})=>{let{currencySymbol:t,fromUsd:o}=dt(),{handleShowModalVisibility:n}=Z(),r=gr(e),s=r.filter(d=>d.type!=="transferFees"),a=r.find(d=>d.type==="transferFees"),i=r.find(d=>d.type==="fees"),f=i?.quoteFees.fees.find(d=>d.type==="phantom"),u=i?.quoteFees.fees.find(d=>d.type==="gasless"),w=(0,W.useCallback)(()=>{n("swapSettings")},[n]),F=(0,W.useCallback)(()=>{n("swapPricing")},[n]),v=(0,W.useMemo)(()=>ur.map(d=>{let y=s.find(k=>k.type===d);return y?fr(pt({entry:y,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:F})):wr(zo(d))}),[s,t,o,w,F]);return W.default.createElement(c,{direction:"column",gap:4},W.default.createElement(c,{paddingX:"screen"},W.default.createElement(Yt,{rows:v,borderRadius:"8px"})),f&&W.default.createElement(Wo,{phantom:f.percentage.toNumber(),gasless:u?.percentage.toNumber()}),a&&W.default.createElement(C,{font:"label",color:"spotWarning",paddingX:32},pt({entry:a,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:F}).content))};function gr(e){switch(e.type){case"firstQuoteReceived":case"quoteProcessed":return e.quoteDetails.entries;default:return[]}}function fr(e){return{label:e.title,value:e.content,tooltipContent:e.tooltipContent,color:e.color,onClick:e.onClick}}function wr(e){return{label:e.title,value:W.default.createElement(Ce,{width:60,font:"caption"})}}p();l();var xe=b(x());var $o=xe.default.memo(({children:e})=>{let t=Ve(),o=t.every(i=>Fe.isMainnetNetworkID(i)),r=_e().some(i=>t.includes(i)),{t:s}=S(),a=(0,xe.useMemo)(()=>({availableOnlyOnMainnet:s("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:s("swapNotAvailableOnSelectedNetwork")}),[s]);return o?r?xe.default.createElement(c,{display:"flex",flex:1,paddingBottom:16,style:{marginBottom:"-16px"}},e):xe.default.createElement(Ne,{message:a.notAvailableOnSelectedNetwork,swapDisabled:!0},e):xe.default.createElement(Ne,{message:a.availableOnlyOnMainnet,swapDisabled:!0},e)});var Sr=[.5,1],Uo=()=>{let e=Lt();return J.default.createElement(yr,{swapMode:e})},yr=({swapMode:e})=>{let t=wt(e,Sr),{inputPerspective:o,tokens:n,tokenState:r,quotedAmounts:s,quoteProcessorState:a,inputErrors:i,currentSellPercentage:f,sellPercentages:u,setInputAmount:w,setSellPercentage:F,switchCurrencyDenomination:v,switchTokens:d,clearInput:y,setInputPerspective:k}=Et(t),{handleShowModalVisibility:g}=Z(),I=(0,J.useCallback)(pe=>{tt(r)&&g(pe==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect",{selectStrategy:{type:"navigateToClassic",sellCaip19:le(Se(r.sellToken)),buyCaip19:le(Se(r.buyToken)),isCashEligible:!1}})},[g,r]),_=Ge({goToAssetSelect:I}),R=(0,J.useCallback)(pe=>{tt(r)&&_(pe)},[r,_]),ee=r.type==="pair"?r.buyToken:void 0,z=ee?le(Se(ee)):void 0;kt(z,"swapper");let ue=Nt();return J.default.createElement($o,null,J.default.createElement(c,{direction:"column",gap:16,paddingBottom:72},J.default.createElement(Mo,{isInitializingTokens:ue,tokens:n,currentSellPercentage:f,setInputAmount:w,setSellPercentage:F,setInputPerspective:k,switchCurrencyDenomination:v,switchTokens:d,onSelectToken:R}),J.default.createElement(Vo,{quoteProcessorState:a})),hr(a)&&J.default.createElement(c,{position:"fixed",bottom:72,left:16,right:16,backgroundColor:"areaBase",borderRadius:16,className:Do},J.default.createElement(Qo,{swapMode:e,quotedAmounts:s,tokenState:r,inputErrors:i,quoteProcessorState:a,currentPerspective:o,sellPercentages:u,resetSwapper:y})))};function hr(e){return["quoteProcessed","firstQuoteReceived","starting"].includes(e.type)}var br=G(He)`
  position: fixed;
  bottom: 70px;
  left: 16px;
  padding: 16px;
`,xr=()=>{let[e]=Qt(),t=e.get("sellFungible")??void 0,o=e.get("sellAmount")??void 0,n=e.get("buyFungible")??void 0,r=vt(),{getSwapQuotesStrategy:s,onSwapTabExit:a}=yt();Pt({getSwapQuotesStrategy:s,skipInitialBuyFungible:!0}),bt();let{isLoading:i}=xt({paramsSellFungible:t,paramsSellAmount:o,paramsBuyFungible:n});return(0,T.useLayoutEffect)(()=>()=>{a(),r()},[a,r]),{isLoadingInitialAssets:i}},Pr=({isLoadingInitialAssets:e})=>{let{t}=S(),{quoteResponse:o,hasNoRoutes:n}=gt(),{handleShowModalVisibility:r}=Z(),s=(0,T.useCallback)(w=>{r(w==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[r]),a=Ge({goToAssetSelect:s}),i=(0,T.useCallback)(()=>{r("messageOverlay",{title:t("swapProviderAutoUpdateTitle"),message:t("swapProviderAutoUpdateMessage")})},[r,t]);Bt({showDefaultAutoProvider:i});let f=(0,T.useMemo)(()=>T.default.createElement(bo,{onSelectAsset:a,isLoadingInitialAssets:e}),[e,a]),u=(0,T.useMemo)(()=>!o&&!n,[o,n]);return T.default.createElement(To,null,T.default.createElement(He,{justify:"space-between",flex:1},T.default.createElement(He,{align:"normal",padding:"16px 16px 0 16px",margin:o?"0 0 70px 0":"0"},f,o||n?T.default.createElement(lo,null):null),u?T.default.createElement(je,null):null,T.default.createElement(br,null,o?T.default.createElement($t,{removeFooterExpansion:!1,cssOverride:zt`
                background: ${P.colors.legacy.elementBase};
              `},T.default.createElement(Co,null)):null)))},Fr=()=>T.default.createElement(St,null,T.default.createElement(Cr,null)),Cr=()=>{let e=$e(),t=et("enable-classic-swapper-ext"),o=et("enable-ledger-swaps-ext");return e&&!o||!t?T.default.createElement(vr,null):T.default.createElement(Uo,null)},vr=()=>{let{isLoadingInitialAssets:e}=xr();return e?T.default.createElement(c,{gap:1,padding:16},T.default.createElement(Te,{height:"120px",borderRadius:"8px 8px 0 0"}),T.default.createElement(Te,{height:"120px",borderRadius:"0 0 8px 8px"})):T.default.createElement(Pr,{isLoadingInitialAssets:e})},dc=Fr;export{dc as default};
//# sourceMappingURL=SwapTabPage-CSKOXKZU.js.map
