import{R as ME,a as cr,b as Pp,c as Yg,e as Da,f as Na,g as Jo,h as Pn,i as fx,j as Nn,k as lx,l as wT,m as ws,o as koe,p as Rp,r as Poe,s as Roe,t as Coe,w as Cp,x as Bp,y as ST}from"./chunk-4XTMHWN2.js";import{B as kE,D as Boe,M as _Ne,N as TNe,O as UL,P as LL,Q as FL,R as INe,S as Up,X as jh,Z as MNe,_ as kNe,a as Ioe,aa as PNe,b as Moe,ba as DT,c as ur,ca as RNe,d as xT,da as CNe,ga as Mse,ha as KL,ia as BNe,ja as ONe,ka as DNe,l as B,la as kse,ma as NNe,n as uc,na as UNe,oa as LNe,p as Op,pa as FNe,q as AT,qa as qL,r as Zg,ra as Pse,sa as KNe,ta as qNe,va as VNe}from"./chunk-BEUYJGED.js";import{a as IE}from"./chunk-3C334UTS.js";import{e as Ise}from"./chunk-3JLWNHUO.js";import{$ as ase,A as zoe,Aa as OT,B as Woe,Ba as Sse,C as Goe,Ca as Ase,D as TT,Da as Ese,E as NL,F as $oe,I as hx,J as Yoe,K as Zoe,L as Qoe,M as Qs,N as Joe,O as Xoe,P as IT,Q as MT,R as RE,T as ese,U as tse,V as rse,W as nse,X as px,Y as ise,Z as ose,_ as sse,a as mo,aa as cse,b as Ooe,ba as Np,bb as _se,c as Doe,ca as kT,cb as Tse,d as hd,da as use,e as Noe,ea as fse,f as ET,fa as lse,g as Uoe,ga as dse,h as Dp,ha as hse,i as Loe,j as Foe,ja as PT,k as Koe,ka as pse,l as OL,la as Hh,m as dx,ma as mse,n as qoe,o as li,oa as RT,p as PE,pa as mx,q as Voe,qa as yse,ra as gse,s as _T,sa as bse,ta as vse,u as Zc,ua as CT,w as DL,wa as xse,x as Hoe,xa as yx,ya as BT,z as joe,za as wse}from"./chunk-KHOMEOLW.js";import{a as _oe,c as q,d as BL,e as Vh,f as qe,h as d,i as T,j as Toe,k as ENe,l as Dn,m as Buffer,n as h}from"./chunk-64CIGK2X.js";var BE=q(xx=>{"use strict";d();h();var VL=Toe(),bx=ENe(),Rse=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;xx.Buffer=ze;xx.SlowBuffer=$Ne;xx.INSPECT_MAX_BYTES=50;var NT=2147483647;xx.kMaxLength=NT;ze.TYPED_ARRAY_SUPPORT=HNe();!ze.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function HNe(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ze.prototype,"parent",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.buffer}});Object.defineProperty(ze.prototype,"offset",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.byteOffset}});function zh(t){if(t>NT)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ze.prototype),e}function ze(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return WL(t)}return Dse(t,e,r)}ze.poolSize=8192;function Dse(t,e,r){if(typeof t=="string")return zNe(t,e);if(ArrayBuffer.isView(t))return WNe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(pd(t,ArrayBuffer)||t&&pd(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pd(t,SharedArrayBuffer)||t&&pd(t.buffer,SharedArrayBuffer)))return jL(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ze.from(n,e,r);let i=GNe(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ze.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ze.from=function(t,e,r){return Dse(t,e,r)};Object.setPrototypeOf(ze.prototype,Uint8Array.prototype);Object.setPrototypeOf(ze,Uint8Array);function Nse(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function jNe(t,e,r){return Nse(t),t<=0?zh(t):e!==void 0?typeof r=="string"?zh(t).fill(e,r):zh(t).fill(e):zh(t)}ze.alloc=function(t,e,r){return jNe(t,e,r)};function WL(t){return Nse(t),zh(t<0?0:GL(t)|0)}ze.allocUnsafe=function(t){return WL(t)};ze.allocUnsafeSlow=function(t){return WL(t)};function zNe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ze.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Use(t,e)|0,n=zh(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function HL(t){let e=t.length<0?0:GL(t.length)|0,r=zh(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function WNe(t){if(pd(t,Uint8Array)){let e=new Uint8Array(t);return jL(e.buffer,e.byteOffset,e.byteLength)}return HL(t)}function jL(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ze.prototype),n}function GNe(t){if(ze.isBuffer(t)){let e=GL(t.length)|0,r=zh(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||YL(t.length)?zh(0):HL(t);if(t.type==="Buffer"&&Array.isArray(t.data))return HL(t.data)}function GL(t){if(t>=NT)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+NT.toString(16)+" bytes");return t|0}function $Ne(t){return+t!=t&&(t=0),ze.alloc(+t)}ze.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ze.prototype};ze.compare=function(e,r){if(pd(e,Uint8Array)&&(e=ze.from(e,e.offset,e.byteLength)),pd(r,Uint8Array)&&(r=ze.from(r,r.offset,r.byteLength)),!ze.isBuffer(e)||!ze.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ze.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ze.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ze.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ze.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(pd(s,Uint8Array))o+s.length>i.length?(ze.isBuffer(s)||(s=ze.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(ze.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Use(t,e){if(ze.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||pd(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return zL(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Wse(t).length;default:if(i)return n?-1:zL(t).length;e=(""+e).toLowerCase(),i=!0}}ze.byteLength=Use;function YNe(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return oUe(this,e,r);case"utf8":case"utf-8":return Fse(this,e,r);case"ascii":return nUe(this,e,r);case"latin1":case"binary":return iUe(this,e,r);case"base64":return tUe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sUe(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ze.prototype._isBuffer=!0;function Qg(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ze.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Qg(this,r,r+1);return this};ze.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Qg(this,r,r+3),Qg(this,r+1,r+2);return this};ze.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Qg(this,r,r+7),Qg(this,r+1,r+6),Qg(this,r+2,r+5),Qg(this,r+3,r+4);return this};ze.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Fse(this,0,e):YNe.apply(this,arguments)};ze.prototype.toLocaleString=ze.prototype.toString;ze.prototype.equals=function(e){if(!ze.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ze.compare(this,e)===0};ze.prototype.inspect=function(){let e="",r=xx.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Rse&&(ze.prototype[Rse]=ze.prototype.inspect);ze.prototype.compare=function(e,r,n,i,o){if(pd(e,Uint8Array)&&(e=ze.from(e,e.offset,e.byteLength)),!ze.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,u=n-r,l=Math.min(s,u),m=this.slice(i,o),x=e.slice(r,n);for(let w=0;w<l;++w)if(m[w]!==x[w]){s=m[w],u=x[w];break}return s<u?-1:u<s?1:0};function Lse(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,YL(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ze.from(e,n)),ze.isBuffer(e))return e.length===0?-1:Cse(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Cse(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Cse(t,e,r,n,i){let o=1,s=t.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(x,w){return o===1?x[w]:x.readUInt16BE(w*o)}let m;if(i){let x=-1;for(m=r;m<s;m++)if(l(t,m)===l(e,x===-1?0:m-x)){if(x===-1&&(x=m),m-x+1===u)return x*o}else x!==-1&&(m-=m-x),x=-1}else for(r+u>s&&(r=s-u),m=r;m>=0;m--){let x=!0;for(let w=0;w<u;w++)if(l(t,m+w)!==l(e,w)){x=!1;break}if(x)return m}return-1}ze.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ze.prototype.indexOf=function(e,r,n){return Lse(this,e,r,n,!0)};ze.prototype.lastIndexOf=function(e,r,n){return Lse(this,e,r,n,!1)};function ZNe(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let u=parseInt(e.substr(s*2,2),16);if(YL(u))return s;t[r+s]=u}return s}function QNe(t,e,r,n){return UT(zL(e,t.length-r),t,r,n)}function JNe(t,e,r,n){return UT(fUe(e),t,r,n)}function XNe(t,e,r,n){return UT(Wse(e),t,r,n)}function eUe(t,e,r,n){return UT(lUe(e,t.length-r),t,r,n)}ze.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return ZNe(this,e,r,n);case"utf8":case"utf-8":return QNe(this,e,r,n);case"ascii":case"latin1":case"binary":return JNe(this,e,r,n);case"base64":return XNe(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eUe(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ze.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function tUe(t,e,r){return e===0&&r===t.length?VL.fromByteArray(t):VL.fromByteArray(t.slice(e,r))}function Fse(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=r){let l,m,x,w;switch(u){case 1:o<128&&(s=o);break;case 2:l=t[i+1],(l&192)===128&&(w=(o&31)<<6|l&63,w>127&&(s=w));break;case 3:l=t[i+1],m=t[i+2],(l&192)===128&&(m&192)===128&&(w=(o&15)<<12|(l&63)<<6|m&63,w>2047&&(w<55296||w>57343)&&(s=w));break;case 4:l=t[i+1],m=t[i+2],x=t[i+3],(l&192)===128&&(m&192)===128&&(x&192)===128&&(w=(o&15)<<18|(l&63)<<12|(m&63)<<6|x&63,w>65535&&w<1114112&&(s=w))}}s===null?(s=65533,u=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=u}return rUe(n)}var Bse=4096;function rUe(t){let e=t.length;if(e<=Bse)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Bse));return r}function nUe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function iUe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function oUe(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=dUe[t[o]];return i}function sUe(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ze.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ze.prototype),i};function Xo(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ze.prototype.readUintLE=ze.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xo(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};ze.prototype.readUintBE=ze.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xo(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ze.prototype.readUint8=ze.prototype.readUInt8=function(e,r){return e=e>>>0,r||Xo(e,1,this.length),this[e]};ze.prototype.readUint16LE=ze.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Xo(e,2,this.length),this[e]|this[e+1]<<8};ze.prototype.readUint16BE=ze.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Xo(e,2,this.length),this[e]<<8|this[e+1]};ze.prototype.readUint32LE=ze.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Xo(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ze.prototype.readUint32BE=ze.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Xo(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ze.prototype.readBigUInt64LE=Lp(function(e){e=e>>>0,vx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&CE(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});ze.prototype.readBigUInt64BE=Lp(function(e){e=e>>>0,vx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&CE(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});ze.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xo(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ze.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xo(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ze.prototype.readInt8=function(e,r){return e=e>>>0,r||Xo(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ze.prototype.readInt16LE=function(e,r){e=e>>>0,r||Xo(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ze.prototype.readInt16BE=function(e,r){e=e>>>0,r||Xo(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ze.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Xo(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ze.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Xo(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ze.prototype.readBigInt64LE=Lp(function(e){e=e>>>0,vx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&CE(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ze.prototype.readBigInt64BE=Lp(function(e){e=e>>>0,vx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&CE(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ze.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Xo(e,4,this.length),bx.read(this,e,!0,23,4)};ze.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Xo(e,4,this.length),bx.read(this,e,!1,23,4)};ze.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Xo(e,8,this.length),bx.read(this,e,!0,52,8)};ze.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Xo(e,8,this.length),bx.read(this,e,!1,52,8)};function fc(t,e,r,n,i,o){if(!ze.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ze.prototype.writeUintLE=ze.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;fc(this,e,r,n,u,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};ze.prototype.writeUintBE=ze.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;fc(this,e,r,n,u,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};ze.prototype.writeUint8=ze.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,1,255,0),this[r]=e&255,r+1};ze.prototype.writeUint16LE=ze.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ze.prototype.writeUint16BE=ze.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ze.prototype.writeUint32LE=ze.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ze.prototype.writeUint32BE=ze.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Kse(t,e,r,n,i){zse(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function qse(t,e,r,n,i){zse(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}ze.prototype.writeBigUInt64LE=Lp(function(e,r=0){return Kse(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ze.prototype.writeBigUInt64BE=Lp(function(e,r=0){return qse(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ze.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);fc(this,e,r,n,l-1,-l)}let o=0,s=1,u=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&u===0&&this[r+o-1]!==0&&(u=1),this[r+o]=(e/s>>0)-u&255;return r+n};ze.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);fc(this,e,r,n,l-1,-l)}let o=n-1,s=1,u=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&u===0&&this[r+o+1]!==0&&(u=1),this[r+o]=(e/s>>0)-u&255;return r+n};ze.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ze.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ze.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ze.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ze.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||fc(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ze.prototype.writeBigInt64LE=Lp(function(e,r=0){return Kse(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ze.prototype.writeBigInt64BE=Lp(function(e,r=0){return qse(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Vse(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Hse(t,e,r,n,i){return e=+e,r=r>>>0,i||Vse(t,e,r,4,34028234663852886e22,-34028234663852886e22),bx.write(t,e,r,n,23,4),r+4}ze.prototype.writeFloatLE=function(e,r,n){return Hse(this,e,r,!0,n)};ze.prototype.writeFloatBE=function(e,r,n){return Hse(this,e,r,!1,n)};function jse(t,e,r,n,i){return e=+e,r=r>>>0,i||Vse(t,e,r,8,17976931348623157e292,-17976931348623157e292),bx.write(t,e,r,n,52,8),r+8}ze.prototype.writeDoubleLE=function(e,r,n){return jse(this,e,r,!0,n)};ze.prototype.writeDoubleBE=function(e,r,n){return jse(this,e,r,!1,n)};ze.prototype.copy=function(e,r,n,i){if(!ze.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};ze.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ze.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=ze.isBuffer(e)?e:ze.from(e,i),u=s.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%u]}return this};var gx={};function $L(t,e,r){gx[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}$L("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);$L("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);$L("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Ose(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Ose(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Ose(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function aUe(t,e,r){vx(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&CE(e,t.length-(r+1))}function zse(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",u;throw o>3?e===0||e===BigInt(0)?u=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:u=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:u=`>= ${e}${s} and <= ${r}${s}`,new gx.ERR_OUT_OF_RANGE("value",u,t)}aUe(n,i,o)}function vx(t,e){if(typeof t!="number")throw new gx.ERR_INVALID_ARG_TYPE(e,"number",t)}function CE(t,e,r){throw Math.floor(t)!==t?(vx(t,r),new gx.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new gx.ERR_BUFFER_OUT_OF_BOUNDS:new gx.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var cUe=/[^+/0-9A-Za-z-_]/g;function uUe(t){if(t=t.split("=")[0],t=t.trim().replace(cUe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function zL(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function fUe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function lUe(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Wse(t){return VL.toByteArray(uUe(t))}function UT(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function pd(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function YL(t){return t!==t}var dUe=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Lp(t){return typeof BigInt>"u"?hUe:t}function hUe(){throw new Error("BigInt not supported")}});var FT=q(Ua=>{"use strict";d();h();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.output=Ua.exists=Ua.hash=Ua.bytes=Ua.bool=Ua.number=void 0;function LT(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ua.number=LT;function Gse(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ua.bool=Gse;function ZL(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ua.bytes=ZL;function $se(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");LT(t.outputLen),LT(t.blockLen)}Ua.hash=$se;function Yse(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ua.exists=Yse;function Zse(t,e){ZL(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ua.output=Zse;var pUe={number:LT,bool:Gse,bytes:ZL,hash:$se,exists:Yse,output:Zse};Ua.default=pUe});var Qse=q(KT=>{"use strict";d();h();Object.defineProperty(KT,"__esModule",{value:!0});KT.crypto=void 0;KT.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Fp=q(Er=>{"use strict";d();h();Object.defineProperty(Er,"__esModule",{value:!0});Er.randomBytes=Er.wrapConstructorWithOpts=Er.wrapConstructor=Er.checkOpts=Er.Hash=Er.concatBytes=Er.toBytes=Er.utf8ToBytes=Er.asyncLoop=Er.nextTick=Er.hexToBytes=Er.bytesToHex=Er.isLE=Er.rotr=Er.createView=Er.u32=Er.u8=void 0;var qT=Qse(),mUe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Er.u8=mUe;var yUe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Er.u32=yUe;var gUe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Er.createView=gUe;var bUe=(t,e)=>t<<32-e|t>>>e;Er.rotr=bUe;Er.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Er.isLE)throw new Error("Non little-endian hardware is not supported");var vUe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xUe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=vUe[t[r]];return e}Er.bytesToHex=xUe;function wUe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Er.hexToBytes=wUe;var SUe=async()=>{};Er.nextTick=SUe;async function AUe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Er.nextTick)(),n+=o)}}Er.asyncLoop=AUe;function Jse(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Er.utf8ToBytes=Jse;function JL(t){if(typeof t=="string"&&(t=Jse(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Er.toBytes=JL;function EUe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Er.concatBytes=EUe;var QL=class{clone(){return this._cloneInto()}};Er.Hash=QL;var _Ue=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function TUe(t,e){if(e!==void 0&&(typeof e!="object"||!_Ue(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Er.checkOpts=TUe;function IUe(t){let e=n=>t().update(JL(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Er.wrapConstructor=IUe;function MUe(t){let e=(n,i)=>t(i).update(JL(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Er.wrapConstructorWithOpts=MUe;function kUe(t=32){if(qT.crypto.web)return qT.crypto.web.getRandomValues(new Uint8Array(t));if(qT.crypto.node)return new Uint8Array(qT.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Er.randomBytes=kUe});var DE=q(VT=>{"use strict";d();h();Object.defineProperty(VT,"__esModule",{value:!0});VT.SHA2=void 0;var XL=FT(),OE=Fp();function PUe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var eF=class extends OE.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,OE.createView)(this.buffer)}update(e){XL.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,OE.toBytes)(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=(0,OE.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){XL.default.exists(this),XL.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;PUe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=(0,OE.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};VT.SHA2=eF});var nF=q(Fu=>{"use strict";d();h();Object.defineProperty(Fu,"__esModule",{value:!0});Fu.add=Fu.toBig=Fu.split=Fu.fromBig=void 0;var HT=BigInt(2**32-1),tF=BigInt(32);function rF(t,e=!1){return e?{h:Number(t&HT),l:Number(t>>tF&HT)}:{h:Number(t>>tF&HT)|0,l:Number(t&HT)|0}}Fu.fromBig=rF;function Xse(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=rF(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Fu.split=Xse;var RUe=(t,e)=>BigInt(t>>>0)<<tF|BigInt(e>>>0);Fu.toBig=RUe;var CUe=(t,e,r)=>t>>>r,BUe=(t,e,r)=>t<<32-r|e>>>r,OUe=(t,e,r)=>t>>>r|e<<32-r,DUe=(t,e,r)=>t<<32-r|e>>>r,NUe=(t,e,r)=>t<<64-r|e>>>r-32,UUe=(t,e,r)=>t>>>r-32|e<<64-r,LUe=(t,e)=>e,FUe=(t,e)=>t,KUe=(t,e,r)=>t<<r|e>>>32-r,qUe=(t,e,r)=>e<<r|t>>>32-r,VUe=(t,e,r)=>e<<r-32|t>>>64-r,HUe=(t,e,r)=>t<<r-32|e>>>64-r;function eae(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Fu.add=eae;var jUe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),zUe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,WUe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),GUe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,$Ue=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),YUe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,ZUe={fromBig:rF,split:Xse,toBig:Fu.toBig,shrSH:CUe,shrSL:BUe,rotrSH:OUe,rotrSL:DUe,rotrBH:NUe,rotrBL:UUe,rotr32H:LUe,rotr32L:FUe,rotlSH:KUe,rotlSL:qUe,rotlBH:VUe,rotlBL:HUe,add:eae,add3L:jUe,add3H:zUe,add4L:WUe,add4H:GUe,add5H:YUe,add5L:$Ue};Fu.default=ZUe});var tae=q(Ku=>{"use strict";d();h();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.sha384=Ku.sha512_256=Ku.sha512_224=Ku.sha512=Ku.SHA512=void 0;var QUe=DE(),mr=nF(),jT=Fp(),[JUe,XUe]=mr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Kp=new Uint32Array(80),qp=new Uint32Array(80),Jg=class extends QUe.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:u,Dl:l,Eh:m,El:x,Fh:w,Fl:E,Gh:I,Gl:M,Hh:k,Hl:C}=this;return[e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C]}set(e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=u|0,this.Dl=l|0,this.Eh=m|0,this.El=x|0,this.Fh=w|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=C|0}process(e,r){for(let P=0;P<16;P++,r+=4)Kp[P]=e.getUint32(r),qp[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let K=Kp[P-15]|0,V=qp[P-15]|0,j=mr.default.rotrSH(K,V,1)^mr.default.rotrSH(K,V,8)^mr.default.shrSH(K,V,7),ne=mr.default.rotrSL(K,V,1)^mr.default.rotrSL(K,V,8)^mr.default.shrSL(K,V,7),J=Kp[P-2]|0,oe=qp[P-2]|0,S=mr.default.rotrSH(J,oe,19)^mr.default.rotrBH(J,oe,61)^mr.default.shrSH(J,oe,6),a=mr.default.rotrSL(J,oe,19)^mr.default.rotrBL(J,oe,61)^mr.default.shrSL(J,oe,6),f=mr.default.add4L(ne,a,qp[P-7],qp[P-16]),p=mr.default.add4H(f,j,S,Kp[P-7],Kp[P-16]);Kp[P]=p|0,qp[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:u,Cl:l,Dh:m,Dl:x,Eh:w,El:E,Fh:I,Fl:M,Gh:k,Gl:C,Hh:R,Hl:L}=this;for(let P=0;P<80;P++){let K=mr.default.rotrSH(w,E,14)^mr.default.rotrSH(w,E,18)^mr.default.rotrBH(w,E,41),V=mr.default.rotrSL(w,E,14)^mr.default.rotrSL(w,E,18)^mr.default.rotrBL(w,E,41),j=w&I^~w&k,ne=E&M^~E&C,J=mr.default.add5L(L,V,ne,XUe[P],qp[P]),oe=mr.default.add5H(J,R,K,j,JUe[P],Kp[P]),S=J|0,a=mr.default.rotrSH(n,i,28)^mr.default.rotrBH(n,i,34)^mr.default.rotrBH(n,i,39),f=mr.default.rotrSL(n,i,28)^mr.default.rotrBL(n,i,34)^mr.default.rotrBL(n,i,39),p=n&o^n&u^o&u,y=i&s^i&l^s&l;R=k|0,L=C|0,k=I|0,C=M|0,I=w|0,M=E|0,{h:w,l:E}=mr.default.add(m|0,x|0,oe|0,S|0),m=u|0,x=l|0,u=o|0,l=s|0,o=n|0,s=i|0;let g=mr.default.add3L(S,f,y);n=mr.default.add3H(g,oe,a,p),i=g|0}({h:n,l:i}=mr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=mr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:u,l}=mr.default.add(this.Ch|0,this.Cl|0,u|0,l|0),{h:m,l:x}=mr.default.add(this.Dh|0,this.Dl|0,m|0,x|0),{h:w,l:E}=mr.default.add(this.Eh|0,this.El|0,w|0,E|0),{h:I,l:M}=mr.default.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:C}=mr.default.add(this.Gh|0,this.Gl|0,k|0,C|0),{h:R,l:L}=mr.default.add(this.Hh|0,this.Hl|0,R|0,L|0),this.set(n,i,o,s,u,l,m,x,w,E,I,M,k,C,R,L)}roundClean(){Kp.fill(0),qp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Ku.SHA512=Jg;var iF=class extends Jg{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},oF=class extends Jg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},sF=class extends Jg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Ku.sha512=(0,jT.wrapConstructor)(()=>new Jg);Ku.sha512_224=(0,jT.wrapConstructor)(()=>new iF);Ku.sha512_256=(0,jT.wrapConstructor)(()=>new oF);Ku.sha384=(0,jT.wrapConstructor)(()=>new sF)});var Wh=q((COt,cF)=>{"use strict";d();h();var aF=65536,eLe=4294967295;function tLe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var rLe=cr().Buffer,zT=self.crypto||self.msCrypto;zT&&zT.getRandomValues?cF.exports=nLe:cF.exports=tLe;function nLe(t,e){if(t>eLe)throw new RangeError("requested too many random bytes");var r=rLe.allocUnsafe(t);if(t>0)if(t>aF)for(var n=0;n<t;n+=aF)zT.getRandomValues(r.slice(n,n+aF));else zT.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var er=q((DOt,uF)=>{d();h();typeof Object.create=="function"?uF.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:uF.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var fF=q((LOt,rae)=>{d();h();rae.exports=IE().EventEmitter});var NE=q(()=>{d();h()});var sae=q((zOt,oae)=>{"use strict";d();h();function nae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iLe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nae(Object(r),!0).forEach(function(n){oLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nae(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oLe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aLe(t,e,r){return e&&iae(t.prototype,e),r&&iae(t,r),t}var cLe=Dn(),WT=cLe.Buffer,uLe=NE(),lF=uLe.inspect,fLe=lF&&lF.custom||"inspect";function lLe(t,e,r){WT.prototype.copy.call(t,e,r)}oae.exports=function(){function t(){sLe(this,t),this.head=null,this.tail=null,this.length=0}return aLe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return WT.alloc(0);for(var n=WT.allocUnsafe(r>>>0),i=this.head,o=0;i;)lLe(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(u===s.length?o+=s:o+=s.slice(0,r),r-=u,r===0){u===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=WT.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,u=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,u),r-=u,r===0){u===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(u));break}++o}return this.length-=o,n}},{key:fLe,value:function(r,n){return lF(this,iLe({},n,{depth:0,customInspect:!1}))}}]),t}()});var hF=q(($Ot,cae)=>{"use strict";d();h();function dLe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(dF,this,t)):process.nextTick(dF,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(GT,r):(r._writableState.errorEmitted=!0,process.nextTick(aae,r,o)):process.nextTick(aae,r,o):e?(process.nextTick(GT,r),e(o)):process.nextTick(GT,r)}),this)}function aae(t,e){dF(t,e),GT(t)}function GT(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function hLe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function dF(t,e){t.emit("error",e)}function pLe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}cae.exports={destroy:dLe,undestroy:hLe,errorOrDestroy:pLe}});var Xg=q((QOt,lae)=>{"use strict";d();h();function mLe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var fae={};function qu(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var i=function(o){mLe(s,o);function s(u,l,m){return o.call(this,n(u,l,m))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,fae[t]=i}function uae(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function yLe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function gLe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function bLe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}qu("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);qu("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&yLe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(gLe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(uae(e,"type"));else{var o=bLe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(uae(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);qu("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");qu("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});qu("ERR_STREAM_PREMATURE_CLOSE","Premature close");qu("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});qu("ERR_MULTIPLE_CALLBACK","Callback called multiple times");qu("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");qu("ERR_STREAM_WRITE_AFTER_END","write after end");qu("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);qu("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);qu("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");lae.exports.codes=fae});var pF=q((eDt,dae)=>{"use strict";d();h();var vLe=Xg().codes.ERR_INVALID_OPT_VALUE;function xLe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function wLe(t,e,r,n){var i=xLe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new vLe(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}dae.exports={getHighWaterMark:wLe}});var yF=q((nDt,hae)=>{d();h();hae.exports=SLe;function SLe(t,e){if(mF("noDeprecation"))return t;var r=!1;function n(){if(!r){if(mF("throwDeprecation"))throw new Error(e);mF("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function mF(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var ZT=q((sDt,vae)=>{"use strict";d();h();vae.exports=Yi;function mae(t){var e=this;this.next=null,this.entry=null,this.finish=function(){YLe(e,t)}}var wx;Yi.WritableState=LE;var ALe={deprecate:yF()},yae=fF(),YT=Dn().Buffer,ELe=self.Uint8Array||function(){};function _Le(t){return YT.from(t)}function TLe(t){return YT.isBuffer(t)||t instanceof ELe}var bF=hF(),ILe=pF(),MLe=ILe.getHighWaterMark,Vp=Xg().codes,kLe=Vp.ERR_INVALID_ARG_TYPE,PLe=Vp.ERR_METHOD_NOT_IMPLEMENTED,RLe=Vp.ERR_MULTIPLE_CALLBACK,CLe=Vp.ERR_STREAM_CANNOT_PIPE,BLe=Vp.ERR_STREAM_DESTROYED,OLe=Vp.ERR_STREAM_NULL_VALUES,DLe=Vp.ERR_STREAM_WRITE_AFTER_END,NLe=Vp.ERR_UNKNOWN_ENCODING,Sx=bF.errorOrDestroy;er()(Yi,yae);function ULe(){}function LE(t,e,r){wx=wx||Hp(),t=t||{},typeof r!="boolean"&&(r=e instanceof wx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=MLe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){jLe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new mae(this)}LE.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(LE.prototype,"buffer",{get:ALe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var $T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($T=Function.prototype[Symbol.hasInstance],Object.defineProperty(Yi,Symbol.hasInstance,{value:function(e){return $T.call(this,e)?!0:this!==Yi?!1:e&&e._writableState instanceof LE}})):$T=function(e){return e instanceof this};function Yi(t){wx=wx||Hp();var e=this instanceof wx;if(!e&&!$T.call(Yi,this))return new Yi(t);this._writableState=new LE(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),yae.call(this)}Yi.prototype.pipe=function(){Sx(this,new CLe)};function LLe(t,e){var r=new DLe;Sx(t,r),process.nextTick(e,r)}function FLe(t,e,r,n){var i;return r===null?i=new OLe:typeof r!="string"&&!e.objectMode&&(i=new kLe("chunk",["string","Buffer"],r)),i?(Sx(t,i),process.nextTick(n,i),!1):!0}Yi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&TLe(t);return o&&!YT.isBuffer(t)&&(t=_Le(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=ULe),n.ending?LLe(this,r):(o||FLe(this,n,t,r))&&(n.pendingcb++,i=qLe(this,n,o,t,e,r)),i};Yi.prototype.cork=function(){this._writableState.corked++};Yi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&gae(this,t))};Yi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new NLe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Yi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function KLe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=YT.from(e,r)),e}Object.defineProperty(Yi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function qLe(t,e,r,n,i,o){if(!r){var s=KLe(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var m=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else gF(t,e,!1,u,n,i,o);return l}function gF(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new BLe("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function VLe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(UE,t,e),t._writableState.errorEmitted=!0,Sx(t,n)):(i(n),t._writableState.errorEmitted=!0,Sx(t,n),UE(t,e))}function HLe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function jLe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new RLe;if(HLe(r),e)VLe(t,r,n,e,i);else{var o=bae(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&gae(t,r),n?process.nextTick(pae,t,r,o,i):pae(t,r,o,i)}}function pae(t,e,r,n){r||zLe(t,e),e.pendingcb--,n(),UE(t,e)}function zLe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function gae(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,gF(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new mae(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,m=r.encoding,x=r.callback,w=e.objectMode?1:l.length;if(gF(t,e,!1,w,l,m,x),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Yi.prototype._write=function(t,e,r){r(new PLe("_write()"))};Yi.prototype._writev=null;Yi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||$Le(this,n,r),this};Object.defineProperty(Yi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function bae(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function WLe(t,e){t._final(function(r){e.pendingcb--,r&&Sx(t,r),e.prefinished=!0,t.emit("prefinish"),UE(t,e)})}function GLe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(WLe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function UE(t,e){var r=bae(e);if(r&&(GLe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function $Le(t,e,r){e.ending=!0,UE(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function YLe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Yi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Yi.prototype.destroy=bF.destroy;Yi.prototype._undestroy=bF.undestroy;Yi.prototype._destroy=function(t,e){e(t)}});var Hp=q((uDt,wae)=>{"use strict";d();h();var ZLe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};wae.exports=md;var xae=XT(),xF=ZT();er()(md,xae);for(vF=ZLe(xF.prototype),QT=0;QT<vF.length;QT++)JT=vF[QT],md.prototype[JT]||(md.prototype[JT]=xF.prototype[JT]);var vF,JT,QT;function md(t){if(!(this instanceof md))return new md(t);xae.call(this,t),xF.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",QLe)))}Object.defineProperty(md.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(md.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(md.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function QLe(){this._writableState.ended||process.nextTick(JLe,this)}function JLe(t){t.end()}Object.defineProperty(md.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Ax=q(Aae=>{"use strict";d();h();var SF=cr().Buffer,Sae=SF.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function XLe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function eFe(t){var e=XLe(t);if(typeof e!="string"&&(SF.isEncoding===Sae||!Sae(t)))throw new Error("Unknown encoding: "+t);return e||t}Aae.StringDecoder=FE;function FE(t){this.encoding=eFe(t);var e;switch(this.encoding){case"utf16le":this.text=sFe,this.end=aFe,e=4;break;case"utf8":this.fillLast=nFe,e=4;break;case"base64":this.text=cFe,this.end=uFe,e=3;break;default:this.write=fFe,this.end=lFe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=SF.allocUnsafe(e)}FE.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};FE.prototype.end=oFe;FE.prototype.text=iFe;FE.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function wF(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function tFe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=wF(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=wF(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=wF(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function rFe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function nFe(t){var e=this.lastTotal-this.lastNeed,r=rFe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function iFe(t,e){var r=tFe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function oFe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function sFe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function aFe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function cFe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function uFe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function fFe(t){return t.toString(this.encoding)}function lFe(t){return t&&t.length?this.write(t):""}});var KE=q((mDt,Tae)=>{"use strict";d();h();var Eae=Xg().codes.ERR_STREAM_PREMATURE_CLOSE;function dFe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function hFe(){}function pFe(t){return t.setHeader&&typeof t.abort=="function"}function _ae(t,e,r){if(typeof e=="function")return _ae(t,null,e);e||(e={}),r=dFe(r||hFe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,m=function(){n=!1,l=!0,i||r.call(t)},x=function(M){r.call(t,M)},w=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new Eae),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new Eae),r.call(t,M)},E=function(){t.req.on("finish",u)};return pFe(t)?(t.on("complete",u),t.on("abort",w),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",m),t.on("finish",u),e.error!==!1&&t.on("error",x),t.on("close",w),function(){t.removeListener("complete",u),t.removeListener("abort",w),t.removeListener("request",E),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",m),t.removeListener("error",x),t.removeListener("close",w)}}Tae.exports=_ae});var Mae=q((bDt,Iae)=>{"use strict";d();h();var eI;function jp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mFe=KE(),zp=Symbol("lastResolve"),eb=Symbol("lastReject"),qE=Symbol("error"),tI=Symbol("ended"),tb=Symbol("lastPromise"),AF=Symbol("handlePromise"),rb=Symbol("stream");function Wp(t,e){return{value:t,done:e}}function yFe(t){var e=t[zp];if(e!==null){var r=t[rb].read();r!==null&&(t[tb]=null,t[zp]=null,t[eb]=null,e(Wp(r,!1)))}}function gFe(t){process.nextTick(yFe,t)}function bFe(t,e){return function(r,n){t.then(function(){if(e[tI]){r(Wp(void 0,!0));return}e[AF](r,n)},n)}}var vFe=Object.getPrototypeOf(function(){}),xFe=Object.setPrototypeOf((eI={get stream(){return this[rb]},next:function(){var e=this,r=this[qE];if(r!==null)return Promise.reject(r);if(this[tI])return Promise.resolve(Wp(void 0,!0));if(this[rb].destroyed)return new Promise(function(s,u){process.nextTick(function(){e[qE]?u(e[qE]):s(Wp(void 0,!0))})});var n=this[tb],i;if(n)i=new Promise(bFe(n,this));else{var o=this[rb].read();if(o!==null)return Promise.resolve(Wp(o,!1));i=new Promise(this[AF])}return this[tb]=i,i}},jp(eI,Symbol.asyncIterator,function(){return this}),jp(eI,"return",function(){var e=this;return new Promise(function(r,n){e[rb].destroy(null,function(i){if(i){n(i);return}r(Wp(void 0,!0))})})}),eI),vFe),wFe=function(e){var r,n=Object.create(xFe,(r={},jp(r,rb,{value:e,writable:!0}),jp(r,zp,{value:null,writable:!0}),jp(r,eb,{value:null,writable:!0}),jp(r,qE,{value:null,writable:!0}),jp(r,tI,{value:e._readableState.endEmitted,writable:!0}),jp(r,AF,{value:function(o,s){var u=n[rb].read();u?(n[tb]=null,n[zp]=null,n[eb]=null,o(Wp(u,!1))):(n[zp]=o,n[eb]=s)},writable:!0}),r));return n[tb]=null,mFe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[eb];o!==null&&(n[tb]=null,n[zp]=null,n[eb]=null,o(i)),n[qE]=i;return}var s=n[zp];s!==null&&(n[tb]=null,n[zp]=null,n[eb]=null,s(Wp(void 0,!0))),n[tI]=!0}),e.on("readable",gFe.bind(null,n)),n};Iae.exports=wFe});var Pae=q((wDt,kae)=>{d();h();kae.exports=function(){throw new Error("Readable.from is not available in the browser")}});var XT=q((_Dt,Kae)=>{"use strict";d();h();Kae.exports=sn;var Ex;sn.ReadableState=Oae;var EDt=IE().EventEmitter,Bae=function(e,r){return e.listeners(r).length},HE=fF(),rI=Dn().Buffer,SFe=self.Uint8Array||function(){};function AFe(t){return rI.from(t)}function EFe(t){return rI.isBuffer(t)||t instanceof SFe}var EF=NE(),_r;EF&&EF.debuglog?_r=EF.debuglog("stream"):_r=function(){};var _Fe=sae(),RF=hF(),TFe=pF(),IFe=TFe.getHighWaterMark,nI=Xg().codes,MFe=nI.ERR_INVALID_ARG_TYPE,kFe=nI.ERR_STREAM_PUSH_AFTER_EOF,PFe=nI.ERR_METHOD_NOT_IMPLEMENTED,RFe=nI.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_x,_F,TF;er()(sn,HE);var VE=RF.errorOrDestroy,IF=["error","close","destroy","pause","resume"];function CFe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Oae(t,e,r){Ex=Ex||Hp(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ex),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=IFe(this,t,"readableHighWaterMark",r),this.buffer=new _Fe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(_x||(_x=Ax().StringDecoder),this.decoder=new _x(t.encoding),this.encoding=t.encoding)}function sn(t){if(Ex=Ex||Hp(),!(this instanceof sn))return new sn(t);var e=this instanceof Ex;this._readableState=new Oae(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),HE.call(this)}Object.defineProperty(sn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});sn.prototype.destroy=RF.destroy;sn.prototype._undestroy=RF.undestroy;sn.prototype._destroy=function(t,e){e(t)};sn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=rI.from(t,e),e=""),n=!0),Dae(this,t,e,!1,n)};sn.prototype.unshift=function(t){return Dae(this,t,null,!0,!1)};function Dae(t,e,r,n,i){_r("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,DFe(t,o);else{var s;if(i||(s=BFe(o,e)),s)VE(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==rI.prototype&&(e=AFe(e)),n)o.endEmitted?VE(t,new RFe):MF(t,o,e,!0);else if(o.ended)VE(t,new kFe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?MF(t,o,e,!1):PF(t,o)):MF(t,o,e,!1)}else n||(o.reading=!1,PF(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function MF(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&iI(t)),PF(t,e)}function BFe(t,e){var r;return!EFe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new MFe("chunk",["string","Buffer","Uint8Array"],e)),r}sn.prototype.isPaused=function(){return this._readableState.flowing===!1};sn.prototype.setEncoding=function(t){_x||(_x=Ax().StringDecoder);var e=new _x(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Rae=1073741824;function OFe(t){return t>=Rae?t=Rae:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Cae(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=OFe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}sn.prototype.read=function(t){_r("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return _r("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?kF(this):iI(this),null;if(t=Cae(t,e),t===0&&e.ended)return e.length===0&&kF(this),null;var n=e.needReadable;_r("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,_r("length less than watermark",n)),e.ended||e.reading?(n=!1,_r("reading or ended",n)):n&&(_r("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Cae(r,e)));var i;return t>0?i=Lae(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&kF(this)),i!==null&&this.emit("data",i),i};function DFe(t,e){if(_r("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?iI(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Nae(t)))}}function iI(t){var e=t._readableState;_r("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(_r("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Nae,t))}function Nae(t){var e=t._readableState;_r("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,CF(t)}function PF(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(NFe,t,e))}function NFe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(_r("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}sn.prototype._read=function(t){VE(this,new PFe("_read()"))};sn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,_r("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?u:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(C,R){_r("onunpipe"),C===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,x())}function u(){_r("onend"),t.end()}var l=UFe(r);t.on("drain",l);var m=!1;function x(){_r("cleanup"),t.removeListener("close",I),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",k),r.removeListener("data",w),m=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",w);function w(C){_r("ondata");var R=t.write(C);_r("dest.write",R),R===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Fae(n.pipes,t)!==-1)&&!m&&(_r("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function E(C){_r("onerror",C),k(),t.removeListener("error",E),Bae(t,"error")===0&&VE(t,C)}CFe(t,"error",E);function I(){t.removeListener("finish",M),k()}t.once("close",I);function M(){_r("onfinish"),t.removeListener("close",I),k()}t.once("finish",M);function k(){_r("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(_r("pipe resume"),r.resume()),t};function UFe(t){return function(){var r=t._readableState;_r("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Bae(t,"data")&&(r.flowing=!0,CF(t))}}sn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Fae(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};sn.prototype.on=function(t,e){var r=HE.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,_r("on readable",n.length,n.reading),n.length?iI(this):n.reading||process.nextTick(LFe,this)),r};sn.prototype.addListener=sn.prototype.on;sn.prototype.removeListener=function(t,e){var r=HE.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Uae,this),r};sn.prototype.removeAllListeners=function(t){var e=HE.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Uae,this),e};function Uae(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function LFe(t){_r("readable nexttick read 0"),t.read(0)}sn.prototype.resume=function(){var t=this._readableState;return t.flowing||(_r("resume"),t.flowing=!t.readableListening,FFe(this,t)),t.paused=!1,this};function FFe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(KFe,t,e))}function KFe(t,e){_r("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),CF(t),e.flowing&&!e.reading&&t.read(0)}sn.prototype.pause=function(){return _r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_r("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function CF(t){var e=t._readableState;for(_r("flow",e.flowing);e.flowing&&t.read()!==null;);}sn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(_r("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(_r("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=e.push(s);u||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(u){return function(){return t[u].apply(t,arguments)}}(i));for(var o=0;o<IF.length;o++)t.on(IF[o],this.emit.bind(this,IF[o]));return this._read=function(s){_r("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(sn.prototype[Symbol.asyncIterator]=function(){return _F===void 0&&(_F=Mae()),_F(this)});Object.defineProperty(sn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(sn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(sn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});sn._fromList=Lae;Object.defineProperty(sn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Lae(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function kF(t){var e=t._readableState;_r("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(qFe,e,t))}function qFe(t,e){if(_r("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(sn.from=function(t,e){return TF===void 0&&(TF=Pae()),TF(sn,t,e)});function Fae(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var aI=q((MDt,Vae)=>{"use strict";d();h();Vae.exports=Gh;var oI=Xg().codes,VFe=oI.ERR_METHOD_NOT_IMPLEMENTED,HFe=oI.ERR_MULTIPLE_CALLBACK,jFe=oI.ERR_TRANSFORM_ALREADY_TRANSFORMING,zFe=oI.ERR_TRANSFORM_WITH_LENGTH_0,sI=Hp();er()(Gh,sI);function WFe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new HFe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Gh(t){if(!(this instanceof Gh))return new Gh(t);sI.call(this,t),this._transformState={afterTransform:WFe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",GFe)}function GFe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){qae(t,e,r)}):qae(this,null,null)}Gh.prototype.push=function(t,e){return this._transformState.needTransform=!1,sI.prototype.push.call(this,t,e)};Gh.prototype._transform=function(t,e,r){r(new VFe("_transform()"))};Gh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Gh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Gh.prototype._destroy=function(t,e){sI.prototype._destroy.call(this,t,function(r){e(r)})};function qae(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new zFe;if(t._transformState.transforming)throw new jFe;return t.push(null)}});var BF=q((RDt,jae)=>{"use strict";d();h();jae.exports=jE;var Hae=aI();er()(jE,Hae);function jE(t){if(!(this instanceof jE))return new jE(t);Hae.call(this,t)}jE.prototype._transform=function(t,e,r){r(null,t)}});var DF=q((ODt,$ae)=>{"use strict";d();h();var OF;function $Fe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Gae=Xg().codes,YFe=Gae.ERR_MISSING_ARGS,ZFe=Gae.ERR_STREAM_DESTROYED;function zae(t){if(t)throw t}function QFe(t){return t.setHeader&&typeof t.abort=="function"}function JFe(t,e,r,n){n=$Fe(n);var i=!1;t.on("close",function(){i=!0}),OF===void 0&&(OF=KE()),OF(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,QFe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new ZFe("pipe"))}}}function Wae(t){t()}function XFe(t,e){return t.pipe(e)}function eKe(t){return!t.length||typeof t[t.length-1]!="function"?zae:t.pop()}function tKe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=eKe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new YFe("streams");var i,o=e.map(function(s,u){var l=u<e.length-1,m=u>0;return JFe(s,l,m,function(x){i||(i=x),x&&o.forEach(Wae),!l&&(o.forEach(Wae),n(i))})});return e.reduce(XFe)}$ae.exports=tKe});var cI=q((Vu,Yae)=>{d();h();Vu=Yae.exports=XT();Vu.Stream=Vu;Vu.Readable=Vu;Vu.Writable=ZT();Vu.Duplex=Hp();Vu.Transform=aI();Vu.PassThrough=BF();Vu.finished=KE();Vu.pipeline=DF()});var NF=q((FDt,Qae)=>{"use strict";d();h();var uI=cr().Buffer,Zae=cI().Transform,rKe=er();function nKe(t,e){if(!uI.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Gp(t){Zae.call(this),this._block=uI.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}rKe(Gp,Zae);Gp.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Gp.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Gp.prototype.update=function(t,e){if(nKe(t,"Data"),this._finalized)throw new Error("Digest already called");uI.isBuffer(t)||(t=uI.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};Gp.prototype._update=function(){throw new Error("_update is not implemented")};Gp.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Gp.prototype._digest=function(){throw new Error("_digest is not implemented")};Qae.exports=Gp});var dI=q((VDt,Xae)=>{"use strict";d();h();var iKe=er(),Jae=NF(),oKe=cr().Buffer,sKe=new Array(16);function fI(){Jae.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}iKe(fI,Jae);fI.prototype._update=function(){for(var t=sKe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,o=this._d;r=Js(r,n,i,o,t[0],3614090360,7),o=Js(o,r,n,i,t[1],3905402710,12),i=Js(i,o,r,n,t[2],606105819,17),n=Js(n,i,o,r,t[3],3250441966,22),r=Js(r,n,i,o,t[4],4118548399,7),o=Js(o,r,n,i,t[5],1200080426,12),i=Js(i,o,r,n,t[6],2821735955,17),n=Js(n,i,o,r,t[7],4249261313,22),r=Js(r,n,i,o,t[8],1770035416,7),o=Js(o,r,n,i,t[9],2336552879,12),i=Js(i,o,r,n,t[10],4294925233,17),n=Js(n,i,o,r,t[11],2304563134,22),r=Js(r,n,i,o,t[12],1804603682,7),o=Js(o,r,n,i,t[13],4254626195,12),i=Js(i,o,r,n,t[14],2792965006,17),n=Js(n,i,o,r,t[15],1236535329,22),r=Xs(r,n,i,o,t[1],4129170786,5),o=Xs(o,r,n,i,t[6],3225465664,9),i=Xs(i,o,r,n,t[11],643717713,14),n=Xs(n,i,o,r,t[0],3921069994,20),r=Xs(r,n,i,o,t[5],3593408605,5),o=Xs(o,r,n,i,t[10],38016083,9),i=Xs(i,o,r,n,t[15],3634488961,14),n=Xs(n,i,o,r,t[4],3889429448,20),r=Xs(r,n,i,o,t[9],568446438,5),o=Xs(o,r,n,i,t[14],3275163606,9),i=Xs(i,o,r,n,t[3],4107603335,14),n=Xs(n,i,o,r,t[8],1163531501,20),r=Xs(r,n,i,o,t[13],2850285829,5),o=Xs(o,r,n,i,t[2],4243563512,9),i=Xs(i,o,r,n,t[7],1735328473,14),n=Xs(n,i,o,r,t[12],2368359562,20),r=ea(r,n,i,o,t[5],4294588738,4),o=ea(o,r,n,i,t[8],2272392833,11),i=ea(i,o,r,n,t[11],1839030562,16),n=ea(n,i,o,r,t[14],4259657740,23),r=ea(r,n,i,o,t[1],2763975236,4),o=ea(o,r,n,i,t[4],1272893353,11),i=ea(i,o,r,n,t[7],4139469664,16),n=ea(n,i,o,r,t[10],3200236656,23),r=ea(r,n,i,o,t[13],681279174,4),o=ea(o,r,n,i,t[0],3936430074,11),i=ea(i,o,r,n,t[3],3572445317,16),n=ea(n,i,o,r,t[6],76029189,23),r=ea(r,n,i,o,t[9],3654602809,4),o=ea(o,r,n,i,t[12],3873151461,11),i=ea(i,o,r,n,t[15],530742520,16),n=ea(n,i,o,r,t[2],3299628645,23),r=ta(r,n,i,o,t[0],4096336452,6),o=ta(o,r,n,i,t[7],1126891415,10),i=ta(i,o,r,n,t[14],2878612391,15),n=ta(n,i,o,r,t[5],4237533241,21),r=ta(r,n,i,o,t[12],1700485571,6),o=ta(o,r,n,i,t[3],2399980690,10),i=ta(i,o,r,n,t[10],4293915773,15),n=ta(n,i,o,r,t[1],2240044497,21),r=ta(r,n,i,o,t[8],1873313359,6),o=ta(o,r,n,i,t[15],4264355552,10),i=ta(i,o,r,n,t[6],2734768916,15),n=ta(n,i,o,r,t[13],1309151649,21),r=ta(r,n,i,o,t[4],4149444226,6),o=ta(o,r,n,i,t[11],3174756917,10),i=ta(i,o,r,n,t[2],718787259,15),n=ta(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0};fI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=oKe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function lI(t,e){return t<<e|t>>>32-e}function Js(t,e,r,n,i,o,s){return lI(t+(e&r|~e&n)+i+o|0,s)+e|0}function Xs(t,e,r,n,i,o,s){return lI(t+(e&n|r&~n)+i+o|0,s)+e|0}function ea(t,e,r,n,i,o,s){return lI(t+(e^r^n)+i+o|0,s)+e|0}function ta(t,e,r,n,i,o,s){return lI(t+(r^(e|~n))+i+o|0,s)+e|0}Xae.exports=fI});var pI=q((zDt,sce)=>{"use strict";d();h();var UF=Dn().Buffer,aKe=er(),oce=NF(),cKe=new Array(16),zE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],WE=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],GE=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],$E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],YE=[0,1518500249,1859775393,2400959708,2840853838],ZE=[1352829926,1548603684,1836072691,2053994217,0];function hI(){oce.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}aKe(hI,oce);hI.prototype._update=function(){for(var t=cKe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,u=this._a|0,l=this._b|0,m=this._c|0,x=this._d|0,w=this._e|0,E=0;E<80;E+=1){var I,M;E<16?(I=ece(r,n,i,o,s,t[zE[E]],YE[0],GE[E]),M=ice(u,l,m,x,w,t[WE[E]],ZE[0],$E[E])):E<32?(I=tce(r,n,i,o,s,t[zE[E]],YE[1],GE[E]),M=nce(u,l,m,x,w,t[WE[E]],ZE[1],$E[E])):E<48?(I=rce(r,n,i,o,s,t[zE[E]],YE[2],GE[E]),M=rce(u,l,m,x,w,t[WE[E]],ZE[2],$E[E])):E<64?(I=nce(r,n,i,o,s,t[zE[E]],YE[3],GE[E]),M=tce(u,l,m,x,w,t[WE[E]],ZE[3],$E[E])):(I=ice(r,n,i,o,s,t[zE[E]],YE[4],GE[E]),M=ece(u,l,m,x,w,t[WE[E]],ZE[4],$E[E])),r=s,s=o,o=nb(i,10),i=n,n=I,u=w,w=x,x=nb(m,10),m=l,l=M}var k=this._b+i+x|0;this._b=this._c+o+w|0,this._c=this._d+s+u|0,this._d=this._e+r+l|0,this._e=this._a+n+m|0,this._a=k};hI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=UF.alloc?UF.alloc(20):new UF(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function nb(t,e){return t<<e|t>>>32-e}function ece(t,e,r,n,i,o,s,u){return nb(t+(e^r^n)+o+s|0,u)+i|0}function tce(t,e,r,n,i,o,s,u){return nb(t+(e&r|~e&n)+o+s|0,u)+i|0}function rce(t,e,r,n,i,o,s,u){return nb(t+((e|~r)^n)+o+s|0,u)+i|0}function nce(t,e,r,n,i,o,s,u){return nb(t+(e&n|r&~n)+o+s|0,u)+i|0}function ice(t,e,r,n,i,o,s,u){return nb(t+(e^(r|~n))+o+s|0,u)+i|0}sce.exports=hI});var ib=q(($Dt,cce)=>{d();h();var ace=cr().Buffer;function mI(t,e){this._block=ace.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}mI.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=ace.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var u=o%n,l=Math.min(i-s,n-u),m=0;m<l;m++)r[u+m]=t[s+m];o+=l,s+=l,o%n===0&&this._update(r)}return this._len+=i,this};mI.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};mI.prototype._update=function(){throw new Error("_update must be implemented by subclass")};cce.exports=mI});var lce=q((QDt,fce)=>{d();h();var uKe=er(),uce=ib(),fKe=cr().Buffer,lKe=[1518500249,1859775393,-1894007588,-899497514],dKe=new Array(80);function QE(){this.init(),this._w=dKe,uce.call(this,64,56)}uKe(QE,uce);QE.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function hKe(t){return t<<5|t>>>27}function pKe(t){return t<<30|t>>>2}function mKe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}QE.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<80;++u)e[u]=e[u-3]^e[u-8]^e[u-14]^e[u-16];for(var l=0;l<80;++l){var m=~~(l/20),x=hKe(r)+mKe(m,n,i,o)+s+e[l]+lKe[m]|0;s=o,o=i,i=pKe(n),n=r,r=x}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};QE.prototype._hash=function(){var t=fKe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};fce.exports=QE});var pce=q((eNt,hce)=>{d();h();var yKe=er(),dce=ib(),gKe=cr().Buffer,bKe=[1518500249,1859775393,-1894007588,-899497514],vKe=new Array(80);function JE(){this.init(),this._w=vKe,dce.call(this,64,56)}yKe(JE,dce);JE.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function xKe(t){return t<<1|t>>>31}function wKe(t){return t<<5|t>>>27}function SKe(t){return t<<30|t>>>2}function AKe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}JE.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<80;++u)e[u]=xKe(e[u-3]^e[u-8]^e[u-14]^e[u-16]);for(var l=0;l<80;++l){var m=~~(l/20),x=wKe(r)+AKe(m,n,i,o)+s+e[l]+bKe[m]|0;s=o,o=i,i=SKe(n),n=r,r=x}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};JE.prototype._hash=function(){var t=gKe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};hce.exports=JE});var LF=q((nNt,yce)=>{d();h();var EKe=er(),mce=ib(),_Ke=cr().Buffer,TKe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],IKe=new Array(64);function XE(){this.init(),this._w=IKe,mce.call(this,64,56)}EKe(XE,mce);XE.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function MKe(t,e,r){return r^t&(e^r)}function kKe(t,e,r){return t&e|r&(t|e)}function PKe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function RKe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function CKe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function BKe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}XE.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,u=this._f|0,l=this._g|0,m=this._h|0,x=0;x<16;++x)e[x]=t.readInt32BE(x*4);for(;x<64;++x)e[x]=BKe(e[x-2])+e[x-7]+CKe(e[x-15])+e[x-16]|0;for(var w=0;w<64;++w){var E=m+RKe(s)+MKe(s,u,l)+TKe[w]+e[w]|0,I=PKe(r)+kKe(r,n,i)|0;m=l,l=u,u=s,s=o+E|0,o=i,i=n,n=r,r=E+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=u+this._f|0,this._g=l+this._g|0,this._h=m+this._h|0};XE.prototype._hash=function(){var t=_Ke.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};yce.exports=XE});var bce=q((sNt,gce)=>{d();h();var OKe=er(),DKe=LF(),NKe=ib(),UKe=cr().Buffer,LKe=new Array(64);function yI(){this.init(),this._w=LKe,NKe.call(this,64,56)}OKe(yI,DKe);yI.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};yI.prototype._hash=function(){var t=UKe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};gce.exports=yI});var FF=q((uNt,_ce)=>{d();h();var FKe=er(),Ece=ib(),KKe=cr().Buffer,vce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],qKe=new Array(160);function e3(){this.init(),this._w=qKe,Ece.call(this,128,112)}FKe(e3,Ece);e3.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function xce(t,e,r){return r^t&(e^r)}function wce(t,e,r){return t&e|r&(t|e)}function Sce(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Ace(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function VKe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function HKe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function jKe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function zKe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function es(t,e){return t>>>0<e>>>0?1:0}e3.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,u=this._fh|0,l=this._gh|0,m=this._hh|0,x=this._al|0,w=this._bl|0,E=this._cl|0,I=this._dl|0,M=this._el|0,k=this._fl|0,C=this._gl|0,R=this._hl|0,L=0;L<32;L+=2)e[L]=t.readInt32BE(L*4),e[L+1]=t.readInt32BE(L*4+4);for(;L<160;L+=2){var P=e[L-30],K=e[L-15*2+1],V=VKe(P,K),j=HKe(K,P);P=e[L-2*2],K=e[L-2*2+1];var ne=jKe(P,K),J=zKe(K,P),oe=e[L-7*2],S=e[L-7*2+1],a=e[L-16*2],f=e[L-16*2+1],p=j+S|0,y=V+oe+es(p,j)|0;p=p+J|0,y=y+ne+es(p,J)|0,p=p+f|0,y=y+a+es(p,f)|0,e[L]=y,e[L+1]=p}for(var g=0;g<160;g+=2){y=e[g],p=e[g+1];var A=wce(r,n,i),_=wce(x,w,E),b=Sce(r,x),c=Sce(x,r),v=Ace(s,M),F=Ace(M,s),U=vce[g],O=vce[g+1],W=xce(s,u,l),ee=xce(M,k,C),re=R+F|0,Ve=m+v+es(re,R)|0;re=re+ee|0,Ve=Ve+W+es(re,ee)|0,re=re+O|0,Ve=Ve+U+es(re,O)|0,re=re+p|0,Ve=Ve+y+es(re,p)|0;var ae=c+_|0,G=b+A+es(ae,c)|0;m=l,R=C,l=u,C=k,u=s,k=M,M=I+re|0,s=o+Ve+es(M,I)|0,o=i,I=E,i=n,E=w,n=r,w=x,x=re+ae|0,r=Ve+G+es(x,re)|0}this._al=this._al+x|0,this._bl=this._bl+w|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+M|0,this._fl=this._fl+k|0,this._gl=this._gl+C|0,this._hl=this._hl+R|0,this._ah=this._ah+r+es(this._al,x)|0,this._bh=this._bh+n+es(this._bl,w)|0,this._ch=this._ch+i+es(this._cl,E)|0,this._dh=this._dh+o+es(this._dl,I)|0,this._eh=this._eh+s+es(this._el,M)|0,this._fh=this._fh+u+es(this._fl,k)|0,this._gh=this._gh+l+es(this._gl,C)|0,this._hh=this._hh+m+es(this._hl,R)|0};e3.prototype._hash=function(){var t=KKe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};_ce.exports=e3});var Ice=q((dNt,Tce)=>{d();h();var WKe=er(),GKe=FF(),$Ke=ib(),YKe=cr().Buffer,ZKe=new Array(160);function gI(){this.init(),this._w=ZKe,$Ke.call(this,128,112)}WKe(gI,GKe);gI.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};gI.prototype._hash=function(){var t=YKe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Tce.exports=gI});var bI=q(($h,Mce)=>{d();h();var $h=Mce.exports=function(e){e=e.toLowerCase();var r=$h[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};$h.sha=lce();$h.sha1=pce();$h.sha224=bce();$h.sha256=LF();$h.sha384=Ice();$h.sha512=FF()});var Pce=q((gNt,kce)=>{d();h();kce.exports=Hu;var KF=IE().EventEmitter,QKe=er();QKe(Hu,KF);Hu.Readable=XT();Hu.Writable=ZT();Hu.Duplex=Hp();Hu.Transform=aI();Hu.PassThrough=BF();Hu.finished=KE();Hu.pipeline=DF();Hu.Stream=Hu;function Hu(){KF.call(this)}Hu.prototype.pipe=function(t,e){var r=this;function n(x){t.writable&&t.write(x)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",u));var o=!1;function s(){o||(o=!0,t.end())}function u(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function l(x){if(m(),KF.listenerCount(this,"error")===0)throw x}r.on("error",l),t.on("error",l);function m(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t}});var Yh=q((xNt,Bce)=>{d();h();var Rce=cr().Buffer,Cce=Pce().Transform,JKe=Ax().StringDecoder,XKe=er();function Xf(t){Cce.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}XKe(Xf,Cce);Xf.prototype.update=function(t,e,r){typeof t=="string"&&(t=Rce.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Xf.prototype.setAutoPadding=function(){};Xf.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Xf.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Xf.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Xf.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Xf.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Xf.prototype._finalOrDigest=function(t){var e=this.__final()||Rce.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Xf.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new JKe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};Bce.exports=Xf});var $p=q((ANt,Dce)=>{"use strict";d();h();var eqe=er(),tqe=dI(),rqe=pI(),nqe=bI(),Oce=Yh();function vI(t){Oce.call(this,"digest"),this._hash=t}eqe(vI,Oce);vI.prototype._update=function(t){this._hash.update(t)};vI.prototype._final=function(){return this._hash.digest()};Dce.exports=function(e){return e=e.toLowerCase(),e==="md5"?new tqe:e==="rmd160"||e==="ripemd160"?new rqe:new vI(nqe(e))}});var Lce=q((TNt,Uce)=>{"use strict";d();h();var iqe=er(),ob=cr().Buffer,Nce=Yh(),oqe=ob.alloc(128),Tx=64;function xI(t,e){Nce.call(this,"digest"),typeof e=="string"&&(e=ob.from(e)),this._alg=t,this._key=e,e.length>Tx?e=t(e):e.length<Tx&&(e=ob.concat([e,oqe],Tx));for(var r=this._ipad=ob.allocUnsafe(Tx),n=this._opad=ob.allocUnsafe(Tx),i=0;i<Tx;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}iqe(xI,Nce);xI.prototype._update=function(t){this._hash.push(t)};xI.prototype._final=function(){var t=this._alg(ob.concat(this._hash));return this._alg(ob.concat([this._opad,t]))};Uce.exports=xI});var qF=q((kNt,Fce)=>{d();h();var sqe=dI();Fce.exports=function(t){return new sqe().update(t).digest()}});var jF=q((CNt,qce)=>{"use strict";d();h();var aqe=er(),cqe=Lce(),Kce=Yh(),t3=cr().Buffer,uqe=qF(),VF=pI(),HF=bI(),fqe=t3.alloc(128);function r3(t,e){Kce.call(this,"digest"),typeof e=="string"&&(e=t3.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new VF:HF(t);e=n.update(e).digest()}else e.length<r&&(e=t3.concat([e,fqe],r));for(var i=this._ipad=t3.allocUnsafe(r),o=this._opad=t3.allocUnsafe(r),s=0;s<r;s++)i[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new VF:HF(t),this._hash.update(i)}aqe(r3,Kce);r3.prototype._update=function(t){this._hash.update(t)};r3.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new VF:HF(this._alg);return e.update(this._opad).update(t).digest()};qce.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new r3("rmd160",r):e==="md5"?new cqe(uqe,r):new r3(e,r)}});var zF=q((DNt,lqe)=>{lqe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Hce=q((NNt,Vce)=>{"use strict";d();h();Vce.exports=zF()});var WF=q((FNt,jce)=>{d();h();var dqe=Math.pow(2,30)-1;jce.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>dqe||e!==e)throw new TypeError("Bad key length")}});var GF=q((VNt,Wce)=>{d();h();var wI;self.process&&self.process.browser?wI="utf-8":self.process&&self.process.version?(zce=parseInt(process.version.split(".")[0].slice(1),10),wI=zce>=6?"utf-8":"binary"):wI="utf-8";var zce;Wce.exports=wI});var YF=q((zNt,Gce)=>{d();h();var $F=cr().Buffer;Gce.exports=function(t,e,r){if($F.isBuffer(t))return t;if(typeof t=="string")return $F.from(t,e);if(ArrayBuffer.isView(t))return $F.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var ZF=q(($Nt,Qce)=>{d();h();var hqe=qF(),pqe=pI(),mqe=bI(),sb=cr().Buffer,yqe=WF(),$ce=GF(),Yce=YF(),gqe=sb.alloc(128),SI={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Zce(t,e,r){var n=bqe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=sb.concat([e,gqe],i));for(var o=sb.allocUnsafe(i+SI[t]),s=sb.allocUnsafe(i+SI[t]),u=0;u<i;u++)o[u]=e[u]^54,s[u]=e[u]^92;var l=sb.allocUnsafe(i+r+4);o.copy(l,0,0,i),this.ipad1=l,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=i,this.hash=n,this.size=SI[t]}Zce.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function bqe(t){function e(n){return mqe(t).update(n).digest()}function r(n){return new pqe().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?hqe:e}function vqe(t,e,r,n,i){yqe(r,n),t=Yce(t,$ce,"Password"),e=Yce(e,$ce,"Salt"),i=i||"sha1";var o=new Zce(i,t,e.length),s=sb.allocUnsafe(n),u=sb.allocUnsafe(e.length+4);e.copy(u,0,0,e.length);for(var l=0,m=SI[i],x=Math.ceil(n/m),w=1;w<=x;w++){u.writeUInt32BE(w,e.length);for(var E=o.run(u,o.ipad1),I=E,M=1;M<r;M++){I=o.run(I,o.ipad2);for(var k=0;k<m;k++)E[k]^=I[k]}E.copy(s,l),l+=m}return s}Qce.exports=vqe});var iue=q((QNt,nue)=>{d();h();var tue=cr().Buffer,xqe=WF(),Jce=GF(),Xce=ZF(),eue=YF(),AI,n3=self.crypto&&self.crypto.subtle,wqe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},QF=[];function Sqe(t){if(self.process&&!self.process.browser||!n3||!n3.importKey||!n3.deriveBits)return Promise.resolve(!1);if(QF[t]!==void 0)return QF[t];AI=AI||tue.alloc(8);var e=rue(AI,AI,10,128,t).then(function(){return!0}).catch(function(){return!1});return QF[t]=e,e}var ab;function JF(){return ab||(self.process&&self.process.nextTick?ab=self.process.nextTick:self.queueMicrotask?ab=self.queueMicrotask:self.setImmediate?ab=self.setImmediate:ab=self.setTimeout,ab)}function rue(t,e,r,n,i){return n3.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return n3.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},o,n<<3)}).then(function(o){return tue.from(o)})}function Aqe(t,e){t.then(function(r){JF()(function(){e(null,r)})},function(r){JF()(function(){e(r)})})}nue.exports=function(t,e,r,n,i,o){typeof i=="function"&&(o=i,i=void 0),i=i||"sha1";var s=wqe[i.toLowerCase()];if(!s||typeof self.Promise!="function"){JF()(function(){var u;try{u=Xce(t,e,r,n,i)}catch(l){return o(l)}o(null,u)});return}if(xqe(r,n),t=eue(t,Jce,"Password"),e=eue(e,Jce,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");Aqe(Sqe(s).then(function(u){return u?rue(t,e,r,n,s):Xce(t,e,r,n,i)}),o)}});var EI=q(XF=>{d();h();XF.pbkdf2=iue();XF.pbkdf2Sync=ZF()});var eK=q(ju=>{"use strict";d();h();ju.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};ju.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};ju.ip=function(e,r,n,i){for(var o=0,s=0,u=6;u>=0;u-=2){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>>l+u&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>>l+u&1}for(var u=6;u>=0;u-=2){for(var l=1;l<=25;l+=8)s<<=1,s|=r>>>l+u&1;for(var l=1;l<=25;l+=8)s<<=1,s|=e>>>l+u&1}n[i+0]=o>>>0,n[i+1]=s>>>0};ju.rip=function(e,r,n,i){for(var o=0,s=0,u=0;u<4;u++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+u&1,o<<=1,o|=e>>>l+u&1;for(var u=4;u<8;u++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+u&1,s<<=1,s|=e>>>l+u&1;n[i+0]=o>>>0,n[i+1]=s>>>0};ju.pc1=function(e,r,n,i){for(var o=0,s=0,u=7;u>=5;u--){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+u&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+u&1}for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+u&1;for(var u=1;u<=3;u++){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+u&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+u&1}for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+u&1;n[i+0]=o>>>0,n[i+1]=s>>>0};ju.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var _I=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ju.pc2=function(e,r,n,i){for(var o=0,s=0,u=_I.length>>>1,l=0;l<u;l++)o<<=1,o|=e>>>_I[l]&1;for(var l=u;l<_I.length;l++)s<<=1,s|=r>>>_I[l]&1;n[i+0]=o>>>0,n[i+1]=s>>>0};ju.expand=function(e,r,n){var i=0,o=0;i=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=o>>>0};var oue=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ju.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var o=e>>>18-i*6&63,s=oue[i*64+o];n<<=4,n|=s}for(var i=0;i<4;i++){var o=r>>>18-i*6&63,s=oue[4*64+i*64+o];n<<=4,n|=s}return n>>>0};var sue=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];ju.permute=function(e){for(var r=0,n=0;n<sue.length;n++)r<<=1,r|=e>>>sue[n]&1;return r>>>0};ju.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var o=[],s=0;s<r;s+=n)o.push(i.slice(s,s+n));return o.join(" ")}});var Qc=q((sUt,cue)=>{d();h();cue.exports=aue;function aue(t,e){if(!t)throw new Error(e||"Assertion failed")}aue.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var TI=q((uUt,uue)=>{"use strict";d();h();var Eqe=Qc();function zu(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}uue.exports=zu;zu.prototype._init=function(){};zu.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};zu.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};zu.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};zu.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(o,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};zu.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(o,n);return r+=this._buffer(e,r),o};zu.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};zu.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};zu.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};zu.prototype._unpad=function(e){return e};zu.prototype._finalDecrypt=function(){Eqe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var tK=q((dUt,due)=>{"use strict";d();h();var fue=Qc(),_qe=er(),Mo=eK(),lue=TI();function Tqe(){this.tmp=new Array(2),this.keys=null}function yd(t){lue.call(this,t);var e=new Tqe;this._desState=e,this.deriveKeys(e,t.key)}_qe(yd,lue);due.exports=yd;yd.create=function(e){return new yd(e)};var Iqe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];yd.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),fue.equal(r.length,this.blockSize,"Invalid key length");var n=Mo.readUInt32BE(r,0),i=Mo.readUInt32BE(r,4);Mo.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=Iqe[o>>>1];n=Mo.r28shl(n,s),i=Mo.r28shl(i,s),Mo.pc2(n,i,e.keys,o)}};yd.prototype._update=function(e,r,n,i){var o=this._desState,s=Mo.readUInt32BE(e,r),u=Mo.readUInt32BE(e,r+4);Mo.ip(s,u,o.tmp,0),s=o.tmp[0],u=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,u,o.tmp,0):this._decrypt(o,s,u,o.tmp,0),s=o.tmp[0],u=o.tmp[1],Mo.writeUInt32BE(n,s,i),Mo.writeUInt32BE(n,u,i+4)};yd.prototype._pad=function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};yd.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)fue.equal(e[n],r);return e.slice(0,e.length-r)};yd.prototype._encrypt=function(e,r,n,i,o){for(var s=r,u=n,l=0;l<e.keys.length;l+=2){var m=e.keys[l],x=e.keys[l+1];Mo.expand(u,e.tmp,0),m^=e.tmp[0],x^=e.tmp[1];var w=Mo.substitute(m,x),E=Mo.permute(w),I=u;u=(s^E)>>>0,s=I}Mo.rip(u,s,i,o)};yd.prototype._decrypt=function(e,r,n,i,o){for(var s=n,u=r,l=e.keys.length-2;l>=0;l-=2){var m=e.keys[l],x=e.keys[l+1];Mo.expand(s,e.tmp,0),m^=e.tmp[0],x^=e.tmp[1];var w=Mo.substitute(m,x),E=Mo.permute(w),I=s;s=(u^E)>>>0,u=I}Mo.rip(s,u,i,o)}});var pue=q(hue=>{"use strict";d();h();var Mqe=Qc(),kqe=er(),II={};function Pqe(t){Mqe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function Rqe(t){function e(o){t.call(this,o),this._cbcInit()}kqe(e,t);for(var r=Object.keys(II),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=II[i]}return e.create=function(s){return new e(s)},e}hue.instantiate=Rqe;II._cbcInit=function(){var e=new Pqe(this.options.iv);this._cbcState=e};II._update=function(e,r,n,i){var o=this._cbcState,s=this.constructor.super_.prototype,u=o.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)u[l]^=e[r+l];s._update.call(this,u,0,n,i);for(var l=0;l<this.blockSize;l++)u[l]=n[i+l]}else{s._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=u[l];for(var l=0;l<this.blockSize;l++)u[l]=e[r+l]}}});var gue=q((bUt,yue)=>{"use strict";d();h();var Cqe=Qc(),Bqe=er(),mue=TI(),Yp=tK();function Oqe(t,e){Cqe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Yp.create({type:"encrypt",key:r}),Yp.create({type:"decrypt",key:n}),Yp.create({type:"encrypt",key:i})]:this.ciphers=[Yp.create({type:"decrypt",key:i}),Yp.create({type:"encrypt",key:n}),Yp.create({type:"decrypt",key:r})]}function cb(t){mue.call(this,t);var e=new Oqe(this.type,this.options.key);this._edeState=e}Bqe(cb,mue);yue.exports=cb;cb.create=function(e){return new cb(e)};cb.prototype._update=function(e,r,n,i){var o=this._edeState;o.ciphers[0]._update(e,r,n,i),o.ciphers[1]._update(n,i,n,i),o.ciphers[2]._update(n,i,n,i)};cb.prototype._pad=Yp.prototype._pad;cb.prototype._unpad=Yp.prototype._unpad});var bue=q(Ix=>{"use strict";d();h();Ix.utils=eK();Ix.Cipher=TI();Ix.DES=tK();Ix.CBC=pue();Ix.EDE=gue()});var wue=q((EUt,xue)=>{d();h();var vue=Yh(),Zh=bue(),Dqe=er(),ub=cr().Buffer,i3={"des-ede3-cbc":Zh.CBC.instantiate(Zh.EDE),"des-ede3":Zh.EDE,"des-ede-cbc":Zh.CBC.instantiate(Zh.EDE),"des-ede":Zh.EDE,"des-cbc":Zh.CBC.instantiate(Zh.DES),"des-ecb":Zh.DES};i3.des=i3["des-cbc"];i3.des3=i3["des-ede3-cbc"];xue.exports=MI;Dqe(MI,vue);function MI(t){vue.call(this);var e=t.mode.toLowerCase(),r=i3[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;ub.isBuffer(i)||(i=ub.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=ub.concat([i,i.slice(0,8)]));var o=t.iv;ub.isBuffer(o)||(o=ub.from(o)),this._des=r.create({key:i,iv:o,type:n})}MI.prototype._update=function(t){return ub.from(this._des.update(t))};MI.prototype._final=function(){return ub.from(this._des.final())}});var Sue=q(rK=>{d();h();rK.encrypt=function(t,e){return t._cipher.encryptBlock(e)};rK.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Mx=q((PUt,Aue)=>{d();h();Aue.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),o=0;o<n;++o)i[o]=e[o]^r[o];return i}});var _ue=q(nK=>{d();h();var Eue=Mx();nK.encrypt=function(t,e){var r=Eue(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};nK.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return Eue(n,r)}});var Mue=q(Iue=>{d();h();var o3=cr().Buffer,Nqe=Mx();function Tue(t,e,r){var n=e.length,i=Nqe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=o3.concat([t._prev,r?e:i]),i}Iue.encrypt=function(t,e,r){for(var n=o3.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=o3.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=o3.concat([n,Tue(t,e.slice(0,i),r)]),e=e.slice(i);else{n=o3.concat([n,Tue(t,e,r)]);break}return n}});var Pue=q(kue=>{d();h();var iK=cr().Buffer;function Uqe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=iK.concat([t._prev.slice(1),iK.from([r?e:i])]),i}kue.encrypt=function(t,e,r){for(var n=e.length,i=iK.allocUnsafe(n),o=-1;++o<n;)i[o]=Uqe(t,e[o],r);return i}});var Cue=q(Rue=>{d();h();var kI=cr().Buffer;function Lqe(t,e,r){for(var n,i=-1,o=8,s=0,u,l;++i<o;)n=t._cipher.encryptBlock(t._prev),u=e&1<<7-i?128:0,l=n[0]^u,s+=(l&128)>>i%8,t._prev=Fqe(t._prev,r?u:l);return s}function Fqe(t,e){var r=t.length,n=-1,i=kI.allocUnsafe(t.length);for(t=kI.concat([t,kI.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}Rue.encrypt=function(t,e,r){for(var n=e.length,i=kI.allocUnsafe(n),o=-1;++o<n;)i[o]=Lqe(t,e[o],r);return i}});var Oue=q(Bue=>{d();h();var Kqe=Mx();function qqe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}Bue.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,qqe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Kqe(e,r)}});var oK=q(($Ut,Due)=>{d();h();function Vqe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}Due.exports=Vqe});var aK=q(Uue=>{d();h();var Hqe=Mx(),Nue=cr().Buffer,jqe=oK();function zqe(t){var e=t._cipher.encryptBlockRaw(t._prev);return jqe(t._prev),e}var sK=16;Uue.encrypt=function(t,e){var r=Math.ceil(e.length/sK),n=t._cache.length;t._cache=Nue.concat([t._cache,Nue.allocUnsafe(r*sK)]);for(var i=0;i<r;i++){var o=zqe(t),s=n+i*sK;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var u=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Hqe(e,u)}});var cK=q((eLt,Wqe)=>{Wqe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var RI=q((tLt,Lue)=>{d();h();var Gqe={ECB:Sue(),CBC:_ue(),CFB:Mue(),CFB8:Pue(),CFB1:Cue(),OFB:Oue(),CTR:aK(),GCM:aK()},PI=cK();for(uK in PI)PI[uK].module=Gqe[PI[uK].mode];var uK;Lue.exports=PI});var s3=q((iLt,Kue)=>{d();h();var CI=cr().Buffer;function lK(t){CI.isBuffer(t)||(t=CI.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function fK(t){for(var e=0;e<t.length;t++)t[e]=0}function Fue(t,e,r,n,i){for(var o=r[0],s=r[1],u=r[2],l=r[3],m=t[0]^e[0],x=t[1]^e[1],w=t[2]^e[2],E=t[3]^e[3],I,M,k,C,R=4,L=1;L<i;L++)I=o[m>>>24]^s[x>>>16&255]^u[w>>>8&255]^l[E&255]^e[R++],M=o[x>>>24]^s[w>>>16&255]^u[E>>>8&255]^l[m&255]^e[R++],k=o[w>>>24]^s[E>>>16&255]^u[m>>>8&255]^l[x&255]^e[R++],C=o[E>>>24]^s[m>>>16&255]^u[x>>>8&255]^l[w&255]^e[R++],m=I,x=M,w=k,E=C;return I=(n[m>>>24]<<24|n[x>>>16&255]<<16|n[w>>>8&255]<<8|n[E&255])^e[R++],M=(n[x>>>24]<<24|n[w>>>16&255]<<16|n[E>>>8&255]<<8|n[m&255])^e[R++],k=(n[w>>>24]<<24|n[E>>>16&255]<<16|n[m>>>8&255]<<8|n[x&255])^e[R++],C=(n[E>>>24]<<24|n[m>>>16&255]<<16|n[x>>>8&255]<<8|n[w&255])^e[R++],I=I>>>0,M=M>>>0,k=k>>>0,C=C>>>0,[I,M,k,C]}var $qe=[0,1,2,4,8,16,32,64,128,27,54],yo=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,u=0,l=0;l<256;++l){var m=u^u<<1^u<<2^u<<3^u<<4;m=m>>>8^m&255^99,r[s]=m,n[m]=s;var x=t[s],w=t[x],E=t[w],I=t[m]*257^m*16843008;i[0][s]=I<<24|I>>>8,i[1][s]=I<<16|I>>>16,i[2][s]=I<<8|I>>>24,i[3][s]=I,I=E*16843009^w*65537^x*257^s*16843008,o[0][m]=I<<24|I>>>8,o[1][m]=I<<16|I>>>16,o[2][m]=I<<8|I>>>24,o[3][m]=I,s===0?s=u=1:(s=x^t[t[t[E^x]]],u^=t[t[u]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function Wu(t){this._key=lK(t),this._reset()}Wu.blockSize=4*4;Wu.keySize=256/8;Wu.prototype.blockSize=Wu.blockSize;Wu.prototype.keySize=Wu.keySize;Wu.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var s=i[o-1];o%e===0?(s=s<<8|s>>>24,s=yo.SBOX[s>>>24]<<24|yo.SBOX[s>>>16&255]<<16|yo.SBOX[s>>>8&255]<<8|yo.SBOX[s&255],s^=$qe[o/e|0]<<24):e>6&&o%e===4&&(s=yo.SBOX[s>>>24]<<24|yo.SBOX[s>>>16&255]<<16|yo.SBOX[s>>>8&255]<<8|yo.SBOX[s&255]),i[o]=i[o-e]^s}for(var u=[],l=0;l<n;l++){var m=n-l,x=i[m-(l%4?0:4)];l<4||m<=4?u[l]=x:u[l]=yo.INV_SUB_MIX[0][yo.SBOX[x>>>24]]^yo.INV_SUB_MIX[1][yo.SBOX[x>>>16&255]]^yo.INV_SUB_MIX[2][yo.SBOX[x>>>8&255]]^yo.INV_SUB_MIX[3][yo.SBOX[x&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u};Wu.prototype.encryptBlockRaw=function(t){return t=lK(t),Fue(t,this._keySchedule,yo.SUB_MIX,yo.SBOX,this._nRounds)};Wu.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=CI.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Wu.prototype.decryptBlock=function(t){t=lK(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Fue(t,this._invKeySchedule,yo.INV_SUB_MIX,yo.INV_SBOX,this._nRounds),n=CI.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Wu.prototype.scrub=function(){fK(this._keySchedule),fK(this._invKeySchedule),fK(this._key)};Kue.exports.AES=Wu});var Hue=q((aLt,Vue)=>{d();h();var kx=cr().Buffer,Yqe=kx.alloc(16,0);function Zqe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function que(t){var e=kx.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function a3(t){this.h=t,this.state=kx.alloc(16,0),this.cache=kx.allocUnsafe(0)}a3.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};a3.prototype._multiply=function(){for(var t=Zqe(this.h),e=[0,0,0,0],r,n,i,o=-1;++o<128;){for(n=(this.state[~~(o/8)]&1<<7-o%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=que(e)};a3.prototype.update=function(t){this.cache=kx.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};a3.prototype.final=function(t,e){return this.cache.length&&this.ghash(kx.concat([this.cache,Yqe],16)),this.ghash(que([0,t,0,e])),this.state};Vue.exports=a3});var dK=q((fLt,Wue)=>{d();h();var Qqe=s3(),lc=cr().Buffer,jue=Yh(),Jqe=er(),zue=Hue(),Xqe=Mx(),eVe=oK();function tVe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function rVe(t,e,r){if(e.length===12)return t._finID=lc.concat([e,lc.from([0,0,0,1])]),lc.concat([e,lc.from([0,0,0,2])]);var n=new zue(r),i=e.length,o=i%16;n.update(e),o&&(o=16-o,n.update(lc.alloc(o,0))),n.update(lc.alloc(8,0));var s=i*8,u=lc.alloc(8);u.writeUIntBE(s,0,8),n.update(u),t._finID=n.state;var l=lc.from(t._finID);return eVe(l),l}function fb(t,e,r,n){jue.call(this);var i=lc.alloc(4,0);this._cipher=new Qqe.AES(e);var o=this._cipher.encryptBlock(i);this._ghash=new zue(o),r=rVe(this,r,o),this._prev=lc.from(r),this._cache=lc.allocUnsafe(0),this._secCache=lc.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Jqe(fb,jue);fb.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=lc.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};fb.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Xqe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&tVe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};fb.prototype.getAuthTag=function(){if(this._decrypt||!lc.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};fb.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};fb.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};Wue.exports=fb});var pK=q((hLt,$ue)=>{d();h();var nVe=s3(),hK=cr().Buffer,Gue=Yh(),iVe=er();function BI(t,e,r,n){Gue.call(this),this._cipher=new nVe.AES(e),this._prev=hK.from(r),this._cache=hK.allocUnsafe(0),this._secCache=hK.allocUnsafe(0),this._decrypt=n,this._mode=t}iVe(BI,Gue);BI.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};BI.prototype._final=function(){this._cipher.scrub()};$ue.exports=BI});var c3=q((yLt,Yue)=>{d();h();var lb=cr().Buffer,oVe=dI();function sVe(t,e,r,n){if(lb.isBuffer(t)||(t=lb.from(t,"binary")),e&&(lb.isBuffer(e)||(e=lb.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=lb.alloc(i),s=lb.alloc(n||0),u=lb.alloc(0);i>0||n>0;){var l=new oVe;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var m=0;if(i>0){var x=o.length-i;m=Math.min(i,u.length),u.copy(o,x,0,m),i-=m}if(m<u.length&&n>0){var w=s.length-n,E=Math.min(n,u.length-m);u.copy(s,w,m,m+E),n-=E}}return u.fill(0),{key:o,iv:s}}Yue.exports=sVe});var Xue=q(mK=>{d();h();var Zue=RI(),aVe=dK(),Qh=cr().Buffer,cVe=pK(),Que=Yh(),uVe=s3(),fVe=c3(),lVe=er();function u3(t,e,r){Que.call(this),this._cache=new OI,this._cipher=new uVe.AES(e),this._prev=Qh.from(r),this._mode=t,this._autopadding=!0}lVe(u3,Que);u3.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Qh.concat(n)};var dVe=Qh.alloc(16,16);u3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(dVe))throw this._cipher.scrub(),new Error("data not multiple of block length")};u3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function OI(){this.cache=Qh.allocUnsafe(0)}OI.prototype.add=function(t){this.cache=Qh.concat([this.cache,t])};OI.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};OI.prototype.flush=function(){for(var t=16-this.cache.length,e=Qh.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Qh.concat([this.cache,e])};function Jue(t,e,r){var n=Zue[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Qh.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Qh.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new cVe(n.module,e,r):n.type==="auth"?new aVe(n.module,e,r):new u3(n.module,e,r)}function hVe(t,e){var r=Zue[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=fVe(e,!1,r.key,r.iv);return Jue(t,n.key,n.iv)}mK.createCipheriv=Jue;mK.createCipher=hVe});var nfe=q(yK=>{d();h();var pVe=dK(),Px=cr().Buffer,efe=RI(),mVe=pK(),tfe=Yh(),yVe=s3(),gVe=c3(),bVe=er();function f3(t,e,r){tfe.call(this),this._cache=new DI,this._last=void 0,this._cipher=new yVe.AES(e),this._prev=Px.from(r),this._mode=t,this._autopadding=!0}bVe(f3,tfe);f3.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Px.concat(n)};f3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return vVe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};f3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function DI(){this.cache=Px.allocUnsafe(0)}DI.prototype.add=function(t){this.cache=Px.concat([this.cache,t])};DI.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};DI.prototype.flush=function(){if(this.cache.length)return this.cache};function vVe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function rfe(t,e,r){var n=efe[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Px.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Px.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new mVe(n.module,e,r,!0):n.type==="auth"?new pVe(n.module,e,r,!0):new f3(n.module,e,r)}function xVe(t,e){var r=efe[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=gVe(e,!1,r.key,r.iv);return rfe(t,n.key,n.iv)}yK.createDecipher=xVe;yK.createDecipheriv=rfe});var NI=q(el=>{d();h();var ife=Xue(),ofe=nfe(),wVe=cK();function SVe(){return Object.keys(wVe)}el.createCipher=el.Cipher=ife.createCipher;el.createCipheriv=el.Cipheriv=ife.createCipheriv;el.createDecipher=el.Decipher=ofe.createDecipher;el.createDecipheriv=el.Decipheriv=ofe.createDecipheriv;el.listCiphers=el.getCiphers=SVe});var sfe=q(Jh=>{d();h();Jh["des-ecb"]={key:8,iv:0};Jh["des-cbc"]=Jh.des={key:8,iv:8};Jh["des-ede3-cbc"]=Jh.des3={key:24,iv:8};Jh["des-ede3"]={key:24,iv:0};Jh["des-ede-cbc"]={key:16,iv:8};Jh["des-ede"]={key:16,iv:0}});var lfe=q(tl=>{d();h();var afe=wue(),gK=NI(),Zp=RI(),Xh=sfe(),cfe=c3();function AVe(t,e){t=t.toLowerCase();var r,n;if(Zp[t])r=Zp[t].key,n=Zp[t].iv;else if(Xh[t])r=Xh[t].key*8,n=Xh[t].iv;else throw new TypeError("invalid suite type");var i=cfe(e,!1,r,n);return ufe(t,i.key,i.iv)}function EVe(t,e){t=t.toLowerCase();var r,n;if(Zp[t])r=Zp[t].key,n=Zp[t].iv;else if(Xh[t])r=Xh[t].key*8,n=Xh[t].iv;else throw new TypeError("invalid suite type");var i=cfe(e,!1,r,n);return ffe(t,i.key,i.iv)}function ufe(t,e,r){if(t=t.toLowerCase(),Zp[t])return gK.createCipheriv(t,e,r);if(Xh[t])return new afe({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function ffe(t,e,r){if(t=t.toLowerCase(),Zp[t])return gK.createDecipheriv(t,e,r);if(Xh[t])return new afe({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function _Ve(){return Object.keys(Xh).concat(gK.getCiphers())}tl.createCipher=tl.Cipher=AVe;tl.createCipheriv=tl.Cipheriv=ufe;tl.createDecipher=tl.Decipher=EVe;tl.createDecipheriv=tl.Decipheriv=ffe;tl.listCiphers=tl.getCiphers=_Ve});var vK=q((dfe,bK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof bK>"u"||bK,dfe)});var pfe=q((hfe,xK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof xK>"u"||xK,hfe)});var UI=q((LLt,AK)=>{d();h();var wK;AK.exports=function(e){return wK||(wK=new Qp(null)),wK.generate(e)};function Qp(t){this.rand=t}AK.exports.Rand=Qp;Qp.prototype.generate=function(e){return this._rand(e)};Qp.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Qp.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Qp.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof self=="object"&&(Qp.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(SK=Jp(),typeof SK.randomBytes!="function")throw new Error("Not supported");Qp.prototype._rand=function(e){return SK.randomBytes(e)}}catch{}var SK});var EK=q((qLt,mfe)=>{d();h();var db=pfe(),TVe=UI();function hb(t){this.rand=t||new TVe.Rand}mfe.exports=hb;hb.create=function(e){return new hb(e)};hb.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new db(this.rand.generate(n));while(i.cmp(e)>=0);return i};hb.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};hb.prototype.test=function(e,r,n){var i=e.bitLength(),o=db.mont(e),s=new db(1).toRed(o);r||(r=Math.max(1,i/48|0));for(var u=e.subn(1),l=0;!u.testn(l);l++);for(var m=e.shrn(l),x=u.toRed(o),w=!0;r>0;r--){var E=this._randrange(new db(2),u);n&&n(E);var I=E.toRed(o).redPow(m);if(!(I.cmp(s)===0||I.cmp(x)===0)){for(var M=1;M<l;M++){if(I=I.redSqr(),I.cmp(s)===0)return!1;if(I.cmp(x)===0)break}if(M===l)return!1}}return w};hb.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=db.mont(e),o=new db(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var l=e.shrn(u),m=s.toRed(i);r>0;r--){var x=this._randrange(new db(2),s),w=e.gcd(x);if(w.cmpn(1)!==0)return w;var E=x.toRed(i).redPow(l);if(!(E.cmp(o)===0||E.cmp(m)===0)){for(var I=1;I<u;I++){if(E=E.redSqr(),E.cmp(o)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(m)===0)break}if(I===u)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1}});var PK=q(($Lt,bfe)=>{d();h();var IVe=Wh();bfe.exports=kK;kK.simpleSieve=IK;kK.fermatTest=MK;var Ss=vK(),MVe=new Ss(24),kVe=EK(),yfe=new kVe,PVe=new Ss(1),TK=new Ss(2),RVe=new Ss(5),jLt=new Ss(16),zLt=new Ss(8),CVe=new Ss(10),BVe=new Ss(3),WLt=new Ss(7),OVe=new Ss(11),gfe=new Ss(4),GLt=new Ss(12),_K=null;function DVe(){if(_K!==null)return _K;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),o=0;o<r&&e[o]<=i&&n%e[o]!==0;o++);r!==o&&e[o]<=i||(e[r++]=n)}return _K=e,e}function IK(t){for(var e=DVe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function MK(t){var e=Ss.mont(t);return TK.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function kK(t,e){if(t<16)return e===2||e===5?new Ss([140,123]):new Ss([140,39]);e=new Ss(e);for(var r,n;;){for(r=new Ss(IVe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(PVe),r.testn(1)||r.iadd(TK),e.cmp(TK)){if(!e.cmp(RVe))for(;r.mod(CVe).cmp(BVe);)r.iadd(gfe)}else for(;r.mod(MVe).cmp(OVe);)r.iadd(gfe);if(n=r.shrn(1),IK(n)&&IK(r)&&MK(n)&&MK(r)&&yfe.test(n)&&yfe.test(r))return r}}});var vfe=q((QLt,NVe)=>{NVe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var Afe=q((JLt,Sfe)=>{d();h();var Gu=vK(),UVe=EK(),xfe=new UVe,LVe=new Gu(24),FVe=new Gu(11),KVe=new Gu(10),qVe=new Gu(3),VVe=new Gu(7),wfe=PK(),HVe=Wh();Sfe.exports=e0;function jVe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new Gu(t),this}function zVe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new Gu(t),this}var LI={};function WVe(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in LI)return LI[n];var i=0;if(t.isEven()||!wfe.simpleSieve||!wfe.fermatTest(t)||!xfe.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,LI[n]=i,i;xfe.test(t.shrn(1))||(i+=2);var o;switch(r){case"02":t.mod(LVe).cmp(FVe)&&(i+=8);break;case"05":o=t.mod(KVe),o.cmp(qVe)&&o.cmp(VVe)&&(i+=8);break;default:i+=4}return LI[n]=i,i}function e0(t,e,r){this.setGenerator(e),this.__prime=new Gu(t),this._prime=Gu.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=jVe,this.setPrivateKey=zVe):this._primeCode=8}Object.defineProperty(e0.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=WVe(this.__prime,this.__gen)),this._primeCode}});e0.prototype.generateKeys=function(){return this._priv||(this._priv=new Gu(HVe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};e0.prototype.computeSecret=function(t){t=new Gu(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};e0.prototype.getPublicKey=function(e){return FI(this._pub,e)};e0.prototype.getPrivateKey=function(e){return FI(this._priv,e)};e0.prototype.getPrime=function(t){return FI(this.__prime,t)};e0.prototype.getGenerator=function(t){return FI(this._gen,t)};e0.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new Gu(t),this};function FI(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}});var Tfe=q(Rx=>{d();h();var GVe=PK(),Efe=vfe(),RK=Afe();function $Ve(t){var e=new Buffer(Efe[t].prime,"hex"),r=new Buffer(Efe[t].gen,"hex");return new RK(e,r)}var YVe={binary:!0,hex:!0,base64:!0};function _fe(t,e,r,n){return Buffer.isBuffer(e)||YVe[e]===void 0?_fe(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new RK(GVe(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new RK(t,r,!0)))}Rx.DiffieHellmanGroup=Rx.createDiffieHellmanGroup=Rx.getDiffieHellman=$Ve;Rx.createDiffieHellman=Rx.DiffieHellman=_fe});var CK=q((iFt,Ife)=>{d();h();Ife.exports=IE().EventEmitter});var Bfe=q((aFt,Cfe)=>{"use strict";d();h();function Mfe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mfe(Object(r),!0).forEach(function(n){ZVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mfe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZVe(t,e,r){return e=Rfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rfe(n.key),n)}}function JVe(t,e,r){return e&&Pfe(t.prototype,e),r&&Pfe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rfe(t){var e=XVe(t,"string");return typeof e=="symbol"?e:String(e)}function XVe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eHe=Dn(),KI=eHe.Buffer,tHe=NE(),BK=tHe.inspect,rHe=BK&&BK.custom||"inspect";function nHe(t,e,r){KI.prototype.copy.call(t,e,r)}Cfe.exports=function(){function t(){QVe(this,t),this.head=null,this.tail=null,this.length=0}return JVe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return KI.alloc(0);for(var n=KI.allocUnsafe(r>>>0),i=this.head,o=0;i;)nHe(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(u===s.length?o+=s:o+=s.slice(0,r),r-=u,r===0){u===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=KI.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,u=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,u),r-=u,r===0){u===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(u));break}++o}return this.length-=o,n}},{key:rHe,value:function(r,n){return BK(this,kfe(kfe({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var DK=q((fFt,Dfe)=>{"use strict";d();h();function iHe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(OK,this,t)):process.nextTick(OK,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(qI,r):(r._writableState.errorEmitted=!0,process.nextTick(Ofe,r,o)):process.nextTick(Ofe,r,o):e?(process.nextTick(qI,r),e(o)):process.nextTick(qI,r)}),this)}function Ofe(t,e){OK(t,e),qI(t)}function qI(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function oHe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function OK(t,e){t.emit("error",e)}function sHe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Dfe.exports={destroy:iHe,undestroy:oHe,errorOrDestroy:sHe}});var pb=q((hFt,Lfe)=>{"use strict";d();h();function aHe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ufe={};function $u(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var i=function(o){aHe(s,o);function s(u,l,m){return o.call(this,n(u,l,m))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Ufe[t]=i}function Nfe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function cHe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function uHe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function fHe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}$u("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);$u("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&cHe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(uHe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Nfe(e,"type"));else{var o=fHe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Nfe(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);$u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$u("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});$u("ERR_STREAM_PREMATURE_CLOSE","Premature close");$u("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});$u("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$u("ERR_STREAM_WRITE_AFTER_END","write after end");$u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$u("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);$u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Lfe.exports.codes=Ufe});var NK=q((yFt,Ffe)=>{"use strict";d();h();var lHe=pb().codes.ERR_INVALID_OPT_VALUE;function dHe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function hHe(t,e,r,n){var i=dHe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new lHe(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Ffe.exports={getHighWaterMark:hHe}});var FK=q((vFt,zfe)=>{"use strict";d();h();zfe.exports=Zi;function qfe(t){var e=this;this.next=null,this.entry=null,this.finish=function(){KHe(e,t)}}var Cx;Zi.WritableState=d3;var pHe={deprecate:yF()},Vfe=CK(),HI=Dn().Buffer,mHe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function yHe(t){return HI.from(t)}function gHe(t){return HI.isBuffer(t)||t instanceof mHe}var LK=DK(),bHe=NK(),vHe=bHe.getHighWaterMark,Xp=pb().codes,xHe=Xp.ERR_INVALID_ARG_TYPE,wHe=Xp.ERR_METHOD_NOT_IMPLEMENTED,SHe=Xp.ERR_MULTIPLE_CALLBACK,AHe=Xp.ERR_STREAM_CANNOT_PIPE,EHe=Xp.ERR_STREAM_DESTROYED,_He=Xp.ERR_STREAM_NULL_VALUES,THe=Xp.ERR_STREAM_WRITE_AFTER_END,IHe=Xp.ERR_UNKNOWN_ENCODING,Bx=LK.errorOrDestroy;er()(Zi,Vfe);function MHe(){}function d3(t,e,r){Cx=Cx||mb(),t=t||{},typeof r!="boolean"&&(r=e instanceof Cx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=vHe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){DHe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new qfe(this)}d3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(d3.prototype,"buffer",{get:pHe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var VI;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(VI=Function.prototype[Symbol.hasInstance],Object.defineProperty(Zi,Symbol.hasInstance,{value:function(e){return VI.call(this,e)?!0:this!==Zi?!1:e&&e._writableState instanceof d3}})):VI=function(e){return e instanceof this};function Zi(t){Cx=Cx||mb();var e=this instanceof Cx;if(!e&&!VI.call(Zi,this))return new Zi(t);this._writableState=new d3(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Vfe.call(this)}Zi.prototype.pipe=function(){Bx(this,new AHe)};function kHe(t,e){var r=new THe;Bx(t,r),process.nextTick(e,r)}function PHe(t,e,r,n){var i;return r===null?i=new _He:typeof r!="string"&&!e.objectMode&&(i=new xHe("chunk",["string","Buffer"],r)),i?(Bx(t,i),process.nextTick(n,i),!1):!0}Zi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&gHe(t);return o&&!HI.isBuffer(t)&&(t=yHe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=MHe),n.ending?kHe(this,r):(o||PHe(this,n,t,r))&&(n.pendingcb++,i=CHe(this,n,o,t,e,r)),i};Zi.prototype.cork=function(){this._writableState.corked++};Zi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Hfe(this,t))};Zi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new IHe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Zi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function RHe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=HI.from(e,r)),e}Object.defineProperty(Zi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function CHe(t,e,r,n,i,o){if(!r){var s=RHe(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var m=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else UK(t,e,!1,u,n,i,o);return l}function UK(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new EHe("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function BHe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(l3,t,e),t._writableState.errorEmitted=!0,Bx(t,n)):(i(n),t._writableState.errorEmitted=!0,Bx(t,n),l3(t,e))}function OHe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function DHe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new SHe;if(OHe(r),e)BHe(t,r,n,e,i);else{var o=jfe(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Hfe(t,r),n?process.nextTick(Kfe,t,r,o,i):Kfe(t,r,o,i)}}function Kfe(t,e,r,n){r||NHe(t,e),e.pendingcb--,n(),l3(t,e)}function NHe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Hfe(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,UK(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new qfe(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,m=r.encoding,x=r.callback,w=e.objectMode?1:l.length;if(UK(t,e,!1,w,l,m,x),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Zi.prototype._write=function(t,e,r){r(new wHe("_write()"))};Zi.prototype._writev=null;Zi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||FHe(this,n,r),this};Object.defineProperty(Zi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jfe(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function UHe(t,e){t._final(function(r){e.pendingcb--,r&&Bx(t,r),e.prefinished=!0,t.emit("prefinish"),l3(t,e)})}function LHe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(UHe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function l3(t,e){var r=jfe(e);if(r&&(LHe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function FHe(t,e,r){e.ending=!0,l3(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function KHe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Zi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Zi.prototype.destroy=LK.destroy;Zi.prototype._undestroy=LK.undestroy;Zi.prototype._destroy=function(t,e){e(t)}});var mb=q((SFt,Gfe)=>{"use strict";d();h();var qHe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Gfe.exports=gd;var Wfe=VK(),qK=FK();er()(gd,Wfe);for(KK=qHe(qK.prototype),jI=0;jI<KK.length;jI++)zI=KK[jI],gd.prototype[zI]||(gd.prototype[zI]=qK.prototype[zI]);var KK,zI,jI;function gd(t){if(!(this instanceof gd))return new gd(t);Wfe.call(this,t),qK.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",VHe)))}Object.defineProperty(gd.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(gd.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(gd.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function VHe(){this._writableState.ended||process.nextTick(HHe,this)}function HHe(t){t.end()}Object.defineProperty(gd.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var WI=q((_Ft,Zfe)=>{"use strict";d();h();var $fe=pb().codes.ERR_STREAM_PREMATURE_CLOSE;function jHe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function zHe(){}function WHe(t){return t.setHeader&&typeof t.abort=="function"}function Yfe(t,e,r){if(typeof e=="function")return Yfe(t,null,e);e||(e={}),r=jHe(r||zHe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,m=function(){n=!1,l=!0,i||r.call(t)},x=function(M){r.call(t,M)},w=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new $fe),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new $fe),r.call(t,M)},E=function(){t.req.on("finish",u)};return WHe(t)?(t.on("complete",u),t.on("abort",w),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",m),t.on("finish",u),e.error!==!1&&t.on("error",x),t.on("close",w),function(){t.removeListener("complete",u),t.removeListener("abort",w),t.removeListener("request",E),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",m),t.removeListener("error",x),t.removeListener("close",w)}}Zfe.exports=Yfe});var Jfe=q((MFt,Qfe)=>{"use strict";d();h();var GI;function em(t,e,r){return e=GHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GHe(t){var e=$He(t,"string");return typeof e=="symbol"?e:String(e)}function $He(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YHe=WI(),tm=Symbol("lastResolve"),yb=Symbol("lastReject"),h3=Symbol("error"),$I=Symbol("ended"),gb=Symbol("lastPromise"),HK=Symbol("handlePromise"),bb=Symbol("stream");function rm(t,e){return{value:t,done:e}}function ZHe(t){var e=t[tm];if(e!==null){var r=t[bb].read();r!==null&&(t[gb]=null,t[tm]=null,t[yb]=null,e(rm(r,!1)))}}function QHe(t){process.nextTick(ZHe,t)}function JHe(t,e){return function(r,n){t.then(function(){if(e[$I]){r(rm(void 0,!0));return}e[HK](r,n)},n)}}var XHe=Object.getPrototypeOf(function(){}),eje=Object.setPrototypeOf((GI={get stream(){return this[bb]},next:function(){var e=this,r=this[h3];if(r!==null)return Promise.reject(r);if(this[$I])return Promise.resolve(rm(void 0,!0));if(this[bb].destroyed)return new Promise(function(s,u){process.nextTick(function(){e[h3]?u(e[h3]):s(rm(void 0,!0))})});var n=this[gb],i;if(n)i=new Promise(JHe(n,this));else{var o=this[bb].read();if(o!==null)return Promise.resolve(rm(o,!1));i=new Promise(this[HK])}return this[gb]=i,i}},em(GI,Symbol.asyncIterator,function(){return this}),em(GI,"return",function(){var e=this;return new Promise(function(r,n){e[bb].destroy(null,function(i){if(i){n(i);return}r(rm(void 0,!0))})})}),GI),XHe),tje=function(e){var r,n=Object.create(eje,(r={},em(r,bb,{value:e,writable:!0}),em(r,tm,{value:null,writable:!0}),em(r,yb,{value:null,writable:!0}),em(r,h3,{value:null,writable:!0}),em(r,$I,{value:e._readableState.endEmitted,writable:!0}),em(r,HK,{value:function(o,s){var u=n[bb].read();u?(n[gb]=null,n[tm]=null,n[yb]=null,o(rm(u,!1))):(n[tm]=o,n[yb]=s)},writable:!0}),r));return n[gb]=null,YHe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[yb];o!==null&&(n[gb]=null,n[tm]=null,n[yb]=null,o(i)),n[h3]=i;return}var s=n[tm];s!==null&&(n[gb]=null,n[tm]=null,n[yb]=null,s(rm(void 0,!0))),n[$I]=!0}),e.on("readable",QHe.bind(null,n)),n};Qfe.exports=tje});var ele=q((RFt,Xfe)=>{d();h();Xfe.exports=function(){throw new Error("Readable.from is not available in the browser")}});var VK=q((DFt,fle)=>{"use strict";d();h();fle.exports=an;var Ox;an.ReadableState=ile;var OFt=IE().EventEmitter,nle=function(e,r){return e.listeners(r).length},m3=CK(),YI=Dn().Buffer,rje=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function nje(t){return YI.from(t)}function ije(t){return YI.isBuffer(t)||t instanceof rje}var jK=NE(),Tr;jK&&jK.debuglog?Tr=jK.debuglog("stream"):Tr=function(){};var oje=Bfe(),QK=DK(),sje=NK(),aje=sje.getHighWaterMark,ZI=pb().codes,cje=ZI.ERR_INVALID_ARG_TYPE,uje=ZI.ERR_STREAM_PUSH_AFTER_EOF,fje=ZI.ERR_METHOD_NOT_IMPLEMENTED,lje=ZI.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Dx,zK,WK;er()(an,m3);var p3=QK.errorOrDestroy,GK=["error","close","destroy","pause","resume"];function dje(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function ile(t,e,r){Ox=Ox||mb(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ox),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=aje(this,t,"readableHighWaterMark",r),this.buffer=new oje,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Dx||(Dx=Ax().StringDecoder),this.decoder=new Dx(t.encoding),this.encoding=t.encoding)}function an(t){if(Ox=Ox||mb(),!(this instanceof an))return new an(t);var e=this instanceof Ox;this._readableState=new ile(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),m3.call(this)}Object.defineProperty(an.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});an.prototype.destroy=QK.destroy;an.prototype._undestroy=QK.undestroy;an.prototype._destroy=function(t,e){e(t)};an.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=YI.from(t,e),e=""),n=!0),ole(this,t,e,!1,n)};an.prototype.unshift=function(t){return ole(this,t,null,!0,!1)};function ole(t,e,r,n,i){Tr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,mje(t,o);else{var s;if(i||(s=hje(o,e)),s)p3(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==YI.prototype&&(e=nje(e)),n)o.endEmitted?p3(t,new lje):$K(t,o,e,!0);else if(o.ended)p3(t,new uje);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?$K(t,o,e,!1):ZK(t,o)):$K(t,o,e,!1)}else n||(o.reading=!1,ZK(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function $K(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&QI(t)),ZK(t,e)}function hje(t,e){var r;return!ije(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new cje("chunk",["string","Buffer","Uint8Array"],e)),r}an.prototype.isPaused=function(){return this._readableState.flowing===!1};an.prototype.setEncoding=function(t){Dx||(Dx=Ax().StringDecoder);var e=new Dx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var tle=1073741824;function pje(t){return t>=tle?t=tle:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function rle(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=pje(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}an.prototype.read=function(t){Tr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Tr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?YK(this):QI(this),null;if(t=rle(t,e),t===0&&e.ended)return e.length===0&&YK(this),null;var n=e.needReadable;Tr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Tr("length less than watermark",n)),e.ended||e.reading?(n=!1,Tr("reading or ended",n)):n&&(Tr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=rle(r,e)));var i;return t>0?i=cle(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&YK(this)),i!==null&&this.emit("data",i),i};function mje(t,e){if(Tr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?QI(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,sle(t)))}}function QI(t){var e=t._readableState;Tr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Tr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(sle,t))}function sle(t){var e=t._readableState;Tr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,JK(t)}function ZK(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(yje,t,e))}function yje(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Tr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}an.prototype._read=function(t){p3(this,new fje("_read()"))};an.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Tr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?u:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(C,R){Tr("onunpipe"),C===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,x())}function u(){Tr("onend"),t.end()}var l=gje(r);t.on("drain",l);var m=!1;function x(){Tr("cleanup"),t.removeListener("close",I),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",k),r.removeListener("data",w),m=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",w);function w(C){Tr("ondata");var R=t.write(C);Tr("dest.write",R),R===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&ule(n.pipes,t)!==-1)&&!m&&(Tr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function E(C){Tr("onerror",C),k(),t.removeListener("error",E),nle(t,"error")===0&&p3(t,C)}dje(t,"error",E);function I(){t.removeListener("finish",M),k()}t.once("close",I);function M(){Tr("onfinish"),t.removeListener("close",I),k()}t.once("finish",M);function k(){Tr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Tr("pipe resume"),r.resume()),t};function gje(t){return function(){var r=t._readableState;Tr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&nle(t,"data")&&(r.flowing=!0,JK(t))}}an.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=ule(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};an.prototype.on=function(t,e){var r=m3.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Tr("on readable",n.length,n.reading),n.length?QI(this):n.reading||process.nextTick(bje,this)),r};an.prototype.addListener=an.prototype.on;an.prototype.removeListener=function(t,e){var r=m3.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(ale,this),r};an.prototype.removeAllListeners=function(t){var e=m3.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(ale,this),e};function ale(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function bje(t){Tr("readable nexttick read 0"),t.read(0)}an.prototype.resume=function(){var t=this._readableState;return t.flowing||(Tr("resume"),t.flowing=!t.readableListening,vje(this,t)),t.paused=!1,this};function vje(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(xje,t,e))}function xje(t,e){Tr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),JK(t),e.flowing&&!e.reading&&t.read(0)}an.prototype.pause=function(){return Tr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Tr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function JK(t){var e=t._readableState;for(Tr("flow",e.flowing);e.flowing&&t.read()!==null;);}an.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Tr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Tr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=e.push(s);u||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(u){return function(){return t[u].apply(t,arguments)}}(i));for(var o=0;o<GK.length;o++)t.on(GK[o],this.emit.bind(this,GK[o]));return this._read=function(s){Tr("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(an.prototype[Symbol.asyncIterator]=function(){return zK===void 0&&(zK=Jfe()),zK(this)});Object.defineProperty(an.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(an.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(an.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});an._fromList=cle;Object.defineProperty(an.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function cle(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function YK(t){var e=t._readableState;Tr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(wje,e,t))}function wje(t,e){if(Tr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(an.from=function(t,e){return WK===void 0&&(WK=ele()),WK(an,t,e)});function ule(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var XK=q((LFt,dle)=>{"use strict";d();h();dle.exports=t0;var JI=pb().codes,Sje=JI.ERR_METHOD_NOT_IMPLEMENTED,Aje=JI.ERR_MULTIPLE_CALLBACK,Eje=JI.ERR_TRANSFORM_ALREADY_TRANSFORMING,_je=JI.ERR_TRANSFORM_WITH_LENGTH_0,XI=mb();er()(t0,XI);function Tje(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Aje);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function t0(t){if(!(this instanceof t0))return new t0(t);XI.call(this,t),this._transformState={afterTransform:Tje.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ije)}function Ije(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){lle(t,e,r)}):lle(this,null,null)}t0.prototype.push=function(t,e){return this._transformState.needTransform=!1,XI.prototype.push.call(this,t,e)};t0.prototype._transform=function(t,e,r){r(new Sje("_transform()"))};t0.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};t0.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};t0.prototype._destroy=function(t,e){XI.prototype._destroy.call(this,t,function(r){e(r)})};function lle(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new _je;if(t._transformState.transforming)throw new Eje;return t.push(null)}});var mle=q((qFt,ple)=>{"use strict";d();h();ple.exports=y3;var hle=XK();er()(y3,hle);function y3(t){if(!(this instanceof y3))return new y3(t);hle.call(this,t)}y3.prototype._transform=function(t,e,r){r(null,t)}});var xle=q((jFt,vle)=>{"use strict";d();h();var eq;function Mje(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var ble=pb().codes,kje=ble.ERR_MISSING_ARGS,Pje=ble.ERR_STREAM_DESTROYED;function yle(t){if(t)throw t}function Rje(t){return t.setHeader&&typeof t.abort=="function"}function Cje(t,e,r,n){n=Mje(n);var i=!1;t.on("close",function(){i=!0}),eq===void 0&&(eq=WI()),eq(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,Rje(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Pje("pipe"))}}}function gle(t){t()}function Bje(t,e){return t.pipe(e)}function Oje(t){return!t.length||typeof t[t.length-1]!="function"?yle:t.pop()}function Dje(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Oje(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new kje("streams");var i,o=e.map(function(s,u){var l=u<e.length-1,m=u>0;return Cje(s,l,m,function(x){i||(i=x),x&&o.forEach(gle),!l&&(o.forEach(gle),n(i))})});return e.reduce(Bje)}vle.exports=Dje});var Sle=q((Yu,wle)=>{d();h();Yu=wle.exports=VK();Yu.Stream=Yu;Yu.Readable=Yu;Yu.Writable=FK();Yu.Duplex=mb();Yu.Transform=XK();Yu.PassThrough=mle();Yu.finished=WI();Yu.pipeline=xle()});var eM=q((YFt,_le)=>{d();h();var Nx=Yg(),Nje=Wh();function Uje(t){var e=Ale(t),r=e.toRed(Nx.mont(t.modulus)).redPow(new Nx(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function Ale(t){var e=t.modulus.byteLength(),r;do r=new Nx(Nje(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function Ele(t,e){var r=Uje(e),n=e.modulus.byteLength(),i=new Nx(t).mul(r.blinder).umod(e.modulus),o=i.toRed(Nx.mont(e.prime1)),s=i.toRed(Nx.mont(e.prime2)),u=e.coefficient,l=e.prime1,m=e.prime2,x=o.redPow(e.exponent1).fromRed(),w=s.redPow(e.exponent2).fromRed(),E=x.isub(w).imul(u).umod(l).imul(m);return w.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}Ele.getr=Ale;_le.exports=Ele});var Tle=q((JFt,Lje)=>{Lje.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var bd=q((Ile,tq)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof tq>"u"||tq,Ile)});var rq=q(Ple=>{"use strict";d();h();var tM=Ple;function Fje(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=i&255;o?r.push(o,s):r.push(s)}return r}tM.toArray=Fje;function Mle(t){return t.length===1?"0"+t:t}tM.zero2=Mle;function kle(t){for(var e="",r=0;r<t.length;r++)e+=Mle(t[r].toString(16));return e}tM.toHex=kle;tM.encode=function(e,r){return r==="hex"?kle(e):e}});var Jc=q(Rle=>{"use strict";d();h();var rl=Rle,Kje=bd(),qje=Qc(),rM=rq();rl.assert=qje;rl.toArray=rM.toArray;rl.zero2=rM.zero2;rl.toHex=rM.toHex;rl.encode=rM.encode;function Vje(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var o=1<<e+1,s=t.clone();for(i=0;i<n.length;i++){var u,l=s.andln(o-1);s.isOdd()?(l>(o>>1)-1?u=(o>>1)-l:u=l,s.isubn(u)):u=0,n[i]=u,s.iushrn(1)}return n}rl.getNAF=Vje;function Hje(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,o;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,u=e.andln(3)+i&3;s===3&&(s=-1),u===3&&(u=-1);var l;s&1?(o=t.andln(7)+n&7,(o===3||o===5)&&u===2?l=-s:l=s):l=0,r[0].push(l);var m;u&1?(o=e.andln(7)+i&7,(o===3||o===5)&&s===2?m=-u:m=u):m=0,r[1].push(m),2*n===l+1&&(n=1-n),2*i===m+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}rl.getJSF=Hje;function jje(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}rl.cachedProperty=jje;function zje(t){return typeof t=="string"?rl.toArray(t,"hex"):t}rl.parseBytes=zje;function Wje(t){return new Kje(t,"hex","le")}rl.intFromLE=Wje});var b3=q((aKt,Cle)=>{"use strict";d();h();var vb=bd(),g3=Jc(),nM=g3.getNAF,Gje=g3.getJSF,iM=g3.assert;function nm(t,e){this.type=t,this.p=new vb(e.p,16),this.red=e.prime?vb.red(e.prime):vb.mont(this.p),this.zero=new vb(0).toRed(this.red),this.one=new vb(1).toRed(this.red),this.two=new vb(2).toRed(this.red),this.n=e.n&&new vb(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Cle.exports=nm;nm.prototype.point=function(){throw new Error("Not implemented")};nm.prototype.validate=function(){throw new Error("Not implemented")};nm.prototype._fixedNafMul=function(e,r){iM(e.precomputed);var n=e._getDoubles(),i=nM(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],u,l;for(u=0;u<i.length;u+=n.step){l=0;for(var m=u+n.step-1;m>=u;m--)l=(l<<1)+i[m];s.push(l)}for(var x=this.jpoint(null,null,null),w=this.jpoint(null,null,null),E=o;E>0;E--){for(u=0;u<s.length;u++)l=s[u],l===E?w=w.mixedAdd(n.points[u]):l===-E&&(w=w.mixedAdd(n.points[u].neg()));x=x.add(w)}return x.toP()};nm.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=nM(r,n,this._bitLength),u=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var m=0;l>=0&&s[l]===0;l--)m++;if(l>=0&&m++,u=u.dblp(m),l<0)break;var x=s[l];iM(x!==0),e.type==="affine"?x>0?u=u.mixedAdd(o[x-1>>1]):u=u.mixedAdd(o[-x-1>>1].neg()):x>0?u=u.add(o[x-1>>1]):u=u.add(o[-x-1>>1].neg())}return e.type==="affine"?u.toP():u};nm.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,u=this._wnafT2,l=this._wnafT3,m=0,x,w,E;for(x=0;x<i;x++){E=r[x];var I=E._getNAFPoints(e);s[x]=I.wnd,u[x]=I.points}for(x=i-1;x>=1;x-=2){var M=x-1,k=x;if(s[M]!==1||s[k]!==1){l[M]=nM(n[M],s[M],this._bitLength),l[k]=nM(n[k],s[k],this._bitLength),m=Math.max(l[M].length,m),m=Math.max(l[k].length,m);continue}var C=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(C[1]=r[M].add(r[k]),C[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(C[1]=r[M].toJ().mixedAdd(r[k]),C[2]=r[M].add(r[k].neg())):(C[1]=r[M].toJ().mixedAdd(r[k]),C[2]=r[M].toJ().mixedAdd(r[k].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],L=Gje(n[M],n[k]);for(m=Math.max(L[0].length,m),l[M]=new Array(m),l[k]=new Array(m),w=0;w<m;w++){var P=L[0][w]|0,K=L[1][w]|0;l[M][w]=R[(P+1)*3+(K+1)],l[k][w]=0,u[M]=C}}var V=this.jpoint(null,null,null),j=this._wnafT4;for(x=m;x>=0;x--){for(var ne=0;x>=0;){var J=!0;for(w=0;w<i;w++)j[w]=l[w][x]|0,j[w]!==0&&(J=!1);if(!J)break;ne++,x--}if(x>=0&&ne++,V=V.dblp(ne),x<0)break;for(w=0;w<i;w++){var oe=j[w];oe!==0&&(oe>0?E=u[w][oe-1>>1]:oe<0&&(E=u[w][-oe-1>>1].neg()),E.type==="affine"?V=V.mixedAdd(E):V=V.add(E))}}for(x=0;x<i;x++)u[x]=null;return o?V:V.toP()};function Zu(t,e){this.curve=t,this.type=e,this.precomputed=null}nm.BasePoint=Zu;Zu.prototype.eq=function(){throw new Error("Not implemented")};Zu.prototype.validate=function(){return this.curve.validate(this)};nm.prototype.decodePoint=function(e,r){e=g3.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?iM(e[e.length-1]%2===0):e[0]===7&&iM(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Zu.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Zu.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Zu.prototype.encode=function(e,r){return g3.encode(this._encode(r),e)};Zu.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Zu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Zu.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Zu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};Zu.prototype._getBeta=function(){return null};Zu.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var Ole=q((fKt,Ble)=>{"use strict";d();h();var $je=Jc(),Qi=bd(),nq=er(),Ux=b3(),Yje=$je.assert;function Qu(t){Ux.call(this,"short",t),this.a=new Qi(t.a,16).toRed(this.red),this.b=new Qi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}nq(Qu,Ux);Ble.exports=Qu;Qu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Qi(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Qi(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],Yje(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(u){return{a:new Qi(u.a,16),b:new Qi(u.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Qu.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Qi.mont(e),n=new Qi(2).toRed(r).redInvm(),i=n.redNeg(),o=new Qi(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),u=i.redSub(o).fromRed();return[s,u]};Qu.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Qi(1),s=new Qi(0),u=new Qi(0),l=new Qi(1),m,x,w,E,I,M,k,C=0,R,L;n.cmpn(0)!==0;){var P=i.div(n);R=i.sub(P.mul(n)),L=u.sub(P.mul(o));var K=l.sub(P.mul(s));if(!w&&R.cmp(r)<0)m=k.neg(),x=o,w=R.neg(),E=L;else if(w&&++C===2)break;k=R,i=n,n=R,u=o,o=L,l=s,s=K}I=R.neg(),M=L;var V=w.sqr().add(E.sqr()),j=I.sqr().add(M.sqr());return j.cmp(V)>=0&&(I=m,M=x),w.negative&&(w=w.neg(),E=E.neg()),I.negative&&(I=I.neg(),M=M.neg()),[{a:w,b:E},{a:I,b:M}]};Qu.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),u=o.mul(n.a),l=s.mul(i.a),m=o.mul(n.b),x=s.mul(i.b),w=e.sub(u).sub(l),E=m.add(x).neg();return{k1:w,k2:E}};Qu.prototype.pointFromX=function(e,r){e=new Qi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Qu.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Qu.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var u=this._endoSplit(r[s]),l=e[s],m=l._getBeta();u.k1.negative&&(u.k1.ineg(),l=l.neg(!0)),u.k2.negative&&(u.k2.ineg(),m=m.neg(!0)),i[s*2]=l,i[s*2+1]=m,o[s*2]=u.k1,o[s*2+1]=u.k2}for(var x=this._wnafMulAdd(1,i,o,s*2,n),w=0;w<s*2;w++)i[w]=null,o[w]=null;return x};function ts(t,e,r,n){Ux.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Qi(e,16),this.y=new Qi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}nq(ts,Ux.BasePoint);Qu.prototype.point=function(e,r,n){return new ts(this,e,r,n)};Qu.prototype.pointFromJSON=function(e,r){return ts.fromJSON(this,e,r)};ts.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ts.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ts.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(u){return e.point(u[0],u[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};ts.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ts.prototype.isInfinity=function(){return this.inf};ts.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ts.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),u=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)};ts.prototype.getX=function(){return this.x.fromRed()};ts.prototype.getY=function(){return this.y.fromRed()};ts.prototype.mul=function(e){return e=new Qi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ts.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};ts.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};ts.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ts.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ts.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function As(t,e,r,n){Ux.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Qi(0)):(this.x=new Qi(e,16),this.y=new Qi(r,16),this.z=new Qi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}nq(As,Ux.BasePoint);Qu.prototype.jpoint=function(e,r,n){return new As(this,e,r,n)};As.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};As.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};As.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),m=s.redSub(u);if(l.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=l.redSqr(),w=x.redMul(l),E=i.redMul(x),I=m.redSqr().redIAdd(w).redISub(E).redISub(E),M=m.redMul(E.redISub(I)).redISub(s.redMul(w)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,M,k)};As.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),u=n.redSub(i),l=o.redSub(s);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=u.redSqr(),x=m.redMul(u),w=n.redMul(m),E=l.redSqr().redIAdd(x).redISub(w).redISub(w),I=l.redMul(w.redISub(E)).redISub(o.redMul(x)),M=this.z.redMul(u);return this.curve.jpoint(E,I,M)};As.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,u=this.y,l=this.z,m=l.redSqr().redSqr(),x=u.redAdd(u);for(r=0;r<e;r++){var w=s.redSqr(),E=x.redSqr(),I=E.redSqr(),M=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(m)),k=s.redMul(E),C=M.redSqr().redISub(k.redAdd(k)),R=k.redISub(C),L=M.redMul(R);L=L.redIAdd(L).redISub(I);var P=x.redMul(l);r+1<e&&(m=m.redMul(I)),s=C,l=P,x=L}return this.curve.jpoint(s,x.redMul(o),l)};As.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};As.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i),m=l.redSqr().redISub(u).redISub(u),x=s.redIAdd(s);x=x.redIAdd(x),x=x.redIAdd(x),e=m,r=l.redMul(u.redISub(m)).redISub(x),n=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(w).redISub(I);M=M.redIAdd(M);var k=w.redAdd(w).redIAdd(w),C=k.redSqr(),R=I.redIAdd(I);R=R.redIAdd(R),R=R.redIAdd(R),e=C.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};As.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=l.redSqr().redISub(u).redISub(u);e=m;var x=s.redIAdd(s);x=x.redIAdd(x),x=x.redIAdd(x),r=l.redMul(u.redISub(m)).redISub(x),n=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),M=this.x.redSub(w).redMul(this.x.redAdd(w));M=M.redAdd(M).redIAdd(M);var k=I.redIAdd(I);k=k.redIAdd(k);var C=k.redAdd(k);e=M.redSqr().redISub(C),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(w);var R=E.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=M.redMul(k.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};As.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),u=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),m=r.redAdd(r);m=m.redIAdd(m);var x=m.redMul(u),w=l.redSqr().redISub(x.redAdd(x)),E=x.redISub(w),I=u.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=l.redMul(E).redISub(I),k=n.redAdd(n).redMul(i);return this.curve.jpoint(w,M,k)};As.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(s);var l=u.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var x=o.redIAdd(u).redSqr().redISub(s).redISub(l).redISub(m),w=r.redMul(x);w=w.redIAdd(w),w=w.redIAdd(w);var E=this.x.redMul(l).redISub(w);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(x.redMul(m.redISub(x)).redISub(u.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=this.z.redAdd(u).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,M)};As.prototype.mul=function(e,r){return e=new Qi(e,r),this.curve._wnafMul(this,e)};As.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};As.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};As.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};As.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var Ule=q((hKt,Nle)=>{"use strict";d();h();var Lx=bd(),Dle=er(),oM=b3(),Zje=Jc();function Fx(t){oM.call(this,"mont",t),this.a=new Lx(t.a,16).toRed(this.red),this.b=new Lx(t.b,16).toRed(this.red),this.i4=new Lx(4).toRed(this.red).redInvm(),this.two=new Lx(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Dle(Fx,oM);Nle.exports=Fx;Fx.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function rs(t,e,r){oM.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Lx(e,16),this.z=new Lx(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Dle(rs,oM.BasePoint);Fx.prototype.decodePoint=function(e,r){return this.point(Zje.toArray(e,r),1)};Fx.prototype.point=function(e,r){return new rs(this,e,r)};Fx.prototype.pointFromJSON=function(e){return rs.fromJSON(this,e)};rs.prototype.precompute=function(){};rs.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};rs.fromJSON=function(e,r){return new rs(e,r[0],r[1]||e.one)};rs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};rs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};rs.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),s=r.redMul(i),u=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,u)};rs.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};rs.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),u=s.redMul(n),l=o.redMul(i),m=r.z.redMul(u.redAdd(l).redSqr()),x=r.x.redMul(u.redISub(l).redSqr());return this.curve.point(m,x)};rs.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var u=s.length-1;u>=0;u--)s[u]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};rs.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};rs.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};rs.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};rs.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};rs.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var Kle=q((yKt,Fle)=>{"use strict";d();h();var Qje=Jc(),r0=bd(),Lle=er(),sM=b3(),Jje=Qje.assert;function vd(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,sM.call(this,"edwards",t),this.a=new r0(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r0(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r0(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Jje(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Lle(vd,sM);Fle.exports=vd;vd.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};vd.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};vd.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};vd.prototype.pointFromX=function(e,r){e=new r0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),u=s.redSqrt();if(u.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var l=u.fromRed().isOdd();return(r&&!l||!r&&l)&&(u=u.redNeg()),this.point(e,u)};vd.prototype.pointFromY=function(e,r){e=new r0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var u=s.redSqrt();if(u.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,e)};vd.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function ii(t,e,r,n,i){sM.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r0(e,16),this.y=new r0(r,16),this.z=n?new r0(n,16):this.curve.one,this.t=i&&new r0(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Lle(ii,sM.BasePoint);vd.prototype.pointFromJSON=function(e){return ii.fromJSON(this,e)};vd.prototype.point=function(e,r,n,i){return new ii(this,e,r,n,i)};ii.fromJSON=function(e,r){return new ii(e,r[0],r[1],r[2])};ii.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ii.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ii.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),u=s.redSub(n),l=i.redSub(r),m=o.redMul(u),x=s.redMul(l),w=o.redMul(l),E=u.redMul(s);return this.curve.point(m,x,E,w)};ii.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,s,u,l,m;if(this.curve.twisted){u=this.curve._mulA(r);var x=u.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(x.redSub(this.curve.two)),o=x.redMul(u.redSub(n)),s=x.redSqr().redSub(x).redSub(x)):(l=this.z.redSqr(),m=x.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(m),o=x.redMul(u.redSub(n)),s=x.redMul(m))}else u=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),m=u.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(u)).redMul(m),o=this.curve._mulC(u).redMul(r.redISub(n)),s=u.redMul(m);return this.curve.point(i,o,s)};ii.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ii.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),u=o.redSub(i),l=o.redAdd(i),m=n.redAdd(r),x=s.redMul(u),w=l.redMul(m),E=s.redMul(m),I=u.redMul(l);return this.curve.point(x,w,I,E)};ii.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),u=n.redSub(s),l=n.redAdd(s),m=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),x=r.redMul(u).redMul(m),w,E;return this.curve.twisted?(w=r.redMul(l).redMul(o.redSub(this.curve._mulA(i))),E=u.redMul(l)):(w=r.redMul(l).redMul(o.redSub(i)),E=this.curve._mulC(u).redMul(l)),this.curve.point(x,w,E)};ii.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};ii.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};ii.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};ii.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};ii.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};ii.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ii.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ii.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ii.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};ii.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};ii.prototype.toP=ii.prototype.normalize;ii.prototype.mixedAdd=ii.prototype.add});var iq=q(qle=>{"use strict";d();h();var aM=qle;aM.base=b3();aM.short=Ole();aM.mont=Ule();aM.edwards=Kle()});var nl=q(Qn=>{"use strict";d();h();var Xje=Qc(),eze=er();Qn.inherits=eze;function tze(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function rze(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):tze(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Qn.toArray=rze;function nze(t){for(var e="",r=0;r<t.length;r++)e+=Hle(t[r].toString(16));return e}Qn.toHex=nze;function Vle(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Qn.htonl=Vle;function ize(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Vle(i)),r+=jle(i.toString(16))}return r}Qn.toHex32=ize;function Hle(t){return t.length===1?"0"+t:t}Qn.zero2=Hle;function jle(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Qn.zero8=jle;function oze(t,e,r,n){var i=r-e;Xje(i%4===0);for(var o=new Array(i/4),s=0,u=e;s<o.length;s++,u+=4){var l;n==="big"?l=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:l=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[s]=l>>>0}return o}Qn.join32=oze;function sze(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}Qn.split32=sze;function aze(t,e){return t>>>e|t<<32-e}Qn.rotr32=aze;function cze(t,e){return t<<e|t>>>32-e}Qn.rotl32=cze;function uze(t,e){return t+e>>>0}Qn.sum32=uze;function fze(t,e,r){return t+e+r>>>0}Qn.sum32_3=fze;function lze(t,e,r,n){return t+e+r+n>>>0}Qn.sum32_4=lze;function dze(t,e,r,n,i){return t+e+r+n+i>>>0}Qn.sum32_5=dze;function hze(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,u=(s<n?1:0)+r+i;t[e]=u>>>0,t[e+1]=s}Qn.sum64=hze;function pze(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}Qn.sum64_hi=pze;function mze(t,e,r,n){var i=e+n;return i>>>0}Qn.sum64_lo=mze;function yze(t,e,r,n,i,o,s,u){var l=0,m=e;m=m+n>>>0,l+=m<e?1:0,m=m+o>>>0,l+=m<o?1:0,m=m+u>>>0,l+=m<u?1:0;var x=t+r+i+s+l;return x>>>0}Qn.sum64_4_hi=yze;function gze(t,e,r,n,i,o,s,u){var l=e+n+o+u;return l>>>0}Qn.sum64_4_lo=gze;function bze(t,e,r,n,i,o,s,u,l,m){var x=0,w=e;w=w+n>>>0,x+=w<e?1:0,w=w+o>>>0,x+=w<o?1:0,w=w+u>>>0,x+=w<u?1:0,w=w+m>>>0,x+=w<m?1:0;var E=t+r+i+s+l+x;return E>>>0}Qn.sum64_5_hi=bze;function vze(t,e,r,n,i,o,s,u,l,m){var x=e+n+o+u+m;return x>>>0}Qn.sum64_5_lo=vze;function xze(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Qn.rotr64_hi=xze;function wze(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Qn.rotr64_lo=wze;function Sze(t,e,r){return t>>>r}Qn.shr64_hi=Sze;function Aze(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Qn.shr64_lo=Aze});var Kx=q(Wle=>{"use strict";d();h();var zle=nl(),Eze=Qc();function cM(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Wle.BlockHash=cM;cM.prototype.update=function(e,r){if(e=zle.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=zle.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};cM.prototype.digest=function(e){return this.update(this._pad()),Eze(this.pending===null),this._digest(e)};cM.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i}});var oq=q(n0=>{"use strict";d();h();var _ze=nl(),xd=_ze.rotr32;function Tze(t,e,r,n){if(t===0)return Gle(e,r,n);if(t===1||t===3)return Yle(e,r,n);if(t===2)return $le(e,r,n)}n0.ft_1=Tze;function Gle(t,e,r){return t&e^~t&r}n0.ch32=Gle;function $le(t,e,r){return t&e^t&r^e&r}n0.maj32=$le;function Yle(t,e,r){return t^e^r}n0.p32=Yle;function Ize(t){return xd(t,2)^xd(t,13)^xd(t,22)}n0.s0_256=Ize;function Mze(t){return xd(t,6)^xd(t,11)^xd(t,25)}n0.s1_256=Mze;function kze(t){return xd(t,7)^xd(t,18)^t>>>3}n0.g0_256=kze;function Pze(t){return xd(t,17)^xd(t,19)^t>>>10}n0.g1_256=Pze});var Jle=q((RKt,Qle)=>{"use strict";d();h();var qx=nl(),Rze=Kx(),Cze=oq(),sq=qx.rotl32,v3=qx.sum32,Bze=qx.sum32_5,Oze=Cze.ft_1,Zle=Rze.BlockHash,Dze=[1518500249,1859775393,2400959708,3395469782];function wd(){if(!(this instanceof wd))return new wd;Zle.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}qx.inherits(wd,Zle);Qle.exports=wd;wd.blockSize=512;wd.outSize=160;wd.hmacStrength=80;wd.padLength=64;wd.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=sq(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],u=this.h[2],l=this.h[3],m=this.h[4];for(i=0;i<n.length;i++){var x=~~(i/20),w=Bze(sq(o,5),Oze(x,s,u,l),m,n[i],Dze[x]);m=l,l=u,u=sq(s,30),s=o,o=w}this.h[0]=v3(this.h[0],o),this.h[1]=v3(this.h[1],s),this.h[2]=v3(this.h[2],u),this.h[3]=v3(this.h[3],l),this.h[4]=v3(this.h[4],m)};wd.prototype._digest=function(e){return e==="hex"?qx.toHex32(this.h,"big"):qx.split32(this.h,"big")}});var aq=q((OKt,ede)=>{"use strict";d();h();var Vx=nl(),Nze=Kx(),Hx=oq(),Uze=Qc(),il=Vx.sum32,Lze=Vx.sum32_4,Fze=Vx.sum32_5,Kze=Hx.ch32,qze=Hx.maj32,Vze=Hx.s0_256,Hze=Hx.s1_256,jze=Hx.g0_256,zze=Hx.g1_256,Xle=Nze.BlockHash,Wze=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sd(){if(!(this instanceof Sd))return new Sd;Xle.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Wze,this.W=new Array(64)}Vx.inherits(Sd,Xle);ede.exports=Sd;Sd.blockSize=512;Sd.outSize=256;Sd.hmacStrength=192;Sd.padLength=64;Sd.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Lze(zze(n[i-2]),n[i-7],jze(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],u=this.h[2],l=this.h[3],m=this.h[4],x=this.h[5],w=this.h[6],E=this.h[7];for(Uze(this.k.length===n.length),i=0;i<n.length;i++){var I=Fze(E,Hze(m),Kze(m,x,w),this.k[i],n[i]),M=il(Vze(o),qze(o,s,u));E=w,w=x,x=m,m=il(l,I),l=u,u=s,s=o,o=il(I,M)}this.h[0]=il(this.h[0],o),this.h[1]=il(this.h[1],s),this.h[2]=il(this.h[2],u),this.h[3]=il(this.h[3],l),this.h[4]=il(this.h[4],m),this.h[5]=il(this.h[5],x),this.h[6]=il(this.h[6],w),this.h[7]=il(this.h[7],E)};Sd.prototype._digest=function(e){return e==="hex"?Vx.toHex32(this.h,"big"):Vx.split32(this.h,"big")}});var nde=q((UKt,rde)=>{"use strict";d();h();var cq=nl(),tde=aq();function i0(){if(!(this instanceof i0))return new i0;tde.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}cq.inherits(i0,tde);rde.exports=i0;i0.blockSize=512;i0.outSize=224;i0.hmacStrength=192;i0.padLength=64;i0.prototype._digest=function(e){return e==="hex"?cq.toHex32(this.h.slice(0,7),"big"):cq.split32(this.h.slice(0,7),"big")}});var lq=q((KKt,ade)=>{"use strict";d();h();var dc=nl(),Gze=Kx(),$ze=Qc(),Ad=dc.rotr64_hi,Ed=dc.rotr64_lo,ide=dc.shr64_hi,ode=dc.shr64_lo,im=dc.sum64,uq=dc.sum64_hi,fq=dc.sum64_lo,Yze=dc.sum64_4_hi,Zze=dc.sum64_4_lo,Qze=dc.sum64_5_hi,Jze=dc.sum64_5_lo,sde=Gze.BlockHash,Xze=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ol(){if(!(this instanceof ol))return new ol;sde.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Xze,this.W=new Array(160)}dc.inherits(ol,sde);ade.exports=ol;ol.blockSize=1024;ol.outSize=512;ol.hmacStrength=192;ol.padLength=128;ol.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=fWe(n[i-4],n[i-3]),s=lWe(n[i-4],n[i-3]),u=n[i-14],l=n[i-13],m=cWe(n[i-30],n[i-29]),x=uWe(n[i-30],n[i-29]),w=n[i-32],E=n[i-31];n[i]=Yze(o,s,u,l,m,x,w,E),n[i+1]=Zze(o,s,u,l,m,x,w,E)}};ol.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],u=this.h[3],l=this.h[4],m=this.h[5],x=this.h[6],w=this.h[7],E=this.h[8],I=this.h[9],M=this.h[10],k=this.h[11],C=this.h[12],R=this.h[13],L=this.h[14],P=this.h[15];$ze(this.k.length===n.length);for(var K=0;K<n.length;K+=2){var V=L,j=P,ne=sWe(E,I),J=aWe(E,I),oe=eWe(E,I,M,k,C,R),S=tWe(E,I,M,k,C,R),a=this.k[K],f=this.k[K+1],p=n[K],y=n[K+1],g=Qze(V,j,ne,J,oe,S,a,f,p,y),A=Jze(V,j,ne,J,oe,S,a,f,p,y);V=iWe(i,o),j=oWe(i,o),ne=rWe(i,o,s,u,l,m),J=nWe(i,o,s,u,l,m);var _=uq(V,j,ne,J),b=fq(V,j,ne,J);L=C,P=R,C=M,R=k,M=E,k=I,E=uq(x,w,g,A),I=fq(w,w,g,A),x=l,w=m,l=s,m=u,s=i,u=o,i=uq(g,A,_,b),o=fq(g,A,_,b)}im(this.h,0,i,o),im(this.h,2,s,u),im(this.h,4,l,m),im(this.h,6,x,w),im(this.h,8,E,I),im(this.h,10,M,k),im(this.h,12,C,R),im(this.h,14,L,P)};ol.prototype._digest=function(e){return e==="hex"?dc.toHex32(this.h,"big"):dc.split32(this.h,"big")};function eWe(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function tWe(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function rWe(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function nWe(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function iWe(t,e){var r=Ad(t,e,28),n=Ad(e,t,2),i=Ad(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function oWe(t,e){var r=Ed(t,e,28),n=Ed(e,t,2),i=Ed(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function sWe(t,e){var r=Ad(t,e,14),n=Ad(t,e,18),i=Ad(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function aWe(t,e){var r=Ed(t,e,14),n=Ed(t,e,18),i=Ed(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function cWe(t,e){var r=Ad(t,e,1),n=Ad(t,e,8),i=ide(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function uWe(t,e){var r=Ed(t,e,1),n=Ed(t,e,8),i=ode(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function fWe(t,e){var r=Ad(t,e,19),n=Ad(e,t,29),i=ide(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function lWe(t,e){var r=Ed(t,e,19),n=Ed(e,t,29),i=ode(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}});var fde=q((HKt,ude)=>{"use strict";d();h();var dq=nl(),cde=lq();function o0(){if(!(this instanceof o0))return new o0;cde.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}dq.inherits(o0,cde);ude.exports=o0;o0.blockSize=1024;o0.outSize=384;o0.hmacStrength=192;o0.padLength=128;o0.prototype._digest=function(e){return e==="hex"?dq.toHex32(this.h.slice(0,12),"big"):dq.split32(this.h.slice(0,12),"big")}});var lde=q(jx=>{"use strict";d();h();jx.sha1=Jle();jx.sha224=nde();jx.sha256=aq();jx.sha384=fde();jx.sha512=lq()});var gde=q(yde=>{"use strict";d();h();var xb=nl(),dWe=Kx(),uM=xb.rotl32,dde=xb.sum32,x3=xb.sum32_3,hde=xb.sum32_4,mde=dWe.BlockHash;function _d(){if(!(this instanceof _d))return new _d;mde.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}xb.inherits(_d,mde);yde.ripemd160=_d;_d.blockSize=512;_d.outSize=160;_d.hmacStrength=192;_d.padLength=64;_d.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],l=n,m=i,x=o,w=s,E=u,I=0;I<80;I++){var M=dde(uM(hde(n,pde(I,i,o,s),e[mWe[I]+r],hWe(I)),gWe[I]),u);n=u,u=s,s=uM(o,10),o=i,i=M,M=dde(uM(hde(l,pde(79-I,m,x,w),e[yWe[I]+r],pWe(I)),bWe[I]),E),l=E,E=w,w=uM(x,10),x=m,m=M}M=x3(this.h[1],o,w),this.h[1]=x3(this.h[2],s,E),this.h[2]=x3(this.h[3],u,l),this.h[3]=x3(this.h[4],n,m),this.h[4]=x3(this.h[0],i,x),this.h[0]=M};_d.prototype._digest=function(e){return e==="hex"?xb.toHex32(this.h,"little"):xb.split32(this.h,"little")};function pde(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function hWe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function pWe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var mWe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],yWe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gWe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bWe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var vde=q((JKt,bde)=>{"use strict";d();h();var vWe=nl(),xWe=Qc();function zx(t,e,r){if(!(this instanceof zx))return new zx(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(vWe.toArray(e,r))}bde.exports=zx;zx.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),xWe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};zx.prototype.update=function(e,r){return this.inner.update(e,r),this};zx.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Wx=q(xde=>{d();h();var Es=xde;Es.utils=nl();Es.common=Kx();Es.sha=lde();Es.ripemd=gde();Es.hmac=vde();Es.sha1=Es.sha.sha1;Es.sha256=Es.sha.sha256;Es.sha224=Es.sha.sha224;Es.sha384=Es.sha.sha384;Es.sha512=Es.sha.sha512;Es.ripemd160=Es.ripemd.ripemd160});var Sde=q((iqt,wde)=>{d();h();wde.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var fM=q(_de=>{"use strict";d();h();var pq=_de,om=Wx(),hq=iq(),wWe=Jc(),Ade=wWe.assert;function Ede(t){t.type==="short"?this.curve=new hq.short(t):t.type==="edwards"?this.curve=new hq.edwards(t):this.curve=new hq.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Ade(this.g.validate(),"Invalid curve"),Ade(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}pq.PresetCurve=Ede;function sm(t,e){Object.defineProperty(pq,t,{configurable:!0,enumerable:!0,get:function(){var r=new Ede(e);return Object.defineProperty(pq,t,{configurable:!0,enumerable:!0,value:r}),r}})}sm("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:om.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});sm("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:om.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});sm("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:om.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});sm("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:om.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});sm("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:om.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});sm("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:om.sha256,gRed:!1,g:["9"]});sm("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:om.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var mq;try{mq=Sde()}catch{mq=void 0}sm("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:om.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",mq]})});var Mde=q((fqt,Ide)=>{"use strict";d();h();var SWe=Wx(),wb=rq(),Tde=Qc();function am(t){if(!(this instanceof am))return new am(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wb.toArray(t.entropy,t.entropyEnc||"hex"),r=wb.toArray(t.nonce,t.nonceEnc||"hex"),n=wb.toArray(t.pers,t.persEnc||"hex");Tde(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}Ide.exports=am;am.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};am.prototype._hmac=function(){return new SWe.hmac(this.hash,this.K)};am.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};am.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=wb.toArray(e,r),n=wb.toArray(n,i),Tde(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};am.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=wb.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,wb.encode(s,r)}});var Pde=q((hqt,kde)=>{"use strict";d();h();var AWe=bd(),EWe=Jc(),yq=EWe.assert;function ra(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}kde.exports=ra;ra.fromPublic=function(e,r,n){return r instanceof ra?r:new ra(e,{pub:r,pubEnc:n})};ra.fromPrivate=function(e,r,n){return r instanceof ra?r:new ra(e,{priv:r,privEnc:n})};ra.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ra.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ra.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ra.prototype._importPrivate=function(e,r){this.priv=new AWe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ra.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?yq(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&yq(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ra.prototype.derive=function(e){return e.validate()||yq(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ra.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ra.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ra.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Bde=q((yqt,Cde)=>{"use strict";d();h();var lM=bd(),vq=Jc(),_We=vq.assert;function dM(t,e){if(t instanceof dM)return t;this._importDER(t,e)||(_We(t.r&&t.s,"Signature without r or s"),this.r=new lM(t.r,16),this.s=new lM(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Cde.exports=dM;function TWe(){this.place=0}function gq(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Rde(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}dM.prototype._importDER=function(e,r){e=vq.toArray(e,r);var n=new TWe;if(e[n.place++]!==48)return!1;var i=gq(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=gq(e,n);if(o===!1||e[n.place]&128)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var u=gq(e,n);if(u===!1||e.length!==u+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,u+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new lM(s),this.s=new lM(l),this.recoveryParam=null,!0};function bq(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}dM.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Rde(r),n=Rde(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];bq(i,r.length),i=i.concat(r),i.push(2),bq(i,n.length);var o=i.concat(n),s=[48];return bq(s,o.length),s=s.concat(o),vq.encode(s,e)}});var Nde=q((vqt,Dde)=>{"use strict";d();h();var sl=bd(),Ode=Mde(),IWe=Jc(),xq=fM(),MWe=UI(),Sb=IWe.assert,wq=Pde(),hM=Bde();function Ju(t){if(!(this instanceof Ju))return new Ju(t);typeof t=="string"&&(Sb(Object.prototype.hasOwnProperty.call(xq,t),"Unknown curve "+t),t=xq[t]),t instanceof xq.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Dde.exports=Ju;Ju.prototype.keyPair=function(e){return new wq(this,e)};Ju.prototype.keyFromPrivate=function(e,r){return wq.fromPrivate(this,e,r)};Ju.prototype.keyFromPublic=function(e,r){return wq.fromPublic(this,e,r)};Ju.prototype.genKeyPair=function(e){e||(e={});for(var r=new Ode({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||MWe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new sl(2));;){var o=new sl(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Ju.prototype._truncateToN=function(e,r,n){var i;if(sl.isBN(e)||typeof e=="number")e=new sl(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new sl(e,16);else{var o=e.toString();i=o.length+1>>>1,e=new sl(o,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ju.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!sl.isBN(e)){Sb(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Sb(e.length>>>0===e.length);for(var o=0;o<e.length;o++)Sb((e[o]&255)===e[o])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Sb(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),u=r.getPrivate().toArray("be",s),l=e.toArray("be",s);Sb(new sl(l).eq(e),"Can not sign message");for(var m=new Ode({hash:this.hash,entropy:u,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),x=this.n.sub(new sl(1)),w=0;;w++){var E=i.k?i.k(w):new sl(m.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(x)>=0)){var I=this.g.mul(E);if(!I.isInfinity()){var M=I.getX(),k=M.umod(this.n);if(k.cmpn(0)!==0){var C=E.invm(this.n).mul(k.mul(r.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var R=(I.getY().isOdd()?1:0)|(M.cmp(k)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),R^=1),new hM({r:k,s:C,recoveryParam:R})}}}}}};Ju.prototype.verify=function(e,r,n,i,o){o||(o={}),e=this._truncateToN(e,!1,o.msgBitLength),n=this.keyFromPublic(n,i),r=new hM(r,"hex");var s=r.r,u=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var l=u.invm(this.n),m=l.mul(e).umod(this.n),x=l.mul(s).umod(this.n),w;return this.curve._maxwellTrick?(w=this.g.jmulAdd(m,n.getPublic(),x),w.isInfinity()?!1:w.eqXToP(s)):(w=this.g.mulAdd(m,n.getPublic(),x),w.isInfinity()?!1:w.getX().umod(this.n).cmp(s)===0)};Ju.prototype.recoverPubKey=function(t,e,r,n){Sb((3&r)===r,"The recovery param is more than two bits"),e=new hM(e,n);var i=this.n,o=new sl(t),s=e.r,u=e.s,l=r&1,m=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var x=e.r.invm(i),w=i.sub(o).mul(x).umod(i),E=u.mul(x).umod(i);return this.g.mulAdd(w,s,E)};Ju.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new hM(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Kde=q((Sqt,Fde)=>{"use strict";d();h();var w3=Jc(),Lde=w3.assert,Ude=w3.parseBytes,Gx=w3.cachedProperty;function ns(t,e){this.eddsa=t,this._secret=Ude(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Ude(e.pub)}ns.fromPublic=function(e,r){return r instanceof ns?r:new ns(e,{pub:r})};ns.fromSecret=function(e,r){return r instanceof ns?r:new ns(e,{secret:r})};ns.prototype.secret=function(){return this._secret};Gx(ns,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Gx(ns,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Gx(ns,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Gx(ns,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Gx(ns,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Gx(ns,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});ns.prototype.sign=function(e){return Lde(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};ns.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};ns.prototype.getSecret=function(e){return Lde(this._secret,"KeyPair is public only"),w3.encode(this.secret(),e)};ns.prototype.getPublic=function(e){return w3.encode(this.pubBytes(),e)};Fde.exports=ns});var Hde=q((_qt,Vde)=>{"use strict";d();h();var kWe=bd(),pM=Jc(),qde=pM.assert,mM=pM.cachedProperty,PWe=pM.parseBytes;function Ab(t,e){this.eddsa=t,typeof e!="object"&&(e=PWe(e)),Array.isArray(e)&&(qde(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),qde(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof kWe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}mM(Ab,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});mM(Ab,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});mM(Ab,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});mM(Ab,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ab.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ab.prototype.toHex=function(){return pM.encode(this.toBytes(),"hex").toUpperCase()};Vde.exports=Ab});var $de=q((Mqt,Gde)=>{"use strict";d();h();var RWe=Wx(),CWe=fM(),$x=Jc(),BWe=$x.assert,zde=$x.parseBytes,Wde=Kde(),jde=Hde();function hc(t){if(BWe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof hc))return new hc(t);t=CWe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=RWe.sha512}Gde.exports=hc;hc.prototype.sign=function(e,r){e=zde(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),u=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),l=i.add(u).umod(this.curve.n);return this.makeSignature({R:o,S:l,Rencoded:s})};hc.prototype.verify=function(e,r,n){if(e=zde(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),u=r.R().add(i.pub().mul(o));return u.eq(s)};hc.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return $x.intFromLE(e.digest()).umod(this.curve.n)};hc.prototype.keyFromPublic=function(e){return Wde.fromPublic(this,e)};hc.prototype.keyFromSecret=function(e){return Wde.fromSecret(this,e)};hc.prototype.makeSignature=function(e){return e instanceof jde?e:new jde(this,e)};hc.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};hc.prototype.decodePoint=function(e){e=$x.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,o=$x.intFromLE(n);return this.curve.pointFromY(o,i)};hc.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};hc.prototype.decodeInt=function(e){return $x.intFromLE(e)};hc.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Yx=q(Yde=>{"use strict";d();h();var Eb=Yde;Eb.version=Tle().version;Eb.utils=Jc();Eb.rand=UI();Eb.curve=iq();Eb.curves=fM();Eb.ec=Nde();Eb.eddsa=$de()});var Aq=q((Zde,Sq)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Sq>"u"||Sq,Zde)});var gM=q((Nqt,Qde)=>{"use strict";d();h();var yM=Dn(),Zx=yM.Buffer,Xu={},ef;for(ef in yM)yM.hasOwnProperty(ef)&&(ef==="SlowBuffer"||ef==="Buffer"||(Xu[ef]=yM[ef]));var Qx=Xu.Buffer={};for(ef in Zx)Zx.hasOwnProperty(ef)&&(ef==="allocUnsafe"||ef==="allocUnsafeSlow"||(Qx[ef]=Zx[ef]));Xu.Buffer.prototype=Zx.prototype;(!Qx.from||Qx.from===Uint8Array.from)&&(Qx.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Zx(t,e,r)});Qx.alloc||(Qx.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Zx(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!Xu.kStringMaxLength)try{Xu.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}Xu.constants||(Xu.constants={MAX_LENGTH:Xu.kMaxLength},Xu.kStringMaxLength&&(Xu.constants.MAX_STRING_LENGTH=Xu.kStringMaxLength));Qde.exports=Xu});var bM=q(Jde=>{"use strict";d();h();var OWe=er();function tf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}Jde.Reporter=tf;tf.prototype.isError=function(e){return e instanceof Jx};tf.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};tf.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};tf.prototype.enterKey=function(e){return this._reporterState.path.push(e)};tf.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};tf.prototype.leaveKey=function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};tf.prototype.path=function(){return this._reporterState.path.join("/")};tf.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};tf.prototype.leaveObject=function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n};tf.prototype.error=function(e){let r,n=this._reporterState,i=e instanceof Jx;if(i?r=e:r=new Jx(n.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};tf.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Jx(t,e){this.path=t,this.rethrow(e)}OWe(Jx,Error);Jx.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Jx),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var tw=q(Eq=>{"use strict";d();h();var DWe=er(),vM=bM().Reporter,Xx=gM().Buffer;function rf(t,e){if(vM.call(this,e),!Xx.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}DWe(rf,vM);Eq.DecoderBuffer=rf;rf.isDecoderBuffer=function(e){return e instanceof rf?!0:typeof e=="object"&&Xx.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};rf.prototype.save=function(){return{offset:this.offset,reporter:vM.prototype.save.call(this)}};rf.prototype.restore=function(e){let r=new rf(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,vM.prototype.restore.call(this,e.reporter),r};rf.prototype.isEmpty=function(){return this.offset===this.length};rf.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};rf.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new rf(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};rf.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function ew(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return ew.isEncoderBuffer(r)||(r=new ew(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Xx.byteLength(t);else if(Xx.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}Eq.EncoderBuffer=ew;ew.isEncoderBuffer=function(e){return e instanceof ew?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};ew.prototype.join=function(e,r){return e||(e=Xx.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Xx.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var xM=q((zqt,ehe)=>{"use strict";d();h();var NWe=bM().Reporter,UWe=tw().EncoderBuffer,LWe=tw().DecoderBuffer,La=Qc(),Xde=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],FWe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Xde),KWe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Vn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}ehe.exports=Vn;var qWe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Vn.prototype.clone=function(){let e=this._baseState,r={};qWe.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n};Vn.prototype._wrap=function(){let e=this._baseState;FWe.forEach(function(r){this[r]=function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};Vn.prototype._init=function(e){let r=this._baseState;La(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),La.equal(r.children.length,1,"Root node can have only one child")};Vn.prototype._useArgs=function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(La(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(La(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let o={};return Object.keys(i).forEach(function(s){s==(s|0)&&(s|=0);let u=i[s];o[u]=s}),o}))};KWe.forEach(function(t){Vn.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});Xde.forEach(function(t){Vn.prototype[t]=function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return La(r.tag===null),r.tag=t,this._useArgs(n),this}});Vn.prototype.use=function(e){La(e);let r=this._baseState;return La(r.use===null),r.use=e,this};Vn.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};Vn.prototype.def=function(e){let r=this._baseState;return La(r.default===null),r.default=e,r.optional=!0,this};Vn.prototype.explicit=function(e){let r=this._baseState;return La(r.explicit===null&&r.implicit===null),r.explicit=e,this};Vn.prototype.implicit=function(e){let r=this._baseState;return La(r.explicit===null&&r.implicit===null),r.implicit=e,this};Vn.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Vn.prototype.key=function(e){let r=this._baseState;return La(r.key===null),r.key=e,this};Vn.prototype.any=function(){let e=this._baseState;return e.any=!0,this};Vn.prototype.choice=function(e){let r=this._baseState;return La(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};Vn.prototype.contains=function(e){let r=this._baseState;return La(r.use===null),r.contains=e,this};Vn.prototype._decode=function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,o=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let m=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(m)}else if(o=this._peekTag(e,l,n.any),e.isError(o))return o}let u;if(n.obj&&o&&(u=e.enterObject()),o){if(n.explicit!==null){let m=this._decodeTag(e,n.explicit);if(e.isError(m))return m;e=m}let l=e.offset;if(n.use===null&&n.choice===null){let m;n.any&&(m=e.save());let x=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(x))return x;n.any?i=e.raw(m):e=x}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(x){x._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let m=new LWe(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(m,r)}}return n.obj&&o&&(i=e.leaveObject(u)),n.key!==null&&(i!==null||o===!0)?e.leaveKey(s,n.key,i):s!==null&&e.exitKey(s),i};Vn.prototype._decodeGeneric=function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};Vn.prototype._getUse=function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),La(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Vn.prototype._decodeChoice=function(e,r){let n=this._baseState,i=null,o=!1;return Object.keys(n.choice).some(function(s){let u=e.save(),l=n.choice[s];try{let m=l._decode(e,r);if(e.isError(m))return!1;i={type:s,value:m},o=!0}catch{return e.restore(u),!1}return!0},this),o?i:e.error("Choice not matched")};Vn.prototype._createEncoderBuffer=function(e){return new UWe(e,this.reporter)};Vn.prototype._encode=function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let o=this._encodeValue(e,r,n);if(o!==void 0&&!this._skipDefault(o,r,n))return o};Vn.prototype._encodeValue=function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new NWe);let o=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let s=null,u=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,r),u=!0;else if(i.children)s=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let m=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let x=l._encode(e[l._baseState.key],r,e);return r.leaveKey(m),x},this).filter(function(l){return l}),s=this._createEncoderBuffer(s);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(m){let x=this._baseState;return this._getUse(x.args[0],e)._encode(m,r)},l))}else i.use!==null?o=this._getUse(i.use,n)._encode(e,r):(s=this._encodePrimitive(i.tag,e),u=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,m=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(o=this._encodeComposite(l,u,m,s))}return i.explicit!==null&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o};Vn.prototype._encodeChoice=function(e,r){let n=this._baseState,i=n.choice[e.type];return i||La(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};Vn.prototype._encodePrimitive=function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Vn.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Vn.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var wM=q(_b=>{"use strict";d();h();function the(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}_b.tagClass={0:"universal",1:"application",2:"context",3:"private"};_b.tagClassByName=the(_b.tagClass);_b.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};_b.tagByName=the(_b.tag)});var Tq=q((Qqt,ihe)=>{"use strict";d();h();var VWe=er(),s0=gM().Buffer,rhe=xM(),_q=wM();function nhe(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new al,this.tree._init(t.body)}ihe.exports=nhe;nhe.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function al(t){rhe.call(this,"der",t)}VWe(al,rhe);al.prototype._encodeComposite=function(e,r,n,i){let o=HWe(e,r,n,this.reporter);if(i.length<128){let l=s0.alloc(2);return l[0]=o,l[1]=i.length,this._createEncoderBuffer([l,i])}let s=1;for(let l=i.length;l>=256;l>>=8)s++;let u=s0.alloc(2+s);u[0]=o,u[1]=128|s;for(let l=1+s,m=i.length;m>0;l--,m>>=8)u[l]=m&255;return this._createEncoderBuffer([u,i])};al.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=s0.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};al.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let u=0;u<e.length;u++)e[u]|=0}else if(Array.isArray(e)){e=e.slice();for(let u=0;u<e.length;u++)e[u]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let u=0;u<e.length;u++){let l=e[u];for(i++;l>=128;l>>=7)i++}let o=s0.alloc(i),s=o.length-1;for(let u=e.length-1;u>=0;u--){let l=e[u];for(o[s--]=l&127;(l>>=7)>0;)o[s--]=128|l&127}return this._createEncoderBuffer(o)};function nf(t){return t<10?"0"+t:t}al.prototype._encodeTime=function(e,r){let n,i=new Date(e);return r==="gentime"?n=[nf(i.getUTCFullYear()),nf(i.getUTCMonth()+1),nf(i.getUTCDate()),nf(i.getUTCHours()),nf(i.getUTCMinutes()),nf(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[nf(i.getUTCFullYear()%100),nf(i.getUTCMonth()+1),nf(i.getUTCDate()),nf(i.getUTCHours()),nf(i.getUTCMinutes()),nf(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};al.prototype._encodeNull=function(){return this._createEncoderBuffer("")};al.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!s0.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=s0.from(o)}if(s0.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=s0.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let o=e;o>=256;o>>=8)n++;let i=new Array(n);for(let o=i.length-1;o>=0;o--)i[o]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(s0.from(i))};al.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};al.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};al.prototype._skipDefault=function(e,r,n){let i=this._baseState,o;if(i.default===null)return!1;let s=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),s.length!==i.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==i.defaultBuffer[o])return!1;return!0};function HWe(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),_q.tagByName.hasOwnProperty(t))i=_q.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=_q.tagClassByName[r||"universal"]<<6,i)}});var she=q((eVt,ohe)=>{"use strict";d();h();var jWe=er(),Iq=Tq();function Mq(t){Iq.call(this,t),this.enc="pem"}jWe(Mq,Iq);ohe.exports=Mq;Mq.prototype.encode=function(e,r){let i=Iq.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<i.length;s+=64)o.push(i.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var kq=q(che=>{"use strict";d();h();var ahe=che;ahe.der=Tq();ahe.pem=she()});var Rq=q((sVt,phe)=>{"use strict";d();h();var zWe=er(),WWe=Aq(),uhe=tw().DecoderBuffer,lhe=xM(),fhe=wM();function dhe(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Xc,this.tree._init(t.body)}phe.exports=dhe;dhe.prototype.decode=function(e,r){return uhe.isDecoderBuffer(e)||(e=new uhe(e,r)),this.tree._decode(e,r)};function Xc(t){lhe.call(this,"der",t)}zWe(Xc,lhe);Xc.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),o=Pq(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(i),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||n)};Xc.prototype._decodeTag=function(e,r,n){let i=Pq(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let o=hhe(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),u=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(u)?u:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};Xc.prototype._skipUntilEnd=function(e,r){for(;;){let n=Pq(e,r);if(e.isError(n))return n;let i=hhe(e,n.primitive,r);if(e.isError(i))return i;let o;if(n.primitive||i!==null?o=e.skip(i):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(n.tagStr==="end")break}};Xc.prototype._decodeList=function(e,r,n,i){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let u=n.decode(e,"der",i);if(e.isError(u)&&s)break;o.push(u)}return o};Xc.prototype._decodeStr=function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(o*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Xc.prototype._decodeObjid=function(e,r,n){let i,o=[],s=0,u=0;for(;!e.isEmpty();)u=e.readUInt8(),s<<=7,s|=u&127,u&128||(o.push(s),s=0);u&128&&o.push(s);let l=o[0]/40|0,m=o[0]%40;if(n?i=o:i=[l,m].concat(o.slice(1)),r){let x=r[i.join(" ")];x===void 0&&(x=r[i.join(".")]),x!==void 0&&(i=x)}return i};Xc.prototype._decodeTime=function(e,r){let n=e.raw().toString(),i,o,s,u,l,m;if(r==="gentime")i=n.slice(0,4)|0,o=n.slice(4,6)|0,s=n.slice(6,8)|0,u=n.slice(8,10)|0,l=n.slice(10,12)|0,m=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,o=n.slice(2,4)|0,s=n.slice(4,6)|0,u=n.slice(6,8)|0,l=n.slice(8,10)|0,m=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,o-1,s,u,l,m,0)};Xc.prototype._decodeNull=function(){return null};Xc.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};Xc.prototype._decodeInt=function(e,r){let n=e.raw(),i=new WWe(n);return r&&(i=r[i.toString(10)]||i),i};Xc.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function Pq(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=fhe.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=fhe.tag[r];return{cls:n,primitive:i,tag:r,tagStr:o}}function hhe(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let o=0;o<i;o++){n<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}});var yhe=q((uVt,mhe)=>{"use strict";d();h();var GWe=er(),$We=gM().Buffer,Cq=Rq();function Bq(t){Cq.call(this,t),this.enc="pem"}GWe(Bq,Cq);mhe.exports=Bq;Bq.prototype.decode=function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1;for(let x=0;x<n.length;x++){let w=n[x].match(o);if(w!==null&&w[2]===i)if(s===-1){if(w[1]!=="BEGIN")break;s=x}else{if(w[1]!=="END")break;u=x;break}}if(s===-1||u===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(s+1,u).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let m=$We.from(l,"base64");return Cq.prototype.decode.call(this,m,r)}});var Oq=q(bhe=>{"use strict";d();h();var ghe=bhe;ghe.der=Rq();ghe.pem=yhe()});var xhe=q(vhe=>{"use strict";d();h();var YWe=kq(),ZWe=Oq(),QWe=er(),JWe=vhe;JWe.define=function(e,r){return new rw(e,r)};function rw(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}rw.prototype._createNamed=function(e){let r=this.name;function n(i){this._initNamed(i,r)}return QWe(n,e),n.prototype._initNamed=function(o,s){e.call(this,o,s)},new n(this)};rw.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(ZWe[e])),this.decoders[e]};rw.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};rw.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(YWe[e])),this.encoders[e]};rw.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var She=q(whe=>{"use strict";d();h();var SM=whe;SM.Reporter=bM().Reporter;SM.DecoderBuffer=tw().DecoderBuffer;SM.EncoderBuffer=tw().EncoderBuffer;SM.Node=xM()});var _he=q(Ehe=>{"use strict";d();h();var Ahe=Ehe;Ahe._reverse=function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r};Ahe.der=wM()});var Dq=q(The=>{"use strict";d();h();var nw=The;nw.bignum=Aq();nw.define=xhe().define;nw.base=She();nw.constants=_he();nw.decoders=Oq();nw.encoders=kq()});var Phe=q((IVt,khe)=>{"use strict";d();h();var cl=Dq(),Ihe=cl.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),XWe=cl.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Nq=cl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),eGe=cl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Nq),this.key("subjectPublicKey").bitstr())}),tGe=cl.define("RelativeDistinguishedName",function(){this.setof(XWe)}),rGe=cl.define("RDNSequence",function(){this.seqof(tGe)}),Mhe=cl.define("Name",function(){this.choice({rdnSequence:this.use(rGe)})}),nGe=cl.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Ihe),this.key("notAfter").use(Ihe))}),iGe=cl.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),oGe=cl.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Nq),this.key("issuer").use(Mhe),this.key("validity").use(nGe),this.key("subject").use(Mhe),this.key("subjectPublicKeyInfo").use(eGe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(iGe).optional())}),sGe=cl.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(oGe),this.key("signatureAlgorithm").use(Nq),this.key("signatureValue").bitstr())});khe.exports=sGe});var Che=q(fl=>{"use strict";d();h();var ul=Dq();fl.certificate=Phe();var aGe=ul.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});fl.RSAPrivateKey=aGe;var cGe=ul.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});fl.RSAPublicKey=cGe;var uGe=ul.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Rhe),this.key("subjectPublicKey").bitstr())});fl.PublicKey=uGe;var Rhe=ul.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),fGe=ul.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Rhe),this.key("subjectPrivateKey").octstr())});fl.PrivateKey=fGe;var lGe=ul.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});fl.EncryptedPrivateKey=lGe;var dGe=ul.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});fl.DSAPrivateKey=dGe;fl.DSAparam=ul.define("DSAparam",function(){this.int()});var hGe=ul.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(pGe),this.key("publicKey").optional().explicit(1).bitstr())});fl.ECPrivateKey=hGe;var pGe=ul.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});fl.signature=ul.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var Bhe=q((BVt,mGe)=>{mGe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Dhe=q((OVt,Ohe)=>{d();h();var yGe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,gGe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,bGe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,vGe=c3(),xGe=NI(),AM=cr().Buffer;Ohe.exports=function(t,e){var r=t.toString(),n=r.match(yGe),i;if(n){var s="aes"+n[1],u=AM.from(n[2],"hex"),l=AM.from(n[3].replace(/[\r\n]/g,""),"base64"),m=vGe(e,u.slice(0,8),parseInt(n[1],10)).key,x=[],w=xGe.createDecipheriv(s,m,u);x.push(w.update(l)),x.push(w.final()),i=AM.concat(x)}else{var o=r.match(bGe);i=AM.from(o[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(gGe)[1];return{tag:E,data:i}}});var S3=q((UVt,Uhe)=>{d();h();var pc=Che(),wGe=Bhe(),SGe=Dhe(),AGe=NI(),EGe=EI(),Uq=cr().Buffer;Uhe.exports=Nhe;function Nhe(t){var e;typeof t=="object"&&!Uq.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=Uq.from(t));var r=SGe(t,e),n=r.tag,i=r.data,o,s;switch(n){case"CERTIFICATE":s=pc.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=pc.PublicKey.decode(i,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return pc.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=pc.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":i=pc.EncryptedPrivateKey.decode(i,"der"),i=_Ge(i,e);case"PRIVATE KEY":switch(s=pc.PrivateKey.decode(i,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return pc.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:pc.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=pc.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return pc.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return pc.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:pc.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=pc.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}Nhe.signature=pc.signature;function _Ge(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=wGe[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,u=parseInt(i.split("-")[1],10)/8,l=EGe.pbkdf2Sync(e,r,n,u,"sha1"),m=AGe.createDecipheriv(i,l,o),x=[];return x.push(m.update(s)),x.push(m.final()),Uq.concat(x)}});var Lq=q((KVt,TGe)=>{TGe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var Khe=q((qVt,_M)=>{"use strict";d();h();var na=cr().Buffer,Tb=jF(),IGe=eM(),MGe=Yx().ec,EM=Yg(),kGe=S3(),PGe=Lq(),RGe=1;function CGe(t,e,r,n,i){var o=kGe(e);if(o.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return BGe(t,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return OGe(t,o,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==RGe)throw new Error("illegal or unsupported padding mode");t=na.concat([i,t]);for(var s=o.modulus.byteLength(),u=[0,1];t.length+u.length+1<s;)u.push(255);u.push(0);for(var l=-1;++l<t.length;)u.push(t[l]);var m=IGe(u,o);return m}function BGe(t,e){var r=PGe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new MGe(r),i=n.keyFromPrivate(e.privateKey),o=i.sign(t);return na.from(o.toDER())}function OGe(t,e,r){for(var n=e.params.priv_key,i=e.params.p,o=e.params.q,s=e.params.g,u=new EM(0),l,m=Fq(t,o).mod(o),x=!1,w=Lhe(n,o,t,r);x===!1;)l=Fhe(o,w,r),u=UGe(s,l,i,o),x=l.invm(o).imul(m.add(n.mul(u))).mod(o),x.cmpn(0)===0&&(x=!1,u=new EM(0));return DGe(u,x)}function DGe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),na.from(n)}function Lhe(t,e,r,n){if(t=na.from(t.toArray()),t.length<e.byteLength()){var i=na.alloc(e.byteLength()-t.length);t=na.concat([i,t])}var o=r.length,s=NGe(r,e),u=na.alloc(o);u.fill(1);var l=na.alloc(o);return l=Tb(n,l).update(u).update(na.from([0])).update(t).update(s).digest(),u=Tb(n,l).update(u).digest(),l=Tb(n,l).update(u).update(na.from([1])).update(t).update(s).digest(),u=Tb(n,l).update(u).digest(),{k:l,v:u}}function Fq(t,e){var r=new EM(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function NGe(t,e){t=Fq(t,e),t=t.mod(e);var r=na.from(t.toArray());if(r.length<e.byteLength()){var n=na.alloc(e.byteLength()-r.length);r=na.concat([n,r])}return r}function Fhe(t,e,r){var n,i;do{for(n=na.alloc(0);n.length*8<t.bitLength();)e.v=Tb(r,e.k).update(e.v).digest(),n=na.concat([n,e.v]);i=Fq(n,t),e.k=Tb(r,e.k).update(e.v).update(na.from([0])).digest(),e.v=Tb(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function UGe(t,e,r,n){return t.toRed(EM.mont(r)).redPow(e).fromRed().mod(n)}_M.exports=CGe;_M.exports.getKey=Lhe;_M.exports.makeKey=Fhe});var jhe=q((jVt,Hhe)=>{"use strict";d();h();var Kq=cr().Buffer,A3=Yg(),LGe=Yx().ec,Vhe=S3(),FGe=Lq();function KGe(t,e,r,n,i){var o=Vhe(r);if(o.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return qGe(t,e,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return VGe(t,e,o)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=Kq.concat([i,e]);for(var s=o.modulus.byteLength(),u=[1],l=0;e.length+u.length+2<s;)u.push(255),l+=1;u.push(0);for(var m=-1;++m<e.length;)u.push(e[m]);u=Kq.from(u);var x=A3.mont(o.modulus);t=new A3(t).toRed(x),t=t.redPow(new A3(o.publicExponent)),t=Kq.from(t.fromRed().toArray());var w=l<8?1:0;for(s=Math.min(t.length,u.length),t.length!==u.length&&(w=1),m=-1;++m<s;)w|=t[m]^u[m];return w===0}function qGe(t,e,r){var n=FGe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new LGe(n),o=r.data.subjectPrivateKey.data;return i.verify(e,t,o)}function VGe(t,e,r){var n=r.data.p,i=r.data.q,o=r.data.g,s=r.data.pub_key,u=Vhe.signature.decode(t,"der"),l=u.s,m=u.r;qhe(l,i),qhe(m,i);var x=A3.mont(n),w=l.invm(i),E=o.toRed(x).redPow(new A3(e).mul(w).mod(i)).fromRed().mul(s.toRed(x).redPow(m.mul(w).mod(i)).fromRed()).mod(n).mod(i);return E.cmp(m)===0}function qhe(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}Hhe.exports=KGe});var Zhe=q((GVt,Yhe)=>{"use strict";d();h();var TM=cr().Buffer,Ghe=$p(),IM=Sle(),$he=er(),HGe=Khe(),jGe=jhe(),Ib=zF();Object.keys(Ib).forEach(function(t){Ib[t].id=TM.from(Ib[t].id,"hex"),Ib[t.toLowerCase()]=Ib[t]});function E3(t){IM.Writable.call(this);var e=Ib[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=Ghe(e.hash),this._tag=e.id,this._signType=e.sign}$he(E3,IM.Writable);E3.prototype._write=function(e,r,n){this._hash.update(e),n()};E3.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?TM.from(e,r):e),this};E3.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=HGe(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function _3(t){IM.Writable.call(this);var e=Ib[t];if(!e)throw new Error("Unknown message digest");this._hash=Ghe(e.hash),this._tag=e.id,this._signType=e.sign}$he(_3,IM.Writable);_3.prototype._write=function(e,r,n){this._hash.update(e),n()};_3.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?TM.from(e,r):e),this};_3.prototype.verify=function(e,r,n){var i=typeof r=="string"?TM.from(r,n):r;this.end();var o=this._hash.digest();return jGe(i,o,e,this._signType,this._tag)};function zhe(t){return new E3(t)}function Whe(t){return new _3(t)}Yhe.exports={Sign:zhe,Verify:Whe,createSign:zhe,createVerify:Whe}});var Jhe=q((Qhe,qq)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof qq>"u"||qq,Qhe)});var e0e=q((JVt,Xhe)=>{d();h();var zGe=Yx(),WGe=Jhe();Xhe.exports=function(e){return new Mb(e)};var eu={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};eu.p224=eu.secp224r1;eu.p256=eu.secp256r1=eu.prime256v1;eu.p192=eu.secp192r1=eu.prime192v1;eu.p384=eu.secp384r1;eu.p521=eu.secp521r1;function Mb(t){this.curveType=eu[t],this.curveType||(this.curveType={name:t}),this.curve=new zGe.ec(this.curveType.name),this.keys=void 0}Mb.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Mb.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return Vq(i,r,this.curveType.byteLength)};Mb.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),Vq(r,t)};Mb.prototype.getPrivateKey=function(t){return Vq(this.keys.getPrivate(),t)};Mb.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};Mb.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new WGe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function Vq(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}});var jq=q((tHt,t0e)=>{d();h();var GGe=$p(),Hq=cr().Buffer;t0e.exports=function(t,e){for(var r=Hq.alloc(0),n=0,i;r.length<e;)i=$Ge(n++),r=Hq.concat([r,GGe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function $Ge(t){var e=Hq.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var zq=q((iHt,r0e)=>{d();h();r0e.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var MM=q((n0e,Wq)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Wq>"u"||Wq,n0e)});var Gq=q((uHt,o0e)=>{d();h();var i0e=MM(),YGe=cr().Buffer;function ZGe(t,e){return YGe.from(t.toRed(i0e.mont(e.modulus)).redPow(new i0e(e.publicExponent)).fromRed().toArray())}o0e.exports=ZGe});var u0e=q((dHt,c0e)=>{d();h();var QGe=S3(),$q=Wh(),JGe=$p(),s0e=jq(),a0e=zq(),Yq=MM(),XGe=Gq(),e$e=eM(),ll=cr().Buffer;c0e.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=QGe(e),s;if(i===4)s=t$e(o,r);else if(i===1)s=r$e(o,r,n);else if(i===3){if(s=new Yq(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?e$e(s,o):XGe(s,o)};function t$e(t,e){var r=t.modulus.byteLength(),n=e.length,i=JGe("sha1").update(ll.alloc(0)).digest(),o=i.length,s=2*o;if(n>r-s-2)throw new Error("message too long");var u=ll.alloc(r-n-s-2),l=r-o-1,m=$q(o),x=a0e(ll.concat([i,u,ll.alloc(1,1),e],l),s0e(m,l)),w=a0e(m,s0e(x,o));return new Yq(ll.concat([ll.alloc(1),w,x],r))}function r$e(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var o;return r?o=ll.alloc(i-n-3,255):o=n$e(i-n-3),new Yq(ll.concat([ll.from([0,r?1:2]),o,ll.alloc(1),e],i))}function n$e(t){for(var e=ll.allocUnsafe(t),r=0,n=$q(t*2),i=0,o;r<t;)i===n.length&&(n=$q(t*2),i=0),o=n[i++],o&&(e[r++]=o);return e}});var p0e=q((mHt,h0e)=>{d();h();var i$e=S3(),f0e=jq(),l0e=zq(),d0e=MM(),o$e=eM(),s$e=$p(),a$e=Gq(),T3=cr().Buffer;h0e.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=i$e(e),s=o.modulus.byteLength();if(r.length>s||new d0e(r).cmp(o.modulus)>=0)throw new Error("decryption error");var u;n?u=a$e(new d0e(r),o):u=o$e(r,o);var l=T3.alloc(s-u.length);if(u=T3.concat([l,u],s),i===4)return c$e(o,u);if(i===1)return u$e(o,u,n);if(i===3)return u;throw new Error("unknown padding")};function c$e(t,e){var r=t.modulus.byteLength(),n=s$e("sha1").update(T3.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,i+1),s=e.slice(i+1),u=l0e(o,f0e(s,i)),l=l0e(s,f0e(u,r-i-1));if(f$e(n,l.slice(0,i)))throw new Error("decryption error");for(var m=i;l[m]===0;)m++;if(l[m++]!==1)throw new Error("decryption error");return l.slice(m)}function u$e(t,e,r){for(var n=e.slice(0,2),i=2,o=0;e[i++]!==0;)if(i>=e.length){o++;break}var s=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function f$e(t,e){t=T3.from(t),e=T3.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var m0e=q(kb=>{d();h();kb.publicEncrypt=u0e();kb.privateDecrypt=p0e();kb.privateEncrypt=function(e,r){return kb.publicEncrypt(e,r,!0)};kb.publicDecrypt=function(e,r){return kb.privateDecrypt(e,r,!0)}});var _0e=q(I3=>{"use strict";d();h();function y0e(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var b0e=cr(),g0e=Wh(),v0e=b0e.Buffer,x0e=b0e.kMaxLength,Zq=self.crypto||self.msCrypto,w0e=Math.pow(2,32)-1;function S0e(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>w0e||t<0)throw new TypeError("offset must be a uint32");if(t>x0e||t>e)throw new RangeError("offset out of range")}function A0e(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>w0e||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>x0e)throw new RangeError("buffer too small")}Zq&&Zq.getRandomValues?(I3.randomFill=l$e,I3.randomFillSync=d$e):(I3.randomFill=y0e,I3.randomFillSync=y0e);function l$e(t,e,r,n){if(!v0e.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return S0e(e,t.length),A0e(r,e,t.length),E0e(t,e,r,n)}function E0e(t,e,r,n){var i=t.buffer,o=new Uint8Array(i,e,r);if(Zq.getRandomValues(o),n){process.nextTick(function(){n(null,t)});return}return t;var s}function d$e(t,e,r){if(typeof e>"u"&&(e=0),!v0e.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return S0e(e,t.length),r===void 0&&(r=t.length-e),A0e(r,e,t.length),E0e(t,e,r)}});var Jp=q(yr=>{"use strict";d();h();yr.randomBytes=yr.rng=yr.pseudoRandomBytes=yr.prng=Wh();yr.createHash=yr.Hash=$p();yr.createHmac=yr.Hmac=jF();var h$e=Hce(),p$e=Object.keys(h$e),m$e=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(p$e);yr.getHashes=function(){return m$e};var T0e=EI();yr.pbkdf2=T0e.pbkdf2;yr.pbkdf2Sync=T0e.pbkdf2Sync;var Td=lfe();yr.Cipher=Td.Cipher;yr.createCipher=Td.createCipher;yr.Cipheriv=Td.Cipheriv;yr.createCipheriv=Td.createCipheriv;yr.Decipher=Td.Decipher;yr.createDecipher=Td.createDecipher;yr.Decipheriv=Td.Decipheriv;yr.createDecipheriv=Td.createDecipheriv;yr.getCiphers=Td.getCiphers;yr.listCiphers=Td.listCiphers;var M3=Tfe();yr.DiffieHellmanGroup=M3.DiffieHellmanGroup;yr.createDiffieHellmanGroup=M3.createDiffieHellmanGroup;yr.getDiffieHellman=M3.getDiffieHellman;yr.createDiffieHellman=M3.createDiffieHellman;yr.DiffieHellman=M3.DiffieHellman;var kM=Zhe();yr.createSign=kM.createSign;yr.Sign=kM.Sign;yr.createVerify=kM.createVerify;yr.Verify=kM.Verify;yr.createECDH=e0e();var PM=m0e();yr.publicEncrypt=PM.publicEncrypt;yr.privateEncrypt=PM.privateEncrypt;yr.publicDecrypt=PM.publicDecrypt;yr.privateDecrypt=PM.privateDecrypt;var I0e=_0e();yr.randomFill=I0e.randomFill;yr.randomFillSync=I0e.randomFillSync;yr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};yr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var q0e=q(jr=>{"use strict";d();h();Object.defineProperty(jr,"__esModule",{value:!0});jr.utils=jr.curve25519=jr.getSharedSecret=jr.sync=jr.verify=jr.sign=jr.getPublicKey=jr.Signature=jr.Point=jr.RistrettoPoint=jr.ExtendedPoint=jr.CURVE=void 0;var y$e=Jp(),Ji=BigInt(0),Rr=BigInt(1),fm=BigInt(2),g$e=BigInt(8),M0e=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Un=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:M0e,n:M0e,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});jr.CURVE=Un;var B0e=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),k3=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),IHt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),b$e=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),v$e=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),x$e=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),w$e=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),go=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof Ai))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ai.ZERO)?t.ZERO:new t(e.x,e.y,Rr,We(e.x*e.y))}static toAffineBatch(e){let r=E$e(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){P0e(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:u}=e,l=We(r*u),m=We(o*i),x=We(n*u),w=We(s*i);return l===m&&x===w}negate(){return new t(We(-this.x),this.y,this.z,We(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=Un,o=We(e*e),s=We(r*r),u=We(fm*We(n*n)),l=We(i*o),m=e+r,x=We(We(m*m)-o-s),w=l+s,E=w-u,I=l-s,M=We(x*E),k=We(w*I),C=We(x*I),R=We(E*w);return new t(M,k,R,C)}add(e){P0e(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:u,z:l,t:m}=e,x=We((n-r)*(u+s)),w=We((n+r)*(u-s)),E=We(w-x);if(E===Ji)return this.double();let I=We(i*fm*m),M=We(o*fm*l),k=M+I,C=w+x,R=M-I,L=We(k*E),P=We(C*R),K=We(k*R),V=We(E*C);return new t(L,P,V,K)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let u=1;u<2**(e-1);u++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Ai.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&eV.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),eV.set(r,i)));let o=t.ZERO,s=t.BASE,u=1+256/n,l=2**(n-1),m=BigInt(2**n-1),x=2**n,w=BigInt(n);for(let E=0;E<u;E++){let I=E*l,M=Number(e&m);e>>=w,M>l&&(M-=x,e+=Rr);let k=I,C=I+Math.abs(M)-1,R=E%2!==0,L=M<0;M===0?s=s.add(k0e(R,i[k])):o=o.add(k0e(L,i[C]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(sw(e,Un.l),r)}multiplyUnsafe(e){let r=sw(e,Un.l,!1),n=t.BASE,i=t.ZERO;if(r===Ji)return i;if(this.equals(i)||r===Rr)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>Ji;)r&Rr&&(o=o.add(s)),s=s.double(),r>>=Rr;return o}isSmallOrder(){return this.multiplyUnsafe(Un.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Un.l/fm).double();return Un.l%fm&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?g$e:BM(i));let s=We(r*e),u=We(n*e),l=We(i*e);if(o)return Ai.ZERO;if(l!==Rr)throw new Error("invZ was invalid");return new Ai(s,u)}fromRistrettoBytes(){Jq()}toRistrettoBytes(){Jq()}fromRistrettoHash(){Jq()}};jr.ExtendedPoint=go;go.BASE=new go(Un.Gx,Un.Gy,Rr,We(Un.Gx*Un.Gy));go.ZERO=new go(Ji,Rr,Rr,Ji);function k0e(t,e){let r=e.negate();return t?r:e}function P0e(t){if(!(t instanceof go))throw new TypeError("ExtendedPoint expected")}function Qq(t){if(!(t instanceof lm))throw new TypeError("RistrettoPoint expected")}function Jq(){throw new Error("Legacy method: switch to RistrettoPoint")}var lm=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Un,n=We(k3*e*e),i=We((n+Rr)*x$e),o=BigInt(-1),s=We((o-r*n)*We(n+r)),{isValid:u,value:l}=rV(i,s),m=We(l*e);um(m)||(m=We(-m)),u||(l=m),u||(o=n);let x=We(o*(n-Rr)*w$e-s),w=l*l,E=We((l+l)*s),I=We(x*b$e),M=We(Rr-w),k=We(Rr+w);return new go(We(E*k),We(M*I),We(I*k),We(E*M))}static hashToCurve(e){e=hl(e,64);let r=Xq(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Xq(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=hl(e,32);let{a:r,d:n}=Un,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=Xq(e);if(!_$e(iw(o),e)||um(o))throw new Error(i);let s=We(o*o),u=We(Rr+r*s),l=We(Rr-r*s),m=We(u*u),x=We(l*l),w=We(r*n*m-x),{isValid:E,value:I}=C0e(We(w*x)),M=We(I*l),k=We(I*M*w),C=We((o+o)*M);um(C)&&(C=We(-C));let R=We(u*k),L=We(C*R);if(!E||um(L)||R===Ji)throw new Error(i);return new t(new go(C,R,Rr,L))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=We(We(n+r)*We(n-r)),s=We(e*r),u=We(s*s),{value:l}=C0e(We(o*u)),m=We(l*o),x=We(l*s),w=We(m*x*i),E;if(um(i*w)){let M=We(r*k3),k=We(e*k3);e=M,r=k,E=We(m*v$e)}else E=x;um(e*w)&&(r=We(-r));let I=We((n-r)*E);return um(I)&&(I=We(-I)),iw(I)}toHex(){return R3(this.toRawBytes())}toString(){return this.toHex()}equals(e){Qq(e);let r=this.ep,n=e.ep,i=We(r.x*n.y)===We(r.y*n.x),o=We(r.y*n.y)===We(r.x*n.x);return i||o}add(e){return Qq(e),new t(this.ep.add(e.ep))}subtract(e){return Qq(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};jr.RistrettoPoint=lm;lm.BASE=new lm(go.BASE);lm.ZERO=new lm(go.ZERO);var eV=new WeakMap,Ai=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,eV.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=Un;e=hl(e,32);let o=e.slice();o[31]=e[31]&-129;let s=Rb(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=B0e)throw new Error("Expected 0 < hex < 2**256");let u=We(s*s),l=We(u-Rr),m=We(n*u+Rr),{isValid:x,value:w}=rV(l,m);if(!x)throw new Error("Point.fromHex: invalid y coordinate");let E=(w&Rr)===Rr;return(e[31]&128)!==0!==E&&(w=We(-w)),new t(w,s)}static async fromPrivateKey(e){return(await C3(e)).point}toRawBytes(){let e=iw(this.y);return e[31]|=this.x&Rr?128:0,e}toHex(){return R3(this.toRawBytes())}toX25519(){let{y:e}=this,r=We((Rr+e)*BM(Rr-e));return iw(r)}isTorsionFree(){return go.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(We(-this.x),this.y)}add(e){return go.fromAffine(this).add(go.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return go.fromAffine(this).multiply(e,this).toAffine()}};jr.Point=Ai;Ai.BASE=new Ai(Un.Gx,Un.Gy);Ai.ZERO=new Ai(Ji,Rr);var Pb=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=hl(e,64),n=Ai.fromHex(r.slice(0,32),!1),i=Rb(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Ai))throw new Error("Expected Point instance");return sw(r,Un.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(iw(this.s),32),e}toHex(){return R3(this.toRawBytes())}};jr.Signature=Pb;function R0e(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var S$e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function R3(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=S$e[t[r]];return e}function tV(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function O0e(t){let r=t.toString(16).padStart(64,"0");return tV(r)}function iw(t){return O0e(t).reverse()}function um(t){return(We(t)&Rr)===Rr}function Rb(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+R3(Uint8Array.from(t).reverse()))}var A$e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Xq(t){return We(Rb(t)&A$e)}function We(t,e=Un.P){let r=t%e;return r>=Ji?r:e+r}function BM(t,e=Un.P){if(t===Ji||e<=Ji)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=We(t,e),n=e,i=Ji,o=Rr,s=Rr,u=Ji;for(;r!==Ji;){let m=n/r,x=n%r,w=i-s*m,E=o-u*m;n=r,r=x,i=s,o=u,s=w,u=E}if(n!==Rr)throw new Error("invert: does not exist");return We(i,e)}function E$e(t,e=Un.P){let r=new Array(t.length),n=t.reduce((o,s,u)=>s===Ji?o:(r[u]=o,We(o*s,e)),Rr),i=BM(n,e);return t.reduceRight((o,s,u)=>s===Ji?o:(r[u]=We(o*r[u],e),We(o*s,e)),i),r}function dl(t,e){let{P:r}=Un,n=t;for(;e-- >Ji;)n*=n,n%=r;return n}function D0e(t){let{P:e}=Un,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,m=dl(l,fm)*l%e,x=dl(m,Rr)*t%e,w=dl(x,r)*x%e,E=dl(w,n)*w%e,I=dl(E,i)*E%e,M=dl(I,o)*I%e,k=dl(M,s)*M%e,C=dl(k,s)*M%e,R=dl(C,n)*w%e;return{pow_p_5_8:dl(R,fm)*t%e,b2:l}}function rV(t,e){let r=We(e*e*e),n=We(r*r*e),i=D0e(t*n).pow_p_5_8,o=We(t*r*i),s=We(e*o*o),u=o,l=We(o*k3),m=s===t,x=s===We(-t),w=s===We(-t*k3);return m&&(o=u),(x||w)&&(o=l),um(o)&&(o=We(-o)),{isValid:m||x,value:o}}function C0e(t){return rV(Rr,t)}function ow(t){return We(Rb(t),Un.l)}function _$e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function hl(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):tV(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function sw(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Ji<t)return t}else if(Ji<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function N0e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function T$e(t){return Rb(N0e(hl(t,32)))}function U0e(t){if(t=typeof t=="bigint"||typeof t=="number"?O0e(sw(t,B0e)):hl(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function L0e(t){let e=N0e(t.slice(0,32)),r=t.slice(32,64),n=ow(e),i=Ai.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var P3;function CM(...t){if(typeof P3!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return P3(...t)}async function C3(t){return L0e(await jr.utils.sha512(U0e(t)))}function nV(t){return L0e(CM(U0e(t)))}async function I$e(t){return(await C3(t)).pointBytes}jr.getPublicKey=I$e;function M$e(t){return nV(t).pointBytes}async function k$e(t,e){t=hl(t);let{prefix:r,scalar:n,pointBytes:i}=await C3(e),o=ow(await jr.utils.sha512(r,t)),s=Ai.BASE.multiply(o),u=ow(await jr.utils.sha512(s.toRawBytes(),i,t)),l=We(o+u*n,Un.l);return new Pb(s,l).toRawBytes()}jr.sign=k$e;function P$e(t,e){t=hl(t);let{prefix:r,scalar:n,pointBytes:i}=nV(e),o=ow(CM(r,t)),s=Ai.BASE.multiply(o),u=ow(CM(s.toRawBytes(),i,t)),l=We(o+u*n,Un.l);return new Pb(s,l).toRawBytes()}function F0e(t,e,r){e=hl(e),r instanceof Ai||(r=Ai.fromHex(r,!1));let{r:n,s:i}=t instanceof Pb?t.assertValidity():Pb.fromHex(t),o=go.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function K0e(t,e,r,n){let i=ow(n),o=go.fromAffine(t).multiplyUnsafe(i);return go.fromAffine(e).add(o).subtract(r).multiplyUnsafe(Un.h).equals(go.ZERO)}async function R$e(t,e,r){let{r:n,SB:i,msg:o,pub:s}=F0e(t,e,r),u=await jr.utils.sha512(n.toRawBytes(),s.toRawBytes(),o);return K0e(s,n,i,u)}jr.verify=R$e;function C$e(t,e,r){let{r:n,SB:i,msg:o,pub:s}=F0e(t,e,r),u=CM(n.toRawBytes(),s.toRawBytes(),o);return K0e(s,n,i,u)}jr.sync={getExtendedPublicKey:nV,getPublicKey:M$e,sign:P$e,verify:C$e};async function B$e(t,e){let{head:r}=await C3(t),n=Ai.fromHex(e).toX25519();return jr.curve25519.scalarMult(r,n)}jr.getSharedSecret=B$e;Ai.BASE._setWindowSize(8);function RM(t,e,r){let n=We(t*(e-r));return e=We(e-n),r=We(r+n),[e,r]}function O$e(t,e){let{P:r}=Un,n=sw(t,r),i=sw(e,r),o=BigInt(121665),s=n,u=Rr,l=Ji,m=n,x=Rr,w=Ji,E;for(let C=BigInt(254);C>=Ji;C--){let R=i>>C&Rr;w^=R,E=RM(w,u,m),u=E[0],m=E[1],E=RM(w,l,x),l=E[0],x=E[1],w=R;let L=u+l,P=We(L*L),K=u-l,V=We(K*K),j=P-V,ne=m+x,J=m-x,oe=We(J*L),S=We(ne*K),a=oe+S,f=oe-S;m=We(a*a),x=We(s*We(f*f)),u=We(P*V),l=We(j*(P+We(o*j)))}E=RM(w,u,m),u=E[0],m=E[1],E=RM(w,l,x),l=E[0],x=E[1];let{pow_p_5_8:I,b2:M}=D0e(l),k=We(dl(I,BigInt(3))*M);return We(u*k)}function D$e(t){return iw(We(t,Un.P))}function N$e(t){let e=hl(t,32);return e[31]&=127,Rb(e)}jr.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=N$e(e),n=T$e(t),i=O$e(r,n);if(i===Ji)throw new Error("Invalid private or public key received");return D$e(i)},scalarMultBase(t){return jr.curve25519.scalarMult(t,jr.curve25519.BASE_POINT_U)}};var cm={node:y$e,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};jr.utils={bytesToHex:R3,hexToBytes:tV,concatBytes:R0e,getExtendedPublicKey:C3,mod:We,invert:BM,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=hl(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return We(Rb(t),Un.l-Rr)+Rr},randomBytes:(t=32)=>{if(cm.web)return cm.web.getRandomValues(new Uint8Array(t));if(cm.node){let{randomBytes:e}=cm.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>jr.utils.randomBytes(32),sha512:async(...t)=>{let e=R0e(...t);if(cm.web){let r=await cm.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(cm.node)return Uint8Array.from(cm.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Ai.BASE){let r=e.equals(Ai.BASE)?e:new Ai(e.x,e.y);return r._setWindowSize(t),r.multiply(fm),r},sha512Sync:void 0};Object.defineProperties(jr.utils,{sha512Sync:{configurable:!1,get(){return P3},set(t){P3||(P3=t)}}})});var DM=q(aw=>{"use strict";d();h();Object.defineProperty(aw,"__esModule",{value:!0});aw.sha224=aw.sha256=void 0;var U$e=DE(),of=Fp(),L$e=(t,e,r)=>t&e^~t&r,F$e=(t,e,r)=>t&e^t&r^e&r,K$e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hm=new Uint32Array(64),OM=class extends U$e.SHA2{constructor(){super(64,32,8,!1),this.A=dm[0]|0,this.B=dm[1]|0,this.C=dm[2]|0,this.D=dm[3]|0,this.E=dm[4]|0,this.F=dm[5]|0,this.G=dm[6]|0,this.H=dm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:u,H:l}=this;return[e,r,n,i,o,s,u,l]}set(e,r,n,i,o,s,u,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=u|0,this.H=l|0}process(e,r){for(let w=0;w<16;w++,r+=4)hm[w]=e.getUint32(r,!1);for(let w=16;w<64;w++){let E=hm[w-15],I=hm[w-2],M=(0,of.rotr)(E,7)^(0,of.rotr)(E,18)^E>>>3,k=(0,of.rotr)(I,17)^(0,of.rotr)(I,19)^I>>>10;hm[w]=k+hm[w-7]+M+hm[w-16]|0}let{A:n,B:i,C:o,D:s,E:u,F:l,G:m,H:x}=this;for(let w=0;w<64;w++){let E=(0,of.rotr)(u,6)^(0,of.rotr)(u,11)^(0,of.rotr)(u,25),I=x+E+L$e(u,l,m)+K$e[w]+hm[w]|0,k=((0,of.rotr)(n,2)^(0,of.rotr)(n,13)^(0,of.rotr)(n,22))+F$e(n,i,o)|0;x=m,m=l,l=u,u=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,u=u+this.E|0,l=l+this.F|0,m=m+this.G|0,x=x+this.H|0,this.set(n,i,o,s,u,l,m,x)}roundClean(){hm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},iV=class extends OM{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};aw.sha256=(0,of.wrapConstructor)(()=>new OM);aw.sha224=(0,of.wrapConstructor)(()=>new iV)});var V0e=q(aV=>{"use strict";d();h();function a0(t,e,r){return e<=t&&t<=r}function KM(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function q$e(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var u=o&1023,l=s&1023;i.push(65536+(u<<10)+l),n+=1}else i.push(65533)}n+=1}return i}function V$e(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var NM=-1;function sV(t){this.tokens=[].slice.call(t)}sV.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():NM},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var cw=-1;function oV(t,e){if(t)throw TypeError("Decoder error");return e||65533}var UM="utf-8";function LM(t,e){if(!(this instanceof LM))return new LM(t,e);if(t=t!==void 0?String(t).toLowerCase():UM,t!==UM)throw new Error("Encoding not supported. Only utf-8 is supported");e=KM(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}LM.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=KM(r),this._streaming||(this._decoder=new H$e({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new sV(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==cw);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===cw)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),V$e(o)}};function FM(t,e){if(!(this instanceof FM))return new FM(t,e);if(t=t!==void 0?String(t).toLowerCase():UM,t!==UM)throw new Error("Encoding not supported. Only utf-8 is supported");e=KM(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}FM.prototype={encode:function(e,r){e=e?String(e):"",r=KM(r),this._streaming||(this._encoder=new j$e(this._options)),this._streaming=!!r.stream;for(var n=[],i=new sV(q$e(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==cw);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==cw;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function H$e(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(u,l){if(l===NM&&i!==0)return i=0,oV(e);if(l===NM)return cw;if(i===0){if(a0(l,0,127))return l;if(a0(l,194,223))i=1,r=l-192;else if(a0(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,r=l-224;else if(a0(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,r=l-240;else return oV(e);return r=r<<6*i,null}if(!a0(l,o,s))return r=i=n=0,o=128,s=191,u.prepend(l),oV(e);if(o=128,s=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var m=r;return r=i=n=0,m}}function j$e(t){var e=t.fatal;this.handler=function(r,n){if(n===NM)return cw;if(a0(n,0,127))return n;var i,o;a0(n,128,2047)?(i=1,o=192):a0(n,2048,65535)?(i=2,o=224):a0(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var u=n>>6*(i-1);s.push(128|u&63),i-=1}return s}}aV.TextEncoder=FM;aV.TextDecoder=LM});var G0e=q(Hn=>{"use strict";d();h();var z$e=Hn&&Hn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),W$e=Hn&&Hn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Id=Hn&&Hn.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(s=t[u])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},G$e=Hn&&Hn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&z$e(e,t,r);return W$e(e,t),e},H0e=Hn&&Hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.deserializeUnchecked=Hn.deserialize=Hn.serialize=Hn.BinaryReader=Hn.BinaryWriter=Hn.BorshError=Hn.baseDecode=Hn.baseEncode=void 0;var pm=H0e(Yg()),j0e=H0e(Da()),$$e=G$e(V0e()),Y$e=typeof TextDecoder!="function"?$$e.TextDecoder:TextDecoder,Z$e=new Y$e("utf-8",{fatal:!0});function Q$e(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),j0e.default.encode(Buffer.from(t))}Hn.baseEncode=Q$e;function J$e(t){return Buffer.from(j0e.default.decode(t))}Hn.baseDecode=J$e;var cV=1024,_s=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Hn.BorshError=_s;var qM=class{constructor(){this.buf=Buffer.alloc(cV),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(cV)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new pm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(cV)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Hn.BinaryWriter=qM;function Md(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new _s("Reached the end of buffer when deserializing")}throw o}}}var Fa=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new pm.default(e,"le")}readU128(){let e=this.readBuffer(16);return new pm.default(e,"le")}readU256(){let e=this.readBuffer(32);return new pm.default(e,"le")}readU512(){let e=this.readBuffer(64);return new pm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new _s(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return Z$e.decode(r)}catch(n){throw new _s(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Id([Md],Fa.prototype,"readU8",null);Id([Md],Fa.prototype,"readU16",null);Id([Md],Fa.prototype,"readU32",null);Id([Md],Fa.prototype,"readU64",null);Id([Md],Fa.prototype,"readU128",null);Id([Md],Fa.prototype,"readU256",null);Id([Md],Fa.prototype,"readU512",null);Id([Md],Fa.prototype,"readString",null);Id([Md],Fa.prototype,"readFixedArray",null);Id([Md],Fa.prototype,"readArray",null);Hn.BinaryReader=Fa;function z0e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Cb(t,e,r,n,i){try{if(typeof n=="string")i[`write${z0e(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new _s(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new _s(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)Cb(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{Cb(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Cb(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{Cb(t,e,s,n.key,i),Cb(t,e,o,n.value,i)});break}default:throw new _s(`FieldType ${n} unrecognized`)}else W0e(t,r,i)}catch(o){throw o instanceof _s&&o.addToFieldPath(e),o}}function W0e(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new _s(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Cb(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,u]=n.values[o];if(s===i){r.writeU8(o),Cb(t,s,e[s],u,r);break}}}else throw new _s(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function X$e(t,e,r=qM){let n=new r;return W0e(t,e,n),n.toArray()}Hn.serialize=X$e;function Bb(t,e,r,n){try{if(typeof r=="string")return n[`read${z0e(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(Bb(t,null,r[0],n));return i}else return n.readArray(()=>Bb(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Bb(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let u=Bb(t,e,r.key,n),l=Bb(t,e,r.value,n);i.set(u,l)}return i}return uV(t,r,n)}catch(i){throw i instanceof _s&&i.addToFieldPath(e),i}}function uV(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new _s(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=Bb(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new _s(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],u=Bb(t,o,s,r);return new e({[o]:u})}throw new _s(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function eYe(t,e,r,n=Fa){let i=new n(r),o=uV(t,e,i);if(i.offset<r.length)throw new _s(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}Hn.deserialize=eYe;function tYe(t,e,r,n=Fa){let i=new n(r);return uV(t,e,i)}Hn.deserializeUnchecked=tYe});var L3=q(He=>{"use strict";d();h();Object.defineProperty(He,"__esModule",{value:!0});He.s16=He.s8=He.nu64be=He.u48be=He.u40be=He.u32be=He.u24be=He.u16be=He.nu64=He.u48=He.u40=He.u32=He.u24=He.u16=He.u8=He.offset=He.greedy=He.Constant=He.UTF8=He.CString=He.Blob=He.Boolean=He.BitField=He.BitStructure=He.VariantLayout=He.Union=He.UnionLayoutDiscriminator=He.UnionDiscriminator=He.Structure=He.Sequence=He.DoubleBE=He.Double=He.FloatBE=He.Float=He.NearInt64BE=He.NearInt64=He.NearUInt64BE=He.NearUInt64=He.IntBE=He.Int=He.UIntBE=He.UInt=He.OffsetLayout=He.GreedyCount=He.ExternalLayout=He.bindConstructorLayout=He.nameWithProperty=He.Layout=He.uint8ArrayToBuffer=He.checkUint8Array=void 0;He.constant=He.utf8=He.cstr=He.blob=He.unionLayoutDiscriminator=He.union=He.seq=He.bits=He.struct=He.f64be=He.f64=He.f32be=He.f32=He.ns64be=He.s48be=He.s40be=He.s32be=He.s24be=He.s16be=He.ns64=He.s48=He.s40=He.s32=He.s24=void 0;var lV=Dn();function lw(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}He.checkUint8Array=lw;function hn(t){return lw(t),lV.Buffer.from(t.buffer,t.byteOffset,t.length)}He.uint8ArrayToBuffer=hn;var En=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};He.Layout=En;function dV(t,e){return e.property?t+"["+e.property+"]":t}He.nameWithProperty=dV;function rYe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof En))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}He.bindConstructorLayout=rYe;var ia=class extends En{isCount(){throw new Error("ExternalLayout is abstract")}};He.ExternalLayout=ia;var VM=class extends ia{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){lw(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};He.GreedyCount=VM;var B3=class extends ia{constructor(e,r=0,n){if(!(e instanceof En))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof mc||this.layout instanceof tu}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};He.OffsetLayout=B3;var mc=class extends En{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return hn(r).writeUIntLE(e,n,this.span),this.span}};He.UInt=mc;var tu=class extends En{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return hn(r).writeUIntBE(e,n,this.span),this.span}};He.UIntBE=tu;var c0=class extends En{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readIntLE(r,this.span)}encode(e,r,n=0){return hn(r).writeIntLE(e,n,this.span),this.span}};He.Int=c0;var mm=class extends En{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readIntBE(r,this.span)}encode(e,r,n=0){return hn(r).writeIntBE(e,n,this.span),this.span}};He.IntBE=mm;var fV=Math.pow(2,32);function ok(t){let e=Math.floor(t/fV),r=t-e*fV;return{hi32:e,lo32:r}}function sk(t,e){return t*fV+e}var HM=class extends En{constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return sk(o,i)}encode(e,r,n=0){let i=ok(e),o=hn(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};He.NearUInt64=HM;var jM=class extends En{constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return sk(i,o)}encode(e,r,n=0){let i=ok(e),o=hn(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};He.NearUInt64BE=jM;var zM=class extends En{constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return sk(o,i)}encode(e,r,n=0){let i=ok(e),o=hn(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};He.NearInt64=zM;var WM=class extends En{constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return sk(i,o)}encode(e,r,n=0){let i=ok(e),o=hn(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};He.NearInt64BE=WM;var GM=class extends En{constructor(e){super(4,e)}decode(e,r=0){return hn(e).readFloatLE(r)}encode(e,r,n=0){return hn(r).writeFloatLE(e,n),4}};He.Float=GM;var $M=class extends En{constructor(e){super(4,e)}decode(e,r=0){return hn(e).readFloatBE(r)}encode(e,r,n=0){return hn(r).writeFloatBE(e,n),4}};He.FloatBE=$M;var YM=class extends En{constructor(e){super(8,e)}decode(e,r=0){return hn(e).readDoubleLE(r)}encode(e,r,n=0){return hn(r).writeDoubleLE(e,n),8}};He.Double=YM;var ZM=class extends En{constructor(e){super(8,e)}decode(e,r=0){return hn(e).readDoubleBE(r)}encode(e,r,n=0){return hn(r).writeDoubleBE(e,n),8}};He.DoubleBE=ZM;var QM=class extends En{constructor(e,r,n){if(!(e instanceof En))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ia&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof ia)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof ia&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof ia&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((s,u)=>s+i.encode(u,r,n+s),0);return this.count instanceof ia&&this.count.encode(e.length,r,n),o}};He.Sequence=QM;var JM=class extends En{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof En,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){lw(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,s=0;for(let u of this.fields){let l=u.span;if(s=0<l?l:0,u.property!==void 0){let m=e[u.property];m!==void 0&&(s=u.encode(m,r,n),0>l&&(l=u.getSpan(r,n)))}o=n,n+=l}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};He.Structure=JM;var O3=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};He.UnionDiscriminator=O3;var fw=class extends O3{constructor(e,r){if(!(e instanceof ia&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};He.UnionLayoutDiscriminator=fw;var D3=class extends En{constructor(e,r,n){let i;if(e instanceof mc||e instanceof tu)i=new fw(new B3(e));else if(e instanceof ia&&e.isCount())i=new fw(e);else if(e instanceof O3)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof En))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof mc||e instanceof tu)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof mc||e instanceof tu,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return s(u)},this.configGetSourceVariant=function(u){s=u.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let u=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[u.property]=u.decode(e,r+l)}else n=s.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,u=0;return this.usesPrefixDiscriminator&&(u=o.layout.span),o.encode(e[o.property],r,n),u+s.encode(e[s.property],r,n+u)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new XM(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};He.Union=D3;var XM=class extends En{constructor(e,r,n,i){if(!(e instanceof D3))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof En))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};He.VariantLayout=XM;function uw(t){return 0>t&&(t+=4294967296),t}var N3=class extends En{constructor(e,r,n){if(!(e instanceof mc||e instanceof tu))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=uw(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new U3(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new ek(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};He.BitStructure=N3;var U3=class{constructor(e,r,n){if(!(e instanceof N3))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,u)=>s+u.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=uw(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return uw(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==uw(e&this.valueMask))throw new TypeError(dV("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=uw(e<<this.start);this.container._packedSetValue(uw(r&~this.wordMask)|n)}};He.BitField=U3;var ek=class extends U3{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};He.Boolean=ek;var tk=class extends En{constructor(e,r){if(!(e instanceof ia&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ia||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),hn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof ia&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(dV("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=hn(e);return hn(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof ia&&this.length.encode(i,r,n),i}};He.Blob=tk;var rk=class extends En{constructor(e){super(-1,e)}getSpan(e,r=0){lw(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return hn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=lV.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=hn(r);return i.copy(s,n),s[n+o]=0,o+1}};He.CString=rk;var nk=class extends En{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return lw(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return hn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=lV.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(hn(r),n),o}};He.UTF8=nk;var ik=class extends En{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};He.Constant=ik;He.greedy=(t,e)=>new VM(t,e);He.offset=(t,e,r)=>new B3(t,e,r);He.u8=t=>new mc(1,t);He.u16=t=>new mc(2,t);He.u24=t=>new mc(3,t);He.u32=t=>new mc(4,t);He.u40=t=>new mc(5,t);He.u48=t=>new mc(6,t);He.nu64=t=>new HM(t);He.u16be=t=>new tu(2,t);He.u24be=t=>new tu(3,t);He.u32be=t=>new tu(4,t);He.u40be=t=>new tu(5,t);He.u48be=t=>new tu(6,t);He.nu64be=t=>new jM(t);He.s8=t=>new c0(1,t);He.s16=t=>new c0(2,t);He.s24=t=>new c0(3,t);He.s32=t=>new c0(4,t);He.s40=t=>new c0(5,t);He.s48=t=>new c0(6,t);He.ns64=t=>new zM(t);He.s16be=t=>new mm(2,t);He.s24be=t=>new mm(3,t);He.s32be=t=>new mm(4,t);He.s40be=t=>new mm(5,t);He.s48be=t=>new mm(6,t);He.ns64be=t=>new WM(t);He.f32=t=>new GM(t);He.f32be=t=>new $M(t);He.f64=t=>new YM(t);He.f64be=t=>new ZM(t);He.struct=(t,e,r)=>new JM(t,e,r);He.bits=(t,e,r)=>new N3(t,e,r);He.seq=(t,e,r)=>new QM(t,e,r);He.union=(t,e,r)=>new D3(t,e,r);He.unionLayoutDiscriminator=(t,e)=>new fw(t,e);He.blob=(t,e)=>new tk(t,e);He.cstr=t=>new rk(t);He.utf8=(t,e)=>new nk(t,e);He.constant=(t,e)=>new ik(t,e)});var hV=q(dw=>{"use strict";d();h();Object.defineProperty(dw,"__esModule",{value:!0});var ak;function nYe(t){{let e=Buffer.from(t);e.reverse();let r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}return ak.toBigInt(t,!1)}dw.toBigIntLE=nYe;function iYe(t){{let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return ak.toBigInt(t,!0)}dw.toBigIntBE=iYe;function oYe(t,e){{let r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return ak.fromBigInt(t,Buffer.allocUnsafe(e),!1)}dw.toBufferLE=oYe;function sYe(t,e){{let r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}return ak.fromBigInt(t,Buffer.allocUnsafe(e),!0)}dw.toBufferBE=sYe});var tpe=q(Wt=>{"use strict";d();h();Object.defineProperty(Wt,"__esModule",{value:!0});var ck=class extends TypeError{constructor(e,r){let n,{message:i,...o}=e,{path:s}=e,u=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[e,...r()]}}};function aYe(t){return pl(t)&&typeof t[Symbol.iterator]=="function"}function pl(t){return typeof t=="object"&&t!=null}function $0e(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ko(t){return typeof t=="string"?JSON.stringify(t):""+t}function cYe(t){let{done:e,value:r}=t.next();return e?void 0:r}function uYe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:u,message:l="Expected a value of type `"+s+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+ko(n)+"`"}=t;return{value:n,type:s,refinement:u,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*pV(t,e,r,n){aYe(t)||(t=[t]);for(let i of t){let o=uYe(i,e,r,n);o&&(yield o)}}function*mV(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,u={path:n,branch:i};if(o&&(t=e.coercer(t,u),s&&e.type!=="type"&&pl(e.schema)&&pl(t)&&!Array.isArray(t)))for(let m in t)e.schema[m]===void 0&&delete t[m];let l=!0;for(let m of e.validator(t,u))l=!1,yield[m,void 0];for(let[m,x,w]of e.entries(t,u)){let E=mV(x,w,{path:m===void 0?n:[...n,m],branch:m===void 0?i:[...i,x],coerce:o,mask:s});for(let I of E)I[0]?(l=!1,yield[I[0],void 0]):o&&(x=I[1],m===void 0?t=x:t instanceof Map?t.set(m,x):t instanceof Set?t.add(x):pl(t)&&(t[m]=x))}if(l)for(let m of e.refiner(t,u))l=!1,yield[m,void 0];l&&(yield[void 0,t])}var Di=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=l=>l,entries:u=function*(){}}=e;this.type=r,this.schema=n,this.entries=u,this.coercer=s,i?this.validator=(l,m)=>{let x=i(l,m);return pV(x,m,this,l)}:this.validator=()=>[],o?this.refiner=(l,m)=>{let x=o(l,m);return pV(x,m,this,l)}:this.refiner=()=>[]}assert(e){return Y0e(e,this)}create(e){return Z0e(e,this)}is(e){return yV(e,this)}mask(e){return Q0e(e,this)}validate(e,r={}){return hw(e,this,r)}};function Y0e(t,e){let r=hw(t,e);if(r[0])throw r[0]}function Z0e(t,e){let r=hw(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function Q0e(t,e){let r=hw(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function yV(t,e){return!hw(t,e)[0]}function hw(t,e,r={}){let n=mV(t,e,r),i=cYe(n);return i[0]?[new ck(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function fYe(...t){let e=t.map(n=>n.schema),r=Object.assign({},...e);return F3(r)}function ru(t,e){return new Di({type:t,schema:null,validator:e})}function lYe(t,e){return new Di({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function dYe(t){return new Di({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)}})}function hYe(t){let e;return new Di({type:"lazy",schema:null,*entries(r,n){var i;(i=e)!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){var i;return(i=e)!=null||(e=t()),e.validator(r,n)},coercer(r,n){var i;return(i=e)!=null||(e=t()),e.coercer(r,n)}})}function pYe(t,e){let{schema:r}=t,n={...r};for(let i of e)delete n[i];return F3(n)}function mYe(t){let e=t instanceof Di?{...t.schema}:{...t};for(let r in e)e[r]=J0e(e[r]);return F3(e)}function yYe(t,e){let{schema:r}=t,n={};for(let i of e)n[i]=r[i];return F3(n)}function gYe(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ru(t,e)}function bYe(){return ru("any",()=>!0)}function vYe(t){return new Di({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+ko(e)}})}function xYe(){return ru("boolean",t=>typeof t=="boolean")}function wYe(){return ru("date",t=>t instanceof Date&&!isNaN(t.getTime())||"Expected a valid `Date` object, but received: "+ko(t))}function SYe(t){let e={},r=t.map(n=>ko(n)).join();for(let n of t)e[n]=n;return new Di({type:"enums",schema:e,validator(n){return t.includes(n)||"Expected one of `"+r+"`, but received: "+ko(n)}})}function AYe(){return ru("func",t=>typeof t=="function"||"Expected a function, but received: "+ko(t))}function EYe(t){return ru("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+ko(e))}function _Ye(){return ru("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+ko(t))}function TYe(t){return new Di({type:"intersection",schema:null,*entries(e,r){for(let n of t)yield*n.entries(e,r)},*validator(e,r){for(let n of t)yield*n.validator(e,r)},*refiner(e,r){for(let n of t)yield*n.refiner(e,r)}})}function IYe(t){let e=ko(t),r=typeof t;return new Di({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+ko(n)}})}function MYe(t,e){return new Di({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+ko(r)}})}function gV(){return ru("never",()=>!1)}function kYe(t){return new Di({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function PYe(){return ru("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+ko(t))}function F3(t){let e=t?Object.keys(t):[],r=gV();return new Di({type:"object",schema:t||null,*entries(n){if(t&&pl(n)){let i=new Set(Object.keys(n));for(let o of e)i.delete(o),yield[o,n[o],t[o]];for(let o of i)yield[o,n[o],r]}},validator(n){return pl(n)||"Expected an object, but received: "+ko(n)},coercer(n){return pl(n)?{...n}:n}})}function J0e(t){return new Di({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function RYe(t,e){return new Di({type:"record",schema:null,*entries(r){if(pl(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return pl(r)||"Expected an object, but received: "+ko(r)}})}function CYe(){return ru("regexp",t=>t instanceof RegExp)}function BYe(t){return new Di({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(let r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+ko(e)}})}function X0e(){return ru("string",t=>typeof t=="string"||"Expected a string, but received: "+ko(t))}function OYe(t){let e=gV();return new Di({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+ko(r)}})}function DYe(t){let e=Object.keys(t);return new Di({type:"type",schema:t,*entries(r){if(pl(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return pl(r)||"Expected an object, but received: "+ko(r)}})}function NYe(t){let e=t.map(r=>r.type).join(" | ");return new Di({type:"union",schema:null,validator(r,n){let i=[];for(let o of t){let[...s]=mV(r,o,n),[u]=s;if(u[0])for(let[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+ko(r),...i]}})}function epe(){return ru("unknown",()=>!0)}function bV(t,e,r){return new Di({...t,coercer:(n,i)=>yV(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function UYe(t,e,r={}){return bV(t,epe(),n=>{let i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&$0e(n)&&$0e(i)){let o={...n},s=!1;for(let u in i)o[u]===void 0&&(o[u]=i[u],s=!0);if(s)return o}return n})}function LYe(t){return bV(t,X0e(),e=>e.trim())}function FYe(t){let e="Expected an empty "+t.type;return pw(t,"empty",r=>{if(r instanceof Map||r instanceof Set){let{size:n}=r;return n===0||e+" but received one with a size of `"+n+"`"}else{let{length:n}=r;return n===0||e+" but received one with a length of `"+n+"`"}})}function KYe(t,e,r={}){let{exclusive:n}=r;return pw(t,"max",i=>n?i<e:i<=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function qYe(t,e,r={}){let{exclusive:n}=r;return pw(t,"min",i=>n?i>e:i>=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function VYe(t,e){return pw(t,"pattern",r=>e.test(r)||"Expected a "+t.type+" matching `/"+e.source+'/` but received "'+r+'"')}function HYe(t,e,r=e){let n="Expected a "+t.type,i=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return pw(t,"size",o=>{if(typeof o=="number"||o instanceof Date)return e<=o&&o<=r||n+" "+i+" but received `"+o+"`";if(o instanceof Map||o instanceof Set){let{size:s}=o;return e<=s&&s<=r||n+" with a size "+i+" but received one with a size of `"+s+"`"}else{let{length:s}=o;return e<=s&&s<=r||n+" with a length "+i+" but received one with a length of `"+s+"`"}})}function pw(t,e,r){return new Di({...t,*refiner(n,i){yield*t.refiner(n,i);let o=r(n,i),s=pV(o,i,t,n);for(let u of s)yield{...u,refinement:e}}})}Wt.Struct=Di;Wt.StructError=ck;Wt.any=bYe;Wt.array=vYe;Wt.assert=Y0e;Wt.assign=fYe;Wt.boolean=xYe;Wt.coerce=bV;Wt.create=Z0e;Wt.date=wYe;Wt.defaulted=UYe;Wt.define=ru;Wt.deprecated=lYe;Wt.dynamic=dYe;Wt.empty=FYe;Wt.enums=SYe;Wt.func=AYe;Wt.instance=EYe;Wt.integer=_Ye;Wt.intersection=TYe;Wt.is=yV;Wt.lazy=hYe;Wt.literal=IYe;Wt.map=MYe;Wt.mask=Q0e;Wt.max=KYe;Wt.min=qYe;Wt.never=gV;Wt.nullable=kYe;Wt.number=PYe;Wt.object=F3;Wt.omit=pYe;Wt.optional=J0e;Wt.partial=mYe;Wt.pattern=VYe;Wt.pick=yYe;Wt.record=RYe;Wt.refine=pw;Wt.regexp=CYe;Wt.set=BYe;Wt.size=HYe;Wt.string=X0e;Wt.struct=gYe;Wt.trimmed=LYe;Wt.tuple=OYe;Wt.type=DYe;Wt.union=NYe;Wt.unknown=epe;Wt.validate=hw});var xV=q(vV=>{"use strict";d();h();Object.defineProperty(vV,"__esModule",{value:!0});vV.default=zYe;var uk,jYe=new Uint8Array(16);function zYe(){if(!uk&&(uk=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!uk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uk(jYe)}});var rpe=q(fk=>{"use strict";d();h();Object.defineProperty(fk,"__esModule",{value:!0});fk.default=void 0;var WYe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;fk.default=WYe});var K3=q(lk=>{"use strict";d();h();Object.defineProperty(lk,"__esModule",{value:!0});lk.default=void 0;var GYe=$Ye(rpe());function $Ye(t){return t&&t.__esModule?t:{default:t}}function YYe(t){return typeof t=="string"&&GYe.default.test(t)}var ZYe=YYe;lk.default=ZYe});var V3=q(q3=>{"use strict";d();h();Object.defineProperty(q3,"__esModule",{value:!0});q3.default=void 0;q3.unsafeStringify=npe;var QYe=JYe(K3());function JYe(t){return t&&t.__esModule?t:{default:t}}var Ts=[];for(let t=0;t<256;++t)Ts.push((t+256).toString(16).slice(1));function npe(t,e=0){return Ts[t[e+0]]+Ts[t[e+1]]+Ts[t[e+2]]+Ts[t[e+3]]+"-"+Ts[t[e+4]]+Ts[t[e+5]]+"-"+Ts[t[e+6]]+Ts[t[e+7]]+"-"+Ts[t[e+8]]+Ts[t[e+9]]+"-"+Ts[t[e+10]]+Ts[t[e+11]]+Ts[t[e+12]]+Ts[t[e+13]]+Ts[t[e+14]]+Ts[t[e+15]]}function XYe(t,e=0){let r=npe(t,e);if(!(0,QYe.default)(r))throw TypeError("Stringified UUID is invalid");return r}var eZe=XYe;q3.default=eZe});var ope=q(dk=>{"use strict";d();h();Object.defineProperty(dk,"__esModule",{value:!0});dk.default=void 0;var tZe=nZe(xV()),rZe=V3();function nZe(t){return t&&t.__esModule?t:{default:t}}var ipe,wV,SV=0,AV=0;function iZe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||ipe,s=t.clockseq!==void 0?t.clockseq:wV;if(o==null||s==null){let E=t.random||(t.rng||tZe.default)();o==null&&(o=ipe=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),s==null&&(s=wV=(E[6]<<8|E[7])&16383)}let u=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:AV+1,m=u-SV+(l-AV)/1e4;if(m<0&&t.clockseq===void 0&&(s=s+1&16383),(m<0||u>SV)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");SV=u,AV=l,wV=s,u+=122192928e5;let x=((u&268435455)*1e4+l)%4294967296;i[n++]=x>>>24&255,i[n++]=x>>>16&255,i[n++]=x>>>8&255,i[n++]=x&255;let w=u/4294967296*1e4&268435455;i[n++]=w>>>8&255,i[n++]=w&255,i[n++]=w>>>24&15|16,i[n++]=w>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let E=0;E<6;++E)i[n+E]=o[E];return e||(0,rZe.unsafeStringify)(i)}var oZe=iZe;dk.default=oZe});var EV=q(hk=>{"use strict";d();h();Object.defineProperty(hk,"__esModule",{value:!0});hk.default=void 0;var sZe=aZe(K3());function aZe(t){return t&&t.__esModule?t:{default:t}}function cZe(t){if(!(0,sZe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var uZe=cZe;hk.default=uZe});var _V=q(Ob=>{"use strict";d();h();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.URL=Ob.DNS=void 0;Ob.default=pZe;var fZe=V3(),lZe=dZe(EV());function dZe(t){return t&&t.__esModule?t:{default:t}}function hZe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var spe="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ob.DNS=spe;var ape="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ob.URL=ape;function pZe(t,e,r){function n(i,o,s,u){var l;if(typeof i=="string"&&(i=hZe(i)),typeof o=="string"&&(o=(0,lZe.default)(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+i.length);if(m.set(o),m.set(i,o.length),m=r(m),m[6]=m[6]&15|e,m[8]=m[8]&63|128,s){u=u||0;for(let x=0;x<16;++x)s[u+x]=m[x];return s}return(0,fZe.unsafeStringify)(m)}try{n.name=t}catch{}return n.DNS=spe,n.URL=ape,n}});var upe=q(mk=>{"use strict";d();h();Object.defineProperty(mk,"__esModule",{value:!0});mk.default=void 0;function mZe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return yZe(gZe(bZe(t),t.length*8))}function yZe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let o=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(s)}return e}function cpe(t){return(t+64>>>9<<4)+14+1}function gZe(t,e){t[e>>5]|=128<<e%32,t[cpe(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let s=0;s<t.length;s+=16){let u=r,l=n,m=i,x=o;r=oa(r,n,i,o,t[s],7,-680876936),o=oa(o,r,n,i,t[s+1],12,-389564586),i=oa(i,o,r,n,t[s+2],17,606105819),n=oa(n,i,o,r,t[s+3],22,-1044525330),r=oa(r,n,i,o,t[s+4],7,-176418897),o=oa(o,r,n,i,t[s+5],12,1200080426),i=oa(i,o,r,n,t[s+6],17,-1473231341),n=oa(n,i,o,r,t[s+7],22,-45705983),r=oa(r,n,i,o,t[s+8],7,1770035416),o=oa(o,r,n,i,t[s+9],12,-1958414417),i=oa(i,o,r,n,t[s+10],17,-42063),n=oa(n,i,o,r,t[s+11],22,-1990404162),r=oa(r,n,i,o,t[s+12],7,1804603682),o=oa(o,r,n,i,t[s+13],12,-40341101),i=oa(i,o,r,n,t[s+14],17,-1502002290),n=oa(n,i,o,r,t[s+15],22,1236535329),r=sa(r,n,i,o,t[s+1],5,-165796510),o=sa(o,r,n,i,t[s+6],9,-1069501632),i=sa(i,o,r,n,t[s+11],14,643717713),n=sa(n,i,o,r,t[s],20,-373897302),r=sa(r,n,i,o,t[s+5],5,-701558691),o=sa(o,r,n,i,t[s+10],9,38016083),i=sa(i,o,r,n,t[s+15],14,-660478335),n=sa(n,i,o,r,t[s+4],20,-405537848),r=sa(r,n,i,o,t[s+9],5,568446438),o=sa(o,r,n,i,t[s+14],9,-1019803690),i=sa(i,o,r,n,t[s+3],14,-187363961),n=sa(n,i,o,r,t[s+8],20,1163531501),r=sa(r,n,i,o,t[s+13],5,-1444681467),o=sa(o,r,n,i,t[s+2],9,-51403784),i=sa(i,o,r,n,t[s+7],14,1735328473),n=sa(n,i,o,r,t[s+12],20,-1926607734),r=aa(r,n,i,o,t[s+5],4,-378558),o=aa(o,r,n,i,t[s+8],11,-2022574463),i=aa(i,o,r,n,t[s+11],16,1839030562),n=aa(n,i,o,r,t[s+14],23,-35309556),r=aa(r,n,i,o,t[s+1],4,-1530992060),o=aa(o,r,n,i,t[s+4],11,1272893353),i=aa(i,o,r,n,t[s+7],16,-155497632),n=aa(n,i,o,r,t[s+10],23,-1094730640),r=aa(r,n,i,o,t[s+13],4,681279174),o=aa(o,r,n,i,t[s],11,-358537222),i=aa(i,o,r,n,t[s+3],16,-722521979),n=aa(n,i,o,r,t[s+6],23,76029189),r=aa(r,n,i,o,t[s+9],4,-640364487),o=aa(o,r,n,i,t[s+12],11,-421815835),i=aa(i,o,r,n,t[s+15],16,530742520),n=aa(n,i,o,r,t[s+2],23,-995338651),r=ca(r,n,i,o,t[s],6,-198630844),o=ca(o,r,n,i,t[s+7],10,1126891415),i=ca(i,o,r,n,t[s+14],15,-1416354905),n=ca(n,i,o,r,t[s+5],21,-57434055),r=ca(r,n,i,o,t[s+12],6,1700485571),o=ca(o,r,n,i,t[s+3],10,-1894986606),i=ca(i,o,r,n,t[s+10],15,-1051523),n=ca(n,i,o,r,t[s+1],21,-2054922799),r=ca(r,n,i,o,t[s+8],6,1873313359),o=ca(o,r,n,i,t[s+15],10,-30611744),i=ca(i,o,r,n,t[s+6],15,-1560198380),n=ca(n,i,o,r,t[s+13],21,1309151649),r=ca(r,n,i,o,t[s+4],6,-145523070),o=ca(o,r,n,i,t[s+11],10,-1120210379),i=ca(i,o,r,n,t[s+2],15,718787259),n=ca(n,i,o,r,t[s+9],21,-343485551),r=ym(r,u),n=ym(n,l),i=ym(i,m),o=ym(o,x)}return[r,n,i,o]}function bZe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(cpe(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function ym(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function vZe(t,e){return t<<e|t>>>32-e}function pk(t,e,r,n,i,o){return ym(vZe(ym(ym(e,t),ym(n,o)),i),r)}function oa(t,e,r,n,i,o,s){return pk(e&r|~e&n,t,e,i,o,s)}function sa(t,e,r,n,i,o,s){return pk(e&n|r&~n,t,e,i,o,s)}function aa(t,e,r,n,i,o,s){return pk(e^r^n,t,e,i,o,s)}function ca(t,e,r,n,i,o,s){return pk(r^(e|~n),t,e,i,o,s)}var xZe=mZe;mk.default=xZe});var lpe=q(yk=>{"use strict";d();h();Object.defineProperty(yk,"__esModule",{value:!0});yk.default=void 0;var wZe=fpe(_V()),SZe=fpe(upe());function fpe(t){return t&&t.__esModule?t:{default:t}}var AZe=(0,wZe.default)("v3",48,SZe.default),EZe=AZe;yk.default=EZe});var dpe=q(gk=>{"use strict";d();h();Object.defineProperty(gk,"__esModule",{value:!0});gk.default=void 0;var _Ze=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),TZe={randomUUID:_Ze};gk.default=TZe});var mpe=q(bk=>{"use strict";d();h();Object.defineProperty(bk,"__esModule",{value:!0});bk.default=void 0;var hpe=ppe(dpe()),IZe=ppe(xV()),MZe=V3();function ppe(t){return t&&t.__esModule?t:{default:t}}function kZe(t,e,r){if(hpe.default.randomUUID&&!e&&!t)return hpe.default.randomUUID();t=t||{};let n=t.random||(t.rng||IZe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,MZe.unsafeStringify)(n)}var PZe=kZe;bk.default=PZe});var ype=q(vk=>{"use strict";d();h();Object.defineProperty(vk,"__esModule",{value:!0});vk.default=void 0;function RZe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function TV(t,e){return t<<e|t>>>32-e}function CZe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let s=unescape(encodeURIComponent(t));t=[];for(let u=0;u<s.length;++u)t.push(s.charCodeAt(u))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let s=0;s<i;++s){let u=new Uint32Array(16);for(let l=0;l<16;++l)u[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];o[s]=u}o[i-1][14]=(t.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){let u=new Uint32Array(80);for(let I=0;I<16;++I)u[I]=o[s][I];for(let I=16;I<80;++I)u[I]=TV(u[I-3]^u[I-8]^u[I-14]^u[I-16],1);let l=r[0],m=r[1],x=r[2],w=r[3],E=r[4];for(let I=0;I<80;++I){let M=Math.floor(I/20),k=TV(l,5)+RZe(M,m,x,w)+E+e[M]+u[I]>>>0;E=w,w=x,x=TV(m,30)>>>0,m=l,l=k}r[0]=r[0]+l>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+x>>>0,r[3]=r[3]+w>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var BZe=CZe;vk.default=BZe});var bpe=q(xk=>{"use strict";d();h();Object.defineProperty(xk,"__esModule",{value:!0});xk.default=void 0;var OZe=gpe(_V()),DZe=gpe(ype());function gpe(t){return t&&t.__esModule?t:{default:t}}var NZe=(0,OZe.default)("v5",80,DZe.default),UZe=NZe;xk.default=UZe});var vpe=q(wk=>{"use strict";d();h();Object.defineProperty(wk,"__esModule",{value:!0});wk.default=void 0;var LZe="00000000-0000-0000-0000-000000000000";wk.default=LZe});var xpe=q(Sk=>{"use strict";d();h();Object.defineProperty(Sk,"__esModule",{value:!0});Sk.default=void 0;var FZe=KZe(K3());function KZe(t){return t&&t.__esModule?t:{default:t}}function qZe(t){if(!(0,FZe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var VZe=qZe;Sk.default=VZe});var IV=q(ml=>{"use strict";d();h();Object.defineProperty(ml,"__esModule",{value:!0});Object.defineProperty(ml,"NIL",{enumerable:!0,get:function(){return GZe.default}});Object.defineProperty(ml,"parse",{enumerable:!0,get:function(){return QZe.default}});Object.defineProperty(ml,"stringify",{enumerable:!0,get:function(){return ZZe.default}});Object.defineProperty(ml,"v1",{enumerable:!0,get:function(){return HZe.default}});Object.defineProperty(ml,"v3",{enumerable:!0,get:function(){return jZe.default}});Object.defineProperty(ml,"v4",{enumerable:!0,get:function(){return zZe.default}});Object.defineProperty(ml,"v5",{enumerable:!0,get:function(){return WZe.default}});Object.defineProperty(ml,"validate",{enumerable:!0,get:function(){return YZe.default}});Object.defineProperty(ml,"version",{enumerable:!0,get:function(){return $Ze.default}});var HZe=u0(ope()),jZe=u0(lpe()),zZe=u0(mpe()),WZe=u0(bpe()),GZe=u0(vpe()),$Ze=u0(xpe()),YZe=u0(K3()),ZZe=u0(V3()),QZe=u0(EV());function u0(t){return t&&t.__esModule?t:{default:t}}});var Spe=q((Hjt,wpe)=>{"use strict";d();h();var JZe=IV().v4,XZe=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return JZe()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};wpe.exports=XZe});var Epe=q((Wjt,Ape)=>{"use strict";d();h();var eQe=IV().v4,tQe=Spe(),H3=function(t,e){if(!(this instanceof H3))return new H3(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return eQe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};Ape.exports=H3;H3.prototype.request=function(t,e,r,n){let i=this,o=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let m=typeof n=="function";try{o=tQe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(x){if(m)return n(x);throw x}if(!m)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(m){return n(m)}return this.callServer(l,function(m,x){i._parseResponse(m,x,n)}),o};H3.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return r(null,n.filter(i),n.filter(o))}else return r(null,n.error,n.result);r(null,n)}});var mw=q((Yjt,f0)=>{d();h();function MV(t){"@babel/helpers - typeof";return f0.exports=MV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0.exports.__esModule=!0,f0.exports.default=f0.exports,MV(t)}f0.exports=MV,f0.exports.__esModule=!0,f0.exports.default=f0.exports});var Tpe=q((Jjt,l0)=>{d();h();var rQe=mw().default;function _pe(){"use strict";l0.exports=_pe=function(){return t},l0.exports.__esModule=!0,l0.exports.default=l0.exports;var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(f,p,y){f[p]=y.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(f,p,y){return Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}),f[p]}try{l({},"")}catch{l=function(y,g,A){return y[g]=A}}function m(f,p,y,g){var A=p&&p.prototype instanceof E?p:E,_=Object.create(A.prototype),b=new oe(g||[]);return n(_,"_invoke",{value:V(f,y,b)}),_}function x(f,p,y){try{return{type:"normal",arg:f.call(p,y)}}catch(g){return{type:"throw",arg:g}}}t.wrap=m;var w={};function E(){}function I(){}function M(){}var k={};l(k,o,function(){return this});var C=Object.getPrototypeOf,R=C&&C(C(S([])));R&&R!==e&&r.call(R,o)&&(k=R);var L=M.prototype=E.prototype=Object.create(k);function P(f){["next","throw","return"].forEach(function(p){l(f,p,function(y){return this._invoke(p,y)})})}function K(f,p){function y(A,_,b,c){var v=x(f[A],f,_);if(v.type!=="throw"){var F=v.arg,U=F.value;return U&&rQe(U)=="object"&&r.call(U,"__await")?p.resolve(U.__await).then(function(O){y("next",O,b,c)},function(O){y("throw",O,b,c)}):p.resolve(U).then(function(O){F.value=O,b(F)},function(O){return y("throw",O,b,c)})}c(v.arg)}var g;n(this,"_invoke",{value:function(_,b){function c(){return new p(function(v,F){y(_,b,v,F)})}return g=g?g.then(c,c):c()}})}function V(f,p,y){var g="suspendedStart";return function(A,_){if(g==="executing")throw new Error("Generator is already running");if(g==="completed"){if(A==="throw")throw _;return a()}for(y.method=A,y.arg=_;;){var b=y.delegate;if(b){var c=j(b,y);if(c){if(c===w)continue;return c}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(g==="suspendedStart")throw g="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);g="executing";var v=x(f,p,y);if(v.type==="normal"){if(g=y.done?"completed":"suspendedYield",v.arg===w)continue;return{value:v.arg,done:y.done}}v.type==="throw"&&(g="completed",y.method="throw",y.arg=v.arg)}}}function j(f,p){var y=p.method,g=f.iterator[y];if(g===void 0)return p.delegate=null,y==="throw"&&f.iterator.return&&(p.method="return",p.arg=void 0,j(f,p),p.method==="throw")||y!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+y+"' method")),w;var A=x(g,f.iterator,p.arg);if(A.type==="throw")return p.method="throw",p.arg=A.arg,p.delegate=null,w;var _=A.arg;return _?_.done?(p[f.resultName]=_.value,p.next=f.nextLoc,p.method!=="return"&&(p.method="next",p.arg=void 0),p.delegate=null,w):_:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,w)}function ne(f){var p={tryLoc:f[0]};1 in f&&(p.catchLoc=f[1]),2 in f&&(p.finallyLoc=f[2],p.afterLoc=f[3]),this.tryEntries.push(p)}function J(f){var p=f.completion||{};p.type="normal",delete p.arg,f.completion=p}function oe(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(ne,this),this.reset(!0)}function S(f){if(f){var p=f[o];if(p)return p.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var y=-1,g=function A(){for(;++y<f.length;)if(r.call(f,y))return A.value=f[y],A.done=!1,A;return A.value=void 0,A.done=!0,A};return g.next=g}}return{next:a}}function a(){return{value:void 0,done:!0}}return I.prototype=M,n(L,"constructor",{value:M,configurable:!0}),n(M,"constructor",{value:I,configurable:!0}),I.displayName=l(M,u,"GeneratorFunction"),t.isGeneratorFunction=function(f){var p=typeof f=="function"&&f.constructor;return!!p&&(p===I||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,M):(f.__proto__=M,l(f,u,"GeneratorFunction")),f.prototype=Object.create(L),f},t.awrap=function(f){return{__await:f}},P(K.prototype),l(K.prototype,s,function(){return this}),t.AsyncIterator=K,t.async=function(f,p,y,g,A){A===void 0&&(A=Promise);var _=new K(m(f,p,y,g),A);return t.isGeneratorFunction(p)?_:_.next().then(function(b){return b.done?b.value:_.next()})},P(L),l(L,u,"Generator"),l(L,o,function(){return this}),l(L,"toString",function(){return"[object Generator]"}),t.keys=function(f){var p=Object(f),y=[];for(var g in p)y.push(g);return y.reverse(),function A(){for(;y.length;){var _=y.pop();if(_ in p)return A.value=_,A.done=!1,A}return A.done=!0,A}},t.values=S,oe.prototype={constructor:oe,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(J),!p)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var y=this;function g(F,U){return b.type="throw",b.arg=p,y.next=F,U&&(y.method="next",y.arg=void 0),!!U}for(var A=this.tryEntries.length-1;A>=0;--A){var _=this.tryEntries[A],b=_.completion;if(_.tryLoc==="root")return g("end");if(_.tryLoc<=this.prev){var c=r.call(_,"catchLoc"),v=r.call(_,"finallyLoc");if(c&&v){if(this.prev<_.catchLoc)return g(_.catchLoc,!0);if(this.prev<_.finallyLoc)return g(_.finallyLoc)}else if(c){if(this.prev<_.catchLoc)return g(_.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return g(_.finallyLoc)}}}},abrupt:function(p,y){for(var g=this.tryEntries.length-1;g>=0;--g){var A=this.tryEntries[g];if(A.tryLoc<=this.prev&&r.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var _=A;break}}_&&(p==="break"||p==="continue")&&_.tryLoc<=y&&y<=_.finallyLoc&&(_=null);var b=_?_.completion:{};return b.type=p,b.arg=y,_?(this.method="next",this.next=_.finallyLoc,w):this.complete(b)},complete:function(p,y){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&y&&(this.next=y),w},finish:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var g=this.tryEntries[y];if(g.finallyLoc===p)return this.complete(g.completion,g.afterLoc),J(g),w}},catch:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var g=this.tryEntries[y];if(g.tryLoc===p){var A=g.completion;if(A.type==="throw"){var _=A.arg;J(g)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(p,y,g){return this.delegate={iterator:S(p),resultName:y,nextLoc:g},this.method==="next"&&(this.arg=void 0),w}},t}l0.exports=_pe,l0.exports.__esModule=!0,l0.exports.default=l0.exports});var Mpe=q((tzt,Ipe)=>{d();h();var Ak=Tpe()();Ipe.exports=Ak;try{regeneratorRuntime=Ak}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Ak:Function("r","regeneratorRuntime = r")(Ak)}});var Ppe=q((izt,j3)=>{d();h();function kpe(t,e,r,n,i,o,s){try{var u=t[o](s),l=u.value}catch(m){r(m);return}u.done?e(l):Promise.resolve(l).then(n,i)}function nQe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(l){kpe(o,n,i,s,u,"next",l)}function u(l){kpe(o,n,i,s,u,"throw",l)}s(void 0)})}}j3.exports=nQe,j3.exports.__esModule=!0,j3.exports.default=j3.exports});var kV=q((azt,z3)=>{d();h();function iQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}z3.exports=iQe,z3.exports.__esModule=!0,z3.exports.default=z3.exports});var Cpe=q((fzt,W3)=>{d();h();var Rpe=mw().default;function oQe(t,e){if(Rpe(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rpe(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}W3.exports=oQe,W3.exports.__esModule=!0,W3.exports.default=W3.exports});var Bpe=q((hzt,G3)=>{d();h();var sQe=mw().default,aQe=Cpe();function cQe(t){var e=aQe(t,"string");return sQe(e)==="symbol"?e:String(e)}G3.exports=cQe,G3.exports.__esModule=!0,G3.exports.default=G3.exports});var PV=q((yzt,$3)=>{d();h();var uQe=Bpe();function Ope(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uQe(n.key),n)}}function fQe(t,e,r){return e&&Ope(t.prototype,e),r&&Ope(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}$3.exports=fQe,$3.exports.__esModule=!0,$3.exports.default=$3.exports});var Dpe=q((vzt,d0)=>{d();h();function RV(t,e){return d0.exports=RV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d0.exports.__esModule=!0,d0.exports.default=d0.exports,RV(t,e)}d0.exports=RV,d0.exports.__esModule=!0,d0.exports.default=d0.exports});var CV=q((Szt,Y3)=>{d();h();var lQe=Dpe();function dQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lQe(t,e)}Y3.exports=dQe,Y3.exports.__esModule=!0,Y3.exports.default=Y3.exports});var Npe=q((_zt,Z3)=>{d();h();function hQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Z3.exports=hQe,Z3.exports.__esModule=!0,Z3.exports.default=Z3.exports});var BV=q((Mzt,Q3)=>{d();h();var pQe=mw().default,mQe=Npe();function yQe(t,e){if(e&&(pQe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQe(t)}Q3.exports=yQe,Q3.exports.__esModule=!0,Q3.exports.default=Q3.exports});var DV=q((Rzt,h0)=>{d();h();function OV(t){return h0.exports=OV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h0.exports.__esModule=!0,h0.exports.default=h0.exports,OV(t)}h0.exports=OV,h0.exports.__esModule=!0,h0.exports.default=h0.exports});var Lpe=q(_k=>{"use strict";d();h();var bm=Ioe();Object.defineProperty(_k,"__esModule",{value:!0});_k.default=void 0;var gm=bm(Mpe()),Ek=bm(Ppe()),gQe=bm(mw()),bQe=bm(kV()),vQe=bm(PV()),xQe=bm(CV()),wQe=bm(BV()),Upe=bm(DV()),SQe=Moe();function AQe(t){var e=EQe();return function(){var n=(0,Upe.default)(t),i;if(e){var o=(0,Upe.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,wQe.default)(this,i)}}function EQe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _Qe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},TQe=function(t){(0,xQe.default)(r,t);var e=AQe(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;(0,bQe.default)(this,r);var l=s.autoconnect,m=l===void 0?!0:l,x=s.reconnect,w=x===void 0?!0:x,E=s.reconnect_interval,I=E===void 0?1e3:E,M=s.max_reconnects,k=M===void 0?5:M,C=_Qe(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=e.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=m,i.ready=!1,i.reconnect=w,i.reconnect_timer_id=void 0,i.reconnect_interval=I,i.max_reconnects=k,i.rest_options=C,i.current_reconnects=0,i.generate_request_id=u||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,vQe.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,u){var l=this;return!u&&(0,gQe.default)(s)==="object"&&(u=s,s=null),new Promise(function(m,x){if(!l.ready)return x(new Error("socket not ready"));var w=l.generate_request_id(i,o),E={jsonrpc:"2.0",method:i,params:o||null,id:w};l.socket.send(JSON.stringify(E),u,function(I){if(I)return x(I);l.queue[w]={promise:[m,x]},s&&(l.queue[w].timeout=setTimeout(function(){delete l.queue[w],x(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,Ek.default)(gm.default.mark(function o(s){var u;return gm.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this.call("rpc.login",s);case 2:if(u=m.sent,u){m.next=5;break}throw new Error("authentication failed");case 5:return m.abrupt("return",u);case 6:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,Ek.default)(gm.default.mark(function o(){return gm.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.call("__listMethods");case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(u,l){if(!s.ready)return l(new Error("socket not ready"));var m={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(m),function(x){if(x)return l(x);u()})})}},{key:"subscribe",value:function(){var n=(0,Ek.default)(gm.default.mark(function o(s){var u;return gm.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return typeof s=="string"&&(s=[s]),m.next=3,this.call("rpc.on",s);case 3:if(u=m.sent,!(typeof s=="string"&&u[s]!=="ok")){m.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+u[s]);case 6:return m.abrupt("return",u);case 7:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,Ek.default)(gm.default.mark(function o(s){var u;return gm.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return typeof s=="string"&&(s=[s]),m.next=3,this.call("rpc.off",s);case 3:if(u=m.sent,!(typeof s=="string"&&u[s]!=="ok")){m.next=6;break}throw new Error("Failed unsubscribing from an event with: "+u);case 6:return m.abrupt("return",u);case 7:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(u){var l=u.data;l instanceof ArrayBuffer&&(l=Buffer.from(l).toString());try{l=JSON.parse(l)}catch{return}if(l.notification&&s.listeners(l.notification).length){if(!Object.keys(l.params).length)return s.emit(l.notification);var m=[l.notification];if(l.params.constructor===Object)m.push(l.params);else for(var x=0;x<l.params.length;x++)m.push(l.params[x]);return Promise.resolve().then(function(){s.emit.apply(s,m)})}if(!s.queue[l.id])return l.method&&l.params?Promise.resolve().then(function(){s.emit(l.method,l.params)}):void 0;"error"in l=="result"in l&&s.queue[l.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[l.id].timeout&&clearTimeout(s.queue[l.id].timeout),l.error?s.queue[l.id].promise[1](l.error):s.queue[l.id].promise[0](l.result),delete s.queue[l.id]}),this.socket.addEventListener("error",function(u){return s.emit("error",u)}),this.socket.addEventListener("close",function(u){var l=u.code,m=u.reason;s.ready&&setTimeout(function(){return s.emit("close",l,m)},0),s.ready=!1,s.socket=void 0,l!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(i,o)},s.reconnect_interval)))})}}]),r}(SQe.EventEmitter);_k.default=TQe});var Kpe=q(NV=>{"use strict";d();h();var J3=Ioe();Object.defineProperty(NV,"__esModule",{value:!0});NV.default=DQe;var IQe=J3(kV()),MQe=J3(PV()),kQe=J3(CV()),PQe=J3(BV()),Fpe=J3(DV()),RQe=Moe();function CQe(t){var e=BQe();return function(){var n=(0,Fpe.default)(t),i;if(e){var o=(0,Fpe.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,PQe.default)(this,i)}}function BQe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var OQe=function(t){(0,kQe.default)(r,t);var e=CQe(r);function r(n,i,o){var s;return(0,IQe.default)(this,r),s=e.call(this),s.socket=new self.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(u){return s.emit("message",u.data)},s.socket.onerror=function(u){return s.emit("error",u)},s.socket.onclose=function(u){s.emit("close",u.code,u.reason)},s}return(0,MQe.default)(r,[{key:"send",value:function(i,o,s){var u=s||o;try{this.socket.send(i),u()}catch(l){u(l)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),r}(RQe.EventEmitter);function DQe(t,e){return new OQe(t,e)}});var $pe=q(oi=>{"use strict";d();h();Object.defineProperty(oi,"__esModule",{value:!0});oi.shake256=oi.shake128=oi.keccak_512=oi.keccak_384=oi.keccak_256=oi.keccak_224=oi.sha3_512=oi.sha3_384=oi.sha3_256=oi.sha3_224=oi.Keccak=oi.keccakP=void 0;var yw=FT(),t6=nF(),e6=Fp(),[Hpe,jpe,zpe]=[[],[],[]],NQe=BigInt(0),X3=BigInt(1),UQe=BigInt(2),LQe=BigInt(7),FQe=BigInt(256),KQe=BigInt(113);for(let t=0,e=X3,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Hpe.push(2*(5*n+r)),jpe.push((t+1)*(t+2)/2%64);let i=NQe;for(let o=0;o<7;o++)e=(e<<X3^(e>>LQe)*KQe)%FQe,e&UQe&&(i^=X3<<(X3<<BigInt(o))-X3);zpe.push(i)}var[qQe,VQe]=t6.default.split(zpe,!0),qpe=(t,e,r)=>r>32?t6.default.rotlBH(t,e,r):t6.default.rotlSH(t,e,r),Vpe=(t,e,r)=>r>32?t6.default.rotlBL(t,e,r):t6.default.rotlSL(t,e,r);function Wpe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let u=(s+8)%10,l=(s+2)%10,m=r[l],x=r[l+1],w=qpe(m,x,1)^r[u],E=Vpe(m,x,1)^r[u+1];for(let I=0;I<50;I+=10)t[s+I]^=w,t[s+I+1]^=E}let i=t[2],o=t[3];for(let s=0;s<24;s++){let u=jpe[s],l=qpe(i,o,u),m=Vpe(i,o,u),x=Hpe[s];i=t[x],o=t[x+1],t[x]=l,t[x+1]=m}for(let s=0;s<50;s+=10){for(let u=0;u<10;u++)r[u]=t[s+u];for(let u=0;u<10;u++)t[s+u]^=~r[(u+2)%10]&r[(u+4)%10]}t[0]^=qQe[n],t[1]^=VQe[n]}r.fill(0)}oi.keccakP=Wpe;var r6=class t extends e6.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,yw.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,e6.u32)(this.state)}keccak(){Wpe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){yw.default.exists(this);let{blockLen:r,state:n}=this;e=(0,e6.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let u=0;u<s;u++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){yw.default.exists(this,!1),yw.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return yw.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(yw.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};oi.Keccak=r6;var vm=(t,e,r)=>(0,e6.wrapConstructor)(()=>new r6(e,t,r));oi.sha3_224=vm(6,144,224/8);oi.sha3_256=vm(6,136,256/8);oi.sha3_384=vm(6,104,384/8);oi.sha3_512=vm(6,72,512/8);oi.keccak_224=vm(1,144,224/8);oi.keccak_256=vm(1,136,256/8);oi.keccak_384=vm(1,104,384/8);oi.keccak_512=vm(1,72,512/8);var Gpe=(t,e,r)=>(0,e6.wrapConstructorWithOpts)((n={})=>new r6(e,t,n.dkLen===void 0?r:n.dkLen,!0));oi.shake128=Gpe(31,168,128/8);oi.shake256=Gpe(31,136,256/8)});var Zpe=q(n6=>{"use strict";d();h();Object.defineProperty(n6,"__esModule",{value:!0});n6.hmac=void 0;var Tk=FT(),Ype=Fp(),Ik=class extends Ype.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Tk.default.hash(e);let n=(0,Ype.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Tk.default.exists(this),this.iHash.update(e),this}digestInto(e){Tk.default.exists(this),Tk.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},HQe=(t,e,r)=>new Ik(t,e).update(r).digest();n6.hmac=HQe;n6.hmac.create=(t,e)=>new Ik(t,e)});var KV=q(Nr=>{"use strict";d();h();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.utils=Nr.schnorr=Nr.verify=Nr.signSync=Nr.sign=Nr.getSharedSecret=Nr.recoverPublicKey=Nr.getPublicKey=Nr.Signature=Nr.Point=Nr.CURVE=void 0;var jQe=Jp(),zr=BigInt(0),di=BigInt(1),Sm=BigInt(2),o6=BigInt(3),Qpe=BigInt(8),jn=Object.freeze({a:zr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:di,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});Nr.CURVE=jn;var Jpe=(t,e)=>(t+e/Sm)/e,Mk={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=jn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-di*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),u=Jpe(o*t,e),l=Jpe(-n*t,e),m=xt(t-u*r-l*i,e),x=xt(-u*n-l*o,e),w=m>s,E=x>s;if(w&&(m=e-m),E&&(x=e-x),m>s||x>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:w,k1:m,k2neg:E,k2:x}}},yl=32,Nb=32,ome=32,Bk=yl+1,Ok=2*yl+1;function Xpe(t){let{a:e,b:r}=jn,n=xt(t*t),i=xt(n*t);return xt(i+e*t+r)}var kk=jn.a===zr,a6=class extends Error{constructor(e){super(e)}};function eme(t){if(!(t instanceof Ka))throw new TypeError("JacobianPoint expected")}var Ka=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof si))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(si.ZERO)?t.ZERO:new t(e.x,e.y,di)}static toAffineBatch(e){let r=YQe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){eme(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:u}=e,l=xt(i*i),m=xt(u*u),x=xt(r*m),w=xt(o*l),E=xt(xt(n*u)*m),I=xt(xt(s*i)*l);return x===w&&E===I}negate(){return new t(this.x,xt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=xt(e*e),o=xt(r*r),s=xt(o*o),u=e+o,l=xt(Sm*(xt(u*u)-i-s)),m=xt(o6*i),x=xt(m*m),w=xt(x-Sm*l),E=xt(m*(l-w)-Qpe*s),I=xt(Sm*r*n);return new t(w,E,I)}add(e){eme(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:u}=e;if(o===zr||s===zr)return this;if(r===zr||n===zr)return e;let l=xt(i*i),m=xt(u*u),x=xt(r*m),w=xt(o*l),E=xt(xt(n*u)*m),I=xt(xt(s*i)*l),M=xt(w-x),k=xt(I-E);if(M===zr)return k===zr?this.double():t.ZERO;let C=xt(M*M),R=xt(M*C),L=xt(x*C),P=xt(k*k-R-Sm*L),K=xt(k*(L-P)-E*R),V=xt(i*u*M);return new t(P,K,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===zr)return r;let n=nme(e);if(n===di)return this;if(!kk){let w=r,E=this;for(;n>zr;)n&di&&(w=w.add(E)),E=E.double(),n>>=di;return w}let{k1neg:i,k1:o,k2neg:s,k2:u}=Mk.splitScalar(n),l=r,m=r,x=this;for(;o>zr||u>zr;)o&di&&(l=l.add(x)),u&di&&(m=m.add(x)),x=x.double(),o>>=di,u>>=di;return i&&(l=l.negate()),s&&(m=m.negate()),m=new t(xt(m.x*Mk.beta),m.y,m.z),l.add(m)}precomputeWindow(e){let r=kk?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let u=1;u<2**(e-1);u++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=si.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&UV.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),UV.set(r,i)));let o=t.ZERO,s=t.BASE,u=1+(kk?128/n:256/n),l=2**(n-1),m=BigInt(2**n-1),x=2**n,w=BigInt(n);for(let E=0;E<u;E++){let I=E*l,M=Number(e&m);e>>=w,M>l&&(M-=x,e+=di);let k=I,C=I+Math.abs(M)-1,R=E%2!==0,L=M<0;M===0?s=s.add(Pk(R,i[k])):o=o.add(Pk(L,i[C]))}return{p:o,f:s}}multiply(e,r){let n=nme(e),i,o;if(kk){let{k1neg:s,k1:u,k2neg:l,k2:m}=Mk.splitScalar(n),{p:x,f:w}=this.wNAF(u,r),{p:E,f:I}=this.wNAF(m,r);x=Pk(s,x),E=Pk(l,E),E=new t(xt(E.x*Mk.beta),E.y,E.z),i=x.add(E),o=w.add(I)}else{let{p:s,f:u}=this.wNAF(n,r);i=s,o=u}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?Qpe:Sw(i));let s=e,u=xt(s*s),l=xt(u*s),m=xt(r*u),x=xt(n*l),w=xt(i*s);if(o)return si.ZERO;if(w!==di)throw new Error("invZ was invalid");return new si(m,x)}};Ka.BASE=new Ka(jn.Gx,jn.Gy,di);Ka.ZERO=new Ka(zr,di,zr);function Pk(t,e){let r=e.negate();return t?r:e}var UV=new WeakMap,si=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,UV.delete(this)}hasEvenY(){return this.y%Sm===zr}static fromCompressedHex(e){let r=e.length===32,n=iu(r?e:e.subarray(1));if(!Ck(n))throw new Error("Point is not on curve");let i=Xpe(n),o=$Qe(i),s=(o&di)===di;r?s&&(o=xt(-o)):(e[0]&1)===1!==s&&(o=xt(-o));let u=new t(n,o);return u.assertValidity(),u}static fromUncompressedHex(e){let r=iu(e.subarray(1,yl+1)),n=iu(e.subarray(yl+1,yl*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=kd(e),n=r.length,i=r[0];if(n===yl)return this.fromCompressedHex(r);if(n===Bk&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Ok&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Bk} compressed bytes or ${Ok} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(Ub(e))}static fromSignature(e,r,n){let{r:i,s:o}=ame(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=LV(kd(e)),{n:u}=jn,l=n===2||n===3?i+u:i,m=Sw(l,u),x=xt(-s*m,u),w=xt(o*m,u),E=n&1?"03":"02",I=t.fromHex(E+Am(l)),M=t.BASE.multiplyAndAddUnsafe(I,x,w);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return Em(this.toHex(e))}toHex(e=!1){let r=Am(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Am(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!Ck(r)||!Ck(n))throw new Error(e);let i=xt(n*n),o=Xpe(r);if(xt(i-o)!==zr)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,xt(-this.y))}double(){return Ka.fromAffine(this).double().toAffine()}add(e){return Ka.fromAffine(this).add(Ka.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ka.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Ka.fromAffine(this),o=r===zr||r===di||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=Ka.fromAffine(e).multiplyUnsafe(n),u=o.add(s);return u.equals(Ka.ZERO)?void 0:u.toAffine()}};Nr.Point=si;si.BASE=new si(jn.Gx,jn.Gy);si.ZERO=new si(zr,zr);function tme(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function rme(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${bw(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:iu(r),left:t.subarray(e+2)}}function zQe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${bw(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=rme(t.subarray(2)),{data:n,left:i}=rme(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${bw(i)}`);return{r:e,s:n}}var Db=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?bw(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(Dk(i.slice(0,64)),Dk(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=zQe(r?e:Em(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!xw(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!xw(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=jn.n>>di;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,xt(-this.s,jn.n)):this}toDERRawBytes(){return Em(this.toDERHex())}toDERHex(){let e=tme(i6(this.s)),r=tme(i6(this.r)),n=e.length/2,i=r.length/2,o=i6(n),s=i6(i);return`30${i6(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Em(this.toCompactHex())}toCompactHex(){return Am(this.r)+Am(this.s)}};Nr.Signature=Db;function wm(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var WQe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bw(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=WQe[t[r]];return e}var GQe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Am(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(zr<=t&&t<GQe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function vw(t){let e=Em(Am(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function i6(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Dk(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Em(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function iu(t){return Dk(bw(t))}function kd(t){return t instanceof Uint8Array?Uint8Array.from(t):Em(t)}function nme(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&xw(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function xt(t,e=jn.P){let r=t%e;return r>=zr?r:e+r}function sf(t,e){let{P:r}=jn,n=t;for(;e-- >zr;)n*=n,n%=r;return n}function $Qe(t){let{P:e}=jn,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),u=BigInt(88),l=t*t*t%e,m=l*l*t%e,x=sf(m,o6)*m%e,w=sf(x,o6)*m%e,E=sf(w,Sm)*l%e,I=sf(E,n)*E%e,M=sf(I,i)*I%e,k=sf(M,s)*M%e,C=sf(k,u)*k%e,R=sf(C,s)*M%e,L=sf(R,o6)*m%e,P=sf(L,o)*I%e,K=sf(P,r)*l%e,V=sf(K,Sm);if(V*V%e!==t)throw new Error("Cannot find square root");return V}function Sw(t,e=jn.P){if(t===zr||e<=zr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=xt(t,e),n=e,i=zr,o=di,s=di,u=zr;for(;r!==zr;){let m=n/r,x=n%r,w=i-s*m,E=o-u*m;n=r,r=x,i=s,o=u,s=w,u=E}if(n!==di)throw new Error("invert: does not exist");return xt(i,e)}function YQe(t,e=jn.P){let r=new Array(t.length),n=t.reduce((o,s,u)=>s===zr?o:(r[u]=o,xt(o*s,e)),di),i=Sw(n,e);return t.reduceRight((o,s,u)=>s===zr?o:(r[u]=xt(o*r[u],e),xt(o*s,e)),i),r}function ZQe(t){let e=t.length*8-Nb*8,r=iu(t);return e>0?r>>BigInt(e):r}function LV(t,e=!1){let r=ZQe(t);if(e)return r;let{n}=jn;return r>=n?r-n:r}var gw,s6,Nk=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Nr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return s6(this.k,...e)}checkSync(){if(typeof s6!="function")throw new a6("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return wm(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return wm(...r)}};function xw(t){return zr<t&&t<jn.n}function Ck(t){return zr<t&&t<jn.P}function sme(t,e,r,n=!0){let{n:i}=jn,o=LV(t,!0);if(!xw(o))return;let s=Sw(o,i),u=si.BASE.multiply(o),l=xt(u.x,i);if(l===zr)return;let m=xt(s*xt(e+r*l,i),i);if(m===zr)return;let x=new Db(l,m),w=(u.x===x.r?0:2)|Number(u.y&di);return n&&x.hasHighS()&&(x=x.normalizeS(),w^=1),{sig:x,recovery:w}}function Ub(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Nb)throw new Error("Expected 32 bytes of private key");e=Dk(t)}else if(t instanceof Uint8Array){if(t.length!==Nb)throw new Error("Expected 32 bytes of private key");e=iu(t)}else throw new TypeError("Expected valid private key");if(!xw(e))throw new Error("Expected private key: 0 < key < n");return e}function FV(t){return t instanceof si?(t.assertValidity(),t):si.fromHex(t)}function ame(t){if(t instanceof Db)return t.assertValidity(),t;try{return Db.fromDER(t)}catch{return Db.fromCompact(t)}}function QQe(t,e=!1){return si.fromPrivateKey(t).toRawBytes(e)}Nr.getPublicKey=QQe;function JQe(t,e,r,n=!1){return si.fromSignature(t,e,r).toRawBytes(n)}Nr.recoverPublicKey=JQe;function ime(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===Bk||n===Ok:r?n===Bk*2||n===Ok*2:t instanceof si}function XQe(t,e,r=!1){if(ime(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!ime(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=FV(e);return n.assertValidity(),n.multiply(Ub(t)).toRawBytes(r)}Nr.getSharedSecret=XQe;function cme(t){let e=t.length>yl?t.slice(0,yl):t;return iu(e)}function eJe(t){let e=cme(t),r=xt(e,jn.n);return ume(r<zr?e:r)}function ume(t){return vw(t)}function fme(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=kd(t),i=Ub(e),o=[ume(i),eJe(n)];if(r!=null){r===!0&&(r=Nr.utils.randomBytes(yl));let l=kd(r);if(l.length!==yl)throw new Error(`sign: Expected ${yl} bytes of extra data`);o.push(l)}let s=wm(...o),u=cme(n);return{seed:s,m:u,d:i}}function lme(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function tJe(t,e,r={}){let{seed:n,m:i,d:o}=fme(t,e,r.extraEntropy),s=new Nk(ome,Nb);await s.reseed(n);let u;for(;!(u=sme(await s.generate(),i,o,r.canonical));)await s.reseed();return lme(u,r)}Nr.sign=tJe;function rJe(t,e,r={}){let{seed:n,m:i,d:o}=fme(t,e,r.extraEntropy),s=new Nk(ome,Nb);s.reseedSync(n);let u;for(;!(u=sme(s.generateSync(),i,o,r.canonical));)s.reseedSync();return lme(u,r)}Nr.signSync=rJe;var nJe={strict:!0};function iJe(t,e,r,n=nJe){let i;try{i=ame(t),e=kd(e)}catch{return!1}let{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;let u=LV(e),l;try{l=FV(r)}catch{return!1}let{n:m}=jn,x=Sw(s,m),w=xt(u*x,m),E=xt(o*x,m),I=si.BASE.multiplyAndAddUnsafe(l,w,E);return I?xt(I.x,m)===o:!1}Nr.verify=iJe;function Uk(t){return xt(iu(t),jn.n)}var ww=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=kd(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=iu(r.subarray(0,32)),i=iu(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!Ck(e)||!xw(r))throw new Error("Invalid signature")}toHex(){return Am(this.r)+Am(this.s)}toRawBytes(){return Em(this.toHex())}};function oJe(t){return si.fromPrivateKey(t).toRawX()}var Lk=class{constructor(e,r,n=Nr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=kd(e);let{x:i,scalar:o}=this.getScalar(Ub(r));if(this.px=i,this.d=o,this.rand=kd(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=si.fromPrivateKey(e),n=r.hasEvenY()?e:jn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return vw(e^iu(r))}finalizeNonce(e){let r=xt(iu(e),jn.n);if(r===zr)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new ww(e.x,xt(r+n*i,jn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=Nr.utils.taggedHash,s=this.initNonce(r,await o(xm.aux,i)),{R:u,rx:l,k:m}=this.finalizeNonce(await o(xm.nonce,s,n,e)),x=Uk(await o(xm.challenge,l,n,e)),w=this.finalizeSig(u,m,x,r);return await pme(w,e,n)||this.error(),w}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=Nr.utils.taggedHashSync,s=this.initNonce(r,o(xm.aux,i)),{R:u,rx:l,k:m}=this.finalizeNonce(o(xm.nonce,s,n,e)),x=Uk(o(xm.challenge,l,n,e)),w=this.finalizeSig(u,m,x,r);return mme(w,e,n)||this.error(),w}};async function sJe(t,e,r){return new Lk(t,e,r).calc()}function aJe(t,e,r){return new Lk(t,e,r).calcSync()}function dme(t,e,r){let n=t instanceof ww,i=n?t:ww.fromHex(t);return n&&i.assertValidity(),{...i,m:kd(e),P:FV(r)}}function hme(t,e,r,n){let i=si.BASE.multiplyAndAddUnsafe(e,Ub(r),xt(-n,jn.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function pme(t,e,r){try{let{r:n,s:i,m:o,P:s}=dme(t,e,r),u=Uk(await Nr.utils.taggedHash(xm.challenge,vw(n),s.toRawX(),o));return hme(n,s,i,u)}catch{return!1}}function mme(t,e,r){try{let{r:n,s:i,m:o,P:s}=dme(t,e,r),u=Uk(Nr.utils.taggedHashSync(xm.challenge,vw(n),s.toRawX(),o));return hme(n,s,i,u)}catch(n){if(n instanceof a6)throw n;return!1}}Nr.schnorr={Signature:ww,getPublicKey:oJe,sign:sJe,verify:pme,signSync:aJe,verifySync:mme};si.BASE._setWindowSize(8);var nu={node:jQe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},xm={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},Rk={};Nr.utils={bytesToHex:bw,hexToBytes:Em,concatBytes:wm,mod:xt,invert:Sw,isValidPrivateKey(t){try{return Ub(t),!0}catch{return!1}},_bigintTo32Bytes:vw,_normalizePrivateKey:Ub,hashToPrivateKey:t=>{t=kd(t);let e=Nb+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=xt(iu(t),jn.n-di)+di;return vw(r)},randomBytes:(t=32)=>{if(nu.web)return nu.web.getRandomValues(new Uint8Array(t));if(nu.node){let{randomBytes:e}=nu.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Nr.utils.hashToPrivateKey(Nr.utils.randomBytes(Nb+8)),precompute(t=8,e=si.BASE){let r=e===si.BASE?e:new si(e.x,e.y);return r._setWindowSize(t),r.multiply(o6),r},sha256:async(...t)=>{if(nu.web){let e=await nu.web.subtle.digest("SHA-256",wm(...t));return new Uint8Array(e)}else if(nu.node){let{createHash:e}=nu.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(nu.web){let r=await nu.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=wm(...e),i=await nu.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(nu.node){let{createHmac:r}=nu.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=Rk[t];if(r===void 0){let n=await Nr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=wm(n,n),Rk[t]=r}return Nr.utils.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof gw!="function")throw new a6("sha256Sync is undefined, you need to set it");let r=Rk[t];if(r===void 0){let n=gw(Uint8Array.from(t,i=>i.charCodeAt(0)));r=wm(n,n),Rk[t]=r}return gw(r,...e)},_JacobianPoint:Ka};Object.defineProperties(Nr.utils,{sha256Sync:{configurable:!1,get(){return gw},set(t){gw||(gw=t)}},hmacSha256Sync:{configurable:!1,get(){return s6},set(t){s6||(s6=t)}}})});var nP=q(lt=>{"use strict";d();h();Object.defineProperty(lt,"__esModule",{value:!0});var Gt=BE(),cJe=tae(),uJe=q0e(),fJe=Yg(),lJe=Da(),GV=DM(),qV=G0e(),Bme=L3(),$V=hV(),N=tpe(),dJe=Epe(),hJe=Lpe(),pJe=Kpe(),yme=$pe(),mJe=Zpe(),yJe=KV();function x6(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function hH(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Im=hH(uJe),gme=x6(fJe),Is=x6(lJe),fe=hH(Bme),gJe=x6(dJe),bJe=x6(hJe),vJe=x6(pJe),Xk=hH(yJe);Im.utils.sha512Sync=(...t)=>cJe.sha512(Im.utils.concatBytes(...t));var xJe=Im.utils.randomPrivateKey,bme=()=>{let t=Im.utils.randomPrivateKey(),e=Hk(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Hk=Im.sync.getPublicKey;function vme(t){try{return Im.Point.fromHex(t,!0),!0}catch{return!1}}var pH=(t,e)=>Im.sync.sign(t,e.slice(0,32)),wJe=Im.sync.verify,gr=t=>Gt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Gt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gt.Buffer.from(t),l6=class{constructor(e){Object.assign(this,e)}encode(){return Gt.Buffer.from(qV.serialize(f6,this))}static decode(e){return qV.deserialize(f6,this,e)}static decodeUnchecked(e){return qV.deserializeUnchecked(f6,this,e)}},YV=class extends l6{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},f6=new Map,Ome,Dme=32,Bd=32;function SJe(t){return t._bn!==void 0}var xme=1;Ome=Symbol.toStringTag;var vt=class t extends l6{constructor(e){if(super({}),this._bn=void 0,SJe(e))this._bn=e._bn;else{if(typeof e=="string"){let r=Is.default.decode(e);if(r.length!=Bd)throw new Error("Invalid public key input");this._bn=new gme.default(r)}else this._bn=new gme.default(e);if(this._bn.byteLength()>Bd)throw new Error("Invalid public key input")}}static unique(){let e=new t(xme);return xme+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Is.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Gt.Buffer);if(e.length===Bd)return e;let r=Gt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Ome](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Gt.Buffer.concat([e.toBuffer(),Gt.Buffer.from(r),n.toBuffer()]),o=GV.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Gt.Buffer.alloc(0);e.forEach(function(o){if(o.length>Dme)throw new TypeError("Max seed length exceeded");n=Gt.Buffer.concat([n,gr(o)])}),n=Gt.Buffer.concat([n,r.toBuffer(),Gt.Buffer.from("ProgramDerivedAddress")]);let i=GV.sha256(n);if(vme(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Gt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return vme(r.toBytes())}};vt.default=new vt("11111111111111111111111111111111");f6.set(vt,{kind:"struct",fields:[["_bn","u256"]]});var ZV=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=gr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=gr(xJe()),this._publicKey=gr(Hk(this._secretKey))}get publicKey(){return new vt(this._publicKey)}get secretKey(){return Gt.Buffer.concat([this._secretKey,this._publicKey],64)}},AJe=new vt("BPFLoader1111111111111111111111111111111111"),Tm=1232,eP=127,d6=64,h6=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(h6.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var p6=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(p6.prototype,"name",{value:"TransactionExpiredTimeoutError"});var _m=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(_m.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Kb=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Cr=(t="publicKey")=>fe.blob(32,t),EJe=(t="signature")=>fe.blob(64,t),Fb=(t="string")=>{let e=fe.struct([fe.u32("length"),fe.u32("lengthPadding"),fe.blob(fe.offset(fe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,u)=>{let l={chars:Gt.Buffer.from(o,"utf8")};return n(l,s,u)},i.alloc=o=>fe.u32().span+fe.u32().span+Gt.Buffer.from(o,"utf8").length,i},_Je=(t="authorized")=>fe.struct([Cr("staker"),Cr("withdrawer")],t),TJe=(t="lockup")=>fe.struct([fe.ns64("unixTimestamp"),fe.ns64("epoch"),Cr("custodian")],t),IJe=(t="voteInit")=>fe.struct([Cr("nodePubkey"),Cr("authorizedVoter"),Cr("authorizedWithdrawer"),fe.u8("commission")],t),MJe=(t="voteAuthorizeWithSeedArgs")=>fe.struct([fe.u32("voteAuthorizationType"),Cr("currentAuthorityDerivedKeyOwnerPubkey"),Fb("currentAuthorityDerivedKeySeed"),Cr("newAuthorized")],t);function Nme(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return Nme({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function yc(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function ou(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function pn(t,e){if(!t)throw new Error(e||"Assertion failed")}var jk=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let u=s.toBase58(),l=n.get(u);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,l)),l},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let u of s.keys){let l=i(u.pubkey);l.isSigner||=u.isSigner,l.isWritable||=u.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];pn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{pn(r.length>0,"Expected at least one writable signer key");let[l]=r[0];pn(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let u=[...r.map(([l])=>new vt(l)),...n.map(([l])=>new vt(l)),...i.map(([l])=>new vt(l)),...o.map(([l])=>new vt(l))];return[s,u]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let u=new vt(o),l=e.findIndex(m=>m.equals(u));l>=0&&(pn(l<256,"Max lookup table index exceeded"),n.push(l),i.push(u),this.keyMetaMap.delete(o))}return[n,i]}},Ume="Reached end of buffer unexpectedly";function Rd(t){if(t.length===0)throw new Error(Ume);return t.shift()}function gc(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Ume);return t.splice(...e)}var Od=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new vt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Is.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Kb(this.staticAccountKeys)}static compile(e){let r=jk.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new Kb(i).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:Is.default.encode(u.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];ou(r,e);let n=this.instructions.map(w=>{let{accounts:E,programIdIndex:I}=w,M=Array.from(Is.default.decode(w.data)),k=[];ou(k,E.length);let C=[];return ou(C,M.length),{programIdIndex:I,keyIndicesCount:Gt.Buffer.from(k),keyIndices:E,dataLength:Gt.Buffer.from(C),data:M}}),i=[];ou(i,n.length);let o=Gt.Buffer.alloc(Tm);Gt.Buffer.from(i).copy(o);let s=i.length;n.forEach(w=>{let I=fe.struct([fe.u8("programIdIndex"),fe.blob(w.keyIndicesCount.length,"keyIndicesCount"),fe.seq(fe.u8("keyIndex"),w.keyIndices.length,"keyIndices"),fe.blob(w.dataLength.length,"dataLength"),fe.seq(fe.u8("userdatum"),w.data.length,"data")]).encode(w,o,s);s+=I}),o=o.slice(0,s);let u=fe.struct([fe.blob(1,"numRequiredSignatures"),fe.blob(1,"numReadonlySignedAccounts"),fe.blob(1,"numReadonlyUnsignedAccounts"),fe.blob(r.length,"keyCount"),fe.seq(Cr("key"),e,"keys"),Cr("recentBlockhash")]),l={numRequiredSignatures:Gt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Gt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Gt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Gt.Buffer.from(r),keys:this.accountKeys.map(w=>gr(w.toBytes())),recentBlockhash:Is.default.decode(this.recentBlockhash)},m=Gt.Buffer.alloc(2048),x=u.encode(l,m);return o.copy(m,x),m.slice(0,x+o.length)}static from(e){let r=[...e],n=Rd(r);if(n!==(n&eP))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=Rd(r),o=Rd(r),s=yc(r),u=[];for(let E=0;E<s;E++){let I=gc(r,0,Bd);u.push(new vt(Gt.Buffer.from(I)))}let l=gc(r,0,Bd),m=yc(r),x=[];for(let E=0;E<m;E++){let I=Rd(r),M=yc(r),k=gc(r,0,M),C=yc(r),R=gc(r,0,C),L=Is.default.encode(Gt.Buffer.from(R));x.push({programIdIndex:I,accounts:k,data:L})}let w={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Is.default.encode(Gt.Buffer.from(l)),accountKeys:u,instructions:x};return new t(w)}},Aw=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Kb(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,u)=>s+u.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=jk.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let x of o){let w=r.extractTableLookup(x);if(w!==void 0){let[E,{writable:I,readonly:M}]=w;n.push(E),i.writable.push(...I),i.readonly.push(...M)}}let[s,u]=r.getMessageComponents(),m=new Kb(u,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:m,addressTableLookups:n})}serialize(){let e=Array();ou(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();ou(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();ou(o,this.addressTableLookups.length);let s=fe.struct([fe.u8("prefix"),fe.struct([fe.u8("numRequiredSignatures"),fe.u8("numReadonlySignedAccounts"),fe.u8("numReadonlyUnsignedAccounts")],"header"),fe.blob(e.length,"staticAccountKeysLength"),fe.seq(Cr(),this.staticAccountKeys.length,"staticAccountKeys"),Cr("recentBlockhash"),fe.blob(n.length,"instructionsLength"),fe.blob(r.length,"serializedInstructions"),fe.blob(o.length,"addressTableLookupsLength"),fe.blob(i.length,"serializedAddressTableLookups")]),u=new Uint8Array(Tm),m=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(x=>x.toBytes()),recentBlockhash:Is.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},u);return u.slice(0,m)}serializeInstructions(){let e=0,r=new Uint8Array(Tm);for(let n of this.compiledInstructions){let i=Array();ou(i,n.accountKeyIndexes.length);let o=Array();ou(o,n.data.length);let s=fe.struct([fe.u8("programIdIndex"),fe.blob(i.length,"encodedAccountKeyIndexesLength"),fe.seq(fe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),fe.blob(o.length,"encodedDataLength"),fe.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(Tm);for(let n of this.addressTableLookups){let i=Array();ou(i,n.writableIndexes.length);let o=Array();ou(o,n.readonlyIndexes.length);let s=fe.struct([Cr("accountKey"),fe.blob(i.length,"encodedWritableIndexesLength"),fe.seq(fe.u8(),n.writableIndexes.length,"writableIndexes"),fe.blob(o.length,"encodedReadonlyIndexesLength"),fe.seq(fe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=Rd(r),i=n&eP;pn(n!==i,"Expected versioned message but received legacy message");let o=i;pn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:Rd(r),numReadonlySignedAccounts:Rd(r),numReadonlyUnsignedAccounts:Rd(r)},u=[],l=yc(r);for(let M=0;M<l;M++)u.push(new vt(gc(r,0,Bd)));let m=Is.default.encode(gc(r,0,Bd)),x=yc(r),w=[];for(let M=0;M<x;M++){let k=Rd(r),C=yc(r),R=gc(r,0,C),L=yc(r),P=new Uint8Array(gc(r,0,L));w.push({programIdIndex:k,accountKeyIndexes:R,data:P})}let E=yc(r),I=[];for(let M=0;M<E;M++){let k=new vt(gc(r,0,Bd)),C=yc(r),R=gc(r,0,C),L=yc(r),P=gc(r,0,L);I.push({accountKey:k,writableIndexes:R,readonlyIndexes:P})}return new t({header:s,staticAccountKeys:u,recentBlockhash:m,compiledInstructions:w,addressTableLookups:I})}},mH={deserializeMessageVersion(t){let e=t[0],r=e&eP;return r===e?"legacy":r},deserialize:t=>{let e=mH.deserializeMessageVersion(t);if(e==="legacy")return Od.from(t);if(e===0)return Aw.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};lt.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(lt.TransactionStatus||(lt.TransactionStatus={}));var kJe=Gt.Buffer.alloc(d6).fill(0),Fn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Gt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Ln=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Fn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<r.length;k++)if(r[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);let i=[],o=[];r.forEach(k=>{k.keys.forEach(R=>{o.push({...R})});let C=k.programId.toString();i.includes(C)||i.push(C)}),i.forEach(k=>{o.push({pubkey:new vt(k),isSigner:!1,isWritable:!1})});let s=[];o.forEach(k=>{let C=k.pubkey.toString(),R=s.findIndex(L=>L.pubkey.toString()===C);R>-1?(s[R].isWritable=s[R].isWritable||k.isWritable,s[R].isSigner=s[R].isSigner||k.isSigner):s.push(k)}),s.sort(function(k,C){return k.isSigner!==C.isSigner?k.isSigner?-1:1:k.isWritable!==C.isWritable?k.isWritable?-1:1:k.pubkey.toBase58().localeCompare(C.pubkey.toBase58())});let u=s.findIndex(k=>k.pubkey.equals(n));if(u>-1){let[k]=s.splice(u,1);k.isSigner=!0,k.isWritable=!0,s.unshift(k)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let k of this.signatures){let C=s.findIndex(R=>R.pubkey.equals(k.publicKey));if(C>-1)s[C].isSigner||(s[C].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let l=0,m=0,x=0,w=[],E=[];s.forEach(({pubkey:k,isSigner:C,isWritable:R})=>{C?(w.push(k.toString()),l+=1,R||(m+=1)):(E.push(k.toString()),R||(x+=1))});let I=w.concat(E),M=r.map(k=>{let{data:C,programId:R}=k;return{programIdIndex:I.indexOf(R.toString()),accounts:k.keys.map(L=>I.indexOf(L.pubkey.toString())),data:Is.default.encode(C)}});return M.forEach(k=>{pn(k.programIdIndex>=0),k.accounts.forEach(C=>pn(C>=0))}),new Od({header:{numRequiredSignatures:l,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:x},accountKeys:I,recentBlockhash:e,instructions:M})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=pH(n,i.secretKey);this._addSignature(i.publicKey,gr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){pn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Gt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!wJe(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];ou(n,r.length);let i=n.length+r.length*64+e.length,o=Gt.Buffer.alloc(i);return pn(r.length<256),Gt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},u)=>{s!==null&&(pn(s.length===64,"signature has invalid length"),Gt.Buffer.from(s).copy(o,n.length+u*64))}),e.copy(o,n.length+r.length*64),pn(o.length<=Tm,`Transaction too large: ${o.length} > ${Tm}`),o}get keys(){return pn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return pn(this.instructions.length===1),this.instructions[0].programId}get data(){return pn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=yc(r),i=[];for(let o=0;o<n;o++){let s=gc(r,0,d6);i.push(Is.default.encode(Gt.Buffer.from(s)))}return t.populate(Od.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==Is.default.encode(kJe)?null:Is.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let u=e.accountKeys[s];return{pubkey:u,isSigner:n.signatures.some(l=>l.publicKey.toString()===u.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new Fn({keys:o,programId:e.accountKeys[i.programIdIndex],data:Is.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},QV=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l}=n,m=s-u;pn(m>0,"Message header is invalid");let x=e.staticAccountKeys.length-s-l;pn(x>=0,"Message header is invalid");let w=e.getAccountKeys(r),E=w.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let I=[];for(let M of i){let k=[];for(let R of M.accountKeyIndexes){let L=w.get(R);if(L===void 0)throw new Error(`Failed to find key for account key index ${R}`);let P=R<s,K;P?K=R<m:R<w.staticAccountKeys.length?K=R-s<x:K=R-w.staticAccountKeys.length<w.accountKeysFromLookups.writable.length,k.push({pubkey:L,isSigner:R<n.numRequiredSignatures,isWritable:K})}let C=w.get(M.programIdIndex);if(C===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);I.push(new Fn({programId:C,data:gr(M.data),keys:k}))}return new t({payerKey:E,instructions:I,recentBlockhash:o})}compileToLegacyMessage(){return Od.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Aw.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},JV=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)pn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(d6));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();ou(r,this.signatures.length);let n=fe.struct([fe.blob(r.length,"encodedSignaturesLength"),fe.seq(EJe(),this.signatures.length,"signatures"),fe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=yc(r);for(let s=0;s<i;s++)n.push(new Uint8Array(gc(r,0,d6)));let o=mH.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));pn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=pH(r,i.secretKey)}}addSignature(e,r){pn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));pn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Pd=new vt("SysvarC1ock11111111111111111111111111111111"),PJe=new vt("SysvarEpochSchedu1e111111111111111111111111"),RJe=new vt("Sysvar1nstructions1111111111111111111111111"),Kk=new vt("SysvarRecentB1ockHashes11111111111111111111"),Ew=new vt("SysvarRent111111111111111111111111111111111"),CJe=new vt("SysvarRewards111111111111111111111111111111"),BJe=new vt("SysvarS1otHashes111111111111111111111111111"),OJe=new vt("SysvarS1otHistory11111111111111111111111111"),qk=new vt("SysvarStakeHistory1111111111111111111111111");async function Vk(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:u}=e.nonceInfo,l=u.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Lb(t){return new Promise(e=>setTimeout(e,t))}function cn(t,e){let r=t.layout.span>=0?t.layout.span:Nme(t,e),n=Gt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Rn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var Lme=fe.nu64("lamportsPerSignature"),Fme=fe.struct([fe.u32("version"),fe.u32("state"),Cr("authorizedPubkey"),Cr("nonce"),fe.struct([Lme],"feeCalculator")]),XV=Fme.span,zk=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=Fme.decode(gr(e),0);return new t({authorizedPubkey:new vt(r.authorizedPubkey),nonce:new vt(r.nonce).toString(),feeCalculator:r.feeCalculator})}},DJe=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},NJe=t=>e=>{let r=Bme.blob(t,e),{encode:n,decode:i}=DJe(r),o=r;return o.decode=(s,u)=>{let l=i(s,u);return $V.toBigIntLE(Gt.Buffer.from(l))},o.encode=(s,u,l)=>{let m=$V.toBufferLE(s,t);return n(m,u,l)},o},_w=NJe(8),eH=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ai))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Rn(ai.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new vt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Rn(ai.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Rn(ai.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new vt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Rn(ai.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Rn(ai.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,space:i,programId:new vt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Rn(ai.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new vt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Rn(ai.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,programId:new vt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Rn(ai.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new vt(r),seed:n,lamports:i,space:o,programId:new vt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Rn(ai.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new vt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Rn(ai.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Rn(ai.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Rn(ai.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new vt(r)}}static checkProgramId(e){if(!e.equals(ua.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ai=Object.freeze({Create:{index:0,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports"),fe.ns64("space"),Cr("programId")])},Assign:{index:1,layout:fe.struct([fe.u32("instruction"),Cr("programId")])},Transfer:{index:2,layout:fe.struct([fe.u32("instruction"),_w("lamports")])},CreateWithSeed:{index:3,layout:fe.struct([fe.u32("instruction"),Cr("base"),Fb("seed"),fe.ns64("lamports"),fe.ns64("space"),Cr("programId")])},AdvanceNonceAccount:{index:4,layout:fe.struct([fe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:fe.struct([fe.u32("instruction"),Cr("authorized")])},AuthorizeNonceAccount:{index:7,layout:fe.struct([fe.u32("instruction"),Cr("authorized")])},Allocate:{index:8,layout:fe.struct([fe.u32("instruction"),fe.ns64("space")])},AllocateWithSeed:{index:9,layout:fe.struct([fe.u32("instruction"),Cr("base"),Fb("seed"),fe.ns64("space"),Cr("programId")])},AssignWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),Cr("base"),Fb("seed"),Cr("programId")])},TransferWithSeed:{index:11,layout:fe.struct([fe.u32("instruction"),_w("lamports"),Fb("seed"),Cr("programId")])},UpgradeNonceAccount:{index:12,layout:fe.struct([fe.u32("instruction")])}}),ua=class t{constructor(){}static createAccount(e){let r=ai.Create,n=cn(r,{lamports:e.lamports,space:e.space,programId:gr(e.programId.toBuffer())});return new Fn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=ai.TransferWithSeed;r=cn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:gr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ai.Transfer;r=cn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Fn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=ai.AssignWithSeed;r=cn(i,{base:gr(e.basePubkey.toBuffer()),seed:e.seed,programId:gr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ai.Assign;r=cn(i,{programId:gr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=ai.CreateWithSeed,n=cn(r,{base:gr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:gr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Fn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Ln;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:XV,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:XV,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=ai.InitializeNonceAccount,n=cn(r,{authorized:gr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kk,isSigner:!1,isWritable:!1},{pubkey:Ew,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Fn(i)}static nonceAdvance(e){let r=ai.AdvanceNonceAccount,n=cn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kk,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Fn(i)}static nonceWithdraw(e){let r=ai.WithdrawNonceAccount,n=cn(r,{lamports:e.lamports});return new Fn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Kk,isSigner:!1,isWritable:!1},{pubkey:Ew,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=ai.AuthorizeNonceAccount,n=cn(r,{authorized:gr(e.newAuthorizedPubkey.toBuffer())});return new Fn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=ai.AllocateWithSeed;r=cn(i,{base:gr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:gr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ai.Allocate;r=cn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fn({keys:n,programId:this.programId,data:r})}};ua.programId=new vt("11111111111111111111111111111111");var UJe=Tm-300,Tw=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let w=await e.getMinimumBalanceForRentExemption(o.length),E=await e.getAccountInfo(n.publicKey,"confirmed"),I=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==o.length&&(I=I||new Ln,I.add(ua.allocate({accountPubkey:n.publicKey,space:o.length}))),E.owner.equals(i)||(I=I||new Ln,I.add(ua.assign({accountPubkey:n.publicKey,programId:i}))),E.lamports<w&&(I=I||new Ln,I.add(ua.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:w-E.lamports})))}else I=new Ln().add(ua.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:w>0?w:1,space:o.length,programId:i}));I!==null&&await Vk(e,I,[r,n],{commitment:"confirmed"})}let s=fe.struct([fe.u32("instruction"),fe.u32("offset"),fe.u32("bytesLength"),fe.u32("bytesLengthPadding"),fe.seq(fe.u8("byte"),fe.offset(fe.u32(),-8),"bytes")]),u=t.chunkSize,l=0,m=o,x=[];for(;m.length>0;){let w=m.slice(0,u),E=Gt.Buffer.alloc(u+16);s.encode({instruction:0,offset:l,bytes:w,bytesLength:0,bytesLengthPadding:0},E);let I=new Ln().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});x.push(Vk(e,I,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Lb(1e3/4),l+=u,m=m.slice(u)}await Promise.all(x);{let w=fe.struct([fe.u32("instruction")]),E=Gt.Buffer.alloc(w.span);w.encode({instruction:1},E);let I=new Ln().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ew,isSigner:!1,isWritable:!1}],programId:i,data:E});await Vk(e,I,[r,n],{commitment:"confirmed"})}return!0}};Tw.chunkSize=UJe;var LJe=new vt("BPFLoader2111111111111111111111111111111111"),tH=class{static getMinNumSignatures(e){return Tw.getMinNumSignatures(e)}static load(e,r,n,i,o){return Tw.load(e,r,n,o,i)}},FJe=Object.prototype.toString,KJe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function u6(t,e){var r,n,i,o,s,u,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return u6(t.toJSON(),e);if(l=FJe.call(t),l==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=u6(t[r],!0)+",";return n>-1&&(i+=u6(t[r],!0)),i+"]"}else if(l==="[object Object]"){for(o=KJe(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],u=u6(t[s],!1),u!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+u),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var qJe=function(t){var e=u6(t,!1);if(e!==void 0)return""+e},VJe=qJe,c6=32;function VV(t){let e=0;for(;t>1;)t/=2,e++;return e}function HJe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var Wk=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=VV(HJe(e+c6+1))-VV(c6)-1,n=this.getSlotsInEpoch(r),i=e-(n-c6);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*c6:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+VV(c6)):this.slotsPerEpoch}},m6=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},jJe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Ct=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},zJe=globalThis.fetch,rH=class extends bJe.default{constructor(e,r,n){let i=o=>{let s=vJe.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},WJe=160,GJe=64,$Je=WJe/GJe,YJe=1e3/$Je;function ZJe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var wme=56,y6=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=ZJe(QJe,e),n=e.length-wme;pn(n>=0,"lookup table is invalid"),pn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=fe.struct([fe.seq(Cr(),i,"addresses")]).decode(e.slice(wme));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new vt(r.authority[0]):void 0,addresses:o.map(s=>new vt(s))}}},QJe={index:1,layout:fe.struct([fe.u32("typeIndex"),_w("deactivationSlot"),fe.nu64("lastExtendedSlot"),fe.u8("lastExtendedStartIndex"),fe.u8(),fe.seq(Cr(),fe.offset(fe.u8(),-1),"authority")])},JJe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function XJe(t){let e=t.match(JJe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",u=i==null?null:parseInt(i.slice(1),10),l=u==null?"":`:${u+1}`;return`${s}//${n}${l}${o}`}var vo=N.coerce(N.instance(vt),N.string(),t=>new vt(t)),Kme=N.tuple([N.string(),N.literal("base64")]),yH=N.coerce(N.instance(Gt.Buffer),Kme,t=>Gt.Buffer.from(t[0],"base64")),qme=30*1e3;function eXe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Ni(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function Vme(t){return N.union([N.type({jsonrpc:N.literal("2.0"),id:N.string(),result:t}),N.type({jsonrpc:N.literal("2.0"),id:N.string(),error:N.type({code:N.unknown(),message:N.string(),data:N.optional(N.any())})})])}var tXe=Vme(N.unknown());function wr(t){return N.coerce(Vme(t),tXe,e=>"error"in e?e:{...e,result:N.create(e.result,t)})}function bo(t){return wr(N.type({context:N.type({slot:N.number()}),value:t}))}function tP(t){return N.type({context:N.type({slot:N.number()}),value:t})}function HV(t,e){return t===0?new Aw({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new vt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Is.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Od(e)}var rXe=N.type({foundation:N.number(),foundationTerm:N.number(),initial:N.number(),taper:N.number(),terminal:N.number()}),nXe=wr(N.array(N.nullable(N.type({epoch:N.number(),effectiveSlot:N.number(),amount:N.number(),postBalance:N.number(),commission:N.optional(N.nullable(N.number()))})))),iXe=N.type({total:N.number(),validator:N.number(),foundation:N.number(),epoch:N.number()}),oXe=N.type({epoch:N.number(),slotIndex:N.number(),slotsInEpoch:N.number(),absoluteSlot:N.number(),blockHeight:N.optional(N.number()),transactionCount:N.optional(N.number())}),sXe=N.type({slotsPerEpoch:N.number(),leaderScheduleSlotOffset:N.number(),warmup:N.boolean(),firstNormalEpoch:N.number(),firstNormalSlot:N.number()}),aXe=N.record(N.string(),N.array(N.number())),Vb=N.nullable(N.union([N.type({}),N.string()])),cXe=N.type({err:Vb}),uXe=N.literal("receivedSignature"),fXe=N.type({"solana-core":N.string(),"feature-set":N.optional(N.number())}),Sme=bo(N.type({err:N.nullable(N.union([N.type({}),N.string()])),logs:N.nullable(N.array(N.string())),accounts:N.optional(N.nullable(N.array(N.nullable(N.type({executable:N.boolean(),owner:N.string(),lamports:N.number(),data:N.array(N.string()),rentEpoch:N.optional(N.number())}))))),unitsConsumed:N.optional(N.number()),returnData:N.optional(N.nullable(N.type({programId:N.string(),data:N.tuple([N.string(),N.literal("base64")])})))})),lXe=bo(N.type({byIdentity:N.record(N.string(),N.array(N.number())),range:N.type({firstSlot:N.number(),lastSlot:N.number()})}));function dXe(t,e,r,n,i,o){let s=r||zJe,u;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=async(x,w)=>{let E=await new Promise((I,M)=>{try{n(x,w,(k,C)=>I([k,C]))}catch(k){M(k)}});return await s(...E)}),new gJe.default(async(x,w)=>{let E={method:"POST",body:x,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},det)};try{let I=5,M,k=500;for(;l?M=await l(t,E):M=await s(t,E),!(M.status!==429||i===!0||(I-=1,I===0));)console.log(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${k}ms delay...`),await Lb(k),k*=2;let C=await M.text();M.ok?w(null,C):w(new Error(`${M.status} ${M.statusText}: ${C}`))}catch(I){I instanceof Error&&w(I)}},{})}function hXe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function pXe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var mXe=wr(rXe),yXe=wr(iXe),gXe=wr(oXe),bXe=wr(sXe),vXe=wr(aXe),xXe=wr(N.number()),wXe=bo(N.type({total:N.number(),circulating:N.number(),nonCirculating:N.number(),nonCirculatingAccounts:N.array(vo)})),nH=N.type({amount:N.string(),uiAmount:N.nullable(N.number()),decimals:N.number(),uiAmountString:N.optional(N.string())}),SXe=bo(N.array(N.type({address:vo,amount:N.string(),uiAmount:N.nullable(N.number()),decimals:N.number(),uiAmountString:N.optional(N.string())}))),AXe=bo(N.array(N.type({pubkey:vo,account:N.type({executable:N.boolean(),owner:vo,lamports:N.number(),data:yH,rentEpoch:N.number()})}))),iH=N.type({program:N.string(),parsed:N.unknown(),space:N.number()}),EXe=bo(N.array(N.type({pubkey:vo,account:N.type({executable:N.boolean(),owner:vo,lamports:N.number(),data:iH,rentEpoch:N.number()})}))),_Xe=bo(N.array(N.type({lamports:N.number(),address:vo}))),g6=N.type({executable:N.boolean(),owner:vo,lamports:N.number(),data:yH,rentEpoch:N.number()}),TXe=N.type({pubkey:vo,account:g6}),IXe=N.coerce(N.union([N.instance(Gt.Buffer),iH]),N.union([Kme,iH]),t=>Array.isArray(t)?N.create(t,yH):t),oH=N.type({executable:N.boolean(),owner:vo,lamports:N.number(),data:IXe,rentEpoch:N.number()}),MXe=N.type({pubkey:vo,account:oH}),kXe=N.type({state:N.union([N.literal("active"),N.literal("inactive"),N.literal("activating"),N.literal("deactivating")]),active:N.number(),inactive:N.number()}),PXe=wr(N.array(N.type({signature:N.string(),slot:N.number(),err:Vb,memo:N.nullable(N.string()),blockTime:N.optional(N.nullable(N.number()))}))),RXe=wr(N.array(N.type({signature:N.string(),slot:N.number(),err:Vb,memo:N.nullable(N.string()),blockTime:N.optional(N.nullable(N.number()))}))),CXe=N.type({subscription:N.number(),result:tP(g6)}),BXe=N.type({pubkey:vo,account:g6}),OXe=N.type({subscription:N.number(),result:tP(BXe)}),DXe=N.type({parent:N.number(),slot:N.number(),root:N.number()}),NXe=N.type({subscription:N.number(),result:DXe}),UXe=N.union([N.type({type:N.union([N.literal("firstShredReceived"),N.literal("completed"),N.literal("optimisticConfirmation"),N.literal("root")]),slot:N.number(),timestamp:N.number()}),N.type({type:N.literal("createdBank"),parent:N.number(),slot:N.number(),timestamp:N.number()}),N.type({type:N.literal("frozen"),slot:N.number(),timestamp:N.number(),stats:N.type({numTransactionEntries:N.number(),numSuccessfulTransactions:N.number(),numFailedTransactions:N.number(),maxTransactionsPerEntry:N.number()})}),N.type({type:N.literal("dead"),slot:N.number(),timestamp:N.number(),err:N.string()})]),LXe=N.type({subscription:N.number(),result:UXe}),FXe=N.type({subscription:N.number(),result:tP(N.union([cXe,uXe]))}),KXe=N.type({subscription:N.number(),result:N.number()}),qXe=N.type({pubkey:N.string(),gossip:N.nullable(N.string()),tpu:N.nullable(N.string()),rpc:N.nullable(N.string()),version:N.nullable(N.string())}),Ame=N.type({votePubkey:N.string(),nodePubkey:N.string(),activatedStake:N.number(),epochVoteAccount:N.boolean(),epochCredits:N.array(N.tuple([N.number(),N.number(),N.number()])),commission:N.number(),lastVote:N.number(),rootSlot:N.nullable(N.number())}),VXe=wr(N.type({current:N.array(Ame),delinquent:N.array(Ame)})),HXe=N.union([N.literal("processed"),N.literal("confirmed"),N.literal("finalized")]),jXe=N.type({slot:N.number(),confirmations:N.nullable(N.number()),err:Vb,confirmationStatus:N.optional(HXe)}),zXe=bo(N.array(N.nullable(jXe))),WXe=wr(N.number()),Hme=N.type({accountKey:vo,writableIndexes:N.array(N.number()),readonlyIndexes:N.array(N.number())}),gH=N.type({signatures:N.array(N.string()),message:N.type({accountKeys:N.array(N.string()),header:N.type({numRequiredSignatures:N.number(),numReadonlySignedAccounts:N.number(),numReadonlyUnsignedAccounts:N.number()}),instructions:N.array(N.type({accounts:N.array(N.number()),data:N.string(),programIdIndex:N.number()})),recentBlockhash:N.string(),addressTableLookups:N.optional(N.array(Hme))})}),jme=N.type({pubkey:vo,signer:N.boolean(),writable:N.boolean(),source:N.optional(N.union([N.literal("transaction"),N.literal("lookupTable")]))}),zme=N.type({accountKeys:N.array(jme),signatures:N.array(N.string())}),Wme=N.type({parsed:N.unknown(),program:N.string(),programId:vo}),Gme=N.type({accounts:N.array(vo),data:N.string(),programId:vo}),GXe=N.union([Gme,Wme]),$Xe=N.union([N.type({parsed:N.unknown(),program:N.string(),programId:N.string()}),N.type({accounts:N.array(N.string()),data:N.string(),programId:N.string()})]),$me=N.coerce(GXe,$Xe,t=>"accounts"in t?N.create(t,Gme):N.create(t,Wme)),Yme=N.type({signatures:N.array(N.string()),message:N.type({accountKeys:N.array(jme),instructions:N.array($me),recentBlockhash:N.string(),addressTableLookups:N.optional(N.nullable(N.array(Hme)))})}),Gk=N.type({accountIndex:N.number(),mint:N.string(),owner:N.optional(N.string()),uiTokenAmount:nH}),Zme=N.type({writable:N.array(vo),readonly:N.array(vo)}),rP=N.type({err:Vb,fee:N.number(),innerInstructions:N.optional(N.nullable(N.array(N.type({index:N.number(),instructions:N.array(N.type({accounts:N.array(N.number()),data:N.string(),programIdIndex:N.number()}))})))),preBalances:N.array(N.number()),postBalances:N.array(N.number()),logMessages:N.optional(N.nullable(N.array(N.string()))),preTokenBalances:N.optional(N.nullable(N.array(Gk))),postTokenBalances:N.optional(N.nullable(N.array(Gk))),loadedAddresses:N.optional(Zme),computeUnitsConsumed:N.optional(N.number())}),bH=N.type({err:Vb,fee:N.number(),innerInstructions:N.optional(N.nullable(N.array(N.type({index:N.number(),instructions:N.array($me)})))),preBalances:N.array(N.number()),postBalances:N.array(N.number()),logMessages:N.optional(N.nullable(N.array(N.string()))),preTokenBalances:N.optional(N.nullable(N.array(Gk))),postTokenBalances:N.optional(N.nullable(N.array(Gk))),loadedAddresses:N.optional(Zme),computeUnitsConsumed:N.optional(N.number())}),kw=N.union([N.literal(0),N.literal("legacy")]),Hb=N.type({pubkey:N.string(),lamports:N.number(),postBalance:N.nullable(N.number()),rewardType:N.nullable(N.string()),commission:N.optional(N.nullable(N.number()))}),YXe=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:gH,meta:N.nullable(rP),version:N.optional(kw)})),rewards:N.optional(N.array(Hb)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),ZXe=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),rewards:N.optional(N.array(Hb)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),QXe=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:zme,meta:N.nullable(rP),version:N.optional(kw)})),rewards:N.optional(N.array(Hb)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),JXe=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:Yme,meta:N.nullable(bH),version:N.optional(kw)})),rewards:N.optional(N.array(Hb)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),XXe=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:zme,meta:N.nullable(bH),version:N.optional(kw)})),rewards:N.optional(N.array(Hb)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),eet=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),rewards:N.optional(N.array(Hb)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),tet=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:gH,meta:N.nullable(rP)})),rewards:N.optional(N.array(Hb)),blockTime:N.nullable(N.number())}))),Eme=wr(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),signatures:N.array(N.string()),blockTime:N.nullable(N.number())}))),jV=wr(N.nullable(N.type({slot:N.number(),meta:rP,blockTime:N.optional(N.nullable(N.number())),transaction:gH,version:N.optional(kw)}))),Fk=wr(N.nullable(N.type({slot:N.number(),transaction:Yme,meta:N.nullable(bH),blockTime:N.optional(N.nullable(N.number())),version:N.optional(kw)}))),ret=bo(N.type({blockhash:N.string(),feeCalculator:N.type({lamportsPerSignature:N.number()})})),net=bo(N.type({blockhash:N.string(),lastValidBlockHeight:N.number()})),iet=N.type({slot:N.number(),numTransactions:N.number(),numSlots:N.number(),samplePeriodSecs:N.number()}),oet=wr(N.array(iet)),set=bo(N.nullable(N.type({feeCalculator:N.type({lamportsPerSignature:N.number()})}))),aet=wr(N.string()),cet=wr(N.string()),uet=N.type({err:Vb,logs:N.array(N.string()),signature:N.string()}),fet=N.type({result:tP(uet),subscription:N.number()}),det={"solana-client":"js/1.73.5"},sH=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,i,o,s,u,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,u=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=eXe(e),this._rpcWsEndpoint=n||XJe(e),this._rpcClient=dXe(e,i,o,s,u,l),this._rpcRequest=hXe(this._rpcClient),this._rpcBatchRequest=pXe(this._rpcClient),this._rpcWebSocket=new rH(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),u=N.create(s,bo(N.number()));if("error"in u)throw new Ct(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=N.create(r,wr(N.nullable(N.number())));if("error"in n)throw new Ct(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=N.create(e,wr(N.number()));if("error"in r)throw new Ct(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=N.create(e,xXe);if("error"in r)throw new Ct(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=N.create(n,wXe);if("error"in i)throw new Ct(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=N.create(i,bo(nH));if("error"in o)throw new Ct(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=N.create(i,bo(nH));if("error"in o)throw new Ct(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=Ni(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let u=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",u),m=N.create(l,AXe);if("error"in m)throw new Ct(m.error,`failed to get token accounts owned by account ${e.toBase58()}`);return m.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),u=N.create(s,EXe);if("error"in u)throw new Ct(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=N.create(i,_Xe);if("error"in o)throw new Ct(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=N.create(i,SXe);if("error"in o)throw new Ct(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),u=N.create(s,bo(N.nullable(g6)));if("error"in u)throw new Ct(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),u=N.create(s,bo(N.nullable(oH)));if("error"in u)throw new Ct(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=Ni(r),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),u=await this._rpcRequest("getMultipleAccounts",s),l=N.create(u,bo(N.array(N.nullable(oH))));if("error"in l)throw new Ct(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=Ni(r),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],n,"base64",i),u=await this._rpcRequest("getMultipleAccounts",s),l=N.create(u,bo(N.array(N.nullable(g6))));if("error"in l)throw new Ct(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=Ni(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),u=await this._rpcRequest("getStakeActivation",s),l=N.create(u,wr(kXe));if("error"in l)throw new Ct(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=Ni(r),{encoding:o,...s}=i||{},u=this._buildArgs([e.toBase58()],n,o||"base64",s),l=await this._rpcRequest("getProgramAccounts",u),m=N.create(l,wr(N.array(TXe)));if("error"in m)throw new Ct(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),u=N.create(s,wr(N.array(MXe)));if("error"in u)throw new Ct(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Is.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return pn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((l,m)=>{try{n=this.onSignature(r,(w,E)=>{n=void 0;let I={context:E,value:w};l({__type:lt.TransactionStatus.PROCESSED,response:I})},e);let x=new Promise(w=>{n==null?w():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&w()})});(async()=>{if(await x,o)return;let w=await this.getSignatureStatus(r);if(o||w==null)return;let{context:E,value:I}=w;if(I!=null)if(I?.err)m(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(I.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(I.confirmationStatus==="processed"||I.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:lt.TransactionStatus.PROCESSED,response:{context:E,value:I}})}})()}catch(x){m(x)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(w=>{let E=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let I=await E();if(!o){for(;I<=n;)if(await Lb(1e3),o||(I=await E(),o))return;w({__type:lt.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),m=this.getCancellationPromise(r),x;try{let w=await Promise.race([m,l,s]);if(w.__type===lt.TransactionStatus.PROCESSED)x=w.response;else throw new h6(i)}finally{o=!0,u()}return x}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let u=!1,l=new Promise(I=>{let M=o,k=null,C=async()=>{try{let{context:R,value:L}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return k=R.slot,L?.nonce}catch{return M}};(async()=>{if(M=await C(),!u)for(;;){if(o!==M){I({__type:lt.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await Lb(2e3),u||(M=await C(),u))return}})()}),{abortConfirmation:m,confirmationPromise:x}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),w=this.getCancellationPromise(r),E;try{let I=await Promise.race([w,x,l]);if(I.__type===lt.TransactionStatus.PROCESSED)E=I.response;else{let M;for(;;){let k=await this.getSignatureStatus(s);if(k==null)break;if(k.context.slot<(I.slotInWhichNonceDidAdvance??n)){await Lb(400);continue}M=k;break}if(M?.value){let k=e||"finalized",{confirmationStatus:C}=M.value;switch(k){case"processed":case"recent":if(C!=="processed"&&C!=="confirmed"&&C!=="finalized")throw new _m(s);break;case"confirmed":case"single":case"singleGossip":if(C!=="confirmed"&&C!=="finalized")throw new _m(s);break;case"finalized":case"max":case"root":if(C!=="finalized")throw new _m(s);break;default:}E={context:M.context,value:{err:M.value.err}}}else throw new _m(s)}}finally{u=!0,m()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let m=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{m=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:lt.TransactionStatus.TIMED_OUT,timeoutMs:m}),m)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),u;try{let l=await Promise.race([s,i]);if(l.__type===lt.TransactionStatus.PROCESSED)u=l.response;else throw new p6(r,l.timeoutMs/1e3)}finally{clearTimeout(n),o()}return u}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=N.create(e,wr(N.array(qXe)));if("error"in r)throw new Ct(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=N.create(n,VXe);if("error"in i)throw new Ct(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=Ni(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=N.create(o,wr(N.number()));if("error"in s)throw new Ct(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=Ni(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=N.create(o,wr(N.string()));if("error"in s)throw new Ct(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=N.create(i,wr(N.array(vo)));if("error"in o)throw new Ct(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);pn(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=N.create(i,zXe);if("error"in o)throw new Ct(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=Ni(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=N.create(o,wr(N.number()));if("error"in s)throw new Ct(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=N.create(n,mXe);if("error"in i)throw new Ct(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=Ni(n),s=this._buildArgs([e.map(m=>m.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),u=await this._rpcRequest("getInflationReward",s),l=N.create(u,nXe);if("error"in l)throw new Ct(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=N.create(e,yXe);if("error"in r)throw new Ct(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=Ni(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=N.create(o,gXe);if("error"in s)throw new Ct(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=N.create(e,bXe);if("error"in r)throw new Ct(r.error,"failed to get epoch schedule");let n=r.result;return new Wk(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=N.create(e,vXe);if("error"in r)throw new Ct(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=N.create(i,WXe);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=N.create(n,ret);if("error"in i)throw new Ct(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=N.create(r,oet);if("error"in n)throw new Ct(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=N.create(i,set);if("error"in o)throw new Ct(o.error,"failed to get fee calculator");let{context:s,value:u}=o.result;return{context:s,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,r){let n=gr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=N.create(o,bo(N.nullable(N.number())));if("error"in s)throw new Ct(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=Ni(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=N.create(o,net);if("error"in s)throw new Ct(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=N.create(e,wr(fXe));if("error"in r)throw new Ct(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=N.create(e,wr(N.string()));if("error"in r)throw new Ct(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let u=N.create(s,QXe);if("error"in u)throw u.error;return u.result}case"none":{let u=N.create(s,ZXe);if("error"in u)throw u.error;return u.result}default:{let u=N.create(s,YXe);if("error"in u)throw u.error;let{result:l}=u;return l?{...l,transactions:l.transactions.map(({transaction:m,meta:x,version:w})=>({meta:x,transaction:{...m,message:HV(w,m.message)},version:w}))}:null}}}catch(u){throw new Ct(u,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let u=N.create(s,XXe);if("error"in u)throw u.error;return u.result}case"none":{let u=N.create(s,eet);if("error"in u)throw u.error;return u.result}default:{let u=N.create(s,JXe);if("error"in u)throw u.error;return u.result}}}catch(u){throw new Ct(u,"failed to get block")}}async getBlockHeight(e){let{commitment:r,config:n}=Ni(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getBlockHeight",i),s=N.create(o,wr(N.number()));if("error"in s)throw new Ct(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:u,...l}=e;n=u,r=l}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=N.create(o,lXe);if("error"in s)throw new Ct(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),u=N.create(s,jV);if("error"in u)throw new Ct(u.error,"failed to get transaction");let l=u.result;return l&&{...l,transaction:{...l.transaction,message:HV(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=Ni(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),u=N.create(s,Fk);if("error"in u)throw new Ct(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=Ni(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=N.create(l,Fk);if("error"in m)throw new Ct(m.error,"failed to get transactions");return m.result})}async getTransactions(e,r){let{commitment:n,config:i}=Ni(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=N.create(l,jV);if("error"in m)throw new Ct(m.error,"failed to get transactions");let x=m.result;return x&&{...x,transaction:{...x.transaction,message:HV(x.version,x.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=N.create(i,tet);if("error"in o)throw new Ct(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let u={...s,transactions:s.transactions.map(({transaction:l,meta:m})=>{let x=new Od(l.message);return{meta:m,transaction:{...l,message:x}}})};return{...u,transactions:u.transactions.map(({transaction:l,meta:m})=>({meta:m,transaction:Ln.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=N.create(o,wr(N.array(N.number())));if("error"in s)throw new Ct(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=N.create(i,Eme);if("error"in o)throw new Ct(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=N.create(i,Eme);if("error"in o)throw new Ct(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=N.create(i,jV);if("error"in o)throw new Ct(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let u=new Od(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Ln.populate(u,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=N.create(i,Fk);if("error"in o)throw new Ct(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let u=N.create(s,Fk);if("error"in u)throw new Ct(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=N.create(o,PXe);if("error"in s)throw new Ct(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=N.create(o,RXe);if("error"in s)throw new Ct(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new y6({key:e,state:y6.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=zk.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=N.create(n,aet);if("error"in i)throw new Ct(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Lb(100);let n=Date.now()-this._blockhashInfo.lastFetch>=qme;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Lb(YJe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=Ni(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=N.create(o,bo(N.number()));if("error"in s)throw new Ct(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let k=e.serialize(),C=Gt.Buffer.from(k).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let R=r||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment);let L=[C,R],P=await this._rpcRequest("simulateTransaction",L),K=N.create(P,Sme);if("error"in K)throw new Error("failed to simulate transaction: "+K.error.message);return K.result}let i;if(e instanceof Ln){let M=e;i=new Ln,i.feePayer=M.feePayer,i.instructions=e.instructions,i.nonceInfo=M.nonceInfo,i.signatures=M.signatures}else i=Ln.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){let k=await this._blockhashWithExpiryBlockHeight(M);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let C=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(C)&&!this._blockhashInfo.transactionSignatures.includes(C)){this._blockhashInfo.simulatedSignatures.push(C);break}else M=!0}}let s=i._compile(),u=s.serialize(),m=i._serialize(u).toString("base64"),x={encoding:"base64",commitment:this.commitment};if(n){let M=(Array.isArray(n)?n:s.nonProgramIds()).map(k=>k.toBase58());x.accounts={encoding:"base64",addresses:M}}o&&(x.sigVerify=!0);let w=[m,x],E=await this._rpcRequest("simulateTransaction",w),I=N.create(E,Sme);if("error"in I){let M;if("data"in I.error&&(M=I.error.data.logs,M&&Array.isArray(M))){let k=`
    `,C=k+M.join(k);console.error(I.error.message,C)}throw new m6("failed to simulate transaction: "+I.error.message,M)}return I.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let u=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=gr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],u=await this._rpcRequest("sendTransaction",s),l=N.create(u,cet);if("error"in l){let m;throw"data"in l.error&&(m=l.error.data.logs),new m6("failed to send transaction: "+l.error.message,m)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let u=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=i.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${s} error for argument`,o,u.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(u){if(u instanceof Error&&console.error(`${s} error:`,u.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=N.create(e,CXe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=VJe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];pn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=N.create(e,OXe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=N.create(e,fet);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=N.create(e,NXe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=N.create(e,LXe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=N.create(e,FXe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,u)=>{if(s.type==="status"){r(s.result,u);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),u=this._makeSubscription({callback:(l,m)=>{r(l,m);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=N.create(e,KXe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},$k=class t{constructor(e){this._keypair=void 0,this._keypair=e??bme()}static generate(){return new t(bme())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=Hk(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=Hk(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new vt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},p0=Object.freeze({CreateLookupTable:{index:0,layout:fe.struct([fe.u32("instruction"),_w("recentSlot"),fe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:fe.struct([fe.u32("instruction")])},ExtendLookupTable:{index:2,layout:fe.struct([fe.u32("instruction"),_w(),fe.seq(Cr(),fe.offset(fe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:fe.struct([fe.u32("instruction")])},CloseLookupTable:{index:4,layout:fe.struct([fe.u32("instruction")])}}),aH=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(p0))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Rn(p0.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Rn(p0.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new vt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(b6.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},b6=class{constructor(){}static createLookupTable(e){let[r,n]=vt.findProgramAddressSync([e.authority.toBuffer(),$V.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=p0.CreateLookupTable,o=cn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ua.programId,isSigner:!1,isWritable:!1}];return[new Fn({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=p0.FreezeLookupTable,n=cn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Fn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=p0.ExtendLookupTable,n=cn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ua.programId,isSigner:!1,isWritable:!1}),new Fn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=p0.DeactivateLookupTable,n=cn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Fn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=p0.CloseLookupTable,n=cn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Fn({programId:this.programId,keys:i,data:n})}};b6.programId=new vt("AddressLookupTab1e1111111111111111111111111");var cH=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Cd))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Rn(Cd.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Rn(Cd.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Rn(Cd.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Rn(Cd.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(v6.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Cd=Object.freeze({RequestUnits:{index:0,layout:fe.struct([fe.u8("instruction"),fe.u32("units"),fe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:fe.struct([fe.u8("instruction"),fe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:fe.struct([fe.u8("instruction"),fe.u32("units")])},SetComputeUnitPrice:{index:3,layout:fe.struct([fe.u8("instruction"),_w("microLamports")])}}),v6=class{constructor(){}static requestUnits(e){let r=Cd.RequestUnits,n=cn(r,e);return new Fn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Cd.RequestHeapFrame,n=cn(r,e);return new Fn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Cd.SetComputeUnitLimit,n=cn(r,e);return new Fn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Cd.SetComputeUnitPrice,n=cn(r,{microLamports:BigInt(e.microLamports)});return new Fn({keys:[],programId:this.programId,data:n})}};v6.programId=new vt("ComputeBudget111111111111111111111111111111");var _me=64,Tme=32,Ime=64,Mme=fe.struct([fe.u8("numSignatures"),fe.u8("padding"),fe.u16("signatureOffset"),fe.u16("signatureInstructionIndex"),fe.u16("publicKeyOffset"),fe.u16("publicKeyInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u16("messageInstructionIndex")]),Yk=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;pn(r.length===Tme,`Public Key must be ${Tme} bytes but received ${r.length} bytes`),pn(i.length===Ime,`Signature must be ${Ime} bytes but received ${i.length} bytes`);let s=Mme.span,u=s+r.length,l=u+i.length,m=1,x=Gt.Buffer.alloc(l+n.length),w=o??65535;return Mme.encode({numSignatures:m,padding:0,signatureOffset:u,signatureInstructionIndex:w,publicKeyOffset:s,publicKeyInstructionIndex:w,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:w},x),x.fill(r,s),x.fill(i,u),x.fill(n,l),new Fn({keys:[],programId:t.programId,data:x})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;pn(r.length===_me,`Private key must be ${_me} bytes but received ${r.length} bytes`);try{let o=$k.fromSecretKey(r),s=o.publicKey.toBytes(),u=pH(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:u,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Yk.programId=new vt("Ed25519SigVerify111111111111111111111111111");Xk.utils.hmacSha256Sync=(t,...e)=>{let r=mJe.hmac.create(GV.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var het=(t,e)=>Xk.signSync(t,e,{der:!1,recovered:!0});Xk.utils.isValidPrivateKey;var pet=Xk.getPublicKey,kme=32,zV=20,Pme=64,met=11,WV=fe.struct([fe.u8("numSignatures"),fe.u16("signatureOffset"),fe.u8("signatureInstructionIndex"),fe.u16("ethAddressOffset"),fe.u8("ethAddressInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u8("messageInstructionIndex"),fe.blob(20,"ethAddress"),fe.blob(64,"signature"),fe.u8("recoveryId")]),Zk=class t{constructor(){}static publicKeyToEthAddress(e){pn(e.length===Pme,`Public key must be ${Pme} bytes but received ${e.length} bytes`);try{return Gt.Buffer.from(yme.keccak_256(gr(e))).slice(-zV)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,u;typeof r=="string"?r.startsWith("0x")?u=Gt.Buffer.from(r.substr(2),"hex"):u=Gt.Buffer.from(r,"hex"):u=r,pn(u.length===zV,`Address must be ${zV} bytes but received ${u.length} bytes`);let l=1+met,m=l,x=l+u.length,w=x+i.length+1,E=1,I=Gt.Buffer.alloc(WV.span+n.length);return WV.encode({numSignatures:E,signatureOffset:x,signatureInstructionIndex:s,ethAddressOffset:m,ethAddressInstructionIndex:s,messageDataOffset:w,messageDataSize:n.length,messageInstructionIndex:s,signature:gr(i),ethAddress:gr(u),recoveryId:o},I),I.fill(gr(n),WV.span),new Fn({keys:[],programId:t.programId,data:I})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;pn(r.length===kme,`Private key must be ${kme} bytes but received ${r.length} bytes`);try{let o=gr(r),s=pet(o,!1).slice(1),u=Gt.Buffer.from(yme.keccak_256(gr(n))),[l,m]=het(u,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:l,recoveryId:m,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Zk.programId=new vt("KeccakSecp256k11111111111111111111111111111");var Qme=new vt("StakeConfig11111111111111111111111111111111"),Qk=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},qb=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};qb.default=new qb(0,0,vt.default);var uH=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(is))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Rn(is.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Qk(new vt(r.staker),new vt(r.withdrawer)),lockup:new qb(n.unixTimestamp,n.epoch,new vt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Rn(is.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Rn(is.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Rn(is.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new vt(o),newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Rn(is.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Rn(is.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Rn(is.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Rn(is.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Iw.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},is=Object.freeze({Initialize:{index:0,layout:fe.struct([fe.u32("instruction"),_Je(),TJe()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),Cr("newAuthorized"),fe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:fe.struct([fe.u32("instruction")])},Split:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Withdraw:{index:4,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Deactivate:{index:5,layout:fe.struct([fe.u32("instruction")])},Merge:{index:7,layout:fe.struct([fe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:fe.struct([fe.u32("instruction"),Cr("newAuthorized"),fe.u32("stakeAuthorizationType"),Fb("authoritySeed"),Cr("authorityOwner")])}}),yet=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Iw=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||qb.default,s=is.Initialize,u=cn(s,{authorized:{staker:gr(n.staker.toBuffer()),withdrawer:gr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:gr(o.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ew,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new Fn(l)}static createAccountWithSeed(e){let r=new Ln;r.add(ua.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Ln;r.add(ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=is.Delegate,s=cn(o);return new Ln().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Pd,isSigner:!1,isWritable:!1},{pubkey:qk,isSigner:!1,isWritable:!1},{pubkey:Qme,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,u=is.Authorize,l=cn(u,{newAuthorized:gr(i.toBuffer()),stakeAuthorizationType:o.index}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Pd,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!1,isWritable:!1}),new Ln().add({keys:m,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:u,custodianPubkey:l}=e,m=is.AuthorizeWithSeed,x=cn(m,{newAuthorized:gr(s.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:i,authorityOwner:gr(o.toBuffer())}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Pd,isSigner:!1,isWritable:!1}];return l&&w.push({pubkey:l,isSigner:!1,isWritable:!1}),new Ln().add({keys:w,programId:this.programId,data:x})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=is.Split,u=cn(s,{lamports:o});return new Fn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){let r=new Ln;return r.add(ua.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:u}=e,l=new Ln;return l.add(ua.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:u}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=is.Merge,s=cn(o);return new Ln().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pd,isSigner:!1,isWritable:!1},{pubkey:qk,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,u=is.Withdraw,l=cn(u,{lamports:o}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Pd,isSigner:!1,isWritable:!1},{pubkey:qk,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!1,isWritable:!1}),new Ln().add({keys:m,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=is.Deactivate,o=cn(i);return new Ln().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Pd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};Iw.programId=new vt("Stake11111111111111111111111111111111111111");Iw.space=200;var Jk=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},fH=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(m0))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Rn(m0.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Jk(new vt(r.nodePubkey),new vt(r.authorizedVoter),new vt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Rn(m0.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Rn(m0.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new vt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new vt(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Rn(m0.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Mw.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},m0=Object.freeze({InitializeAccount:{index:0,layout:fe.struct([fe.u32("instruction"),IJe()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),Cr("newAuthorized"),fe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),MJe()])}}),get=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Mw=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=m0.InitializeAccount,s=cn(o,{voteInit:{nodePubkey:gr(i.nodePubkey.toBuffer()),authorizedVoter:gr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:gr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ew,isSigner:!1,isWritable:!1},{pubkey:Pd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Fn(u)}static createAccount(e){let r=new Ln;return r.add(ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=m0.Authorize,u=cn(s,{newAuthorized:gr(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Pd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ln().add({keys:l,programId:this.programId,data:u})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:u}=e,l=m0.AuthorizeWithSeed,m=cn(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:gr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:gr(o.toBuffer()),voteAuthorizationType:s.index}}),x=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Pd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Ln().add({keys:x,programId:this.programId,data:m})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=m0.Withdraw,u=cn(s,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ln().add({keys:l,programId:this.programId,data:u})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};Mw.programId=new vt("Vote111111111111111111111111111111111111111");Mw.space=3731;var Jme=new vt("Va1idator1nfo111111111111111111111111111111"),bet=N.type({name:N.string(),website:N.optional(N.string()),details:N.optional(N.string()),keybaseUsername:N.optional(N.string())}),lH=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(yc(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new vt(gc(r,0,Bd)),u=Rd(r)===1;i.push({publicKey:s,isSigner:u})}if(i[0].publicKey.equals(Jme)&&i[1].isSigner){let o=Fb().decode(Gt.Buffer.from(r)),s=JSON.parse(o);return N.assert(s,bet),new t(i[1].publicKey,s)}return null}},vet=new vt("Vote111111111111111111111111111111111111111"),xet=fe.struct([Cr("nodePubkey"),Cr("authorizedWithdrawer"),fe.u8("commission"),fe.nu64(),fe.seq(fe.struct([fe.nu64("slot"),fe.u32("confirmationCount")]),fe.offset(fe.u32(),-8),"votes"),fe.u8("rootSlotValid"),fe.nu64("rootSlot"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),Cr("authorizedVoter")]),fe.offset(fe.u32(),-8),"authorizedVoters"),fe.struct([fe.seq(fe.struct([Cr("authorizedPubkey"),fe.nu64("epochOfLastAuthorizedSwitch"),fe.nu64("targetEpoch")]),32,"buf"),fe.nu64("idx"),fe.u8("isEmpty")],"priorVoters"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),fe.nu64("credits"),fe.nu64("prevCredits")]),fe.offset(fe.u32(),-8),"epochCredits"),fe.struct([fe.nu64("slot"),fe.nu64("timestamp")],"lastTimestamp")]),dH=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=xet.decode(gr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new vt(n.nodePubkey),authorizedWithdrawer:new vt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(wet),priorVoters:Aet(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function wet({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new vt(t)}}function Rme({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new vt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Aet({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Rme),...t.slice(0,e).map(Rme)]}var Cme={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Eet(t,e){let r=e===!1?"http":"https";if(!t)return Cme[r].devnet;let n=Cme[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function _et(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},u=await t.sendRawTransaction(e,s),l=o&&o.commitment,x=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(u,l))).value;if(x.err)throw new Error(`Raw transaction ${u} failed (${JSON.stringify(x)})`);return u}var Tet=1e9;lt.Account=ZV;lt.AddressLookupTableAccount=y6;lt.AddressLookupTableInstruction=aH;lt.AddressLookupTableProgram=b6;lt.Authorized=Qk;lt.BLOCKHASH_CACHE_TIMEOUT_MS=qme;lt.BPF_LOADER_DEPRECATED_PROGRAM_ID=AJe;lt.BPF_LOADER_PROGRAM_ID=LJe;lt.BpfLoader=tH;lt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Cd;lt.ComputeBudgetInstruction=cH;lt.ComputeBudgetProgram=v6;lt.Connection=sH;lt.Ed25519Program=Yk;lt.Enum=YV;lt.EpochSchedule=Wk;lt.FeeCalculatorLayout=Lme;lt.Keypair=$k;lt.LAMPORTS_PER_SOL=Tet;lt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=p0;lt.Loader=Tw;lt.Lockup=qb;lt.MAX_SEED_LENGTH=Dme;lt.Message=Od;lt.MessageAccountKeys=Kb;lt.MessageV0=Aw;lt.NONCE_ACCOUNT_LENGTH=XV;lt.NonceAccount=zk;lt.PACKET_DATA_SIZE=Tm;lt.PUBLIC_KEY_LENGTH=Bd;lt.PublicKey=vt;lt.SIGNATURE_LENGTH_IN_BYTES=d6;lt.SOLANA_SCHEMA=f6;lt.STAKE_CONFIG_ID=Qme;lt.STAKE_INSTRUCTION_LAYOUTS=is;lt.SYSTEM_INSTRUCTION_LAYOUTS=ai;lt.SYSVAR_CLOCK_PUBKEY=Pd;lt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=PJe;lt.SYSVAR_INSTRUCTIONS_PUBKEY=RJe;lt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=Kk;lt.SYSVAR_RENT_PUBKEY=Ew;lt.SYSVAR_REWARDS_PUBKEY=CJe;lt.SYSVAR_SLOT_HASHES_PUBKEY=BJe;lt.SYSVAR_SLOT_HISTORY_PUBKEY=OJe;lt.SYSVAR_STAKE_HISTORY_PUBKEY=qk;lt.Secp256k1Program=Zk;lt.SendTransactionError=m6;lt.SolanaJSONRPCError=Ct;lt.SolanaJSONRPCErrorCode=jJe;lt.StakeAuthorizationLayout=yet;lt.StakeInstruction=uH;lt.StakeProgram=Iw;lt.Struct=l6;lt.SystemInstruction=eH;lt.SystemProgram=ua;lt.Transaction=Ln;lt.TransactionExpiredBlockheightExceededError=h6;lt.TransactionExpiredNonceInvalidError=_m;lt.TransactionExpiredTimeoutError=p6;lt.TransactionInstruction=Fn;lt.TransactionMessage=QV;lt.VALIDATOR_INFO_KEY=Jme;lt.VERSION_PREFIX_MASK=eP;lt.VOTE_PROGRAM_ID=vet;lt.ValidatorInfo=lH;lt.VersionedMessage=mH;lt.VersionedTransaction=JV;lt.VoteAccount=dH;lt.VoteAuthorizationLayout=get;lt.VoteInit=Jk;lt.VoteInstruction=fH;lt.VoteProgram=Mw;lt.clusterApiUrl=Eet;lt.sendAndConfirmRawTransaction=_et;lt.sendAndConfirmTransaction=Vk});var nj=q(V6=>{"use strict";d();h();Object.defineProperty(V6,"__esModule",{value:!0});V6.SupportedAlgorithm=void 0;var ont;(function(t){t.sha256="sha256",t.sha512="sha512"})(ont=V6.SupportedAlgorithm||(V6.SupportedAlgorithm={}))});var Yge=q(ZP=>{"use strict";d();h();Object.defineProperty(ZP,"__esModule",{value:!0});ZP.version=void 0;ZP.version="sha2/5.7.0"});var Qge=q(lf=>{"use strict";d();h();var snt=lf&&lf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lf,"__esModule",{value:!0});lf.computeHmac=lf.sha512=lf.sha256=lf.ripemd160=void 0;var H6=snt(Wx()),j6=Jo(),ant=nj(),Zge=Na(),cnt=Yge(),unt=new Zge.Logger(cnt.version);function fnt(t){return"0x"+H6.default.ripemd160().update((0,j6.arrayify)(t)).digest("hex")}lf.ripemd160=fnt;function lnt(t){return"0x"+H6.default.sha256().update((0,j6.arrayify)(t)).digest("hex")}lf.sha256=lnt;function dnt(t){return"0x"+H6.default.sha512().update((0,j6.arrayify)(t)).digest("hex")}lf.sha512=dnt;function hnt(t,e,r){return ant.SupportedAlgorithm[t]||unt.throwError("unsupported algorithm "+t,Zge.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+H6.default.hmac(H6.default[t],(0,j6.arrayify)(e)).update((0,j6.arrayify)(r)).digest("hex")}lf.computeHmac=hnt});var ij=q(df=>{"use strict";d();h();Object.defineProperty(df,"__esModule",{value:!0});df.SupportedAlgorithm=df.sha512=df.sha256=df.ripemd160=df.computeHmac=void 0;var QP=Qge();Object.defineProperty(df,"computeHmac",{enumerable:!0,get:function(){return QP.computeHmac}});Object.defineProperty(df,"ripemd160",{enumerable:!0,get:function(){return QP.ripemd160}});Object.defineProperty(df,"sha256",{enumerable:!0,get:function(){return QP.sha256}});Object.defineProperty(df,"sha512",{enumerable:!0,get:function(){return QP.sha512}});var pnt=nj();Object.defineProperty(df,"SupportedAlgorithm",{enumerable:!0,get:function(){return pnt.SupportedAlgorithm}})});var Ij=q((Tj,Sbe)=>{"use strict";d();h();(function(t){function e(c){return parseInt(c)===c}function r(c){if(!e(c.length))return!1;for(var v=0;v<c.length;v++)if(!e(c[v])||c[v]<0||c[v]>255)return!1;return!0}function n(c,v){if(c.buffer&&ArrayBuffer.isView(c)&&c.name==="Uint8Array")return v&&(c.slice?c=c.slice():c=Array.prototype.slice.call(c)),c;if(Array.isArray(c)){if(!r(c))throw new Error("Array contains invalid value: "+c);return new Uint8Array(c)}if(e(c.length)&&r(c))return new Uint8Array(c);throw new Error("unsupported array-like object")}function i(c){return new Uint8Array(c)}function o(c,v,F,U,O){(U!=null||O!=null)&&(c.slice?c=c.slice(U,O):c=Array.prototype.slice.call(c,U,O)),v.set(c,F)}var s=function(){function c(F){var U=[],O=0;for(F=encodeURI(F);O<F.length;){var W=F.charCodeAt(O++);W===37?(U.push(parseInt(F.substr(O,2),16)),O+=2):U.push(W)}return n(U)}function v(F){for(var U=[],O=0;O<F.length;){var W=F[O];W<128?(U.push(String.fromCharCode(W)),O++):W>191&&W<224?(U.push(String.fromCharCode((W&31)<<6|F[O+1]&63)),O+=2):(U.push(String.fromCharCode((W&15)<<12|(F[O+1]&63)<<6|F[O+2]&63)),O+=3)}return U.join("")}return{toBytes:c,fromBytes:v}}(),u=function(){function c(U){for(var O=[],W=0;W<U.length;W+=2)O.push(parseInt(U.substr(W,2),16));return O}var v="0123456789abcdef";function F(U){for(var O=[],W=0;W<U.length;W++){var ee=U[W];O.push(v[(ee&240)>>4]+v[ee&15])}return O.join("")}return{toBytes:c,fromBytes:F}}(),l={16:10,24:12,32:14},m=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],x=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],w=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],E=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],I=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],k=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],C=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],R=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],L=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],P=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],K=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],V=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],j=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ne=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function J(c){for(var v=[],F=0;F<c.length;F+=4)v.push(c[F]<<24|c[F+1]<<16|c[F+2]<<8|c[F+3]);return v}var oe=function(c){if(!(this instanceof oe))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(c,!0)}),this._prepare()};oe.prototype._prepare=function(){var c=l[this.key.length];if(c==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var v=0;v<=c;v++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var F=(c+1)*4,U=this.key.length/4,O=J(this.key),W,v=0;v<U;v++)W=v>>2,this._Ke[W][v%4]=O[v],this._Kd[c-W][v%4]=O[v];for(var ee=0,re=U,Ve;re<F;){if(Ve=O[U-1],O[0]^=x[Ve>>16&255]<<24^x[Ve>>8&255]<<16^x[Ve&255]<<8^x[Ve>>24&255]^m[ee]<<24,ee+=1,U!=8)for(var v=1;v<U;v++)O[v]^=O[v-1];else{for(var v=1;v<U/2;v++)O[v]^=O[v-1];Ve=O[U/2-1],O[U/2]^=x[Ve&255]^x[Ve>>8&255]<<8^x[Ve>>16&255]<<16^x[Ve>>24&255]<<24;for(var v=U/2+1;v<U;v++)O[v]^=O[v-1]}for(var v=0,ae,G;v<U&&re<F;)ae=re>>2,G=re%4,this._Ke[ae][G]=O[v],this._Kd[c-ae][G]=O[v++],re++}for(var ae=1;ae<c;ae++)for(var G=0;G<4;G++)Ve=this._Kd[ae][G],this._Kd[ae][G]=K[Ve>>24&255]^V[Ve>>16&255]^j[Ve>>8&255]^ne[Ve&255]},oe.prototype.encrypt=function(c){if(c.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var v=this._Ke.length-1,F=[0,0,0,0],U=J(c),O=0;O<4;O++)U[O]^=this._Ke[0][O];for(var W=1;W<v;W++){for(var O=0;O<4;O++)F[O]=E[U[O]>>24&255]^I[U[(O+1)%4]>>16&255]^M[U[(O+2)%4]>>8&255]^k[U[(O+3)%4]&255]^this._Ke[W][O];U=F.slice()}for(var ee=i(16),re,O=0;O<4;O++)re=this._Ke[v][O],ee[4*O]=(x[U[O]>>24&255]^re>>24)&255,ee[4*O+1]=(x[U[(O+1)%4]>>16&255]^re>>16)&255,ee[4*O+2]=(x[U[(O+2)%4]>>8&255]^re>>8)&255,ee[4*O+3]=(x[U[(O+3)%4]&255]^re)&255;return ee},oe.prototype.decrypt=function(c){if(c.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var v=this._Kd.length-1,F=[0,0,0,0],U=J(c),O=0;O<4;O++)U[O]^=this._Kd[0][O];for(var W=1;W<v;W++){for(var O=0;O<4;O++)F[O]=C[U[O]>>24&255]^R[U[(O+3)%4]>>16&255]^L[U[(O+2)%4]>>8&255]^P[U[(O+1)%4]&255]^this._Kd[W][O];U=F.slice()}for(var ee=i(16),re,O=0;O<4;O++)re=this._Kd[v][O],ee[4*O]=(w[U[O]>>24&255]^re>>24)&255,ee[4*O+1]=(w[U[(O+3)%4]>>16&255]^re>>16)&255,ee[4*O+2]=(w[U[(O+2)%4]>>8&255]^re>>8)&255,ee[4*O+3]=(w[U[(O+1)%4]&255]^re)&255;return ee};var S=function(c){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new oe(c)};S.prototype.encrypt=function(c){if(c=n(c),c.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=i(c.length),F=i(16),U=0;U<c.length;U+=16)o(c,F,0,U,U+16),F=this._aes.encrypt(F),o(F,v,U);return v},S.prototype.decrypt=function(c){if(c=n(c),c.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=i(c.length),F=i(16),U=0;U<c.length;U+=16)o(c,F,0,U,U+16),F=this._aes.decrypt(F),o(F,v,U);return v};var a=function(c,v){if(!(this instanceof a))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!v)v=i(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(v,!0),this._aes=new oe(c)};a.prototype.encrypt=function(c){if(c=n(c),c.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=i(c.length),F=i(16),U=0;U<c.length;U+=16){o(c,F,0,U,U+16);for(var O=0;O<16;O++)F[O]^=this._lastCipherblock[O];this._lastCipherblock=this._aes.encrypt(F),o(this._lastCipherblock,v,U)}return v},a.prototype.decrypt=function(c){if(c=n(c),c.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=i(c.length),F=i(16),U=0;U<c.length;U+=16){o(c,F,0,U,U+16),F=this._aes.decrypt(F);for(var O=0;O<16;O++)v[U+O]=F[O]^this._lastCipherblock[O];o(c,this._lastCipherblock,0,U,U+16)}return v};var f=function(c,v,F){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!v)v=i(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");F||(F=1),this.segmentSize=F,this._shiftRegister=n(v,!0),this._aes=new oe(c)};f.prototype.encrypt=function(c){if(c.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var v=n(c,!0),F,U=0;U<v.length;U+=this.segmentSize){F=this._aes.encrypt(this._shiftRegister);for(var O=0;O<this.segmentSize;O++)v[U+O]^=F[O];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(v,this._shiftRegister,16-this.segmentSize,U,U+this.segmentSize)}return v},f.prototype.decrypt=function(c){if(c.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var v=n(c,!0),F,U=0;U<v.length;U+=this.segmentSize){F=this._aes.encrypt(this._shiftRegister);for(var O=0;O<this.segmentSize;O++)v[U+O]^=F[O];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(c,this._shiftRegister,16-this.segmentSize,U,U+this.segmentSize)}return v};var p=function(c,v){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!v)v=i(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(v,!0),this._lastPrecipherIndex=16,this._aes=new oe(c)};p.prototype.encrypt=function(c){for(var v=n(c,!0),F=0;F<v.length;F++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),v[F]^=this._lastPrecipher[this._lastPrecipherIndex++];return v},p.prototype.decrypt=p.prototype.encrypt;var y=function(c){if(!(this instanceof y))throw Error("Counter must be instanitated with `new`");c!==0&&!c&&(c=1),typeof c=="number"?(this._counter=i(16),this.setValue(c)):this.setBytes(c)};y.prototype.setValue=function(c){if(typeof c!="number"||parseInt(c)!=c)throw new Error("invalid counter value (must be an integer)");for(var v=15;v>=0;--v)this._counter[v]=c%256,c=c>>8},y.prototype.setBytes=function(c){if(c=n(c,!0),c.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=c},y.prototype.increment=function(){for(var c=15;c>=0;c--)if(this._counter[c]===255)this._counter[c]=0;else{this._counter[c]++;break}};var g=function(c,v){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",v instanceof y||(v=new y(v)),this._counter=v,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new oe(c)};g.prototype.encrypt=function(c){for(var v=n(c,!0),F=0;F<v.length;F++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),v[F]^=this._remainingCounter[this._remainingCounterIndex++];return v},g.prototype.decrypt=g.prototype.encrypt;function A(c){c=n(c,!0);var v=16-c.length%16,F=i(c.length+v);o(c,F);for(var U=c.length;U<F.length;U++)F[U]=v;return F}function _(c){if(c=n(c,!0),c.length<16)throw new Error("PKCS#7 invalid length");var v=c[c.length-1];if(v>16)throw new Error("PKCS#7 padding byte out of range");for(var F=c.length-v,U=0;U<v;U++)if(c[F+U]!==v)throw new Error("PKCS#7 invalid padding byte");var O=i(F);return o(c,O,0,0,F),O}var b={AES:oe,Counter:y,ModeOfOperation:{ecb:S,cbc:a,cfb:f,ofb:p,ctr:g},utils:{hex:u,utf8:s},padding:{pkcs7:{pad:A,strip:_}},_arrayTest:{coerceArray:n,createArray:i,copyArray:o}};typeof Tj<"u"?Sbe.exports=b:typeof define=="function"&&define.amd?define(b):(t.aesjs&&(b._aesjs=t.aesjs),t.aesjs=b)})(Tj)});var Tbe=q((Oj,_be)=>{"use strict";d();h();(function(t){function r(I){let M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=1779033703,C=3144134277,R=1013904242,L=2773480762,P=1359893119,K=2600822924,V=528734635,j=1541459225,ne=new Uint32Array(64);function J(g){let A=0,_=g.length;for(;_>=64;){let b=k,c=C,v=R,F=L,U=P,O=K,W=V,ee=j,re,Ve,ae,G,he;for(Ve=0;Ve<16;Ve++)ae=A+Ve*4,ne[Ve]=(g[ae]&255)<<24|(g[ae+1]&255)<<16|(g[ae+2]&255)<<8|g[ae+3]&255;for(Ve=16;Ve<64;Ve++)re=ne[Ve-2],G=(re>>>17|re<<15)^(re>>>19|re<<13)^re>>>10,re=ne[Ve-15],he=(re>>>7|re<<25)^(re>>>18|re<<14)^re>>>3,ne[Ve]=(G+ne[Ve-7]|0)+(he+ne[Ve-16]|0)|0;for(Ve=0;Ve<64;Ve++)G=(((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))+(U&O^~U&W)|0)+(ee+(M[Ve]+ne[Ve]|0)|0)|0,he=((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+(b&c^b&v^c&v)|0,ee=W,W=O,O=U,U=F+G|0,F=v,v=c,c=b,b=G+he|0;k=k+b|0,C=C+c|0,R=R+v|0,L=L+F|0,P=P+U|0,K=K+O|0,V=V+W|0,j=j+ee|0,A+=64,_-=64}}J(I);let oe,S=I.length%64,a=I.length/536870912|0,f=I.length<<3,p=S<56?56:120,y=I.slice(I.length-S,I.length);for(y.push(128),oe=S+1;oe<p;oe++)y.push(0);return y.push(a>>>24&255),y.push(a>>>16&255),y.push(a>>>8&255),y.push(a>>>0&255),y.push(f>>>24&255),y.push(f>>>16&255),y.push(f>>>8&255),y.push(f>>>0&255),J(y),[k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,K>>>24&255,K>>>16&255,K>>>8&255,K>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255]}function n(I,M,k){I=I.length<=64?I:r(I);let C=64+M.length+4,R=new Array(C),L=new Array(64),P,K=[];for(P=0;P<64;P++)R[P]=54;for(P=0;P<I.length;P++)R[P]^=I[P];for(P=0;P<M.length;P++)R[64+P]=M[P];for(P=C-4;P<C;P++)R[P]=0;for(P=0;P<64;P++)L[P]=92;for(P=0;P<I.length;P++)L[P]^=I[P];function V(){for(let j=C-1;j>=C-4;j--){if(R[j]++,R[j]<=255)return;R[j]=0}}for(;k>=32;)V(),K=K.concat(r(L.concat(r(R)))),k-=32;return k>0&&(V(),K=K.concat(r(L.concat(r(R))).slice(0,k))),K}function i(I,M,k,C,R){let L;for(l(I,(2*k-1)*16,R,0,16),L=0;L<2*k;L++)u(I,L*16,R,16),s(R,C),l(R,0,I,M+L*16,16);for(L=0;L<k;L++)l(I,M+L*2*16,I,L*16,16);for(L=0;L<k;L++)l(I,M+(L*2+1)*16,I,(L+k)*16,16)}function o(I,M){return I<<M|I>>>32-M}function s(I,M){l(I,0,M,0,16);for(let k=8;k>0;k-=2)M[4]^=o(M[0]+M[12],7),M[8]^=o(M[4]+M[0],9),M[12]^=o(M[8]+M[4],13),M[0]^=o(M[12]+M[8],18),M[9]^=o(M[5]+M[1],7),M[13]^=o(M[9]+M[5],9),M[1]^=o(M[13]+M[9],13),M[5]^=o(M[1]+M[13],18),M[14]^=o(M[10]+M[6],7),M[2]^=o(M[14]+M[10],9),M[6]^=o(M[2]+M[14],13),M[10]^=o(M[6]+M[2],18),M[3]^=o(M[15]+M[11],7),M[7]^=o(M[3]+M[15],9),M[11]^=o(M[7]+M[3],13),M[15]^=o(M[11]+M[7],18),M[1]^=o(M[0]+M[3],7),M[2]^=o(M[1]+M[0],9),M[3]^=o(M[2]+M[1],13),M[0]^=o(M[3]+M[2],18),M[6]^=o(M[5]+M[4],7),M[7]^=o(M[6]+M[5],9),M[4]^=o(M[7]+M[6],13),M[5]^=o(M[4]+M[7],18),M[11]^=o(M[10]+M[9],7),M[8]^=o(M[11]+M[10],9),M[9]^=o(M[8]+M[11],13),M[10]^=o(M[9]+M[8],18),M[12]^=o(M[15]+M[14],7),M[13]^=o(M[12]+M[15],9),M[14]^=o(M[13]+M[12],13),M[15]^=o(M[14]+M[13],18);for(let k=0;k<16;++k)I[k]+=M[k]}function u(I,M,k,C){for(let R=0;R<C;R++)k[R]^=I[M+R]}function l(I,M,k,C,R){for(;R--;)k[C++]=I[M++]}function m(I){if(!I||typeof I.length!="number")return!1;for(let M=0;M<I.length;M++){let k=I[M];if(typeof k!="number"||k%1||k<0||k>=256)return!1}return!0}function x(I,M){if(typeof I!="number"||I%1)throw new Error("invalid "+M);return I}function w(I,M,k,C,R,L,P){if(k=x(k,"N"),C=x(C,"r"),R=x(R,"p"),L=x(L,"dkLen"),k===0||k&k-1)throw new Error("N must be power of 2");if(k>2147483647/128/C)throw new Error("N too large");if(C>2147483647/128/R)throw new Error("r too large");if(!m(I))throw new Error("password must be an array or buffer");if(I=Array.prototype.slice.call(I),!m(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let K=n(I,M,R*128*C),V=new Uint32Array(R*32*C);for(let U=0;U<V.length;U++){let O=U*4;V[U]=(K[O+3]&255)<<24|(K[O+2]&255)<<16|(K[O+1]&255)<<8|(K[O+0]&255)<<0}let j=new Uint32Array(64*C),ne=new Uint32Array(32*C*k),J=32*C,oe=new Uint32Array(16),S=new Uint32Array(16),a=R*k*2,f=0,p=null,y=!1,g=0,A=0,_,b,c=P?parseInt(1e3/C):4294967295,v=typeof setImmediate<"u"?setImmediate:setTimeout,F=function(){if(y)return P(new Error("cancelled"),f/a);let U;switch(g){case 0:b=A*32*C,l(V,b,j,0,J),g=1,_=0;case 1:U=k-_,U>c&&(U=c);for(let W=0;W<U;W++)l(j,0,ne,(_+W)*J,J),i(j,J,C,oe,S);if(_+=U,f+=U,P){let W=parseInt(1e3*f/a);if(W!==p){if(y=P(null,f/a),y)break;p=W}}if(_<k)break;_=0,g=2;case 2:U=k-_,U>c&&(U=c);for(let W=0;W<U;W++){let ee=(2*C-1)*16,re=j[ee]&k-1;u(ne,re*J,j,J),i(j,J,C,oe,S)}if(_+=U,f+=U,P){let W=parseInt(1e3*f/a);if(W!==p){if(y=P(null,f/a),y)break;p=W}}if(_<k)break;if(l(j,0,V,b,J),A++,A<R){g=0;break}K=[];for(let W=0;W<V.length;W++)K.push(V[W]>>0&255),K.push(V[W]>>8&255),K.push(V[W]>>16&255),K.push(V[W]>>24&255);let O=n(I,K,L);return P&&P(null,1,O),O}P&&v(F)};if(!P)for(;;){let U=F();if(U!=null)return U}F()}let E={scrypt:function(I,M,k,C,R,L,P){return new Promise(function(K,V){let j=0;P&&P(0),w(I,M,k,C,R,L,function(ne,J,oe){if(ne)V(ne);else if(oe)P&&j!==1&&P(1),K(new Uint8Array(oe));else if(P&&J!==j)return j=J,P(J)})})},syncScrypt:function(I,M,k,C,R,L){return new Uint8Array(w(I,M,k,C,R,L))}};typeof Oj<"u"?_be.exports=E:typeof define=="function"&&define.amd?define(E):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=E)})(Oj)});var t1=q(x2=>{"use strict";d();h();Object.defineProperty(x2,"__esModule",{value:!0});x2.bech32m=x2.bech32=void 0;var Y7="qpzry9x8gf2tvdw0s3jn54khce6mua7l",L1e={};for(let t=0;t<Y7.length;t++){let e=Y7.charAt(t);L1e[e]=t}function v2(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function U1e(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=v2(e)^n>>5}e=v2(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=v2(e)^n&31}return e}function Nz(t,e,r,n){let i=0,o=0,s=(1<<r)-1,u=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=r;)o-=r,u.push(i>>o&s);if(n)o>0&&u.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return u}function Hot(t){return Nz(t,8,5,!0)}function jot(t){let e=Nz(t,5,8,!1);if(Array.isArray(e))return e}function zot(t){let e=Nz(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function F1e(t){let e;t==="bech32"?e=1:e=734539939;function r(s,u,l){if(l=l||90,s.length+7+u.length>l)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let m=U1e(s);if(typeof m=="string")throw new Error(m);let x=s+"1";for(let w=0;w<u.length;++w){let E=u[w];if(E>>5)throw new Error("Non 5-bit word");m=v2(m)^E,x+=Y7.charAt(E)}for(let w=0;w<6;++w)m=v2(m);m^=e;for(let w=0;w<6;++w){let E=m>>(5-w)*5&31;x+=Y7.charAt(E)}return x}function n(s,u){if(u=u||90,s.length<8)return s+" too short";if(s.length>u)return"Exceeds length limit";let l=s.toLowerCase(),m=s.toUpperCase();if(s!==l&&s!==m)return"Mixed-case string "+s;s=l;let x=s.lastIndexOf("1");if(x===-1)return"No separator character for "+s;if(x===0)return"Missing prefix for "+s;let w=s.slice(0,x),E=s.slice(x+1);if(E.length<6)return"Data too short";let I=U1e(w);if(typeof I=="string")return I;let M=[];for(let k=0;k<E.length;++k){let C=E.charAt(k),R=L1e[C];if(R===void 0)return"Unknown character "+C;I=v2(I)^R,!(k+6>=E.length)&&M.push(R)}return I!==e?"Invalid checksum for "+s:{prefix:w,words:M}}function i(s,u){let l=n(s,u);if(typeof l=="object")return l}function o(s,u){let l=n(s,u);if(typeof l=="object")return l;throw new Error(l)}return{decodeUnsafe:i,decode:o,encode:r,toWords:Hot,fromWordsUnsafe:jot,fromWords:zot}}x2.bech32=F1e("bech32");x2.bech32m=F1e("bech32m")});var us=q(($ar,Q7)=>{d();h();(function(t){"use strict";var e=function(Z){var z,H=new Float64Array(16);if(Z)for(z=0;z<Z.length;z++)H[z]=Z[z];return H},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),s=e([1]),u=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),x=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),w=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function I(Z,z,H,D){Z[z]=H>>24&255,Z[z+1]=H>>16&255,Z[z+2]=H>>8&255,Z[z+3]=H&255,Z[z+4]=D>>24&255,Z[z+5]=D>>16&255,Z[z+6]=D>>8&255,Z[z+7]=D&255}function M(Z,z,H,D,Q){var X,pe=0;for(X=0;X<Q;X++)pe|=Z[z+X]^H[D+X];return(1&pe-1>>>8)-1}function k(Z,z,H,D){return M(Z,z,H,D,16)}function C(Z,z,H,D){return M(Z,z,H,D,32)}function R(Z,z,H,D){for(var Q=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,X=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,pe=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,ie=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,ue=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,at=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,Je=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,At=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,tt=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,dt=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,ht=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,bt=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,gt=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,pt=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,yt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,mt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,it=Q,ut=X,Xe=pe,ot=ie,st=ue,Ze=at,Fe=Je,Ke=At,nt=tt,Ge=dt,$e=ht,ct=bt,Vt=gt,ir=pt,ar=yt,or=mt,de,xr=0;xr<20;xr+=2)de=it+Vt|0,st^=de<<7|de>>>25,de=st+it|0,nt^=de<<9|de>>>23,de=nt+st|0,Vt^=de<<13|de>>>19,de=Vt+nt|0,it^=de<<18|de>>>14,de=Ze+ut|0,Ge^=de<<7|de>>>25,de=Ge+Ze|0,ir^=de<<9|de>>>23,de=ir+Ge|0,ut^=de<<13|de>>>19,de=ut+ir|0,Ze^=de<<18|de>>>14,de=$e+Fe|0,ar^=de<<7|de>>>25,de=ar+$e|0,Xe^=de<<9|de>>>23,de=Xe+ar|0,Fe^=de<<13|de>>>19,de=Fe+Xe|0,$e^=de<<18|de>>>14,de=or+ct|0,ot^=de<<7|de>>>25,de=ot+or|0,Ke^=de<<9|de>>>23,de=Ke+ot|0,ct^=de<<13|de>>>19,de=ct+Ke|0,or^=de<<18|de>>>14,de=it+ot|0,ut^=de<<7|de>>>25,de=ut+it|0,Xe^=de<<9|de>>>23,de=Xe+ut|0,ot^=de<<13|de>>>19,de=ot+Xe|0,it^=de<<18|de>>>14,de=Ze+st|0,Fe^=de<<7|de>>>25,de=Fe+Ze|0,Ke^=de<<9|de>>>23,de=Ke+Fe|0,st^=de<<13|de>>>19,de=st+Ke|0,Ze^=de<<18|de>>>14,de=$e+Ge|0,ct^=de<<7|de>>>25,de=ct+$e|0,nt^=de<<9|de>>>23,de=nt+ct|0,Ge^=de<<13|de>>>19,de=Ge+nt|0,$e^=de<<18|de>>>14,de=or+ar|0,Vt^=de<<7|de>>>25,de=Vt+or|0,ir^=de<<9|de>>>23,de=ir+Vt|0,ar^=de<<13|de>>>19,de=ar+ir|0,or^=de<<18|de>>>14;it=it+Q|0,ut=ut+X|0,Xe=Xe+pe|0,ot=ot+ie|0,st=st+ue|0,Ze=Ze+at|0,Fe=Fe+Je|0,Ke=Ke+At|0,nt=nt+tt|0,Ge=Ge+dt|0,$e=$e+ht|0,ct=ct+bt|0,Vt=Vt+gt|0,ir=ir+pt|0,ar=ar+yt|0,or=or+mt|0,Z[0]=it>>>0&255,Z[1]=it>>>8&255,Z[2]=it>>>16&255,Z[3]=it>>>24&255,Z[4]=ut>>>0&255,Z[5]=ut>>>8&255,Z[6]=ut>>>16&255,Z[7]=ut>>>24&255,Z[8]=Xe>>>0&255,Z[9]=Xe>>>8&255,Z[10]=Xe>>>16&255,Z[11]=Xe>>>24&255,Z[12]=ot>>>0&255,Z[13]=ot>>>8&255,Z[14]=ot>>>16&255,Z[15]=ot>>>24&255,Z[16]=st>>>0&255,Z[17]=st>>>8&255,Z[18]=st>>>16&255,Z[19]=st>>>24&255,Z[20]=Ze>>>0&255,Z[21]=Ze>>>8&255,Z[22]=Ze>>>16&255,Z[23]=Ze>>>24&255,Z[24]=Fe>>>0&255,Z[25]=Fe>>>8&255,Z[26]=Fe>>>16&255,Z[27]=Fe>>>24&255,Z[28]=Ke>>>0&255,Z[29]=Ke>>>8&255,Z[30]=Ke>>>16&255,Z[31]=Ke>>>24&255,Z[32]=nt>>>0&255,Z[33]=nt>>>8&255,Z[34]=nt>>>16&255,Z[35]=nt>>>24&255,Z[36]=Ge>>>0&255,Z[37]=Ge>>>8&255,Z[38]=Ge>>>16&255,Z[39]=Ge>>>24&255,Z[40]=$e>>>0&255,Z[41]=$e>>>8&255,Z[42]=$e>>>16&255,Z[43]=$e>>>24&255,Z[44]=ct>>>0&255,Z[45]=ct>>>8&255,Z[46]=ct>>>16&255,Z[47]=ct>>>24&255,Z[48]=Vt>>>0&255,Z[49]=Vt>>>8&255,Z[50]=Vt>>>16&255,Z[51]=Vt>>>24&255,Z[52]=ir>>>0&255,Z[53]=ir>>>8&255,Z[54]=ir>>>16&255,Z[55]=ir>>>24&255,Z[56]=ar>>>0&255,Z[57]=ar>>>8&255,Z[58]=ar>>>16&255,Z[59]=ar>>>24&255,Z[60]=or>>>0&255,Z[61]=or>>>8&255,Z[62]=or>>>16&255,Z[63]=or>>>24&255}function L(Z,z,H,D){for(var Q=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,X=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,pe=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,ie=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,ue=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,at=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,Je=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,At=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,tt=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,dt=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,ht=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,bt=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,gt=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,pt=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,yt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,mt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,it=Q,ut=X,Xe=pe,ot=ie,st=ue,Ze=at,Fe=Je,Ke=At,nt=tt,Ge=dt,$e=ht,ct=bt,Vt=gt,ir=pt,ar=yt,or=mt,de,xr=0;xr<20;xr+=2)de=it+Vt|0,st^=de<<7|de>>>25,de=st+it|0,nt^=de<<9|de>>>23,de=nt+st|0,Vt^=de<<13|de>>>19,de=Vt+nt|0,it^=de<<18|de>>>14,de=Ze+ut|0,Ge^=de<<7|de>>>25,de=Ge+Ze|0,ir^=de<<9|de>>>23,de=ir+Ge|0,ut^=de<<13|de>>>19,de=ut+ir|0,Ze^=de<<18|de>>>14,de=$e+Fe|0,ar^=de<<7|de>>>25,de=ar+$e|0,Xe^=de<<9|de>>>23,de=Xe+ar|0,Fe^=de<<13|de>>>19,de=Fe+Xe|0,$e^=de<<18|de>>>14,de=or+ct|0,ot^=de<<7|de>>>25,de=ot+or|0,Ke^=de<<9|de>>>23,de=Ke+ot|0,ct^=de<<13|de>>>19,de=ct+Ke|0,or^=de<<18|de>>>14,de=it+ot|0,ut^=de<<7|de>>>25,de=ut+it|0,Xe^=de<<9|de>>>23,de=Xe+ut|0,ot^=de<<13|de>>>19,de=ot+Xe|0,it^=de<<18|de>>>14,de=Ze+st|0,Fe^=de<<7|de>>>25,de=Fe+Ze|0,Ke^=de<<9|de>>>23,de=Ke+Fe|0,st^=de<<13|de>>>19,de=st+Ke|0,Ze^=de<<18|de>>>14,de=$e+Ge|0,ct^=de<<7|de>>>25,de=ct+$e|0,nt^=de<<9|de>>>23,de=nt+ct|0,Ge^=de<<13|de>>>19,de=Ge+nt|0,$e^=de<<18|de>>>14,de=or+ar|0,Vt^=de<<7|de>>>25,de=Vt+or|0,ir^=de<<9|de>>>23,de=ir+Vt|0,ar^=de<<13|de>>>19,de=ar+ir|0,or^=de<<18|de>>>14;Z[0]=it>>>0&255,Z[1]=it>>>8&255,Z[2]=it>>>16&255,Z[3]=it>>>24&255,Z[4]=Ze>>>0&255,Z[5]=Ze>>>8&255,Z[6]=Ze>>>16&255,Z[7]=Ze>>>24&255,Z[8]=$e>>>0&255,Z[9]=$e>>>8&255,Z[10]=$e>>>16&255,Z[11]=$e>>>24&255,Z[12]=or>>>0&255,Z[13]=or>>>8&255,Z[14]=or>>>16&255,Z[15]=or>>>24&255,Z[16]=Fe>>>0&255,Z[17]=Fe>>>8&255,Z[18]=Fe>>>16&255,Z[19]=Fe>>>24&255,Z[20]=Ke>>>0&255,Z[21]=Ke>>>8&255,Z[22]=Ke>>>16&255,Z[23]=Ke>>>24&255,Z[24]=nt>>>0&255,Z[25]=nt>>>8&255,Z[26]=nt>>>16&255,Z[27]=nt>>>24&255,Z[28]=Ge>>>0&255,Z[29]=Ge>>>8&255,Z[30]=Ge>>>16&255,Z[31]=Ge>>>24&255}function P(Z,z,H,D){R(Z,z,H,D)}function K(Z,z,H,D){L(Z,z,H,D)}var V=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function j(Z,z,H,D,Q,X,pe){var ie=new Uint8Array(16),ue=new Uint8Array(64),at,Je;for(Je=0;Je<16;Je++)ie[Je]=0;for(Je=0;Je<8;Je++)ie[Je]=X[Je];for(;Q>=64;){for(P(ue,ie,pe,V),Je=0;Je<64;Je++)Z[z+Je]=H[D+Je]^ue[Je];for(at=1,Je=8;Je<16;Je++)at=at+(ie[Je]&255)|0,ie[Je]=at&255,at>>>=8;Q-=64,z+=64,D+=64}if(Q>0)for(P(ue,ie,pe,V),Je=0;Je<Q;Je++)Z[z+Je]=H[D+Je]^ue[Je];return 0}function ne(Z,z,H,D,Q){var X=new Uint8Array(16),pe=new Uint8Array(64),ie,ue;for(ue=0;ue<16;ue++)X[ue]=0;for(ue=0;ue<8;ue++)X[ue]=D[ue];for(;H>=64;){for(P(pe,X,Q,V),ue=0;ue<64;ue++)Z[z+ue]=pe[ue];for(ie=1,ue=8;ue<16;ue++)ie=ie+(X[ue]&255)|0,X[ue]=ie&255,ie>>>=8;H-=64,z+=64}if(H>0)for(P(pe,X,Q,V),ue=0;ue<H;ue++)Z[z+ue]=pe[ue];return 0}function J(Z,z,H,D,Q){var X=new Uint8Array(32);K(X,D,Q,V);for(var pe=new Uint8Array(8),ie=0;ie<8;ie++)pe[ie]=D[ie+16];return ne(Z,z,H,pe,X)}function oe(Z,z,H,D,Q,X,pe){var ie=new Uint8Array(32);K(ie,X,pe,V);for(var ue=new Uint8Array(8),at=0;at<8;at++)ue[at]=X[at+16];return j(Z,z,H,D,Q,ue,ie)}var S=function(Z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var z,H,D,Q,X,pe,ie,ue;z=Z[0]&255|(Z[1]&255)<<8,this.r[0]=z&8191,H=Z[2]&255|(Z[3]&255)<<8,this.r[1]=(z>>>13|H<<3)&8191,D=Z[4]&255|(Z[5]&255)<<8,this.r[2]=(H>>>10|D<<6)&7939,Q=Z[6]&255|(Z[7]&255)<<8,this.r[3]=(D>>>7|Q<<9)&8191,X=Z[8]&255|(Z[9]&255)<<8,this.r[4]=(Q>>>4|X<<12)&255,this.r[5]=X>>>1&8190,pe=Z[10]&255|(Z[11]&255)<<8,this.r[6]=(X>>>14|pe<<2)&8191,ie=Z[12]&255|(Z[13]&255)<<8,this.r[7]=(pe>>>11|ie<<5)&8065,ue=Z[14]&255|(Z[15]&255)<<8,this.r[8]=(ie>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=Z[16]&255|(Z[17]&255)<<8,this.pad[1]=Z[18]&255|(Z[19]&255)<<8,this.pad[2]=Z[20]&255|(Z[21]&255)<<8,this.pad[3]=Z[22]&255|(Z[23]&255)<<8,this.pad[4]=Z[24]&255|(Z[25]&255)<<8,this.pad[5]=Z[26]&255|(Z[27]&255)<<8,this.pad[6]=Z[28]&255|(Z[29]&255)<<8,this.pad[7]=Z[30]&255|(Z[31]&255)<<8};S.prototype.blocks=function(Z,z,H){for(var D=this.fin?0:2048,Q,X,pe,ie,ue,at,Je,At,tt,dt,ht,bt,gt,pt,yt,mt,it,ut,Xe,ot=this.h[0],st=this.h[1],Ze=this.h[2],Fe=this.h[3],Ke=this.h[4],nt=this.h[5],Ge=this.h[6],$e=this.h[7],ct=this.h[8],Vt=this.h[9],ir=this.r[0],ar=this.r[1],or=this.r[2],de=this.r[3],xr=this.r[4],nn=this.r[5],on=this.r[6],pr=this.r[7],Qr=this.r[8],Jr=this.r[9];H>=16;)Q=Z[z+0]&255|(Z[z+1]&255)<<8,ot+=Q&8191,X=Z[z+2]&255|(Z[z+3]&255)<<8,st+=(Q>>>13|X<<3)&8191,pe=Z[z+4]&255|(Z[z+5]&255)<<8,Ze+=(X>>>10|pe<<6)&8191,ie=Z[z+6]&255|(Z[z+7]&255)<<8,Fe+=(pe>>>7|ie<<9)&8191,ue=Z[z+8]&255|(Z[z+9]&255)<<8,Ke+=(ie>>>4|ue<<12)&8191,nt+=ue>>>1&8191,at=Z[z+10]&255|(Z[z+11]&255)<<8,Ge+=(ue>>>14|at<<2)&8191,Je=Z[z+12]&255|(Z[z+13]&255)<<8,$e+=(at>>>11|Je<<5)&8191,At=Z[z+14]&255|(Z[z+15]&255)<<8,ct+=(Je>>>8|At<<8)&8191,Vt+=At>>>5|D,tt=0,dt=tt,dt+=ot*ir,dt+=st*(5*Jr),dt+=Ze*(5*Qr),dt+=Fe*(5*pr),dt+=Ke*(5*on),tt=dt>>>13,dt&=8191,dt+=nt*(5*nn),dt+=Ge*(5*xr),dt+=$e*(5*de),dt+=ct*(5*or),dt+=Vt*(5*ar),tt+=dt>>>13,dt&=8191,ht=tt,ht+=ot*ar,ht+=st*ir,ht+=Ze*(5*Jr),ht+=Fe*(5*Qr),ht+=Ke*(5*pr),tt=ht>>>13,ht&=8191,ht+=nt*(5*on),ht+=Ge*(5*nn),ht+=$e*(5*xr),ht+=ct*(5*de),ht+=Vt*(5*or),tt+=ht>>>13,ht&=8191,bt=tt,bt+=ot*or,bt+=st*ar,bt+=Ze*ir,bt+=Fe*(5*Jr),bt+=Ke*(5*Qr),tt=bt>>>13,bt&=8191,bt+=nt*(5*pr),bt+=Ge*(5*on),bt+=$e*(5*nn),bt+=ct*(5*xr),bt+=Vt*(5*de),tt+=bt>>>13,bt&=8191,gt=tt,gt+=ot*de,gt+=st*or,gt+=Ze*ar,gt+=Fe*ir,gt+=Ke*(5*Jr),tt=gt>>>13,gt&=8191,gt+=nt*(5*Qr),gt+=Ge*(5*pr),gt+=$e*(5*on),gt+=ct*(5*nn),gt+=Vt*(5*xr),tt+=gt>>>13,gt&=8191,pt=tt,pt+=ot*xr,pt+=st*de,pt+=Ze*or,pt+=Fe*ar,pt+=Ke*ir,tt=pt>>>13,pt&=8191,pt+=nt*(5*Jr),pt+=Ge*(5*Qr),pt+=$e*(5*pr),pt+=ct*(5*on),pt+=Vt*(5*nn),tt+=pt>>>13,pt&=8191,yt=tt,yt+=ot*nn,yt+=st*xr,yt+=Ze*de,yt+=Fe*or,yt+=Ke*ar,tt=yt>>>13,yt&=8191,yt+=nt*ir,yt+=Ge*(5*Jr),yt+=$e*(5*Qr),yt+=ct*(5*pr),yt+=Vt*(5*on),tt+=yt>>>13,yt&=8191,mt=tt,mt+=ot*on,mt+=st*nn,mt+=Ze*xr,mt+=Fe*de,mt+=Ke*or,tt=mt>>>13,mt&=8191,mt+=nt*ar,mt+=Ge*ir,mt+=$e*(5*Jr),mt+=ct*(5*Qr),mt+=Vt*(5*pr),tt+=mt>>>13,mt&=8191,it=tt,it+=ot*pr,it+=st*on,it+=Ze*nn,it+=Fe*xr,it+=Ke*de,tt=it>>>13,it&=8191,it+=nt*or,it+=Ge*ar,it+=$e*ir,it+=ct*(5*Jr),it+=Vt*(5*Qr),tt+=it>>>13,it&=8191,ut=tt,ut+=ot*Qr,ut+=st*pr,ut+=Ze*on,ut+=Fe*nn,ut+=Ke*xr,tt=ut>>>13,ut&=8191,ut+=nt*de,ut+=Ge*or,ut+=$e*ar,ut+=ct*ir,ut+=Vt*(5*Jr),tt+=ut>>>13,ut&=8191,Xe=tt,Xe+=ot*Jr,Xe+=st*Qr,Xe+=Ze*pr,Xe+=Fe*on,Xe+=Ke*nn,tt=Xe>>>13,Xe&=8191,Xe+=nt*xr,Xe+=Ge*de,Xe+=$e*or,Xe+=ct*ar,Xe+=Vt*ir,tt+=Xe>>>13,Xe&=8191,tt=(tt<<2)+tt|0,tt=tt+dt|0,dt=tt&8191,tt=tt>>>13,ht+=tt,ot=dt,st=ht,Ze=bt,Fe=gt,Ke=pt,nt=yt,Ge=mt,$e=it,ct=ut,Vt=Xe,z+=16,H-=16;this.h[0]=ot,this.h[1]=st,this.h[2]=Ze,this.h[3]=Fe,this.h[4]=Ke,this.h[5]=nt,this.h[6]=Ge,this.h[7]=$e,this.h[8]=ct,this.h[9]=Vt},S.prototype.finish=function(Z,z){var H=new Uint16Array(10),D,Q,X,pe;if(this.leftover){for(pe=this.leftover,this.buffer[pe++]=1;pe<16;pe++)this.buffer[pe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(D=this.h[1]>>>13,this.h[1]&=8191,pe=2;pe<10;pe++)this.h[pe]+=D,D=this.h[pe]>>>13,this.h[pe]&=8191;for(this.h[0]+=D*5,D=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=D,D=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=D,H[0]=this.h[0]+5,D=H[0]>>>13,H[0]&=8191,pe=1;pe<10;pe++)H[pe]=this.h[pe]+D,D=H[pe]>>>13,H[pe]&=8191;for(H[9]-=8192,Q=(D^1)-1,pe=0;pe<10;pe++)H[pe]&=Q;for(Q=~Q,pe=0;pe<10;pe++)this.h[pe]=this.h[pe]&Q|H[pe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,X=this.h[0]+this.pad[0],this.h[0]=X&65535,pe=1;pe<8;pe++)X=(this.h[pe]+this.pad[pe]|0)+(X>>>16)|0,this.h[pe]=X&65535;Z[z+0]=this.h[0]>>>0&255,Z[z+1]=this.h[0]>>>8&255,Z[z+2]=this.h[1]>>>0&255,Z[z+3]=this.h[1]>>>8&255,Z[z+4]=this.h[2]>>>0&255,Z[z+5]=this.h[2]>>>8&255,Z[z+6]=this.h[3]>>>0&255,Z[z+7]=this.h[3]>>>8&255,Z[z+8]=this.h[4]>>>0&255,Z[z+9]=this.h[4]>>>8&255,Z[z+10]=this.h[5]>>>0&255,Z[z+11]=this.h[5]>>>8&255,Z[z+12]=this.h[6]>>>0&255,Z[z+13]=this.h[6]>>>8&255,Z[z+14]=this.h[7]>>>0&255,Z[z+15]=this.h[7]>>>8&255},S.prototype.update=function(Z,z,H){var D,Q;if(this.leftover){for(Q=16-this.leftover,Q>H&&(Q=H),D=0;D<Q;D++)this.buffer[this.leftover+D]=Z[z+D];if(H-=Q,z+=Q,this.leftover+=Q,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(H>=16&&(Q=H-H%16,this.blocks(Z,z,Q),z+=Q,H-=Q),H){for(D=0;D<H;D++)this.buffer[this.leftover+D]=Z[z+D];this.leftover+=H}};function a(Z,z,H,D,Q,X){var pe=new S(X);return pe.update(H,D,Q),pe.finish(Z,z),0}function f(Z,z,H,D,Q,X){var pe=new Uint8Array(16);return a(pe,0,H,D,Q,X),k(Z,z,pe,0)}function p(Z,z,H,D,Q){var X;if(H<32)return-1;for(oe(Z,0,z,0,H,D,Q),a(Z,16,Z,32,H-32,Z),X=0;X<16;X++)Z[X]=0;return 0}function y(Z,z,H,D,Q){var X,pe=new Uint8Array(32);if(H<32||(J(pe,0,32,D,Q),f(z,16,z,32,H-32,pe)!==0))return-1;for(oe(Z,0,z,0,H,D,Q),X=0;X<32;X++)Z[X]=0;return 0}function g(Z,z){var H;for(H=0;H<16;H++)Z[H]=z[H]|0}function A(Z){var z,H,D=1;for(z=0;z<16;z++)H=Z[z]+D+65535,D=Math.floor(H/65536),Z[z]=H-D*65536;Z[0]+=D-1+37*(D-1)}function _(Z,z,H){for(var D,Q=~(H-1),X=0;X<16;X++)D=Q&(Z[X]^z[X]),Z[X]^=D,z[X]^=D}function b(Z,z){var H,D,Q,X=e(),pe=e();for(H=0;H<16;H++)pe[H]=z[H];for(A(pe),A(pe),A(pe),D=0;D<2;D++){for(X[0]=pe[0]-65517,H=1;H<15;H++)X[H]=pe[H]-65535-(X[H-1]>>16&1),X[H-1]&=65535;X[15]=pe[15]-32767-(X[14]>>16&1),Q=X[15]>>16&1,X[14]&=65535,_(pe,X,1-Q)}for(H=0;H<16;H++)Z[2*H]=pe[H]&255,Z[2*H+1]=pe[H]>>8}function c(Z,z){var H=new Uint8Array(32),D=new Uint8Array(32);return b(H,Z),b(D,z),C(H,0,D,0)}function v(Z){var z=new Uint8Array(32);return b(z,Z),z[0]&1}function F(Z,z){var H;for(H=0;H<16;H++)Z[H]=z[2*H]+(z[2*H+1]<<8);Z[15]&=32767}function U(Z,z,H){for(var D=0;D<16;D++)Z[D]=z[D]+H[D]}function O(Z,z,H){for(var D=0;D<16;D++)Z[D]=z[D]-H[D]}function W(Z,z,H){var D,Q,X=0,pe=0,ie=0,ue=0,at=0,Je=0,At=0,tt=0,dt=0,ht=0,bt=0,gt=0,pt=0,yt=0,mt=0,it=0,ut=0,Xe=0,ot=0,st=0,Ze=0,Fe=0,Ke=0,nt=0,Ge=0,$e=0,ct=0,Vt=0,ir=0,ar=0,or=0,de=H[0],xr=H[1],nn=H[2],on=H[3],pr=H[4],Qr=H[5],Jr=H[6],oo=H[7],On=H[8],Wi=H[9],Gi=H[10],$i=H[11],Io=H[12],$s=H[13],Ys=H[14],Zs=H[15];D=z[0],X+=D*de,pe+=D*xr,ie+=D*nn,ue+=D*on,at+=D*pr,Je+=D*Qr,At+=D*Jr,tt+=D*oo,dt+=D*On,ht+=D*Wi,bt+=D*Gi,gt+=D*$i,pt+=D*Io,yt+=D*$s,mt+=D*Ys,it+=D*Zs,D=z[1],pe+=D*de,ie+=D*xr,ue+=D*nn,at+=D*on,Je+=D*pr,At+=D*Qr,tt+=D*Jr,dt+=D*oo,ht+=D*On,bt+=D*Wi,gt+=D*Gi,pt+=D*$i,yt+=D*Io,mt+=D*$s,it+=D*Ys,ut+=D*Zs,D=z[2],ie+=D*de,ue+=D*xr,at+=D*nn,Je+=D*on,At+=D*pr,tt+=D*Qr,dt+=D*Jr,ht+=D*oo,bt+=D*On,gt+=D*Wi,pt+=D*Gi,yt+=D*$i,mt+=D*Io,it+=D*$s,ut+=D*Ys,Xe+=D*Zs,D=z[3],ue+=D*de,at+=D*xr,Je+=D*nn,At+=D*on,tt+=D*pr,dt+=D*Qr,ht+=D*Jr,bt+=D*oo,gt+=D*On,pt+=D*Wi,yt+=D*Gi,mt+=D*$i,it+=D*Io,ut+=D*$s,Xe+=D*Ys,ot+=D*Zs,D=z[4],at+=D*de,Je+=D*xr,At+=D*nn,tt+=D*on,dt+=D*pr,ht+=D*Qr,bt+=D*Jr,gt+=D*oo,pt+=D*On,yt+=D*Wi,mt+=D*Gi,it+=D*$i,ut+=D*Io,Xe+=D*$s,ot+=D*Ys,st+=D*Zs,D=z[5],Je+=D*de,At+=D*xr,tt+=D*nn,dt+=D*on,ht+=D*pr,bt+=D*Qr,gt+=D*Jr,pt+=D*oo,yt+=D*On,mt+=D*Wi,it+=D*Gi,ut+=D*$i,Xe+=D*Io,ot+=D*$s,st+=D*Ys,Ze+=D*Zs,D=z[6],At+=D*de,tt+=D*xr,dt+=D*nn,ht+=D*on,bt+=D*pr,gt+=D*Qr,pt+=D*Jr,yt+=D*oo,mt+=D*On,it+=D*Wi,ut+=D*Gi,Xe+=D*$i,ot+=D*Io,st+=D*$s,Ze+=D*Ys,Fe+=D*Zs,D=z[7],tt+=D*de,dt+=D*xr,ht+=D*nn,bt+=D*on,gt+=D*pr,pt+=D*Qr,yt+=D*Jr,mt+=D*oo,it+=D*On,ut+=D*Wi,Xe+=D*Gi,ot+=D*$i,st+=D*Io,Ze+=D*$s,Fe+=D*Ys,Ke+=D*Zs,D=z[8],dt+=D*de,ht+=D*xr,bt+=D*nn,gt+=D*on,pt+=D*pr,yt+=D*Qr,mt+=D*Jr,it+=D*oo,ut+=D*On,Xe+=D*Wi,ot+=D*Gi,st+=D*$i,Ze+=D*Io,Fe+=D*$s,Ke+=D*Ys,nt+=D*Zs,D=z[9],ht+=D*de,bt+=D*xr,gt+=D*nn,pt+=D*on,yt+=D*pr,mt+=D*Qr,it+=D*Jr,ut+=D*oo,Xe+=D*On,ot+=D*Wi,st+=D*Gi,Ze+=D*$i,Fe+=D*Io,Ke+=D*$s,nt+=D*Ys,Ge+=D*Zs,D=z[10],bt+=D*de,gt+=D*xr,pt+=D*nn,yt+=D*on,mt+=D*pr,it+=D*Qr,ut+=D*Jr,Xe+=D*oo,ot+=D*On,st+=D*Wi,Ze+=D*Gi,Fe+=D*$i,Ke+=D*Io,nt+=D*$s,Ge+=D*Ys,$e+=D*Zs,D=z[11],gt+=D*de,pt+=D*xr,yt+=D*nn,mt+=D*on,it+=D*pr,ut+=D*Qr,Xe+=D*Jr,ot+=D*oo,st+=D*On,Ze+=D*Wi,Fe+=D*Gi,Ke+=D*$i,nt+=D*Io,Ge+=D*$s,$e+=D*Ys,ct+=D*Zs,D=z[12],pt+=D*de,yt+=D*xr,mt+=D*nn,it+=D*on,ut+=D*pr,Xe+=D*Qr,ot+=D*Jr,st+=D*oo,Ze+=D*On,Fe+=D*Wi,Ke+=D*Gi,nt+=D*$i,Ge+=D*Io,$e+=D*$s,ct+=D*Ys,Vt+=D*Zs,D=z[13],yt+=D*de,mt+=D*xr,it+=D*nn,ut+=D*on,Xe+=D*pr,ot+=D*Qr,st+=D*Jr,Ze+=D*oo,Fe+=D*On,Ke+=D*Wi,nt+=D*Gi,Ge+=D*$i,$e+=D*Io,ct+=D*$s,Vt+=D*Ys,ir+=D*Zs,D=z[14],mt+=D*de,it+=D*xr,ut+=D*nn,Xe+=D*on,ot+=D*pr,st+=D*Qr,Ze+=D*Jr,Fe+=D*oo,Ke+=D*On,nt+=D*Wi,Ge+=D*Gi,$e+=D*$i,ct+=D*Io,Vt+=D*$s,ir+=D*Ys,ar+=D*Zs,D=z[15],it+=D*de,ut+=D*xr,Xe+=D*nn,ot+=D*on,st+=D*pr,Ze+=D*Qr,Fe+=D*Jr,Ke+=D*oo,nt+=D*On,Ge+=D*Wi,$e+=D*Gi,ct+=D*$i,Vt+=D*Io,ir+=D*$s,ar+=D*Ys,or+=D*Zs,X+=38*ut,pe+=38*Xe,ie+=38*ot,ue+=38*st,at+=38*Ze,Je+=38*Fe,At+=38*Ke,tt+=38*nt,dt+=38*Ge,ht+=38*$e,bt+=38*ct,gt+=38*Vt,pt+=38*ir,yt+=38*ar,mt+=38*or,Q=1,D=X+Q+65535,Q=Math.floor(D/65536),X=D-Q*65536,D=pe+Q+65535,Q=Math.floor(D/65536),pe=D-Q*65536,D=ie+Q+65535,Q=Math.floor(D/65536),ie=D-Q*65536,D=ue+Q+65535,Q=Math.floor(D/65536),ue=D-Q*65536,D=at+Q+65535,Q=Math.floor(D/65536),at=D-Q*65536,D=Je+Q+65535,Q=Math.floor(D/65536),Je=D-Q*65536,D=At+Q+65535,Q=Math.floor(D/65536),At=D-Q*65536,D=tt+Q+65535,Q=Math.floor(D/65536),tt=D-Q*65536,D=dt+Q+65535,Q=Math.floor(D/65536),dt=D-Q*65536,D=ht+Q+65535,Q=Math.floor(D/65536),ht=D-Q*65536,D=bt+Q+65535,Q=Math.floor(D/65536),bt=D-Q*65536,D=gt+Q+65535,Q=Math.floor(D/65536),gt=D-Q*65536,D=pt+Q+65535,Q=Math.floor(D/65536),pt=D-Q*65536,D=yt+Q+65535,Q=Math.floor(D/65536),yt=D-Q*65536,D=mt+Q+65535,Q=Math.floor(D/65536),mt=D-Q*65536,D=it+Q+65535,Q=Math.floor(D/65536),it=D-Q*65536,X+=Q-1+37*(Q-1),Q=1,D=X+Q+65535,Q=Math.floor(D/65536),X=D-Q*65536,D=pe+Q+65535,Q=Math.floor(D/65536),pe=D-Q*65536,D=ie+Q+65535,Q=Math.floor(D/65536),ie=D-Q*65536,D=ue+Q+65535,Q=Math.floor(D/65536),ue=D-Q*65536,D=at+Q+65535,Q=Math.floor(D/65536),at=D-Q*65536,D=Je+Q+65535,Q=Math.floor(D/65536),Je=D-Q*65536,D=At+Q+65535,Q=Math.floor(D/65536),At=D-Q*65536,D=tt+Q+65535,Q=Math.floor(D/65536),tt=D-Q*65536,D=dt+Q+65535,Q=Math.floor(D/65536),dt=D-Q*65536,D=ht+Q+65535,Q=Math.floor(D/65536),ht=D-Q*65536,D=bt+Q+65535,Q=Math.floor(D/65536),bt=D-Q*65536,D=gt+Q+65535,Q=Math.floor(D/65536),gt=D-Q*65536,D=pt+Q+65535,Q=Math.floor(D/65536),pt=D-Q*65536,D=yt+Q+65535,Q=Math.floor(D/65536),yt=D-Q*65536,D=mt+Q+65535,Q=Math.floor(D/65536),mt=D-Q*65536,D=it+Q+65535,Q=Math.floor(D/65536),it=D-Q*65536,X+=Q-1+37*(Q-1),Z[0]=X,Z[1]=pe,Z[2]=ie,Z[3]=ue,Z[4]=at,Z[5]=Je,Z[6]=At,Z[7]=tt,Z[8]=dt,Z[9]=ht,Z[10]=bt,Z[11]=gt,Z[12]=pt,Z[13]=yt,Z[14]=mt,Z[15]=it}function ee(Z,z){W(Z,z,z)}function re(Z,z){var H=e(),D;for(D=0;D<16;D++)H[D]=z[D];for(D=253;D>=0;D--)ee(H,H),D!==2&&D!==4&&W(H,H,z);for(D=0;D<16;D++)Z[D]=H[D]}function Ve(Z,z){var H=e(),D;for(D=0;D<16;D++)H[D]=z[D];for(D=250;D>=0;D--)ee(H,H),D!==1&&W(H,H,z);for(D=0;D<16;D++)Z[D]=H[D]}function ae(Z,z,H){var D=new Uint8Array(32),Q=new Float64Array(80),X,pe,ie=e(),ue=e(),at=e(),Je=e(),At=e(),tt=e();for(pe=0;pe<31;pe++)D[pe]=z[pe];for(D[31]=z[31]&127|64,D[0]&=248,F(Q,H),pe=0;pe<16;pe++)ue[pe]=Q[pe],Je[pe]=ie[pe]=at[pe]=0;for(ie[0]=Je[0]=1,pe=254;pe>=0;--pe)X=D[pe>>>3]>>>(pe&7)&1,_(ie,ue,X),_(at,Je,X),U(At,ie,at),O(ie,ie,at),U(at,ue,Je),O(ue,ue,Je),ee(Je,At),ee(tt,ie),W(ie,at,ie),W(at,ue,At),U(At,ie,at),O(ie,ie,at),ee(ue,ie),O(at,Je,tt),W(ie,at,u),U(ie,ie,Je),W(at,at,ie),W(ie,Je,tt),W(Je,ue,Q),ee(ue,At),_(ie,ue,X),_(at,Je,X);for(pe=0;pe<16;pe++)Q[pe+16]=ie[pe],Q[pe+32]=at[pe],Q[pe+48]=ue[pe],Q[pe+64]=Je[pe];var dt=Q.subarray(32),ht=Q.subarray(16);return re(dt,dt),W(ht,ht,dt),b(Z,ht),0}function G(Z,z){return ae(Z,z,i)}function he(Z,z){return r(z,32),G(Z,z)}function te(Z,z,H){var D=new Uint8Array(32);return ae(D,H,z),K(Z,n,D,V)}var ce=p,Ye=y;function se(Z,z,H,D,Q,X){var pe=new Uint8Array(32);return te(pe,Q,X),ce(Z,z,H,D,pe)}function le(Z,z,H,D,Q,X){var pe=new Uint8Array(32);return te(pe,Q,X),Ye(Z,z,H,D,pe)}var Pt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ge(Z,z,H,D){for(var Q=new Int32Array(16),X=new Int32Array(16),pe,ie,ue,at,Je,At,tt,dt,ht,bt,gt,pt,yt,mt,it,ut,Xe,ot,st,Ze,Fe,Ke,nt,Ge,$e,ct,Vt=Z[0],ir=Z[1],ar=Z[2],or=Z[3],de=Z[4],xr=Z[5],nn=Z[6],on=Z[7],pr=z[0],Qr=z[1],Jr=z[2],oo=z[3],On=z[4],Wi=z[5],Gi=z[6],$i=z[7],Io=0;D>=128;){for(st=0;st<16;st++)Ze=8*st+Io,Q[st]=H[Ze+0]<<24|H[Ze+1]<<16|H[Ze+2]<<8|H[Ze+3],X[st]=H[Ze+4]<<24|H[Ze+5]<<16|H[Ze+6]<<8|H[Ze+7];for(st=0;st<80;st++)if(pe=Vt,ie=ir,ue=ar,at=or,Je=de,At=xr,tt=nn,dt=on,ht=pr,bt=Qr,gt=Jr,pt=oo,yt=On,mt=Wi,it=Gi,ut=$i,Fe=on,Ke=$i,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=(de>>>14|On<<18)^(de>>>18|On<<14)^(On>>>9|de<<23),Ke=(On>>>14|de<<18)^(On>>>18|de<<14)^(de>>>9|On<<23),nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=de&xr^~de&nn,Ke=On&Wi^~On&Gi,nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=Pt[st*2],Ke=Pt[st*2+1],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=Q[st%16],Ke=X[st%16],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Xe=$e&65535|ct<<16,ot=nt&65535|Ge<<16,Fe=Xe,Ke=ot,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=(Vt>>>28|pr<<4)^(pr>>>2|Vt<<30)^(pr>>>7|Vt<<25),Ke=(pr>>>28|Vt<<4)^(Vt>>>2|pr<<30)^(Vt>>>7|pr<<25),nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=Vt&ir^Vt&ar^ir&ar,Ke=pr&Qr^pr&Jr^Qr&Jr,nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,dt=$e&65535|ct<<16,ut=nt&65535|Ge<<16,Fe=at,Ke=pt,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Xe,Ke=ot,nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,at=$e&65535|ct<<16,pt=nt&65535|Ge<<16,ir=pe,ar=ie,or=ue,de=at,xr=Je,nn=At,on=tt,Vt=dt,Qr=ht,Jr=bt,oo=gt,On=pt,Wi=yt,Gi=mt,$i=it,pr=ut,st%16===15)for(Ze=0;Ze<16;Ze++)Fe=Q[Ze],Ke=X[Ze],nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Q[(Ze+9)%16],Ke=X[(Ze+9)%16],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Xe=Q[(Ze+1)%16],ot=X[(Ze+1)%16],Fe=(Xe>>>1|ot<<31)^(Xe>>>8|ot<<24)^Xe>>>7,Ke=(ot>>>1|Xe<<31)^(ot>>>8|Xe<<24)^(ot>>>7|Xe<<25),nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Xe=Q[(Ze+14)%16],ot=X[(Ze+14)%16],Fe=(Xe>>>19|ot<<13)^(ot>>>29|Xe<<3)^Xe>>>6,Ke=(ot>>>19|Xe<<13)^(Xe>>>29|ot<<3)^(ot>>>6|Xe<<26),nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Q[Ze]=$e&65535|ct<<16,X[Ze]=nt&65535|Ge<<16;Fe=Vt,Ke=pr,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[0],Ke=z[0],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[0]=Vt=$e&65535|ct<<16,z[0]=pr=nt&65535|Ge<<16,Fe=ir,Ke=Qr,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[1],Ke=z[1],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[1]=ir=$e&65535|ct<<16,z[1]=Qr=nt&65535|Ge<<16,Fe=ar,Ke=Jr,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[2],Ke=z[2],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[2]=ar=$e&65535|ct<<16,z[2]=Jr=nt&65535|Ge<<16,Fe=or,Ke=oo,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[3],Ke=z[3],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[3]=or=$e&65535|ct<<16,z[3]=oo=nt&65535|Ge<<16,Fe=de,Ke=On,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[4],Ke=z[4],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[4]=de=$e&65535|ct<<16,z[4]=On=nt&65535|Ge<<16,Fe=xr,Ke=Wi,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[5],Ke=z[5],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[5]=xr=$e&65535|ct<<16,z[5]=Wi=nt&65535|Ge<<16,Fe=nn,Ke=Gi,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[6],Ke=z[6],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[6]=nn=$e&65535|ct<<16,z[6]=Gi=nt&65535|Ge<<16,Fe=on,Ke=$i,nt=Ke&65535,Ge=Ke>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[7],Ke=z[7],nt+=Ke&65535,Ge+=Ke>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[7]=on=$e&65535|ct<<16,z[7]=$i=nt&65535|Ge<<16,Io+=128,D-=128}return D}function ye(Z,z,H){var D=new Int32Array(8),Q=new Int32Array(8),X=new Uint8Array(256),pe,ie=H;for(D[0]=1779033703,D[1]=3144134277,D[2]=1013904242,D[3]=2773480762,D[4]=1359893119,D[5]=2600822924,D[6]=528734635,D[7]=1541459225,Q[0]=4089235720,Q[1]=2227873595,Q[2]=4271175723,Q[3]=1595750129,Q[4]=2917565137,Q[5]=725511199,Q[6]=4215389547,Q[7]=327033209,ge(D,Q,z,H),H%=128,pe=0;pe<H;pe++)X[pe]=z[ie-H+pe];for(X[H]=128,H=256-128*(H<112?1:0),X[H-9]=0,I(X,H-8,ie/536870912|0,ie<<3),ge(D,Q,X,H),pe=0;pe<8;pe++)I(Z,8*pe,D[pe],Q[pe]);return 0}function Hr(Z,z){var H=e(),D=e(),Q=e(),X=e(),pe=e(),ie=e(),ue=e(),at=e(),Je=e();O(H,Z[1],Z[0]),O(Je,z[1],z[0]),W(H,H,Je),U(D,Z[0],Z[1]),U(Je,z[0],z[1]),W(D,D,Je),W(Q,Z[3],z[3]),W(Q,Q,m),W(X,Z[2],z[2]),U(X,X,X),O(pe,D,H),O(ie,X,Q),U(ue,X,Q),U(at,D,H),W(Z[0],pe,ie),W(Z[1],at,ue),W(Z[2],ue,ie),W(Z[3],pe,at)}function Ie(Z,z,H){var D;for(D=0;D<4;D++)_(Z[D],z[D],H)}function we(Z,z){var H=e(),D=e(),Q=e();re(Q,z[2]),W(H,z[0],Q),W(D,z[1],Q),b(Z,D),Z[31]^=v(H)<<7}function dn(Z,z,H){var D,Q;for(g(Z[0],o),g(Z[1],s),g(Z[2],s),g(Z[3],o),Q=255;Q>=0;--Q)D=H[Q/8|0]>>(Q&7)&1,Ie(Z,z,D),Hr(z,Z),Hr(Z,Z),Ie(Z,z,D)}function ve(Z,z){var H=[e(),e(),e(),e()];g(H[0],x),g(H[1],w),g(H[2],s),W(H[3],x,w),dn(Z,H,z)}function Re(Z,z,H){var D=new Uint8Array(64),Q=[e(),e(),e(),e()],X;for(H||r(z,32),ye(D,z,32),D[0]&=248,D[31]&=127,D[31]|=64,ve(Q,D),we(Z,Q),X=0;X<32;X++)z[X+32]=Z[X];return 0}var wn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ce(Z,z){var H,D,Q,X;for(D=63;D>=32;--D){for(H=0,Q=D-32,X=D-12;Q<X;++Q)z[Q]+=H-16*z[D]*wn[Q-(D-32)],H=Math.floor((z[Q]+128)/256),z[Q]-=H*256;z[Q]+=H,z[D]=0}for(H=0,Q=0;Q<32;Q++)z[Q]+=H-(z[31]>>4)*wn[Q],H=z[Q]>>8,z[Q]&=255;for(Q=0;Q<32;Q++)z[Q]-=H*wn[Q];for(D=0;D<32;D++)z[D+1]+=z[D]>>8,Z[D]=z[D]&255}function Be(Z){var z=new Float64Array(64),H;for(H=0;H<64;H++)z[H]=Z[H];for(H=0;H<64;H++)Z[H]=0;Ce(Z,z)}function Mn(Z,z,H,D){var Q=new Uint8Array(64),X=new Uint8Array(64),pe=new Uint8Array(64),ie,ue,at=new Float64Array(64),Je=[e(),e(),e(),e()];ye(Q,D,32),Q[0]&=248,Q[31]&=127,Q[31]|=64;var At=H+64;for(ie=0;ie<H;ie++)Z[64+ie]=z[ie];for(ie=0;ie<32;ie++)Z[32+ie]=Q[32+ie];for(ye(pe,Z.subarray(32),H+32),Be(pe),ve(Je,pe),we(Z,Je),ie=32;ie<64;ie++)Z[ie]=D[ie];for(ye(X,Z,H+64),Be(X),ie=0;ie<64;ie++)at[ie]=0;for(ie=0;ie<32;ie++)at[ie]=pe[ie];for(ie=0;ie<32;ie++)for(ue=0;ue<32;ue++)at[ie+ue]+=X[ie]*Q[ue];return Ce(Z.subarray(32),at),At}function Ne(Z,z){var H=e(),D=e(),Q=e(),X=e(),pe=e(),ie=e(),ue=e();return g(Z[2],s),F(Z[1],z),ee(Q,Z[1]),W(X,Q,l),O(Q,Q,Z[2]),U(X,Z[2],X),ee(pe,X),ee(ie,pe),W(ue,ie,pe),W(H,ue,Q),W(H,H,X),Ve(H,H),W(H,H,Q),W(H,H,X),W(H,H,X),W(Z[0],H,X),ee(D,Z[0]),W(D,D,X),c(D,Q)&&W(Z[0],Z[0],E),ee(D,Z[0]),W(D,D,X),c(D,Q)?-1:(v(Z[0])===z[31]>>7&&O(Z[0],o,Z[0]),W(Z[3],Z[0],Z[1]),0)}function Me(Z,z,H,D){var Q,X=new Uint8Array(32),pe=new Uint8Array(64),ie=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(H<64||Ne(ue,D))return-1;for(Q=0;Q<H;Q++)Z[Q]=z[Q];for(Q=0;Q<32;Q++)Z[Q+32]=D[Q];if(ye(pe,Z,H),Be(pe),dn(ie,ue,pe),ve(ue,z.subarray(32)),Hr(ie,ue),we(X,ie),H-=64,C(z,0,X,0)){for(Q=0;Q<H;Q++)Z[Q]=0;return-1}for(Q=0;Q<H;Q++)Z[Q]=z[Q+64];return H}var Sn=32,_e=24,Se=32,Zr=16,Ae=32,Te=32,rn=32,Ee=32,ke=32,kn=_e,Ue=Se,Le=Zr,Pr=64,be=32,xe=64,An=32,Pe=64;t.lowlevel={crypto_core_hsalsa20:K,crypto_stream_xor:oe,crypto_stream:J,crypto_stream_salsa20_xor:j,crypto_stream_salsa20:ne,crypto_onetimeauth:a,crypto_onetimeauth_verify:f,crypto_verify_16:k,crypto_verify_32:C,crypto_secretbox:p,crypto_secretbox_open:y,crypto_scalarmult:ae,crypto_scalarmult_base:G,crypto_box_beforenm:te,crypto_box_afternm:ce,crypto_box:se,crypto_box_open:le,crypto_box_keypair:he,crypto_hash:ye,crypto_sign:Mn,crypto_sign_keypair:Re,crypto_sign_open:Me,crypto_secretbox_KEYBYTES:Sn,crypto_secretbox_NONCEBYTES:_e,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:Zr,crypto_scalarmult_BYTES:Ae,crypto_scalarmult_SCALARBYTES:Te,crypto_box_PUBLICKEYBYTES:rn,crypto_box_SECRETKEYBYTES:Ee,crypto_box_BEFORENMBYTES:ke,crypto_box_NONCEBYTES:kn,crypto_box_ZEROBYTES:Ue,crypto_box_BOXZEROBYTES:Le,crypto_sign_BYTES:Pr,crypto_sign_PUBLICKEYBYTES:be,crypto_sign_SECRETKEYBYTES:xe,crypto_sign_SEEDBYTES:An,crypto_hash_BYTES:Pe,gf:e,D:l,L:wn,pack25519:b,unpack25519:F,M:W,A:U,S:ee,Z:O,pow2523:Ve,add:Hr,set25519:g,modL:Ce,scalarmult:dn,scalarbase:ve};function Oe(Z,z){if(Z.length!==Sn)throw new Error("bad key size");if(z.length!==_e)throw new Error("bad nonce size")}function Bn(Z,z){if(Z.length!==rn)throw new Error("bad public key size");if(z.length!==Ee)throw new Error("bad secret key size")}function me(){for(var Z=0;Z<arguments.length;Z++)if(!(arguments[Z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function De(Z){for(var z=0;z<Z.length;z++)Z[z]=0}t.randomBytes=function(Z){var z=new Uint8Array(Z);return r(z,Z),z},t.secretbox=function(Z,z,H){me(Z,z,H),Oe(H,z);for(var D=new Uint8Array(Se+Z.length),Q=new Uint8Array(D.length),X=0;X<Z.length;X++)D[X+Se]=Z[X];return p(Q,D,D.length,z,H),Q.subarray(Zr)},t.secretbox.open=function(Z,z,H){me(Z,z,H),Oe(H,z);for(var D=new Uint8Array(Zr+Z.length),Q=new Uint8Array(D.length),X=0;X<Z.length;X++)D[X+Zr]=Z[X];return D.length<32||y(Q,D,D.length,z,H)!==0?null:Q.subarray(Se)},t.secretbox.keyLength=Sn,t.secretbox.nonceLength=_e,t.secretbox.overheadLength=Zr,t.scalarMult=function(Z,z){if(me(Z,z),Z.length!==Te)throw new Error("bad n size");if(z.length!==Ae)throw new Error("bad p size");var H=new Uint8Array(Ae);return ae(H,Z,z),H},t.scalarMult.base=function(Z){if(me(Z),Z.length!==Te)throw new Error("bad n size");var z=new Uint8Array(Ae);return G(z,Z),z},t.scalarMult.scalarLength=Te,t.scalarMult.groupElementLength=Ae,t.box=function(Z,z,H,D){var Q=t.box.before(H,D);return t.secretbox(Z,z,Q)},t.box.before=function(Z,z){me(Z,z),Bn(Z,z);var H=new Uint8Array(ke);return te(H,Z,z),H},t.box.after=t.secretbox,t.box.open=function(Z,z,H,D){var Q=t.box.before(H,D);return t.secretbox.open(Z,z,Q)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var Z=new Uint8Array(rn),z=new Uint8Array(Ee);return he(Z,z),{publicKey:Z,secretKey:z}},t.box.keyPair.fromSecretKey=function(Z){if(me(Z),Z.length!==Ee)throw new Error("bad secret key size");var z=new Uint8Array(rn);return G(z,Z),{publicKey:z,secretKey:new Uint8Array(Z)}},t.box.publicKeyLength=rn,t.box.secretKeyLength=Ee,t.box.sharedKeyLength=ke,t.box.nonceLength=kn,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(Z,z){if(me(Z,z),z.length!==xe)throw new Error("bad secret key size");var H=new Uint8Array(Pr+Z.length);return Mn(H,Z,Z.length,z),H},t.sign.open=function(Z,z){if(me(Z,z),z.length!==be)throw new Error("bad public key size");var H=new Uint8Array(Z.length),D=Me(H,Z,Z.length,z);if(D<0)return null;for(var Q=new Uint8Array(D),X=0;X<Q.length;X++)Q[X]=H[X];return Q},t.sign.detached=function(Z,z){for(var H=t.sign(Z,z),D=new Uint8Array(Pr),Q=0;Q<D.length;Q++)D[Q]=H[Q];return D},t.sign.detached.verify=function(Z,z,H){if(me(Z,z,H),z.length!==Pr)throw new Error("bad signature size");if(H.length!==be)throw new Error("bad public key size");var D=new Uint8Array(Pr+Z.length),Q=new Uint8Array(Pr+Z.length),X;for(X=0;X<Pr;X++)D[X]=z[X];for(X=0;X<Z.length;X++)D[X+Pr]=Z[X];return Me(Q,D,D.length,H)>=0},t.sign.keyPair=function(){var Z=new Uint8Array(be),z=new Uint8Array(xe);return Re(Z,z),{publicKey:Z,secretKey:z}},t.sign.keyPair.fromSecretKey=function(Z){if(me(Z),Z.length!==xe)throw new Error("bad secret key size");for(var z=new Uint8Array(be),H=0;H<z.length;H++)z[H]=Z[32+H];return{publicKey:z,secretKey:new Uint8Array(Z)}},t.sign.keyPair.fromSeed=function(Z){if(me(Z),Z.length!==An)throw new Error("bad seed size");for(var z=new Uint8Array(be),H=new Uint8Array(xe),D=0;D<32;D++)H[D]=Z[D];return Re(z,H,!0),{publicKey:z,secretKey:H}},t.sign.publicKeyLength=be,t.sign.secretKeyLength=xe,t.sign.seedLength=An,t.sign.signatureLength=Pr,t.hash=function(Z){me(Z);var z=new Uint8Array(Pe);return ye(z,Z,Z.length),z},t.hash.hashLength=Pe,t.verify=function(Z,z){return me(Z,z),Z.length===0||z.length===0||Z.length!==z.length?!1:M(Z,0,z,0,Z.length)===0},t.setPRNG=function(Z){r=Z},function(){var Z=typeof self<"u"?self.crypto||self.msCrypto:null;if(Z&&Z.getRandomValues){var z=65536;t.setPRNG(function(H,D){var Q,X=new Uint8Array(D);for(Q=0;Q<D;Q+=z)Z.getRandomValues(X.subarray(Q,Q+Math.min(D-Q,z)));for(Q=0;Q<D;Q++)H[Q]=X[Q];De(X)})}else typeof _oe<"u"&&(Z=Jp(),Z&&Z.randomBytes&&t.setPRNG(function(H,D){var Q,X=Z.randomBytes(D);for(Q=0;Q<D;Q++)H[Q]=X[Q];De(X)}))}()})(typeof Q7<"u"&&Q7.exports?Q7.exports:self.nacl=self.nacl||{})});var H1e=q((iur,V1e)=>{"use strict";d();h();function rst(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,u=t.charAt(0),l=Math.log(s)/Math.log(256),m=Math.log(256)/Math.log(s);function x(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var M=0,k=0,C=0,R=I.length;C!==R&&I[C]===0;)C++,M++;for(var L=(R-C)*m+1>>>0,P=new Uint8Array(L);C!==R;){for(var K=I[C],V=0,j=L-1;(K!==0||V<k)&&j!==-1;j--,V++)K+=256*P[j]>>>0,P[j]=K%s>>>0,K=K/s>>>0;if(K!==0)throw new Error("Non-zero carry");k=V,C++}for(var ne=L-k;ne!==L&&P[ne]===0;)ne++;for(var J=u.repeat(M);ne<L;++ne)J+=t.charAt(P[ne]);return J}function w(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;for(var M=0,k=0,C=0;I[M]===u;)k++,M++;for(var R=(I.length-M)*l+1>>>0,L=new Uint8Array(R);I[M];){var P=e[I.charCodeAt(M)];if(P===255)return;for(var K=0,V=R-1;(P!==0||K<C)&&V!==-1;V--,K++)P+=s*L[V]>>>0,L[V]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");C=K,M++}for(var j=R-C;j!==R&&L[j]===0;)j++;for(var ne=new Uint8Array(k+(R-j)),J=k;j!==R;)ne[J++]=L[j++];return ne}function E(I){var M=w(I);if(M)return M;throw new Error("Non-base"+s+" character")}return{encode:x,decodeUnsafe:w,decode:E}}V1e.exports=rst});var z1e=q((aur,j1e)=>{d();h();var nst=H1e(),ist="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";j1e.exports=nst(ist)});var G1e=q((fur,W1e)=>{"use strict";d();h();var zz=z1e();W1e.exports=function(t){function e(o){var s=Uint8Array.from(o),u=t(s),l=s.length+4,m=new Uint8Array(l);return m.set(s,0),m.set(u.subarray(0,4),s.length),zz.encode(m,l)}function r(o){var s=o.slice(0,-4),u=o.slice(-4),l=t(s);if(!(u[0]^l[0]|u[1]^l[1]|u[2]^l[2]|u[3]^l[3]))return s}function n(o){var s=zz.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=zz.decode(o),u=r(s,t);if(!u)throw new Error("Invalid checksum");return u}return{encode:e,decode:i,decodeUnsafe:n}}});var S2=q((hur,Y1e)=>{"use strict";d();h();var{sha256:$1e}=DM(),ost=G1e();function sst(t){return $1e($1e(t))}Y1e.exports=ost(sst)});var Q1e=q((yur,Z1e)=>{"use strict";d();h();var Wz=Da(),ast=cr().Buffer;Z1e.exports=function(t){function e(o){var s=t(o);return Wz.encode(ast.concat([o,s],o.length+4))}function r(o){var s=o.slice(0,-4),u=o.slice(-4),l=t(s);if(!(u[0]^l[0]|u[1]^l[1]|u[2]^l[2]|u[3]^l[3]))return s}function n(o){var s=Wz.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=Wz.decode(o),u=r(s,t);if(!u)throw new Error("Invalid checksum");return u}return{encode:e,decode:i,decodeUnsafe:n}}});var eve=q((vur,X1e)=>{"use strict";d();h();var J1e=$p(),cst=Q1e();function ust(t){var e=J1e("sha256").update(t).digest();return J1e("sha256").update(e).digest()}X1e.exports=cst(ust)});var r9=q((Sur,rve)=>{d();h();var Gz=eve();function tve(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function $z(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function fst(t,e){return tve(Gz.decode(t),e)}function lst(t,e,r){return typeof t=="number"?Gz.encode($z(t,e,r)):Gz.encode($z(t.version,t.privateKey,t.compressed))}rve.exports={decode:fst,decodeRaw:tve,encode:lst,encodeRaw:$z}});var Qz=q(Ha=>{"use strict";d();h();Object.defineProperty(Ha,"__esModule",{value:!0});Ha.output=Ha.exists=Ha.hash=Ha.bytes=Ha.bool=Ha.number=void 0;function o9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ha.number=o9;function uve(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ha.bool=uve;function Zz(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ha.bytes=Zz;function fve(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");o9(t.outputLen),o9(t.blockLen)}Ha.hash=fve;function lve(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ha.exists=lve;function dve(t,e){Zz(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ha.output=dve;var gst={number:o9,bool:uve,bytes:Zz,hash:fve,exists:lve,output:dve};Ha.default=gst});var hve=q(s9=>{"use strict";d();h();Object.defineProperty(s9,"__esModule",{value:!0});s9.crypto=void 0;s9.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var c9=q(br=>{"use strict";d();h();Object.defineProperty(br,"__esModule",{value:!0});br.randomBytes=br.wrapXOFConstructorWithOpts=br.wrapConstructorWithOpts=br.wrapConstructor=br.checkOpts=br.Hash=br.concatBytes=br.toBytes=br.utf8ToBytes=br.asyncLoop=br.nextTick=br.hexToBytes=br.bytesToHex=br.isLE=br.rotr=br.createView=br.u32=br.u8=void 0;var Jz=hve(),eW=t=>t instanceof Uint8Array,bst=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);br.u8=bst;var vst=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));br.u32=vst;var xst=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);br.createView=xst;var wst=(t,e)=>t<<32-e|t>>>e;br.rotr=wst;br.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!br.isLE)throw new Error("Non little-endian hardware is not supported");var Sst=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ast(t){if(!eW(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Sst[t[r]];return e}br.bytesToHex=Ast;function Est(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}br.hexToBytes=Est;var _st=async()=>{};br.nextTick=_st;async function Tst(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,br.nextTick)(),n+=o)}}br.asyncLoop=Tst;function pve(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}br.utf8ToBytes=pve;function a9(t){if(typeof t=="string"&&(t=pve(t)),!eW(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}br.toBytes=a9;function Ist(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!eW(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}br.concatBytes=Ist;var Xz=class{clone(){return this._cloneInto()}};br.Hash=Xz;var Mst=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function kst(t,e){if(e!==void 0&&(typeof e!="object"||!Mst(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}br.checkOpts=kst;function Pst(t){let e=n=>t().update(a9(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}br.wrapConstructor=Pst;function Rst(t){let e=(n,i)=>t(i).update(a9(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}br.wrapConstructorWithOpts=Rst;function Cst(t){let e=(n,i)=>t(i).update(a9(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}br.wrapXOFConstructorWithOpts=Cst;function Bst(t=32){if(Jz.crypto&&typeof Jz.crypto.getRandomValues=="function")return Jz.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}br.randomBytes=Bst});var yve=q(o1=>{"use strict";d();h();Object.defineProperty(o1,"__esModule",{value:!0});o1.hmac=o1.HMAC=void 0;var u9=Qz(),mve=c9(),u_=class extends mve.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,u9.default.hash(e);let n=(0,mve.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return u9.default.exists(this),this.iHash.update(e),this}digestInto(e){u9.default.exists(this),u9.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};o1.HMAC=u_;var Ost=(t,e,r)=>new u_(t,e).update(r).digest();o1.hmac=Ost;o1.hmac.create=(t,e)=>new u_(t,e)});var gve=q(f9=>{"use strict";d();h();Object.defineProperty(f9,"__esModule",{value:!0});f9.SHA2=void 0;var tW=Qz(),f_=c9();function Dst(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var rW=class extends f_.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,f_.createView)(this.buffer)}update(e){tW.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,f_.toBytes)(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=(0,f_.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tW.default.exists(this),tW.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;Dst(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=(0,f_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};f9.SHA2=rW});var bve=q(A2=>{"use strict";d();h();Object.defineProperty(A2,"__esModule",{value:!0});A2.sha224=A2.sha256=void 0;var Nst=gve(),vf=c9(),Ust=(t,e,r)=>t&e^~t&r,Lst=(t,e,r)=>t&e^t&r^e&r,Fst=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),uy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fy=new Uint32Array(64),l9=class extends Nst.SHA2{constructor(){super(64,32,8,!1),this.A=uy[0]|0,this.B=uy[1]|0,this.C=uy[2]|0,this.D=uy[3]|0,this.E=uy[4]|0,this.F=uy[5]|0,this.G=uy[6]|0,this.H=uy[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:u,H:l}=this;return[e,r,n,i,o,s,u,l]}set(e,r,n,i,o,s,u,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=u|0,this.H=l|0}process(e,r){for(let w=0;w<16;w++,r+=4)fy[w]=e.getUint32(r,!1);for(let w=16;w<64;w++){let E=fy[w-15],I=fy[w-2],M=(0,vf.rotr)(E,7)^(0,vf.rotr)(E,18)^E>>>3,k=(0,vf.rotr)(I,17)^(0,vf.rotr)(I,19)^I>>>10;fy[w]=k+fy[w-7]+M+fy[w-16]|0}let{A:n,B:i,C:o,D:s,E:u,F:l,G:m,H:x}=this;for(let w=0;w<64;w++){let E=(0,vf.rotr)(u,6)^(0,vf.rotr)(u,11)^(0,vf.rotr)(u,25),I=x+E+Ust(u,l,m)+Fst[w]+fy[w]|0,k=((0,vf.rotr)(n,2)^(0,vf.rotr)(n,13)^(0,vf.rotr)(n,22))+Lst(n,i,o)|0;x=m,m=l,l=u,u=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,u=u+this.E|0,l=l+this.F|0,m=m+this.G|0,x=x+this.H|0,this.set(n,i,o,s,u,l,m,x)}roundClean(){fy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},nW=class extends l9{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};A2.sha256=(0,vf.wrapConstructor)(()=>new l9);A2.sha224=(0,vf.wrapConstructor)(()=>new nW)});var h9=q(wo=>{"use strict";d();h();var Kst=KV(),qst=yve(),vve=bve();function Vst(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var _n=Vst(Kst);_n.utils.hmacSha256Sync=(t,...e)=>qst.hmac(vve.sha256,t,_n.utils.concatBytes(...e));_n.utils.sha256Sync=(...t)=>vve.sha256(_n.utils.concatBytes(...t));var sW=_n.utils._normalizePrivateKey,Hst=32,jst=32,iW=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),zst=32;function oW(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function l_(t){return!(!(t instanceof Uint8Array)||t.length!==jst||oW(t,iW)>=0)}function xve(t){return t instanceof Uint8Array&&t.length===64&&oW(t.subarray(0,32),iW)<0&&oW(t.subarray(32,64),iW)<0}function d9(t){return t instanceof Uint8Array&&t.length===Hst}function wve(t){return t===void 0||t instanceof Uint8Array&&t.length===zst}function Sve(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Wst(t){return Sve(_n.utils.bytesToHex(t))}function aW(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=Sve(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=Wst(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}var Gst=(t,e)=>{let r=sW(t),n=aW(e),i=_n.utils._bigintTo32Bytes(_n.utils.mod(r+n,_n.CURVE.n));return _n.utils.isValidPrivateKey(i)?i:null},$st=(t,e)=>{let r=sW(t),n=aW(e),i=_n.utils._bigintTo32Bytes(_n.utils.mod(r-n,_n.CURVE.n));return _n.utils.isValidPrivateKey(i)?i:null},Yst=t=>{let e=sW(t),r=_n.utils._bigintTo32Bytes(_n.CURVE.n-e);return _n.utils.isValidPrivateKey(r)?r:null},Ave=(t,e,r)=>{let n=_n.Point.fromHex(t),i=aW(e),o=_n.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)},Zst=(t,e,r)=>{let n=_n.Point.fromHex(t),i=typeof e=="string"?e:_n.utils.bytesToHex(e),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)};function d_(t,e){return t===void 0?e!==void 0?Eve(e):!0:!!t}function s1(t){try{return t()}catch{return null}}function cW(t,e){if(t.length===32!==e)return!1;try{return!!_n.Point.fromHex(t)}catch{return!1}}function ly(t){return cW(t,!1)}function Eve(t){return cW(t,!1)&&t.length===33}function dy(t){return _n.utils.isValidPrivateKey(t)}function uW(t){return cW(t,!0)}function Qst(t,e){if(!uW(t))throw new Error("Expected Point");if(!l_(e))throw new Error("Expected Tweak");return s1(()=>{let r=Ave(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function _ve(t){if(!ly(t))throw new Error("Expected Point");return t.slice(1,33)}function Tve(t,e){if(!dy(t))throw new Error("Expected Private");return s1(()=>_n.getPublicKey(t,d_(e)))}function Jst(t){if(!dy(t))throw new Error("Expected Private");return _ve(Tve(t))}function Xst(t,e){if(!ly(t))throw new Error("Expected Point");return _n.Point.fromHex(t).toRawBytes(d_(e,t))}function eat(t,e,r){if(!ly(t))throw new Error("Expected Point");if(!l_(e))throw new Error("Expected Tweak");return s1(()=>Zst(t,e,d_(r,t)))}function tat(t,e,r){if(!ly(t)||!ly(e))throw new Error("Expected Point");return s1(()=>{let n=_n.Point.fromHex(t),i=_n.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(d_(r,t))})}function rat(t,e,r){if(!ly(t))throw new Error("Expected Point");if(!l_(e))throw new Error("Expected Tweak");return s1(()=>Ave(t,e,d_(r,t)))}function nat(t,e){if(dy(t)===!1)throw new Error("Expected Private");if(l_(e)===!1)throw new Error("Expected Tweak");return s1(()=>Gst(t,e))}function iat(t,e){if(dy(t)===!1)throw new Error("Expected Private");if(l_(e)===!1)throw new Error("Expected Tweak");return s1(()=>$st(t,e))}function oat(t){if(dy(t)===!1)throw new Error("Expected Private");return Yst(t)}function sat(t,e,r){if(!dy(e))throw new Error("Expected Private");if(!d9(t))throw new Error("Expected Scalar");if(!wve(r))throw new Error("Expected Extra Data (32 bytes)");return _n.signSync(t,e,{der:!1,extraEntropy:r})}function aat(t,e,r=Buffer.alloc(32,0)){if(!dy(e))throw new Error("Expected Private");if(!d9(t))throw new Error("Expected Scalar");if(!wve(r))throw new Error("Expected Extra Data (32 bytes)");return _n.schnorr.signSync(t,e,r)}function cat(t,e,r,n){if(!ly(e))throw new Error("Expected Point");if(!xve(r))throw new Error("Expected Signature");if(!d9(t))throw new Error("Expected Scalar");return _n.verify(r,t,e,{strict:n})}function uat(t,e,r){if(!uW(e))throw new Error("Expected Point");if(!xve(r))throw new Error("Expected Signature");if(!d9(t))throw new Error("Expected Scalar");return _n.schnorr.verifySync(r,t,e)}wo.isPoint=ly;wo.isPointCompressed=Eve;wo.isPrivate=dy;wo.isXOnlyPoint=uW;wo.pointAdd=tat;wo.pointAddScalar=rat;wo.pointCompress=Xst;wo.pointFromScalar=Tve;wo.pointMultiply=eat;wo.privateAdd=nat;wo.privateNegate=oat;wo.privateSub=iat;wo.sign=sat;wo.signSchnorr=aat;wo.verify=cat;wo.verifySchnorr=uat;wo.xOnlyPointAddTweak=Qst;wo.xOnlyPointFromPoint=_ve;wo.xOnlyPointFromScalar=Jst});var xf=q(py=>{"use strict";d();h();Object.defineProperty(py,"__esModule",{value:!0});py.testnet=py.regtest=py.bitcoin=void 0;py.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};py.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};py.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var lW=q(my=>{"use strict";d();h();Object.defineProperty(my,"__esModule",{value:!0});my.encode=my.decode=my.check=void 0;function bat(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}my.check=bat;function vat(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}my.decode=vat;function xat(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}my.encode=xat});var m9=q(E2=>{"use strict";d();h();Object.defineProperty(E2,"__esModule",{value:!0});E2.REVERSE_OPS=E2.OPS=void 0;var dW={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};E2.OPS=dW;var Bve={};E2.REVERSE_OPS=Bve;for(let t of Object.keys(dW)){let e=dW[t];Bve[e]=t}});var Dve=q(gy=>{"use strict";d();h();Object.defineProperty(gy,"__esModule",{value:!0});gy.decode=gy.encode=gy.encodingLength=void 0;var yy=m9();function Ove(t){return t<yy.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}gy.encodingLength=Ove;function wat(t,e,r){let n=Ove(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(yy.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(yy.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(yy.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}gy.encode=wat;function Sat(t,e){let r=t.readUInt8(e),n,i;if(r<yy.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===yy.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===yy.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==yy.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}gy.decode=Sat});var Nve=q(_2=>{"use strict";d();h();Object.defineProperty(_2,"__esModule",{value:!0});_2.encode=_2.decode=void 0;function Aat(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let o=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+o):s*4294967296+o}let i=0;for(let o=0;o<n;++o)i|=t[o]<<8*o;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}_2.decode=Aat;function Eat(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function _at(t){let e=Math.abs(t),r=Eat(e),n=Buffer.allocUnsafe(r),i=t<0;for(let o=0;o<r;++o)n.writeUInt8(e&255,o),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}_2.encode=_at});var y9=q((Kfr,Uve)=>{d();h();var p_={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};p_.Null=p_.Nil;for(hW in p_)p_[hW].toJSON=function(t){return t}.bind(null,hW);var hW;Uve.exports=p_});var yW=q((Hfr,Kve)=>{d();h();var a1=y9();function Lve(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function pW(t){return a1.Nil(t)?"":Lve(t.constructor)}function Tat(t){return a1.Function(t)?"":a1.String(t)?JSON.stringify(t):t&&a1.Object(t)?"":t}function mW(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function g9(t){return a1.Function(t)?t.toJSON?t.toJSON():Lve(t):a1.Array(t)?"Array":t&&a1.Object(t)?"Object":t!==void 0?t:""}function Fve(t,e,r){var n=Tat(e);return"Expected "+g9(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function P0(t,e,r){r=r||pW(e),this.message=Fve(t,e,r),mW(this,P0),this.__type=t,this.__value=e,this.__valueTypeName=r}P0.prototype=Object.create(Error.prototype);P0.prototype.constructor=P0;function Iat(t,e,r,n,i){var o='" of type ';return e==="key"&&(o='" with key type '),Fve('property "'+g9(r)+o+g9(t),n,i)}function T2(t,e,r,n,i){t?(i=i||pW(n),this.message=Iat(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',mW(this,P0),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}T2.prototype=Object.create(Error.prototype);T2.prototype.constructor=P0;function Mat(t,e){return new P0(t,{},e)}function kat(t,e,r){return t instanceof T2?(e=e+"."+t.__property,t=new T2(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof P0&&(t=new T2(t.__type,e,r,t.__value,t.__valueTypeName)),mW(t),t}Kve.exports={TfTypeError:P0,TfPropertyTypeError:T2,tfCustomError:Mat,tfSubError:kat,tfJSON:g9,getValueTypeName:pW}});var jve=q((Wfr,Hve)=>{d();h();var xW=y9(),Pat=yW();function qve(t){return Buffer.isBuffer(t)}function Vve(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}function b9(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw Pat.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return n.toJSON=function(){return r},n}var Rat=b9.bind(null,xW.Array),Cat=b9.bind(null,qve),Bat=b9.bind(null,Vve),Oat=b9.bind(null,xW.String);function Dat(t,e,r){r=r||xW.Number;function n(i,o){return r(i,o)&&i>t&&i<e}return n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}var bW=Math.pow(2,53)-1;function Nat(t){return typeof t=="number"&&isFinite(t)}function Uat(t){return t<<24>>24===t}function Lat(t){return t<<16>>16===t}function Fat(t){return(t|0)===t}function Kat(t){return typeof t=="number"&&t>=-bW&&t<=bW&&Math.floor(t)===t}function qat(t){return(t&255)===t}function Vat(t){return(t&65535)===t}function Hat(t){return t>>>0===t}function jat(t){return typeof t=="number"&&t>=0&&t<=bW&&Math.floor(t)===t}var vW={ArrayN:Rat,Buffer:qve,BufferN:Cat,Finite:Nat,Hex:Vve,HexN:Bat,Int8:Uat,Int16:Lat,Int32:Fat,Int53:Kat,Range:Dat,StringN:Oat,UInt8:qat,UInt16:Vat,UInt32:Hat,UInt53:jat};for(gW in vW)vW[gW].toJSON=function(t){return t}.bind(null,gW);var gW;Hve.exports=vW});var wW=q((Yfr,$ve)=>{d();h();var y_=yW(),Ps=y9(),R0=y_.tfJSON,Wve=y_.TfTypeError,Gve=y_.TfPropertyTypeError,m_=y_.tfSubError,zat=y_.getValueTypeName,C0={arrayOf:function(e,r){e=Gd(e),r=r||{};function n(i,o){return!Ps.Array(i)||Ps.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(s,u){try{return ja(e,s,o)}catch(l){throw m_(l,u)}})}return n.toJSON=function(){var i="["+R0(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},maybe:function t(e){e=Gd(e);function r(n,i){return Ps.Nil(n)||e(n,i,t)}return r.toJSON=function(){return"?"+R0(e)},r},map:function(e,r){e=Gd(e),r&&(r=Gd(r));function n(i,o){if(!Ps.Object(i)||Ps.Nil(i))return!1;for(var s in i){try{r&&ja(r,s,o)}catch(l){throw m_(l,s,"key")}try{var u=i[s];ja(e,u,o)}catch(l){throw m_(l,s)}}return!0}return r?n.toJSON=function(){return"{"+R0(r)+": "+R0(e)+"}"}:n.toJSON=function(){return"{"+R0(e)+"}"},n},object:function(e){var r={};for(var n in e)r[n]=Gd(e[n]);function i(o,s){if(!Ps.Object(o)||Ps.Nil(o))return!1;var u;try{for(u in r){var l=r[u],m=o[u];ja(l,m,s)}}catch(x){throw m_(x,u)}if(s){for(u in o)if(!r[u])throw new Gve(void 0,u)}return!0}return i.toJSON=function(){return R0(r)},i},anyOf:function(){var e=[].slice.call(arguments).map(Gd);function r(n,i){return e.some(function(o){try{return ja(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(R0).join("|")},r},allOf:function(){var e=[].slice.call(arguments).map(Gd);function r(n,i){return e.every(function(o){try{return ja(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(R0).join(" & ")},r},quacksLike:function(e){function r(n){return e===zat(n)}return r.toJSON=function(){return e},r},tuple:function(){var e=[].slice.call(arguments).map(Gd);function r(n,i){return Ps.Nil(n)||Ps.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(o,s){try{return ja(o,n[s],i)}catch(u){throw m_(u,s)}})}return r.toJSON=function(){return"("+e.map(R0).join(", ")+")"},r},value:function(e){function r(n){return n===e}return r.toJSON=function(){return e},r}};C0.oneOf=C0.anyOf;function Gd(t){if(Ps.String(t))return t[0]==="?"?C0.maybe(t.slice(1)):Ps[t]||C0.quacksLike(t);if(t&&Ps.Object(t)){if(Ps.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return C0.arrayOf(t[0])}return C0.object(t)}else if(Ps.Function(t))return t;return C0.value(t)}function ja(t,e,r,n){if(Ps.Function(t)){if(t(e,r))return!0;throw new Wve(n||t,e)}return ja(Gd(t),e,r)}for(B0 in Ps)ja[B0]=Ps[B0];var B0;for(B0 in C0)ja[B0]=C0[B0];var zve=jve();for(B0 in zve)ja[B0]=zve[B0];ja.compile=Gd;ja.TfTypeError=Wve;ja.TfPropertyTypeError=Gve;$ve.exports=ja});var Rs=q(ft=>{"use strict";d();h();Object.defineProperty(ft,"__esModule",{value:!0});ft.oneOf=ft.Null=ft.BufferN=ft.Function=ft.UInt32=ft.UInt8=ft.tuple=ft.maybe=ft.Hex=ft.Buffer=ft.String=ft.Boolean=ft.Array=ft.Number=ft.Hash256bit=ft.Hash160bit=ft.Buffer256bit=ft.isTaptree=ft.isTapleaf=ft.TAPLEAF_VERSION_MASK=ft.Network=ft.ECPoint=ft.Satoshi=ft.Signer=ft.BIP32Path=ft.UInt31=ft.isPoint=ft.typeforce=void 0;var v9=Dn();ft.typeforce=wW();var Yve=v9.Buffer.alloc(32,0),Zve=v9.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Wat(t){if(!v9.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(Yve)===0||r.compare(Zve)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(Yve)===0||n.compare(Zve)>=0?!1:e===4&&t.length===65}ft.isPoint=Wat;var Gat=Math.pow(2,31)-1;function $at(t){return ft.typeforce.UInt32(t)&&t<=Gat}ft.UInt31=$at;function Qve(t){return ft.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}ft.BIP32Path=Qve;Qve.toJSON=()=>"BIP32 derivation path";function Yat(t){return(ft.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}ft.Signer=Yat;var Zat=21*1e14;function Qat(t){return ft.typeforce.UInt53(t)&&t<=Zat}ft.Satoshi=Qat;ft.ECPoint=ft.typeforce.quacksLike("Point");ft.Network=ft.typeforce.compile({messagePrefix:ft.typeforce.oneOf(ft.typeforce.Buffer,ft.typeforce.String),bip32:{public:ft.typeforce.UInt32,private:ft.typeforce.UInt32},pubKeyHash:ft.typeforce.UInt8,scriptHash:ft.typeforce.UInt8,wif:ft.typeforce.UInt8});ft.TAPLEAF_VERSION_MASK=254;function Jve(t){return!t||!("output"in t)||!v9.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&ft.TAPLEAF_VERSION_MASK)===t.version:!0}ft.isTapleaf=Jve;function Xve(t){return(0,ft.Array)(t)?t.length!==2?!1:t.every(e=>Xve(e)):Jve(t)}ft.isTaptree=Xve;ft.Buffer256bit=ft.typeforce.BufferN(32);ft.Hash160bit=ft.typeforce.BufferN(20);ft.Hash256bit=ft.typeforce.BufferN(32);ft.Number=ft.typeforce.Number;ft.Array=ft.typeforce.Array;ft.Boolean=ft.typeforce.Boolean;ft.String=ft.typeforce.String;ft.Buffer=ft.typeforce.Buffer;ft.Hex=ft.typeforce.Hex;ft.maybe=ft.typeforce.maybe;ft.tuple=ft.typeforce.tuple;ft.UInt8=ft.typeforce.UInt8;ft.UInt32=ft.typeforce.UInt32;ft.Function=ft.typeforce.Function;ft.BufferN=ft.typeforce.BufferN;ft.Null=ft.typeforce.Null;ft.oneOf=ft.typeforce.oneOf});var ixe=q(M2=>{"use strict";d();h();Object.defineProperty(M2,"__esModule",{value:!0});M2.encode=M2.decode=void 0;var{Buffer:I2}=Dn(),nxe=lW(),SW=Rs(),{typeforce:Jat}=SW,exe=I2.alloc(1,0);function txe(t){let e=0;for(;t[e]===0;)++e;return e===t.length?exe:(t=t.slice(e),t[0]&128?I2.concat([exe,t],1+t.length):t)}function rxe(t){t[0]===0&&(t=t.slice(1));let e=I2.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function Xat(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=nxe.decode(t.slice(0,-1)),i=rxe(n.r),o=rxe(n.s);return{signature:I2.concat([i,o],64),hashType:e}}M2.decode=Xat;function ect(t,e){Jat({signature:SW.BufferN(64),hashType:SW.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=I2.allocUnsafe(1);n.writeUInt8(e,0);let i=txe(t.slice(0,32)),o=txe(t.slice(32,64));return I2.concat([nxe.encode(i,o),n])}M2.encode=ect});var za=q(Wn=>{"use strict";d();h();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.signature=Wn.number=Wn.isCanonicalScriptSignature=Wn.isDefinedHashType=Wn.isCanonicalPubKey=Wn.toStack=Wn.fromASM=Wn.toASM=Wn.decompile=Wn.compile=Wn.countNonPushOnlyOPs=Wn.isPushOnly=Wn.OPS=void 0;var tct=lW(),Sc=m9();Object.defineProperty(Wn,"OPS",{enumerable:!0,get:function(){return Sc.OPS}});var AW=Dve(),oxe=Nve(),rct=ixe(),$d=Rs(),{typeforce:g_}=$d,sxe=Sc.OPS.OP_RESERVED;function nct(t){return $d.Number(t)&&(t===Sc.OPS.OP_0||t>=Sc.OPS.OP_1&&t<=Sc.OPS.OP_16||t===Sc.OPS.OP_1NEGATE)}function axe(t){return $d.Buffer(t)||nct(t)}function cxe(t){return $d.Array(t)&&t.every(axe)}Wn.isPushOnly=cxe;function ict(t){return t.length-t.filter(axe).length}Wn.countNonPushOnlyOPs=ict;function x9(t){if(t.length===0)return Sc.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return sxe+t[0];if(t[0]===129)return Sc.OPS.OP_1NEGATE}}function uxe(t){return Buffer.isBuffer(t)}function oct(t){return $d.Array(t)}function w9(t){return Buffer.isBuffer(t)}function fxe(t){if(uxe(t))return t;g_($d.Array,t);let e=t.reduce((i,o)=>w9(o)?o.length===1&&x9(o)!==void 0?i+1:i+AW.encodingLength(o.length)+o.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(w9(i)){let o=x9(i);if(o!==void 0){r.writeUInt8(o,n),n+=1;return}n+=AW.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}Wn.compile=fxe;function EW(t){if(oct(t))return t;g_($d.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Sc.OPS.OP_0&&n<=Sc.OPS.OP_PUSHDATA4){let i=AW.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let o=t.slice(r,r+i.number);r+=i.number;let s=x9(o);s!==void 0?e.push(s):e.push(o)}else e.push(n),r+=1}return e}Wn.decompile=EW;function sct(t){return uxe(t)&&(t=EW(t)),t.map(e=>{if(w9(e)){let r=x9(e);if(r===void 0)return e.toString("hex");e=r}return Sc.REVERSE_OPS[e]}).join(" ")}Wn.toASM=sct;function act(t){return g_($d.String,t),fxe(t.split(" ").map(e=>Sc.OPS[e]!==void 0?Sc.OPS[e]:(g_($d.Hex,e),Buffer.from(e,"hex"))))}Wn.fromASM=act;function cct(t){return t=EW(t),g_(cxe,t),t.map(e=>w9(e)?e:e===Sc.OPS.OP_0?Buffer.allocUnsafe(0):oxe.encode(e-sxe))}Wn.toStack=cct;function uct(t){return $d.isPoint(t)}Wn.isCanonicalPubKey=uct;function lxe(t){let e=t&-129;return e>0&&e<4}Wn.isDefinedHashType=lxe;function fct(t){return!Buffer.isBuffer(t)||!lxe(t[t.length-1])?!1:tct.check(t.slice(0,-1))}Wn.isCanonicalScriptSignature=fct;Wn.number=oxe;Wn.signature=rct});var O0=q(k2=>{"use strict";d();h();Object.defineProperty(k2,"__esModule",{value:!0});k2.value=k2.prop=void 0;function lct(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}k2.prop=lct;function dct(t){let e;return()=>(e!==void 0||(e=t()),e)}k2.value=dct});var pxe=q(A9=>{"use strict";d();h();Object.defineProperty(A9,"__esModule",{value:!0});A9.p2data=void 0;var hct=xf(),S9=za(),D0=Rs(),dxe=O0(),hxe=S9.OPS;function pct(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function mct(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,D0.typeforce)({network:D0.typeforce.maybe(D0.typeforce.Object),output:D0.typeforce.maybe(D0.typeforce.Buffer),data:D0.typeforce.maybe(D0.typeforce.arrayOf(D0.typeforce.Buffer))},t);let n={name:"embed",network:t.network||hct.bitcoin};if(dxe.prop(n,"output",()=>{if(t.data)return S9.compile([hxe.OP_RETURN].concat(t.data))}),dxe.prop(n,"data",()=>{if(t.output)return S9.decompile(t.output).slice(1)}),e.validate&&t.output){let i=S9.decompile(t.output);if(i[0]!==hxe.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(D0.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!pct(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}A9.p2data=mct});var yxe=q(_9=>{"use strict";d();h();Object.defineProperty(_9,"__esModule",{value:!0});_9.p2ms=void 0;var yct=xf(),P2=za(),Bo=Rs(),by=O0(),R2=P2.OPS,E9=R2.OP_RESERVED;function mxe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function gct(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return P2.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===R2.OP_0)!==void 0}(0,Bo.typeforce)({network:Bo.typeforce.maybe(Bo.typeforce.Object),m:Bo.typeforce.maybe(Bo.typeforce.Number),n:Bo.typeforce.maybe(Bo.typeforce.Number),output:Bo.typeforce.maybe(Bo.typeforce.Buffer),pubkeys:Bo.typeforce.maybe(Bo.typeforce.arrayOf(Bo.isPoint)),signatures:Bo.typeforce.maybe(Bo.typeforce.arrayOf(r)),input:Bo.typeforce.maybe(Bo.typeforce.Buffer)},t);let i={network:t.network||yct.bitcoin},o=[],s=!1;function u(l){s||(s=!0,o=P2.decompile(l),i.m=o[0]-E9,i.n=o[o.length-2]-E9,i.pubkeys=o.slice(1,-2))}if(by.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return P2.compile([].concat(E9+t.m,t.pubkeys,E9+i.n,R2.OP_CHECKMULTISIG))}),by.prop(i,"m",()=>{if(i.output)return u(i.output),i.m}),by.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),by.prop(i,"pubkeys",()=>{if(t.output)return u(t.output),i.pubkeys}),by.prop(i,"signatures",()=>{if(t.input)return P2.decompile(t.input).slice(1)}),by.prop(i,"input",()=>{if(t.signatures)return P2.compile([R2.OP_0].concat(t.signatures))}),by.prop(i,"witness",()=>{if(i.input)return[]}),by.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(u(t.output),!Bo.typeforce.Number(o[0]))throw new TypeError("Output is invalid");if(!Bo.typeforce.Number(o[o.length-2]))throw new TypeError("Output is invalid");if(o[o.length-1]!==R2.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==o.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,Bo.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!mxe(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==R2.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!mxe(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}_9.p2ms=gct});var bxe=q(T9=>{"use strict";d();h();Object.defineProperty(T9,"__esModule",{value:!0});T9.p2pk=void 0;var bct=xf(),B2=za(),kl=Rs(),C2=O0(),gxe=B2.OPS;function vct(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,kl.typeforce)({network:kl.typeforce.maybe(kl.typeforce.Object),output:kl.typeforce.maybe(kl.typeforce.Buffer),pubkey:kl.typeforce.maybe(kl.isPoint),signature:kl.typeforce.maybe(B2.isCanonicalScriptSignature),input:kl.typeforce.maybe(kl.typeforce.Buffer)},t);let r=C2.value(()=>B2.decompile(t.input)),i={name:"p2pk",network:t.network||bct.bitcoin};if(C2.prop(i,"output",()=>{if(t.pubkey)return B2.compile([t.pubkey,gxe.OP_CHECKSIG])}),C2.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),C2.prop(i,"signature",()=>{if(t.input)return r()[0]}),C2.prop(i,"input",()=>{if(t.signature)return B2.compile([t.signature])}),C2.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==gxe.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,kl.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!B2.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}T9.p2pk=vct});var Sxe=q(O2=>{"use strict";d();h();Object.defineProperty(O2,"__esModule",{value:!0});O2.ripemd160=O2.RIPEMD160=void 0;var xct=DE(),wct=Fp(),Sct=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),xxe=Uint8Array.from({length:16},(t,e)=>e),Act=xxe.map(t=>(9*t+5)%16),_W=[xxe],TW=[Act];for(let t=0;t<4;t++)for(let e of[_W,TW])e.push(e[t].map(r=>Sct[r]));var wxe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Ect=_W.map((t,e)=>t.map(r=>wxe[e][r])),_ct=TW.map((t,e)=>t.map(r=>wxe[e][r])),Tct=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Ict=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),I9=(t,e)=>t<<e|t>>>32-e;function vxe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var M9=new Uint32Array(16),k9=class extends xct.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let I=0;I<16;I++,r+=4)M9[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,u=this.h2|0,l=u,m=this.h3|0,x=m,w=this.h4|0,E=w;for(let I=0;I<5;I++){let M=4-I,k=Tct[I],C=Ict[I],R=_W[I],L=TW[I],P=Ect[I],K=_ct[I];for(let V=0;V<16;V++){let j=I9(n+vxe(I,o,u,m)+M9[R[V]]+k,P[V])+w|0;n=w,w=m,m=I9(u,10)|0,u=o,o=j}for(let V=0;V<16;V++){let j=I9(i+vxe(M,s,l,x)+M9[L[V]]+C,K[V])+E|0;i=E,E=x,x=I9(l,10)|0,l=s,s=j}}this.set(this.h1+u+x|0,this.h2+m+E|0,this.h3+w+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){M9.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};O2.RIPEMD160=k9;O2.ripemd160=(0,wct.wrapConstructor)(()=>new k9)});var Axe=q(P9=>{"use strict";d();h();Object.defineProperty(P9,"__esModule",{value:!0});P9.sha1=void 0;var Mct=DE(),kct=Fp(),IW=(t,e)=>t<<e|t>>>32-e>>>0,Pct=(t,e,r)=>t&e^~t&r,Rct=(t,e,r)=>t&e^t&r^e&r,b_=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),vy=new Uint32Array(80),MW=class extends Mct.SHA2{constructor(){super(64,20,8,!1),this.A=b_[0]|0,this.B=b_[1]|0,this.C=b_[2]|0,this.D=b_[3]|0,this.E=b_[4]|0}get(){let{A:e,B:r,C:n,D:i,E:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0}process(e,r){for(let l=0;l<16;l++,r+=4)vy[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)vy[l]=IW(vy[l-3]^vy[l-8]^vy[l-14]^vy[l-16],1);let{A:n,B:i,C:o,D:s,E:u}=this;for(let l=0;l<80;l++){let m,x;l<20?(m=Pct(i,o,s),x=1518500249):l<40?(m=i^o^s,x=1859775393):l<60?(m=Rct(i,o,s),x=2400959708):(m=i^o^s,x=3395469782);let w=IW(n,5)+m+u+x+vy[l]|0;u=s,s=o,o=IW(i,30),i=n,n=w}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,u=u+this.E|0,this.set(n,i,o,s,u)}roundClean(){vy.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};P9.sha1=(0,kct.wrapConstructor)(()=>new MW)});var Yd=q(Oo=>{"use strict";d();h();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.taggedHash=Oo.TAGGED_HASH_PREFIXES=Oo.TAGS=Oo.hash256=Oo.hash160=Oo.sha256=Oo.sha1=Oo.ripemd160=void 0;var{Buffer:Wa}=Dn(),Exe=Sxe(),Cct=Axe(),R9=DM();function Bct(t){return Wa.from((0,Exe.ripemd160)(Uint8Array.from(t)))}Oo.ripemd160=Bct;function Oct(t){return Wa.from((0,Cct.sha1)(Uint8Array.from(t)))}Oo.sha1=Oct;function _xe(t){return Wa.from((0,R9.sha256)(Uint8Array.from(t)))}Oo.sha256=_xe;function Dct(t){return Wa.from((0,Exe.ripemd160)((0,R9.sha256)(Uint8Array.from(t))))}Oo.hash160=Dct;function Nct(t){return Wa.from((0,R9.sha256)((0,R9.sha256)(Uint8Array.from(t))))}Oo.hash256=Nct;Oo.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];Oo.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Wa.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Wa.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Wa.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Wa.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Wa.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Wa.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Wa.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Wa.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Wa.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function Uct(t,e){return _xe(Wa.concat([Oo.TAGGED_HASH_PREFIXES[t],e]))}Oo.taggedHash=Uct});var Ixe=q(C9=>{"use strict";d();h();Object.defineProperty(C9,"__esModule",{value:!0});C9.p2pkh=void 0;var kW=Yd(),Lct=xf(),D2=za(),Ga=Rs(),N0=O0(),Txe=S2(),xy=D2.OPS;function Fct(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ga.typeforce)({network:Ga.typeforce.maybe(Ga.typeforce.Object),address:Ga.typeforce.maybe(Ga.typeforce.String),hash:Ga.typeforce.maybe(Ga.typeforce.BufferN(20)),output:Ga.typeforce.maybe(Ga.typeforce.BufferN(25)),pubkey:Ga.typeforce.maybe(Ga.isPoint),signature:Ga.typeforce.maybe(D2.isCanonicalScriptSignature),input:Ga.typeforce.maybe(Ga.typeforce.Buffer)},t);let r=N0.value(()=>{let s=Buffer.from(Txe.decode(t.address)),u=s.readUInt8(0),l=s.slice(1);return{version:u,hash:l}}),n=N0.value(()=>D2.decompile(t.input)),i=t.network||Lct.bitcoin,o={name:"p2pkh",network:i};if(N0.prop(o,"address",()=>{if(!o.hash)return;let s=Buffer.allocUnsafe(21);return s.writeUInt8(i.pubKeyHash,0),o.hash.copy(s,1),Txe.encode(s)}),N0.prop(o,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||o.pubkey)return kW.hash160(t.pubkey||o.pubkey)}),N0.prop(o,"output",()=>{if(o.hash)return D2.compile([xy.OP_DUP,xy.OP_HASH160,o.hash,xy.OP_EQUALVERIFY,xy.OP_CHECKSIG])}),N0.prop(o,"pubkey",()=>{if(t.input)return n()[1]}),N0.prop(o,"signature",()=>{if(t.input)return n()[0]}),N0.prop(o,"input",()=>{if(t.pubkey&&t.signature)return D2.compile([t.signature,t.pubkey])}),N0.prop(o,"witness",()=>{if(o.input)return[]}),e.validate){let s=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==xy.OP_DUP||t.output[1]!==xy.OP_HASH160||t.output[2]!==20||t.output[23]!==xy.OP_EQUALVERIFY||t.output[24]!==xy.OP_CHECKSIG)throw new TypeError("Output is invalid");let u=t.output.slice(3,23);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch");s=u}if(t.pubkey){let u=kW.hash160(t.pubkey);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch");s=u}if(t.input){let u=n();if(u.length!==2)throw new TypeError("Input is invalid");if(!D2.isCanonicalScriptSignature(u[0]))throw new TypeError("Input has invalid signature");if(!(0,Ga.isPoint)(u[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(u[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(u[1]))throw new TypeError("Pubkey mismatch");let l=kW.hash160(u[1]);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}C9.p2pkh=Fct});var Pxe=q(B9=>{"use strict";d();h();Object.defineProperty(B9,"__esModule",{value:!0});B9.p2sh=void 0;var Mxe=Yd(),Kct=xf(),Qd=za(),Ii=Rs(),Zd=O0(),kxe=S2(),v_=Qd.OPS;function qct(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Vct(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ii.typeforce)({network:Ii.typeforce.maybe(Ii.typeforce.Object),address:Ii.typeforce.maybe(Ii.typeforce.String),hash:Ii.typeforce.maybe(Ii.typeforce.BufferN(20)),output:Ii.typeforce.maybe(Ii.typeforce.BufferN(23)),redeem:Ii.typeforce.maybe({network:Ii.typeforce.maybe(Ii.typeforce.Object),output:Ii.typeforce.maybe(Ii.typeforce.Buffer),input:Ii.typeforce.maybe(Ii.typeforce.Buffer),witness:Ii.typeforce.maybe(Ii.typeforce.arrayOf(Ii.typeforce.Buffer))}),input:Ii.typeforce.maybe(Ii.typeforce.Buffer),witness:Ii.typeforce.maybe(Ii.typeforce.arrayOf(Ii.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||Kct.bitcoin);let n={network:r},i=Zd.value(()=>{let u=Buffer.from(kxe.decode(t.address)),l=u.readUInt8(0),m=u.slice(1);return{version:l,hash:m}}),o=Zd.value(()=>Qd.decompile(t.input)),s=Zd.value(()=>{let u=o(),l=u[u.length-1];return{network:r,output:l===v_.OP_FALSE?Buffer.from([]):l,input:Qd.compile(u.slice(0,-1)),witness:t.witness||[]}});if(Zd.prop(n,"address",()=>{if(!n.hash)return;let u=Buffer.allocUnsafe(21);return u.writeUInt8(n.network.scriptHash,0),n.hash.copy(u,1),kxe.encode(u)}),Zd.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return Mxe.hash160(n.redeem.output)}),Zd.prop(n,"output",()=>{if(n.hash)return Qd.compile([v_.OP_HASH160,n.hash,v_.OP_EQUAL])}),Zd.prop(n,"redeem",()=>{if(t.input)return s()}),Zd.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Qd.compile([].concat(Qd.decompile(t.redeem.input),t.redeem.output))}),Zd.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Zd.prop(n,"name",()=>{let u=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&u.push(n.redeem.name),u.join("-")}),e.validate){let u=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");u=i().hash}if(t.hash){if(u.length>0&&!u.equals(t.hash))throw new TypeError("Hash mismatch");u=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==v_.OP_HASH160||t.output[1]!==20||t.output[22]!==v_.OP_EQUAL)throw new TypeError("Output is invalid");let m=t.output.slice(2,22);if(u.length>0&&!u.equals(m))throw new TypeError("Hash mismatch");u=m}let l=m=>{if(m.output){let x=Qd.decompile(m.output);if(!x||x.length<1)throw new TypeError("Redeem.output too short");if(m.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Qd.countNonPushOnlyOPs(x)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let w=Mxe.hash160(m.output);if(u.length>0&&!u.equals(w))throw new TypeError("Hash mismatch");u=w}if(m.input){let x=m.input.length>0,w=m.witness&&m.witness.length>0;if(!x&&!w)throw new TypeError("Empty input");if(x&&w)throw new TypeError("Input and witness provided");if(x){let E=Qd.decompile(m.input);if(!Qd.isPushOnly(E))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let m=o();if(!m||m.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");l(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let m=s();if(t.redeem.output&&!t.redeem.output.equals(m.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(m.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!qct(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}B9.p2sh=Vct});var Cxe=q(N9=>{"use strict";d();h();Object.defineProperty(N9,"__esModule",{value:!0});N9.p2wpkh=void 0;var{Buffer:RW}=Dn(),PW=Yd(),Hct=xf(),D9=za(),Do=Rs(),wy=O0(),O9=t1(),Rxe=D9.OPS,jct=RW.alloc(0);function zct(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Do.typeforce)({address:Do.typeforce.maybe(Do.typeforce.String),hash:Do.typeforce.maybe(Do.typeforce.BufferN(20)),input:Do.typeforce.maybe(Do.typeforce.BufferN(0)),network:Do.typeforce.maybe(Do.typeforce.Object),output:Do.typeforce.maybe(Do.typeforce.BufferN(22)),pubkey:Do.typeforce.maybe(Do.isPoint),signature:Do.typeforce.maybe(D9.isCanonicalScriptSignature),witness:Do.typeforce.maybe(Do.typeforce.arrayOf(Do.typeforce.Buffer))},t);let r=wy.value(()=>{let o=O9.bech32.decode(t.address),s=o.words.shift(),u=O9.bech32.fromWords(o.words);return{version:s,prefix:o.prefix,data:RW.from(u)}}),n=t.network||Hct.bitcoin,i={name:"p2wpkh",network:n};if(wy.prop(i,"address",()=>{if(!i.hash)return;let o=O9.bech32.toWords(i.hash);return o.unshift(0),O9.bech32.encode(n.bech32,o)}),wy.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return PW.hash160(t.pubkey||i.pubkey)}),wy.prop(i,"output",()=>{if(i.hash)return D9.compile([Rxe.OP_0,i.hash])}),wy.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),wy.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),wy.prop(i,"input",()=>{if(i.witness)return jct}),wy.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let o=RW.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==Rxe.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");o=t.output.slice(2)}if(t.pubkey){let s=PW.hash160(t.pubkey);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch");if(o=s,!(0,Do.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!D9.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Do.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let s=PW.hash160(t.witness[1]);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}N9.p2wpkh=zct});var Dxe=q(K9=>{"use strict";d();h();Object.defineProperty(K9,"__esModule",{value:!0});K9.p2wsh=void 0;var{Buffer:F9}=Dn(),Bxe=Yd(),Wct=xf(),L0=za(),yi=Rs(),U0=O0(),U9=t1(),Oxe=L0.OPS,CW=F9.alloc(0);function Gct(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function L9(t){return!!(F9.isBuffer(t)&&t.length===65&&t[0]===4&&(0,yi.isPoint)(t))}function $ct(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,yi.typeforce)({network:yi.typeforce.maybe(yi.typeforce.Object),address:yi.typeforce.maybe(yi.typeforce.String),hash:yi.typeforce.maybe(yi.typeforce.BufferN(32)),output:yi.typeforce.maybe(yi.typeforce.BufferN(34)),redeem:yi.typeforce.maybe({input:yi.typeforce.maybe(yi.typeforce.Buffer),network:yi.typeforce.maybe(yi.typeforce.Object),output:yi.typeforce.maybe(yi.typeforce.Buffer),witness:yi.typeforce.maybe(yi.typeforce.arrayOf(yi.typeforce.Buffer))}),input:yi.typeforce.maybe(yi.typeforce.BufferN(0)),witness:yi.typeforce.maybe(yi.typeforce.arrayOf(yi.typeforce.Buffer))},t);let r=U0.value(()=>{let s=U9.bech32.decode(t.address),u=s.words.shift(),l=U9.bech32.fromWords(s.words);return{version:u,prefix:s.prefix,data:F9.from(l)}}),n=U0.value(()=>L0.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||Wct.bitcoin);let o={network:i};if(U0.prop(o,"address",()=>{if(!o.hash)return;let s=U9.bech32.toWords(o.hash);return s.unshift(0),U9.bech32.encode(i.bech32,s)}),U0.prop(o,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(o.redeem&&o.redeem.output)return Bxe.sha256(o.redeem.output)}),U0.prop(o,"output",()=>{if(o.hash)return L0.compile([Oxe.OP_0,o.hash])}),U0.prop(o,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:CW,witness:t.witness.slice(0,-1)}}),U0.prop(o,"input",()=>{if(o.witness)return CW}),U0.prop(o,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let s=L0.toStack(n());return o.redeem=Object.assign({witness:s},t.redeem),o.redeem.input=CW,[].concat(s,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),U0.prop(o,"name",()=>{let s=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&s.push(o.redeem.name),s.join("-")}),e.validate){let s=F9.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==Oxe.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let u=t.output.slice(2);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch");s=u}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let u=L0.decompile(t.redeem.output);if(!u||u.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(L0.countNonPushOnlyOPs(u)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=Bxe.sha256(t.redeem.output);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch");s=l}if(t.redeem.input&&!L0.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!Gct(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(L9)||t.redeem.output&&(L0.decompile(t.redeem.output)||[]).some(L9))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let u=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(u))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(L9)||(L0.decompile(u)||[]).some(L9))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,t)}K9.p2wsh=$ct});var q9=q(N2=>{"use strict";d();h();Object.defineProperty(N2,"__esModule",{value:!0});N2.getEccLib=N2.initEccLib=void 0;var x_={};function Yct(t){t?t!==x_.eccLib&&(Qct(t),x_.eccLib=t):x_.eccLib=t}N2.initEccLib=Yct;function Zct(){if(!x_.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return x_.eccLib}N2.getEccLib=Zct;var F0=t=>Buffer.from(t,"hex");function Qct(t){wf(typeof t.isXOnlyPoint=="function"),wf(t.isXOnlyPoint(F0("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),wf(t.isXOnlyPoint(F0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),wf(t.isXOnlyPoint(F0("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),wf(t.isXOnlyPoint(F0("0000000000000000000000000000000000000000000000000000000000000001"))),wf(!t.isXOnlyPoint(F0("0000000000000000000000000000000000000000000000000000000000000000"))),wf(!t.isXOnlyPoint(F0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),wf(typeof t.xOnlyPointAddTweak=="function"),Jct.forEach(e=>{let r=t.xOnlyPointAddTweak(F0(e.pubkey),F0(e.tweak));e.result===null?wf(r===null):(wf(r!==null),wf(r.parity===e.parity),wf(Buffer.from(r.xOnlyPubkey).equals(F0(e.result))))})}function wf(t){if(!t)throw new Error("ecc library invalid")}var Jct=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var DW=q((Hlr,Uxe)=>{"use strict";d();h();var BW=cr().Buffer,Xct=9007199254740991;function OW(t){if(t<0||t>Xct||t%1!==0)throw new RangeError("value out of range")}function w_(t,e,r){if(OW(t),e||(e=BW.allocUnsafe(Nxe(t))),!BW.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),w_.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),w_.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),w_.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),w_.bytes=9),e}function S_(t,e){if(!BW.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return S_.bytes=1,r;if(r===253)return S_.bytes=3,t.readUInt16LE(e+1);if(r===254)return S_.bytes=5,t.readUInt32LE(e+1);S_.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),o=i*4294967296+n;return OW(o),o}function Nxe(t){return OW(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Uxe.exports={encode:w_,decode:S_,encodingLength:Nxe}});var E_=q(ma=>{"use strict";d();h();Object.defineProperty(ma,"__esModule",{value:!0});ma.BufferReader=ma.BufferWriter=ma.cloneBuffer=ma.reverseBuffer=ma.writeUInt64LE=ma.readUInt64LE=ma.varuint=void 0;var c1=Rs(),{typeforce:Lxe}=c1,A_=DW();ma.varuint=A_;function Fxe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function Kxe(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Fxe(n+r,9007199254740991),n+r}ma.readUInt64LE=Kxe;function qxe(t,e,r){return Fxe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}ma.writeUInt64LE=qxe;function eut(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}ma.reverseBuffer=eut;function tut(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}ma.cloneBuffer=tut;var NW=class t{static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,Lxe(c1.tuple(c1.Buffer,c1.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=qxe(this.buffer,e,this.offset)}writeVarInt(e){A_.encode(e,this.buffer,this.offset),this.offset+=A_.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};ma.BufferWriter=NW;var UW=class{constructor(e,r=0){this.buffer=e,this.offset=r,Lxe(c1.tuple(c1.Buffer,c1.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=Kxe(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=A_.decode(this.buffer,this.offset);return this.offset+=A_.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};ma.BufferReader=UW});var V9=q(No=>{"use strict";d();h();Object.defineProperty(No,"__esModule",{value:!0});No.tweakKey=No.tapTweakHash=No.tapleafHash=No.findScriptPath=No.toHashTree=No.rootHashFromPath=No.MAX_TAPTREE_DEPTH=No.LEAF_VERSION_TAPSCRIPT=void 0;var Sy=Dn(),rut=q9(),qW=Yd(),Vxe=E_(),nut=Rs();No.LEAF_VERSION_TAPSCRIPT=192;No.MAX_TAPTREE_DEPTH=128;var iut=t=>"left"in t&&"right"in t;function out(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let o=t.slice(33+32*i,65+32*i);n.compare(o)<0?n=KW(n,o):n=KW(o,n)}return n}No.rootHashFromPath=out;function LW(t){if((0,nut.isTapleaf)(t))return{hash:Hxe(t)};let e=[LW(t[0]),LW(t[1])];e.sort((i,o)=>i.hash.compare(o.hash));let[r,n]=e;return{hash:KW(r.hash,n.hash),left:r,right:n}}No.toHashTree=LW;function FW(t,e){if(iut(t)){let r=FW(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=FW(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}No.findScriptPath=FW;function Hxe(t){let e=t.version||No.LEAF_VERSION_TAPSCRIPT;return qW.taggedHash("TapLeaf",Sy.Buffer.concat([Sy.Buffer.from([e]),aut(t.output)]))}No.tapleafHash=Hxe;function jxe(t,e){return qW.taggedHash("TapTweak",Sy.Buffer.concat(e?[t,e]:[t]))}No.tapTweakHash=jxe;function sut(t,e){if(!Sy.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=jxe(t,e),n=(0,rut.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:Sy.Buffer.from(n.xOnlyPubkey)}}No.tweakKey=sut;function KW(t,e){return qW.taggedHash("TapBranch",Sy.Buffer.concat([t,e]))}function aut(t){let e=Vxe.varuint.encodingLength(t.length),r=Sy.Buffer.allocUnsafe(e);return Vxe.varuint.encode(t.length,r),Sy.Buffer.concat([r,t])}});var $xe=q(z9=>{"use strict";d();h();Object.defineProperty(z9,"__esModule",{value:!0});z9.p2tr=void 0;var H9=Dn(),cut=xf(),VW=za(),Br=Rs(),zxe=q9(),Ac=V9(),Sf=O0(),j9=t1(),Wxe=VW.OPS,Gxe=1,uut=80;function fut(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Br.typeforce)({address:Br.typeforce.maybe(Br.typeforce.String),input:Br.typeforce.maybe(Br.typeforce.BufferN(0)),network:Br.typeforce.maybe(Br.typeforce.Object),output:Br.typeforce.maybe(Br.typeforce.BufferN(34)),internalPubkey:Br.typeforce.maybe(Br.typeforce.BufferN(32)),hash:Br.typeforce.maybe(Br.typeforce.BufferN(32)),pubkey:Br.typeforce.maybe(Br.typeforce.BufferN(32)),signature:Br.typeforce.maybe(Br.typeforce.anyOf(Br.typeforce.BufferN(64),Br.typeforce.BufferN(65))),witness:Br.typeforce.maybe(Br.typeforce.arrayOf(Br.typeforce.Buffer)),scriptTree:Br.typeforce.maybe(Br.isTaptree),redeem:Br.typeforce.maybe({output:Br.typeforce.maybe(Br.typeforce.Buffer),redeemVersion:Br.typeforce.maybe(Br.typeforce.Number),witness:Br.typeforce.maybe(Br.typeforce.arrayOf(Br.typeforce.Buffer))}),redeemVersion:Br.typeforce.maybe(Br.typeforce.Number)},t);let r=Sf.value(()=>{let u=j9.bech32m.decode(t.address),l=u.words.shift(),m=j9.bech32m.fromWords(u.words);return{version:l,prefix:u.prefix,data:H9.Buffer.from(m)}}),n=Sf.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===uut?t.witness.slice(0,-1):t.witness.slice()}),i=Sf.value(()=>{if(t.scriptTree)return(0,Ac.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),o=t.network||cut.bitcoin,s={name:"p2tr",network:o};if(Sf.prop(s,"address",()=>{if(!s.pubkey)return;let u=j9.bech32m.toWords(s.pubkey);return u.unshift(Gxe),j9.bech32m.encode(o.bech32,u)}),Sf.prop(s,"hash",()=>{let u=i();if(u)return u.hash;let l=n();if(l&&l.length>1){let m=l[l.length-1],x=m[0]&Br.TAPLEAF_VERSION_MASK,w=l[l.length-2],E=(0,Ac.tapleafHash)({output:w,version:x});return(0,Ac.rootHashFromPath)(m,E)}return null}),Sf.prop(s,"output",()=>{if(s.pubkey)return VW.compile([Wxe.OP_1,s.pubkey])}),Sf.prop(s,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Ac.LEAF_VERSION_TAPSCRIPT),Sf.prop(s,"redeem",()=>{let u=n();if(!(!u||u.length<2))return{output:u[u.length-2],witness:u.slice(0,-2),redeemVersion:u[u.length-1][0]&Br.TAPLEAF_VERSION_MASK}}),Sf.prop(s,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.internalPubkey){let u=(0,Ac.tweakKey)(s.internalPubkey,s.hash);if(u)return u.x}}),Sf.prop(s,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let u=n();if(u&&u.length>1)return u[u.length-1].slice(1,33)}),Sf.prop(s,"signature",()=>{if(t.signature)return t.signature;let u=n();if(!(!u||u.length!==1))return u[0]}),Sf.prop(s,"witness",()=>{if(t.witness)return t.witness;let u=i();if(u&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,Ac.tapleafHash)({output:t.redeem.output,version:s.redeemVersion}),m=(0,Ac.findScriptPath)(u,l);if(!m)return;let x=(0,Ac.tweakKey)(t.internalPubkey,u.hash);if(!x)return;let w=H9.Buffer.concat([H9.Buffer.from([s.redeemVersion|x.parity]),t.internalPubkey].concat(m));return[t.redeem.output,w]}if(t.signature)return[t.signature]}),e.validate){let u=H9.Buffer.from([]);if(t.address){if(o&&o.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==Gxe)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");u=r().data}if(t.pubkey){if(u.length>0&&!u.equals(t.pubkey))throw new TypeError("Pubkey mismatch");u=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==Wxe.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(u.length>0&&!u.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");u=t.output.slice(2)}if(t.internalPubkey){let x=(0,Ac.tweakKey)(t.internalPubkey,s.hash);if(u.length>0&&!u.equals(x.x))throw new TypeError("Pubkey mismatch");u=x.x}if(u&&u.length&&!(0,zxe.getEccLib)().isXOnlyPoint(u))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let x=(0,Ac.tapleafHash)({output:t.redeem.output,version:s.redeemVersion});if(!(0,Ac.findScriptPath)(l,x))throw new TypeError("Redeem script not in tree")}let m=n();if(t.redeem&&s.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(VW.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!t.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&s.redeem.witness&&!lut(t.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(m&&m.length)if(m.length===1){if(t.signature&&!t.signature.equals(m[0]))throw new TypeError("Signature mismatch")}else{let x=m[m.length-1];if(x.length<33)throw new TypeError(`The control-block length is too small. Got ${x.length}, expected min 33.`);if((x.length-33)%32!==0)throw new TypeError(`The control-block length of ${x.length} is incorrect!`);let w=(x.length-33)/32;if(w>128)throw new TypeError(`The script path is too long. Got ${w}, expected max 128.`);let E=x.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(E))throw new TypeError("Internal pubkey mismatch");if(!(0,zxe.getEccLib)().isXOnlyPoint(E))throw new TypeError("Invalid internalPubkey for p2tr witness");let I=x[0]&Br.TAPLEAF_VERSION_MASK,M=m[m.length-2],k=(0,Ac.tapleafHash)({output:M,version:I}),C=(0,Ac.rootHashFromPath)(x,k),R=(0,Ac.tweakKey)(E,C);if(!R)throw new TypeError("Invalid outputKey for p2tr witness");if(u.length&&!u.equals(R.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(R.parity!==(x[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,t)}z9.p2tr=fut;function lut(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var U2=q(fs=>{"use strict";d();h();Object.defineProperty(fs,"__esModule",{value:!0});fs.p2tr=fs.p2wsh=fs.p2wpkh=fs.p2sh=fs.p2pkh=fs.p2pk=fs.p2ms=fs.embed=void 0;var dut=pxe();Object.defineProperty(fs,"embed",{enumerable:!0,get:function(){return dut.p2data}});var hut=yxe();Object.defineProperty(fs,"p2ms",{enumerable:!0,get:function(){return hut.p2ms}});var put=bxe();Object.defineProperty(fs,"p2pk",{enumerable:!0,get:function(){return put.p2pk}});var mut=Ixe();Object.defineProperty(fs,"p2pkh",{enumerable:!0,get:function(){return mut.p2pkh}});var yut=Pxe();Object.defineProperty(fs,"p2sh",{enumerable:!0,get:function(){return yut.p2sh}});var gut=Cxe();Object.defineProperty(fs,"p2wpkh",{enumerable:!0,get:function(){return gut.p2wpkh}});var but=Dxe();Object.defineProperty(fs,"p2wsh",{enumerable:!0,get:function(){return but.p2wsh}});var vut=$xe();Object.defineProperty(fs,"p2tr",{enumerable:!0,get:function(){return vut.p2tr}})});var HW=q(Ec=>{"use strict";d();h();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.toOutputScript=Ec.fromOutputScript=Ec.toBech32=Ec.toBase58Check=Ec.fromBech32=Ec.fromBase58Check=void 0;var Yxe=xf(),Jd=U2(),Zxe=za(),W9=Rs(),L2=t1(),Qxe=S2(),Jxe=40,Xxe=2,ewe=16,twe=2,rwe=80,nwe="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function xut(t,e){let r=t.slice(2);if(r.length<Xxe||r.length>Jxe)throw new TypeError("Invalid program length for segwit address");let n=t[0]-rwe;if(n<twe||n>ewe)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(nwe),swe(r,n,e.bech32)}function iwe(t){let e=Buffer.from(Qxe.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}Ec.fromBase58Check=iwe;function owe(t){let e,r;try{e=L2.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=L2.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=L2.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}Ec.fromBech32=owe;function wut(t,e){(0,W9.typeforce)((0,W9.tuple)(W9.Hash160bit,W9.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),Qxe.encode(r)}Ec.toBase58Check=wut;function swe(t,e,r){let n=L2.bech32.toWords(t);return n.unshift(e),e===0?L2.bech32.encode(r,n):L2.bech32m.encode(r,n)}Ec.toBech32=swe;function Sut(t,e){e=e||Yxe.bitcoin;try{return Jd.p2pkh({output:t,network:e}).address}catch{}try{return Jd.p2sh({output:t,network:e}).address}catch{}try{return Jd.p2wpkh({output:t,network:e}).address}catch{}try{return Jd.p2wsh({output:t,network:e}).address}catch{}try{return Jd.p2tr({output:t,network:e}).address}catch{}try{return xut(t,e)}catch{}throw new Error(Zxe.toASM(t)+" has no matching Address")}Ec.fromOutputScript=Sut;function Aut(t,e){e=e||Yxe.bitcoin;let r,n;try{r=iwe(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Jd.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Jd.p2sh({hash:r.hash}).output}else{try{n=owe(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Jd.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Jd.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Jd.p2tr({pubkey:n.data}).output}else if(n.version>=twe&&n.version<=ewe&&n.data.length>=Xxe&&n.data.length<=Jxe)return console.warn(nwe),Zxe.compile([n.version+rwe,n.data])}}throw new Error(t+" has no matching Script")}Ec.toOutputScript=Aut});var awe=q(G9=>{"use strict";d();h();Object.defineProperty(G9,"__esModule",{value:!0});G9.fastMerkleRoot=void 0;function Eut(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let o=0;o<r;o+=2,++i){let s=n[o],u=o+1===r?s:n[o+1],l=Buffer.concat([s,u]);n[i]=e(l)}r=i}return n[0]}G9.fastMerkleRoot=Eut});var F2=q($9=>{"use strict";d();h();Object.defineProperty($9,"__esModule",{value:!0});$9.Transaction=void 0;var{Buffer:ya}=Dn(),So=E_(),$a=Yd(),cwe=za(),_ut=za(),fn=Rs(),{typeforce:Xd}=fn;function eh(t){let e=t.length;return So.varuint.encodingLength(e)+e}function Tut(t){let e=t.length;return So.varuint.encodingLength(e)+t.reduce((r,n)=>r+eh(n),0)}var Ay=ya.allocUnsafe(0),uwe=[],jW=ya.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),fwe=ya.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Iut=ya.from("ffffffffffffffff","hex"),Mut={script:Ay,valueBuffer:Iut};function kut(t){return t.value!==void 0}var hu=class t{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new So.BufferReader(e),i=new t;i.version=n.readInt32();let o=n.readUInt8(),s=n.readUInt8(),u=!1;o===t.ADVANCED_TRANSACTION_MARKER&&s===t.ADVANCED_TRANSACTION_FLAG?u=!0:n.offset-=2;let l=n.readVarInt();for(let x=0;x<l;++x)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:uwe});let m=n.readVarInt();for(let x=0;x<m;++x)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(u){for(let x=0;x<l;++x)i.ins[x].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(ya.from(e,"hex"),!1)}static isCoinbaseHash(e){Xd(fn.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return Xd(fn.tuple(fn.Hash256bit,fn.UInt32,fn.maybe(fn.UInt32),fn.maybe(fn.Buffer)),arguments),fn.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Ay,sequence:n,witness:uwe})-1}addOutput(e,r){return Xd(fn.tuple(fn.Buffer,fn.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+So.varuint.encodingLength(this.ins.length)+So.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+eh(i.script),0)+this.outs.reduce((n,i)=>n+8+eh(i.script),0)+(r?this.ins.reduce((n,i)=>n+Tut(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Xd(fn.tuple(fn.UInt32,fn.Buffer,fn.Number),arguments),e>=this.ins.length)return fwe;let i=cwe.compile(cwe.decompile(r).filter(u=>u!==_ut.OPS.OP_CODESEPARATOR)),o=this.clone();if((n&31)===t.SIGHASH_NONE)o.outs=[],o.ins.forEach((u,l)=>{l!==e&&(u.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return fwe;o.outs.length=e+1;for(let u=0;u<e;u++)o.outs[u]=Mut;o.ins.forEach((u,l)=>{l!==e&&(u.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=i):(o.ins.forEach(u=>{u.script=Ay}),o.ins[e].script=i);let s=ya.allocUnsafe(o.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),o.__toBuffer(s,0,!1),$a.hash256(s)}hashForWitnessV1(e,r,n,i,o,s){if(Xd(fn.tuple(fn.UInt32,Xd.arrayOf(fn.Buffer),Xd.arrayOf(fn.Satoshi),fn.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let u=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,m=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,x=u===t.SIGHASH_NONE,w=u===t.SIGHASH_SINGLE,E=Ay,I=Ay,M=Ay,k=Ay,C=Ay;if(!m){let K=So.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(V=>{K.writeSlice(V.hash),K.writeUInt32(V.index)}),E=$a.sha256(K.end()),K=So.BufferWriter.withCapacity(8*this.ins.length),n.forEach(V=>K.writeUInt64(V)),I=$a.sha256(K.end()),K=So.BufferWriter.withCapacity(r.map(eh).reduce((V,j)=>V+j)),r.forEach(V=>K.writeVarSlice(V)),M=$a.sha256(K.end()),K=So.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(V=>K.writeUInt32(V.sequence)),k=$a.sha256(K.end())}if(x||w){if(w&&e<this.outs.length){let K=this.outs[e],V=So.BufferWriter.withCapacity(8+eh(K.script));V.writeUInt64(K.value),V.writeVarSlice(K.script),C=$a.sha256(V.end())}}else{let K=this.outs.map(j=>8+eh(j.script)).reduce((j,ne)=>j+ne),V=So.BufferWriter.withCapacity(K);this.outs.forEach(j=>{V.writeUInt64(j.value),V.writeVarSlice(j.script)}),C=$a.sha256(V.end())}let R=(o?2:0)+(s?1:0),L=174-(m?49:0)-(x?32:0)+(s?32:0)+(o?37:0),P=So.BufferWriter.withCapacity(L);if(P.writeUInt8(i),P.writeInt32(this.version),P.writeUInt32(this.locktime),P.writeSlice(E),P.writeSlice(I),P.writeSlice(M),P.writeSlice(k),x||w||P.writeSlice(C),P.writeUInt8(R),m){let K=this.ins[e];P.writeSlice(K.hash),P.writeUInt32(K.index),P.writeUInt64(n[e]),P.writeVarSlice(r[e]),P.writeUInt32(K.sequence)}else P.writeUInt32(e);if(s){let K=So.BufferWriter.withCapacity(eh(s));K.writeVarSlice(s),P.writeSlice($a.sha256(K.end()))}return w&&P.writeSlice(C),o&&(P.writeSlice(o),P.writeUInt8(0),P.writeUInt32(4294967295)),$a.taggedHash("TapSighash",ya.concat([ya.from([0]),P.end()]))}hashForWitnessV0(e,r,n,i){Xd(fn.tuple(fn.UInt32,fn.Buffer,fn.Satoshi,fn.UInt32),arguments);let o=ya.from([]),s,u=jW,l=jW,m=jW;if(i&t.SIGHASH_ANYONECANPAY||(o=ya.allocUnsafe(36*this.ins.length),s=new So.BufferWriter(o,0),this.ins.forEach(w=>{s.writeSlice(w.hash),s.writeUInt32(w.index)}),l=$a.hash256(o)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(o=ya.allocUnsafe(4*this.ins.length),s=new So.BufferWriter(o,0),this.ins.forEach(w=>{s.writeUInt32(w.sequence)}),m=$a.hash256(o)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let w=this.outs.reduce((E,I)=>E+8+eh(I.script),0);o=ya.allocUnsafe(w),s=new So.BufferWriter(o,0),this.outs.forEach(E=>{s.writeUInt64(E.value),s.writeVarSlice(E.script)}),u=$a.hash256(o)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let w=this.outs[e];o=ya.allocUnsafe(8+eh(w.script)),s=new So.BufferWriter(o,0),s.writeUInt64(w.value),s.writeVarSlice(w.script),u=$a.hash256(o)}o=ya.allocUnsafe(156+eh(r)),s=new So.BufferWriter(o,0);let x=this.ins[e];return s.writeInt32(this.version),s.writeSlice(l),s.writeSlice(m),s.writeSlice(x.hash),s.writeUInt32(x.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(x.sequence),s.writeSlice(u),s.writeUInt32(this.locktime),s.writeUInt32(i),$a.hash256(o)}getHash(e){return e&&this.isCoinbase()?ya.alloc(32,0):$a.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,So.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Xd(fn.tuple(fn.Number,fn.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Xd(fn.tuple(fn.Number,[fn.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=ya.allocUnsafe(this.byteLength(n)));let i=new So.BufferWriter(e,r||0);i.writeInt32(this.version);let o=n&&this.hasWitnesses();return o&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(s=>{i.writeSlice(s.hash),i.writeUInt32(s.index),i.writeVarSlice(s.script),i.writeUInt32(s.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(s=>{kut(s)?i.writeUInt64(s.value):i.writeSlice(s.valueBuffer),i.writeVarSlice(s.script)}),o&&this.ins.forEach(s=>{i.writeVector(s.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};$9.Transaction=hu;hu.DEFAULT_SEQUENCE=4294967295;hu.SIGHASH_DEFAULT=0;hu.SIGHASH_ALL=1;hu.SIGHASH_NONE=2;hu.SIGHASH_SINGLE=3;hu.SIGHASH_ANYONECANPAY=128;hu.SIGHASH_OUTPUT_MASK=3;hu.SIGHASH_INPUT_MASK=128;hu.ADVANCED_TRANSACTION_MARKER=0;hu.ADVANCED_TRANSACTION_FLAG=1});var pwe=q(Y9=>{"use strict";d();h();Object.defineProperty(Y9,"__esModule",{value:!0});Y9.Block=void 0;var u1=E_(),zW=Yd(),Put=awe(),Rut=F2(),hwe=Rs(),{typeforce:Cut}=hwe,WW=new TypeError("Cannot compute merkle root for zero transactions"),lwe=new TypeError("Cannot compute witness commit for non-segwit block"),GW=class t{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new u1.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=()=>{let u=Rut.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=u.byteLength(),u},o=r.readVarInt();n.transactions=[];for(let u=0;u<o;++u){let l=i();n.transactions.push(l)}let s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(Cut([{getHash:hwe.Function}],e),e.length===0)throw WW;if(r&&!dwe(e))throw lwe;let n=e.map(o=>o.getHash(r)),i=(0,Put.fastMerkleRoot)(n,zW.hash256);return r?zW.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!dwe(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return But(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+u1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return zW.hash256(this.toBuffer(!0))}getId(){return(0,u1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new u1.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(u1.varuint.encode(this.transactions.length,r,n.offset),n.offset+=u1.varuint.encode.bytes,this.transactions.forEach(i=>{let o=i.byteLength();i.toBuffer(r,n.offset),n.offset+=o})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,u1.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw WW;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw WW;if(!this.hasWitnessCommit())throw lwe;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};Y9.Block=GW;function dwe(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function But(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var ls=q(Pl=>{"use strict";d();h();Object.defineProperty(Pl,"__esModule",{value:!0});var Out;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Out=Pl.GlobalTypes||(Pl.GlobalTypes={}));Pl.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Dut;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Dut=Pl.InputTypes||(Pl.InputTypes={}));Pl.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var Nut;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(Nut=Pl.OutputTypes||(Pl.OutputTypes={}));Pl.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var ywe=q(f1=>{"use strict";d();h();Object.defineProperty(f1,"__esModule",{value:!0});var mwe=ls(),Uut=t=>[...Array(t).keys()];function Lut(t){if(t.key[0]!==mwe.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of Uut(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),o=!!(i&2147483648),s=i&2147483647;r.path+="/"+s.toString(10)+(o?"'":"")}return r}f1.decode=Lut;function Fut(t){let e=Buffer.from([mwe.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach(s=>{let u=s.slice(-1)==="'",l=2147483647&parseInt(u?s.slice(0,-1):s,10);u&&(l+=2147483648),i.writeUInt32LE(l,o),o+=4}),{key:r,value:i}}f1.encode=Fut;f1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Kut(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}f1.check=Kut;function qut(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}f1.canAddToArray=qut});var gwe=q($W=>{"use strict";d();h();Object.defineProperty($W,"__esModule",{value:!0});var Vut=ls();function Hut(t){return{key:Buffer.from([Vut.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}$W.encode=Hut});var vwe=q(l1=>{"use strict";d();h();Object.defineProperty(l1,"__esModule",{value:!0});var bwe=ls();function jut(t){if(t.key[0]!==bwe.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}l1.decode=jut;function zut(t){return{key:Buffer.from([bwe.InputTypes.FINAL_SCRIPTSIG]),value:t}}l1.encode=zut;l1.expected="Buffer";function Wut(t){return Buffer.isBuffer(t)}l1.check=Wut;function Gut(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}l1.canAdd=Gut});var wwe=q(d1=>{"use strict";d();h();Object.defineProperty(d1,"__esModule",{value:!0});var xwe=ls();function $ut(t){if(t.key[0]!==xwe.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}d1.decode=$ut;function Yut(t){return{key:Buffer.from([xwe.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}d1.encode=Yut;d1.expected="Buffer";function Zut(t){return Buffer.isBuffer(t)}d1.check=Zut;function Qut(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}d1.canAdd=Qut});var Awe=q(h1=>{"use strict";d();h();Object.defineProperty(h1,"__esModule",{value:!0});var Swe=ls();function Jut(t){if(t.key[0]!==Swe.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}h1.decode=Jut;function Xut(t){return{key:Buffer.from([Swe.InputTypes.NON_WITNESS_UTXO]),value:t}}h1.encode=Xut;h1.expected="Buffer";function eft(t){return Buffer.isBuffer(t)}h1.check=eft;function tft(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}h1.canAdd=tft});var _we=q(p1=>{"use strict";d();h();Object.defineProperty(p1,"__esModule",{value:!0});var Ewe=ls();function rft(t){if(t.key[0]!==Ewe.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}p1.decode=rft;function nft(t){let e=Buffer.from([Ewe.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}p1.encode=nft;p1.expected="{ pubkey: Buffer; signature: Buffer; }";function ift(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&oft(t.signature)}p1.check=ift;function oft(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function sft(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}p1.canAddToArray=sft});var Iwe=q(m1=>{"use strict";d();h();Object.defineProperty(m1,"__esModule",{value:!0});var Twe=ls();function aft(t){if(t.key[0]!==Twe.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}m1.decode=aft;function cft(t){return{key:Buffer.from([Twe.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}m1.encode=cft;m1.expected="string";function uft(t){return typeof t=="string"}m1.check=uft;function fft(t,e){return!!t&&!!e&&t.porCommitment===void 0}m1.canAdd=fft});var kwe=q(y1=>{"use strict";d();h();Object.defineProperty(y1,"__esModule",{value:!0});var Mwe=ls();function lft(t){if(t.key[0]!==Mwe.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}y1.decode=lft;function dft(t){let e=Buffer.from([Mwe.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}y1.encode=dft;y1.expected="number";function hft(t){return typeof t=="number"}y1.check=hft;function pft(t,e){return!!t&&!!e&&t.sighashType===void 0}y1.canAdd=pft});var Cwe=q(g1=>{"use strict";d();h();Object.defineProperty(g1,"__esModule",{value:!0});var Pwe=ls();function mft(t){if(t.key[0]!==Pwe.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!Rwe(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}g1.decode=mft;function yft(t){return{key:Buffer.from([Pwe.InputTypes.TAP_KEY_SIG]),value:t}}g1.encode=yft;g1.expected="Buffer";function Rwe(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}g1.check=Rwe;function gft(t,e){return!!t&&!!e&&t.tapKeySig===void 0}g1.canAdd=gft});var Owe=q(b1=>{"use strict";d();h();Object.defineProperty(b1,"__esModule",{value:!0});var Bwe=ls();function bft(t){if(t.key[0]!==Bwe.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}b1.decode=bft;function vft(t){let e=Buffer.from([Bwe.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}b1.encode=vft;b1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function xft(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}b1.check=xft;function wft(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}b1.canAddToArray=wft});var Uwe=q(v1=>{"use strict";d();h();Object.defineProperty(v1,"__esModule",{value:!0});var Dwe=ls();function Sft(t){if(t.key[0]!==Dwe.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!Nwe(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}v1.decode=Sft;function Aft(t){return{key:Buffer.from([Dwe.InputTypes.TAP_MERKLE_ROOT]),value:t}}v1.encode=Aft;v1.expected="Buffer";function Nwe(t){return Buffer.isBuffer(t)&&t.length===32}v1.check=Nwe;function Eft(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}v1.canAdd=Eft});var Fwe=q(x1=>{"use strict";d();h();Object.defineProperty(x1,"__esModule",{value:!0});var Lwe=ls();function _ft(t){if(t.key[0]!==Lwe.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}x1.decode=_ft;function Tft(t){let e=Buffer.from([Lwe.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}x1.encode=Tft;x1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Ift(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}x1.check=Ift;function Mft(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}x1.canAddToArray=Mft});var Ey=q(I_=>{"use strict";d();h();Object.defineProperty(I_,"__esModule",{value:!0});var kft=9007199254740991;function YW(t){if(t<0||t>kft||t%1!==0)throw new RangeError("value out of range")}function __(t,e,r){if(YW(t),e||(e=Buffer.allocUnsafe(Kwe(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(__,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(__,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(__,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(__,{bytes:9})),e}I_.encode=__;function T_(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(T_,{bytes:1}),r;if(r===253)return Object.assign(T_,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(T_,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(T_,{bytes:9});let n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5)*4294967296+n;return YW(o),o}}I_.decode=T_;function Kwe(t){return YW(t),t<253?1:t<=65535?3:t<=4294967295?5:9}I_.encodingLength=Kwe});var Q9=q(_y=>{"use strict";d();h();Object.defineProperty(_y,"__esModule",{value:!0});var Z9=Ey();_y.range=t=>[...Array(t).keys()];function Pft(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}_y.reverseBuffer=Pft;function Rft(t){let e=t.map(qwe);return e.push(Buffer.from([0])),Buffer.concat(e)}_y.keyValsToBuffer=Rft;function qwe(t){let e=t.key.length,r=t.value.length,n=Z9.encodingLength(e),i=Z9.encodingLength(r),o=Buffer.allocUnsafe(n+e+i+r);return Z9.encode(e,o,0),t.key.copy(o,n),Z9.encode(r,o,n+e),t.value.copy(o,n+e+i),o}_y.keyValToBuffer=qwe;function Vwe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function Cft(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Vwe(n+r,9007199254740991),n+r}_y.readUInt64LE=Cft;function Bft(t,e,r){return Vwe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}_y.writeUInt64LE=Bft});var zwe=q(w1=>{"use strict";d();h();Object.defineProperty(w1,"__esModule",{value:!0});var Hwe=ls(),jwe=Q9(),J9=Ey();function Oft(t){if(t.key[0]!==Hwe.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=jwe.readUInt64LE(t.value,0),r=8,n=J9.decode(t.value,r);r+=J9.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}w1.decode=Oft;function Dft(t){let{script:e,value:r}=t,n=J9.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return jwe.writeUInt64LE(i,r,0),J9.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([Hwe.InputTypes.WITNESS_UTXO]),value:i}}w1.encode=Dft;w1.expected="{ script: Buffer; value: number; }";function Nft(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}w1.check=Nft;function Uft(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}w1.canAdd=Uft});var Gwe=q(S1=>{"use strict";d();h();Object.defineProperty(S1,"__esModule",{value:!0});var Wwe=ls(),ZW=Ey();function Lft(t){if(t.key[0]!==Wwe.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],o=ZW.decode(t.value,e);e+=ZW.encodingLength(o),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+o)}),e+=o}return{leaves:r}}S1.decode=Lft;function Fft(t){let e=Buffer.from([Wwe.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),ZW.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}S1.encode=Fft;S1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function Kft(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}S1.check=Kft;function qft(t,e){return!!t&&!!e&&t.tapTree===void 0}S1.canAdd=qft});var JW=q(QW=>{"use strict";d();h();Object.defineProperty(QW,"__esModule",{value:!0});var Vft=t=>[...Array(t).keys()],Hft=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function jft(t,e=Hft){function r(u){if(u.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+u.key.toString("hex"));let l=u.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+u.key.toString("hex"));if(u.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let m={masterFingerprint:u.value.slice(0,4),pubkey:l,path:"m"};for(let x of Vft(u.value.length/4-1)){let w=u.value.readUInt32LE(x*4+4),E=!!(w&2147483648),I=w&2147483647;m.path+="/"+I.toString(10)+(E?"'":"")}return m}function n(u){let l=Buffer.from([t]),m=Buffer.concat([l,u.pubkey]),x=u.path.split("/"),w=Buffer.allocUnsafe(x.length*4);u.masterFingerprint.copy(w,0);let E=4;return x.slice(1).forEach(I=>{let M=I.slice(-1)==="'",k=2147483647&parseInt(M?I.slice(0,-1):I,10);M&&(k+=2147483648),w.writeUInt32LE(k,E),E+=4}),{key:m,value:w}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function o(u){return Buffer.isBuffer(u.pubkey)&&Buffer.isBuffer(u.masterFingerprint)&&typeof u.path=="string"&&e(u.pubkey)&&u.masterFingerprint.length===4}function s(u,l,m){let x=l.pubkey.toString("hex");return m.has(x)?!1:(m.add(x),u.filter(w=>w.pubkey.equals(l.pubkey)).length===0)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:s}}QW.makeConverter=jft});var $we=q(XW=>{"use strict";d();h();Object.defineProperty(XW,"__esModule",{value:!0});function zft(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}XW.makeChecker=zft});var Ywe=q(eG=>{"use strict";d();h();Object.defineProperty(eG,"__esModule",{value:!0});function Wft(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,u){return!!s&&!!u&&s.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}eG.makeConverter=Wft});var Zwe=q(tG=>{"use strict";d();h();Object.defineProperty(tG,"__esModule",{value:!0});var X9=Ey(),Gft=JW(),$ft=t=>t.length===32;function Yft(t){let e=Gft.makeConverter(t,$ft);function r(s){let u=X9.decode(s.value),l=X9.encodingLength(u),m=e.decode({key:s.key,value:s.value.slice(l+u*32)}),x=new Array(u);for(let w=0,E=l;w<u;w++,E+=32)x[w]=s.value.slice(E,E+32);return Object.assign({},m,{leafHashes:x})}function n(s){let u=e.encode(s),l=X9.encodingLength(s.leafHashes.length),m=Buffer.allocUnsafe(l);X9.encode(s.leafHashes.length,m);let x=Buffer.concat([m,...s.leafHashes,u.value]);return Object.assign({},u,{value:x})}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function o(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(u=>Buffer.isBuffer(u)&&u.length===32)&&e.check(s)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:e.canAddToArray}}tG.makeConverter=Yft});var Qwe=q(rG=>{"use strict";d();h();Object.defineProperty(rG,"__esModule",{value:!0});function Zft(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)&&s.length===32}function o(s,u){return!!s&&!!u&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}rG.makeConverter=Zft});var Jwe=q(nG=>{"use strict";d();h();Object.defineProperty(nG,"__esModule",{value:!0});function Qft(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,u){return!!s&&!!u&&s.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}nG.makeConverter=Qft});var eR=q(M_=>{"use strict";d();h();Object.defineProperty(M_,"__esModule",{value:!0});var pu=ls(),Jft=ywe(),Xft=gwe(),elt=vwe(),tlt=wwe(),rlt=Awe(),nlt=_we(),ilt=Iwe(),olt=kwe(),slt=Cwe(),alt=Owe(),clt=Uwe(),ult=Fwe(),flt=zwe(),llt=Gwe(),Xwe=JW(),iG=$we(),e2e=Ywe(),t2e=Zwe(),r2e=Qwe(),n2e=Jwe(),dlt={unsignedTx:Xft,globalXpub:Jft,checkPubkey:iG.makeChecker([])};M_.globals=dlt;var hlt={nonWitnessUtxo:rlt,partialSig:nlt,sighashType:olt,finalScriptSig:elt,finalScriptWitness:tlt,porCommitment:ilt,witnessUtxo:flt,bip32Derivation:Xwe.makeConverter(pu.InputTypes.BIP32_DERIVATION),redeemScript:e2e.makeConverter(pu.InputTypes.REDEEM_SCRIPT),witnessScript:n2e.makeConverter(pu.InputTypes.WITNESS_SCRIPT),checkPubkey:iG.makeChecker([pu.InputTypes.PARTIAL_SIG,pu.InputTypes.BIP32_DERIVATION]),tapKeySig:slt,tapScriptSig:ult,tapLeafScript:alt,tapBip32Derivation:t2e.makeConverter(pu.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:r2e.makeConverter(pu.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:clt};M_.inputs=hlt;var plt={bip32Derivation:Xwe.makeConverter(pu.OutputTypes.BIP32_DERIVATION),redeemScript:e2e.makeConverter(pu.OutputTypes.REDEEM_SCRIPT),witnessScript:n2e.makeConverter(pu.OutputTypes.WITNESS_SCRIPT),checkPubkey:iG.makeChecker([pu.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:t2e.makeConverter(pu.OutputTypes.TAP_BIP32_DERIVATION),tapTree:llt,tapInternalKey:r2e.makeConverter(pu.OutputTypes.TAP_INTERNAL_KEY)};M_.outputs=plt});var s2e=q(k_=>{"use strict";d();h();Object.defineProperty(k_,"__esModule",{value:!0});var gi=eR(),tR=Q9(),i2e=Ey(),dr=ls();function mlt(t,e){let r=0;function n(){let C=i2e.decode(t,r);r+=i2e.encodingLength(C);let R=t.slice(r,r+C);return r+=C,R}function i(){let C=t.readUInt32BE(r);return r+=4,C}function o(){let C=t.readUInt8(r);return r+=1,C}function s(){let C=n(),R=n();return{key:C,value:R}}function u(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let C=t.readUInt8(r)===0;return C&&r++,C}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],m={};for(;!u();){let C=s(),R=C.key.toString("hex");if(m[R])throw new Error("Format Error: Keys must be unique for global keymap: key "+R);m[R]=1,l.push(C)}let x=l.filter(C=>C.key[0]===dr.GlobalTypes.UNSIGNED_TX);if(x.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let w=e(x[0].value),{inputCount:E,outputCount:I}=w.getInputOutputCounts(),M=[],k=[];for(let C of tR.range(E)){let R={},L=[];for(;!u();){let P=s(),K=P.key.toString("hex");if(R[K])throw new Error("Format Error: Keys must be unique for each input: input index "+C+" key "+K);R[K]=1,L.push(P)}M.push(L)}for(let C of tR.range(I)){let R={},L=[];for(;!u();){let P=s(),K=P.key.toString("hex");if(R[K])throw new Error("Format Error: Keys must be unique for each output: output index "+C+" key "+K);R[K]=1,L.push(P)}k.push(L)}return o2e(w,{globalMapKeyVals:l,inputKeyVals:M,outputKeyVals:k})}k_.psbtFromBuffer=mlt;function Cs(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}k_.checkKeyBuffer=Cs;function o2e(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},o=0;for(let x of e)switch(x.key[0]){case dr.GlobalTypes.UNSIGNED_TX:if(Cs("global",x.key,dr.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case dr.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(gi.globals.globalXpub.decode(x));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(x)}let s=r.length,u=n.length,l=[],m=[];for(let x of tR.range(s)){let w={};for(let E of r[x])switch(gi.inputs.checkPubkey(E),E.key[0]){case dr.InputTypes.NON_WITNESS_UTXO:if(Cs("input",E.key,dr.InputTypes.NON_WITNESS_UTXO),w.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");w.nonWitnessUtxo=gi.inputs.nonWitnessUtxo.decode(E);break;case dr.InputTypes.WITNESS_UTXO:if(Cs("input",E.key,dr.InputTypes.WITNESS_UTXO),w.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");w.witnessUtxo=gi.inputs.witnessUtxo.decode(E);break;case dr.InputTypes.PARTIAL_SIG:w.partialSig===void 0&&(w.partialSig=[]),w.partialSig.push(gi.inputs.partialSig.decode(E));break;case dr.InputTypes.SIGHASH_TYPE:if(Cs("input",E.key,dr.InputTypes.SIGHASH_TYPE),w.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");w.sighashType=gi.inputs.sighashType.decode(E);break;case dr.InputTypes.REDEEM_SCRIPT:if(Cs("input",E.key,dr.InputTypes.REDEEM_SCRIPT),w.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");w.redeemScript=gi.inputs.redeemScript.decode(E);break;case dr.InputTypes.WITNESS_SCRIPT:if(Cs("input",E.key,dr.InputTypes.WITNESS_SCRIPT),w.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");w.witnessScript=gi.inputs.witnessScript.decode(E);break;case dr.InputTypes.BIP32_DERIVATION:w.bip32Derivation===void 0&&(w.bip32Derivation=[]),w.bip32Derivation.push(gi.inputs.bip32Derivation.decode(E));break;case dr.InputTypes.FINAL_SCRIPTSIG:Cs("input",E.key,dr.InputTypes.FINAL_SCRIPTSIG),w.finalScriptSig=gi.inputs.finalScriptSig.decode(E);break;case dr.InputTypes.FINAL_SCRIPTWITNESS:Cs("input",E.key,dr.InputTypes.FINAL_SCRIPTWITNESS),w.finalScriptWitness=gi.inputs.finalScriptWitness.decode(E);break;case dr.InputTypes.POR_COMMITMENT:Cs("input",E.key,dr.InputTypes.POR_COMMITMENT),w.porCommitment=gi.inputs.porCommitment.decode(E);break;case dr.InputTypes.TAP_KEY_SIG:Cs("input",E.key,dr.InputTypes.TAP_KEY_SIG),w.tapKeySig=gi.inputs.tapKeySig.decode(E);break;case dr.InputTypes.TAP_SCRIPT_SIG:w.tapScriptSig===void 0&&(w.tapScriptSig=[]),w.tapScriptSig.push(gi.inputs.tapScriptSig.decode(E));break;case dr.InputTypes.TAP_LEAF_SCRIPT:w.tapLeafScript===void 0&&(w.tapLeafScript=[]),w.tapLeafScript.push(gi.inputs.tapLeafScript.decode(E));break;case dr.InputTypes.TAP_BIP32_DERIVATION:w.tapBip32Derivation===void 0&&(w.tapBip32Derivation=[]),w.tapBip32Derivation.push(gi.inputs.tapBip32Derivation.decode(E));break;case dr.InputTypes.TAP_INTERNAL_KEY:Cs("input",E.key,dr.InputTypes.TAP_INTERNAL_KEY),w.tapInternalKey=gi.inputs.tapInternalKey.decode(E);break;case dr.InputTypes.TAP_MERKLE_ROOT:Cs("input",E.key,dr.InputTypes.TAP_MERKLE_ROOT),w.tapMerkleRoot=gi.inputs.tapMerkleRoot.decode(E);break;default:w.unknownKeyVals||(w.unknownKeyVals=[]),w.unknownKeyVals.push(E)}l.push(w)}for(let x of tR.range(u)){let w={};for(let E of n[x])switch(gi.outputs.checkPubkey(E),E.key[0]){case dr.OutputTypes.REDEEM_SCRIPT:if(Cs("output",E.key,dr.OutputTypes.REDEEM_SCRIPT),w.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");w.redeemScript=gi.outputs.redeemScript.decode(E);break;case dr.OutputTypes.WITNESS_SCRIPT:if(Cs("output",E.key,dr.OutputTypes.WITNESS_SCRIPT),w.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");w.witnessScript=gi.outputs.witnessScript.decode(E);break;case dr.OutputTypes.BIP32_DERIVATION:w.bip32Derivation===void 0&&(w.bip32Derivation=[]),w.bip32Derivation.push(gi.outputs.bip32Derivation.decode(E));break;case dr.OutputTypes.TAP_INTERNAL_KEY:Cs("output",E.key,dr.OutputTypes.TAP_INTERNAL_KEY),w.tapInternalKey=gi.outputs.tapInternalKey.decode(E);break;case dr.OutputTypes.TAP_TREE:Cs("output",E.key,dr.OutputTypes.TAP_TREE),w.tapTree=gi.outputs.tapTree.decode(E);break;case dr.OutputTypes.TAP_BIP32_DERIVATION:w.tapBip32Derivation===void 0&&(w.tapBip32Derivation=[]),w.tapBip32Derivation.push(gi.outputs.tapBip32Derivation.decode(E));break;default:w.unknownKeyVals||(w.unknownKeyVals=[]),w.unknownKeyVals.push(E)}m.push(w)}return{globalMap:i,inputs:l,outputs:m}}k_.psbtFromKeyVals=o2e});var u2e=q(rR=>{"use strict";d();h();Object.defineProperty(rR,"__esModule",{value:!0});var oG=eR(),a2e=Q9();function ylt({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=c2e({globalMap:t,inputs:e,outputs:r}),s=a2e.keyValsToBuffer(n),u=w=>w.length===0?[Buffer.from([0])]:w.map(a2e.keyValsToBuffer),l=u(i),m=u(o),x=Buffer.allocUnsafe(5);return x.writeUIntBE(482972169471,0,5),Buffer.concat([x,s].concat(l,m))}rR.psbtToBuffer=ylt;var glt=(t,e)=>t.key.compare(e.key);function sG(t,e){let r=new Set,n=Object.entries(t).reduce((o,[s,u])=>{if(s==="unknownKeyVals")return o;let l=e[s];if(l===void 0)return o;let m=(Array.isArray(u)?u:[u]).map(l.encode);return m.map(w=>w.key.toString("hex")).forEach(w=>{if(r.has(w))throw new Error("Serialize Error: Duplicate key: "+w);r.add(w)}),o.concat(m)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(o=>!r.has(o.key.toString("hex"))):[];return n.concat(i).sort(glt)}function c2e({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:sG(t,oG.globals),inputKeyVals:e.map(n=>sG(n,oG.inputs)),outputKeyVals:r.map(n=>sG(n,oG.outputs))}}rR.psbtToKeyVals=c2e});var aG=q(nR=>{"use strict";d();h();function f2e(t){for(var e in t)nR.hasOwnProperty(e)||(nR[e]=t[e])}Object.defineProperty(nR,"__esModule",{value:!0});f2e(s2e());f2e(u2e())});var d2e=q(fG=>{"use strict";d();h();Object.defineProperty(fG,"__esModule",{value:!0});var cG=aG();function blt(t){let e=t[0],r=cG.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=l2e(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let o=K2(r.globalKeyVals),s=r.inputKeyVals.map(K2),u=r.outputKeyVals.map(K2);for(let l of n){let m=l2e(l);if(m===void 0||!m.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let x=cG.psbtToKeyVals(l);K2(x.globalKeyVals).forEach(uG(o,r.globalKeyVals,x.globalKeyVals)),x.inputKeyVals.map(K2).forEach((M,k)=>M.forEach(uG(s[k],r.inputKeyVals[k],x.inputKeyVals[k]))),x.outputKeyVals.map(K2).forEach((M,k)=>M.forEach(uG(u[k],r.outputKeyVals[k],x.outputKeyVals[k])))}return cG.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}fG.combine=blt;function uG(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(o=>o.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function l2e(t){return t.globalMap.unsignedTx}function K2(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var dG=q(ga=>{"use strict";d();h();Object.defineProperty(ga,"__esModule",{value:!0});var vlt=eR();function p2e(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}ga.checkForInput=p2e;function m2e(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}ga.checkForOutput=m2e;function xlt(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}ga.checkHasKey=xlt;function wlt(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}ga.getEnumLength=wlt;function Slt(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,o=!n||!!e.finalScriptSig,s=!i||!!e.finalScriptWitness,u=!!e.finalScriptSig||!!e.finalScriptWitness;r=o&&s&&u}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}ga.inputCheckUncleanFinalized=Slt;function h2e(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function lG(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:o,canAddToArray:s,check:u,expected:l}=vlt[t+"s"][n]||{},m=!!s;if(u)if(m){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(u)||h2e(t,n,l,i);let x=r[n]||[],w=new Set;if(!i.every(E=>s(x,E,w)))throw new Error("Can not add duplicate data to array");r[n]=x.concat(i)}else{if(u(i)||h2e(t,n,l,i),!o(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}ga.updateGlobal=lG("global");ga.updateInput=lG("input");ga.updateOutput=lG("output");function Alt(t,e){let r=t.length-1,n=p2e(t,r);ga.updateInput(e,n)}ga.addInputAttributes=Alt;function Elt(t,e){let r=t.length-1,n=m2e(t,r);ga.updateOutput(e,n)}ga.addOutputAttributes=Elt;function _lt(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}ga.defaultVersionSetter=_lt;function Tlt(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}ga.defaultLocktimeSetter=Tlt});var g2e=q(mG=>{"use strict";d();h();Object.defineProperty(mG,"__esModule",{value:!0});var Ilt=d2e(),y2e=aG(),hG=ls(),Bs=dG(),pG=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=y2e.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return y2e.psbtToBuffer(this)}updateGlobal(e){return Bs.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=Bs.checkForInput(this.inputs,e);return Bs.updateInput(r,n),this}updateOutput(e,r){let n=Bs.checkForOutput(this.outputs,e);return Bs.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return Bs.checkHasKey(e,this.globalMap.unknownKeyVals,Bs.getEnumLength(hG.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=Bs.checkForInput(this.inputs,e);return Bs.checkHasKey(r,n.unknownKeyVals,Bs.getEnumLength(hG.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=Bs.checkForOutput(this.outputs,e);return Bs.checkHasKey(r,n.unknownKeyVals,Bs.getEnumLength(hG.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),Bs.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),Bs.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=Bs.checkForInput(this.inputs,e);Bs.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Ilt.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};mG.Psbt=pG});var oR=q(ci=>{"use strict";d();h();Object.defineProperty(ci,"__esModule",{value:!0});ci.signatureBlocksAction=ci.checkInputForSig=ci.pubkeyInScript=ci.pubkeyPositionInScript=ci.witnessStackToScriptWitness=ci.isP2TR=ci.isP2SHScript=ci.isP2WSHScript=ci.isP2WPKH=ci.isP2PKH=ci.isP2PK=ci.isP2MS=void 0;var b2e=Ey(),P_=za(),iR=F2(),Mlt=Yd(),A1=U2();function E1(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}ci.isP2MS=E1(A1.p2ms);ci.isP2PK=E1(A1.p2pk);ci.isP2PKH=E1(A1.p2pkh);ci.isP2WPKH=E1(A1.p2wpkh);ci.isP2WSHScript=E1(A1.p2wsh);ci.isP2SHScript=E1(A1.p2sh);ci.isP2TR=E1(A1.p2tr);function klt(t){let e=Buffer.allocUnsafe(0);function r(s){e=Buffer.concat([e,Buffer.from(s)])}function n(s){let u=e.length,l=b2e.encodingLength(s);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),b2e.encode(s,e,u)}function i(s){n(s.length),r(s)}function o(s){n(s.length),s.forEach(i)}return o(t),e}ci.witnessStackToScriptWitness=klt;function v2e(t,e){let r=(0,Mlt.hash160)(t),n=t.slice(1,33),i=P_.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(o=>typeof o=="number"?!1:o.equals(t)||o.equals(r)||o.equals(n))}ci.pubkeyPositionInScript=v2e;function Plt(t,e){return v2e(t,e)!==-1}ci.pubkeyInScript=Plt;function Rlt(t,e){return Clt(t).some(n=>x2e(n,P_.signature.decode,e))}ci.checkInputForSig=Rlt;function x2e(t,e,r){let{hashType:n}=e(t),i=[];switch(n&iR.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case iR.Transaction.SIGHASH_ALL:break;case iR.Transaction.SIGHASH_SINGLE:case iR.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}ci.signatureBlocksAction=x2e;function Clt(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=Blt(t)}else e=t.partialSig;return e.map(r=>r.signature)}function Blt(t){let e=t.finalScriptSig?P_.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?P_.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&P_.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var S2e=q(Mi=>{"use strict";d();h();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.checkTaprootInputForSigs=Mi.tapTreeFromList=Mi.tapTreeToList=Mi.tweakInternalPubKey=Mi.checkTaprootOutputFields=Mi.checkTaprootInputFields=Mi.isTaprootOutput=Mi.isTaprootInput=Mi.serializeTaprootSignature=Mi.tapScriptFinalizer=Mi.toXOnly=void 0;var vG=Rs(),Olt=F2(),cR=oR(),Ty=V9(),Dlt=U2(),Nlt=oR(),Ult=t=>t.length===32?t:t.slice(1,33);Mi.toXOnly=Ult;function Llt(t,e,r){let n=rdt(e,t,r);try{let o=edt(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,cR.witnessStackToScriptWitness)(o)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}Mi.tapScriptFinalizer=Llt;function Flt(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}Mi.serializeTaprootSignature=Flt;function sR(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,cR.isP2TR)(t.witnessUtxo.script))}Mi.isTaprootInput=sR;function aR(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,cR.isP2TR)(e))}Mi.isTaprootOutput=aR;function Klt(t,e,r){Qlt(t,e,r),Xlt(t,e,r)}Mi.checkTaprootInputFields=Klt;function qlt(t,e,r){Jlt(t,e,r),Vlt(t,e)}Mi.checkTaprootOutputFields=qlt;function Vlt(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,o=Hlt(r,n);if(i&&!i.equals(o))throw new Error("Error adding output. Script or address missmatch.")}}function Hlt(t,e){let r=e&&w2e(e.leaves),{output:n}=(0,Dlt.p2tr)({internalPubkey:t,scriptTree:r});return n}function jlt(t,e){let r=e.tapInternalKey,n=r&&(0,Ty.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}Mi.tweakInternalPubKey=jlt;function zlt(t){if(!(0,vG.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return gG(t)}Mi.tapTreeToList=zlt;function w2e(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:Zlt(t)}Mi.tapTreeFromList=w2e;function Wlt(t,e){return $lt(t).some(n=>(0,Nlt.signatureBlocksAction)(n,Glt,e))}Mi.checkTaprootInputForSigs=Wlt;function Glt(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||Olt.Transaction.SIGHASH_DEFAULT}}function $lt(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=Ylt(t.finalScriptWitness);r&&e.push(r)}return e}function Ylt(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function gG(t,e=[],r=0){if(r>Ty.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,vG.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Ty.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&gG(t[0],e,r+1),t[1]&&gG(t[1],e,r+1),e):[]}function Zlt(t){let e;for(let r of t)if(e=bG(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function bG(t,e,r=0){if(r>Ty.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,vG.isTapleaf)(e))return;let n=bG(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=bG(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function Qlt(t,e,r){let n=sR(t)&&q2(e),i=q2(t)&&sR(e),o=t===e&&sR(e)&&q2(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Jlt(t,e,r){let n=aR(t)&&q2(e),i=q2(t)&&aR(e),o=t===e&&aR(e)&&q2(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Xlt(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(o=>yG(o,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(o=>yG(o,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>yG(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function yG(t,e){if(!e)return!0;let r=(0,Ty.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Ty.rootHashFromPath)(t.controlBlock,r).equals(e)}function edt(t,e){let r=(0,Ty.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>tdt(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function tdt(t,e){return Object.assign({positionInScript:(0,cR.pubkeyPositionInScript)(e.pubkey,t)},e)}function rdt(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,o)=>i.controlBlock.length-o.controlBlock.length).find(i=>ndt(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function ndt(t,e,r){let n=(0,Ty.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(o=>o.leafHash.equals(n))!==void 0}function q2(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var W2e=q(mR=>{"use strict";d();h();Object.defineProperty(mR,"__esModule",{value:!0});mR.Psbt=void 0;var A2e=g2e(),E2e=Ey(),Ya=dG(),_2e=HW(),fR=E_(),idt=xf(),Af=U2(),odt=V9(),K0=za(),Os=F2(),Ki=S2e(),Ao=oR(),sdt={network:idt.bitcoin,maximumFeeRate:5e3},wG=class t{static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=A2e.Psbt.fromBuffer(e,adt),i=new t(r,n);return ddt(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new A2e.Psbt(new lR)){this.data=r,this.opts=Object.assign({},sdt,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,o,s,u)=>Object.defineProperty(i,o,{enumerable:s,writable:u});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,fR.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,_2e.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,fR.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){uR(e),this.opts.maximumFeeRate=e}setVersion(e){uR(e),R_(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){uR(e),R_(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){uR(r),R_(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Ki.checkTaprootInputFields)(e,e,"addInput"),R_(this.data.inputs,"addInput"),e.witnessScript&&dR(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];N2e(r,n);let i=this.data.inputs.length-1,o=this.data.inputs[i];return o.nonWitnessUtxo&&AG(this.__CACHE,o,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");R_(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,o=(0,_2e.toOutputScript)(r,i);e=Object.assign(e,{script:o})}(0,Ki.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(O2e))throw new Error("Not finalized");let r=this.__CACHE;if(e||udt(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return V2e(this.data.inputs,n,r,!0),n}getFeeRate(){return P2e("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return P2e("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Ya.checkForInput)(this.data.inputs,0),C_(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Ya.checkForInput)(this.data.inputs,e);return(0,Ki.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Ki.tapScriptFinalizer){let i=(0,Ya.checkForInput)(this.data.inputs,e);if((0,Ki.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=hdt){let{script:i,isP2SH:o,isP2WSH:s,isSegwit:u}=gdt(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);fdt(r);let{finalScriptSig:l,finalScriptWitness:m}=n(e,r,i,u,o,s);if(l&&this.data.updateInput(e,{finalScriptSig:l}),m&&this.data.updateInput(e,{finalScriptWitness:m}),!l&&!m)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Ki.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let o=Af.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,Ao.witnessStackToScriptWitness)(o.witness);this.data.updateInput(e,{finalScriptWitness:s})}else{let{finalScriptWitness:o}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:o})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Ya.checkForInput)(this.data.inputs,e),n=H2e(e,r,this.__CACHE),i=pR(n,e,"input",r.redeemScript||Sdt(r.finalScriptSig),r.witnessScript||Adt(r.finalScriptWitness)),o=i.type==="raw"?"":i.type+"-",s=z2e(i.meaningfulScript);return o+s}inputHasPubkey(e,r){let n=(0,Ya.checkForInput)(this.data.inputs,e);return xdt(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Ya.checkForInput)(this.data.inputs,e),i=I2e(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,Ya.checkForOutput)(this.data.outputs,e);return wdt(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Ya.checkForOutput)(this.data.outputs,e),i=I2e(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,Ya.checkForInput)(this.data.inputs,0),C_(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Ki.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).partialSig;if(!i||!o||o.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?o.filter(w=>w.pubkey.equals(n)):o;if(s.length<1)throw new Error("No signatures for this pubkey");let u=[],l,m,x;for(let w of s){let E=K0.signature.decode(w.signature),{hash:I,script:M}=x!==E.hashType?L2e(e,Object.assign({},i,{sighashType:E.hashType}),this.__CACHE,!0):{hash:l,script:m};x=E.hashType,l=I,m=M,D2e(w.pubkey,M,"verify"),u.push(r(w.pubkey,I,E.signature))}return u.every(w=>w===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).tapKeySig,s=(i||{}).tapScriptSig;if(!i&&!o&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Ki.toXOnly)(n);let u=n?SG(e,i,this.data.inputs,n,this.__CACHE):mdt(e,i,this.data.inputs,this.__CACHE);if(!u.length)throw new Error("No signatures for this pubkey");let l=u.find(x=>!x.leafHash),m=0;if(o&&l){if(!r(l.pubkey,l.hash,C2e(o)))return!1;m++}if(s)for(let x of s){let w=u.find(E=>x.pubkey.equals(E.pubkey));if(w){if(!r(x.pubkey,w.hash,C2e(x.signature)))return!1;m++}}return m>0}signAllInputsHD(e,r=[Os.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of C_(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Os.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let o=[],s=[];for(let u of C_(this.data.inputs.length))s.push(this.signInputHDAsync(u,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(u=>u===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Os.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return B2e(e,this.data.inputs,r).forEach(o=>this.signInput(e,o,n)),this}signInputHDAsync(e,r,n=[Os.Transaction.SIGHASH_ALL]){return new Promise((i,o)=>{if(!r||!r.publicKey||!r.fingerprint)return o(new Error("Need HDSigner to sign input"));let u=B2e(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(u).then(()=>{i()}).catch(o)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of C_(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let o=[],s=[];for(let[u]of this.data.inputs.entries())s.push(this.signInputAsync(u,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(u=>u===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Ya.checkForInput)(this.data.inputs,e);return(0,Ki.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,Ya.checkForInput)(this.data.inputs,e);if((0,Ki.isTaprootInput)(o))return this._signTaprootInput(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[Os.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=R2e(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:K0.signature.encode(r.sign(i),o)}];return this.data.updateInput(e,{partialSig:s}),this}_signTaprootInput(e,r,n,i,o=[Os.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),u=s.filter(m=>!m.leafHash).map(m=>(0,Ki.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType))[0],l=s.filter(m=>!!m.leafHash).map(m=>({pubkey:(0,Ki.toXOnly)(n.publicKey),signature:(0,Ki.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType),leafHash:m.leafHash}));return u&&this.data.updateInput(e,{tapKeySig:u}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Ya.checkForInput)(this.data.inputs,e);return(0,Ki.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,Ya.checkForInput)(this.data.inputs,e);if((0,Ki.isTaprootInput)(o))return this._signTaprootInputAsync(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Os.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=R2e(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(s=>{let u=[{pubkey:r.publicKey,signature:K0.signature.encode(s,o)}];this.data.updateInput(e,{partialSig:u})})}async _signTaprootInputAsync(e,r,n,i,o=[Os.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),u=[],l=s.filter(x=>!x.leafHash)[0];if(l){let x=Promise.resolve(n.signSchnorr(l.hash)).then(w=>({tapKeySig:(0,Ki.serializeTaprootSignature)(w,r.sighashType)}));u.push(x)}let m=s.filter(x=>!!x.leafHash);if(m.length){let x=m.map(w=>Promise.resolve(n.signSchnorr(w.hash)).then(E=>({tapScriptSig:[{pubkey:(0,Ki.toXOnly)(n.publicKey),signature:(0,Ki.serializeTaprootSignature)(E,r.sighashType),leafHash:w.leafHash}]})));u.push(...x)}return Promise.all(u).then(x=>{x.forEach(w=>this.data.updateInput(e,w))})}checkTaprootHashesForSig(e,r,n,i,o){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let s=SG(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,o);if(!s||!s.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return xG(this.__CACHE),this.data.toBuffer()}toHex(){return xG(this.__CACHE),this.data.toHex()}toBase64(){return xG(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&dR(r.witnessScript),(0,Ki.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&AG(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Ki.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};mR.Psbt=wG;var adt=t=>new lR(t),lR=class{constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Os.Transaction.fromBuffer(e),ldt(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,fR.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function cdt(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return T2e(1,t.partialSig);case"multisig":let n=Af.p2ms({output:e});return T2e(n.m,t.partialSig,n.pubkeys);default:return!1}}function xG(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function T2e(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let o=Edt(i);return e.find(s=>s.pubkey.equals(o))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function O2e(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function I2e(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function uR(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function udt(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function R_(t,e){t.forEach(r=>{if((0,Ki.isTaprootInput)(r)?(0,Ki.checkTaprootInputForSigs)(r,e):(0,Ao.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function fdt(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=K0.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function D2e(t,e,r){if(!(0,Ao.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function ldt(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function ddt(t,e){t.ins.forEach(r=>{N2e(e,r)})}function N2e(t,e){let r=(0,fR.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function U2e(t,e){return(r,n,i,o)=>{let s=t({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${e} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}var M2e=U2e(Af.p2sh,"Redeem script"),k2e=U2e(Af.p2wsh,"Witness script");function P2e(t,e,r,n){if(!r.every(O2e))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,o=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),V2e(r,i,n,o),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function hdt(t,e,r,n,i,o){let s=z2e(r);if(!cdt(e,r,s))throw new Error(`Can not finalize input #${t}`);return pdt(r,s,e.partialSig,n,i,o)}function pdt(t,e,r,n,i,o){let s,u,l=ydt(t,e,r),m=o?Af.p2wsh({redeem:l}):null,x=i?Af.p2sh({redeem:m||l}):null;return n?(m?u=(0,Ao.witnessStackToScriptWitness)(m.witness):u=(0,Ao.witnessStackToScriptWitness)(l.witness),x&&(s=x.input)):x?s=x.input:s=l.input,{finalScriptSig:s,finalScriptWitness:u}}function R2e(t,e,r,n,i){let o=(0,Ya.checkForInput)(t,e),{hash:s,sighashType:u,script:l}=L2e(e,o,n,!1,i);return D2e(r,l,"sign"),{hash:s,sighashType:u}}function L2e(t,e,r,n,i){let o=r.__TX,s=e.sighashType||Os.Transaction.SIGHASH_ALL;K2e(s,i);let u,l;if(e.nonWitnessUtxo){let w=hR(r,e,t),E=o.ins[t].hash,I=w.getHash();if(!E.equals(I))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let M=o.ins[t].index;l=w.outs[M]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:m,type:x}=pR(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(x)>=0)u=o.hashForWitnessV0(t,m,l.value,s);else if((0,Ao.isP2WPKH)(m)){let w=Af.p2pkh({hash:m.slice(2)}).output;u=o.hashForWitnessV0(t,w,l.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${m.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),u=o.hashForSignature(t,m,s)}return{script:m,sighashType:s,hash:u}}function mdt(t,e,r,n){let i=[];if(e.tapInternalKey){let s=F2e(t,e,n);s&&i.push(s)}if(e.tapScriptSig){let s=e.tapScriptSig.map(u=>u.pubkey);i.push(...s)}return i.map(s=>SG(t,e,r,s,n)).flat()}function F2e(t,e,r){let{script:n}=EG(t,e,r);return(0,Ao.isP2TR)(n)?n.subarray(2,34):null}function C2e(t){return t.length===64?t:t.subarray(0,64)}function SG(t,e,r,n,i,o,s){let u=i.__TX,l=e.sighashType||Os.Transaction.SIGHASH_DEFAULT;K2e(l,s);let m=r.map((M,k)=>EG(k,M,i)),x=m.map(M=>M.script),w=m.map(M=>M.value),E=[];if(e.tapInternalKey&&!o){let M=F2e(t,e,i)||Buffer.from([]);if((0,Ki.toXOnly)(n).equals(M)){let k=u.hashForWitnessV1(t,x,w,l);E.push({pubkey:n,hash:k})}}let I=(e.tapLeafScript||[]).filter(M=>(0,Ao.pubkeyInScript)(n,M.script)).map(M=>{let k=(0,odt.tapleafHash)({output:M.script,version:M.leafVersion});return Object.assign({hash:k},M)}).filter(M=>!o||o.equals(M.hash)).map(M=>{let k=u.hashForWitnessV1(t,x,w,Os.Transaction.SIGHASH_DEFAULT,M.hash);return{pubkey:n,hash:k,leafHash:M.hash}});return E.concat(I)}function K2e(t,e){if(e&&e.indexOf(t)<0){let r=vdt(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function ydt(t,e,r){let n;switch(e){case"multisig":let i=bdt(t,r);n=Af.p2ms({output:t,signatures:i});break;case"pubkey":n=Af.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Af.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Af.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function gdt(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let o=hR(r,e,t),s=n.ins[t].index;i.script=o.outs[s].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,Ao.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function B2e(t,e,r){let n=(0,Ya.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(s=>{let u=r.derivePath(s.path);if(!s.pubkey.equals(u.publicKey))throw new Error("pubkey did not match bip32Derivation");return u})}function bdt(t,e){return Af.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function q2e(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){let s=E2e.decode(t,e);return e+=E2e.decode.bytes,s}function i(){return r(n())}function o(){let s=n(),u=[];for(let l=0;l<s;l++)u.push(i());return u}return o()}function vdt(t){let e=t&Os.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Os.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Os.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Os.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function AG(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Os.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,o=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let s=i.__NON_WITNESS_UTXO_BUF_CACHE[o],u=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(s!==void 0)return s;{let l=u.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=l,l}},set(s){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=s}})}function V2e(t,e,r,n){let i=0;t.forEach((l,m)=>{if(n&&l.finalScriptSig&&(e.ins[m].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[m].witness=q2e(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let x=hR(r,l,m),w=e.ins[m].index,E=x.outs[w];i+=E.value}});let o=e.outs.reduce((l,m)=>l+m.value,0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");let u=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/u)}function hR(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||AG(t,e,r),n[r]}function H2e(t,e,r){let{script:n}=EG(t,e,r);return n}function EG(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=hR(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function xdt(t,e,r,n){let i=H2e(r,e,n),{meaningfulScript:o}=pR(i,r,"input",e.redeemScript,e.witnessScript);return(0,Ao.pubkeyInScript)(t,o)}function wdt(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:o}=pR(i,r,"output",e.redeemScript,e.witnessScript);return(0,Ao.pubkeyInScript)(t,o)}function Sdt(t){if(!t)return;let e=K0.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||j2e(r)||_dt(r)||!K0.decompile(r)))return r}function Adt(t){if(!t)return;let e=q2e(t),r=e[e.length-1];if(!(j2e(r)||!K0.decompile(r)))return r}function Edt(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function j2e(t){return t.length===33&&K0.isCanonicalPubKey(t)}function _dt(t){return K0.isCanonicalScriptSignature(t)}function pR(t,e,r,n,i){let o=(0,Ao.isP2SHScript)(t),s=o&&n&&(0,Ao.isP2WSHScript)(n),u=(0,Ao.isP2WSHScript)(t);if(o&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((u||s)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return s?(l=i,M2e(e,t,n,r),k2e(e,n,i,r),dR(l)):u?(l=i,k2e(e,t,i,r),dR(l)):o?(l=n,M2e(e,t,n,r)):l=t,{meaningfulScript:l,type:s?"p2sh-p2wsh":o?"p2sh":u?"p2wsh":"raw"}}function dR(t){if((0,Ao.isP2WPKH)(t)||(0,Ao.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function z2e(t){return(0,Ao.isP2WPKH)(t)?"witnesspubkeyhash":(0,Ao.isP2PKH)(t)?"pubkeyhash":(0,Ao.isP2MS)(t)?"multisig":(0,Ao.isP2PK)(t)?"pubkey":"nonstandard"}function C_(t){return[...Array(t).keys()]}});var B_=q(to=>{"use strict";d();h();Object.defineProperty(to,"__esModule",{value:!0});to.initEccLib=to.Transaction=to.opcodes=to.Psbt=to.Block=to.script=to.payments=to.networks=to.crypto=to.address=void 0;var Tdt=HW();to.address=Tdt;var Idt=Yd();to.crypto=Idt;var Mdt=xf();to.networks=Mdt;var kdt=U2();to.payments=kdt;var Pdt=za();to.script=Pdt;var Rdt=pwe();Object.defineProperty(to,"Block",{enumerable:!0,get:function(){return Rdt.Block}});var Cdt=W2e();Object.defineProperty(to,"Psbt",{enumerable:!0,get:function(){return Cdt.Psbt}});var Bdt=m9();Object.defineProperty(to,"opcodes",{enumerable:!0,get:function(){return Bdt.OPS}});var Odt=F2();Object.defineProperty(to,"Transaction",{enumerable:!0,get:function(){return Odt.Transaction}});var Ddt=q9();Object.defineProperty(to,"initEccLib",{enumerable:!0,get:function(){return Ddt.initEccLib}})});var q0=q(Wr=>{"use strict";d();h();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.DEFAULT_TLRU_TTL_MS=Wr.BANDIT_ASSIGNMENT_SHARDS=Wr.MAX_EVENT_QUEUE_SIZE=Wr.NULL_SENTINEL=Wr.SESSION_ASSIGNMENT_CONFIG_LOADED=Wr.PRECOMPUTED_FLAGS_ENDPOINT=Wr.PRECOMPUTED_BASE_URL=Wr.BANDIT_ENDPOINT=Wr.UFC_ENDPOINT=Wr.BASE_URL=Wr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Wr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Wr.POLL_JITTER_PCT=Wr.DEFAULT_POLL_INTERVAL_MS=Wr.REQUEST_TIMEOUT_MILLIS=Wr.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Wr.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Wr.REQUEST_TIMEOUT_MILLIS=Wr.DEFAULT_REQUEST_TIMEOUT_MS;Wr.DEFAULT_POLL_INTERVAL_MS=3e4;Wr.POLL_JITTER_PCT=.1;Wr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Wr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Wr.BASE_URL="https://fscdn.eppo.cloud/api";Wr.UFC_ENDPOINT="/flag-config/v1/config";Wr.BANDIT_ENDPOINT="/flag-config/v1/bandits";Wr.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Wr.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Wr.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Wr.NULL_SENTINEL="EPPO_NULL";Wr.MAX_EVENT_QUEUE_SIZE=100;Wr.BANDIT_ASSIGNMENT_SHARDS=1e4;Wr.DEFAULT_TLRU_TTL_MS=6e5});var GR=q(m$=>{"use strict";d();h();Object.defineProperty(m$,"__esModule",{value:!0});var WR=q0(),p$=class{constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??WR.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(WR.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(WR.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(WR.PRECOMPUTED_FLAGS_ENDPOINT)}};m$.default=p$});var KSe=q((Dxr,FSe)=>{"use strict";d();h();function Cht(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}FSe.exports=Bht;function Bht(t,e,r){var n=r&&r.stringify||Cht,i=1;if(typeof t=="object"&&t!==null){var o=e.length+i;if(o===1)return t;var s=new Array(o);s[0]=n(t);for(var u=1;u<o;u++)s[u]=n(e[u]);return s.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var m="",x=1-i,w=-1,E=t&&t.length||0,I=0;I<E;){if(t.charCodeAt(I)===37&&I+1<E){switch(w=w>-1?w:0,t.charCodeAt(I+1)){case 100:case 102:if(x>=l||e[x]==null)break;w<I&&(m+=t.slice(w,I)),m+=Number(e[x]),w=I+2,I++;break;case 105:if(x>=l||e[x]==null)break;w<I&&(m+=t.slice(w,I)),m+=Math.floor(Number(e[x])),w=I+2,I++;break;case 79:case 111:case 106:if(x>=l||e[x]===void 0)break;w<I&&(m+=t.slice(w,I));var M=typeof e[x];if(M==="string"){m+="'"+e[x]+"'",w=I+2,I++;break}if(M==="function"){m+=e[x].name||"<anonymous>",w=I+2,I++;break}m+=n(e[x]),w=I+2,I++;break;case 115:if(x>=l)break;w<I&&(m+=t.slice(w,I)),m+=String(e[x]),w=I+2,I++;break;case 37:w<I&&(m+=t.slice(w,I)),m+="%",w=I+2,I++,x--;break}++x}++I}return w===-1?t:(w<E&&(m+=t.slice(w)),m)}});var WSe=q((Lxr,YR)=>{"use strict";d();h();var qSe=KSe();YR.exports=V0;var r4=$ht().console||{},Oht={mapHttpRequest:$R,mapHttpResponse:$R,wrapRequestSerializer:y$,wrapResponseSerializer:y$,wrapErrorSerializer:y$,req:$R,res:$R,err:HSe,errWithCause:HSe};function By(t,e){return t==="silent"?1/0:e.levels.values[t]}var v$=Symbol("pino.logFuncs"),g$=Symbol("pino.hierarchy"),Dht={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function VSe(t,e){let r={logger:e,parent:t[g$]};e[g$]=r}function Nht(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:r4[i]||r4[Dht[i]||"log"]||G2}),t[v$]=n}function Uht(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function V0(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||r4;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=Uht(t.browser.serialize,n),o=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let s=Object.keys(t.customLevels||{}),u=["error","fatal","warn","info","debug","trace"].concat(s);typeof r=="function"&&u.forEach(function(k){r[k]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",m=Object.create(r);m.log||(m.log=G2),Nht(m,u,r),VSe({},m),Object.defineProperty(m,"levelVal",{get:w}),Object.defineProperty(m,"level",{get:E,set:I});let x={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:u,timestamp:zht(t),messageKey:t.messageKey||"msg",onChild:t.onChild||G2};m.levels=Lht(t),m.level=l,m.setMaxListeners=m.getMaxListeners=m.emit=m.addListener=m.on=m.prependListener=m.once=m.prependOnceListener=m.removeListener=m.removeAllListeners=m.listeners=m.listenerCount=m.eventNames=m.write=m.flush=G2,m.serializers=n,m._serialize=i,m._stdErrSerialize=o,m.child=function(...k){return M.call(this,x,...k)},e&&(m._logEvent=b$());function w(){return By(this.level,this)}function E(){return this._level}function I(k){if(k!=="silent"&&!this.levels.values[k])throw Error("unknown level "+k);this._level=k,k1(this,x,m,"error"),k1(this,x,m,"fatal"),k1(this,x,m,"warn"),k1(this,x,m,"info"),k1(this,x,m,"debug"),k1(this,x,m,"trace"),s.forEach(C=>{k1(this,x,m,C)})}function M(k,C,R){if(!C)throw new Error("missing bindings for child Pino");R=R||{},i&&C.serializers&&(R.serializers=C.serializers);let L=R.serializers;if(i&&L){var P=Object.assign({},n,L),K=t.browser.serialize===!0?Object.keys(P):i;delete C.serializers,x$([C],K,P,this._stdErrSerialize)}function V(ne){this._childLevel=(ne._childLevel|0)+1,this.bindings=C,P&&(this.serializers=P,this._serialize=K),e&&(this._logEvent=b$([].concat(ne._logEvent.bindings,C)))}V.prototype=this;let j=new V(this);return VSe(this,j),j.child=function(...ne){return M.call(this,k,...ne)},j.level=R.level||this.level,k.onChild(j),j}return m}function Lht(t){let e=t.customLevels||{},r=Object.assign({},V0.levels.values,e),n=Object.assign({},V0.levels.labels,Fht(e));return{values:r,labels:n}}function Fht(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}V0.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};V0.stdSerializers=Oht;V0.stdTimeFunctions=Object.assign({},{nullTime:jSe,epochTime:zSe,unixTime:Wht,isoTime:Ght});function Kht(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[g$];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function k1(t,e,r,n){if(Object.defineProperty(t,n,{value:By(t.level,r)>By(n,r)?G2:r[v$][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===G2){if(!e.transmit)return;let o=e.transmit.level||t.level,s=By(o,r);if(By(n,r)<s)return}t[n]=Vht(t,e,r,n);let i=Kht(t);i.length!==0&&(t[n]=qht(i,t[n]))}function qht(t,e){return function(){return e.apply(this,[...t,...arguments])}}function Vht(t,e,r,n){return function(i){return function(){let s=e.timestamp(),u=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===r4?r4:this;for(var m=0;m<u.length;m++)u[m]=arguments[m];var x=!1;if(e.serialize&&(x$(u,this._serialize,this.serializers,this._stdErrSerialize),x=!0),e.asObject||e.formatters?i.call(l,Hht(this,n,u,s,e)):i.apply(l,u),e.transmit){let w=e.transmit.level||t._level,E=By(w,r),I=By(n,r);if(I<E)return;jht(this,{ts:s,methodLevel:n,methodValue:I,transmitLevel:w,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:By(t._level,r)},u,x)}}}(t[v$][n])}function Hht(t,e,r,n,i){let{level:o,log:s=E=>E}=i.formatters||{},u=r.slice(),l=u[0],m={};if(n&&(m.time=n),o){let E=o(e,t.levels.values[e]);Object.assign(m,E)}else m.level=t.levels.values[e];let x=(t._childLevel|0)+1;if(x<1&&(x=1),l!==null&&typeof l=="object"){for(;x--&&typeof u[0]=="object";)Object.assign(m,u.shift());l=u.length?qSe(u.shift(),u):void 0}else typeof l=="string"&&(l=qSe(u.shift(),u));return l!==void 0&&(m[i.messageKey]=l),s(m)}function x$(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=V0.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let o in t[i])e.indexOf(o)>-1&&o in r&&(t[i][o]=r[o](t[i][o]))}function jht(t,e,r,n=!1){let i=e.send,o=e.ts,s=e.methodLevel,u=e.methodValue,l=e.val,m=t._logEvent.bindings;n||x$(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=o,t._logEvent.messages=r.filter(function(x){return m.indexOf(x)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=u,i(s,t._logEvent,l),t._logEvent=b$(m)}function b$(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function HSe(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function zht(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?jSe:zSe}function $R(){return{}}function y$(t){return t}function G2(){}function jSe(){return!1}function zSe(){return Date.now()}function Wht(){return Math.round(Date.now()/1e3)}function Ght(){return new Date(Date.now()).toISOString()}function $ht(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}YR.exports.default=V0;YR.exports.pino=V0});var rh=q($2=>{"use strict";d();h();Object.defineProperty($2,"__esModule",{value:!0});$2.logger=$2.loggerPrefix=void 0;var Yht=WSe();$2.loggerPrefix="[Eppo SDK]";$2.logger=(0,Yht.default)({level:T.LOG_LEVEL??(T.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var A$=q((w$,S$)=>{d();h();(function(t,e){typeof w$=="object"&&typeof S$<"u"?S$.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:w$,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=Array.prototype.slice.call(o),u=function(O){var W={};return O.forEach(function(ee,re){return W[ee]=re}),W}(s),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,m=String.fromCharCode.bind(String),x=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(O){return new Uint8Array(Array.prototype.slice.call(O,0))},w=function(O){return O.replace(/=/g,"").replace(/[+\/]/g,function(W){return W=="+"?"-":"_"})},E=function(O){return O.replace(/[^A-Za-z0-9\+\/]/g,"")},I=function(O){for(var W,ee,re,Ve,ae="",G=O.length%3,he=0;he<O.length;){if((ee=O.charCodeAt(he++))>255||(re=O.charCodeAt(he++))>255||(Ve=O.charCodeAt(he++))>255)throw new TypeError("invalid character found");W=ee<<16|re<<8|Ve,ae+=s[W>>18&63]+s[W>>12&63]+s[W>>6&63]+s[W&63]}return G?ae.slice(0,G-3)+"===".substring(G):ae},M=typeof btoa=="function"?function(O){return btoa(O)}:r?function(O){return Buffer.from(O,"binary").toString("base64")}:I,k=r?function(O){return Buffer.from(O).toString("base64")}:function(O){for(var W=4096,ee=[],re=0,Ve=O.length;re<Ve;re+=W)ee.push(m.apply(null,O.subarray(re,re+W)));return M(ee.join(""))},C=function(O,W){return W===void 0&&(W=!1),W?w(k(O)):k(O)},R=function(O){if(O.length<2){var W=O.charCodeAt(0);return W<128?O:W<2048?m(192|W>>>6)+m(128|W&63):m(224|W>>>12&15)+m(128|W>>>6&63)+m(128|W&63)}else{var W=65536+(O.charCodeAt(0)-55296)*1024+(O.charCodeAt(1)-56320);return m(240|W>>>18&7)+m(128|W>>>12&63)+m(128|W>>>6&63)+m(128|W&63)}},L=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,P=function(O){return O.replace(L,R)},K=r?function(O){return Buffer.from(O,"utf8").toString("base64")}:i?function(O){return k(i.encode(O))}:function(O){return M(P(O))},V=function(O,W){return W===void 0&&(W=!1),W?w(K(O)):K(O)},j=function(O){return V(O,!0)},ne=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,J=function(O){switch(O.length){case 4:var W=(7&O.charCodeAt(0))<<18|(63&O.charCodeAt(1))<<12|(63&O.charCodeAt(2))<<6|63&O.charCodeAt(3),ee=W-65536;return m((ee>>>10)+55296)+m((ee&1023)+56320);case 3:return m((15&O.charCodeAt(0))<<12|(63&O.charCodeAt(1))<<6|63&O.charCodeAt(2));default:return m((31&O.charCodeAt(0))<<6|63&O.charCodeAt(1))}},oe=function(O){return O.replace(ne,J)},S=function(O){if(O=O.replace(/\s+/g,""),!l.test(O))throw new TypeError("malformed base64.");O+="==".slice(2-(O.length&3));for(var W,ee="",re,Ve,ae=0;ae<O.length;)W=u[O.charAt(ae++)]<<18|u[O.charAt(ae++)]<<12|(re=u[O.charAt(ae++)])<<6|(Ve=u[O.charAt(ae++)]),ee+=re===64?m(W>>16&255):Ve===64?m(W>>16&255,W>>8&255):m(W>>16&255,W>>8&255,W&255);return ee},a=typeof atob=="function"?function(O){return atob(E(O))}:r?function(O){return Buffer.from(O,"base64").toString("binary")}:S,f=r?function(O){return x(Buffer.from(O,"base64"))}:function(O){return x(a(O).split("").map(function(W){return W.charCodeAt(0)}))},p=function(O){return f(g(O))},y=r?function(O){return Buffer.from(O,"base64").toString("utf8")}:n?function(O){return n.decode(f(O))}:function(O){return oe(a(O))},g=function(O){return E(O.replace(/[-_]/g,function(W){return W=="-"?"+":"/"}))},A=function(O){return y(g(O))},_=function(O){if(typeof O!="string")return!1;var W=O.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(W)||!/[^\s0-9a-zA-Z\-_]/.test(W)},b=function(O){return{value:O,enumerable:!1,writable:!0,configurable:!0}},c=function(){var O=function(W,ee){return Object.defineProperty(String.prototype,W,b(ee))};O("fromBase64",function(){return A(this)}),O("toBase64",function(W){return V(this,W)}),O("toBase64URI",function(){return V(this,!0)}),O("toBase64URL",function(){return V(this,!0)}),O("toUint8Array",function(){return p(this)})},v=function(){var O=function(W,ee){return Object.defineProperty(Uint8Array.prototype,W,b(ee))};O("toBase64",function(W){return C(this,W)}),O("toBase64URI",function(){return C(this,!0)}),O("toBase64URL",function(){return C(this,!0)})},F=function(){c(),v()},U={version:t,VERSION:e,atob:a,atobPolyfill:S,btoa:M,btoaPolyfill:I,fromBase64:A,toBase64:V,encode:V,encodeURI:j,encodeURL:j,utob:P,btou:oe,decode:A,isValid:_,fromUint8Array:C,toUint8Array:p,extendString:c,extendUint8Array:v,extendBuiltins:F};return U.Base64={},Object.keys(U).forEach(function(O){return U.Base64[O]=U[O]}),U})});var YSe=q((GSe,$Se)=>{d();h();(function(t){if(typeof GSe=="object")$Se.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=function(R,L){return R+L&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(R,L,P,K,V,j){return L=e(e(L,R),e(K,j)),e(L<<V|L>>>32-V,P)}function i(R,L){var P=R[0],K=R[1],V=R[2],j=R[3];P+=(K&V|~K&j)+L[0]-680876936|0,P=(P<<7|P>>>25)+K|0,j+=(P&K|~P&V)+L[1]-389564586|0,j=(j<<12|j>>>20)+P|0,V+=(j&P|~j&K)+L[2]+606105819|0,V=(V<<17|V>>>15)+j|0,K+=(V&j|~V&P)+L[3]-1044525330|0,K=(K<<22|K>>>10)+V|0,P+=(K&V|~K&j)+L[4]-176418897|0,P=(P<<7|P>>>25)+K|0,j+=(P&K|~P&V)+L[5]+1200080426|0,j=(j<<12|j>>>20)+P|0,V+=(j&P|~j&K)+L[6]-1473231341|0,V=(V<<17|V>>>15)+j|0,K+=(V&j|~V&P)+L[7]-45705983|0,K=(K<<22|K>>>10)+V|0,P+=(K&V|~K&j)+L[8]+1770035416|0,P=(P<<7|P>>>25)+K|0,j+=(P&K|~P&V)+L[9]-1958414417|0,j=(j<<12|j>>>20)+P|0,V+=(j&P|~j&K)+L[10]-42063|0,V=(V<<17|V>>>15)+j|0,K+=(V&j|~V&P)+L[11]-1990404162|0,K=(K<<22|K>>>10)+V|0,P+=(K&V|~K&j)+L[12]+1804603682|0,P=(P<<7|P>>>25)+K|0,j+=(P&K|~P&V)+L[13]-40341101|0,j=(j<<12|j>>>20)+P|0,V+=(j&P|~j&K)+L[14]-1502002290|0,V=(V<<17|V>>>15)+j|0,K+=(V&j|~V&P)+L[15]+1236535329|0,K=(K<<22|K>>>10)+V|0,P+=(K&j|V&~j)+L[1]-165796510|0,P=(P<<5|P>>>27)+K|0,j+=(P&V|K&~V)+L[6]-1069501632|0,j=(j<<9|j>>>23)+P|0,V+=(j&K|P&~K)+L[11]+643717713|0,V=(V<<14|V>>>18)+j|0,K+=(V&P|j&~P)+L[0]-373897302|0,K=(K<<20|K>>>12)+V|0,P+=(K&j|V&~j)+L[5]-701558691|0,P=(P<<5|P>>>27)+K|0,j+=(P&V|K&~V)+L[10]+38016083|0,j=(j<<9|j>>>23)+P|0,V+=(j&K|P&~K)+L[15]-660478335|0,V=(V<<14|V>>>18)+j|0,K+=(V&P|j&~P)+L[4]-405537848|0,K=(K<<20|K>>>12)+V|0,P+=(K&j|V&~j)+L[9]+568446438|0,P=(P<<5|P>>>27)+K|0,j+=(P&V|K&~V)+L[14]-1019803690|0,j=(j<<9|j>>>23)+P|0,V+=(j&K|P&~K)+L[3]-187363961|0,V=(V<<14|V>>>18)+j|0,K+=(V&P|j&~P)+L[8]+1163531501|0,K=(K<<20|K>>>12)+V|0,P+=(K&j|V&~j)+L[13]-1444681467|0,P=(P<<5|P>>>27)+K|0,j+=(P&V|K&~V)+L[2]-51403784|0,j=(j<<9|j>>>23)+P|0,V+=(j&K|P&~K)+L[7]+1735328473|0,V=(V<<14|V>>>18)+j|0,K+=(V&P|j&~P)+L[12]-1926607734|0,K=(K<<20|K>>>12)+V|0,P+=(K^V^j)+L[5]-378558|0,P=(P<<4|P>>>28)+K|0,j+=(P^K^V)+L[8]-2022574463|0,j=(j<<11|j>>>21)+P|0,V+=(j^P^K)+L[11]+1839030562|0,V=(V<<16|V>>>16)+j|0,K+=(V^j^P)+L[14]-35309556|0,K=(K<<23|K>>>9)+V|0,P+=(K^V^j)+L[1]-1530992060|0,P=(P<<4|P>>>28)+K|0,j+=(P^K^V)+L[4]+1272893353|0,j=(j<<11|j>>>21)+P|0,V+=(j^P^K)+L[7]-155497632|0,V=(V<<16|V>>>16)+j|0,K+=(V^j^P)+L[10]-1094730640|0,K=(K<<23|K>>>9)+V|0,P+=(K^V^j)+L[13]+681279174|0,P=(P<<4|P>>>28)+K|0,j+=(P^K^V)+L[0]-358537222|0,j=(j<<11|j>>>21)+P|0,V+=(j^P^K)+L[3]-722521979|0,V=(V<<16|V>>>16)+j|0,K+=(V^j^P)+L[6]+76029189|0,K=(K<<23|K>>>9)+V|0,P+=(K^V^j)+L[9]-640364487|0,P=(P<<4|P>>>28)+K|0,j+=(P^K^V)+L[12]-421815835|0,j=(j<<11|j>>>21)+P|0,V+=(j^P^K)+L[15]+530742520|0,V=(V<<16|V>>>16)+j|0,K+=(V^j^P)+L[2]-995338651|0,K=(K<<23|K>>>9)+V|0,P+=(V^(K|~j))+L[0]-198630844|0,P=(P<<6|P>>>26)+K|0,j+=(K^(P|~V))+L[7]+1126891415|0,j=(j<<10|j>>>22)+P|0,V+=(P^(j|~K))+L[14]-1416354905|0,V=(V<<15|V>>>17)+j|0,K+=(j^(V|~P))+L[5]-57434055|0,K=(K<<21|K>>>11)+V|0,P+=(V^(K|~j))+L[12]+1700485571|0,P=(P<<6|P>>>26)+K|0,j+=(K^(P|~V))+L[3]-1894986606|0,j=(j<<10|j>>>22)+P|0,V+=(P^(j|~K))+L[10]-1051523|0,V=(V<<15|V>>>17)+j|0,K+=(j^(V|~P))+L[1]-2054922799|0,K=(K<<21|K>>>11)+V|0,P+=(V^(K|~j))+L[8]+1873313359|0,P=(P<<6|P>>>26)+K|0,j+=(K^(P|~V))+L[15]-30611744|0,j=(j<<10|j>>>22)+P|0,V+=(P^(j|~K))+L[6]-1560198380|0,V=(V<<15|V>>>17)+j|0,K+=(j^(V|~P))+L[13]+1309151649|0,K=(K<<21|K>>>11)+V|0,P+=(V^(K|~j))+L[4]-145523070|0,P=(P<<6|P>>>26)+K|0,j+=(K^(P|~V))+L[11]-1120210379|0,j=(j<<10|j>>>22)+P|0,V+=(P^(j|~K))+L[2]+718787259|0,V=(V<<15|V>>>17)+j|0,K+=(j^(V|~P))+L[9]-343485551|0,K=(K<<21|K>>>11)+V|0,R[0]=P+R[0]|0,R[1]=K+R[1]|0,R[2]=V+R[2]|0,R[3]=j+R[3]|0}function o(R){var L=[],P;for(P=0;P<64;P+=4)L[P>>2]=R.charCodeAt(P)+(R.charCodeAt(P+1)<<8)+(R.charCodeAt(P+2)<<16)+(R.charCodeAt(P+3)<<24);return L}function s(R){var L=[],P;for(P=0;P<64;P+=4)L[P>>2]=R[P]+(R[P+1]<<8)+(R[P+2]<<16)+(R[P+3]<<24);return L}function u(R){var L=R.length,P=[1732584193,-271733879,-1732584194,271733878],K,V,j,ne,J,oe;for(K=64;K<=L;K+=64)i(P,o(R.substring(K-64,K)));for(R=R.substring(K-64),V=R.length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K=0;K<V;K+=1)j[K>>2]|=R.charCodeAt(K)<<(K%4<<3);if(j[K>>2]|=128<<(K%4<<3),K>55)for(i(P,j),K=0;K<16;K+=1)j[K]=0;return ne=L*8,ne=ne.toString(16).match(/(.*?)(.{0,8})$/),J=parseInt(ne[2],16),oe=parseInt(ne[1],16)||0,j[14]=J,j[15]=oe,i(P,j),P}function l(R){var L=R.length,P=[1732584193,-271733879,-1732584194,271733878],K,V,j,ne,J,oe;for(K=64;K<=L;K+=64)i(P,s(R.subarray(K-64,K)));for(R=K-64<L?R.subarray(K-64):new Uint8Array(0),V=R.length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K=0;K<V;K+=1)j[K>>2]|=R[K]<<(K%4<<3);if(j[K>>2]|=128<<(K%4<<3),K>55)for(i(P,j),K=0;K<16;K+=1)j[K]=0;return ne=L*8,ne=ne.toString(16).match(/(.*?)(.{0,8})$/),J=parseInt(ne[2],16),oe=parseInt(ne[1],16)||0,j[14]=J,j[15]=oe,i(P,j),P}function m(R){var L="",P;for(P=0;P<4;P+=1)L+=r[R>>P*8+4&15]+r[R>>P*8&15];return L}function x(R){var L;for(L=0;L<R.length;L+=1)R[L]=m(R[L]);return R.join("")}x(u("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(R,L){var P=(R&65535)+(L&65535),K=(R>>16)+(L>>16)+(P>>16);return K<<16|P&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function R(L,P){return L=L|0||0,L<0?Math.max(L+P,0):Math.min(L,P)}ArrayBuffer.prototype.slice=function(L,P){var K=this.byteLength,V=R(L,K),j=K,ne,J,oe,S;return P!==t&&(j=R(P,K)),V>j?new ArrayBuffer(0):(ne=j-V,J=new ArrayBuffer(ne),oe=new Uint8Array(J),S=new Uint8Array(this,V,ne),oe.set(S),J)}}();function w(R){return/[\u0080-\uFFFF]/.test(R)&&(R=unescape(encodeURIComponent(R))),R}function E(R,L){var P=R.length,K=new ArrayBuffer(P),V=new Uint8Array(K),j;for(j=0;j<P;j+=1)V[j]=R.charCodeAt(j);return L?V:K}function I(R){return String.fromCharCode.apply(null,new Uint8Array(R))}function M(R,L,P){var K=new Uint8Array(R.byteLength+L.byteLength);return K.set(new Uint8Array(R)),K.set(new Uint8Array(L),R.byteLength),P?K:K.buffer}function k(R){var L=[],P=R.length,K;for(K=0;K<P-1;K+=2)L.push(parseInt(R.substr(K,2),16));return String.fromCharCode.apply(String,L)}function C(){this.reset()}return C.prototype.append=function(R){return this.appendBinary(w(R)),this},C.prototype.appendBinary=function(R){this._buff+=R,this._length+=R.length;var L=this._buff.length,P;for(P=64;P<=L;P+=64)i(this._hash,o(this._buff.substring(P-64,P)));return this._buff=this._buff.substring(P-64),this},C.prototype.end=function(R){var L=this._buff,P=L.length,K,V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j;for(K=0;K<P;K+=1)V[K>>2]|=L.charCodeAt(K)<<(K%4<<3);return this._finish(V,P),j=x(this._hash),R&&(j=k(j)),this.reset(),j},C.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},C.prototype.setState=function(R){return this._buff=R.buff,this._length=R.length,this._hash=R.hash,this},C.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},C.prototype._finish=function(R,L){var P=L,K,V,j;if(R[P>>2]|=128<<(P%4<<3),P>55)for(i(this._hash,R),P=0;P<16;P+=1)R[P]=0;K=this._length*8,K=K.toString(16).match(/(.*?)(.{0,8})$/),V=parseInt(K[2],16),j=parseInt(K[1],16)||0,R[14]=V,R[15]=j,i(this._hash,R)},C.hash=function(R,L){return C.hashBinary(w(R),L)},C.hashBinary=function(R,L){var P=u(R),K=x(P);return L?k(K):K},C.ArrayBuffer=function(){this.reset()},C.ArrayBuffer.prototype.append=function(R){var L=M(this._buff.buffer,R,!0),P=L.length,K;for(this._length+=R.byteLength,K=64;K<=P;K+=64)i(this._hash,s(L.subarray(K-64,K)));return this._buff=K-64<P?new Uint8Array(L.buffer.slice(K-64)):new Uint8Array(0),this},C.ArrayBuffer.prototype.end=function(R){var L=this._buff,P=L.length,K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V,j;for(V=0;V<P;V+=1)K[V>>2]|=L[V]<<(V%4<<3);return this._finish(K,P),j=x(this._hash),R&&(j=k(j)),this.reset(),j},C.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.ArrayBuffer.prototype.getState=function(){var R=C.prototype.getState.call(this);return R.buff=I(R.buff),R},C.ArrayBuffer.prototype.setState=function(R){return R.buff=E(R.buff,!0),C.prototype.setState.call(this,R)},C.ArrayBuffer.prototype.destroy=C.prototype.destroy,C.ArrayBuffer.prototype._finish=C.prototype._finish,C.ArrayBuffer.hash=function(R,L){var P=l(new Uint8Array(R)),K=x(P);return L?k(K):K},C})});var H0=q(Oy=>{"use strict";d();h();Object.defineProperty(Oy,"__esModule",{value:!0});Oy.getMD5Hash=E$;Oy.encodeBase64=Bl;Oy.attributeEncodeBase64=JSe;Oy.decodeBase64=Qht;Oy.obfuscatePrecomputedBanditMap=Jht;Oy.obfuscatePrecomputedFlags=e0t;var QSe=A$(),Zht=YSe();function E$(t,e=""){return new Zht().append(e).append(t).end()}function Bl(t){return QSe.encode(t)}function JSe(t){return Bl(typeof t!="string"?String(t):t)}function Qht(t){return QSe.decode(t)}function Jht(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[E$(r,t),Xht(n)]))}function Xht(t){return{banditKey:Bl(t.banditKey),action:Bl(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:Bl(t.modelVersion),actionNumericAttributes:ZSe(t.actionNumericAttributes),actionCategoricalAttributes:ZSe(t.actionCategoricalAttributes)}}function ZSe(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[Bl(e),JSe(r)]))}function e0t(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],o=Object.fromEntries(Object.entries(i.extraLogging??{}).map(u=>u.map(Bl))),s=E$(n,t);r[s]={flagKey:s,variationType:i.variationType,extraLogging:o,doLog:i.doLog,allocationKey:Bl(i.allocationKey??""),variationKey:Bl(i.variationKey??""),variationValue:Bl(i.variationValue)}}),r}});var n4=q(Y2=>{"use strict";d();h();Object.defineProperty(Y2,"__esModule",{value:!0});Y2.AbstractAssignmentCache=void 0;Y2.assignmentCacheKeyToString=_$;Y2.assignmentCacheValueToString=T$;var XSe=H0();function _$({subjectKey:t,flagKey:e}){return(0,XSe.getMD5Hash)([t,e].join(";"))}function T$(t){return(0,XSe.getMD5Hash)(Object.values(t).join(";"))}var I$=class{constructor(e){this.delegate=e}has(e){return this.get(e)===T$(e)}get(e){return this.delegate.get(_$(e))}set(e){this.delegate.set(_$(e),T$(e))}entries(){return this.delegate.entries()}};Y2.AbstractAssignmentCache=I$});var k$=q(ZR=>{"use strict";d();h();Object.defineProperty(ZR,"__esModule",{value:!0});ZR.LRUCache=void 0;var M$=class{constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};ZR.LRUCache=M$});var JR=q(QR=>{"use strict";d();h();Object.defineProperty(QR,"__esModule",{value:!0});QR.LRUInMemoryAssignmentCache=void 0;var t0t=n4(),r0t=k$(),P$=class extends t0t.AbstractAssignmentCache{constructor(e){super(new r0t.LRUCache(e))}};QR.LRUInMemoryAssignmentCache=P$});var eC=q(XR=>{"use strict";d();h();Object.defineProperty(XR,"__esModule",{value:!0});XR.NonExpiringInMemoryAssignmentCache=void 0;var n0t=n4(),R$=class extends n0t.AbstractAssignmentCache{constructor(e=new Map){super(e)}};XR.NonExpiringInMemoryAssignmentCache=R$});var eAe=q(C$=>{"use strict";d();h();Object.defineProperty(C$,"__esModule",{value:!0});C$.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var tAe=q(B$=>{"use strict";d();h();Object.defineProperty(B$,"__esModule",{value:!0});B$.default="00000000-0000-0000-0000-000000000000"});var rAe=q(O$=>{"use strict";d();h();Object.defineProperty(O$,"__esModule",{value:!0});O$.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var i4=q(D$=>{"use strict";d();h();Object.defineProperty(D$,"__esModule",{value:!0});var i0t=rAe();function o0t(t){return typeof t=="string"&&i0t.default.test(t)}D$.default=o0t});var o4=q(N$=>{"use strict";d();h();Object.defineProperty(N$,"__esModule",{value:!0});var s0t=i4();function a0t(t){if(!(0,s0t.default)(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}N$.default=a0t});var j0=q(s4=>{"use strict";d();h();Object.defineProperty(s4,"__esModule",{value:!0});s4.unsafeStringify=void 0;var c0t=i4(),Us=[];for(let t=0;t<256;++t)Us.push((t+256).toString(16).slice(1));function nAe(t,e=0){return(Us[t[e+0]]+Us[t[e+1]]+Us[t[e+2]]+Us[t[e+3]]+"-"+Us[t[e+4]]+Us[t[e+5]]+"-"+Us[t[e+6]]+Us[t[e+7]]+"-"+Us[t[e+8]]+Us[t[e+9]]+"-"+Us[t[e+10]]+Us[t[e+11]]+Us[t[e+12]]+Us[t[e+13]]+Us[t[e+14]]+Us[t[e+15]]).toLowerCase()}s4.unsafeStringify=nAe;function u0t(t,e=0){let r=nAe(t,e);if(!(0,c0t.default)(r))throw TypeError("Stringified UUID is invalid");return r}s4.default=u0t});var tC=q(L$=>{"use strict";d();h();Object.defineProperty(L$,"__esModule",{value:!0});var U$,f0t=new Uint8Array(16);function l0t(){if(!U$){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");U$=self.crypto.getRandomValues.bind(self.crypto)}return U$(f0t)}L$.default=l0t});var F$=q(c4=>{"use strict";d();h();Object.defineProperty(c4,"__esModule",{value:!0});c4.updateV1State=void 0;var iAe=tC(),d0t=j0(),a4={};function h0t(t,e,r){let n,i=t?._v6??!1;if(t){let o=Object.keys(t);o.length===1&&o[0]==="_v6"&&(t=void 0)}if(t)n=oAe(t.random??t.rng?.()??(0,iAe.default)(),t.msecs,t.nsecs,t.clockseq,t.node,e,r);else{let o=Date.now(),s=(0,iAe.default)();sAe(a4,o,s),n=oAe(s,a4.msecs,a4.nsecs,i?void 0:a4.clockseq,i?void 0:a4.node,e,r)}return e?n:(0,d0t.unsafeStringify)(n)}function sAe(t,e,r){return t.msecs??=-1/0,t.nsecs??=0,e===t.msecs?(t.nsecs++,t.nsecs>=1e4&&(t.node=void 0,t.nsecs=0)):e>t.msecs?t.nsecs=0:e<t.msecs&&(t.node=void 0),t.node||(t.node=r.slice(10,16),t.node[0]|=1,t.clockseq=(r[8]<<8|r[9])&16383),t.msecs=e,t}c4.updateV1State=sAe;function oAe(t,e,r,n,i,o,s=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!o)o=new Uint8Array(16),s=0;else if(s<0||s+16>o.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);e??=Date.now(),r??=0,n??=(t[8]<<8|t[9])&16383,i??=t.slice(10,16),e+=122192928e5;let u=((e&268435455)*1e4+r)%4294967296;o[s++]=u>>>24&255,o[s++]=u>>>16&255,o[s++]=u>>>8&255,o[s++]=u&255;let l=e/4294967296*1e4&268435455;o[s++]=l>>>8&255,o[s++]=l&255,o[s++]=l>>>24&15|16,o[s++]=l>>>16&255,o[s++]=n>>>8|128,o[s++]=n&255;for(let m=0;m<6;++m)o[s++]=i[m];return o}c4.default=h0t});var q$=q(K$=>{"use strict";d();h();Object.defineProperty(K$,"__esModule",{value:!0});var p0t=o4(),m0t=j0();function y0t(t){let e=typeof t=="string"?(0,p0t.default)(t):t,r=g0t(e);return typeof t=="string"?(0,m0t.unsafeStringify)(r):r}K$.default=y0t;function g0t(t){return Uint8Array.of((t[6]&15)<<4|t[7]>>4&15,(t[7]&15)<<4|(t[4]&240)>>4,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,(t[1]&15)<<4|(t[2]&240)>>4,96|t[2]&15,t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var cAe=q(V$=>{"use strict";d();h();Object.defineProperty(V$,"__esModule",{value:!0});function b0t(t){let e=w0t(t),r=x0t(e,t.length*8);return v0t(r)}function v0t(t){let e=new Uint8Array(t.length*4);for(let r=0;r<t.length*4;r++)e[r]=t[r>>2]>>>r%4*8&255;return e}function aAe(t){return(t+64>>>9<<4)+14+1}function x0t(t,e){let r=new Uint32Array(aAe(e)).fill(0);r.set(t),r[e>>5]|=128<<e%32,r[r.length-1]=e,t=r;let n=1732584193,i=-271733879,o=-1732584194,s=271733878;for(let u=0;u<t.length;u+=16){let l=n,m=i,x=o,w=s;n=ba(n,i,o,s,t[u],7,-680876936),s=ba(s,n,i,o,t[u+1],12,-389564586),o=ba(o,s,n,i,t[u+2],17,606105819),i=ba(i,o,s,n,t[u+3],22,-1044525330),n=ba(n,i,o,s,t[u+4],7,-176418897),s=ba(s,n,i,o,t[u+5],12,1200080426),o=ba(o,s,n,i,t[u+6],17,-1473231341),i=ba(i,o,s,n,t[u+7],22,-45705983),n=ba(n,i,o,s,t[u+8],7,1770035416),s=ba(s,n,i,o,t[u+9],12,-1958414417),o=ba(o,s,n,i,t[u+10],17,-42063),i=ba(i,o,s,n,t[u+11],22,-1990404162),n=ba(n,i,o,s,t[u+12],7,1804603682),s=ba(s,n,i,o,t[u+13],12,-40341101),o=ba(o,s,n,i,t[u+14],17,-1502002290),i=ba(i,o,s,n,t[u+15],22,1236535329),n=va(n,i,o,s,t[u+1],5,-165796510),s=va(s,n,i,o,t[u+6],9,-1069501632),o=va(o,s,n,i,t[u+11],14,643717713),i=va(i,o,s,n,t[u],20,-373897302),n=va(n,i,o,s,t[u+5],5,-701558691),s=va(s,n,i,o,t[u+10],9,38016083),o=va(o,s,n,i,t[u+15],14,-660478335),i=va(i,o,s,n,t[u+4],20,-405537848),n=va(n,i,o,s,t[u+9],5,568446438),s=va(s,n,i,o,t[u+14],9,-1019803690),o=va(o,s,n,i,t[u+3],14,-187363961),i=va(i,o,s,n,t[u+8],20,1163531501),n=va(n,i,o,s,t[u+13],5,-1444681467),s=va(s,n,i,o,t[u+2],9,-51403784),o=va(o,s,n,i,t[u+7],14,1735328473),i=va(i,o,s,n,t[u+12],20,-1926607734),n=xa(n,i,o,s,t[u+5],4,-378558),s=xa(s,n,i,o,t[u+8],11,-2022574463),o=xa(o,s,n,i,t[u+11],16,1839030562),i=xa(i,o,s,n,t[u+14],23,-35309556),n=xa(n,i,o,s,t[u+1],4,-1530992060),s=xa(s,n,i,o,t[u+4],11,1272893353),o=xa(o,s,n,i,t[u+7],16,-155497632),i=xa(i,o,s,n,t[u+10],23,-1094730640),n=xa(n,i,o,s,t[u+13],4,681279174),s=xa(s,n,i,o,t[u],11,-358537222),o=xa(o,s,n,i,t[u+3],16,-722521979),i=xa(i,o,s,n,t[u+6],23,76029189),n=xa(n,i,o,s,t[u+9],4,-640364487),s=xa(s,n,i,o,t[u+12],11,-421815835),o=xa(o,s,n,i,t[u+15],16,530742520),i=xa(i,o,s,n,t[u+2],23,-995338651),n=wa(n,i,o,s,t[u],6,-198630844),s=wa(s,n,i,o,t[u+7],10,1126891415),o=wa(o,s,n,i,t[u+14],15,-1416354905),i=wa(i,o,s,n,t[u+5],21,-57434055),n=wa(n,i,o,s,t[u+12],6,1700485571),s=wa(s,n,i,o,t[u+3],10,-1894986606),o=wa(o,s,n,i,t[u+10],15,-1051523),i=wa(i,o,s,n,t[u+1],21,-2054922799),n=wa(n,i,o,s,t[u+8],6,1873313359),s=wa(s,n,i,o,t[u+15],10,-30611744),o=wa(o,s,n,i,t[u+6],15,-1560198380),i=wa(i,o,s,n,t[u+13],21,1309151649),n=wa(n,i,o,s,t[u+4],6,-145523070),s=wa(s,n,i,o,t[u+11],10,-1120210379),o=wa(o,s,n,i,t[u+2],15,718787259),i=wa(i,o,s,n,t[u+9],21,-343485551),n=Dy(n,l),i=Dy(i,m),o=Dy(o,x),s=Dy(s,w)}return Uint32Array.of(n,i,o,s)}function w0t(t){if(t.length===0)return new Uint32Array;let e=new Uint32Array(aAe(t.length*8)).fill(0);for(let r=0;r<t.length;r++)e[r>>2]|=(t[r]&255)<<r%4*8;return e}function Dy(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function S0t(t,e){return t<<e|t>>>32-e}function rC(t,e,r,n,i,o){return Dy(S0t(Dy(Dy(e,t),Dy(n,o)),i),r)}function ba(t,e,r,n,i,o,s){return rC(e&r|~e&n,t,e,i,o,s)}function va(t,e,r,n,i,o,s){return rC(e&n|r&~n,t,e,i,o,s)}function xa(t,e,r,n,i,o,s){return rC(e^r^n,t,e,i,o,s)}function wa(t,e,r,n,i,o,s){return rC(r^(e|~n),t,e,i,o,s)}V$.default=b0t});var u4=q(z0=>{"use strict";d();h();Object.defineProperty(z0,"__esModule",{value:!0});z0.URL=z0.DNS=z0.stringToBytes=void 0;var uAe=o4(),A0t=j0();function fAe(t){t=unescape(encodeURIComponent(t));let e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r);return e}z0.stringToBytes=fAe;z0.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";z0.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function E0t(t,e,r,n,i,o){let s=typeof r=="string"?fAe(r):r,u=typeof n=="string"?(0,uAe.default)(n):n;if(typeof n=="string"&&(n=(0,uAe.default)(n)),n?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(u),l.set(s,u.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){o=o||0;for(let m=0;m<16;++m)i[o+m]=l[m];return i}return(0,A0t.unsafeStringify)(l)}z0.default=E0t});var dAe=q(P1=>{"use strict";d();h();Object.defineProperty(P1,"__esModule",{value:!0});P1.URL=P1.DNS=void 0;var _0t=cAe(),H$=u4(),lAe=u4();Object.defineProperty(P1,"DNS",{enumerable:!0,get:function(){return lAe.DNS}});Object.defineProperty(P1,"URL",{enumerable:!0,get:function(){return lAe.URL}});function j$(t,e,r,n){return(0,H$.default)(48,_0t.default,t,e,r,n)}j$.DNS=H$.DNS;j$.URL=H$.URL;P1.default=j$});var hAe=q(z$=>{"use strict";d();h();Object.defineProperty(z$,"__esModule",{value:!0});var T0t=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto);z$.default={randomUUID:T0t}});var mAe=q(W$=>{"use strict";d();h();Object.defineProperty(W$,"__esModule",{value:!0});var pAe=hAe(),I0t=tC(),M0t=j0();function k0t(t,e,r){if(pAe.default.randomUUID&&!e&&!t)return pAe.default.randomUUID();t=t||{};let n=t.random??t.rng?.()??(0,I0t.default)();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,M0t.unsafeStringify)(n)}W$.default=k0t});var yAe=q($$=>{"use strict";d();h();Object.defineProperty($$,"__esModule",{value:!0});function P0t(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function G$(t,e){return t<<e|t>>>32-e}function R0t(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520],n=new Uint8Array(t.length+1);n.set(t),n[t.length]=128,t=n;let i=t.length/4+2,o=Math.ceil(i/16),s=new Array(o);for(let u=0;u<o;++u){let l=new Uint32Array(16);for(let m=0;m<16;++m)l[m]=t[u*64+m*4]<<24|t[u*64+m*4+1]<<16|t[u*64+m*4+2]<<8|t[u*64+m*4+3];s[u]=l}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(let u=0;u<o;++u){let l=new Uint32Array(80);for(let M=0;M<16;++M)l[M]=s[u][M];for(let M=16;M<80;++M)l[M]=G$(l[M-3]^l[M-8]^l[M-14]^l[M-16],1);let m=r[0],x=r[1],w=r[2],E=r[3],I=r[4];for(let M=0;M<80;++M){let k=Math.floor(M/20),C=G$(m,5)+P0t(k,x,w,E)+I+e[k]+l[M]>>>0;I=E,E=w,w=G$(x,30)>>>0,x=m,m=C}r[0]=r[0]+m>>>0,r[1]=r[1]+x>>>0,r[2]=r[2]+w>>>0,r[3]=r[3]+E>>>0,r[4]=r[4]+I>>>0}return Uint8Array.of(r[0]>>24,r[0]>>16,r[0]>>8,r[0],r[1]>>24,r[1]>>16,r[1]>>8,r[1],r[2]>>24,r[2]>>16,r[2]>>8,r[2],r[3]>>24,r[3]>>16,r[3]>>8,r[3],r[4]>>24,r[4]>>16,r[4]>>8,r[4])}$$.default=R0t});var bAe=q(R1=>{"use strict";d();h();Object.defineProperty(R1,"__esModule",{value:!0});R1.URL=R1.DNS=void 0;var C0t=yAe(),Y$=u4(),gAe=u4();Object.defineProperty(R1,"DNS",{enumerable:!0,get:function(){return gAe.DNS}});Object.defineProperty(R1,"URL",{enumerable:!0,get:function(){return gAe.URL}});function Z$(t,e,r,n){return(0,Y$.default)(80,C0t.default,t,e,r,n)}Z$.DNS=Y$.DNS;Z$.URL=Y$.URL;R1.default=Z$});var vAe=q(Q$=>{"use strict";d();h();Object.defineProperty(Q$,"__esModule",{value:!0});var B0t=j0(),O0t=F$(),D0t=q$();function N0t(t,e,r){t??={},r??=0;let n=(0,O0t.default)({...t,_v6:!0},new Uint8Array(16));if(n=(0,D0t.default)(n),e){for(let i=0;i<16;i++)e[r+i]=n[i];return e}return(0,B0t.unsafeStringify)(n)}Q$.default=N0t});var xAe=q(J$=>{"use strict";d();h();Object.defineProperty(J$,"__esModule",{value:!0});var U0t=o4(),L0t=j0();function F0t(t){let e=typeof t=="string"?(0,U0t.default)(t):t,r=K0t(e);return typeof t=="string"?(0,L0t.unsafeStringify)(r):r}J$.default=F0t;function K0t(t){return Uint8Array.of((t[3]&15)<<4|t[4]>>4&15,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|t[6]&15,t[7],(t[1]&15)<<4|(t[2]&240)>>4,(t[2]&15)<<4|(t[3]&240)>>4,16|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var EAe=q(f4=>{"use strict";d();h();Object.defineProperty(f4,"__esModule",{value:!0});f4.updateV7State=void 0;var wAe=tC(),q0t=j0(),X$={};function V0t(t,e,r){let n;if(t)n=SAe(t.random??t.rng?.()??(0,wAe.default)(),t.msecs,t.seq,e,r);else{let i=Date.now(),o=(0,wAe.default)();AAe(X$,i,o),n=SAe(o,X$.msecs,X$.seq,e,r)}return e?n:(0,q0t.unsafeStringify)(n)}function AAe(t,e,r){return t.msecs??=-1/0,t.seq??=0,e>t.msecs?(t.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],t.msecs=e):(t.seq=t.seq+1|0,t.seq===0&&t.msecs++),t}f4.updateV7State=AAe;function SAe(t,e,r,n,i=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return e??=Date.now(),r??=t[6]*127<<24|t[7]<<16|t[8]<<8|t[9],n[i++]=e/1099511627776&255,n[i++]=e/4294967296&255,n[i++]=e/16777216&255,n[i++]=e/65536&255,n[i++]=e/256&255,n[i++]=e&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|t[10]&3,n[i++]=t[11],n[i++]=t[12],n[i++]=t[13],n[i++]=t[14],n[i++]=t[15],n}f4.default=V0t});var _Ae=q(eY=>{"use strict";d();h();Object.defineProperty(eY,"__esModule",{value:!0});var H0t=i4();function j0t(t){if(!(0,H0t.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}eY.default=j0t});var TAe=q(Cn=>{"use strict";d();h();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.version=Cn.validate=Cn.v7=Cn.v6ToV1=Cn.v6=Cn.v5=Cn.v4=Cn.v3=Cn.v1ToV6=Cn.v1=Cn.stringify=Cn.parse=Cn.NIL=Cn.MAX=void 0;var z0t=eAe();Object.defineProperty(Cn,"MAX",{enumerable:!0,get:function(){return z0t.default}});var W0t=tAe();Object.defineProperty(Cn,"NIL",{enumerable:!0,get:function(){return W0t.default}});var G0t=o4();Object.defineProperty(Cn,"parse",{enumerable:!0,get:function(){return G0t.default}});var $0t=j0();Object.defineProperty(Cn,"stringify",{enumerable:!0,get:function(){return $0t.default}});var Y0t=F$();Object.defineProperty(Cn,"v1",{enumerable:!0,get:function(){return Y0t.default}});var Z0t=q$();Object.defineProperty(Cn,"v1ToV6",{enumerable:!0,get:function(){return Z0t.default}});var Q0t=dAe();Object.defineProperty(Cn,"v3",{enumerable:!0,get:function(){return Q0t.default}});var J0t=mAe();Object.defineProperty(Cn,"v4",{enumerable:!0,get:function(){return J0t.default}});var X0t=bAe();Object.defineProperty(Cn,"v5",{enumerable:!0,get:function(){return X0t.default}});var ept=vAe();Object.defineProperty(Cn,"v6",{enumerable:!0,get:function(){return ept.default}});var tpt=xAe();Object.defineProperty(Cn,"v6ToV1",{enumerable:!0,get:function(){return tpt.default}});var rpt=EAe();Object.defineProperty(Cn,"v7",{enumerable:!0,get:function(){return rpt.default}});var npt=i4();Object.defineProperty(Cn,"validate",{enumerable:!0,get:function(){return npt.default}});var ipt=_Ae();Object.defineProperty(Cn,"version",{enumerable:!0,get:function(){return ipt.default}})});var rY=q(C1=>{"use strict";d();h();Object.defineProperty(C1,"__esModule",{value:!0});C1.isInstanceOfContextualAttributes=nC;C1.ensureNonContextualSubjectAttributes=opt;C1.ensureContextualSubjectAttributes=spt;C1.deduceAttributeContext=tY;C1.ensureActionsWithContextualAttributes=apt;function nC(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}function opt(t){let e;if(nC(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}function spt(t){return nC(t)?t:tY(t)}function tY(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}function apt(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(nC)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=tY(n)}),e}});var oY=q(Ny=>{"use strict";d();h();Object.defineProperty(Ny,"__esModule",{value:!0});Ny.DeterministicSharder=Ny.MD5Sharder=Ny.Sharder=void 0;var cpt=H0(),l4=class{};Ny.Sharder=l4;var nY=class extends l4{getShard(e,r){let n=(0,cpt.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};Ny.MD5Sharder=nY;var iY=class extends l4{constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};Ny.DeterministicSharder=iY});var IAe=q(iC=>{"use strict";d();h();Object.defineProperty(iC,"__esModule",{value:!0});iC.BanditEvaluator=void 0;var upt=q0(),fpt=oY(),sY=class{constructor(){this.assignmentShards=upt.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new fpt.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:o}=this.getTopScore(i);return o}evaluateBandit(e,r,n,i,o){let s=this.scoreActions(n,i,o),u=this.weighActions(s,o.gamma,o.actionProbabilityFloor),l=this.selectAction(e,r,u),x=Object.values(s).reduce((w,E)=>E>w?E:w,-1/0)-s[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:s[l],actionWeight:u[l],gamma:o.gamma,optimalityGap:x}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([o,s])=>{let u=n.defaultActionScore,l=n.coefficients[o];l&&(u=l.intercept,u+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),u+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),u+=this.scoreNumericAttributes(l.actionNumericCoefficients,s.numericAttributes),u+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,s.categoricalAttributes)),i[o]=u}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey];return typeof o=="number"&&isFinite(o)?n+=o*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey]?.toString(),s=o&&i.valueCoefficients[o];return n+=typeof s=="number"?s:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},o=Object.entries(e);if(!o.length)return i;let{topScore:s,topAction:u}=this.getTopScore(e);if(s===null||u===null)throw new Error("Unable to find top score");let l=s,m=u,x=o.length,w=n/x,E=0;return o.forEach(([I,M])=>{if(I===m)return;let k=1/(x+r*(l-M)),C=Math.max(k,w);E+=C,i[I]=C}),i[m]=Math.max(1-E,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((m,x)=>{let w=this.sharder.getShard(`${e}-${r}-${m[0]}`,this.assignmentShards),E=this.sharder.getShard(`${e}-${r}-${x[0]}`,this.assignmentShards),I=w-E;return I===0&&(I=m[0]<x[0]?-1:1),I}),s=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,u=0,l=null;for(let m of i)if(u+=m[1],u>s){l=m[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([o,s])=>{(n===null||i===null||s>n||s===n&&o<i)&&(n=s,i=o)}),{topScore:n,topAction:i}}};iC.BanditEvaluator=sY});var MAe=q(oC=>{"use strict";d();h();Object.defineProperty(oC,"__esModule",{value:!0});oC.TLRUCache=void 0;var lpt=k$(),aY=class extends lpt.LRUCache{constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};oC.TLRUCache=aY});var kAe=q(sC=>{"use strict";d();h();Object.defineProperty(sC,"__esModule",{value:!0});sC.TLRUInMemoryAssignmentCache=void 0;var dpt=q0(),hpt=n4(),ppt=MAe(),cY=class extends hpt.AbstractAssignmentCache{constructor(e,r=dpt.DEFAULT_TLRU_TTL_MS){super(new ppt.TLRUCache(e,r))}};sC.TLRUInMemoryAssignmentCache=cY});var W0=q(Uy=>{"use strict";d();h();Object.defineProperty(Uy,"__esModule",{value:!0});Uy.FormatEnum=Uy.UNKNOWN_ENVIRONMENT_NAME=Uy.VariationType=void 0;var PAe;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(PAe||(Uy.VariationType=PAe={}));Uy.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var RAe;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(RAe||(Uy.FormatEnum=RAe={}))});var BAe=q(nh=>{"use strict";d();h();Object.defineProperty(nh,"__esModule",{value:!0});nh.ConfigurationWireV1=nh.ObfuscatedPrecomputedConfigurationResponse=nh.PrecomputedConfigurationResponse=nh.PrecomputedConfiguration=void 0;var mpt=W0(),CAe=H0(),aC=class{constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=mpt.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},uY=class t{constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,o,s){let u=new uC(e,r,n,i,o,s);return new t(JSON.stringify(u),e,o)}static unobfuscated(e,r,n,i,o){let s=new cC(e,r,n,i,o);return new t(JSON.stringify(s),e,i)}};nh.PrecomputedConfiguration=uY;var cC=class extends aC{constructor(e,r,n,i,o){super(e,i,o),this.flags=r,this.bandits=n,this.obfuscated=!1}};nh.PrecomputedConfigurationResponse=cC;var uC=class extends aC{constructor(e,r,n,i,o,s){super(e,o,s),this.obfuscated=!0,this.salt=i,this.bandits=(0,CAe.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,CAe.obfuscatePrecomputedFlags)(this.salt,r)}};nh.ObfuscatedPrecomputedConfigurationResponse=uC;var fY=class{constructor(e){this.precomputed=e,this.version=1}};nh.ConfigurationWireV1=fY});var dY=q(lY=>{"use strict";d();h();Object.defineProperty(lY,"__esModule",{value:!0});lY.hydrateConfigurationStore=ypt;async function ypt(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}});var yY=q(mY=>{"use strict";d();h();Object.defineProperty(mY,"__esModule",{value:!0});var hY=dY(),pY=class{constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,hY.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,hY.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let o=await this.httpClient.getBanditParameters();o?.bandits&&(await(0,hY.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:o.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let o=r[i.flagKey];o||(o=[],r[i.flagKey]=o),o.push(i)})}),r}};mY.default=pY});var lC=q(Tf=>{"use strict";d();h();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.decodeFlag=gpt;Tf.decodeVariations=OAe;Tf.decodeValue=bY;Tf.decodeAllocation=DAe;Tf.decodeSplit=NAe;Tf.decodeShard=UAe;Tf.decodeObject=fC;Tf.decodeObjectTo=vY;Tf.decodePrecomputedFlag=bpt;Tf.decodePrecomputedBandit=vpt;var gY=W0(),Sa=H0();function gpt(t){return{...t,variations:OAe(t.variations,t.variationType),allocations:t.allocations.map(DAe)}}function OAe(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,Sa.decodeBase64)(r.key);return[n,{key:n,value:bY(r.value,e)}]}))}function bY(t,e){switch(e){case gY.VariationType.INTEGER:case gY.VariationType.NUMERIC:return Number((0,Sa.decodeBase64)(t));case gY.VariationType.BOOLEAN:return(0,Sa.decodeBase64)(t)==="true";default:return(0,Sa.decodeBase64)(t)}}function DAe(t){return{...t,key:(0,Sa.decodeBase64)(t.key),splits:t.splits.map(NAe),startAt:t.startAt?new Date((0,Sa.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,Sa.decodeBase64)(t.endAt)).toISOString():void 0}}function NAe(t){return{extraLogging:t.extraLogging?fC(t.extraLogging):void 0,variationKey:(0,Sa.decodeBase64)(t.variationKey),shards:t.shards.map(UAe)}}function UAe(t){return{...t,salt:(0,Sa.decodeBase64)(t.salt)}}function fC(t){return vY(t,e=>e)}function vY(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,Sa.decodeBase64)(r),e((0,Sa.decodeBase64)(n))]))}function bpt(t){return{...t,allocationKey:(0,Sa.decodeBase64)(t.allocationKey??""),variationKey:(0,Sa.decodeBase64)(t.variationKey??""),variationValue:bY(t.variationValue,t.variationType),extraLogging:fC(t.extraLogging??{})}}function vpt(t){return{...t,banditKey:(0,Sa.decodeBase64)(t.banditKey),action:(0,Sa.decodeBase64)(t.action),modelVersion:(0,Sa.decodeBase64)(t.modelVersion),actionNumericAttributes:vY(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:fC(t.actionCategoricalAttributes??{})}}});var LAe=q(Z2=>{"use strict";d();h();Object.defineProperty(Z2,"__esModule",{value:!0});Z2.EppoValue=Z2.EppoValueType=void 0;var d4=W0(),xpt=H0(),If;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(If||(Z2.EppoValueType=If={}));var xY=class t{constructor(e,r,n,i,o){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=o}static valueOf(e,r){if(e==null)return t.Null();switch(r){case d4.VariationType.BOOLEAN:return t.Bool(e);case d4.VariationType.NUMERIC:return t.Numeric(e);case d4.VariationType.INTEGER:return t.Numeric(e);case d4.VariationType.STRING:return t.String(e);case d4.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case If.NullType:return"null";case If.BoolType:return this.boolValue?"true":"false";case If.NumericType:return this.numericValue?this.numericValue.toString():"0";case If.StringType:return this.stringValue??"";case If.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,xpt.getMD5Hash)(e)}static Bool(e){return new t(If.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(If.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(If.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(If.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(If.NullType,void 0,void 0,void 0,void 0)}};Z2.EppoValue=xY});var SY=q(Ly=>{"use strict";d();h();Object.defineProperty(Ly,"__esModule",{value:!0});Ly.FlagEvaluationDetailsBuilder=Ly.AllocationEvaluationCode=Ly.flagEvaluationCodes=void 0;var wpt=W0();Ly.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var dC;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(dC||(Ly.AllocationEvaluationCode=dC={}));var wY=class{constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=o=>{this.unmatchedAllocations.push(o)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(o,s,u,l,m)=>(this.variationKey=s.key,this.variationValue=m===wpt.VariationType.JSON&&typeof s.value=="string"?JSON.parse(s.value):s.value,this.matchedRule=l,this.matchedAllocation={key:u.key,allocationEvaluationCode:dC.MATCH,orderPosition:o+1},this),this.buildForNoneResult=(o,s)=>this.setNone().build(o,s),this.build=(o,s)=>({environmentName:this.environmentName,flagEvaluationCode:o,flagEvaluationDescription:s,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(o,s)=>{try{return this.build(o,s)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let o=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,s=o+1;return this.allocations.slice(o).map((u,l)=>({key:u.key,allocationEvaluationCode:dC.UNEVALUATED,orderPosition:s+l}))},this.setNone()}};Ly.FlagEvaluationDetailsBuilder=wY});var EY=q(hC=>{"use strict";d();h();Object.defineProperty(hC,"__esModule",{value:!0});hC.FlagEvaluationError=void 0;var AY=class extends Error{};hC.FlagEvaluationError=AY});var h4=q((nSr,FAe)=>{d();h();var Spt="2.0.0",Apt=Number.MAX_SAFE_INTEGER||9007199254740991,Ept=16,_pt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];FAe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Ept,MAX_SAFE_INTEGER:Apt,RELEASE_TYPES:_pt,SEMVER_SPEC_VERSION:Spt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var p4=q((sSr,KAe)=>{d();h();var Tpt=typeof process=="object"&&T&&T.NODE_DEBUG&&/\bsemver\b/i.test(T.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};KAe.exports=Tpt});var Q2=q((G0,qAe)=>{d();h();var{MAX_SAFE_COMPONENT_LENGTH:_Y}=h4(),Ipt=p4();G0=qAe.exports={};var Mpt=G0.re=[],kpt=G0.safeRe=[],Mt=G0.src=[],kt=G0.t={},Ppt=0,vr=(t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=Ppt++;Ipt(t,i,e),kt[t]=i,Mt[i]=e,Mpt[i]=new RegExp(e,r?"g":void 0),kpt[i]=new RegExp(n,r?"g":void 0)};vr("NUMERICIDENTIFIER","0|[1-9]\\d*");vr("NUMERICIDENTIFIERLOOSE","[0-9]+");vr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");vr("MAINVERSION",`(${Mt[kt.NUMERICIDENTIFIER]})\\.(${Mt[kt.NUMERICIDENTIFIER]})\\.(${Mt[kt.NUMERICIDENTIFIER]})`);vr("MAINVERSIONLOOSE",`(${Mt[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Mt[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Mt[kt.NUMERICIDENTIFIERLOOSE]})`);vr("PRERELEASEIDENTIFIER",`(?:${Mt[kt.NUMERICIDENTIFIER]}|${Mt[kt.NONNUMERICIDENTIFIER]})`);vr("PRERELEASEIDENTIFIERLOOSE",`(?:${Mt[kt.NUMERICIDENTIFIERLOOSE]}|${Mt[kt.NONNUMERICIDENTIFIER]})`);vr("PRERELEASE",`(?:-(${Mt[kt.PRERELEASEIDENTIFIER]}(?:\\.${Mt[kt.PRERELEASEIDENTIFIER]})*))`);vr("PRERELEASELOOSE",`(?:-?(${Mt[kt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Mt[kt.PRERELEASEIDENTIFIERLOOSE]})*))`);vr("BUILDIDENTIFIER","[0-9A-Za-z-]+");vr("BUILD",`(?:\\+(${Mt[kt.BUILDIDENTIFIER]}(?:\\.${Mt[kt.BUILDIDENTIFIER]})*))`);vr("FULLPLAIN",`v?${Mt[kt.MAINVERSION]}${Mt[kt.PRERELEASE]}?${Mt[kt.BUILD]}?`);vr("FULL",`^${Mt[kt.FULLPLAIN]}$`);vr("LOOSEPLAIN",`[v=\\s]*${Mt[kt.MAINVERSIONLOOSE]}${Mt[kt.PRERELEASELOOSE]}?${Mt[kt.BUILD]}?`);vr("LOOSE",`^${Mt[kt.LOOSEPLAIN]}$`);vr("GTLT","((?:<|>)?=?)");vr("XRANGEIDENTIFIERLOOSE",`${Mt[kt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);vr("XRANGEIDENTIFIER",`${Mt[kt.NUMERICIDENTIFIER]}|x|X|\\*`);vr("XRANGEPLAIN",`[v=\\s]*(${Mt[kt.XRANGEIDENTIFIER]})(?:\\.(${Mt[kt.XRANGEIDENTIFIER]})(?:\\.(${Mt[kt.XRANGEIDENTIFIER]})(?:${Mt[kt.PRERELEASE]})?${Mt[kt.BUILD]}?)?)?`);vr("XRANGEPLAINLOOSE",`[v=\\s]*(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:${Mt[kt.PRERELEASELOOSE]})?${Mt[kt.BUILD]}?)?)?`);vr("XRANGE",`^${Mt[kt.GTLT]}\\s*${Mt[kt.XRANGEPLAIN]}$`);vr("XRANGELOOSE",`^${Mt[kt.GTLT]}\\s*${Mt[kt.XRANGEPLAINLOOSE]}$`);vr("COERCE",`(^|[^\\d])(\\d{1,${_Y}})(?:\\.(\\d{1,${_Y}}))?(?:\\.(\\d{1,${_Y}}))?(?:$|[^\\d])`);vr("COERCERTL",Mt[kt.COERCE],!0);vr("LONETILDE","(?:~>?)");vr("TILDETRIM",`(\\s*)${Mt[kt.LONETILDE]}\\s+`,!0);G0.tildeTrimReplace="$1~";vr("TILDE",`^${Mt[kt.LONETILDE]}${Mt[kt.XRANGEPLAIN]}$`);vr("TILDELOOSE",`^${Mt[kt.LONETILDE]}${Mt[kt.XRANGEPLAINLOOSE]}$`);vr("LONECARET","(?:\\^)");vr("CARETTRIM",`(\\s*)${Mt[kt.LONECARET]}\\s+`,!0);G0.caretTrimReplace="$1^";vr("CARET",`^${Mt[kt.LONECARET]}${Mt[kt.XRANGEPLAIN]}$`);vr("CARETLOOSE",`^${Mt[kt.LONECARET]}${Mt[kt.XRANGEPLAINLOOSE]}$`);vr("COMPARATORLOOSE",`^${Mt[kt.GTLT]}\\s*(${Mt[kt.LOOSEPLAIN]})$|^$`);vr("COMPARATOR",`^${Mt[kt.GTLT]}\\s*(${Mt[kt.FULLPLAIN]})$|^$`);vr("COMPARATORTRIM",`(\\s*)${Mt[kt.GTLT]}\\s*(${Mt[kt.LOOSEPLAIN]}|${Mt[kt.XRANGEPLAIN]})`,!0);G0.comparatorTrimReplace="$1$2$3";vr("HYPHENRANGE",`^\\s*(${Mt[kt.XRANGEPLAIN]})\\s+-\\s+(${Mt[kt.XRANGEPLAIN]})\\s*$`);vr("HYPHENRANGELOOSE",`^\\s*(${Mt[kt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Mt[kt.XRANGEPLAINLOOSE]})\\s*$`);vr("STAR","(<|>)?=?\\s*\\*");vr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");vr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var pC=q((lSr,VAe)=>{d();h();var Rpt=Object.freeze({loose:!0}),Cpt=Object.freeze({}),Bpt=t=>t?typeof t!="object"?Rpt:t:Cpt;VAe.exports=Bpt});var TY=q((pSr,zAe)=>{d();h();var HAe=/^[0-9]+$/,jAe=(t,e)=>{let r=HAe.test(t),n=HAe.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Opt=(t,e)=>jAe(e,t);zAe.exports={compareIdentifiers:jAe,rcompareIdentifiers:Opt}});var Aa=q((gSr,YAe)=>{d();h();var mC=p4(),{MAX_LENGTH:WAe,MAX_SAFE_INTEGER:yC}=h4(),{safeRe:GAe,t:$Ae}=Q2(),Dpt=pC(),{compareIdentifiers:J2}=TY(),IY=class t{constructor(e,r){if(r=Dpt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>WAe)throw new TypeError(`version is longer than ${WAe} characters`);mC("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?GAe[$Ae.LOOSE]:GAe[$Ae.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>yC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>yC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>yC||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<yC)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(mC("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),J2(this.major,e.major)||J2(this.minor,e.minor)||J2(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(mC("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return J2(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(mC("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return J2(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),J2(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};YAe.exports=IY});var B1=q((xSr,QAe)=>{d();h();var ZAe=Aa(),Npt=(t,e,r=!1)=>{if(t instanceof ZAe)return t;try{return new ZAe(t,e)}catch(n){if(!r)return null;throw n}};QAe.exports=Npt});var XAe=q((ASr,JAe)=>{d();h();var Upt=B1(),Lpt=(t,e)=>{let r=Upt(t,e);return r?r.version:null};JAe.exports=Lpt});var tEe=q((TSr,eEe)=>{d();h();var Fpt=B1(),Kpt=(t,e)=>{let r=Fpt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};eEe.exports=Kpt});var iEe=q((kSr,nEe)=>{d();h();var rEe=Aa(),qpt=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new rEe(t instanceof rEe?t.version:t,r).inc(e,n,i).version}catch{return null}};nEe.exports=qpt});var aEe=q((CSr,sEe)=>{d();h();var oEe=B1(),Vpt=(t,e)=>{let r=oEe(t,null,!0),n=oEe(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,u=o?n:r,l=!!s.prerelease.length;if(!!u.prerelease.length&&!l)return!u.patch&&!u.minor?"major":s.patch?"patch":s.minor?"minor":"major";let x=l?"pre":"";return r.major!==n.major?x+"major":r.minor!==n.minor?x+"minor":r.patch!==n.patch?x+"patch":"prerelease"};sEe.exports=Vpt});var uEe=q((DSr,cEe)=>{d();h();var Hpt=Aa(),jpt=(t,e)=>new Hpt(t,e).major;cEe.exports=jpt});var lEe=q((LSr,fEe)=>{d();h();var zpt=Aa(),Wpt=(t,e)=>new zpt(t,e).minor;fEe.exports=Wpt});var hEe=q((qSr,dEe)=>{d();h();var Gpt=Aa(),$pt=(t,e)=>new Gpt(t,e).patch;dEe.exports=$pt});var mEe=q((jSr,pEe)=>{d();h();var Ypt=B1(),Zpt=(t,e)=>{let r=Ypt(t,e);return r&&r.prerelease.length?r.prerelease:null};pEe.exports=Zpt});var Mf=q((GSr,gEe)=>{d();h();var yEe=Aa(),Qpt=(t,e,r)=>new yEe(t,r).compare(new yEe(e,r));gEe.exports=Qpt});var vEe=q((ZSr,bEe)=>{d();h();var Jpt=Mf(),Xpt=(t,e,r)=>Jpt(e,t,r);bEe.exports=Xpt});var wEe=q((XSr,xEe)=>{d();h();var emt=Mf(),tmt=(t,e)=>emt(t,e,!0);xEe.exports=tmt});var gC=q((rAr,AEe)=>{d();h();var SEe=Aa(),rmt=(t,e,r)=>{let n=new SEe(t,r),i=new SEe(e,r);return n.compare(i)||n.compareBuild(i)};AEe.exports=rmt});var _Ee=q((oAr,EEe)=>{d();h();var nmt=gC(),imt=(t,e)=>t.sort((r,n)=>nmt(r,n,e));EEe.exports=imt});var IEe=q((cAr,TEe)=>{d();h();var omt=gC(),smt=(t,e)=>t.sort((r,n)=>omt(n,r,e));TEe.exports=smt});var m4=q((lAr,MEe)=>{d();h();var amt=Mf(),cmt=(t,e,r)=>amt(t,e,r)>0;MEe.exports=cmt});var bC=q((pAr,kEe)=>{d();h();var umt=Mf(),fmt=(t,e,r)=>umt(t,e,r)<0;kEe.exports=fmt});var MY=q((gAr,PEe)=>{d();h();var lmt=Mf(),dmt=(t,e,r)=>lmt(t,e,r)===0;PEe.exports=dmt});var kY=q((xAr,REe)=>{d();h();var hmt=Mf(),pmt=(t,e,r)=>hmt(t,e,r)!==0;REe.exports=pmt});var vC=q((AAr,CEe)=>{d();h();var mmt=Mf(),ymt=(t,e,r)=>mmt(t,e,r)>=0;CEe.exports=ymt});var xC=q((TAr,BEe)=>{d();h();var gmt=Mf(),bmt=(t,e,r)=>gmt(t,e,r)<=0;BEe.exports=bmt});var PY=q((kAr,OEe)=>{d();h();var vmt=MY(),xmt=kY(),wmt=m4(),Smt=vC(),Amt=bC(),Emt=xC(),_mt=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return vmt(t,r,n);case"!=":return xmt(t,r,n);case">":return wmt(t,r,n);case">=":return Smt(t,r,n);case"<":return Amt(t,r,n);case"<=":return Emt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};OEe.exports=_mt});var NEe=q((CAr,DEe)=>{d();h();var Tmt=Aa(),Imt=B1(),{safeRe:wC,t:SC}=Q2(),Mmt=(t,e)=>{if(t instanceof Tmt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(wC[SC.COERCE]);else{let n;for(;(n=wC[SC.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),wC[SC.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;wC[SC.COERCERTL].lastIndex=-1}return r===null?null:Imt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};DEe.exports=Mmt});var LEe=q((DAr,UEe)=>{"use strict";d();h();UEe.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var KEe=q((LAr,FEe)=>{"use strict";d();h();FEe.exports=bn;bn.Node=O1;bn.create=bn;function bn(t){var e=this;if(e instanceof bn||(e=new bn),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}bn.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};bn.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};bn.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};bn.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Pmt(this,arguments[t]);return this.length};bn.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Rmt(this,arguments[t]);return this.length};bn.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};bn.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};bn.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};bn.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};bn.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};bn.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};bn.prototype.map=function(t,e){e=e||this;for(var r=new bn,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};bn.prototype.mapReverse=function(t,e){e=e||this;for(var r=new bn,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};bn.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};bn.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};bn.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};bn.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};bn.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new bn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};bn.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new bn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};bn.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=kmt(this,i,r[n]);return o};bn.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function kmt(t,e,r){var n=e===t.head?new O1(r,null,e,t):new O1(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Pmt(t,e){t.tail=new O1(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Rmt(t,e){t.head=new O1(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function O1(t,e,r,n){if(!(this instanceof O1))return new O1(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{LEe()(bn)}catch{}});var zEe=q((qAr,jEe)=>{"use strict";d();h();var Cmt=KEe(),D1=Symbol("max"),Y0=Symbol("length"),X2=Symbol("lengthCalculator"),g4=Symbol("allowStale"),N1=Symbol("maxAge"),$0=Symbol("dispose"),qEe=Symbol("noDisposeOnSet"),hs=Symbol("lruList"),Ol=Symbol("cache"),HEe=Symbol("updateAgeOnGet"),RY=()=>1,BY=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[D1]=e.max||1/0,n=e.length||RY;if(this[X2]=typeof n!="function"?RY:n,this[g4]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[N1]=e.maxAge||0,this[$0]=e.dispose,this[qEe]=e.noDisposeOnSet||!1,this[HEe]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[D1]=e||1/0,y4(this)}get max(){return this[D1]}set allowStale(e){this[g4]=!!e}get allowStale(){return this[g4]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[N1]=e,y4(this)}get maxAge(){return this[N1]}set lengthCalculator(e){typeof e!="function"&&(e=RY),e!==this[X2]&&(this[X2]=e,this[Y0]=0,this[hs].forEach(r=>{r.length=this[X2](r.value,r.key),this[Y0]+=r.length})),y4(this)}get lengthCalculator(){return this[X2]}get length(){return this[Y0]}get itemCount(){return this[hs].length}rforEach(e,r){r=r||this;for(let n=this[hs].tail;n!==null;){let i=n.prev;VEe(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[hs].head;n!==null;){let i=n.next;VEe(this,e,n,r),n=i}}keys(){return this[hs].toArray().map(e=>e.key)}values(){return this[hs].toArray().map(e=>e.value)}reset(){this[$0]&&this[hs]&&this[hs].length&&this[hs].forEach(e=>this[$0](e.key,e.value)),this[Ol]=new Map,this[hs]=new Cmt,this[Y0]=0}dump(){return this[hs].map(e=>AC(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[hs]}set(e,r,n){if(n=n||this[N1],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[X2](r,e);if(this[Ol].has(e)){if(o>this[D1])return eS(this,this[Ol].get(e)),!1;let l=this[Ol].get(e).value;return this[$0]&&(this[qEe]||this[$0](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Y0]+=o-l.length,l.length=o,this.get(e),y4(this),!0}let s=new OY(e,r,o,i,n);return s.length>this[D1]?(this[$0]&&this[$0](e,r),!1):(this[Y0]+=s.length,this[hs].unshift(s),this[Ol].set(e,this[hs].head),y4(this),!0)}has(e){if(!this[Ol].has(e))return!1;let r=this[Ol].get(e).value;return!AC(this,r)}get(e){return CY(this,e,!0)}peek(e){return CY(this,e,!1)}pop(){let e=this[hs].tail;return e?(eS(this,e),e.value):null}del(e){eS(this,this[Ol].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Ol].forEach((e,r)=>CY(this,r,!1))}},CY=(t,e,r)=>{let n=t[Ol].get(e);if(n){let i=n.value;if(AC(t,i)){if(eS(t,n),!t[g4])return}else r&&(t[HEe]&&(n.value.now=Date.now()),t[hs].unshiftNode(n));return i.value}},AC=(t,e)=>{if(!e||!e.maxAge&&!t[N1])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[N1]&&r>t[N1]},y4=t=>{if(t[Y0]>t[D1])for(let e=t[hs].tail;t[Y0]>t[D1]&&e!==null;){let r=e.prev;eS(t,e),e=r}},eS=(t,e)=>{if(e){let r=e.value;t[$0]&&t[$0](r.key,r.value),t[Y0]-=r.length,t[Ol].delete(r.key),t[hs].removeNode(e)}},OY=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},VEe=(t,e,r,n)=>{let i=r.value;AC(t,i)&&(eS(t,r),t[g4]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};jEe.exports=BY});var kf=q((jAr,YEe)=>{d();h();var DY=class t{constructor(e,r){if(r=Omt(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof NY)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!GEe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&qmt(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Fmt)|(this.options.loose&&Kmt))+":"+e,i=WEe.get(n);if(i)return i;let o=this.options.loose,s=o?Tc[Za.HYPHENRANGELOOSE]:Tc[Za.HYPHENRANGE];e=e.replace(s,Qmt(this.options.includePrerelease)),qi("hyphen replace",e),e=e.replace(Tc[Za.COMPARATORTRIM],Nmt),qi("comparator trim",e),e=e.replace(Tc[Za.TILDETRIM],Umt),e=e.replace(Tc[Za.CARETTRIM],Lmt);let u=e.split(" ").map(w=>Vmt(w,this.options)).join(" ").split(/\s+/).map(w=>Zmt(w,this.options));o&&(u=u.filter(w=>(qi("loose invalid filter",w,this.options),!!w.match(Tc[Za.COMPARATORLOOSE])))),qi("range list",u);let l=new Map,m=u.map(w=>new NY(w,this.options));for(let w of m){if(GEe(w))return[w];l.set(w.value,w)}l.size>1&&l.has("")&&l.delete("");let x=[...l.values()];return WEe.set(n,x),x}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>$Ee(n,r)&&e.set.some(i=>$Ee(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Dmt(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Jmt(this.set[r],e,this.options))return!0;return!1}};YEe.exports=DY;var Bmt=zEe(),WEe=new Bmt({max:1e3}),Omt=pC(),NY=b4(),qi=p4(),Dmt=Aa(),{safeRe:Tc,t:Za,comparatorTrimReplace:Nmt,tildeTrimReplace:Umt,caretTrimReplace:Lmt}=Q2(),{FLAG_INCLUDE_PRERELEASE:Fmt,FLAG_LOOSE:Kmt}=h4(),GEe=t=>t.value==="<0.0.0-0",qmt=t=>t.value==="",$Ee=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},Vmt=(t,e)=>(qi("comp",t,e),t=zmt(t,e),qi("caret",t),t=Hmt(t,e),qi("tildes",t),t=Gmt(t,e),qi("xrange",t),t=Ymt(t,e),qi("stars",t),t),Qa=t=>!t||t.toLowerCase()==="x"||t==="*",Hmt=(t,e)=>t.trim().split(/\s+/).map(r=>jmt(r,e)).join(" "),jmt=(t,e)=>{let r=e.loose?Tc[Za.TILDELOOSE]:Tc[Za.TILDE];return t.replace(r,(n,i,o,s,u)=>{qi("tilde",t,n,i,o,s,u);let l;return Qa(i)?l="":Qa(o)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Qa(s)?l=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:u?(qi("replaceTilde pr",u),l=`>=${i}.${o}.${s}-${u} <${i}.${+o+1}.0-0`):l=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,qi("tilde return",l),l})},zmt=(t,e)=>t.trim().split(/\s+/).map(r=>Wmt(r,e)).join(" "),Wmt=(t,e)=>{qi("caret",t,e);let r=e.loose?Tc[Za.CARETLOOSE]:Tc[Za.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,u,l)=>{qi("caret",t,i,o,s,u,l);let m;return Qa(o)?m="":Qa(s)?m=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Qa(u)?o==="0"?m=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:l?(qi("replaceCaret pr",l),o==="0"?s==="0"?m=`>=${o}.${s}.${u}-${l} <${o}.${s}.${+u+1}-0`:m=`>=${o}.${s}.${u}-${l} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${u}-${l} <${+o+1}.0.0-0`):(qi("no pr"),o==="0"?s==="0"?m=`>=${o}.${s}.${u}${n} <${o}.${s}.${+u+1}-0`:m=`>=${o}.${s}.${u}${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${u} <${+o+1}.0.0-0`),qi("caret return",m),m})},Gmt=(t,e)=>(qi("replaceXRanges",t,e),t.split(/\s+/).map(r=>$mt(r,e)).join(" ")),$mt=(t,e)=>{t=t.trim();let r=e.loose?Tc[Za.XRANGELOOSE]:Tc[Za.XRANGE];return t.replace(r,(n,i,o,s,u,l)=>{qi("xRange",t,n,i,o,s,u,l);let m=Qa(o),x=m||Qa(s),w=x||Qa(u),E=w;return i==="="&&E&&(i=""),l=e.includePrerelease?"-0":"",m?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&E?(x&&(s=0),u=0,i===">"?(i=">=",x?(o=+o+1,s=0,u=0):(s=+s+1,u=0)):i==="<="&&(i="<",x?o=+o+1:s=+s+1),i==="<"&&(l="-0"),n=`${i+o}.${s}.${u}${l}`):x?n=`>=${o}.0.0${l} <${+o+1}.0.0-0`:w&&(n=`>=${o}.${s}.0${l} <${o}.${+s+1}.0-0`),qi("xRange return",n),n})},Ymt=(t,e)=>(qi("replaceStars",t,e),t.trim().replace(Tc[Za.STAR],"")),Zmt=(t,e)=>(qi("replaceGTE0",t,e),t.trim().replace(Tc[e.includePrerelease?Za.GTE0PRE:Za.GTE0],"")),Qmt=t=>(e,r,n,i,o,s,u,l,m,x,w,E,I)=>(Qa(n)?r="":Qa(i)?r=`>=${n}.0.0${t?"-0":""}`:Qa(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Qa(m)?l="":Qa(x)?l=`<${+m+1}.0.0-0`:Qa(w)?l=`<${m}.${+x+1}.0-0`:E?l=`<=${m}.${x}.${w}-${E}`:t?l=`<${m}.${x}.${+w+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),Jmt=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(qi(t[n].semver),t[n].semver!==NY.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var b4=q((GAr,t3e)=>{d();h();var v4=Symbol("SemVer ANY"),FY=class t{static get ANY(){return v4}constructor(e,r){if(r=ZEe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),LY("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===v4?this.value="":this.value=this.operator+this.semver.version,LY("comp",this)}parse(e){let r=this.options.loose?QEe[JEe.COMPARATORLOOSE]:QEe[JEe.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new XEe(n[2],this.options.loose):this.semver=v4}toString(){return this.value}test(e){if(LY("Comparator.test",e,this.options.loose),this.semver===v4||e===v4)return!0;if(typeof e=="string")try{e=new XEe(e,this.options)}catch{return!1}return UY(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new e3e(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new e3e(this.value,r).test(e.semver):(r=ZEe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||UY(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||UY(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};t3e.exports=FY;var ZEe=pC(),{safeRe:QEe,t:JEe}=Q2(),UY=PY(),LY=p4(),XEe=Aa(),e3e=kf()});var x4=q((ZAr,r3e)=>{d();h();var Xmt=kf(),eyt=(t,e,r)=>{try{e=new Xmt(e,r)}catch{return!1}return e.test(t)};r3e.exports=eyt});var i3e=q((XAr,n3e)=>{d();h();var tyt=kf(),ryt=(t,e)=>new tyt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));n3e.exports=ryt});var s3e=q((rEr,o3e)=>{d();h();var nyt=Aa(),iyt=kf(),oyt=(t,e,r)=>{let n=null,i=null,o=null;try{o=new iyt(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new nyt(n,r))}),n};o3e.exports=oyt});var c3e=q((oEr,a3e)=>{d();h();var syt=Aa(),ayt=kf(),cyt=(t,e,r)=>{let n=null,i=null,o=null;try{o=new ayt(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new syt(n,r))}),n};a3e.exports=cyt});var l3e=q((cEr,f3e)=>{d();h();var KY=Aa(),uyt=kf(),u3e=m4(),fyt=(t,e)=>{t=new uyt(t,e);let r=new KY("0.0.0");if(t.test(r)||(r=new KY("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let u=new KY(s.semver.version);switch(s.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||u3e(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||u3e(r,o))&&(r=o)}return r&&t.test(r)?r:null};f3e.exports=fyt});var h3e=q((lEr,d3e)=>{d();h();var lyt=kf(),dyt=(t,e)=>{try{return new lyt(t,e).range||"*"}catch{return null}};d3e.exports=dyt});var EC=q((pEr,g3e)=>{d();h();var hyt=Aa(),y3e=b4(),{ANY:pyt}=y3e,myt=kf(),yyt=x4(),p3e=m4(),m3e=bC(),gyt=xC(),byt=vC(),vyt=(t,e,r,n)=>{t=new hyt(t,n),e=new myt(e,n);let i,o,s,u,l;switch(r){case">":i=p3e,o=gyt,s=m3e,u=">",l=">=";break;case"<":i=m3e,o=byt,s=p3e,u="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(yyt(t,e,n))return!1;for(let m=0;m<e.set.length;++m){let x=e.set[m],w=null,E=null;if(x.forEach(I=>{I.semver===pyt&&(I=new y3e(">=0.0.0")),w=w||I,E=E||I,i(I.semver,w.semver,n)?w=I:s(I.semver,E.semver,n)&&(E=I)}),w.operator===u||w.operator===l||(!E.operator||E.operator===u)&&o(t,E.semver))return!1;if(E.operator===l&&s(t,E.semver))return!1}return!0};g3e.exports=vyt});var v3e=q((gEr,b3e)=>{d();h();var xyt=EC(),wyt=(t,e,r)=>xyt(t,e,">",r);b3e.exports=wyt});var w3e=q((xEr,x3e)=>{d();h();var Syt=EC(),Ayt=(t,e,r)=>Syt(t,e,"<",r);x3e.exports=Ayt});var E3e=q((AEr,A3e)=>{d();h();var S3e=kf(),Eyt=(t,e,r)=>(t=new S3e(t,r),e=new S3e(e,r),t.intersects(e,r));A3e.exports=Eyt});var T3e=q((TEr,_3e)=>{d();h();var _yt=x4(),Tyt=Mf();_3e.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((x,w)=>Tyt(x,w,r));for(let x of s)_yt(x,e,r)?(o=x,i||(i=x)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let u=[];for(let[x,w]of n)x===w?u.push(x):!w&&x===s[0]?u.push("*"):w?x===s[0]?u.push(`<=${w}`):u.push(`${x} - ${w}`):u.push(`>=${x}`);let l=u.join(" || "),m=typeof e.raw=="string"?e.raw:String(e);return l.length<m.length?l:e}});var C3e=q((kEr,R3e)=>{d();h();var I3e=kf(),VY=b4(),{ANY:qY}=VY,w4=x4(),HY=Mf(),Iyt=(t,e,r={})=>{if(t===e)return!0;t=new I3e(t,r),e=new I3e(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=kyt(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},Myt=[new VY(">=0.0.0-0")],M3e=[new VY(">=0.0.0")],kyt=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qY){if(e.length===1&&e[0].semver===qY)return!0;r.includePrerelease?t=Myt:t=M3e}if(e.length===1&&e[0].semver===qY){if(r.includePrerelease)return!0;e=M3e}let n=new Set,i,o;for(let I of t)I.operator===">"||I.operator===">="?i=k3e(i,I,r):I.operator==="<"||I.operator==="<="?o=P3e(o,I,r):n.add(I.semver);if(n.size>1)return null;let s;if(i&&o){if(s=HY(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let I of n){if(i&&!w4(I,String(i),r)||o&&!w4(I,String(o),r))return null;for(let M of e)if(!w4(I,String(M),r))return!1;return!0}let u,l,m,x,w=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;w&&w.prerelease.length===1&&o.operator==="<"&&w.prerelease[0]===0&&(w=!1);for(let I of e){if(x=x||I.operator===">"||I.operator===">=",m=m||I.operator==="<"||I.operator==="<=",i){if(E&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===E.major&&I.semver.minor===E.minor&&I.semver.patch===E.patch&&(E=!1),I.operator===">"||I.operator===">="){if(u=k3e(i,I,r),u===I&&u!==i)return!1}else if(i.operator===">="&&!w4(i.semver,String(I),r))return!1}if(o){if(w&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===w.major&&I.semver.minor===w.minor&&I.semver.patch===w.patch&&(w=!1),I.operator==="<"||I.operator==="<="){if(l=P3e(o,I,r),l===I&&l!==o)return!1}else if(o.operator==="<="&&!w4(o.semver,String(I),r))return!1}if(!I.operator&&(o||i)&&s!==0)return!1}return!(i&&m&&!o&&s!==0||o&&x&&!i&&s!==0||E||w)},k3e=(t,e,r)=>{if(!t)return e;let n=HY(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},P3e=(t,e,r)=>{if(!t)return e;let n=HY(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};R3e.exports=Iyt});var N3e=q((CEr,D3e)=>{d();h();var jY=Q2(),B3e=h4(),Pyt=Aa(),O3e=TY(),Ryt=B1(),Cyt=XAe(),Byt=tEe(),Oyt=iEe(),Dyt=aEe(),Nyt=uEe(),Uyt=lEe(),Lyt=hEe(),Fyt=mEe(),Kyt=Mf(),qyt=vEe(),Vyt=wEe(),Hyt=gC(),jyt=_Ee(),zyt=IEe(),Wyt=m4(),Gyt=bC(),$yt=MY(),Yyt=kY(),Zyt=vC(),Qyt=xC(),Jyt=PY(),Xyt=NEe(),egt=b4(),tgt=kf(),rgt=x4(),ngt=i3e(),igt=s3e(),ogt=c3e(),sgt=l3e(),agt=h3e(),cgt=EC(),ugt=v3e(),fgt=w3e(),lgt=E3e(),dgt=T3e(),hgt=C3e();D3e.exports={parse:Ryt,valid:Cyt,clean:Byt,inc:Oyt,diff:Dyt,major:Nyt,minor:Uyt,patch:Lyt,prerelease:Fyt,compare:Kyt,rcompare:qyt,compareLoose:Vyt,compareBuild:Hyt,sort:jyt,rsort:zyt,gt:Wyt,lt:Gyt,eq:$yt,neq:Yyt,gte:Zyt,lte:Qyt,cmp:Jyt,coerce:Xyt,Comparator:egt,Range:tgt,satisfies:rgt,toComparators:ngt,maxSatisfying:igt,minSatisfying:ogt,minVersion:sgt,validRange:agt,outside:cgt,gtr:ugt,ltr:fgt,intersects:lgt,simplifyRange:dgt,subset:hgt,SemVer:Pyt,re:jY.re,src:jY.src,tokens:jY.t,SEMVER_SPEC_VERSION:B3e.SEMVER_SPEC_VERSION,RELEASE_TYPES:B3e.RELEASE_TYPES,compareIdentifiers:O3e.compareIdentifiers,rcompareIdentifiers:O3e.rcompareIdentifiers}});var H3e=q(L1=>{"use strict";d();h();Object.defineProperty(L1,"__esModule",{value:!0});L1.ObfuscatedOperatorType=L1.OperatorType=void 0;L1.matchesRule=pgt;var Dl=N3e(),U1=H0(),Ls;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(Ls||(L1.OperatorType=Ls={}));var Fs;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(Fs||(L1.ObfuscatedOperatorType=Fs={}));var Z0;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(Z0||(Z0={}));function pgt(t,e,r){return!mgt(e,t.conditions,r).includes(!1)}function mgt(t,e,r){return e.map(n=>r?ggt(Object.entries(t).reduce((i,[o,s])=>({[(0,U1.getMD5Hash)(o)]:s,...i}),{}),n):ygt(t,n))}function ygt(t,e){let r=t[e.attribute];if(e.operator===Ls.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case Ls.GTE:case Ls.GT:case Ls.LTE:case Ls.LT:{if(V3e(e.value)===Z0.SEM_VER){let o=e.operator===Ls.GTE?Dl.gte:e.operator===Ls.GT?Dl.gt:e.operator===Ls.LTE?Dl.lte:Dl.lt;return q3e(r,e.value,o)}let i=(o,s)=>e.operator===Ls.GTE?o>=s:e.operator===Ls.GT?o>s:e.operator===Ls.LTE?o<=s:o<s;return K3e(r,e.value,i)}case Ls.MATCHES:return new RegExp(e.value).test(r);case Ls.NOT_MATCHES:return!new RegExp(e.value).test(r);case Ls.ONE_OF:return U3e(r.toString(),e.value);case Ls.NOT_ONE_OF:return L3e(r.toString(),e.value)}return!1}function ggt(t,e){let r=t[e.attribute];if(e.operator===Fs.IS_NULL)return e.value===(0,U1.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case Fs.GTE:case Fs.GT:case Fs.LTE:case Fs.LT:{let n=(0,U1.decodeBase64)(e.value);if(V3e(n)===Z0.SEM_VER){let s=e.operator===Fs.GTE?Dl.gte:e.operator===Fs.GT?Dl.gt:e.operator===Fs.LTE?Dl.lte:Dl.lt;return q3e(r,n,s)}let o=(s,u)=>e.operator===Fs.GTE?s>=u:e.operator===Fs.GT?s>u:e.operator===Fs.LTE?s<=u:s<u;return K3e(r,Number(n),o)}case Fs.MATCHES:return new RegExp((0,U1.decodeBase64)(e.value)).test(r);case Fs.NOT_MATCHES:return!new RegExp((0,U1.decodeBase64)(e.value)).test(r);case Fs.ONE_OF:return U3e((0,U1.getMD5Hash)(r.toString()),e.value);case Fs.NOT_ONE_OF:return L3e((0,U1.getMD5Hash)(r.toString()),e.value)}return!1}function U3e(t,e){return F3e(t,e).length>0}function L3e(t,e){return F3e(t,e).length===0}function F3e(t,e){return e.filter(r=>r===t)}function K3e(t,e,r){return r(Number(t),Number(e))}function q3e(t,e,r){return!!(0,Dl.valid)(t)&&!!(0,Dl.valid)(e)&&r(t,e)}function V3e(t){return typeof t=="number"?Z0.NUMERIC:Array.isArray(t)?Z0.STRING_ARRAY:typeof t=="string"&&(0,Dl.valid)(t)?Z0.SEM_VER:isNaN(Number(t))?Z0.PLAIN_STRING:Z0.NUMERIC}});var G3e=q(Fy=>{"use strict";d();h();Object.defineProperty(Fy,"__esModule",{value:!0});Fy.Evaluator=void 0;Fy.isInShardRange=j3e;Fy.hashKey=z3e;Fy.noneResult=WY;Fy.matchesRules=W3e;var bgt=_C(),S4=SY(),vgt=EY(),xgt=H3e(),wgt=oY(),zY=class{constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,o,s)=>{if(!(0,bgt.checkValueTypeMatch)(s,r.value)){let{key:w,value:E}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${w}) is configured for type ${s}, but is set to incompatible value (${E})`}}let u=!!n.rules?.length,l=n.splits.length>1,m=i.shards.length>1,x=l||m;return u&&x?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${o} belongs to the range of traffic assigned to "${i.variationKey}".`}:u&&!x?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${o} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new wgt.MD5Sharder}evaluateFlag(e,r,n,i,o,s){let u=new S4.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return WY(e.key,n,i,u.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let m=0;m<e.allocations.length;m++){let x=e.allocations[m],w=M=>{u.addUnmatchedAllocation({key:x.key,allocationEvaluationCode:M,orderPosition:m+1})};if(x.startAt&&l<new Date(x.startAt)){w(S4.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(x.endAt&&l>new Date(x.endAt)){w(S4.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:E,matchedRule:I}=W3e(x?.rules??[],{id:n,...i},o);if(E){for(let M of x.splits)if(M.shards.every(k=>this.matchesShard(k,n,e.totalShards))){let k=e.variations[M.variationKey],{flagEvaluationCode:C,flagEvaluationDescription:R}=this.getMatchedEvaluationCodeAndDescription(k,x,M,n,s),L=u.setMatch(m,k,x,I,s).build(C,R);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:x.key,variation:k,extraLogging:M.extraLogging??{},doLog:x.doLog,flagEvaluationDetails:L}}w(S4.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else w(S4.AllocationEvaluationCode.FAILING_RULE)}return WY(e.key,n,i,u.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let m=u.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(m){let x=new vgt.FlagEvaluationError(l.message);throw x.flagEvaluationDetails=m,x}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(z3e(e.salt,r),n);return e.ranges.some(o=>j3e(i,o))}};Fy.Evaluator=zY;function j3e(t,e){return e.start<=t&&t<e.end}function z3e(t,e){return`${t}-${e}`}function WY(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}function W3e(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(o=>{let s=(0,xgt.matchesRule)(o,e,r);return s&&(n=o),s})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}});var $Y=q(TC=>{"use strict";d();h();Object.defineProperty(TC,"__esModule",{value:!0});TC.BoundedEventQueue=void 0;var Sgt=rh(),Agt=q0(),GY=class{constructor(e,r=new Array,n=Agt.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&Sgt.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};TC.BoundedEventQueue=GY});var QY=q(ZY=>{"use strict";d();h();Object.defineProperty(ZY,"__esModule",{value:!0});var YY=class{dispatch(e){}};ZY.default=YY});var IC=q(A4=>{"use strict";d();h();Object.defineProperty(A4,"__esModule",{value:!0});A4.HttpRequestError=void 0;var Nl=class extends Error{constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};A4.HttpRequestError=Nl;var JY=class{constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),o=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!o?.ok)throw new Nl("Failed to fetch data",o?.status);return await o.json()}catch(r){throw r.name==="AbortError"?new Nl("Request timed out",408,r):r instanceof Nl?r:new Nl("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,o=setTimeout(()=>n.abort(),this.timeout),s=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(o),!s?.ok){let u=await s.text();throw new Nl(u||"Failed to post data",s?.status)}return await s.json()}catch(n){throw n.name==="AbortError"?new Nl("Request timed out",408,n):n instanceof Nl?n:new Nl("Network error",0,n)}}};A4.default=JY});var $3e=q(XY=>{"use strict";d();h();Object.defineProperty(XY,"__esModule",{value:!0});XY.waitForMs=Egt;async function Egt(t){await new Promise(e=>setTimeout(e,t))}});var tZ=q(eZ=>{"use strict";d();h();Object.defineProperty(eZ,"__esModule",{value:!0});eZ.default=Tgt;var mu=rh(),MC=q0(),_gt=$3e();function Tgt(t,e,r){let n=!1,i=0,o=t,s=!1,u,l=async()=>{n=!1;let w=!1,E=r?.skipInitialPoll?0:1+(r?.maxStartRetries??MC.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),I=null;for(;!w&&E>0;)try{await e(),w=!0,s=!1,mu.logger.info("Eppo SDK successfully requested initial configuration")}catch(k){if(s=!0,mu.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${k.message}`),--E>0){let C=Y3e(t);mu.logger.warn(`Eppo SDK will retry the initial poll again in ${C} ms (${E} attempts remaining)`),await(0,_gt.waitForMs)(C)}else r?.pollAfterFailedStart?mu.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(mu.logger.error("Eppo SDK initial poll failed. Aborting polling"),m()),r?.errorOnFailedStart&&(I=k)}if(!n&&(w&&r?.pollAfterSuccessfulStart||!w&&r?.pollAfterFailedStart)?(mu.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),u=setTimeout(x,t)):mu.logger.info("Eppo SDK will not poll for configuration updates"),I)throw mu.logger.info("Eppo SDK rethrowing start error"),I},m=()=>{n||(n=!0,u&&clearTimeout(u),mu.logger.info("Eppo SDK polling stopped"))};async function x(){if(!n){try{await e(),i=0,o=t,s&&(s=!1,mu.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(w){s=!0,mu.logger.warn(`Eppo SDK encountered an error polling configurations: ${w.message}`);let E=1+(r?.maxPollRetries??MC.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<E){let I=Math.pow(2,i),M=Y3e(t);o=I*t+M,mu.logger.warn(`Eppo SDK will try polling again in ${o} ms (${E-i} attempts remaining)`)}else mu.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),m()}setTimeout(x,o)}}return{start:l,stop:m}}function Y3e(t){let e=t*MC.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*MC.POLL_JITTER_PCT/2),1);return e+r}});var PC=q(E4=>{"use strict";d();h();Object.defineProperty(E4,"__esModule",{value:!0});E4.InvalidArgumentError=void 0;E4.validateNotBlank=Igt;var kC=class extends Error{};E4.InvalidArgumentError=kC;function Igt(t,e){if(t==null||t.length===0)throw new kC(e)}});var Z3e=q((o3r,Mgt)=>{Mgt.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var rZ=q(RC=>{"use strict";d();h();Object.defineProperty(RC,"__esModule",{value:!0});RC.LIB_VERSION=void 0;var kgt=Z3e();RC.LIB_VERSION=kgt.version});var _C=q(T4=>{"use strict";d();h();Object.defineProperty(T4,"__esModule",{value:!0});T4.checkTypeMatch=r6e;T4.checkValueTypeMatch=Hgt;var Pgt=TAe(),Rgt=GR(),Vi=rh(),F1=rY(),Cgt=IAe(),Bgt=JR(),Q3e=eC(),Ogt=kAe(),J3e=BAe(),Dgt=yY(),_4=q0(),Ngt=lC(),K1=LAe(),CC=G3e(),X3e=$Y(),Ugt=QY(),e6e=SY(),Lgt=EY(),Fgt=IC(),ih=W0(),Kgt=H0(),qgt=tZ(),t6e=PC(),Vgt=rZ(),nZ=class{constructor({eventDispatcher:e=new Ugt.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:o,configurationRequestParameters:s}){this.assignmentEventsQueue=new X3e.BoundedEventQueue("assignments"),this.banditEventsQueue=new X3e.BoundedEventQueue("bandit"),this.banditEvaluator=new Cgt.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new CC.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=o,this.configurationRequestParameters=s,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=_4.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=_4.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:u=_4.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:m=!1,throwOnFailedInitialization:x=!1,skipInitialPoll:w=!1}=this.configurationRequestParameters,{pollingIntervalMs:E=_4.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;E<=0&&(Vi.logger.error("pollingIntervalMs must be greater than 0. Using default"),E=_4.DEFAULT_POLL_INTERVAL_MS);let I=new Rgt.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),M=new Fgt.default(I,o),k=new Dgt.default(M,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),C=async()=>{if(await this.flagConfigurationStore.isExpired())return k.fetchAndStoreConfigurations()};this.requestPoller=(0,qgt.default)(E,C,{maxStartRetries:s,maxPollRetries:u,pollAfterSuccessfulStart:l,pollAfterFailedStart:m,errorOnFailedStart:x,skipInitialPoll:w}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,K1.EppoValue.String(i),ih.VariationType.STRING);return{variation:o.stringValue??i,action:null,evaluationDetails:s}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,K1.EppoValue.Bool(i),ih.VariationType.BOOLEAN);return{variation:o.boolValue??i,action:null,evaluationDetails:s}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,K1.EppoValue.Numeric(i),ih.VariationType.INTEGER);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,K1.EppoValue.Numeric(i),ih.VariationType.NUMERIC);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,K1.EppoValue.JSON(i),ih.VariationType.JSON);return{variation:o.objectValue??i,action:null,evaluationDetails:s}}getBanditAction(e,r,n,i,o){let{variation:s,action:u}=this.getBanditActionDetails(e,r,n,i,o);return{variation:s,action:u}}getBestAction(e,r,n,i){let o=null,u=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(u){let l=this.getBandit(u);if(l){let m=(0,F1.ensureContextualSubjectAttributes)(r),x=(0,F1.ensureActionsWithContextualAttributes)(n);o=this.banditEvaluator.evaluateBestBanditAction(m,x,l.modelData)}}return o??i}getBanditActionDetails(e,r,n,i,o){let s=o,u=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let m=(0,F1.ensureNonContextualSubjectAttributes)(n),{variation:x,evaluationDetails:w}=this.getStringAssignmentDetails(e,r,m,o);s=x,l=w;let E=this.findBanditByVariation(e,s);if(!E)return{variation:s,action:null,evaluationDetails:l};l.banditKey=E.banditKey;let I=this.evaluateBanditAction(e,r,n,i,E.modelData);if(I?.actionKey){u=I.actionKey;let M={timestamp:new Date().toISOString(),featureFlag:e,bandit:E.banditKey,subject:r,action:u,actionProbability:I.actionWeight,optimalityGap:I.optimalityGap,modelVersion:E.modelVersion,subjectNumericAttributes:I.subjectAttributes.numericAttributes,subjectCategoricalAttributes:I.subjectAttributes.categoricalAttributes,actionNumericAttributes:I.actionAttributes.numericAttributes,actionCategoricalAttributes:I.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(M)}catch(k){Vi.logger.error("Error logging bandit event",k)}l.banditAction=u}}catch(m){if(Vi.logger.error("Error determining bandit action",m),!this.isGracefulFailureMode)throw m;s&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${m.message}`}return{variation:s,action:u,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:o,treatmentVariationEntries:s}=e,u=this.getStringAssignment(i,r,n,"control");if(u==="control")return o;if(!u.startsWith("treatment-"))return Vi.logger.warn(`Variation '${u}' cannot be mapped to a container. Defaulting to control variation.`),o;let l=Number.parseInt(u.split("-")[1])-1;return isNaN(l)?(Vi.logger.warn(`Variation '${u}' cannot be mapped to a container. Defaulting to control variation.`),o):l>=s.length?(Vi.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),o):s[l]}evaluateBanditAction(e,r,n,i,o){if(!Object.keys(i).length)return null;let s=(0,F1.ensureContextualSubjectAttributes)(n),u=(0,F1.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,s,u,o)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(u){Vi.logger.warn("Error encountered logging bandit action",u)}}getAssignmentVariation(e,r,n,i,o){try{let s=this.getAssignmentDetail(e,r,n,o);return this.parseVariationWithDetails(s,i,o)}catch(s){let u=this.rethrowIfNotGraceful(s,i);if(s instanceof Lgt.FlagEvaluationError&&s.flagEvaluationDetails)return{eppoValue:u,flagEvaluationDetails:s.flagEvaluationDetails};{let l=new e6e.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${s.message}`);return{eppoValue:u,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:K1.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(o){return{eppoValue:this.rethrowIfNotGraceful(o,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return Vi.logger.error(`${Vi.loggerPrefix} Error getting assignment: ${e.message}`),r??K1.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),o={};return i.forEach(s=>{let u=this.getFlag(s);if(!u){Vi.logger.debug(`${Vi.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(u,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){Vi.logger.debug(`${Vi.loggerPrefix} No assigned variation: ${s}`);return}o[s]={flagKey:s,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:u.variationType,variationValue:l.variation.value.toString()}}),o}getPrecomputedConfiguration(e,r={},n={},i){let o=this.getConfigDetails(),s=(0,F1.ensureContextualSubjectAttributes)(r),u=(0,F1.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,u),m=this.computeBanditsForFlags(e,s,n,l),x=J3e.PrecomputedConfiguration.obfuscated(e,l,m,i??"",s,o.configEnvironment),w=new J3e.ConfigurationWireV1(x);return JSON.stringify(w)}getAssignmentDetail(e,r,n={},i){(0,t6e.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,t6e.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.newFlagEvaluationDetailsBuilder(e),s=this.getConfigDetails(),u=this.getFlag(e);if(u===null){Vi.logger.warn(`${Vi.loggerPrefix} No assigned variation. Flag not found: ${e}`);let m=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,CC.noneResult)(e,r,n,m,s.configFormat)}if(!r6e(i,u.variationType)){let m=`Variation value does not have the correct type. Found ${u.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let x=o.buildForNoneResult("TYPE_MISMATCH",m);return(0,CC.noneResult)(e,r,n,x,s.configFormat)}throw new TypeError(m)}if(!u.enabled){Vi.logger.info(`${Vi.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let m=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,CC.noneResult)(e,r,n,m,s.configFormat)}let l=this.evaluator.evaluateFlag(u,s,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(m){Vi.logger.error(`${Vi.loggerPrefix} Error logging assignment event: ${m}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,Pgt.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new e6e.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,Kgt.getMD5Hash)(e));return r?(0,Ngt.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new Q3e.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new Bgt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new Q3e.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new Ogt.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(o){Vi.logger.error(`${Vi.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:o,subjectAttributes:s,variation:u}=e,l={...e.extraLogging??{},allocation:o??null,experiment:o?`${r}-${o}`:null,featureFlag:r,format:n,variation:u?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(u&&o&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:o,variationKey:u.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:o??"__eppo_no_allocation",variationKey:u?.key??"__eppo_no_variation"})}catch(m){Vi.logger.error(`${Vi.loggerPrefix} Error logging assignment event: ${m.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:Vgt.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let o={};return Object.keys(n).forEach(s=>{let u=i[s];if(u){let l=this.getPrecomputedBandit(s,u.variationValue,e,r,n[s]);l&&(o[s]=l)}}),o}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(o=>o.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,o){let s=this.findBanditByVariation(e,r);if(!s)return null;let u=this.evaluateBanditAction(e,n,i,o,s.modelData);return u?{banditKey:s.banditKey,action:u.actionKey,actionNumericAttributes:u.actionAttributes.numericAttributes,actionCategoricalAttributes:u.actionAttributes.categoricalAttributes,actionProbability:u.actionWeight,modelVersion:s.modelVersion,optimalityGap:u.optimalityGap}:null}};T4.default=nZ;function r6e(t,e){return t===void 0||e===t}function Hgt(t,e){if(t==null)return!0;switch(t){case ih.VariationType.STRING:return typeof e=="string";case ih.VariationType.BOOLEAN:return typeof e=="boolean";case ih.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case ih.VariationType.NUMERIC:return typeof e=="number";case ih.VariationType.JSON:return typeof e=="string";default:return!1}}});var o6e=q(oZ=>{"use strict";d();h();Object.defineProperty(oZ,"__esModule",{value:!0});var n6e=dY(),i6e=W0(),iZ=class{constructor(e,r,n,i,o,s){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=o,this.banditActions=s}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,n6e.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:i6e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,n6e.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:i6e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};oZ.default=iZ});var u6e=q(aZ=>{"use strict";d();h();Object.defineProperty(aZ,"__esModule",{value:!0});var jgt=GR(),ui=rh(),s6e=rY(),zgt=JR(),Wgt=eC(),q1=q0(),a6e=lC(),Ggt=IC(),I4=W0(),c6e=H0(),$gt=tZ(),Ygt=o6e(),Zgt=PC(),Qgt=rZ(),Jgt=_C(),sZ=class{constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,s6e.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||ui.logger.error(`${ui.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&ui.logger.error(`${ui.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||ui.logger.error(`${ui.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&ui.logger.warn(`${ui.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=q1.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=q1.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:u=q1.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:m=!1,throwOnFailedInitialization:x=!1,skipInitialPoll:w=!1}=this.requestParameters,{subjectKey:E,subjectAttributes:I}=this.subject,{pollingIntervalMs:M=q1.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;M<=0&&(ui.logger.error("pollingIntervalMs must be greater than 0. Using default"),M=q1.DEFAULT_POLL_INTERVAL_MS);let k=new jgt.default({baseUrl:i??q1.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),C=new Ggt.default(k,o),R=new Ygt.default(C,this.precomputedFlagStore,E,I,this.precomputedBanditStore,this.banditActions),L=async()=>{if(await this.precomputedFlagStore.isExpired())return R.fetchAndStorePrecomputedFlags()};this.requestPoller=(0,$gt.default)(M,L,{maxStartRetries:s,maxPollRetries:u,pollAfterSuccessfulStart:l,pollAfterFailedStart:m,errorOnFailedStart:x,skipInitialPoll:w}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=o=>o){(0,Zgt.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.getPrecomputedFlag(e);if(o==null)return ui.logger.warn(`${ui.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,Jgt.checkTypeMatch)(n,o.variationType)){let u=`${ui.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${o.variationType}`;return ui.logger.error(u),r}let s={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,s6e.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:o.variationKey??"",value:o.variationValue},allocationKey:o.allocationKey??"",extraLogging:o.extraLogging??{},doLog:o.doLog};try{s?.doLog&&this.logAssignment(s)}catch(u){ui.logger.error(`${ui.loggerPrefix} Error logging assignment event: ${u}`)}try{return s.variation?.value!==void 0?i(s.variation.value):r}catch(u){return ui.logger.error(`${ui.loggerPrefix} Error transforming value: ${u}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,I4.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,I4.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,I4.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,I4.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,I4.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return ui.logger.warn(`${ui.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),o={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(o)}catch(s){ui.logger.error(`${ui.loggerPrefix} Error logging bandit action: ${s}`)}return{variation:i,action:o.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,c6e.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,a6e.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,a6e.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,c6e.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new Wgt.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new zgt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(o){ui.logger.error(`${ui.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:o,variation:s,format:u}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:u,variation:s?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:o,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(s&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:s.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<q1.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:s?.key??"__eppo_no_variation"})}catch(m){ui.logger.error(`${ui.loggerPrefix} Error logging assignment event: ${m.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(u){ui.logger.warn("Error encountered logging bandit action",u)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:Qgt.LIB_VERSION}}};aZ.default=sZ});var f6e=q(OC=>{"use strict";d();h();Object.defineProperty(OC,"__esModule",{value:!0});OC.HybridConfigurationStore=void 0;var BC=rh(),cZ=class{constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||BC.logger.warn(`${BC.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||BC.logger.warn(`${BC.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};OC.HybridConfigurationStore=cZ});var l6e=q(tS=>{"use strict";d();h();Object.defineProperty(tS,"__esModule",{value:!0});tS.MemoryOnlyConfigurationStore=tS.MemoryStore=void 0;var DC=class{constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};tS.MemoryStore=DC;var uZ=class{constructor(){this.servingStore=new DC,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};tS.MemoryOnlyConfigurationStore=uZ});var dZ=q(lZ=>{"use strict";d();h();Object.defineProperty(lZ,"__esModule",{value:!0});var Xgt=100,ebt=1e4,fZ=class{constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(Xgt,Math.min(ebt,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};lZ.default=fZ});var d6e=q(mZ=>{"use strict";d();h();Object.defineProperty(mZ,"__esModule",{value:!0});var hZ=rh(),pZ=class{constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:o}=this.config,s=Math.min(n*Math.pow(2,r),i);hZ.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${s}ms...`),await new Promise(l=>setTimeout(l,s));let{failedEvents:u}=await this.delivery.deliver(e);return u.length===0?(hZ.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<o-1?this.retry(u,r+1):(hZ.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${o} tries, bailing`),e)}};mZ.default=pZ});var h6e=q(gZ=>{"use strict";d();h();Object.defineProperty(gZ,"__esModule",{value:!0});var NC=rh(),yZ=class{constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{NC.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return NC.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){NC.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(NC.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:o})=>i.has(o))}):{failedEvents:[]}}};gZ.default=yZ});var m6e=q(vZ=>{"use strict";d();h();Object.defineProperty(vZ,"__esModule",{value:!0});var tbt=A$(),p6e="v0/i",bZ=class{decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=tbt.Base64.decode(r),o=new URLSearchParams(n).get("eh");if(!o)return null;let s=o.endsWith("/")?`${o}${p6e}`:`${o}/${p6e}`;return!s.startsWith("http://")&&!s.startsWith("https://")?`https://${s}`:s}};vZ.default=bZ});var y6e=q(oh=>{"use strict";d();h();Object.defineProperty(oh,"__esModule",{value:!0});oh.DEFAULT_EVENT_DISPATCHER_CONFIG=oh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;oh.newDefaultEventDispatcher=abt;var rS=rh(),rbt=dZ(),nbt=d6e(),ibt=h6e(),obt=QY(),sbt=m6e();oh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;oh.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var UC=class{constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:o,retryIntervalMs:s,maxRetryDelayMs:u,maxRetries:l=3}=n;this.eventDelivery=new ibt.default(i,o),this.retryManager=new nbt.default(this.eventDelivery,{retryIntervalMs:s,maxRetryDelayMs:u,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(m=>{rS.logger.info(`[EventDispatcher] Network status change, isOffline=${m}.`),this.isOffline=m,m?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){rS.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){rS.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}rS.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(rS.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};oh.default=UC;function abt(t,e,r,n=oh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=oh.DEFAULT_EVENT_DISPATCHER_CONFIG){let s=new sbt.default().decodeEventIngestionUrl(r);return s?new UC(new rbt.default(t,n),e,{...i,ingestionUrl:s,sdkKey:r}):(rS.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new obt.default)}});var x6e=q(Kt=>{"use strict";d();h();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.decodePrecomputedFlag=Kt.DefaultEventDispatcher=Kt.BatchEventProcessor=Kt.newDefaultEventDispatcher=Kt.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Kt.DEFAULT_EVENT_DISPATCHER_CONFIG=Kt.BoundedEventQueue=Kt.FormatEnum=Kt.VariationType=Kt.assignmentCacheValueToString=Kt.assignmentCacheKeyToString=Kt.LRUInMemoryAssignmentCache=Kt.NonExpiringInMemoryAssignmentCache=Kt.MemoryOnlyConfigurationStore=Kt.HybridConfigurationStore=Kt.MemoryStore=Kt.EppoPrecomputedClient=Kt.validation=Kt.HttpClient=Kt.FlagConfigRequestor=Kt.ApiEndpoints=Kt.constants=Kt.EppoClient=Kt.AbstractAssignmentCache=Kt.applicationLogger=Kt.loggerPrefix=void 0;var cbt=GR();Kt.ApiEndpoints=cbt.default;var g6e=rh();Object.defineProperty(Kt,"applicationLogger",{enumerable:!0,get:function(){return g6e.logger}});Object.defineProperty(Kt,"loggerPrefix",{enumerable:!0,get:function(){return g6e.loggerPrefix}});var xZ=n4();Object.defineProperty(Kt,"AbstractAssignmentCache",{enumerable:!0,get:function(){return xZ.AbstractAssignmentCache}});Object.defineProperty(Kt,"assignmentCacheKeyToString",{enumerable:!0,get:function(){return xZ.assignmentCacheKeyToString}});Object.defineProperty(Kt,"assignmentCacheValueToString",{enumerable:!0,get:function(){return xZ.assignmentCacheValueToString}});var ubt=JR();Object.defineProperty(Kt,"LRUInMemoryAssignmentCache",{enumerable:!0,get:function(){return ubt.LRUInMemoryAssignmentCache}});var fbt=eC();Object.defineProperty(Kt,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:function(){return fbt.NonExpiringInMemoryAssignmentCache}});var lbt=_C();Kt.EppoClient=lbt.default;var dbt=u6e();Kt.EppoPrecomputedClient=dbt.default;var hbt=yY();Kt.FlagConfigRequestor=hbt.default;var pbt=f6e();Object.defineProperty(Kt,"HybridConfigurationStore",{enumerable:!0,get:function(){return pbt.HybridConfigurationStore}});var b6e=l6e();Object.defineProperty(Kt,"MemoryStore",{enumerable:!0,get:function(){return b6e.MemoryStore}});Object.defineProperty(Kt,"MemoryOnlyConfigurationStore",{enumerable:!0,get:function(){return b6e.MemoryOnlyConfigurationStore}});var mbt=q0();Kt.constants=mbt;var ybt=lC();Object.defineProperty(Kt,"decodePrecomputedFlag",{enumerable:!0,get:function(){return ybt.decodePrecomputedFlag}});var gbt=dZ();Kt.BatchEventProcessor=gbt.default;var bbt=$Y();Object.defineProperty(Kt,"BoundedEventQueue",{enumerable:!0,get:function(){return bbt.BoundedEventQueue}});var LC=y6e();Kt.DefaultEventDispatcher=LC.default;Object.defineProperty(Kt,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:function(){return LC.DEFAULT_EVENT_DISPATCHER_CONFIG}});Object.defineProperty(Kt,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:function(){return LC.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE}});Object.defineProperty(Kt,"newDefaultEventDispatcher",{enumerable:!0,get:function(){return LC.newDefaultEventDispatcher}});var vbt=IC();Kt.HttpClient=vbt.default;var v6e=W0();Object.defineProperty(Kt,"VariationType",{enumerable:!0,get:function(){return v6e.VariationType}});Object.defineProperty(Kt,"FormatEnum",{enumerable:!0,get:function(){return v6e.FormatEnum}});var xbt=PC();Kt.validation=xbt});var P8e=q((mqr,k8e)=>{d();h();var _2t=TNe(),T2t=UL(),I2t="[object Date]";function M2t(t){return T2t(t)&&_2t(t)==I2t}k8e.exports=M2t});var O8e=q((bqr,B8e)=>{d();h();var k2t=P8e(),P2t=LL(),R8e=FL(),C8e=R8e&&R8e.isDate,R2t=C8e?P2t(C8e):k2t;B8e.exports=R2t});var GS=q(GO=>{"use strict";d();h();Object.defineProperty(GO,"__esModule",{value:!0});GO.AppAuthError=void 0;var OAt=function(){function t(e,r){this.message=e,this.extras=r}return t}();GO.AppAuthError=OAt});var $O=q(wh=>{"use strict";d();h();Object.defineProperty(wh,"__esModule",{value:!0});wh.DefaultCrypto=wh.textEncodeLite=wh.urlSafe=wh.bufferToString=void 0;var DAt=Toe(),mTe=GS(),yTe=typeof self<"u"&&!!self.crypto,NAt=yTe&&!!self.crypto.subtle,cX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function gTe(t){for(var e=[],r=0;r<t.byteLength;r+=1){var n=t[r]%cX.length;e.push(cX[n])}return e.join("")}wh.bufferToString=gTe;function bTe(t){var e=DAt.fromByteArray(new Uint8Array(t));return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}wh.urlSafe=bTe;function vTe(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}wh.textEncodeLite=vTe;var UAt=function(){function t(){}return t.prototype.generateRandom=function(e){var r=new Uint8Array(e);if(yTe)self.crypto.getRandomValues(r);else for(var n=0;n<e;n+=1)r[n]=Math.random()*cX.length|0;return gTe(r)},t.prototype.deriveChallenge=function(e){return e.length<43||e.length>128?Promise.reject(new mTe.AppAuthError("Invalid code length.")):NAt?new Promise(function(r,n){self.crypto.subtle.digest("SHA-256",vTe(e)).then(function(i){return r(bTe(new Uint8Array(i)))},function(i){return n(i)})}):Promise.reject(new mTe.AppAuthError("window.crypto.subtle is unavailable."))},t}();wh.DefaultCrypto=UAt});var uX=q(Su=>{"use strict";d();h();Object.defineProperty(Su,"__esModule",{value:!0});Su.IS_PROFILE=Su.IS_LOG=Su.setFlag=Su.Flags=void 0;Su.Flags={IS_LOG:!0,IS_PROFILE:!1};function LAt(t,e){Su.Flags[t]=e}Su.setFlag=LAt;Su.IS_LOG=Su.Flags.IS_LOG,Su.IS_PROFILE=Su.Flags.IS_PROFILE});var B8=q(cg=>{"use strict";d();h();var fX=cg&&cg.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(cg,"__esModule",{value:!0});cg.profile=cg.log=void 0;var xTe=uX();function lX(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(xTe.Flags.IS_LOG){var n=e?e.length:0;n>0?console.log.apply(console,fX([t],e,!1)):console.log(t)}}cg.log=lX;var FAt=typeof self<"u"&&!!self.performance&&!!console.profile;function KAt(t,e,r){return xTe.Flags.IS_PROFILE?qAt(t,e,r):r}cg.profile=KAt;function qAt(t,e,r){var n=r.value,i=n.name;return i||(i="anonymous function"),FAt?r.value=function(o){console.profile(i);var s=self.performance.now(),u=n.call.apply(n,fX([this||self],o,!1)),l=self.performance.now()-s;return console.log("".concat(i," took ").concat(l," ms")),console.profileEnd(),u}:r.value=function(o){lX("Profile start ".concat(i));var s=Date.now(),u=n.call.apply(n,fX([this||self],o,!1)),l=Date.now()-s;return lX("Profile end ".concat(i," took ").concat(l," ms.")),u},r}});var dX=q(YO=>{"use strict";d();h();Object.defineProperty(YO,"__esModule",{value:!0});YO.AuthorizationRequest=void 0;var VAt=$O(),HAt=B8(),jAt=10,zAt=function(t){return t.generateRandom(jAt)},WAt=function(){function t(e,r,n){r===void 0&&(r=new VAt.DefaultCrypto),n===void 0&&(n=!0),this.crypto=r,this.usePkce=n,this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.scope=e.scope,this.responseType=e.response_type||t.RESPONSE_TYPE_CODE,this.state=e.state||zAt(r),this.extras=e.extras,this.internal=e.internal}return t.prototype.setupCodeVerifier=function(){var e=this;if(this.usePkce){var r=this.crypto.generateRandom(128),n=this.crypto.deriveChallenge(r).catch(function(i){(0,HAt.log)("Unable to generate PKCE challenge. Not using PKCE",i)});return n.then(function(i){i&&(e.internal=e.internal||{},e.internal.code_verifier=r,e.extras=e.extras||{},e.extras.code_challenge=i,e.extras.code_challenge_method="S256")})}else return Promise.resolve()},t.prototype.toJson=function(){var e=this;return this.setupCodeVerifier().then(function(){return{response_type:e.responseType,client_id:e.clientId,redirect_uri:e.redirectUri,scope:e.scope,state:e.state,extras:e.extras,internal:e.internal}})},t.RESPONSE_TYPE_TOKEN="token",t.RESPONSE_TYPE_CODE="code",t}();YO.AuthorizationRequest=WAt});var wTe=q(ZO=>{"use strict";d();h();Object.defineProperty(ZO,"__esModule",{value:!0});ZO.requireValidUrl=void 0;var GAt=GS();function $At(t){try{return new URL(t),t}catch{throw new GAt.AppAuthError("Invalid input url ".concat(t))}}ZO.requireValidUrl=$At});var pX=q(lp=>{"use strict";d();h();Object.defineProperty(lp,"__esModule",{value:!0});lp.AuthorizationRequestHandler=lp.BUILT_IN_PARAMETERS=lp.AuthorizationNotifier=void 0;var hX=B8(),YAt=wTe(),ZAt=function(){function t(){this.listener=null}return t.prototype.setAuthorizationListener=function(e){this.listener=e},t.prototype.onAuthorizationComplete=function(e,r,n){this.listener&&this.listener(e,r,n)},t}();lp.AuthorizationNotifier=ZAt;lp.BUILT_IN_PARAMETERS=["redirect_uri","client_id","response_type","state","scope"];var QAt=function(){function t(e,r){this.utils=e,this.crypto=r,this.notifier=null}return t.prototype.buildRequestUrl=function(e,r){var n={redirect_uri:r.redirectUri,client_id:r.clientId,response_type:r.responseType,state:r.state,scope:r.scope};if(r.extras)for(var i in r.extras)r.extras.hasOwnProperty(i)&&lp.BUILT_IN_PARAMETERS.indexOf(i)<0&&(n[i]=r.extras[i]);var o=this.utils.stringify(n),s=(0,YAt.requireValidUrl)(e.authorizationEndpoint),u="".concat(s,"?").concat(o);return u},t.prototype.completeAuthorizationRequestIfPossible=function(){var e=this;return(0,hX.log)("Checking to see if there is an authorization response to be delivered."),this.notifier||(0,hX.log)(`Notifier is not present on AuthorizationRequest handler.
          No delivery of result will be possible`),this.completeAuthorizationRequest().then(function(r){r||(0,hX.log)("No result is available yet."),r&&e.notifier&&e.notifier.onAuthorizationComplete(r.request,r.response,r.error)})},t.prototype.setAuthorizationNotifier=function(e){return this.notifier=e,this},t}();lp.AuthorizationRequestHandler=QAt});var mX=q($S=>{"use strict";d();h();Object.defineProperty($S,"__esModule",{value:!0});$S.AuthorizationError=$S.AuthorizationResponse=void 0;var JAt=function(){function t(e){this.code=e.code,this.state=e.state}return t.prototype.toJson=function(){return{code:this.code,state:this.state}},t}();$S.AuthorizationResponse=JAt;var XAt=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri,this.state=e.state}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri,state:this.state}},t}();$S.AuthorizationError=XAt});var JO=q(Kf=>{"use strict";d();h();var gX=Kf&&Kf.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Kf,"__esModule",{value:!0});Kf.TestRequestor=Kf.FetchRequestor=Kf.JQueryRequestor=Kf.Requestor=void 0;var yX=GS(),QO=function(){function t(){}return t}();Kf.Requestor=QO;var eEt=function(t){gX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){var n=$.ajax(r);return new Promise(function(i,o){n.then(function(s,u,l){i(s)},function(s,u,l){o(new yX.AppAuthError(l))})})},e}(QO);Kf.JQueryRequestor=eEt;var tEt=function(t){gX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){if(!r.url)return Promise.reject(new yX.AppAuthError("A URL must be provided."));var n=new URL(r.url),i={};if(i.method=r.method,i.mode="cors",r.data)if(r.method&&r.method.toUpperCase()==="POST")i.body=r.data;else{var o=new URLSearchParams(r.data);o.forEach(function(l,m){n.searchParams.append(m,l)})}if(i.headers={},r.headers)for(var s in r.headers)r.headers.hasOwnProperty(s)&&(i.headers[s]=r.headers[s]);var u=r.dataType&&r.dataType.toLowerCase()==="json";return u&&(i.headers.Accept="application/json, text/javascript, */*; q=0.01"),fetch(n.toString(),i).then(function(l){if(l.status>=200&&l.status<300){var m=l.headers.get("content-type");return u||m&&m.indexOf("application/json")!==-1?l.json():l.text()}else return Promise.reject(new yX.AppAuthError(l.status.toString(),l.statusText))})},e}(QO);Kf.FetchRequestor=tEt;var rEt=function(t){gX(e,t);function e(r){var n=t.call(this)||this;return n.promise=r,n}return e.prototype.xhr=function(r){return this.promise},e}(QO);Kf.TestRequestor=rEt});var STe=q(XO=>{"use strict";d();h();Object.defineProperty(XO,"__esModule",{value:!0});XO.AuthorizationServiceConfiguration=void 0;var nEt=JO(),iEt=".well-known",oEt="openid-configuration",sEt=function(){function t(e){this.authorizationEndpoint=e.authorization_endpoint,this.tokenEndpoint=e.token_endpoint,this.revocationEndpoint=e.revocation_endpoint,this.userInfoEndpoint=e.userinfo_endpoint,this.endSessionEndpoint=e.end_session_endpoint}return t.prototype.toJson=function(){return{authorization_endpoint:this.authorizationEndpoint,token_endpoint:this.tokenEndpoint,revocation_endpoint:this.revocationEndpoint,end_session_endpoint:this.endSessionEndpoint,userinfo_endpoint:this.userInfoEndpoint}},t.fetchFromIssuer=function(e,r){var n="".concat(e,"/").concat(iEt,"/").concat(oEt),i=r||new nEt.JQueryRequestor;return i.xhr({url:n,dataType:"json",method:"GET"}).then(function(o){return new t(o)})},t}();XO.AuthorizationServiceConfiguration=sEt});var tD=q(eD=>{"use strict";d();h();Object.defineProperty(eD,"__esModule",{value:!0});eD.BasicQueryStringUtils=void 0;var aEt=function(){function t(){}return t.prototype.parse=function(e,r){return r?this.parseQueryString(e.hash):this.parseQueryString(e.search)},t.prototype.parseQueryString=function(e){var r={};e=e.trim().replace(/^(\?|#|&)/,"");for(var n=e.split("&"),i=0;i<n.length;i+=1){var o=n[i],s=o.split("=");if(s.length>=2){var u=decodeURIComponent(s.shift()),l=s.length>0?s.join("="):null;l&&(r[u]=decodeURIComponent(l))}}return r},t.prototype.stringify=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&r.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return r.join("&")},t}();eD.BasicQueryStringUtils=aEt});var bX=q(ug=>{"use strict";d();h();var cEt=ug&&ug.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ug,"__esModule",{value:!0});ug.LocalStorageBackend=ug.StorageBackend=void 0;var ATe=function(){function t(){}return t}();ug.StorageBackend=ATe;var uEt=function(t){cEt(e,t);function e(r){var n=t.call(this)||this;return n.storage=r||self.localStorage,n}return e.prototype.getItem=function(r){var n=this;return new Promise(function(i,o){var s=n.storage.getItem(r);i(s||null)})},e.prototype.removeItem=function(r){var n=this;return new Promise(function(i,o){n.storage.removeItem(r),i()})},e.prototype.clear=function(){var r=this;return new Promise(function(n,i){r.storage.clear(),n()})},e.prototype.setItem=function(r,n){var i=this;return new Promise(function(o,s){i.storage.setItem(r,n),o()})},e}(ATe);ug.LocalStorageBackend=uEt});var TTe=q(YS=>{"use strict";d();h();var fEt=YS&&YS.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(YS,"__esModule",{value:!0});YS.RedirectRequestHandler=void 0;var lEt=dX(),dEt=pX(),ETe=mX(),hEt=$O(),rD=B8(),pEt=tD(),mEt=bX(),vX=function(t){return"".concat(t,"_appauth_authorization_request")},_Te=function(t){return"".concat(t,"_appauth_authorization_service_configuration")},xX="appauth_current_authorization_request",yEt=function(t){fEt(e,t);function e(r,n,i,o){r===void 0&&(r=new mEt.LocalStorageBackend),n===void 0&&(n=new pEt.BasicQueryStringUtils),i===void 0&&(i=self.location),o===void 0&&(o=new hEt.DefaultCrypto);var s=t.call(this,n,o)||this;return s.storageBackend=r,s.locationLike=i,s}return e.prototype.performAuthorizationRequest=function(r,n){var i=this,o=this.crypto.generateRandom(10),s=Promise.all([this.storageBackend.setItem(xX,o),n.toJson().then(function(u){return i.storageBackend.setItem(vX(o),JSON.stringify(u))}),this.storageBackend.setItem(_Te(o),JSON.stringify(r.toJson()))]);s.then(function(){var u=i.buildRequestUrl(r,n);(0,rD.log)("Making a request to ",n,u),i.locationLike.assign(u)})},e.prototype.completeAuthorizationRequest=function(){var r=this;return this.storageBackend.getItem(xX).then(function(n){return n?r.storageBackend.getItem(vX(n)).then(function(i){return JSON.parse(i)}).then(function(i){return new lEt.AuthorizationRequest(i)}).then(function(i){var o="".concat(r.locationLike.origin).concat(r.locationLike.pathname),s=r.utils.parse(r.locationLike,!0),u=s.state,l=s.code,m=s.error;(0,rD.log)("Potential authorization request ",o,s,u,l,m);var x=u===i.state,w=null,E=null;if(x){if(m){var I=s.error_uri,M=s.error_description;E=new ETe.AuthorizationError({error:m,error_description:M,error_uri:I,state:u})}else w=new ETe.AuthorizationResponse({code:l,state:u});return Promise.all([r.storageBackend.removeItem(xX),r.storageBackend.removeItem(vX(n)),r.storageBackend.removeItem(_Te(n))]).then(function(){return(0,rD.log)("Delivering authorization response"),{request:i,response:w,error:E}})}else return(0,rD.log)("Mismatched request (state and request_uri) dont match."),Promise.resolve(null)}):null})},e}(dEt.AuthorizationRequestHandler);YS.RedirectRequestHandler=yEt});var ITe=q(nD=>{"use strict";d();h();Object.defineProperty(nD,"__esModule",{value:!0});nD.RevokeTokenRequest=void 0;var gEt=function(){function t(e){this.token=e.token,this.tokenTypeHint=e.token_type_hint,this.clientId=e.client_id,this.clientSecret=e.client_secret}return t.prototype.toJson=function(){var e={token:this.token};return this.tokenTypeHint&&(e.token_type_hint=this.tokenTypeHint),this.clientId&&(e.client_id=this.clientId),this.clientSecret&&(e.client_secret=this.clientSecret),e},t.prototype.toStringMap=function(){var e=this.toJson();return e},t}();nD.RevokeTokenRequest=gEt});var MTe=q(fg=>{"use strict";d();h();Object.defineProperty(fg,"__esModule",{value:!0});fg.TokenRequest=fg.GRANT_TYPE_REFRESH_TOKEN=fg.GRANT_TYPE_AUTHORIZATION_CODE=void 0;fg.GRANT_TYPE_AUTHORIZATION_CODE="authorization_code";fg.GRANT_TYPE_REFRESH_TOKEN="refresh_token";var bEt=function(){function t(e){this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.grantType=e.grant_type,this.code=e.code,this.refreshToken=e.refresh_token,this.extras=e.extras}return t.prototype.toJson=function(){return{grant_type:this.grantType,code:this.code,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,client_id:this.clientId,extras:this.extras}},t.prototype.toStringMap=function(){var e={grant_type:this.grantType,client_id:this.clientId,redirect_uri:this.redirectUri};if(this.code&&(e.code=this.code),this.refreshToken&&(e.refresh_token=this.refreshToken),this.extras)for(var r in this.extras)this.extras.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=this.extras[r]);return e},t}();fg.TokenRequest=bEt});var wX=q(Sh=>{"use strict";d();h();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.TokenError=Sh.TokenResponse=Sh.nowInSeconds=void 0;var vEt=10*60*-1,xEt=function(){return Math.round(new Date().getTime()/1e3)};Sh.nowInSeconds=xEt;var wEt=function(){function t(e){this.accessToken=e.access_token,this.tokenType=e.token_type||"bearer",e.expires_in&&(this.expiresIn=parseInt(e.expires_in,10)),this.refreshToken=e.refresh_token,this.scope=e.scope,this.idToken=e.id_token,this.issuedAt=e.issued_at||(0,Sh.nowInSeconds)()}return t.prototype.toJson=function(){var e;return{access_token:this.accessToken,id_token:this.idToken,refresh_token:this.refreshToken,scope:this.scope,token_type:this.tokenType,issued_at:this.issuedAt,expires_in:(e=this.expiresIn)===null||e===void 0?void 0:e.toString()}},t.prototype.isValid=function(e){if(e===void 0&&(e=vEt),this.expiresIn){var r=(0,Sh.nowInSeconds)();return r<this.issuedAt+this.expiresIn+e}else return!0},t}();Sh.TokenResponse=wEt;var SEt=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri}},t}();Sh.TokenError=SEt});var PTe=q(iD=>{"use strict";d();h();Object.defineProperty(iD,"__esModule",{value:!0});iD.BaseTokenRequestHandler=void 0;var AEt=GS(),EEt=tD(),kTe=wX(),_Et=JO(),TEt=function(){function t(e,r){e===void 0&&(e=new _Et.JQueryRequestor),r===void 0&&(r=new EEt.BasicQueryStringUtils),this.requestor=e,this.utils=r}return t.prototype.isTokenResponse=function(e){return e.error===void 0},t.prototype.performRevokeTokenRequest=function(e,r){var n=this.requestor.xhr({url:e.revocationEndpoint,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return n.then(function(i){return!0})},t.prototype.performTokenRequest=function(e,r){var n=this,i=this.requestor.xhr({url:e.tokenEndpoint,method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return i.then(function(o){return n.isTokenResponse(o)?new kTe.TokenResponse(o):Promise.reject(new AEt.AppAuthError(o.error,new kTe.TokenError(o)))})},t}();iD.BaseTokenRequestHandler=TEt});var CTe=q(RTe=>{"use strict";d();h();Object.defineProperty(RTe,"__esModule",{value:!0})});var SX=q(Hi=>{"use strict";d();h();var IEt=Hi&&Hi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vs=Hi&&Hi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&IEt(e,t,r)};Object.defineProperty(Hi,"__esModule",{value:!0});Vs(dX(),Hi);Vs(pX(),Hi);Vs(mX(),Hi);Vs(STe(),Hi);Vs($O(),Hi);Vs(GS(),Hi);Vs(uX(),Hi);Vs(B8(),Hi);Vs(tD(),Hi);Vs(TTe(),Hi);Vs(ITe(),Hi);Vs(bX(),Hi);Vs(MTe(),Hi);Vs(PTe(),Hi);Vs(wX(),Hi);Vs(CTe(),Hi);Vs(JO(),Hi)});var sIe=q(($sn,oIe)=>{d();h();function F3t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}oIe.exports=F3t});var cIe=q((Qsn,aIe)=>{d();h();var K3t=DT(),q3t=Mse();function V3t(t,e){return t&&K3t(e,q3t(e),t)}aIe.exports=V3t});var fIe=q((ean,uIe)=>{d();h();var H3t=DT(),j3t=KL();function z3t(t,e){return t&&H3t(e,j3t(e),t)}uIe.exports=z3t});var dIe=q((nan,lIe)=>{d();h();var W3t=DT(),G3t=kse();function $3t(t,e){return W3t(t,G3t(t),e)}lIe.exports=$3t});var lee=q((san,hIe)=>{d();h();var Y3t=NNe(),Z3t=UNe(),Q3t=kse(),J3t=DNe(),X3t=Object.getOwnPropertySymbols,e6t=X3t?function(t){for(var e=[];t;)Y3t(e,Q3t(t)),t=Z3t(t);return e}:J3t;hIe.exports=e6t});var mIe=q((uan,pIe)=>{d();h();var t6t=DT(),r6t=lee();function n6t(t,e){return t6t(t,r6t(t),e)}pIe.exports=n6t});var gIe=q((dan,yIe)=>{d();h();var i6t=LNe(),o6t=lee(),s6t=KL();function a6t(t){return i6t(t,s6t,o6t)}yIe.exports=a6t});var vIe=q((man,bIe)=>{d();h();var c6t=Object.prototype,u6t=c6t.hasOwnProperty;function f6t(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&u6t.call(t,"index")&&(r.index=t.index,r.input=t.input),r}bIe.exports=f6t});var wIe=q((ban,xIe)=>{d();h();var l6t=Pse();function d6t(t,e){var r=e?l6t(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}xIe.exports=d6t});var AIe=q((wan,SIe)=>{d();h();var h6t=/\w*$/;function p6t(t){var e=new t.constructor(t.source,h6t.exec(t));return e.lastIndex=t.lastIndex,e}SIe.exports=p6t});var MIe=q((Ean,IIe)=>{d();h();var EIe=_Ne(),_Ie=EIe?EIe.prototype:void 0,TIe=_Ie?_Ie.valueOf:void 0;function m6t(t){return TIe?Object(TIe.call(t)):{}}IIe.exports=m6t});var PIe=q((Ian,kIe)=>{d();h();var y6t=Pse(),g6t=wIe(),b6t=AIe(),v6t=MIe(),x6t=KNe(),w6t="[object Boolean]",S6t="[object Date]",A6t="[object Map]",E6t="[object Number]",_6t="[object RegExp]",T6t="[object Set]",I6t="[object String]",M6t="[object Symbol]",k6t="[object ArrayBuffer]",P6t="[object DataView]",R6t="[object Float32Array]",C6t="[object Float64Array]",B6t="[object Int8Array]",O6t="[object Int16Array]",D6t="[object Int32Array]",N6t="[object Uint8Array]",U6t="[object Uint8ClampedArray]",L6t="[object Uint16Array]",F6t="[object Uint32Array]";function K6t(t,e,r){var n=t.constructor;switch(e){case k6t:return y6t(t);case w6t:case S6t:return new n(+t);case P6t:return g6t(t,r);case R6t:case C6t:case B6t:case O6t:case D6t:case N6t:case U6t:case L6t:case F6t:return x6t(t,r);case A6t:return new n;case E6t:case I6t:return new n(t);case _6t:return b6t(t);case T6t:return new n;case M6t:return v6t(t)}}kIe.exports=K6t});var CIe=q((Pan,RIe)=>{d();h();var q6t=qL(),V6t=UL(),H6t="[object Map]";function j6t(t){return V6t(t)&&q6t(t)==H6t}RIe.exports=j6t});var NIe=q((Ban,DIe)=>{d();h();var z6t=CIe(),W6t=LL(),BIe=FL(),OIe=BIe&&BIe.isMap,G6t=OIe?W6t(OIe):z6t;DIe.exports=G6t});var LIe=q((Nan,UIe)=>{d();h();var $6t=qL(),Y6t=UL(),Z6t="[object Set]";function Q6t(t){return Y6t(t)&&$6t(t)==Z6t}UIe.exports=Q6t});var VIe=q((Fan,qIe)=>{d();h();var J6t=LIe(),X6t=LL(),FIe=FL(),KIe=FIe&&FIe.isSet,e_t=KIe?X6t(KIe):J6t;qIe.exports=e_t});var GIe=q((Van,WIe)=>{d();h();var t_t=kNe(),r_t=sIe(),n_t=PNe(),i_t=cIe(),o_t=fIe(),s_t=BNe(),a_t=ONe(),c_t=dIe(),u_t=mIe(),f_t=FNe(),l_t=gIe(),d_t=qL(),h_t=vIe(),p_t=PIe(),m_t=qNe(),y_t=RNe(),g_t=CNe(),b_t=NIe(),v_t=MNe(),x_t=VIe(),w_t=Mse(),S_t=KL(),A_t=1,E_t=2,__t=4,HIe="[object Arguments]",T_t="[object Array]",I_t="[object Boolean]",M_t="[object Date]",k_t="[object Error]",jIe="[object Function]",P_t="[object GeneratorFunction]",R_t="[object Map]",C_t="[object Number]",zIe="[object Object]",B_t="[object RegExp]",O_t="[object Set]",D_t="[object String]",N_t="[object Symbol]",U_t="[object WeakMap]",L_t="[object ArrayBuffer]",F_t="[object DataView]",K_t="[object Float32Array]",q_t="[object Float64Array]",V_t="[object Int8Array]",H_t="[object Int16Array]",j_t="[object Int32Array]",z_t="[object Uint8Array]",W_t="[object Uint8ClampedArray]",G_t="[object Uint16Array]",$_t="[object Uint32Array]",fi={};fi[HIe]=fi[T_t]=fi[L_t]=fi[F_t]=fi[I_t]=fi[M_t]=fi[K_t]=fi[q_t]=fi[V_t]=fi[H_t]=fi[j_t]=fi[R_t]=fi[C_t]=fi[zIe]=fi[B_t]=fi[O_t]=fi[D_t]=fi[N_t]=fi[z_t]=fi[W_t]=fi[G_t]=fi[$_t]=!0;fi[k_t]=fi[jIe]=fi[U_t]=!1;function mD(t,e,r,n,i,o){var s,u=e&A_t,l=e&E_t,m=e&__t;if(r&&(s=i?r(t,n,i,o):r(t)),s!==void 0)return s;if(!v_t(t))return t;var x=y_t(t);if(x){if(s=h_t(t),!u)return a_t(t,s)}else{var w=d_t(t),E=w==jIe||w==P_t;if(g_t(t))return s_t(t,u);if(w==zIe||w==HIe||E&&!i){if(s=l||E?{}:m_t(t),!u)return l?u_t(t,o_t(s,t)):c_t(t,i_t(s,t))}else{if(!fi[w])return i?t:{};s=p_t(t,w,u)}}o||(o=new t_t);var I=o.get(t);if(I)return I;o.set(t,s),x_t(t)?t.forEach(function(C){s.add(mD(C,e,r,C,t,o))}):b_t(t)&&t.forEach(function(C,R){s.set(R,mD(C,e,r,R,t,o))});var M=m?l?l_t:f_t:l?S_t:w_t,k=x?void 0:M(t);return r_t(k||t,function(C,R){k&&(R=C,C=t[R]),n_t(s,R,mD(C,e,r,R,t,o))}),s}WIe.exports=mD});var YIe=q((zan,$Ie)=>{d();h();var Y_t=GIe(),Z_t=1,Q_t=4;function J_t(t){return Y_t(t,Z_t|Q_t)}$Ie.exports=J_t});var cMe=q((pcn,aMe)=>{d();h();var xn={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Vf(t,e){if(!t)throw new Error(e)}function en(t,e,r){if(Vf(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;Vf(r.includes(e.length),i)}else{let n=`Expected ${t} to be an Uint8Array with length ${r}`;Vf(e.length===r,n)}}function Av(t){Vf(sA(t)==="Boolean","Expected compressed to be a Boolean")}function Yl(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),en("output",t,e),t}function sA(t){return Object.prototype.toString.call(t).slice(8,-1)}aMe.exports=t=>({contextRandomize(e){switch(Vf(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&en("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(xn.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return en("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(en("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(xn.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(en("private key",e,32),en("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(xn.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(en("private key",e,32),en("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(xn.TWEAK_MUL)}},publicKeyVerify(e){return en("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(en("private key",e,32),Av(r),n=Yl(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(xn.SECKEY_INVALID);case 2:throw new Error(xn.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(en("public key",e,[33,65]),Av(r),n=Yl(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(xn.PUBKEY_PARSE);case 2:throw new Error(xn.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(en("public key",e,[33,65]),Av(r),n=Yl(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(xn.PUBKEY_PARSE);case 2:throw new Error(xn.IMPOSSIBLE_CASE);case 3:throw new Error(xn.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){Vf(Array.isArray(e),"Expected public keys to be an Array"),Vf(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)en("public key",i,[33,65]);switch(Av(r),n=Yl(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(xn.PUBKEY_PARSE);case 2:throw new Error(xn.PUBKEY_COMBINE);case 3:throw new Error(xn.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(en("public key",e,[33,65]),en("tweak",r,32),Av(n),i=Yl(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(xn.PUBKEY_PARSE);case 2:throw new Error(xn.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(en("public key",e,[33,65]),en("tweak",r,32),Av(n),i=Yl(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(xn.PUBKEY_PARSE);case 2:throw new Error(xn.TWEAK_MUL)}},signatureNormalize(e){switch(en("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(xn.SIG_PARSE)}},signatureExport(e,r){en("signature",e,64),r=Yl(r,72);let n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(xn.SIG_PARSE);case 2:throw new Error(xn.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(en("signature",e),r=Yl(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(xn.SIG_PARSE);case 2:throw new Error(xn.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){en("message",e,32),en("private key",r,32),Vf(sA(n)==="Object","Expected options to be an Object"),n.data!==void 0&&en("options.data",n.data),n.noncefn!==void 0&&Vf(sA(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Yl(i,64);let o={signature:i,recid:null};switch(t.ecdsaSign(o,e,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(xn.SIGN);case 2:throw new Error(xn.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(en("signature",e,64),en("message",r,32),en("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(xn.SIG_PARSE);case 2:throw new Error(xn.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,o){switch(en("signature",e,64),Vf(sA(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),en("message",n,32),Av(i),o=Yl(o,i?33:65),t.ecdsaRecover(o,e,r,n)){case 0:return o;case 1:throw new Error(xn.SIG_PARSE);case 2:throw new Error(xn.RECOVER);case 3:throw new Error(xn.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(en("public key",e,[33,65]),en("private key",r,32),Vf(sA(n)==="Object","Expected options to be an Object"),n.data!==void 0&&en("options.data",n.data),n.hashfn!==void 0?(Vf(sA(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&en("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&en("options.ybuf",n.ybuf,32),en("output",i)):i=Yl(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(xn.PUBKEY_PARSE);case 2:throw new Error(xn.ECDH)}}})});var fMe=q((gcn,uMe)=>{d();h();var s4t=Yx().ec,Th=new s4t("secp256k1"),Yr=Th.curve,ti=Yr.n.constructor;function a4t(t,e){let r=new ti(e);if(r.cmp(Yr.p)>=0)return null;r=r.toRed(Yr.red);let n=r.redSqr().redIMul(r).redIAdd(Yr.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),Th.keyPair({pub:{x:r,y:n}})}function c4t(t,e,r){let n=new ti(e),i=new ti(r);if(n.cmp(Yr.p)>=0||i.cmp(Yr.p)>=0||(n=n.toRed(Yr.red),i=i.toRed(Yr.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(Yr.b)).isZero()?Th.keyPair({pub:{x:n,y:i}}):null}function mg(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:a4t(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:c4t(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Ev(t,e){let r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}uMe.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new ti(t);return e.cmp(Yr.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new ti(t),r=Yr.n.sub(e).umod(Yr.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new ti(e);if(r.cmp(Yr.n)>=0||(r.iadd(new ti(t)),r.cmp(Yr.n)>=0&&r.isub(Yr.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new ti(e);if(r.cmp(Yr.n)>=0||r.isZero())return 1;r.imul(new ti(t)),r.cmp(Yr.n)>=0&&(r=r.umod(Yr.n));let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return mg(t)===null?1:0},publicKeyCreate(t,e){let r=new ti(e);if(r.cmp(Yr.n)>=0||r.isZero())return 1;let n=Th.keyFromPrivate(e).getPublic();return Ev(t,n),0},publicKeyConvert(t,e){let r=mg(e);if(r===null)return 1;let n=r.getPublic();return Ev(t,n),0},publicKeyNegate(t,e){let r=mg(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),Ev(t,n),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=mg(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Ev(t,n),0)},publicKeyTweakAdd(t,e,r){let n=mg(e);if(n===null)return 1;if(r=new ti(r),r.cmp(Yr.n)>=0)return 2;let i=n.getPublic().add(Yr.g.mul(r));return i.isInfinity()?2:(Ev(t,i),0)},publicKeyTweakMul(t,e,r){let n=mg(e);if(n===null)return 1;if(r=new ti(r),r.cmp(Yr.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return Ev(t,i),0},signatureNormalize(t){let e=new ti(t.subarray(0,32)),r=new ti(t.subarray(32,64));return e.cmp(Yr.n)>=0||r.cmp(Yr.n)>=0?1:(r.cmp(Th.nh)===1&&t.set(Yr.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new ti(r).cmp(Yr.n)>=0||new ti(n).cmp(Yr.n)>=0)return 1;let{output:i}=t,o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,u=0;for(;s>1&&o[u]===0&&!(o[u+1]&128);--s,++u);if(o=o.subarray(u),o[0]&128||s>1&&o[0]===0&&!(o[1]&128))return 1;let l=i.subarray(39,72);l[0]=0,l.set(n,1);let m=33,x=0;for(;m>1&&l[x]===0&&!(l[x+1]&128);--m,++x);return l=l.subarray(x),l[0]&128||m>1&&l[0]===0&&!(l[1]&128)?1:(t.outputlen=6+s+m,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=l.length,i.set(l,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let o=e.subarray(6+r);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new ti(i);s.cmp(Yr.n)>=0&&(s=new ti(0));let u=new ti(e.subarray(6+r));return u.cmp(Yr.n)>=0&&(u=new ti(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){let u=i;i=l=>{let m=u(e,r,null,n,l);if(!(m instanceof Uint8Array&&m.length===32))throw new Error("This is the way");return new ti(m)}}let o=new ti(r);if(o.cmp(Yr.n)>=0||o.isZero())return 1;let s;try{s=Th.sign(e,r,{canonical:!0,k:i,pers:n})}catch{return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new ti(n.r),o=new ti(n.s);if(i.cmp(Yr.n)>=0||o.cmp(Yr.n)>=0)return 1;if(o.cmp(Th.nh)===1||i.isZero()||o.isZero())return 3;let s=mg(r);if(s===null)return 2;let u=s.getPublic();return Th.verify(e,n,u)?0:3},ecdsaRecover(t,e,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},o=new ti(i.r),s=new ti(i.s);if(o.cmp(Yr.n)>=0||s.cmp(Yr.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let u;try{u=Th.recoverPubKey(n,i,r)}catch{return 2}return Ev(t,u),0},ecdh(t,e,r,n,i,o,s){let u=mg(e);if(u===null)return 1;let l=new ti(r);if(l.cmp(Yr.n)>=0||l.isZero())return 2;let m=u.getPublic().mul(l);if(i===void 0){let x=m.encode(null,!0),w=Th.hash().update(x).digest();for(let E=0;E<32;++E)t[E]=w[E]}else{o||(o=new Uint8Array(32));let x=m.getX().toArray("be",32);for(let M=0;M<32;++M)o[M]=x[M];s||(s=new Uint8Array(32));let w=m.getY().toArray("be",32);for(let M=0;M<32;++M)s[M]=w[M];let E=i(o,s,n);if(!(E instanceof Uint8Array&&E.length===t.length))return 2;t.set(E)}return 0}}});var mee=q((xcn,lMe)=>{d();h();lMe.exports=cMe()(fMe())});var hMe=q(SD=>{"use strict";d();h();Object.defineProperty(SD,"__esModule",{value:!0});var dMe=Wh();function u4t(t){return new Promise(function(e,r){dMe(t,function(n,i){if(n){r(n);return}e(i)})})}SD.getRandomBytes=u4t;function f4t(t){return dMe(t)}SD.getRandomBytesSync=f4t});var gMe=q(Ih=>{"use strict";d();h();var l4t=Ih&&Ih.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(x){try{m(n.next(x))}catch(w){s(w)}}function l(x){try{m(n.throw(x))}catch(w){s(w)}}function m(x){x.done?o(x.value):i(x.value).then(u,l)}m((n=n.apply(t,e||[])).next())})},d4t=Ih&&Ih.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(m){return function(x){return l([m,x])}}function l(m){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){r.label=m[1];break}if(m[0]===6&&r.label<o[1]){r.label=o[1],o=m;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(m);break}o[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(x){m=[6,x],i=0}finally{n=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};function h4t(t){for(var e in t)Ih.hasOwnProperty(e)||(Ih[e]=t[e])}Object.defineProperty(Ih,"__esModule",{value:!0});var pMe=mee(),mMe=hMe(),yMe=32;function p4t(){return l4t(this,void 0,void 0,function(){var t;return d4t(this,function(e){switch(e.label){case 0:return[4,mMe.getRandomBytes(yMe)];case 1:return t=e.sent(),pMe.privateKeyVerify(t)?[2,t]:[3,0];case 2:return[2]}})})}Ih.createPrivateKey=p4t;function m4t(){for(;;){var t=mMe.getRandomBytesSync(yMe);if(pMe.privateKeyVerify(t))return t}}Ih.createPrivateKeySync=m4t;h4t(mee())});var _v=q((bMe,yee)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof yee>"u"||yee,bMe)});var xMe=q(cA=>{"use strict";d();h();Object.defineProperty(cA,"__esModule",{value:!0});var Tv=_v(),y4t=Yx().ec,gee=new y4t("secp256k1"),aA=gee.curve;cA.privateKeyExport=function(t,e){e===void 0&&(e=!0);var r=new Tv(t);if(r.ucmp(aA.n)>=0)throw new Error("couldn't export to DER format");var n=gee.g.mul(r);return vMe(n.getX(),n.getY(),e)};cA.privateKeyModInverse=function(t){var e=new Tv(t);if(e.ucmp(aA.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(aA.n).toArrayLike(Buffer,"be",32)};cA.signatureImport=function(t){var e=new Tv(t.r);e.ucmp(aA.n)>=0&&(e=new Tv(0));var r=new Tv(t.s);return r.ucmp(aA.n)>=0&&(r=new Tv(0)),Buffer.concat([e.toArrayLike(Buffer,"be",32),r.toArrayLike(Buffer,"be",32)])};cA.ecdhUnsafe=function(t,e,r){r===void 0&&(r=!0);var n=gee.keyFromPublic(t),i=new Tv(e);if(i.ucmp(aA.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return vMe(o.getX(),o.getY(),r)};var vMe=function(t,e,r){var n;return r?(n=Buffer.alloc(33),n[0]=e.isOdd()?3:2,t.toArrayLike(Buffer,"be",32).copy(n,1)):(n=Buffer.alloc(65),n[0]=4,t.toArrayLike(Buffer,"be",32).copy(n,1),e.toArrayLike(Buffer,"be",32).copy(n,33)),n}});var wMe=q(Q8=>{"use strict";d();h();Object.defineProperty(Q8,"__esModule",{value:!0});var{Buffer:Z8}=Dn(),g4t=Z8.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),b4t=Z8.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Q8.privateKeyExport=function(t,e,r){r===void 0&&(r=!0);var n=Z8.from(r?g4t:b4t);return t.copy(n,r?8:9),e.copy(n,r?181:214),n};Q8.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||t[r]!==48||(r+=1,e<r+1||!(t[r]&128)))return null;var n=t[r]&127;if(r+=1,n<1||n>2||e<r+n)return null;var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);return r+=n,e<r+i||e<r+3||t[r]!==2||t[r+1]!==1||t[r+2]!==1||(r+=3,e<r+2||t[r]!==4||t[r+1]>32||e<r+2+t[r+1])?null:t.slice(r+2,r+2+t[r+1])};Q8.signatureImportLax=function(t){var e=Z8.alloc(32,0),r=Z8.alloc(32,0),n=t.length,i=0;if(t[i++]!==48)return null;var o=t[i++];if(o&128&&(i+=o-128,i>n)||t[i++]!==2)return null;var s=t[i++];if(s&128){if(o=s-128,i+o>n)return null;for(;o>0&&t[i]===0;i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+t[i]}if(s>n-i)return null;var u=i;if(i+=s,t[i++]!==2)return null;var l=t[i++];if(l&128){if(o=l-128,i+o>n)return null;for(;o>0&&t[i]===0;i+=1,o-=1);for(l=0;o>0;i+=1,o-=1)l=(l<<8)+t[i]}if(l>n-i)return null;var m=i;for(i+=l;s>0&&t[u]===0;s-=1,u+=1);if(s>32)return null;var x=t.slice(u,u+s);for(x.copy(e,32-x.length);l>0&&t[m]===0;l-=1,m+=1);if(l>32)return null;var w=t.slice(m,m+l);return w.copy(r,32-w.length),{r:e,s:r}}});var ED=q(Xt=>{"use strict";d();h();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.ecdhUnsafe=Xt.ecdh=Xt.recover=Xt.verify=Xt.sign=Xt.signatureImportLax=Xt.signatureImport=Xt.signatureExport=Xt.signatureNormalize=Xt.publicKeyCombine=Xt.publicKeyTweakMul=Xt.publicKeyTweakAdd=Xt.publicKeyVerify=Xt.publicKeyConvert=Xt.publicKeyCreate=Xt.privateKeyTweakMul=Xt.privateKeyTweakAdd=Xt.privateKeyModInverse=Xt.privateKeyNegate=Xt.privateKeyImport=Xt.privateKeyExport=Xt.privateKeyVerify=void 0;var js=gMe(),AD=xMe(),bee=wMe();Xt.privateKeyVerify=function(t){return t.length!==32?!1:js.privateKeyVerify(Uint8Array.from(t))};Xt.privateKeyExport=function(t,e){if(t.length!==32)throw new RangeError("private key length is invalid");var r=AD.privateKeyExport(t,e);return bee.privateKeyExport(t,r,e)};Xt.privateKeyImport=function(t){if(t=bee.privateKeyImport(t),t!==null&&t.length===32&&Xt.privateKeyVerify(t))return t;throw new Error("couldn't import from DER format")};Xt.privateKeyNegate=function(t){return Buffer.from(js.privateKeyNegate(Uint8Array.from(t)))};Xt.privateKeyModInverse=function(t){if(t.length!==32)throw new Error("private key length is invalid");return Buffer.from(AD.privateKeyModInverse(Uint8Array.from(t)))};Xt.privateKeyTweakAdd=function(t,e){return Buffer.from(js.privateKeyTweakAdd(Uint8Array.from(t),e))};Xt.privateKeyTweakMul=function(t,e){return Buffer.from(js.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e)))};Xt.publicKeyCreate=function(t,e){return Buffer.from(js.publicKeyCreate(Uint8Array.from(t),e))};Xt.publicKeyConvert=function(t,e){return Buffer.from(js.publicKeyConvert(Uint8Array.from(t),e))};Xt.publicKeyVerify=function(t){return t.length!==33&&t.length!==65?!1:js.publicKeyVerify(Uint8Array.from(t))};Xt.publicKeyTweakAdd=function(t,e,r){return Buffer.from(js.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(e),r))};Xt.publicKeyTweakMul=function(t,e,r){return Buffer.from(js.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e),r))};Xt.publicKeyCombine=function(t,e){var r=[];return t.forEach(function(n){r.push(Uint8Array.from(n))}),Buffer.from(js.publicKeyCombine(r,e))};Xt.signatureNormalize=function(t){return Buffer.from(js.signatureNormalize(Uint8Array.from(t)))};Xt.signatureExport=function(t){return Buffer.from(js.signatureExport(Uint8Array.from(t)))};Xt.signatureImport=function(t){return Buffer.from(js.signatureImport(Uint8Array.from(t)))};Xt.signatureImportLax=function(t){if(t.length===0)throw new RangeError("signature length is invalid");var e=bee.signatureImportLax(t);if(e===null)throw new Error("couldn't parse DER signature");return AD.signatureImport(e)};Xt.sign=function(t,e,r){if(r===null)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},r.data===null)throw new TypeError("options.data should be a Buffer");if(r.data){if(r.data.length!=32)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(r.noncefn===null)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(o,s,u,l,m){var x=u!=null?Buffer.from(u):null,w=l!=null?Buffer.from(l):null,E=Buffer.from("");return r.noncefn&&(E=r.noncefn(Buffer.from(o),Buffer.from(s),x,w,m)),new Uint8Array(E)})}var i=js.ecdsaSign(Uint8Array.from(t),Uint8Array.from(e),n);return{signature:Buffer.from(i.signature),recovery:i.recid}};Xt.verify=function(t,e,r){return js.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(t),r)};Xt.recover=function(t,e,r,n){return Buffer.from(js.ecdsaRecover(Uint8Array.from(e),r,Uint8Array.from(t),n))};Xt.ecdh=function(t,e){return Buffer.from(js.ecdh(Uint8Array.from(t),Uint8Array.from(e),{}))};Xt.ecdhUnsafe=function(t,e,r){if(t.length!==33&&t.length!==65)throw new RangeError("public key length is invalid");if(e.length!==32)throw new RangeError("private key length is invalid");return Buffer.from(AD.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(e),r))}});var vee=q((Kcn,SMe)=>{d();h();SMe.exports=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"}});var EMe=q((Hcn,AMe)=>{d();h();var v4t=vee();AMe.exports=function(e){return typeof e!="string"?e:v4t(e)?e.slice(2):e}});var Iv=q((Wcn,IMe)=>{"use strict";d();h();var x4t=vee(),_Me=EMe();function _D(t){var e=t;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function TMe(t){var e=t.toString(16);return"0x"+e}function w4t(t){var e=TMe(t);return new Buffer(_D(e.slice(2)),"hex")}function S4t(t){if(typeof t!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return Buffer.byteLength(t,"utf8")}function A4t(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!r&&"some"||"every"](function(n){return t.indexOf(n)>=0})}function E4t(t){var e=new Buffer(_D(_Me(t).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function _4t(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}function T4t(t){var e=new Buffer(t,"utf8");return"0x"+_D(e.toString("hex")).replace(/^0+|0+$/g,"")}function I4t(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e}function M4t(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");n.push(o)}return n}function k4t(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}IMe.exports={arrayContainsArray:A4t,intToBuffer:w4t,getBinarySize:S4t,isHexPrefixed:x4t,stripHexPrefix:_Me,padToEven:_D,intToHex:TMe,fromAscii:I4t,fromUtf8:T4t,toAscii:_4t,toUtf8:E4t,getKeys:M4t,isHexString:k4t}});var TD=q(Mh=>{"use strict";d();h();var P4t=Mh&&Mh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.getLength=Mh.decode=Mh.encode=void 0;var R4t=P4t(Yg());function kMe(t){if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(kMe(t[r]));var n=Buffer.concat(e);return Buffer.concat([MMe(n.length,192),n])}else{var i=Aee(t);return i.length===1&&i[0]<128?i:Buffer.concat([MMe(i.length,128),i])}}Mh.encode=kMe;function xee(t,e){if(t[0]==="0"&&t[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function MMe(t,e){if(t<56)return Buffer.from([t+e]);var r=See(t),n=r.length/2,i=See(e+55+n);return Buffer.from(i+r,"hex")}function C4t(t,e){if(e===void 0&&(e=!1),!t||t.length===0)return Buffer.from([]);var r=Aee(t),n=wee(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}Mh.decode=C4t;function B4t(t){if(!t||t.length===0)return Buffer.from([]);var e=Aee(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,i=xee(e.slice(1,n).toString("hex"),16);return n+i}Mh.getLength=B4t;function wee(t){var e,r,n,i,o,s=[],u=t[0];if(u<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(u<=183){if(e=u-127,u===128?n=Buffer.from([]):n=t.slice(1,e),e===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:t.slice(e)}}else if(u<=191){if(r=u-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=xee(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=t.slice(r,e+r),n.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:t.slice(e+r)}}else if(u<=247){for(e=u-191,i=t.slice(1,e);i.length;)o=wee(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(e)}}else{r=u-246,e=xee(t.slice(1,r).toString("hex"),16);var l=r+e;if(l>t.length)throw new Error("invalid rlp: total length is larger than the data");if(i=t.slice(r,l),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=wee(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(l)}}}function PMe(t){return t.slice(0,2)==="0x"}function O4t(t){return typeof t!="string"?t:PMe(t)?t.slice(2):t}function See(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=t.toString(16);return e.length%2?"0"+e:e}function D4t(t){return t.length%2?"0"+t:t}function N4t(t){var e=See(t);return Buffer.from(e,"hex")}function Aee(t){if(!Buffer.isBuffer(t)){if(typeof t=="string")return PMe(t)?Buffer.from(D4t(O4t(t)),"hex"):Buffer.from(t);if(typeof t=="number"||typeof t=="bigint")return t?N4t(t):Buffer.from([]);if(t==null)return Buffer.from([]);if(t instanceof Uint8Array)return Buffer.from(t);if(R4t.default.isBN(t))return Buffer.from(t.toArray());throw new Error("invalid type")}return t}});var CMe=q(ho=>{"use strict";d();h();Object.defineProperty(ho,"__esModule",{value:!0});ho.KECCAK256_RLP=ho.KECCAK256_RLP_S=ho.KECCAK256_RLP_ARRAY=ho.KECCAK256_RLP_ARRAY_S=ho.KECCAK256_NULL=ho.KECCAK256_NULL_S=ho.TWO_POW256=ho.MAX_INTEGER=void 0;var RMe=_v(),{Buffer:Eee}=Dn();ho.MAX_INTEGER=new RMe("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);ho.TWO_POW256=new RMe("10000000000000000000000000000000000000000000000000000000000000000",16);ho.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";ho.KECCAK256_NULL=Eee.from(ho.KECCAK256_NULL_S,"hex");ho.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";ho.KECCAK256_RLP_ARRAY=Eee.from(ho.KECCAK256_RLP_ARRAY_S,"hex");ho.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";ho.KECCAK256_RLP=Eee.from(ho.KECCAK256_RLP_S,"hex")});var _ee=q((tun,BMe)=>{"use strict";d();h();BMe.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var J8=q((iun,OMe)=>{"use strict";d();h();var U4t=_ee();OMe.exports=function(){return U4t()&&!!Symbol.toStringTag}});var X8=q((aun,NMe)=>{"use strict";d();h();var DMe=typeof Symbol<"u"&&Symbol,L4t=_ee();NMe.exports=function(){return typeof DMe!="function"||typeof Symbol!="function"||typeof DMe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L4t()}});var LMe=q((fun,UMe)=>{"use strict";d();h();var F4t="Function.prototype.bind called on incompatible ",Tee=Array.prototype.slice,K4t=Object.prototype.toString,q4t="[object Function]";UMe.exports=function(e){var r=this;if(typeof r!="function"||K4t.call(r)!==q4t)throw new TypeError(F4t+r);for(var n=Tee.call(arguments,1),i,o=function(){if(this instanceof i){var x=r.apply(this,n.concat(Tee.call(arguments)));return Object(x)===x?x:this}else return r.apply(e,n.concat(Tee.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],l=0;l<s;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var KMe=q((hun,FMe)=>{"use strict";d();h();var V4t=LMe();FMe.exports=Function.prototype.bind||V4t});var VMe=q((yun,qMe)=>{"use strict";d();h();var H4t="Function.prototype.bind called on incompatible ",Iee=Array.prototype.slice,j4t=Object.prototype.toString,z4t="[object Function]";qMe.exports=function(e){var r=this;if(typeof r!="function"||j4t.call(r)!==z4t)throw new TypeError(H4t+r);for(var n=Iee.call(arguments,1),i,o=function(){if(this instanceof i){var x=r.apply(this,n.concat(Iee.call(arguments)));return Object(x)===x?x:this}else return r.apply(e,n.concat(Iee.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],l=0;l<s;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var jMe=q((vun,HMe)=>{"use strict";d();h();var W4t=VMe();HMe.exports=Function.prototype.bind||W4t});var e5=q((Sun,zMe)=>{"use strict";d();h();var G4t=jMe();zMe.exports=G4t.call(Function.call,Object.prototype.hasOwnProperty)});var r5=q((_un,YMe)=>{"use strict";d();h();var tn,hA=SyntaxError,$Me=Function,lA=TypeError,Mee=function(t){try{return $Me('"use strict"; return ('+t+").constructor;")()}catch{}},Mv=Object.getOwnPropertyDescriptor;if(Mv)try{Mv({},"")}catch{Mv=null}var kee=function(){throw new lA},$4t=Mv?function(){try{return arguments.callee,kee}catch{try{return Mv(arguments,"callee").get}catch{return kee}}}():kee,uA=X8()(),yg=Object.getPrototypeOf||function(t){return t.__proto__},fA={},Y4t=typeof Uint8Array>"u"?tn:yg(Uint8Array),dA={"%AggregateError%":typeof AggregateError>"u"?tn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?tn:ArrayBuffer,"%ArrayIteratorPrototype%":uA?yg([][Symbol.iterator]()):tn,"%AsyncFromSyncIteratorPrototype%":tn,"%AsyncFunction%":fA,"%AsyncGenerator%":fA,"%AsyncGeneratorFunction%":fA,"%AsyncIteratorPrototype%":fA,"%Atomics%":typeof Atomics>"u"?tn:Atomics,"%BigInt%":typeof BigInt>"u"?tn:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?tn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?tn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?tn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?tn:FinalizationRegistry,"%Function%":$Me,"%GeneratorFunction%":fA,"%Int8Array%":typeof Int8Array>"u"?tn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?tn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?tn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":uA?yg(yg([][Symbol.iterator]())):tn,"%JSON%":typeof JSON=="object"?JSON:tn,"%Map%":typeof Map>"u"?tn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!uA?tn:yg(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?tn:Promise,"%Proxy%":typeof Proxy>"u"?tn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?tn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?tn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!uA?tn:yg(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?tn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":uA?yg(""[Symbol.iterator]()):tn,"%Symbol%":uA?Symbol:tn,"%SyntaxError%":hA,"%ThrowTypeError%":$4t,"%TypedArray%":Y4t,"%TypeError%":lA,"%Uint8Array%":typeof Uint8Array>"u"?tn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?tn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?tn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?tn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?tn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?tn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?tn:WeakSet},Z4t=function t(e){var r;if(e==="%AsyncFunction%")r=Mee("async function () {}");else if(e==="%GeneratorFunction%")r=Mee("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Mee("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=yg(i.prototype))}return dA[e]=r,r},WMe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},t5=KMe(),ID=e5(),Q4t=t5.call(Function.call,Array.prototype.concat),J4t=t5.call(Function.apply,Array.prototype.splice),GMe=t5.call(Function.call,String.prototype.replace),MD=t5.call(Function.call,String.prototype.slice),X4t=t5.call(Function.call,RegExp.prototype.exec),e8t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,t8t=/\\(\\)?/g,r8t=function(e){var r=MD(e,0,1),n=MD(e,-1);if(r==="%"&&n!=="%")throw new hA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new hA("invalid intrinsic syntax, expected opening `%`");var i=[];return GMe(e,e8t,function(o,s,u,l){i[i.length]=u?GMe(l,t8t,"$1"):s||o}),i},n8t=function(e,r){var n=e,i;if(ID(WMe,n)&&(i=WMe[n],n="%"+i[0]+"%"),ID(dA,n)){var o=dA[n];if(o===fA&&(o=Z4t(n)),typeof o>"u"&&!r)throw new lA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new hA("intrinsic "+e+" does not exist!")};YMe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new lA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new lA('"allowMissing" argument must be a boolean');if(X4t(/^%?[^%]*%?$/,e)===null)throw new hA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=r8t(e),i=n.length>0?n[0]:"",o=n8t("%"+i+"%",r),s=o.name,u=o.value,l=!1,m=o.alias;m&&(i=m[0],J4t(n,Q4t([0,1],m)));for(var x=1,w=!0;x<n.length;x+=1){var E=n[x],I=MD(E,0,1),M=MD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new hA("property names with quotes must have matching quotes");if((E==="constructor"||!w)&&(l=!0),i+="."+E,s="%"+i+"%",ID(dA,s))u=dA[s];else if(u!=null){if(!(E in u)){if(!r)throw new lA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Mv&&x+1>=n.length){var k=Mv(u,E);w=!!k,w&&"get"in k&&!("originalValue"in k.get)?u=k.get:u=u[E]}else w=ID(u,E),u=u[E];w&&!l&&(dA[s]=u)}}return u}});var QMe=q((Mun,ZMe)=>{"use strict";d();h();var i8t="Function.prototype.bind called on incompatible ",Pee=Array.prototype.slice,o8t=Object.prototype.toString,s8t="[object Function]";ZMe.exports=function(e){var r=this;if(typeof r!="function"||o8t.call(r)!==s8t)throw new TypeError(i8t+r);for(var n=Pee.call(arguments,1),i,o=function(){if(this instanceof i){var x=r.apply(this,n.concat(Pee.call(arguments)));return Object(x)===x?x:this}else return r.apply(e,n.concat(Pee.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],l=0;l<s;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var XMe=q((Run,JMe)=>{"use strict";d();h();var a8t=QMe();JMe.exports=Function.prototype.bind||a8t});var PD=q((Oun,kD)=>{"use strict";d();h();var Ree=XMe(),pA=r5(),rke=pA("%Function.prototype.apply%"),nke=pA("%Function.prototype.call%"),ike=pA("%Reflect.apply%",!0)||Ree.call(nke,rke),eke=pA("%Object.getOwnPropertyDescriptor%",!0),kv=pA("%Object.defineProperty%",!0),c8t=pA("%Math.max%");if(kv)try{kv({},"a",{value:1})}catch{kv=null}kD.exports=function(e){var r=ike(Ree,nke,arguments);if(eke&&kv){var n=eke(r,"length");n.configurable&&kv(r,"length",{value:1+c8t(0,e.length-(arguments.length-1))})}return r};var tke=function(){return ike(Ree,rke,arguments)};kv?kv(kD.exports,"apply",{value:tke}):kD.exports.apply=tke});var Cee=q((Uun,ake)=>{"use strict";d();h();var oke=r5(),ske=PD(),u8t=ske(oke("String.prototype.indexOf"));ake.exports=function(e,r){var n=oke(e,!!r);return typeof n=="function"&&u8t(e,".prototype.")>-1?ske(n):n}});var fke=q((Kun,uke)=>{"use strict";d();h();var f8t=J8()(),l8t=Cee(),Bee=l8t("Object.prototype.toString"),RD=function(e){return f8t&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Bee(e)==="[object Arguments]"},cke=function(e){return RD(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Bee(e)!=="[object Array]"&&Bee(e.callee)==="[object Function]"},d8t=function(){return RD(arguments)}();RD.isLegacyArguments=cke;uke.exports=d8t?RD:cke});var hke=q((Hun,dke)=>{"use strict";d();h();var h8t=Object.prototype.toString,p8t=Function.prototype.toString,m8t=/^\s*(?:function)?\*/,lke=J8()(),Oee=Object.getPrototypeOf,y8t=function(){if(!lke)return!1;try{return Function("return function*() {}")()}catch{}},Dee;dke.exports=function(e){if(typeof e!="function")return!1;if(m8t.test(p8t.call(e)))return!0;if(!lke){var r=h8t.call(e);return r==="[object GeneratorFunction]"}if(!Oee)return!1;if(typeof Dee>"u"){var n=y8t();Dee=n?Oee(n):!1}return Oee(e)===Dee}});var gke=q((Wun,yke)=>{"use strict";d();h();var mke=Function.prototype.toString,mA=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Uee,CD;if(typeof mA=="function"&&typeof Object.defineProperty=="function")try{Uee=Object.defineProperty({},"length",{get:function(){throw CD}}),CD={},mA(function(){throw 42},null,Uee)}catch(t){t!==CD&&(mA=null)}else mA=null;var g8t=/^\s*class\b/,Lee=function(e){try{var r=mke.call(e);return g8t.test(r)}catch{return!1}},Nee=function(e){try{return Lee(e)?!1:(mke.call(e),!0)}catch{return!1}},BD=Object.prototype.toString,b8t="[object Object]",v8t="[object Function]",x8t="[object GeneratorFunction]",w8t="[object HTMLAllCollection]",S8t="[object HTML document.all class]",A8t="[object HTMLCollection]",E8t=typeof Symbol=="function"&&!!Symbol.toStringTag,_8t=!(0 in[,]),Fee=function(){return!1};typeof document=="object"&&(pke=document.all,BD.call(pke)===BD.call(document.all)&&(Fee=function(e){if((_8t||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=BD.call(e);return(r===w8t||r===S8t||r===A8t||r===b8t)&&e("")==null}catch{}return!1}));var pke;yke.exports=mA?function(e){if(Fee(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{mA(e,null,Uee)}catch(r){if(r!==CD)return!1}return!Lee(e)&&Nee(e)}:function(e){if(Fee(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(E8t)return Nee(e);if(Lee(e))return!1;var r=BD.call(e);return r!==v8t&&r!==x8t&&!/^\[object HTML/.test(r)?!1:Nee(e)}});var xke=q((Yun,vke)=>{"use strict";d();h();var T8t=gke(),I8t=Object.prototype.toString,bke=Object.prototype.hasOwnProperty,M8t=function(e,r,n){for(var i=0,o=e.length;i<o;i++)bke.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},k8t=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},P8t=function(e,r,n){for(var i in e)bke.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},R8t=function(e,r,n){if(!T8t(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),I8t.call(e)==="[object Array]"?M8t(e,r,i):typeof e=="string"?k8t(e,r,i):P8t(e,r,i)};vke.exports=R8t});var qee=q((Jun,wke)=>{"use strict";d();h();var Kee=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C8t=typeof globalThis>"u"?self:globalThis;wke.exports=function(){for(var e=[],r=0;r<Kee.length;r++)typeof C8t[Kee[r]]=="function"&&(e[e.length]=Kee[r]);return e}});var Eke=q((tfn,Ake)=>{"use strict";d();h();var B8t="Function.prototype.bind called on incompatible ",O8t=Object.prototype.toString,D8t=Math.max,N8t="[object Function]",Ske=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},U8t=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},L8t=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};Ake.exports=function(e){var r=this;if(typeof r!="function"||O8t.apply(r)!==N8t)throw new TypeError(B8t+r);for(var n=U8t(arguments,1),i,o=function(){if(this instanceof i){var x=r.apply(this,Ske(n,arguments));return Object(x)===x?x:this}return r.apply(e,Ske(n,arguments))},s=D8t(0,r.length-n.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(i=Function("binder","return function ("+L8t(u,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var Tke=q((ifn,_ke)=>{"use strict";d();h();var F8t=Eke();_ke.exports=Function.prototype.bind||F8t});var OD=q((afn,Mke)=>{"use strict";d();h();var Ike={foo:{}},K8t=Object;Mke.exports=function(){return{__proto__:Ike}.foo===Ike.foo&&!({__proto__:null}instanceof K8t)}});var Pke=q((ffn,kke)=>{"use strict";d();h();var q8t="Function.prototype.bind called on incompatible ",Vee=Array.prototype.slice,V8t=Object.prototype.toString,H8t="[object Function]";kke.exports=function(e){var r=this;if(typeof r!="function"||V8t.call(r)!==H8t)throw new TypeError(q8t+r);for(var n=Vee.call(arguments,1),i,o=function(){if(this instanceof i){var x=r.apply(this,n.concat(Vee.call(arguments)));return Object(x)===x?x:this}else return r.apply(e,n.concat(Vee.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],l=0;l<s;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var Cke=q((hfn,Rke)=>{"use strict";d();h();var j8t=Pke();Rke.exports=Function.prototype.bind||j8t});var zee=q((yfn,Uke)=>{"use strict";d();h();var Fr,vA=SyntaxError,Nke=Function,bA=TypeError,Hee=function(t){try{return Nke('"use strict"; return ('+t+").constructor;")()}catch{}},Pv=Object.getOwnPropertyDescriptor;if(Pv)try{Pv({},"")}catch{Pv=null}var jee=function(){throw new bA},z8t=Pv?function(){try{return arguments.callee,jee}catch{try{return Pv(arguments,"callee").get}catch{return jee}}}():jee,yA=X8()(),W8t=OD()(),ps=Object.getPrototypeOf||(W8t?function(t){return t.__proto__}:null),gA={},G8t=typeof Uint8Array>"u"||!ps?Fr:ps(Uint8Array),Rv={"%AggregateError%":typeof AggregateError>"u"?Fr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Fr:ArrayBuffer,"%ArrayIteratorPrototype%":yA&&ps?ps([][Symbol.iterator]()):Fr,"%AsyncFromSyncIteratorPrototype%":Fr,"%AsyncFunction%":gA,"%AsyncGenerator%":gA,"%AsyncGeneratorFunction%":gA,"%AsyncIteratorPrototype%":gA,"%Atomics%":typeof Atomics>"u"?Fr:Atomics,"%BigInt%":typeof BigInt>"u"?Fr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Fr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Fr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Fr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Fr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Fr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Fr:FinalizationRegistry,"%Function%":Nke,"%GeneratorFunction%":gA,"%Int8Array%":typeof Int8Array>"u"?Fr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Fr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Fr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":yA&&ps?ps(ps([][Symbol.iterator]())):Fr,"%JSON%":typeof JSON=="object"?JSON:Fr,"%Map%":typeof Map>"u"?Fr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!yA||!ps?Fr:ps(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Fr:Promise,"%Proxy%":typeof Proxy>"u"?Fr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Fr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Fr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!yA||!ps?Fr:ps(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Fr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":yA&&ps?ps(""[Symbol.iterator]()):Fr,"%Symbol%":yA?Symbol:Fr,"%SyntaxError%":vA,"%ThrowTypeError%":z8t,"%TypedArray%":G8t,"%TypeError%":bA,"%Uint8Array%":typeof Uint8Array>"u"?Fr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Fr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Fr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Fr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Fr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Fr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Fr:WeakSet};if(ps)try{null.error}catch(t){Bke=ps(ps(t)),Rv["%Error.prototype%"]=Bke}var Bke,$8t=function t(e){var r;if(e==="%AsyncFunction%")r=Hee("async function () {}");else if(e==="%GeneratorFunction%")r=Hee("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Hee("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ps&&(r=ps(i.prototype))}return Rv[e]=r,r},Oke={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},n5=Cke(),DD=e5(),Y8t=n5.call(Function.call,Array.prototype.concat),Z8t=n5.call(Function.apply,Array.prototype.splice),Dke=n5.call(Function.call,String.prototype.replace),ND=n5.call(Function.call,String.prototype.slice),Q8t=n5.call(Function.call,RegExp.prototype.exec),J8t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X8t=/\\(\\)?/g,e5t=function(e){var r=ND(e,0,1),n=ND(e,-1);if(r==="%"&&n!=="%")throw new vA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new vA("invalid intrinsic syntax, expected opening `%`");var i=[];return Dke(e,J8t,function(o,s,u,l){i[i.length]=u?Dke(l,X8t,"$1"):s||o}),i},t5t=function(e,r){var n=e,i;if(DD(Oke,n)&&(i=Oke[n],n="%"+i[0]+"%"),DD(Rv,n)){var o=Rv[n];if(o===gA&&(o=$8t(n)),typeof o>"u"&&!r)throw new bA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new vA("intrinsic "+e+" does not exist!")};Uke.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new bA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new bA('"allowMissing" argument must be a boolean');if(Q8t(/^%?[^%]*%?$/,e)===null)throw new vA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=e5t(e),i=n.length>0?n[0]:"",o=t5t("%"+i+"%",r),s=o.name,u=o.value,l=!1,m=o.alias;m&&(i=m[0],Z8t(n,Y8t([0,1],m)));for(var x=1,w=!0;x<n.length;x+=1){var E=n[x],I=ND(E,0,1),M=ND(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new vA("property names with quotes must have matching quotes");if((E==="constructor"||!w)&&(l=!0),i+="."+E,s="%"+i+"%",DD(Rv,s))u=Rv[s];else if(u!=null){if(!(E in u)){if(!r)throw new bA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Pv&&x+1>=n.length){var k=Pv(u,E);w=!!k,w&&"get"in k&&!("originalValue"in k.get)?u=k.get:u=u[E]}else w=DD(u,E),u=u[E];w&&!l&&(Rv[s]=u)}}return u}});var Fke=q((vfn,Lke)=>{"use strict";d();h();var r5t="Function.prototype.bind called on incompatible ",Wee=Array.prototype.slice,n5t=Object.prototype.toString,i5t="[object Function]";Lke.exports=function(e){var r=this;if(typeof r!="function"||n5t.call(r)!==i5t)throw new TypeError(r5t+r);for(var n=Wee.call(arguments,1),i,o=function(){if(this instanceof i){var x=r.apply(this,n.concat(Wee.call(arguments)));return Object(x)===x?x:this}else return r.apply(e,n.concat(Wee.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],l=0;l<s;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var qke=q((Sfn,Kke)=>{"use strict";d();h();var o5t=Fke();Kke.exports=Function.prototype.bind||o5t});var Gke=q((_fn,Wke)=>{"use strict";d();h();var Kr,AA=SyntaxError,zke=Function,SA=TypeError,Gee=function(t){try{return zke('"use strict"; return ('+t+").constructor;")()}catch{}},Cv=Object.getOwnPropertyDescriptor;if(Cv)try{Cv({},"")}catch{Cv=null}var $ee=function(){throw new SA},s5t=Cv?function(){try{return arguments.callee,$ee}catch{try{return Cv(arguments,"callee").get}catch{return $ee}}}():$ee,xA=X8()(),a5t=OD()(),ms=Object.getPrototypeOf||(a5t?function(t){return t.__proto__}:null),wA={},c5t=typeof Uint8Array>"u"||!ms?Kr:ms(Uint8Array),Bv={"%AggregateError%":typeof AggregateError>"u"?Kr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Kr:ArrayBuffer,"%ArrayIteratorPrototype%":xA&&ms?ms([][Symbol.iterator]()):Kr,"%AsyncFromSyncIteratorPrototype%":Kr,"%AsyncFunction%":wA,"%AsyncGenerator%":wA,"%AsyncGeneratorFunction%":wA,"%AsyncIteratorPrototype%":wA,"%Atomics%":typeof Atomics>"u"?Kr:Atomics,"%BigInt%":typeof BigInt>"u"?Kr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Kr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Kr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Kr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Kr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Kr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Kr:FinalizationRegistry,"%Function%":zke,"%GeneratorFunction%":wA,"%Int8Array%":typeof Int8Array>"u"?Kr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Kr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Kr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xA&&ms?ms(ms([][Symbol.iterator]())):Kr,"%JSON%":typeof JSON=="object"?JSON:Kr,"%Map%":typeof Map>"u"?Kr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!xA||!ms?Kr:ms(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Kr:Promise,"%Proxy%":typeof Proxy>"u"?Kr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Kr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Kr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!xA||!ms?Kr:ms(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Kr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xA&&ms?ms(""[Symbol.iterator]()):Kr,"%Symbol%":xA?Symbol:Kr,"%SyntaxError%":AA,"%ThrowTypeError%":s5t,"%TypedArray%":c5t,"%TypeError%":SA,"%Uint8Array%":typeof Uint8Array>"u"?Kr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Kr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Kr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Kr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Kr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Kr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Kr:WeakSet};if(ms)try{null.error}catch(t){Vke=ms(ms(t)),Bv["%Error.prototype%"]=Vke}var Vke,u5t=function t(e){var r;if(e==="%AsyncFunction%")r=Gee("async function () {}");else if(e==="%GeneratorFunction%")r=Gee("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Gee("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ms&&(r=ms(i.prototype))}return Bv[e]=r,r},Hke={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},i5=qke(),UD=e5(),f5t=i5.call(Function.call,Array.prototype.concat),l5t=i5.call(Function.apply,Array.prototype.splice),jke=i5.call(Function.call,String.prototype.replace),LD=i5.call(Function.call,String.prototype.slice),d5t=i5.call(Function.call,RegExp.prototype.exec),h5t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,p5t=/\\(\\)?/g,m5t=function(e){var r=LD(e,0,1),n=LD(e,-1);if(r==="%"&&n!=="%")throw new AA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new AA("invalid intrinsic syntax, expected opening `%`");var i=[];return jke(e,h5t,function(o,s,u,l){i[i.length]=u?jke(l,p5t,"$1"):s||o}),i},y5t=function(e,r){var n=e,i;if(UD(Hke,n)&&(i=Hke[n],n="%"+i[0]+"%"),UD(Bv,n)){var o=Bv[n];if(o===wA&&(o=u5t(n)),typeof o>"u"&&!r)throw new SA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new AA("intrinsic "+e+" does not exist!")};Wke.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new SA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new SA('"allowMissing" argument must be a boolean');if(d5t(/^%?[^%]*%?$/,e)===null)throw new AA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=m5t(e),i=n.length>0?n[0]:"",o=y5t("%"+i+"%",r),s=o.name,u=o.value,l=!1,m=o.alias;m&&(i=m[0],l5t(n,f5t([0,1],m)));for(var x=1,w=!0;x<n.length;x+=1){var E=n[x],I=LD(E,0,1),M=LD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new AA("property names with quotes must have matching quotes");if((E==="constructor"||!w)&&(l=!0),i+="."+E,s="%"+i+"%",UD(Bv,s))u=Bv[s];else if(u!=null){if(!(E in u)){if(!r)throw new SA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Cv&&x+1>=n.length){var k=Cv(u,E);w=!!k,w&&"get"in k&&!("originalValue"in k.get)?u=k.get:u=u[E]}else w=UD(u,E),u=u[E];w&&!l&&(Bv[s]=u)}}return u}});var FD=q((Mfn,$ke)=>{"use strict";d();h();var g5t=r5(),Yee=g5t("%Object.defineProperty%",!0),Zee=function(){if(Yee)try{return Yee({},"a",{value:1}),!0}catch{return!1}return!1};Zee.hasArrayLengthDefineBug=function(){if(!Zee())return null;try{return Yee([],"length",{value:1}).length!==1}catch{return!0}};$ke.exports=Zee});var Zke=q((Rfn,Yke)=>{"use strict";d();h();var b5t="Function.prototype.bind called on incompatible ",Qee=Array.prototype.slice,v5t=Object.prototype.toString,x5t="[object Function]";Yke.exports=function(e){var r=this;if(typeof r!="function"||v5t.call(r)!==x5t)throw new TypeError(b5t+r);for(var n=Qee.call(arguments,1),i,o=function(){if(this instanceof i){var x=r.apply(this,n.concat(Qee.call(arguments)));return Object(x)===x?x:this}else return r.apply(e,n.concat(Qee.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],l=0;l<s;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var Jke=q((Ofn,Qke)=>{"use strict";d();h();var w5t=Zke();Qke.exports=Function.prototype.bind||w5t});var iPe=q((Ufn,nPe)=>{"use strict";d();h();var qr,IA=SyntaxError,rPe=Function,TA=TypeError,Jee=function(t){try{return rPe('"use strict"; return ('+t+").constructor;")()}catch{}},Ov=Object.getOwnPropertyDescriptor;if(Ov)try{Ov({},"")}catch{Ov=null}var Xee=function(){throw new TA},S5t=Ov?function(){try{return arguments.callee,Xee}catch{try{return Ov(arguments,"callee").get}catch{return Xee}}}():Xee,EA=X8()(),A5t=OD()(),ys=Object.getPrototypeOf||(A5t?function(t){return t.__proto__}:null),_A={},E5t=typeof Uint8Array>"u"||!ys?qr:ys(Uint8Array),Dv={"%AggregateError%":typeof AggregateError>"u"?qr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?qr:ArrayBuffer,"%ArrayIteratorPrototype%":EA&&ys?ys([][Symbol.iterator]()):qr,"%AsyncFromSyncIteratorPrototype%":qr,"%AsyncFunction%":_A,"%AsyncGenerator%":_A,"%AsyncGeneratorFunction%":_A,"%AsyncIteratorPrototype%":_A,"%Atomics%":typeof Atomics>"u"?qr:Atomics,"%BigInt%":typeof BigInt>"u"?qr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?qr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?qr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?qr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?qr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?qr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?qr:FinalizationRegistry,"%Function%":rPe,"%GeneratorFunction%":_A,"%Int8Array%":typeof Int8Array>"u"?qr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?qr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?qr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":EA&&ys?ys(ys([][Symbol.iterator]())):qr,"%JSON%":typeof JSON=="object"?JSON:qr,"%Map%":typeof Map>"u"?qr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!EA||!ys?qr:ys(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?qr:Promise,"%Proxy%":typeof Proxy>"u"?qr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?qr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?qr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!EA||!ys?qr:ys(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?qr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":EA&&ys?ys(""[Symbol.iterator]()):qr,"%Symbol%":EA?Symbol:qr,"%SyntaxError%":IA,"%ThrowTypeError%":S5t,"%TypedArray%":E5t,"%TypeError%":TA,"%Uint8Array%":typeof Uint8Array>"u"?qr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?qr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?qr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?qr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?qr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?qr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?qr:WeakSet};if(ys)try{null.error}catch(t){Xke=ys(ys(t)),Dv["%Error.prototype%"]=Xke}var Xke,_5t=function t(e){var r;if(e==="%AsyncFunction%")r=Jee("async function () {}");else if(e==="%GeneratorFunction%")r=Jee("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Jee("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ys&&(r=ys(i.prototype))}return Dv[e]=r,r},ePe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},o5=Jke(),KD=e5(),T5t=o5.call(Function.call,Array.prototype.concat),I5t=o5.call(Function.apply,Array.prototype.splice),tPe=o5.call(Function.call,String.prototype.replace),qD=o5.call(Function.call,String.prototype.slice),M5t=o5.call(Function.call,RegExp.prototype.exec),k5t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P5t=/\\(\\)?/g,R5t=function(e){var r=qD(e,0,1),n=qD(e,-1);if(r==="%"&&n!=="%")throw new IA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new IA("invalid intrinsic syntax, expected opening `%`");var i=[];return tPe(e,k5t,function(o,s,u,l){i[i.length]=u?tPe(l,P5t,"$1"):s||o}),i},C5t=function(e,r){var n=e,i;if(KD(ePe,n)&&(i=ePe[n],n="%"+i[0]+"%"),KD(Dv,n)){var o=Dv[n];if(o===_A&&(o=_5t(n)),typeof o>"u"&&!r)throw new TA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new IA("intrinsic "+e+" does not exist!")};nPe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new TA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new TA('"allowMissing" argument must be a boolean');if(M5t(/^%?[^%]*%?$/,e)===null)throw new IA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=R5t(e),i=n.length>0?n[0]:"",o=C5t("%"+i+"%",r),s=o.name,u=o.value,l=!1,m=o.alias;m&&(i=m[0],I5t(n,T5t([0,1],m)));for(var x=1,w=!0;x<n.length;x+=1){var E=n[x],I=qD(E,0,1),M=qD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new IA("property names with quotes must have matching quotes");if((E==="constructor"||!w)&&(l=!0),i+="."+E,s="%"+i+"%",KD(Dv,s))u=Dv[s];else if(u!=null){if(!(E in u)){if(!r)throw new TA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ov&&x+1>=n.length){var k=Ov(u,E);w=!!k,w&&"get"in k&&!("originalValue"in k.get)?u=k.get:u=u[E]}else w=KD(u,E),u=u[E];w&&!l&&(Dv[s]=u)}}return u}});var s5=q((Kfn,oPe)=>{"use strict";d();h();var B5t=r5(),VD=B5t("%Object.getOwnPropertyDescriptor%",!0);if(VD)try{VD([],"length")}catch{VD=null}oPe.exports=VD});var cPe=q((Hfn,aPe)=>{"use strict";d();h();var O5t=FD()(),ete=iPe(),a5=O5t&&ete("%Object.defineProperty%",!0);if(a5)try{a5({},"a",{value:1})}catch{a5=!1}var D5t=ete("%SyntaxError%"),MA=ete("%TypeError%"),sPe=s5();aPe.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new MA("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new MA("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new MA("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new MA("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new MA("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new MA("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,l=!!sPe&&sPe(e,r);if(a5)a5(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:o===null&&l?l.writable:!o});else if(u||!i&&!o&&!s)e[r]=n;else throw new D5t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var pPe=q((Wfn,hPe)=>{"use strict";d();h();var dPe=Gke(),uPe=cPe(),N5t=FD()(),fPe=s5(),lPe=dPe("%TypeError%"),U5t=dPe("%Math.floor%");hPe.exports=function(e,r){if(typeof e!="function")throw new lPe("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||U5t(r)!==r)throw new lPe("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&fPe){var s=fPe(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(N5t?uPe(e,"length",r,!0,!0):uPe(e,"length",r)),e}});var rte=q((Yfn,HD)=>{"use strict";d();h();var tte=Tke(),kA=zee(),L5t=pPe(),F5t=kA("%TypeError%"),yPe=kA("%Function.prototype.apply%"),gPe=kA("%Function.prototype.call%"),bPe=kA("%Reflect.apply%",!0)||tte.call(gPe,yPe),c5=kA("%Object.defineProperty%",!0),K5t=kA("%Math.max%");if(c5)try{c5({},"a",{value:1})}catch{c5=null}HD.exports=function(e){if(typeof e!="function")throw new F5t("a function is required");var r=bPe(tte,gPe,arguments);return L5t(r,1+K5t(0,e.length-(arguments.length-1)),!0)};var mPe=function(){return bPe(tte,yPe,arguments)};c5?c5(HD.exports,"apply",{value:mPe}):HD.exports.apply=mPe});var SPe=q((Jfn,wPe)=>{"use strict";d();h();var vPe=zee(),xPe=rte(),q5t=xPe(vPe("String.prototype.indexOf"));wPe.exports=function(e,r){var n=vPe(e,!!r);return typeof n=="function"&&q5t(e,".prototype.")>-1?xPe(n):n}});var IPe=q((tln,TPe)=>{"use strict";d();h();var zD=xke(),V5t=qee(),APe=rte(),ote=SPe(),jD=s5(),H5t=ote("Object.prototype.toString"),_Pe=J8()(),EPe=typeof globalThis>"u"?self:globalThis,ite=V5t(),ste=ote("String.prototype.slice"),nte=Object.getPrototypeOf,j5t=ote("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},WD={__proto__:null};_Pe&&jD&&nte?zD(ite,function(t){var e=new EPe[t];if(Symbol.toStringTag in e){var r=nte(e),n=jD(r,Symbol.toStringTag);if(!n){var i=nte(r);n=jD(i,Symbol.toStringTag)}WD["$"+t]=APe(n.get)}}):zD(ite,function(t){var e=new EPe[t],r=e.slice||e.set;r&&(WD["$"+t]=APe(r))});var z5t=function(e){var r=!1;return zD(WD,function(n,i){if(!r)try{"$"+n(e)===i&&(r=ste(i,1))}catch{}}),r},W5t=function(e){var r=!1;return zD(WD,function(n,i){if(!r)try{n(e),r=ste(i,1)}catch{}}),r};TPe.exports=function(e){if(!e||typeof e!="object")return!1;if(!_Pe){var r=ste(H5t(e),8,-1);return j5t(ite,r)>-1?r:r!=="Object"?!1:W5t(e)}return jD?z5t(e):null}});var kPe=q((iln,MPe)=>{d();h();var G5t=Object.prototype.hasOwnProperty,$5t=Object.prototype.toString;MPe.exports=function(e,r,n){if($5t.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)r.call(n,e[o],o,e);else for(var s in e)G5t.call(e,s)&&r.call(n,e[s],s,e)}});var RPe=q((aln,PPe)=>{"use strict";d();h();PPe.exports=s5()});var UPe=q((fln,NPe)=>{"use strict";d();h();var CPe=kPe(),Y5t=qee(),cte=Cee(),Z5t=cte("Object.prototype.toString"),BPe=J8()(),Q5t=typeof globalThis>"u"?self:globalThis,OPe=Y5t(),J5t=cte("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},X5t=cte("String.prototype.slice"),DPe={},GD=RPe(),ate=Object.getPrototypeOf;BPe&&GD&&ate&&CPe(OPe,function(t){var e=new Q5t[t];if(Symbol.toStringTag in e){var r=ate(e),n=GD(r,Symbol.toStringTag);if(!n){var i=ate(r);n=GD(i,Symbol.toStringTag)}DPe[t]=n.get}});var eTt=function(e){var r=!1;return CPe(DPe,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r};NPe.exports=function(e){if(!e||typeof e!="object")return!1;if(!BPe||!(Symbol.toStringTag in e)){var r=X5t(Z5t(e),8,-1);return J5t(OPe,r)>-1}return GD?eTt(e):!1}});var QPe=q(Or=>{"use strict";d();h();var tTt=fke(),rTt=hke(),Zl=IPe(),LPe=UPe();function PA(t){return t.call.bind(t)}var FPe=typeof BigInt<"u",KPe=typeof Symbol<"u",Hf=PA(Object.prototype.toString),nTt=PA(Number.prototype.valueOf),iTt=PA(String.prototype.valueOf),oTt=PA(Boolean.prototype.valueOf);FPe&&(qPe=PA(BigInt.prototype.valueOf));var qPe;KPe&&(VPe=PA(Symbol.prototype.valueOf));var VPe;function f5(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}Or.isArgumentsObject=tTt;Or.isGeneratorFunction=rTt;Or.isTypedArray=LPe;function sTt(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}Or.isPromise=sTt;function aTt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):LPe(t)||jPe(t)}Or.isArrayBufferView=aTt;function cTt(t){return Zl(t)==="Uint8Array"}Or.isUint8Array=cTt;function uTt(t){return Zl(t)==="Uint8ClampedArray"}Or.isUint8ClampedArray=uTt;function fTt(t){return Zl(t)==="Uint16Array"}Or.isUint16Array=fTt;function lTt(t){return Zl(t)==="Uint32Array"}Or.isUint32Array=lTt;function dTt(t){return Zl(t)==="Int8Array"}Or.isInt8Array=dTt;function hTt(t){return Zl(t)==="Int16Array"}Or.isInt16Array=hTt;function pTt(t){return Zl(t)==="Int32Array"}Or.isInt32Array=pTt;function mTt(t){return Zl(t)==="Float32Array"}Or.isFloat32Array=mTt;function yTt(t){return Zl(t)==="Float64Array"}Or.isFloat64Array=yTt;function gTt(t){return Zl(t)==="BigInt64Array"}Or.isBigInt64Array=gTt;function bTt(t){return Zl(t)==="BigUint64Array"}Or.isBigUint64Array=bTt;function $D(t){return Hf(t)==="[object Map]"}$D.working=typeof Map<"u"&&$D(new Map);function vTt(t){return typeof Map>"u"?!1:$D.working?$D(t):t instanceof Map}Or.isMap=vTt;function YD(t){return Hf(t)==="[object Set]"}YD.working=typeof Set<"u"&&YD(new Set);function xTt(t){return typeof Set>"u"?!1:YD.working?YD(t):t instanceof Set}Or.isSet=xTt;function ZD(t){return Hf(t)==="[object WeakMap]"}ZD.working=typeof WeakMap<"u"&&ZD(new WeakMap);function wTt(t){return typeof WeakMap>"u"?!1:ZD.working?ZD(t):t instanceof WeakMap}Or.isWeakMap=wTt;function fte(t){return Hf(t)==="[object WeakSet]"}fte.working=typeof WeakSet<"u"&&fte(new WeakSet);function STt(t){return fte(t)}Or.isWeakSet=STt;function QD(t){return Hf(t)==="[object ArrayBuffer]"}QD.working=typeof ArrayBuffer<"u"&&QD(new ArrayBuffer);function HPe(t){return typeof ArrayBuffer>"u"?!1:QD.working?QD(t):t instanceof ArrayBuffer}Or.isArrayBuffer=HPe;function JD(t){return Hf(t)==="[object DataView]"}JD.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&JD(new DataView(new ArrayBuffer(1),0,1));function jPe(t){return typeof DataView>"u"?!1:JD.working?JD(t):t instanceof DataView}Or.isDataView=jPe;var ute=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function u5(t){return Hf(t)==="[object SharedArrayBuffer]"}function zPe(t){return typeof ute>"u"?!1:(typeof u5.working>"u"&&(u5.working=u5(new ute)),u5.working?u5(t):t instanceof ute)}Or.isSharedArrayBuffer=zPe;function ATt(t){return Hf(t)==="[object AsyncFunction]"}Or.isAsyncFunction=ATt;function ETt(t){return Hf(t)==="[object Map Iterator]"}Or.isMapIterator=ETt;function _Tt(t){return Hf(t)==="[object Set Iterator]"}Or.isSetIterator=_Tt;function TTt(t){return Hf(t)==="[object Generator]"}Or.isGeneratorObject=TTt;function ITt(t){return Hf(t)==="[object WebAssembly.Module]"}Or.isWebAssemblyCompiledModule=ITt;function WPe(t){return f5(t,nTt)}Or.isNumberObject=WPe;function GPe(t){return f5(t,iTt)}Or.isStringObject=GPe;function $Pe(t){return f5(t,oTt)}Or.isBooleanObject=$Pe;function YPe(t){return FPe&&f5(t,qPe)}Or.isBigIntObject=YPe;function ZPe(t){return KPe&&f5(t,VPe)}Or.isSymbolObject=ZPe;function MTt(t){return WPe(t)||GPe(t)||$Pe(t)||YPe(t)||ZPe(t)}Or.isBoxedPrimitive=MTt;function kTt(t){return typeof Uint8Array<"u"&&(HPe(t)||zPe(t))}Or.isAnyArrayBuffer=kTt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Or,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var XPe=q((yln,JPe)=>{d();h();JPe.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var CA=q(Dr=>{d();h();var e7e=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},PTt=/%[sdj%]/g;Dr.format=function(t){if(!oN(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(gg(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(PTt,function(u){if(u==="%%")return"%";if(r>=i)return u;switch(u){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return u}}),s=n[r];r<i;s=n[++r])iN(s)||!RA(s)?o+=" "+s:o+=" "+gg(s);return o};Dr.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Dr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var XD={},t7e=/^$/;T.NODE_DEBUG&&(eN=T.NODE_DEBUG,eN=eN.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),t7e=new RegExp("^"+eN+"$","i"));var eN;Dr.debuglog=function(t){if(t=t.toUpperCase(),!XD[t])if(t7e.test(t)){var e=process.pid;XD[t]=function(){var r=Dr.format.apply(Dr,arguments);console.error("%s %d: %s",t,e,r)}}else XD[t]=function(){};return XD[t]};function gg(t,e){var r={seen:[],stylize:CTt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),pte(e)?r.showHidden=e:e&&Dr._extend(r,e),Uv(r.showHidden)&&(r.showHidden=!1),Uv(r.depth)&&(r.depth=2),Uv(r.colors)&&(r.colors=!1),Uv(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=RTt),rN(r,t,r.depth)}Dr.inspect=gg;gg.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};gg.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function RTt(t,e){var r=gg.styles[e];return r?"\x1B["+gg.colors[r][0]+"m"+t+"\x1B["+gg.colors[r][1]+"m":t}function CTt(t,e){return t}function BTt(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function rN(t,e,r){if(t.customInspect&&e&&tN(e.inspect)&&e.inspect!==Dr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return oN(n)||(n=rN(t,n,r)),n}var i=OTt(t,e);if(i)return i;var o=Object.keys(e),s=BTt(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),d5(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return lte(e);if(o.length===0){if(tN(e)){var u=e.name?": "+e.name:"";return t.stylize("[Function"+u+"]","special")}if(l5(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(nN(e))return t.stylize(Date.prototype.toString.call(e),"date");if(d5(e))return lte(e)}var l="",m=!1,x=["{","}"];if(r7e(e)&&(m=!0,x=["[","]"]),tN(e)){var w=e.name?": "+e.name:"";l=" [Function"+w+"]"}if(l5(e)&&(l=" "+RegExp.prototype.toString.call(e)),nN(e)&&(l=" "+Date.prototype.toUTCString.call(e)),d5(e)&&(l=" "+lte(e)),o.length===0&&(!m||e.length==0))return x[0]+l+x[1];if(r<0)return l5(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return m?E=DTt(t,e,r,s,o):E=o.map(function(I){return hte(t,e,r,s,I,m)}),t.seen.pop(),NTt(E,l,x)}function OTt(t,e){if(Uv(e))return t.stylize("undefined","undefined");if(oN(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(n7e(e))return t.stylize(""+e,"number");if(pte(e))return t.stylize(""+e,"boolean");if(iN(e))return t.stylize("null","null")}function lte(t){return"["+Error.prototype.toString.call(t)+"]"}function DTt(t,e,r,n,i){for(var o=[],s=0,u=e.length;s<u;++s)i7e(e,String(s))?o.push(hte(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(l){l.match(/^\d+$/)||o.push(hte(t,e,r,n,l,!0))}),o}function hte(t,e,r,n,i,o){var s,u,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?u=t.stylize("[Getter/Setter]","special"):u=t.stylize("[Getter]","special"):l.set&&(u=t.stylize("[Setter]","special")),i7e(n,i)||(s="["+i+"]"),u||(t.seen.indexOf(l.value)<0?(iN(r)?u=rN(t,l.value,null):u=rN(t,l.value,r-1),u.indexOf(`
`)>-1&&(o?u=u.split(`
`).map(function(m){return"  "+m}).join(`
`).slice(2):u=`
`+u.split(`
`).map(function(m){return"   "+m}).join(`
`))):u=t.stylize("[Circular]","special")),Uv(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function NTt(t,e,r){var n=0,i=t.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}Dr.types=QPe();function r7e(t){return Array.isArray(t)}Dr.isArray=r7e;function pte(t){return typeof t=="boolean"}Dr.isBoolean=pte;function iN(t){return t===null}Dr.isNull=iN;function UTt(t){return t==null}Dr.isNullOrUndefined=UTt;function n7e(t){return typeof t=="number"}Dr.isNumber=n7e;function oN(t){return typeof t=="string"}Dr.isString=oN;function LTt(t){return typeof t=="symbol"}Dr.isSymbol=LTt;function Uv(t){return t===void 0}Dr.isUndefined=Uv;function l5(t){return RA(t)&&mte(t)==="[object RegExp]"}Dr.isRegExp=l5;Dr.types.isRegExp=l5;function RA(t){return typeof t=="object"&&t!==null}Dr.isObject=RA;function nN(t){return RA(t)&&mte(t)==="[object Date]"}Dr.isDate=nN;Dr.types.isDate=nN;function d5(t){return RA(t)&&(mte(t)==="[object Error]"||t instanceof Error)}Dr.isError=d5;Dr.types.isNativeError=d5;function tN(t){return typeof t=="function"}Dr.isFunction=tN;function FTt(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Dr.isPrimitive=FTt;Dr.isBuffer=XPe();function mte(t){return Object.prototype.toString.call(t)}function dte(t){return t<10?"0"+t.toString(10):t.toString(10)}var KTt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function qTt(){var t=new Date,e=[dte(t.getHours()),dte(t.getMinutes()),dte(t.getSeconds())].join(":");return[t.getDate(),KTt[t.getMonth()],e].join(" ")}Dr.log=function(){console.log("%s - %s",qTt(),Dr.format.apply(Dr,arguments))};Dr.inherits=er();Dr._extend=function(t,e){if(!e||!RA(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function i7e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Nv=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Dr.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Nv&&e[Nv]){var r=e[Nv];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Nv,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(l,m){n=l,i=m}),s=[],u=0;u<arguments.length;u++)s.push(arguments[u]);s.push(function(l,m){l?i(l):n(m)});try{e.apply(this,s)}catch(l){i(l)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Nv&&Object.defineProperty(r,Nv,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,e7e(e))};Dr.promisify.custom=Nv;function VTt(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function HTt(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(u){process.nextTick(s.bind(null,null,u))},function(u){process.nextTick(VTt.bind(null,u,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,e7e(t)),e}Dr.callbackify=HTt});var vte=q((Sln,a7e)=>{"use strict";d();h();function BA(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?BA=function(r){return typeof r}:BA=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},BA(t)}function jTt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zTt(t,e){return e&&(BA(e)==="object"||typeof e=="function")?e:WTt(t)}function WTt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gte(t){return gte=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gte(t)}function GTt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bte(t,e)}function bte(t,e){return bte=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bte(t,e)}var s7e={},OA,yte;function h5(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var i=function(o){GTt(s,o);function s(u,l,m){var x;return jTt(this,s),x=zTt(this,gte(s).call(this,n(u,l,m))),x.code=t,x}return s}(r);s7e[t]=i}function o7e(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function $Tt(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function YTt(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ZTt(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}h5("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);h5("ERR_INVALID_ARG_TYPE",function(t,e,r){OA===void 0&&(OA=p5()),OA(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&$Tt(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(YTt(t," argument"))i="The ".concat(t," ").concat(n," ").concat(o7e(e,"type"));else{var o=ZTt(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(o7e(e,"type"))}return i+=". Received type ".concat(BA(r)),i},TypeError);h5("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";yte===void 0&&(yte=CA());var n=yte.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);h5("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(BA(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);h5("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];OA===void 0&&(OA=p5()),OA(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(o){return'"'.concat(o,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);a7e.exports.codes=s7e});var d7e=q((_ln,l7e)=>{"use strict";d();h();function QTt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){JTt(t,i,r[i])})}return t}function JTt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XTt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eIt(t,e,r){return e&&c7e(t.prototype,e),r&&c7e(t,r),t}function DA(t,e){return e&&(jf(e)==="object"||typeof e=="function")?e:xte(t)}function xte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tIt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b5(t,e)}function wte(t){var e=typeof Map=="function"?new Map:void 0;return wte=function(n){if(n===null||!nIt(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return sN(n,arguments,bg(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),b5(i,n)},wte(t)}function rIt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function sN(t,e,r){return rIt()?sN=Reflect.construct:sN=function(i,o,s){var u=[null];u.push.apply(u,o);var l=Function.bind.apply(i,u),m=new l;return s&&b5(m,s.prototype),m},sN.apply(null,arguments)}function nIt(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function b5(t,e){return b5=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},b5(t,e)}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}function jf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jf=function(r){return typeof r}:jf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jf(t)}var iIt=CA(),Ste=iIt.inspect,oIt=vte(),sIt=oIt.codes.ERR_INVALID_ARG_TYPE;function u7e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function aIt(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var Ql="",m5="",y5="",zs="",Lv={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},cIt=10;function f7e(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function g5(t){return Ste(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function uIt(t,e,r){var n="",i="",o=0,s="",u=!1,l=g5(t),m=l.split(`
`),x=g5(e).split(`
`),w=0,E="";if(r==="strictEqual"&&jf(t)==="object"&&jf(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),m.length===1&&x.length===1&&m[0]!==x[0]){var I=m[0].length+x[0].length;if(I<=cIt){if((jf(t)!=="object"||t===null)&&(jf(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(Lv[r],`

`)+"".concat(m[0]," !== ").concat(x[0],`
`)}else if(r!=="strictEqualObject"){var M=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(I<M){for(;m[0][w]===x[0][w];)w++;w>2&&(E=`
  `.concat(aIt(" ",w),"^"),w=0)}}}for(var k=m[m.length-1],C=x[x.length-1];k===C&&(w++<2?s=`
  `.concat(k).concat(s):n=k,m.pop(),x.pop(),!(m.length===0||x.length===0));)k=m[m.length-1],C=x[x.length-1];var R=Math.max(m.length,x.length);if(R===0){var L=l.split(`
`);if(L.length>30)for(L[26]="".concat(Ql,"...").concat(zs);L.length>27;)L.pop();return"".concat(Lv.notIdentical,`

`).concat(L.join(`
`),`
`)}w>3&&(s=`
`.concat(Ql,"...").concat(zs).concat(s),u=!0),n!==""&&(s=`
  `.concat(n).concat(s),n="");var P=0,K=Lv[r]+`
`.concat(m5,"+ actual").concat(zs," ").concat(y5,"- expected").concat(zs),V=" ".concat(Ql,"...").concat(zs," Lines skipped");for(w=0;w<R;w++){var j=w-o;if(m.length<w+1)j>1&&w>2&&(j>4?(i+=`
`.concat(Ql,"...").concat(zs),u=!0):j>3&&(i+=`
  `.concat(x[w-2]),P++),i+=`
  `.concat(x[w-1]),P++),o=w,n+=`
`.concat(y5,"-").concat(zs," ").concat(x[w]),P++;else if(x.length<w+1)j>1&&w>2&&(j>4?(i+=`
`.concat(Ql,"...").concat(zs),u=!0):j>3&&(i+=`
  `.concat(m[w-2]),P++),i+=`
  `.concat(m[w-1]),P++),o=w,i+=`
`.concat(m5,"+").concat(zs," ").concat(m[w]),P++;else{var ne=x[w],J=m[w],oe=J!==ne&&(!u7e(J,",")||J.slice(0,-1)!==ne);oe&&u7e(ne,",")&&ne.slice(0,-1)===J&&(oe=!1,J+=","),oe?(j>1&&w>2&&(j>4?(i+=`
`.concat(Ql,"...").concat(zs),u=!0):j>3&&(i+=`
  `.concat(m[w-2]),P++),i+=`
  `.concat(m[w-1]),P++),o=w,i+=`
`.concat(m5,"+").concat(zs," ").concat(J),n+=`
`.concat(y5,"-").concat(zs," ").concat(ne),P+=2):(i+=n,n="",(j===1||w===0)&&(i+=`
  `.concat(J),P++))}if(P>20&&w<R-2)return"".concat(K).concat(V,`
`).concat(i,`
`).concat(Ql,"...").concat(zs).concat(n,`
`)+"".concat(Ql,"...").concat(zs)}return"".concat(K).concat(u?V:"",`
`).concat(i).concat(n).concat(s).concat(E)}var fIt=function(t){tIt(e,t);function e(r){var n;if(XTt(this,e),jf(r)!=="object"||r===null)throw new sIt("options","Object",r);var i=r.message,o=r.operator,s=r.stackStartFn,u=r.actual,l=r.expected,m=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=DA(this,bg(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Ql="\x1B[34m",m5="\x1B[32m",zs="\x1B[39m",y5="\x1B[31m"):(Ql="",m5="",zs="",y5="")),jf(u)==="object"&&u!==null&&jf(l)==="object"&&l!==null&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=f7e(u),l=f7e(l)),o==="deepStrictEqual"||o==="strictEqual")n=DA(this,bg(e).call(this,uIt(u,l,o)));else if(o==="notDeepStrictEqual"||o==="notStrictEqual"){var x=Lv[o],w=g5(u).split(`
`);if(o==="notStrictEqual"&&jf(u)==="object"&&u!==null&&(x=Lv.notStrictEqualObject),w.length>30)for(w[26]="".concat(Ql,"...").concat(zs);w.length>27;)w.pop();w.length===1?n=DA(this,bg(e).call(this,"".concat(x," ").concat(w[0]))):n=DA(this,bg(e).call(this,"".concat(x,`

`).concat(w.join(`
`),`
`)))}else{var E=g5(u),I="",M=Lv[o];o==="notDeepEqual"||o==="notEqual"?(E="".concat(Lv[o],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(I="".concat(g5(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),I.length>512&&(I="".concat(I.slice(0,509),"...")),o==="deepEqual"||o==="equal"?E="".concat(M,`

`).concat(E,`

should equal

`):I=" ".concat(o," ").concat(I)),n=DA(this,bg(e).call(this,"".concat(E).concat(I)))}return Error.stackTraceLimit=m,n.generatedMessage=!i,Object.defineProperty(xte(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(xte(n),s),n.stack,n.name="AssertionError",DA(n)}return eIt(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Ste.custom,value:function(n,i){return Ste(this,QTt({},i,{customInspect:!1,depth:0}))}}]),e}(wte(Error));l7e.exports=fIt});var m7e=q((Mln,p7e)=>{"use strict";d();h();function h7e(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var o=Object.keys(Object(i)),s=0,u=o.length;s<u;s++){var l=o[s],m=Object.getOwnPropertyDescriptor(i,l);m!==void 0&&m.enumerable&&(r[l]=i[l])}}return r}function lIt(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:h7e})}p7e.exports={assign:h7e,polyfill:lIt}});var Ate=q((Rln,g7e)=>{"use strict";d();h();var y7e=Object.prototype.toString;g7e.exports=function(e){var r=y7e.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&y7e.call(e.callee)==="[object Function]"),n}});var T7e=q((Oln,_7e)=>{"use strict";d();h();var E7e;Object.keys||(v5=Object.prototype.hasOwnProperty,Ete=Object.prototype.toString,b7e=Ate(),_te=Object.prototype.propertyIsEnumerable,v7e=!_te.call({toString:null},"toString"),x7e=_te.call(function(){},"prototype"),x5=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aN=function(t){var e=t.constructor;return e&&e.prototype===t},w7e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},S7e=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!w7e["$"+t]&&v5.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{aN(self[t])}catch{return!0}}catch{return!0}return!1}(),A7e=function(t){if(typeof self>"u"||!S7e)return aN(t);try{return aN(t)}catch{return!1}},E7e=function(e){var r=e!==null&&typeof e=="object",n=Ete.call(e)==="[object Function]",i=b7e(e),o=r&&Ete.call(e)==="[object String]",s=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var u=x7e&&n;if(o&&e.length>0&&!v5.call(e,0))for(var l=0;l<e.length;++l)s.push(String(l));if(i&&e.length>0)for(var m=0;m<e.length;++m)s.push(String(m));else for(var x in e)!(u&&x==="prototype")&&v5.call(e,x)&&s.push(String(x));if(v7e)for(var w=A7e(e),E=0;E<x5.length;++E)!(w&&x5[E]==="constructor")&&v5.call(e,x5[E])&&s.push(x5[E]);return s});var v5,Ete,b7e,_te,v7e,x7e,x5,aN,w7e,S7e,A7e;_7e.exports=E7e});var P7e=q((Uln,k7e)=>{"use strict";d();h();var dIt=Array.prototype.slice,hIt=Ate(),I7e=Object.keys,cN=I7e?function(e){return I7e(e)}:T7e(),M7e=Object.keys;cN.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return hIt(n)?M7e(dIt.call(n)):M7e(n)})}else Object.keys=cN;return Object.keys||cN};k7e.exports=cN});var w5=q((Kln,O7e)=>{"use strict";d();h();var pIt=P7e(),mIt=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",yIt=Object.prototype.toString,gIt=Array.prototype.concat,R7e=Object.defineProperty,bIt=function(t){return typeof t=="function"&&yIt.call(t)==="[object Function]"},vIt=FD()(),C7e=R7e&&vIt,xIt=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!bIt(n)||!n())return}C7e?R7e(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},B7e=function(t,e){var r=arguments.length>2?arguments[2]:{},n=pIt(e);mIt&&(n=gIt.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)xIt(t,n[i],e[n[i]],r[n[i]])};B7e.supportsDescriptors=!!C7e;O7e.exports=B7e});var Tte=q((Hln,N7e)=>{"use strict";d();h();var D7e=function(t){return t!==t};N7e.exports=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||D7e(e)&&D7e(r))}});var Ite=q((Wln,U7e)=>{"use strict";d();h();var wIt=Tte();U7e.exports=function(){return typeof Object.is=="function"?Object.is:wIt}});var F7e=q((Yln,L7e)=>{"use strict";d();h();var SIt=Ite(),AIt=w5();L7e.exports=function(){var e=SIt();return AIt(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Mte=q((Jln,V7e)=>{"use strict";d();h();var EIt=w5(),_It=PD(),TIt=Tte(),K7e=Ite(),IIt=F7e(),q7e=_It(K7e(),Object);EIt(q7e,{getPolyfill:K7e,implementation:TIt,shim:IIt});V7e.exports=q7e});var kte=q((tdn,H7e)=>{"use strict";d();h();H7e.exports=function(e){return e!==e}});var Pte=q((idn,j7e)=>{"use strict";d();h();var MIt=kte();j7e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:MIt}});var W7e=q((adn,z7e)=>{"use strict";d();h();var kIt=w5(),PIt=Pte();z7e.exports=function(){var e=PIt();return kIt(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var Z7e=q((fdn,Y7e)=>{"use strict";d();h();var RIt=PD(),CIt=w5(),BIt=kte(),G7e=Pte(),OIt=W7e(),$7e=RIt(G7e(),Number);CIt($7e,{getPolyfill:G7e,implementation:BIt,shim:OIt});Y7e.exports=$7e});var m9e=q((hdn,p9e)=>{"use strict";d();h();function Q7e(t,e){return UIt(t)||NIt(t,e)||DIt()}function DIt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function NIt(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}function UIt(t){if(Array.isArray(t))return t}function Mu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(r){return typeof r}:Mu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mu(t)}var LIt=/a/g.flags!==void 0,mN=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},J7e=function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},u9e=Object.is?Object.is:Mte(),hN=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Rte=Number.isNaN?Number.isNaN:Z7e();function Bte(t){return t.call.bind(t)}var A5=Bte(Object.prototype.hasOwnProperty),pN=Bte(Object.prototype.propertyIsEnumerable),X7e=Bte(Object.prototype.toString),rc=CA().types,FIt=rc.isAnyArrayBuffer,KIt=rc.isArrayBufferView,e9e=rc.isDate,uN=rc.isMap,t9e=rc.isRegExp,fN=rc.isSet,qIt=rc.isNativeError,VIt=rc.isBoxedPrimitive,r9e=rc.isNumberObject,n9e=rc.isStringObject,i9e=rc.isBooleanObject,o9e=rc.isBigIntObject,HIt=rc.isSymbolObject,jIt=rc.isFloat32Array,zIt=rc.isFloat64Array;function WIt(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function lN(t){return Object.keys(t).filter(WIt).concat(hN(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function f9e(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var dN=void 0,GIt=!0,$It=!1,Cte=0,Ote=1,l9e=2,d9e=3;function YIt(t,e){return LIt?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function ZIt(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function QIt(t,e){return t.byteLength!==e.byteLength?!1:f9e(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function JIt(t,e){return t.byteLength===e.byteLength&&f9e(new Uint8Array(t),new Uint8Array(e))===0}function XIt(t,e){return r9e(t)?r9e(e)&&u9e(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):n9e(t)?n9e(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):i9e(t)?i9e(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):o9e(t)?o9e(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):HIt(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function zf(t,e,r,n){if(t===e)return t!==0?!0:r?u9e(t,e):!0;if(r){if(Mu(t)!=="object")return typeof t=="number"&&Rte(t)&&Rte(e);if(Mu(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Mu(t)!=="object")return e===null||Mu(e)!=="object"?t==e:!1;if(e===null||Mu(e)!=="object")return!1}var i=X7e(t),o=X7e(e);if(i!==o)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var s=lN(t,dN),u=lN(e,dN);return s.length!==u.length?!1:S5(t,e,r,n,Ote,s)}if(i==="[object Object]"&&(!uN(t)&&uN(e)||!fN(t)&&fN(e)))return!1;if(e9e(t)){if(!e9e(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(t9e(t)){if(!t9e(e)||!YIt(t,e))return!1}else if(qIt(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(KIt(t)){if(!r&&(jIt(t)||zIt(t))){if(!ZIt(t,e))return!1}else if(!QIt(t,e))return!1;var l=lN(t,dN),m=lN(e,dN);return l.length!==m.length?!1:S5(t,e,r,n,Cte,l)}else{if(fN(t))return!fN(e)||t.size!==e.size?!1:S5(t,e,r,n,l9e);if(uN(t))return!uN(e)||t.size!==e.size?!1:S5(t,e,r,n,d9e);if(FIt(t)){if(!JIt(t,e))return!1}else if(VIt(t)&&!XIt(t,e))return!1}return S5(t,e,r,n,Cte)}function s9e(t,e){return e.filter(function(r){return pN(t,r)})}function S5(t,e,r,n,i,o){if(arguments.length===5){o=Object.keys(t);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var u=0;u<o.length;u++)if(!A5(e,o[u]))return!1;if(r&&arguments.length===5){var l=hN(t);if(l.length!==0){var m=0;for(u=0;u<l.length;u++){var x=l[u];if(pN(t,x)){if(!pN(e,x))return!1;o.push(x),m++}else if(pN(e,x))return!1}var w=hN(e);if(l.length!==w.length&&s9e(e,w).length!==m)return!1}else{var E=hN(e);if(E.length!==0&&s9e(e,E).length!==0)return!1}}if(o.length===0&&(i===Cte||i===Ote&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var I=n.val1.get(t);if(I!==void 0){var M=n.val2.get(e);if(M!==void 0)return I===M}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var k=iMt(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),k}function a9e(t,e,r,n){for(var i=mN(t),o=0;o<i.length;o++){var s=i[o];if(zf(e,s,r,n))return t.delete(s),!0}return!1}function h9e(t){switch(Mu(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(Rte(t))return!1}return!0}function eMt(t,e,r){var n=h9e(r);return n??(e.has(n)&&!t.has(n))}function tMt(t,e,r,n,i){var o=h9e(r);if(o!=null)return o;var s=e.get(o);return s===void 0&&!e.has(o)||!zf(n,s,!1,i)?!1:!t.has(o)&&zf(n,s,!1,i)}function rMt(t,e,r,n){for(var i=null,o=mN(t),s=0;s<o.length;s++){var u=o[s];if(Mu(u)==="object"&&u!==null)i===null&&(i=new Set),i.add(u);else if(!e.has(u)){if(r||!eMt(t,e,u))return!1;i===null&&(i=new Set),i.add(u)}}if(i!==null){for(var l=mN(e),m=0;m<l.length;m++){var x=l[m];if(Mu(x)==="object"&&x!==null){if(!a9e(i,x,r,n))return!1}else if(!r&&!t.has(x)&&!a9e(i,x,r,n))return!1}return i.size===0}return!0}function c9e(t,e,r,n,i,o){for(var s=mN(t),u=0;u<s.length;u++){var l=s[u];if(zf(r,l,i,o)&&zf(n,e.get(l),i,o))return t.delete(l),!0}return!1}function nMt(t,e,r,n){for(var i=null,o=J7e(t),s=0;s<o.length;s++){var u=Q7e(o[s],2),l=u[0],m=u[1];if(Mu(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var x=e.get(l);if(x===void 0&&!e.has(l)||!zf(m,x,r,n)){if(r||!tMt(t,e,l,m,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var w=J7e(e),E=0;E<w.length;E++){var I=Q7e(w[E],2),l=I[0],M=I[1];if(Mu(l)==="object"&&l!==null){if(!c9e(i,t,l,M,r,n))return!1}else if(!r&&(!t.has(l)||!zf(t.get(l),M,!1,n))&&!c9e(i,t,l,M,!1,n))return!1}return i.size===0}return!0}function iMt(t,e,r,n,i,o){var s=0;if(o===l9e){if(!rMt(t,e,r,i))return!1}else if(o===d9e){if(!nMt(t,e,r,i))return!1}else if(o===Ote)for(;s<t.length;s++)if(A5(t,s)){if(!A5(e,s)||!zf(t[s],e[s],r,i))return!1}else{if(A5(e,s))return!1;for(var u=Object.keys(t);s<u.length;s++){var l=u[s];if(!A5(e,l)||!zf(t[l],e[l],r,i))return!1}return u.length===Object.keys(e).length}for(s=0;s<n.length;s++){var m=n[s];if(!zf(t[m],e[m],r,i))return!1}return!0}function oMt(t,e){return zf(t,e,$It)}function sMt(t,e){return zf(t,e,GIt)}p9e.exports={isDeepEqual:oMt,isDeepStrictEqual:sMt}});var p5=q((ydn,R9e)=>{"use strict";d();h();function vg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vg=function(r){return typeof r}:vg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vg(t)}function aMt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var cMt=vte(),_5=cMt.codes,y9e=_5.ERR_AMBIGUOUS_ARGUMENT,E5=_5.ERR_INVALID_ARG_TYPE,uMt=_5.ERR_INVALID_ARG_VALUE,fMt=_5.ERR_INVALID_RETURN_VALUE,wg=_5.ERR_MISSING_ARGS,Fv=d7e(),lMt=CA(),dMt=lMt.inspect,x9e=CA().types,hMt=x9e.isPromise,Dte=x9e.isRegExp,pMt=Object.assign?Object.assign:m7e().assign,w9e=Object.is?Object.is:Mte(),xg,yN;function T5(){var t=m9e();xg=t.isDeepEqual,yN=t.isDeepStrictEqual}var g9e=!1,Pi=R9e.exports=Nte,gN={};function Jl(t){throw t.message instanceof Error?t.message:new Fv(t)}function S9e(t,e,r,n,i){var o=arguments.length,s;if(o===0)s="Failed";else if(o===1)r=t,t=void 0;else{if(g9e===!1){g9e=!0;var u=process.emitWarning?process.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||S9e};r!==void 0&&(l.message=r);var m=new Fv(l);throw s&&(m.message=s,m.generatedMessage=!0),m}Pi.fail=S9e;Pi.AssertionError=Fv;function A9e(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new Fv({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function Nte(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];A9e.apply(void 0,[Nte,e.length].concat(e))}Pi.ok=Nte;Pi.equal=function t(e,r,n){if(arguments.length<2)throw new wg("actual","expected");e!=r&&Jl({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};Pi.notEqual=function t(e,r,n){if(arguments.length<2)throw new wg("actual","expected");e==r&&Jl({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};Pi.deepEqual=function t(e,r,n){if(arguments.length<2)throw new wg("actual","expected");xg===void 0&&T5(),xg(e,r)||Jl({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};Pi.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new wg("actual","expected");xg===void 0&&T5(),xg(e,r)&&Jl({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};Pi.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new wg("actual","expected");xg===void 0&&T5(),yN(e,r)||Jl({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};Pi.notDeepStrictEqual=E9e;function E9e(t,e,r){if(arguments.length<2)throw new wg("actual","expected");xg===void 0&&T5(),yN(t,e)&&Jl({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:E9e})}Pi.strictEqual=function t(e,r,n){if(arguments.length<2)throw new wg("actual","expected");w9e(e,r)||Jl({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};Pi.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new wg("actual","expected");w9e(e,r)&&Jl({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var b9e=function t(e,r,n){var i=this;aMt(this,t),r.forEach(function(o){o in e&&(n!==void 0&&typeof n[o]=="string"&&Dte(e[o])&&e[o].test(n[o])?i[o]=n[o]:i[o]=e[o])})};function mMt(t,e,r,n,i,o){if(!(r in t)||!yN(t[r],e[r])){if(!n){var s=new b9e(t,i),u=new b9e(e,i,t),l=new Fv({actual:s,expected:u,operator:"deepStrictEqual",stackStartFn:o});throw l.actual=t,l.expected=e,l.operator=o.name,l}Jl({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}function _9e(t,e,r,n){if(typeof e!="function"){if(Dte(e))return e.test(t);if(arguments.length===2)throw new E5("expected",["Function","RegExp"],e);if(vg(t)!=="object"||t===null){var i=new Fv({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var o=Object.keys(e);if(e instanceof Error)o.push("name","message");else if(o.length===0)throw new uMt("error",e,"may not be an empty object");return xg===void 0&&T5(),o.forEach(function(s){typeof t[s]=="string"&&Dte(e[s])&&e[s].test(t[s])||mMt(t,e,s,r,o,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function T9e(t){if(typeof t!="function")throw new E5("fn","Function",t);try{t()}catch(e){return e}return gN}function v9e(t){return hMt(t)||t!==null&&vg(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function I9e(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!v9e(e))throw new fMt("instance of Promise","promiseFn",e)}else if(v9e(t))e=t;else throw new E5("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return gN}).catch(function(r){return r})})}function M9e(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new E5("error",["Object","Error","Function","RegExp"],r);if(vg(e)==="object"&&e!==null){if(e.message===r)throw new y9e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new y9e("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&vg(r)!=="object"&&typeof r!="function")throw new E5("error",["Object","Error","Function","RegExp"],r);if(e===gN){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var o=t.name==="rejects"?"rejection":"exception";Jl({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:t})}if(r&&!_9e(e,r,n,t))throw e}function k9e(t,e,r,n){if(e!==gN){if(typeof r=="string"&&(n=r,r=void 0),!r||_9e(e,r)){var i=n?": ".concat(n):".",o=t.name==="doesNotReject"?"rejection":"exception";Jl({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}Pi.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];M9e.apply(void 0,[t,T9e(e)].concat(n))};Pi.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I9e(e).then(function(o){return M9e.apply(void 0,[t,o].concat(n))})};Pi.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];k9e.apply(void 0,[t,T9e(e)].concat(n))};Pi.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I9e(e).then(function(o){return k9e.apply(void 0,[t,o].concat(n))})};Pi.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";vg(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=dMt(e);var n=new Fv({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var o=i.split(`
`);o.shift();for(var s=n.stack.split(`
`),u=0;u<o.length;u++){var l=s.indexOf(o[u]);if(l!==-1){s=s.slice(0,l);break}}n.stack="".concat(s.join(`
`),`
`).concat(o.join(`
`))}throw n}};function P9e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];A9e.apply(void 0,[P9e,e.length].concat(e))}Pi.strict=pMt(P9e,Pi,{equal:Pi.strictEqual,deepEqual:Pi.deepStrictEqual,notEqual:Pi.notStrictEqual,notDeepEqual:Pi.notDeepStrictEqual});Pi.strict.strict=Pi.strict});var UA=q(Vr=>{"use strict";d();h();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.baToJSON=Vr.addHexPrefix=Vr.toUnsigned=Vr.fromSigned=Vr.bufferToHex=Vr.bufferToInt=Vr.toBuffer=Vr.stripZeros=Vr.unpad=Vr.setLengthRight=Vr.setLength=Vr.setLengthLeft=Vr.zeros=void 0;var NA=Iv(),Ute=_v();Vr.zeros=function(t){return Buffer.allocUnsafe(t).fill(0)};Vr.setLengthLeft=function(t,e,r){r===void 0&&(r=!1);var n=Vr.zeros(e);return t=Vr.toBuffer(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)};Vr.setLength=Vr.setLengthLeft;Vr.setLengthRight=function(t,e){return Vr.setLength(t,e,!0)};Vr.unpad=function(t){t=NA.stripHexPrefix(t);for(var e=t[0];t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t};Vr.stripZeros=Vr.unpad;Vr.toBuffer=function(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")if(NA.isHexString(t))t=Buffer.from(NA.padToEven(NA.stripHexPrefix(t)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);else if(typeof t=="number")t=NA.intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Ute.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t};Vr.bufferToInt=function(t){return new Ute(Vr.toBuffer(t)).toNumber()};Vr.bufferToHex=function(t){return t=Vr.toBuffer(t),"0x"+t.toString("hex")};Vr.fromSigned=function(t){return new Ute(t).fromTwos(256)};Vr.toUnsigned=function(t){return Buffer.from(t.toTwos(256).toArray())};Vr.addHexPrefix=function(t){return typeof t!="string"||NA.isHexPrefixed(t)?t:"0x"+t};Vr.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var e=[],r=0;r<t.length;r++)e.push(Vr.baToJSON(t[r]));return e}}});var C9e=q(Lte=>{"use strict";d();h();Object.defineProperty(Lte,"__esModule",{value:!0});function yMt(t){return function(e){var r=t();return r.update(e),Buffer.from(r.digest())}}Lte.createHashFunction=yMt});var D9e=q((_dn,O9e)=>{d();h();var{Transform:gMt}=cI();O9e.exports=t=>class B9e extends gMt{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new B9e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var L9e=q((Mdn,U9e)=>{d();h();var{Transform:bMt}=cI();U9e.exports=t=>class N9e extends bMt{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new N9e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var K9e=q((Rdn,F9e)=>{d();h();var vMt=D9e(),xMt=L9e();F9e.exports=function(t){let e=vMt(t),r=xMt(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var H9e=q(V9e=>{d();h();var q9e=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];V9e.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],m=t[7]^t[17]^t[27]^t[37]^t[47],x=t[8]^t[18]^t[28]^t[38]^t[48],w=t[9]^t[19]^t[29]^t[39]^t[49],E=x^(i<<1|o>>>31),I=w^(o<<1|i>>>31),M=t[0]^E,k=t[1]^I,C=t[10]^E,R=t[11]^I,L=t[20]^E,P=t[21]^I,K=t[30]^E,V=t[31]^I,j=t[40]^E,ne=t[41]^I;E=r^(s<<1|u>>>31),I=n^(u<<1|s>>>31);let J=t[2]^E,oe=t[3]^I,S=t[12]^E,a=t[13]^I,f=t[22]^E,p=t[23]^I,y=t[32]^E,g=t[33]^I,A=t[42]^E,_=t[43]^I;E=i^(l<<1|m>>>31),I=o^(m<<1|l>>>31);let b=t[4]^E,c=t[5]^I,v=t[14]^E,F=t[15]^I,U=t[24]^E,O=t[25]^I,W=t[34]^E,ee=t[35]^I,re=t[44]^E,Ve=t[45]^I;E=s^(x<<1|w>>>31),I=u^(w<<1|x>>>31);let ae=t[6]^E,G=t[7]^I,he=t[16]^E,te=t[17]^I,ce=t[26]^E,Ye=t[27]^I,se=t[36]^E,le=t[37]^I,Pt=t[46]^E,ge=t[47]^I;E=l^(r<<1|n>>>31),I=m^(n<<1|r>>>31);let ye=t[8]^E,Hr=t[9]^I,Ie=t[18]^E,we=t[19]^I,dn=t[28]^E,ve=t[29]^I,Re=t[38]^E,wn=t[39]^I,Ce=t[48]^E,Be=t[49]^I,Mn=M,Ne=k,Me=R<<4|C>>>28,Sn=C<<4|R>>>28,_e=L<<3|P>>>29,Se=P<<3|L>>>29,Zr=V<<9|K>>>23,Ae=K<<9|V>>>23,Te=j<<18|ne>>>14,rn=ne<<18|j>>>14,Ee=J<<1|oe>>>31,ke=oe<<1|J>>>31,kn=a<<12|S>>>20,Ue=S<<12|a>>>20,Le=f<<10|p>>>22,Pr=p<<10|f>>>22,be=g<<13|y>>>19,xe=y<<13|g>>>19,An=A<<2|_>>>30,Pe=_<<2|A>>>30,Oe=c<<30|b>>>2,Bn=b<<30|c>>>2,me=v<<6|F>>>26,De=F<<6|v>>>26,Z=O<<11|U>>>21,z=U<<11|O>>>21,H=W<<15|ee>>>17,D=ee<<15|W>>>17,Q=Ve<<29|re>>>3,X=re<<29|Ve>>>3,pe=ae<<28|G>>>4,ie=G<<28|ae>>>4,ue=te<<23|he>>>9,at=he<<23|te>>>9,Je=ce<<25|Ye>>>7,At=Ye<<25|ce>>>7,tt=se<<21|le>>>11,dt=le<<21|se>>>11,ht=ge<<24|Pt>>>8,bt=Pt<<24|ge>>>8,gt=ye<<27|Hr>>>5,pt=Hr<<27|ye>>>5,yt=Ie<<20|we>>>12,mt=we<<20|Ie>>>12,it=ve<<7|dn>>>25,ut=dn<<7|ve>>>25,Xe=Re<<8|wn>>>24,ot=wn<<8|Re>>>24,st=Ce<<14|Be>>>18,Ze=Be<<14|Ce>>>18;t[0]=Mn^~kn&Z,t[1]=Ne^~Ue&z,t[10]=pe^~yt&_e,t[11]=ie^~mt&Se,t[20]=Ee^~me&Je,t[21]=ke^~De&At,t[30]=gt^~Me&Le,t[31]=pt^~Sn&Pr,t[40]=Oe^~ue&it,t[41]=Bn^~at&ut,t[2]=kn^~Z&tt,t[3]=Ue^~z&dt,t[12]=yt^~_e&be,t[13]=mt^~Se&xe,t[22]=me^~Je&Xe,t[23]=De^~At&ot,t[32]=Me^~Le&H,t[33]=Sn^~Pr&D,t[42]=ue^~it&Zr,t[43]=at^~ut&Ae,t[4]=Z^~tt&st,t[5]=z^~dt&Ze,t[14]=_e^~be&Q,t[15]=Se^~xe&X,t[24]=Je^~Xe&Te,t[25]=At^~ot&rn,t[34]=Le^~H&ht,t[35]=Pr^~D&bt,t[44]=it^~Zr&An,t[45]=ut^~Ae&Pe,t[6]=tt^~st&Mn,t[7]=dt^~Ze&Ne,t[16]=be^~Q&pe,t[17]=xe^~X&ie,t[26]=Xe^~Te&Ee,t[27]=ot^~rn&ke,t[36]=H^~ht&gt,t[37]=D^~bt&pt,t[46]=Zr^~An&Oe,t[47]=Ae^~Pe&Bn,t[8]=st^~Mn&kn,t[9]=Ze^~Ne&Ue,t[18]=Q^~pe&yt,t[19]=X^~ie&mt,t[28]=Te^~Ee&me,t[29]=rn^~ke&De,t[38]=ht^~gt&Me,t[39]=bt^~pt&Sn,t[48]=An^~Oe&ue,t[49]=Pe^~Bn&at,t[0]^=q9e[e*2],t[1]^=q9e[e*2+1]}}});var z9e=q((Udn,j9e)=>{d();h();var bN=H9e();function LA(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}LA.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};LA.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(bN.p1600(this.state),this.count=0)};LA.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&bN.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),bN.p1600(this.state),this.count=0,this.squeezing=!0};LA.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(bN.p1600(this.state),this.count=0);return e};LA.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};j9e.exports=LA});var G9e=q((Kdn,W9e)=>{d();h();W9e.exports=K9e()(z9e())});var $9e=q(FA=>{"use strict";d();h();Object.defineProperty(FA,"__esModule",{value:!0});var vN=C9e(),xN=G9e();FA.keccak224=vN.createHashFunction(function(){return xN("keccak224")});FA.keccak256=vN.createHashFunction(function(){return xN("keccak256")});FA.keccak384=vN.createHashFunction(function(){return xN("keccak384")});FA.keccak512=vN.createHashFunction(function(){return xN("keccak512")})});var AN=q(Fc=>{"use strict";d();h();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.rlphash=Fc.ripemd160=Fc.sha256=Fc.keccak256=Fc.keccak=void 0;var SN=$9e(),wMt=SN.keccak224,SMt=SN.keccak384,AMt=SN.keccak256,EMt=SN.keccak512,Y9e=$p(),_Mt=Iv(),TMt=TD(),wN=UA();Fc.keccak=function(t,e){switch(e===void 0&&(e=256),typeof t=="string"&&!_Mt.isHexString(t)?t=Buffer.from(t,"utf8"):t=wN.toBuffer(t),e||(e=256),e){case 224:return wMt(t);case 256:return AMt(t);case 384:return SMt(t);case 512:return EMt(t);default:throw new Error("Invald algorithm: keccak"+e)}};Fc.keccak256=function(t){return Fc.keccak(t)};Fc.sha256=function(t){return t=wN.toBuffer(t),Y9e("sha256").update(t).digest()};Fc.ripemd160=function(t,e){t=wN.toBuffer(t);var r=Y9e("rmd160").update(t).digest();return e===!0?wN.setLength(r,32):r};Fc.rlphash=function(t){return Fc.keccak(TMt.encode(t))}});var Z9e=q(Mr=>{"use strict";d();h();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.importPublic=Mr.privateToPublic=Mr.privateToAddress=Mr.publicToAddress=Mr.pubToAddress=Mr.isValidPublic=Mr.isValidPrivate=Mr.isPrecompiled=Mr.generateAddress2=Mr.generateAddress=Mr.isValidChecksumAddress=Mr.toChecksumAddress=Mr.isZeroAddress=Mr.isValidAddress=Mr.zeroAddress=void 0;var Fte=p5(),IMt=Iv(),KA=ED(),MMt=_v(),Xl=UA(),qA=AN();Mr.zeroAddress=function(){var t=20,e=Xl.zeros(t);return Xl.bufferToHex(e)};Mr.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)};Mr.isZeroAddress=function(t){var e=Mr.zeroAddress();return e===Xl.addHexPrefix(t)};Mr.toChecksumAddress=function(t,e){t=IMt.stripHexPrefix(t).toLowerCase();for(var r=e!==void 0?e.toString()+"0x":"",n=qA.keccak(r+t).toString("hex"),i="0x",o=0;o<t.length;o++)parseInt(n[o],16)>=8?i+=t[o].toUpperCase():i+=t[o];return i};Mr.isValidChecksumAddress=function(t,e){return Mr.isValidAddress(t)&&Mr.toChecksumAddress(t,e)===t};Mr.generateAddress=function(t,e){t=Xl.toBuffer(t);var r=new MMt(e);return r.isZero()?qA.rlphash([t,null]).slice(-20):qA.rlphash([t,Buffer.from(r.toArray())]).slice(-20)};Mr.generateAddress2=function(t,e,r){var n=Xl.toBuffer(t),i=Xl.toBuffer(e),o=Xl.toBuffer(r);Fte(n.length===20),Fte(i.length===32);var s=qA.keccak256(Buffer.concat([Buffer.from("ff","hex"),n,i,qA.keccak256(o)]));return s.slice(-20)};Mr.isPrecompiled=function(t){var e=Xl.unpad(t);return e.length===1&&e[0]>=1&&e[0]<=8};Mr.isValidPrivate=function(t){return KA.privateKeyVerify(t)};Mr.isValidPublic=function(t,e){return e===void 0&&(e=!1),t.length===64?KA.publicKeyVerify(Buffer.concat([Buffer.from([4]),t])):e?KA.publicKeyVerify(t):!1};Mr.pubToAddress=function(t,e){return e===void 0&&(e=!1),t=Xl.toBuffer(t),e&&t.length!==64&&(t=KA.publicKeyConvert(t,!1).slice(1)),Fte(t.length===64),qA.keccak(t).slice(-20)};Mr.publicToAddress=Mr.pubToAddress;Mr.privateToAddress=function(t){return Mr.publicToAddress(Mr.privateToPublic(t))};Mr.privateToPublic=function(t){return t=Xl.toBuffer(t),KA.publicKeyCreate(t,!1).slice(1)};Mr.importPublic=function(t){return t=Xl.toBuffer(t),t.length!==64&&(t=KA.publicKeyConvert(t,!1).slice(1)),t}});var Q9e=q(Kc=>{"use strict";d();h();Object.defineProperty(Kc,"__esModule",{value:!0});Kc.hashPersonalMessage=Kc.isValidSignature=Kc.fromRpcSig=Kc.toRpcSig=Kc.ecrecover=Kc.ecsign=void 0;var Kte=ED(),EN=_v(),Kv=UA(),kMt=AN();Kc.ecsign=function(t,e,r){var n=Kte.sign(t,e),i=n.recovery,o={r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(r*2+35):i+27};return o};Kc.ecrecover=function(t,e,r,n,i){var o=Buffer.concat([Kv.setLength(r,32),Kv.setLength(n,32)],64),s=qte(e,i);if(!Vte(s))throw new Error("Invalid signature v value");var u=Kte.recover(t,o,s);return Kte.publicKeyConvert(u,!1).slice(1)};Kc.toRpcSig=function(t,e,r,n){var i=qte(t,n);if(!Vte(i))throw new Error("Invalid signature v value");return Kv.bufferToHex(Buffer.concat([Kv.setLengthLeft(e,32),Kv.setLengthLeft(r,32),Kv.toBuffer(t)]))};Kc.fromRpcSig=function(t){var e=Kv.toBuffer(t);if(e.length!==65)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}};Kc.isValidSignature=function(t,e,r,n,i){n===void 0&&(n=!0);var o=new EN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new EN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||r.length!==32||!Vte(qte(t,i)))return!1;var u=new EN(e),l=new EN(r);return!(u.isZero()||u.gt(s)||l.isZero()||l.gt(s)||n&&l.cmp(o)===1)};Kc.hashPersonalMessage=function(t){var e=Buffer.from(`Ethereum Signed Message:
`+t.length.toString(),"utf-8");return kMt.keccak(Buffer.concat([e,t]))};function qte(t,e){return e?t-(2*e+35):t-27}function Vte(t){return t===0||t===1}});var eRe=q(TN=>{"use strict";d();h();Object.defineProperty(TN,"__esModule",{value:!0});TN.defineProperties=void 0;var J9e=p5(),PMt=Iv(),X9e=TD(),_N=UA();TN.defineProperties=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(i){if(i===void 0&&(i=!1),i){var o={};return t._fields.forEach(function(s){o[s]="0x"+t[s].toString("hex")}),o}return _N.baToJSON(t.raw)},t.serialize=function(){return X9e.encode(t.raw)},e.forEach(function(i,o){t._fields.push(i.name);function s(){return t.raw[o]}function u(l){l=_N.toBuffer(l),l.toString("hex")==="00"&&!i.allowZero&&(l=Buffer.allocUnsafe(0)),i.allowLess&&i.length?(l=_N.stripZeros(l),J9e(i.length>=l.length,"The field "+i.name+" must not have more "+i.length+" bytes")):!(i.allowZero&&l.length===0)&&i.length&&J9e(i.length===l.length,"The field "+i.name+" must have byte length of "+i.length),t.raw[o]=l}Object.defineProperty(t,i.name,{enumerable:!0,configurable:!0,get:s,set:u}),i.default&&(t[i.name]=i.default),i.alias&&Object.defineProperty(t,i.alias,{enumerable:!1,configurable:!0,set:u,get:s})}),r)if(typeof r=="string"&&(r=Buffer.from(PMt.stripHexPrefix(r),"hex")),Buffer.isBuffer(r)&&(r=X9e.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(i,o){t[t._fields[o]]=_N.toBuffer(i)})}else if(typeof r=="object"){var n=Object.keys(r);e.forEach(function(i){n.indexOf(i.name)!==-1&&(t[i.name]=r[i.name]),n.indexOf(i.alias)!==-1&&(t[i.alias]=r[i.alias])})}else throw new Error("invalid data")}});var I5=q(qo=>{"use strict";d();h();var RMt=qo&&qo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VA=qo&&qo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&RMt(e,t,r)};Object.defineProperty(qo,"__esModule",{value:!0});qo.secp256k1=qo.rlp=qo.BN=void 0;var CMt=ED();qo.secp256k1=CMt;var BMt=Iv(),OMt=_v();qo.BN=OMt;var DMt=TD();qo.rlp=DMt;Object.assign(qo,BMt);VA(CMe(),qo);VA(Z9e(),qo);VA(AN(),qo);VA(Q9e(),qo);VA(UA(),qo);VA(eRe(),qo)});var M5=q(qc=>{"use strict";d();h();Object.defineProperty(qc,"__esModule",{value:!0});qc.normalize=qc.recoverPublicKey=qc.concatSig=qc.legacyToBuffer=qc.isNullish=qc.padWithZeroes=void 0;var Wf=I5(),Hte=Iv();function jte(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}qc.padWithZeroes=jte;function NMt(t){return t==null}qc.isNullish=NMt;function UMt(t){return typeof t=="string"&&!Hte.isHexString(t)?Buffer.from(t):Wf.toBuffer(t)}qc.legacyToBuffer=UMt;function LMt(t,e,r){let n=Wf.fromSigned(e),i=Wf.fromSigned(r),o=Wf.bufferToInt(t),s=jte(Wf.toUnsigned(n).toString("hex"),64),u=jte(Wf.toUnsigned(i).toString("hex"),64),l=Hte.stripHexPrefix(Hte.intToHex(o));return Wf.addHexPrefix(s.concat(u,l))}qc.concatSig=LMt;function FMt(t,e){let r=Wf.fromRpcSig(e);return Wf.ecrecover(t,r.v,r.r,r.s)}qc.recoverPublicKey=FMt;function KMt(t){if(t){if(typeof t=="number"){let e=Wf.toBuffer(t);t=Wf.bufferToHex(e)}if(typeof t!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return Wf.addHexPrefix(t.toLowerCase())}}qc.normalize=KMt});var rRe=q(Sg=>{"use strict";d();h();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.extractPublicKey=Sg.recoverPersonalSignature=Sg.personalSign=void 0;var HA=I5(),kh=M5();function qMt({privateKey:t,data:e}){if(kh.isNullish(e))throw new Error("Missing data parameter");if(kh.isNullish(t))throw new Error("Missing privateKey parameter");let r=kh.legacyToBuffer(e),n=HA.hashPersonalMessage(r),i=HA.ecsign(n,t);return kh.concatSig(HA.toBuffer(i.v),i.r,i.s)}Sg.personalSign=qMt;function VMt({data:t,signature:e}){if(kh.isNullish(t))throw new Error("Missing data parameter");if(kh.isNullish(e))throw new Error("Missing signature parameter");let r=tRe(t,e),n=HA.publicToAddress(r);return HA.bufferToHex(n)}Sg.recoverPersonalSignature=VMt;function HMt({data:t,signature:e}){if(kh.isNullish(t))throw new Error("Missing data parameter");if(kh.isNullish(e))throw new Error("Missing signature parameter");return`0x${tRe(t,e).toString("hex")}`}Sg.extractPublicKey=HMt;function tRe(t,e){let r=HA.hashPersonalMessage(kh.legacyToBuffer(t));return kh.recoverPublicKey(r,e)}});var iRe=q((nRe,zte)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Pp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var b=a.length-f;for(y=b%2===0?f+1:f;y<a.length;y+=2)_=u(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,b=Math.min(A,A-_)+p,c=0,v=p;v<b;v+=y)c=l(a,v,v+y,f),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(_!==0){var F=1;for(c=l(a,v,a.length,f),v=0;v<_;v++)F*=f;this.imuln(F),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],b=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-b.length]+b+p:p=b+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=x[a],v=w[a];p="";var F=this.clone();for(F.negative=0;!F.isZero();){var U=F.modn(v).toString(a);F=F.idivn(v),F.isZero()?p=U+p:p=m[c-U.length]+U+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),b,c,v=this.clone();if(A){for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[c]=b;for(;c<g;c++)_[c]=0}else{for(c=0;c<g-y;c++)_[c]=0;for(c=0;!v.isZero();c++)b=v.andln(255),v.iushrn(8),_[g-c-1]=b}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,b=A/67108864|0;f.words[0]=_;for(var c=1;c<p;c++){for(var v=b>>>26,F=b&67108863,U=Math.min(c,a.length-1),O=Math.max(0,c-S.length+1);O<=U;O++){var W=c-O|0;y=S.words[W]|0,g=a.words[O]|0,A=y*g+F,v+=A/67108864|0,F=A&67108863}f.words[c]=F|0,b=v|0}return b!==0?f.words[c]=b|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,b,c,v,F=y[0]|0,U=F&8191,O=F>>>13,W=y[1]|0,ee=W&8191,re=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Hr=y[6]|0,Ie=Hr&8191,we=Hr>>>13,dn=y[7]|0,ve=dn&8191,Re=dn>>>13,wn=y[8]|0,Ce=wn&8191,Be=wn>>>13,Mn=y[9]|0,Ne=Mn&8191,Me=Mn>>>13,Sn=g[0]|0,_e=Sn&8191,Se=Sn>>>13,Zr=g[1]|0,Ae=Zr&8191,Te=Zr>>>13,rn=g[2]|0,Ee=rn&8191,ke=rn>>>13,kn=g[3]|0,Ue=kn&8191,Le=kn>>>13,Pr=g[4]|0,be=Pr&8191,xe=Pr>>>13,An=g[5]|0,Pe=An&8191,Oe=An>>>13,Bn=g[6]|0,me=Bn&8191,De=Bn>>>13,Z=g[7]|0,z=Z&8191,H=Z>>>13,D=g[8]|0,Q=D&8191,X=D>>>13,pe=g[9]|0,ie=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,b=Math.imul(U,_e),c=Math.imul(U,Se),c=c+Math.imul(O,_e)|0,v=Math.imul(O,Se);var at=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(ee,_e),c=Math.imul(ee,Se),c=c+Math.imul(re,_e)|0,v=Math.imul(re,Se),b=b+Math.imul(U,Ae)|0,c=c+Math.imul(U,Te)|0,c=c+Math.imul(O,Ae)|0,v=v+Math.imul(O,Te)|0;var Je=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(ae,_e),c=Math.imul(ae,Se),c=c+Math.imul(G,_e)|0,v=Math.imul(G,Se),b=b+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Te)|0,c=c+Math.imul(re,Ae)|0,v=v+Math.imul(re,Te)|0,b=b+Math.imul(U,Ee)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(O,Ee)|0,v=v+Math.imul(O,ke)|0;var At=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(At>>>26)|0,At&=67108863,b=Math.imul(te,_e),c=Math.imul(te,Se),c=c+Math.imul(ce,_e)|0,v=Math.imul(ce,Se),b=b+Math.imul(ae,Ae)|0,c=c+Math.imul(ae,Te)|0,c=c+Math.imul(G,Ae)|0,v=v+Math.imul(G,Te)|0,b=b+Math.imul(ee,Ee)|0,c=c+Math.imul(ee,ke)|0,c=c+Math.imul(re,Ee)|0,v=v+Math.imul(re,ke)|0,b=b+Math.imul(U,Ue)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(O,Ue)|0,v=v+Math.imul(O,Le)|0;var tt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(se,_e),c=Math.imul(se,Se),c=c+Math.imul(le,_e)|0,v=Math.imul(le,Se),b=b+Math.imul(te,Ae)|0,c=c+Math.imul(te,Te)|0,c=c+Math.imul(ce,Ae)|0,v=v+Math.imul(ce,Te)|0,b=b+Math.imul(ae,Ee)|0,c=c+Math.imul(ae,ke)|0,c=c+Math.imul(G,Ee)|0,v=v+Math.imul(G,ke)|0,b=b+Math.imul(ee,Ue)|0,c=c+Math.imul(ee,Le)|0,c=c+Math.imul(re,Ue)|0,v=v+Math.imul(re,Le)|0,b=b+Math.imul(U,be)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(O,be)|0,v=v+Math.imul(O,xe)|0;var dt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(ge,_e),c=Math.imul(ge,Se),c=c+Math.imul(ye,_e)|0,v=Math.imul(ye,Se),b=b+Math.imul(se,Ae)|0,c=c+Math.imul(se,Te)|0,c=c+Math.imul(le,Ae)|0,v=v+Math.imul(le,Te)|0,b=b+Math.imul(te,Ee)|0,c=c+Math.imul(te,ke)|0,c=c+Math.imul(ce,Ee)|0,v=v+Math.imul(ce,ke)|0,b=b+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul(G,Ue)|0,v=v+Math.imul(G,Le)|0,b=b+Math.imul(ee,be)|0,c=c+Math.imul(ee,xe)|0,c=c+Math.imul(re,be)|0,v=v+Math.imul(re,xe)|0,b=b+Math.imul(U,Pe)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(O,Pe)|0,v=v+Math.imul(O,Oe)|0;var ht=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(Ie,_e),c=Math.imul(Ie,Se),c=c+Math.imul(we,_e)|0,v=Math.imul(we,Se),b=b+Math.imul(ge,Ae)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(ye,Ae)|0,v=v+Math.imul(ye,Te)|0,b=b+Math.imul(se,Ee)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ee)|0,v=v+Math.imul(le,ke)|0,b=b+Math.imul(te,Ue)|0,c=c+Math.imul(te,Le)|0,c=c+Math.imul(ce,Ue)|0,v=v+Math.imul(ce,Le)|0,b=b+Math.imul(ae,be)|0,c=c+Math.imul(ae,xe)|0,c=c+Math.imul(G,be)|0,v=v+Math.imul(G,xe)|0,b=b+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(re,Pe)|0,v=v+Math.imul(re,Oe)|0,b=b+Math.imul(U,me)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(O,me)|0,v=v+Math.imul(O,De)|0;var bt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(bt>>>26)|0,bt&=67108863,b=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(Re,_e)|0,v=Math.imul(Re,Se),b=b+Math.imul(Ie,Ae)|0,c=c+Math.imul(Ie,Te)|0,c=c+Math.imul(we,Ae)|0,v=v+Math.imul(we,Te)|0,b=b+Math.imul(ge,Ee)|0,c=c+Math.imul(ge,ke)|0,c=c+Math.imul(ye,Ee)|0,v=v+Math.imul(ye,ke)|0,b=b+Math.imul(se,Ue)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ue)|0,v=v+Math.imul(le,Le)|0,b=b+Math.imul(te,be)|0,c=c+Math.imul(te,xe)|0,c=c+Math.imul(ce,be)|0,v=v+Math.imul(ce,xe)|0,b=b+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(G,Pe)|0,v=v+Math.imul(G,Oe)|0,b=b+Math.imul(ee,me)|0,c=c+Math.imul(ee,De)|0,c=c+Math.imul(re,me)|0,v=v+Math.imul(re,De)|0,b=b+Math.imul(U,z)|0,c=c+Math.imul(U,H)|0,c=c+Math.imul(O,z)|0,v=v+Math.imul(O,H)|0;var gt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,b=Math.imul(Ce,_e),c=Math.imul(Ce,Se),c=c+Math.imul(Be,_e)|0,v=Math.imul(Be,Se),b=b+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Te)|0,c=c+Math.imul(Re,Ae)|0,v=v+Math.imul(Re,Te)|0,b=b+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,ke)|0,c=c+Math.imul(we,Ee)|0,v=v+Math.imul(we,ke)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(ye,Ue)|0,v=v+Math.imul(ye,Le)|0,b=b+Math.imul(se,be)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,be)|0,v=v+Math.imul(le,xe)|0,b=b+Math.imul(te,Pe)|0,c=c+Math.imul(te,Oe)|0,c=c+Math.imul(ce,Pe)|0,v=v+Math.imul(ce,Oe)|0,b=b+Math.imul(ae,me)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(G,me)|0,v=v+Math.imul(G,De)|0,b=b+Math.imul(ee,z)|0,c=c+Math.imul(ee,H)|0,c=c+Math.imul(re,z)|0,v=v+Math.imul(re,H)|0,b=b+Math.imul(U,Q)|0,c=c+Math.imul(U,X)|0,c=c+Math.imul(O,Q)|0,v=v+Math.imul(O,X)|0;var pt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Ne,_e),c=Math.imul(Ne,Se),c=c+Math.imul(Me,_e)|0,v=Math.imul(Me,Se),b=b+Math.imul(Ce,Ae)|0,c=c+Math.imul(Ce,Te)|0,c=c+Math.imul(Be,Ae)|0,v=v+Math.imul(Be,Te)|0,b=b+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(Re,Ee)|0,v=v+Math.imul(Re,ke)|0,b=b+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Le)|0,c=c+Math.imul(we,Ue)|0,v=v+Math.imul(we,Le)|0,b=b+Math.imul(ge,be)|0,c=c+Math.imul(ge,xe)|0,c=c+Math.imul(ye,be)|0,v=v+Math.imul(ye,xe)|0,b=b+Math.imul(se,Pe)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,Pe)|0,v=v+Math.imul(le,Oe)|0,b=b+Math.imul(te,me)|0,c=c+Math.imul(te,De)|0,c=c+Math.imul(ce,me)|0,v=v+Math.imul(ce,De)|0,b=b+Math.imul(ae,z)|0,c=c+Math.imul(ae,H)|0,c=c+Math.imul(G,z)|0,v=v+Math.imul(G,H)|0,b=b+Math.imul(ee,Q)|0,c=c+Math.imul(ee,X)|0,c=c+Math.imul(re,Q)|0,v=v+Math.imul(re,X)|0,b=b+Math.imul(U,ie)|0,c=c+Math.imul(U,ue)|0,c=c+Math.imul(O,ie)|0,v=v+Math.imul(O,ue)|0;var yt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,b=Math.imul(Ne,Ae),c=Math.imul(Ne,Te),c=c+Math.imul(Me,Ae)|0,v=Math.imul(Me,Te),b=b+Math.imul(Ce,Ee)|0,c=c+Math.imul(Ce,ke)|0,c=c+Math.imul(Be,Ee)|0,v=v+Math.imul(Be,ke)|0,b=b+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,Le)|0,b=b+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,xe)|0,c=c+Math.imul(we,be)|0,v=v+Math.imul(we,xe)|0,b=b+Math.imul(ge,Pe)|0,c=c+Math.imul(ge,Oe)|0,c=c+Math.imul(ye,Pe)|0,v=v+Math.imul(ye,Oe)|0,b=b+Math.imul(se,me)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,me)|0,v=v+Math.imul(le,De)|0,b=b+Math.imul(te,z)|0,c=c+Math.imul(te,H)|0,c=c+Math.imul(ce,z)|0,v=v+Math.imul(ce,H)|0,b=b+Math.imul(ae,Q)|0,c=c+Math.imul(ae,X)|0,c=c+Math.imul(G,Q)|0,v=v+Math.imul(G,X)|0,b=b+Math.imul(ee,ie)|0,c=c+Math.imul(ee,ue)|0,c=c+Math.imul(re,ie)|0,v=v+Math.imul(re,ue)|0;var mt=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,b=Math.imul(Ne,Ee),c=Math.imul(Ne,ke),c=c+Math.imul(Me,Ee)|0,v=Math.imul(Me,ke),b=b+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Le)|0,c=c+Math.imul(Be,Ue)|0,v=v+Math.imul(Be,Le)|0,b=b+Math.imul(ve,be)|0,c=c+Math.imul(ve,xe)|0,c=c+Math.imul(Re,be)|0,v=v+Math.imul(Re,xe)|0,b=b+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,Oe)|0,c=c+Math.imul(we,Pe)|0,v=v+Math.imul(we,Oe)|0,b=b+Math.imul(ge,me)|0,c=c+Math.imul(ge,De)|0,c=c+Math.imul(ye,me)|0,v=v+Math.imul(ye,De)|0,b=b+Math.imul(se,z)|0,c=c+Math.imul(se,H)|0,c=c+Math.imul(le,z)|0,v=v+Math.imul(le,H)|0,b=b+Math.imul(te,Q)|0,c=c+Math.imul(te,X)|0,c=c+Math.imul(ce,Q)|0,v=v+Math.imul(ce,X)|0,b=b+Math.imul(ae,ie)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(G,ie)|0,v=v+Math.imul(G,ue)|0;var it=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Ne,Ue),c=Math.imul(Ne,Le),c=c+Math.imul(Me,Ue)|0,v=Math.imul(Me,Le),b=b+Math.imul(Ce,be)|0,c=c+Math.imul(Ce,xe)|0,c=c+Math.imul(Be,be)|0,v=v+Math.imul(Be,xe)|0,b=b+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(Re,Pe)|0,v=v+Math.imul(Re,Oe)|0,b=b+Math.imul(Ie,me)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(we,me)|0,v=v+Math.imul(we,De)|0,b=b+Math.imul(ge,z)|0,c=c+Math.imul(ge,H)|0,c=c+Math.imul(ye,z)|0,v=v+Math.imul(ye,H)|0,b=b+Math.imul(se,Q)|0,c=c+Math.imul(se,X)|0,c=c+Math.imul(le,Q)|0,v=v+Math.imul(le,X)|0,b=b+Math.imul(te,ie)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(ce,ie)|0,v=v+Math.imul(ce,ue)|0;var ut=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ut>>>26)|0,ut&=67108863,b=Math.imul(Ne,be),c=Math.imul(Ne,xe),c=c+Math.imul(Me,be)|0,v=Math.imul(Me,xe),b=b+Math.imul(Ce,Pe)|0,c=c+Math.imul(Ce,Oe)|0,c=c+Math.imul(Be,Pe)|0,v=v+Math.imul(Be,Oe)|0,b=b+Math.imul(ve,me)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(Re,me)|0,v=v+Math.imul(Re,De)|0,b=b+Math.imul(Ie,z)|0,c=c+Math.imul(Ie,H)|0,c=c+Math.imul(we,z)|0,v=v+Math.imul(we,H)|0,b=b+Math.imul(ge,Q)|0,c=c+Math.imul(ge,X)|0,c=c+Math.imul(ye,Q)|0,v=v+Math.imul(ye,X)|0,b=b+Math.imul(se,ie)|0,c=c+Math.imul(se,ue)|0,c=c+Math.imul(le,ie)|0,v=v+Math.imul(le,ue)|0;var Xe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ne,Pe),c=Math.imul(Ne,Oe),c=c+Math.imul(Me,Pe)|0,v=Math.imul(Me,Oe),b=b+Math.imul(Ce,me)|0,c=c+Math.imul(Ce,De)|0,c=c+Math.imul(Be,me)|0,v=v+Math.imul(Be,De)|0,b=b+Math.imul(ve,z)|0,c=c+Math.imul(ve,H)|0,c=c+Math.imul(Re,z)|0,v=v+Math.imul(Re,H)|0,b=b+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,X)|0,c=c+Math.imul(we,Q)|0,v=v+Math.imul(we,X)|0,b=b+Math.imul(ge,ie)|0,c=c+Math.imul(ge,ue)|0,c=c+Math.imul(ye,ie)|0,v=v+Math.imul(ye,ue)|0;var ot=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(Ne,me),c=Math.imul(Ne,De),c=c+Math.imul(Me,me)|0,v=Math.imul(Me,De),b=b+Math.imul(Ce,z)|0,c=c+Math.imul(Ce,H)|0,c=c+Math.imul(Be,z)|0,v=v+Math.imul(Be,H)|0,b=b+Math.imul(ve,Q)|0,c=c+Math.imul(ve,X)|0,c=c+Math.imul(Re,Q)|0,v=v+Math.imul(Re,X)|0,b=b+Math.imul(Ie,ie)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(we,ie)|0,v=v+Math.imul(we,ue)|0;var st=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ne,z),c=Math.imul(Ne,H),c=c+Math.imul(Me,z)|0,v=Math.imul(Me,H),b=b+Math.imul(Ce,Q)|0,c=c+Math.imul(Ce,X)|0,c=c+Math.imul(Be,Q)|0,v=v+Math.imul(Be,X)|0,b=b+Math.imul(ve,ie)|0,c=c+Math.imul(ve,ue)|0,c=c+Math.imul(Re,ie)|0,v=v+Math.imul(Re,ue)|0;var Ze=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Ne,Q),c=Math.imul(Ne,X),c=c+Math.imul(Me,Q)|0,v=Math.imul(Me,X),b=b+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,ue)|0,c=c+Math.imul(Be,ie)|0,v=v+Math.imul(Be,ue)|0;var Fe=(_+b|0)+((c&8191)<<13)|0;_=(v+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Ne,ie),c=Math.imul(Ne,ue),c=c+Math.imul(Me,ie)|0,v=Math.imul(Me,ue);var Ke=(_+b|0)+((c&8191)<<13)|0;return _=(v+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=Ke,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,b=Math.min(g,a.length-1),c=Math.max(0,g-S.length+1);c<=b;c++){var v=g-c,F=S.words[v]|0,U=a.words[c]|0,O=F*U,W=O&67108863;A=A+(O/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=C(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var b=_<<1,c=Math.cos(2*Math.PI/b),v=Math.sin(2*Math.PI/b),F=0;F<g;F+=b)for(var U=c,O=v,W=0;W<_;W++){var ee=p[F+W],re=y[F+W],Ve=p[F+W+_],ae=y[F+W+_],G=U*Ve-O*ae;ae=U*ae+O*Ve,Ve=G,p[F+W]=ee+Ve,y[F+W]=re+ae,p[F+W+_]=ee-Ve,y[F+W+_]=re-ae,W!==b&&(G=c*U-v*O,O=c*O+v*U,U=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),b=new Array(y),c=new Array(y),v=new Array(y),F=new Array(y),U=new Array(y),O=p.words;O.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,v,y),this.transform(_,A,b,c,y,g),this.transform(v,A,F,U,y,g);for(var W=0;W<y;W++){var ee=b[W]*F[W]-c[W]*U[W];c[W]=b[W]*U[W]+c[W]*F[W],b[W]=ee}return this.conjugate(b,c,y),this.transform(b,c,O,A,y,g),this.conjugate(O,A,y),this.normalize13b(O,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),C(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,b=(this.words[g]|0)-_<<f;this.words[g]=b|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,b=p;if(y-=A,y=Math.max(0,y),b){for(var c=0;c<A;c++)b.words[c]=this.words[c];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var v=0;for(c=this.length-1;c>=0&&(v!==0||c>=y);c--){var F=this.words[c]|0;this.words[c]=v<<26-g|F>>>g,v=F&_}return b&&v!==0&&(b.words[b.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var b=(a.words[g]|0)*f;A-=b&67108863,_=(A>>26)-(b/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var b=y.length-g.length,c;if(f!=="mod"){c=new i(null),c.length=b+1,c.words=new Array(c.length);for(var v=0;v<c.length;v++)c.words[v]=0}var F=y.clone()._ishlnsubmul(g,1,b);F.negative===0&&(y=F,c&&(c.words[b]=1));for(var U=b-1;U>=0;U--){var O=(y.words[g.length+U]|0)*67108864+(y.words[g.length+U-1]|0);for(O=Math.min(O/A|0,67108863),y._ishlnsubmul(g,O,U);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(g,1,U),y.isZero()||(y.negative^=1);c&&(c.words[U]=O)}return c&&c.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:c||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),b=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++b;for(var c=p.clone(),v=f.clone();!f.isZero();){for(var F=0,U=1;!(f.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(v)),y.iushrn(1),g.iushrn(1);for(var O=0,W=1;!(p.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(p.iushrn(O);O-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(c),_.isub(v)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(b)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,b=1;!(f.words[0]&b)&&_<26;++_,b<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var c=0,v=1;!(p.words[0]&v)&&c<26;++c,v<<=1);if(c>0)for(p.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var F;return f.cmpn(1)===0?F=y:F=g,F.cmpn(0)<0&&F.iadd(a),F},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var L={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function K(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,P),K.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function j(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(j,P);function ne(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ne,P),ne.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(L[a])return L[a];var f;if(a==="k256")f=new K;else if(a==="p224")f=new V;else if(a==="p192")f=new j;else if(a==="p25519")f=new ne;else throw new Error("Unknown prime "+a);return L[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,b).cmp(_)!==0;)c.redIAdd(_);for(var v=this.pow(c,y),F=this.pow(a,y.addn(1).iushrn(1)),U=this.pow(a,y),O=g;U.cmp(A)!==0;){for(var W=U,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<O);var re=this.pow(v,new i(1).iushln(O-ee-1));F=F.redMul(re),v=re.redSqr(),U=U.redMul(v),O=ee}return F},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,b=0,c=f.bitLength()%26;for(c===0&&(c=26),g=f.length-1;g>=0;g--){for(var v=f.words[g],F=c-1;F>=0;F--){var U=v>>F&1;if(A!==y[0]&&(A=this.sqr(A)),U===0&&_===0){b=0;continue}_<<=1,_|=U,b++,!(b!==p&&(g!==0||F!==0))&&(A=this.mul(A,y[_]),b=0,_=0)}c=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new oe(a)};function oe(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,J),oe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},oe.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},oe.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},oe.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof zte>"u"||zte,nRe)});var cRe=q((mhn,aRe)=>{d();h();var Rh=I5(),Vc=iRe(),Ri=function(){};function IN(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}Ri.eventID=function(t,e){var r=t+"("+e.map(IN).join(",")+")";return Rh.keccak256(Buffer.from(r))};Ri.methodID=function(t,e){return Ri.eventID(t,e).slice(0,4)};function Ag(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Wte(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function P5(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function qv(t){var e=typeof t;if(e==="string")return Rh.isHexPrefixed(t)?new Vc(Rh.stripHexPrefix(t),16):new Vc(t,10);if(e==="number")return new Vc(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function sRe(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(e.length!==3)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(r!==null&&r.length===3)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var n=e[2].split(",");return n.length===1&&n[0]===""&&(n=[]),{method:e[1],args:n}}function Ph(t,e){var r,n,i,o;if(t==="address")return Ph("uint160",qv(e));if(t==="bool")return Ph("uint8",e?1:0);if(t==="string")return Ph("bytes",Buffer.from(e,"utf8"));if(k5(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=P5(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(Ph(t,e[o]));if(r==="dynamic"){var s=Ph("uint256",e.length);i.unshift(s)}return Buffer.concat(i)}else{if(t==="bytes")return e=Buffer.from(e),i=Buffer.concat([Ph("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Rh.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Ag(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Rh.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Ag(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=qv(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Ag(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=qv(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Wte(t),n=qv(e),n<0)throw new Error("Supplied ufixed is negative");return Ph("uint256",n.mul(new Vc(2).pow(new Vc(r[1]))))}else if(t.startsWith("fixed"))return r=Wte(t),Ph("int256",qv(e).mul(new Vc(2).pow(new Vc(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function ed(t,e,r){typeof t=="string"&&(t=Gte(t));var n,i,o,s;if(t.name==="address")return ed(t.rawType,e,r).toArrayLike(Buffer,"be",20).toString("hex");if(t.name==="bool")return ed(t.rawType,e,r).toString()===new Vc(1).toString();if(t.name==="string"){var u=ed(t.rawType,e,r);return Buffer.from(u,"utf8").toString()}else if(t.isArray){for(o=[],n=t.size,t.size==="dynamic"&&(r=ed("uint256",e,r).toNumber(),n=ed("uint256",e,r).toNumber(),r=r+32),s=0;s<n;s++){var l=ed(t.subArray,e,r);o.push(l),r+=t.subArray.memoryUsage}return o}else{if(t.name==="bytes")return r=ed("uint256",e,r).toNumber(),n=ed("uint256",e,r).toNumber(),e.slice(r+32,r+32+n);if(t.name.startsWith("bytes"))return e.slice(r,r+t.size);if(t.name.startsWith("uint")){if(i=new Vc(e.slice(r,r+32),16,"be"),i.bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("int")){if(i=new Vc(e.slice(r,r+32),16,"be").fromTwos(256),i.bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("ufixed")){if(n=new Vc(2).pow(new Vc(t.size[1])),i=ed("uint256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}else if(t.name.startsWith("fixed")){if(n=new Vc(2).pow(new Vc(t.size[1])),i=ed("int256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}}throw new Error("Unsupported or invalid type: "+t.name)}function Gte(t){var e,r;if(k5(t)){e=P5(t);var n=t.slice(0,t.lastIndexOf("["));return n=Gte(n),r={isArray:!0,name:t,size:e,memoryUsage:e==="dynamic"?32:n.memoryUsage*e,subArray:n},r}else{var i;switch(t){case"address":i="uint160";break;case"bool":i="uint8";break;case"string":i="bytes";break}if(r={rawType:i,name:t,memoryUsage:32},t.startsWith("bytes")&&t!=="bytes"||t.startsWith("uint")||t.startsWith("int")?r.size=Ag(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=Wte(t)),t.startsWith("bytes")&&t!=="bytes"&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}}function jMt(t){return t==="string"||t==="bytes"||P5(t)==="dynamic"}function k5(t){return t.lastIndexOf("]")===t.length-1}Ri.rawEncode=function(t,e){var r=[],n=[],i=0;t.forEach(function(m){if(k5(m)){var x=P5(m);x!=="dynamic"?i+=32*x:i+=32}else i+=32});for(var o=0;o<t.length;o++){var s=IN(t[o]),u=e[o],l=Ph(s,u);jMt(s)?(r.push(Ph("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))};Ri.rawDecode=function(t,e){var r=[];e=Buffer.from(e);for(var n=0,i=0;i<t.length;i++){var o=IN(t[i]),s=Gte(o,e,n),u=ed(s,e,n);n+=s.memoryUsage,r.push(u)}return r};Ri.simpleEncode=function(t){var e=Array.prototype.slice.call(arguments).slice(1),r=sRe(t);if(e.length!==r.args.length)throw new Error("Argument count mismatch");return Buffer.concat([Ri.methodID(r.method,r.args),Ri.rawEncode(r.args,e)])};Ri.simpleDecode=function(t,e){var r=sRe(t);if(!r.retargs)throw new Error("No return values in method");return Ri.rawDecode(r.retargs,e)};function oRe(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}Ri.stringify=function(t,e){var r=[];for(var n in t){var i=t[n],o=e[n];/^[^\[]+\[.*\]$/.test(i)?o=o.map(function(s){return oRe(i,s)}).join(", "):o=oRe(i,o),r.push(o)}return r};Ri.solidityHexValue=function(t,e,r){var n,i;if(k5(t)){var o=t.replace(/\[.*?\]/,"");if(!k5(o)){var s=P5(t);if(s!=="dynamic"&&s!==0&&e.length>s)throw new Error("Elements exceed array size: "+s)}var u=e.map(function(x){return Ri.solidityHexValue(o,x,256)});return Buffer.concat(u)}else{if(t==="bytes")return e;if(t==="string")return Buffer.from(e,"utf8");if(t==="bool"){r=r||8;var l=Array(r/4).join("0");return Buffer.from(e?l+"1":l+"0","hex")}else if(t==="address"){var m=20;return r&&(m=r/8),Rh.setLengthLeft(e,m)}else if(t.startsWith("bytes")){if(n=Ag(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Rh.setLengthRight(e,n)}else if(t.startsWith("uint")){if(n=Ag(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(i=qv(e),i.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(Buffer,"be",r/8)}else if(t.startsWith("int")){if(n=Ag(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(i=qv(e),i.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(Buffer,"be",r/8)}else throw new Error("Unsupported or invalid type: "+t)}};Ri.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<t.length;n++){var i=IN(t[n]),o=e[n];r.push(Ri.solidityHexValue(i,o,null))}return Buffer.concat(r)};Ri.soliditySHA3=function(t,e){return Rh.keccak256(Ri.solidityPack(t,e))};Ri.soliditySHA256=function(t,e){return Rh.sha256(Ri.solidityPack(t,e))};Ri.solidityRIPEMD160=function(t,e){return Rh.ripemd160(Ri.solidityPack(t,e),!0)};function zMt(t){return t>="0"&&t<="9"}Ri.fromSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="s")e.push("bytes");else if(n==="b"){for(var i="bytes",o=r+1;o<t.length&&zMt(t[o]);)i+=t[o]-"0",o++;r=o-1,e.push(i)}else if(n==="i")e.push("int256");else if(n==="a")e.push("int256[]");else throw new Error("Unsupported or invalid type: "+n)}return e};Ri.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="bytes")e.push("s");else if(n.startsWith("bytes"))e.push("b"+Ag(n));else if(n==="int256")e.push("i");else if(n==="int256[]")e.push("a");else throw new Error("Unsupported or invalid type: "+n)}return e.join("")};aRe.exports=Ri});var fRe=q((bhn,uRe)=>{d();h();uRe.exports=cRe()});var mRe=q(gs=>{"use strict";d();h();Object.defineProperty(gs,"__esModule",{value:!0});gs.recoverTypedSignature=gs.signTypedData=gs.typedSignatureHash=gs.TypedDataUtils=gs.TYPED_MESSAGE_SCHEMA=gs.SignTypedDataVersion=void 0;var Gf=I5(),R5=fRe(),Vv=M5(),nc;(function(t){t.V1="V1",t.V3="V3",t.V4="V4"})(nc=gs.SignTypedDataVersion||(gs.SignTypedDataVersion={}));gs.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function jA(t,e){if(Object.keys(nc).includes(t)){if(e&&!e.includes(t))throw new Error(`SignTypedDataVersion not allowed: '${t}'. Allowed versions are: ${e.join(", ")}`)}else throw new Error(`Invalid version: '${t}'`)}function lRe(t,e,r,n,i){if(jA(i,[nc.V3,nc.V4]),t[r]!==void 0)return["bytes32",i===nc.V4&&n==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Gf.keccak(Yte(r,n,t,i))];if(n===void 0)throw new Error(`missing value for field ${e} of type ${r}`);if(r==="bytes")return["bytes32",Gf.keccak(n)];if(r==="string")return typeof n=="string"&&(n=Buffer.from(n,"utf8")),["bytes32",Gf.keccak(n)];if(r.lastIndexOf("]")===r.length-1){if(i===nc.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");let o=r.slice(0,r.lastIndexOf("[")),s=n.map(u=>lRe(t,e,o,u,i));return["bytes32",Gf.keccak(R5.rawEncode(s.map(([u])=>u),s.map(([,u])=>u)))]}return[r,n]}function Yte(t,e,r,n){jA(n,[nc.V3,nc.V4]);let i=["bytes32"],o=[hRe(t,r)];for(let s of r[t]){if(n===nc.V3&&e[s.name]===void 0)continue;let[u,l]=lRe(r,s.name,s.type,e[s.name],n);i.push(u),o.push(l)}return R5.rawEncode(i,o)}function dRe(t,e){let r="",n=Zte(t,e);n.delete(t);let i=[t,...Array.from(n).sort()];for(let o of i){if(!e[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${e[o].map(({name:u,type:l})=>`${l} ${u}`).join(",")})`}return r}function Zte(t,e,r=new Set){if([t]=t.match(/^\w*/u),r.has(t)||e[t]===void 0)return r;r.add(t);for(let n of e[t])Zte(n.type,e,r);return r}function $te(t,e,r,n){return jA(n,[nc.V3,nc.V4]),Gf.keccak(Yte(t,e,r,n))}function hRe(t,e){return Gf.keccak(dRe(t,e))}function pRe(t){let e={};for(let r in gs.TYPED_MESSAGE_SCHEMA.properties)t[r]&&(e[r]=t[r]);return"types"in e&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e}function WMt(t,e){jA(e,[nc.V3,nc.V4]);let r=pRe(t),n=[Buffer.from("1901","hex")];return n.push($te("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push($te(r.primaryType,r.message,r.types,e)),Gf.keccak(Buffer.concat(n))}gs.TypedDataUtils={encodeData:Yte,encodeType:dRe,findTypeDependencies:Zte,hashStruct:$te,hashType:hRe,sanitizeData:pRe,eip712Hash:WMt};function GMt(t){let e=Qte(t);return Gf.bufferToHex(e)}gs.typedSignatureHash=GMt;function Qte(t){let e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!("length"in t)||!t.length)throw e;let r=t.map(function(o){return o.type!=="bytes"?o.value:Vv.legacyToBuffer(o.value)}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return`${o.type} ${o.name}`});return R5.soliditySHA3(["bytes32","bytes32"],[R5.soliditySHA3(new Array(t.length).fill("string"),i),R5.soliditySHA3(n,r)])}function $Mt({privateKey:t,data:e,version:r}){if(jA(r),Vv.isNullish(e))throw new Error("Missing data parameter");if(Vv.isNullish(t))throw new Error("Missing private key parameter");let n=r===nc.V1?Qte(e):gs.TypedDataUtils.eip712Hash(e,r),i=Gf.ecsign(n,t);return Vv.concatSig(Gf.toBuffer(i.v),i.r,i.s)}gs.signTypedData=$Mt;function YMt({data:t,signature:e,version:r}){if(jA(r),Vv.isNullish(t))throw new Error("Missing data parameter");if(Vv.isNullish(e))throw new Error("Missing signature parameter");let n=r===nc.V1?Qte(t):gs.TypedDataUtils.eip712Hash(t,r),i=Vv.recoverPublicKey(n,e),o=Gf.publicToAddress(i);return Gf.bufferToHex(o)}gs.recoverTypedSignature=YMt});var gRe=q((yRe,MN)=>{d();h();(function(t,e){"use strict";typeof MN<"u"&&MN.exports?MN.exports=e():(t.nacl||(t.nacl={}),t.nacl.util=e())})(yRe,function(){"use strict";var t={};function e(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var n,i=unescape(encodeURIComponent(r)),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o},t.encodeUTF8=function(r){var n,i=[];for(n=0;n<r.length;n++)i.push(String.fromCharCode(r[n]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(t.encodeBase64=function(r){return Buffer.from(r).toString("base64")},t.decodeBase64=function(r){return e(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(t.encodeBase64=function(r){return new Buffer(r).toString("base64")},t.decodeBase64=function(r){return e(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(t.encodeBase64=function(r){var n,i=[],o=r.length;for(n=0;n<o;n++)i.push(String.fromCharCode(r[n]));return btoa(i.join(""))},t.decodeBase64=function(r){e(r);var n,i=atob(r),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o}),t})});var SRe=q(bs=>{"use strict";d();h();var ZMt=bs&&bs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QMt=bs&&bs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bRe=bs&&bs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZMt(e,t,r);return QMt(e,t),e};Object.defineProperty(bs,"__esModule",{value:!0});bs.getEncryptionPublicKey=bs.decryptSafely=bs.decrypt=bs.encryptSafely=bs.encrypt=void 0;var Hv=bRe(us()),td=bRe(gRe()),Ch=M5();function vRe({publicKey:t,data:e,version:r}){if(Ch.isNullish(t))throw new Error("Missing publicKey parameter");if(Ch.isNullish(e))throw new Error("Missing data parameter");if(Ch.isNullish(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");let n=Hv.box.keyPair(),i;try{i=td.decodeBase64(t)}catch{throw new Error("Bad public key")}let o=td.decodeUTF8(e),s=Hv.randomBytes(Hv.box.nonceLength),u=Hv.box(o,s,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:td.encodeBase64(s),ephemPublicKey:td.encodeBase64(n.publicKey),ciphertext:td.encodeBase64(u)}}default:throw new Error("Encryption type/version not supported")}}bs.encrypt=vRe;function JMt({publicKey:t,data:e,version:r}){if(Ch.isNullish(t))throw new Error("Missing publicKey parameter");if(Ch.isNullish(e))throw new Error("Missing data parameter");if(Ch.isNullish(r))throw new Error("Missing version parameter");let n=2**11,i=16;if(typeof e=="object"&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");let o={data:e,padding:""},u=Buffer.byteLength(JSON.stringify(o),"utf-8")%n,l=0;u>0&&(l=n-u-i),o.padding="0".repeat(l);let m=JSON.stringify(o);return vRe({publicKey:t,data:m,version:r})}bs.encryptSafely=JMt;function xRe({encryptedData:t,privateKey:e}){if(Ch.isNullish(t))throw new Error("Missing encryptedData parameter");if(Ch.isNullish(e))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{let r=wRe(e),n=Hv.box.keyPair.fromSecretKey(r).secretKey,i=td.decodeBase64(t.nonce),o=td.decodeBase64(t.ciphertext),s=td.decodeBase64(t.ephemPublicKey),u=Hv.box.open(o,i,s,n),l;try{l=td.encodeUTF8(u)}catch{throw new Error("Decryption failed.")}if(l)return l;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}bs.decrypt=xRe;function XMt({encryptedData:t,privateKey:e}){if(Ch.isNullish(t))throw new Error("Missing encryptedData parameter");if(Ch.isNullish(e))throw new Error("Missing privateKey parameter");return JSON.parse(xRe({encryptedData:t,privateKey:e})).data}bs.decryptSafely=XMt;function ekt(t){let e=wRe(t),r=Hv.box.keyPair.fromSecretKey(e).publicKey;return td.encodeBase64(r)}bs.getEncryptionPublicKey=ekt;function wRe(t){let e=Buffer.from(t,"hex").toString("base64");return td.decodeBase64(e)}});var Xte=q(ku=>{"use strict";d();h();var tkt=ku&&ku.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jte=ku&&ku.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tkt(e,t,r)};Object.defineProperty(ku,"__esModule",{value:!0});ku.normalize=ku.concatSig=void 0;Jte(rRe(),ku);Jte(mRe(),ku);Jte(SRe(),ku);var ARe=M5();Object.defineProperty(ku,"concatSig",{enumerable:!0,get:function(){return ARe.concatSig}});Object.defineProperty(ku,"normalize",{enumerable:!0,get:function(){return ARe.normalize}})});var qOe=q(dE=>{"use strict";d();h();Object.defineProperty(dE,"__esModule",{value:!0});dE.testnet=dE.bitcoin=void 0;dE.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};dE.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var VOe=q(ni=>{"use strict";d();h();Object.defineProperty(ni,"__esModule",{value:!0});ni.maybe=ni.Boolean=ni.Array=ni.Buffer256bit=ni.Network=ni.typeforce=void 0;ni.typeforce=wW();ni.Network=ni.typeforce.compile({messagePrefix:ni.typeforce.oneOf(ni.typeforce.Buffer,ni.typeforce.String),bip32:{public:ni.typeforce.UInt32,private:ni.typeforce.UInt32},pubKeyHash:ni.typeforce.UInt8,scriptHash:ni.typeforce.UInt8,wif:ni.typeforce.UInt8});ni.Buffer256bit=ni.typeforce.BufferN(32);ni.Array=ni.typeforce.Array;ni.Boolean=ni.typeforce.Boolean;ni.maybe=ni.typeforce.maybe});var HOe=q(eL=>{"use strict";d();h();Object.defineProperty(eL,"__esModule",{value:!0});eL.testEcc=void 0;var zt=t=>Buffer.from(t,"hex");function oCt(t){wi(t.isPoint(zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),wi(!t.isPoint(zt("030000000000000000000000000000000000000000000000000000000000000005"))),wi(t.isPrivate(zt("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),wi(t.isPrivate(zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),wi(!t.isPrivate(zt("0000000000000000000000000000000000000000000000000000000000000000"))),wi(!t.isPrivate(zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),wi(!t.isPrivate(zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),wi(Buffer.from(t.privateAdd(zt("0000000000000000000000000000000000000000000000000000000000000001"),zt("0000000000000000000000000000000000000000000000000000000000000000"))).equals(zt("0000000000000000000000000000000000000000000000000000000000000001"))),wi(t.privateAdd(zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),zt("0000000000000000000000000000000000000000000000000000000000000003"))===null),wi(Buffer.from(t.privateAdd(zt("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),zt("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(zt("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),wi(Buffer.from(t.privateNegate(zt("0000000000000000000000000000000000000000000000000000000000000001"))).equals(zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),wi(Buffer.from(t.privateNegate(zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(zt("0000000000000000000000000000000000000000000000000000000000000003"))),wi(Buffer.from(t.privateNegate(zt("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(zt("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),wi(Buffer.from(t.pointCompress(zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),wi(Buffer.from(t.pointCompress(zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),wi(Buffer.from(t.pointCompress(zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),wi(Buffer.from(t.pointCompress(zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),wi(Buffer.from(t.pointFromScalar(zt("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(zt("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),wi(t.xOnlyPointAddTweak(zt("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===null);let e=t.xOnlyPointAddTweak(zt("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),zt("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));wi(Buffer.from(e.xOnlyPubkey).equals(zt("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&e.parity===1),e=t.xOnlyPointAddTweak(zt("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),zt("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),wi(Buffer.from(e.xOnlyPubkey).equals(zt("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&e.parity===0),wi(Buffer.from(t.sign(zt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(zt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),wi(t.verify(zt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),zt("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),zt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),t.signSchnorr&&wi(Buffer.from(t.signSchnorr(zt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),zt("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),zt("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(zt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),t.verifySchnorr&&wi(t.verifySchnorr(zt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),zt("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),zt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}eL.testEcc=oCt;function wi(t){if(!t)throw new Error("ecc library invalid")}});var zOe=q(hE=>{"use strict";d();h();Object.defineProperty(hE,"__esModule",{value:!0});hE.ECPairFactory=hE.networks=void 0;var Tie=qOe();hE.networks=Tie;var oc=VOe(),sCt=Wh(),jOe=r9(),aCt=HOe(),_ie=oc.typeforce.maybe(oc.typeforce.compile({compressed:oc.maybe(oc.Boolean),network:oc.maybe(oc.Network)})),cCt=t=>t.length===32?t:t.slice(1,33);function uCt(t){(0,aCt.testEcc)(t);function e(u){return t.isPoint(u)}function r(u,l){if(oc.typeforce(oc.Buffer256bit,u),!t.isPrivate(u))throw new TypeError("Private key not in range [1, n)");return oc.typeforce(_ie,l),new s(u,void 0,l)}function n(u,l){return oc.typeforce(t.isPoint,u),oc.typeforce(_ie,l),new s(void 0,u,l)}function i(u,l){let m=jOe.decode(u),x=m.version;if(oc.Array(l)){if(l=l.filter(w=>x===w.wif).pop(),!l)throw new Error("Unknown network version")}else if(l=l||Tie.bitcoin,x!==l.wif)throw new Error("Invalid network version");return r(m.privateKey,{compressed:m.compressed,network:l})}function o(u){oc.typeforce(_ie,u),u===void 0&&(u={});let l=u.rng||sCt,m;do m=l(32),oc.typeforce(oc.Buffer256bit,m);while(!t.isPrivate(m));return r(m,u)}class s{__D;__Q;compressed;network;lowR;constructor(l,m,x){this.__D=l,this.__Q=m,this.lowR=!1,x===void 0&&(x={}),this.compressed=x.compressed===void 0?!0:x.compressed,this.network=x.network||Tie.bitcoin,m!==void 0&&(this.__Q=Buffer.from(t.pointCompress(m,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){let l=t.pointFromScalar(this.__D,this.compressed);this.__Q=Buffer.from(l)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return jOe.encode(this.network.wif,this.__D,this.compressed)}tweak(l){return this.privateKey?this.tweakFromPrivateKey(l):this.tweakFromPublicKey(l)}sign(l,m){if(!this.__D)throw new Error("Missing private key");if(m===void 0&&(m=this.lowR),m===!1)return Buffer.from(t.sign(l,this.__D));{let x=t.sign(l,this.__D),w=Buffer.alloc(32,0),E=0;for(;x[0]>127;)E++,w.writeUIntLE(E,0,6),x=t.sign(l,this.__D,w);return Buffer.from(x)}}signSchnorr(l){if(!this.privateKey)throw new Error("Missing private key");if(!t.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return Buffer.from(t.signSchnorr(l,this.privateKey))}verify(l,m){return t.verify(l,this.publicKey,m)}verifySchnorr(l,m){if(!t.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return t.verifySchnorr(l,this.publicKey.subarray(1,33),m)}tweakFromPublicKey(l){let m=cCt(this.publicKey),x=t.xOnlyPointAddTweak(m,l);if(!x||x.xOnlyPubkey===null)throw new Error("Cannot tweak public key!");let w=Buffer.from([x.parity===0?2:3]);return n(Buffer.concat([w,x.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(l){let x=this.publicKey[0]===3||this.publicKey[0]===4&&(this.publicKey[64]&1)===1?t.privateNegate(this.privateKey):this.privateKey,w=t.privateAdd(x,l);if(!w)throw new Error("Invalid tweaked private key!");return r(Buffer.from(w),{network:this.network,compressed:this.compressed})}}return{isPoint:e,fromPrivateKey:r,fromPublicKey:n,fromWIF:i,makeRandom:o}}hE.ECPairFactory=uCt});var WOe=q(Gg=>{"use strict";d();h();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.networks=Gg.ECPairFactory=Gg.default=void 0;var Iie=zOe();Object.defineProperty(Gg,"default",{enumerable:!0,get:function(){return Iie.ECPairFactory}});Object.defineProperty(Gg,"ECPairFactory",{enumerable:!0,get:function(){return Iie.ECPairFactory}});Object.defineProperty(Gg,"networks",{enumerable:!0,get:function(){return Iie.networks}})});d();h();var jb=qe(Dn()),so=qe(nP()),y0=qe(Da());d();h();ME.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});d();h();var Iet=(t,e)=>t+e,Xme=t=>t.reduce(Iet,0);var eye=jb.Buffer.alloc(64).fill(0),vH=t=>af(t)?jb.Buffer.from(t.message.serialize()):t.serializeMessage(),iP=t=>y0.default.encode(vH(t)),tye=t=>{try{return iP(Pw(t,"bs58"))}catch{return iP(Pw(t,"base64"))}},rye=t=>{try{return Pw(t,"bs58").version}catch{return Pw(t,"base64").version}},nye=t=>xH(SH(t)),af=t=>t&&"version"in t,oP=(t,e)=>af(t)?jb.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),xH=(t,e)=>y0.default.encode(oP(t,e)),iye=(t,e)=>oP(t,e).toString("base64"),Pw=(t,e)=>{let r;if(e==="base64")r=jb.Buffer.from(t,"base64");else if(e==="bs58")r=y0.default.decode(t);else throw new Error("Unsupported encoding");return so.VersionedTransaction.deserialize(r)};function wH(t){return af(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}var oye=t=>{let e=t.map(r=>so.VersionedMessage.deserialize(y0.default.decode(r)));return Xme(e.map(r=>r.header.numRequiredSignatures))},SH=t=>{let e=y0.default.decode(t);if(so.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=so.Message.from(e);return so.Transaction.populate(i,[])}let n=so.VersionedMessage.deserialize(e);return new so.VersionedTransaction(n)},sye=(t,e=[])=>{let r=y0.default.decode(t);if(so.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=so.Message.from(r);return so.Transaction.populate(i,e.map(s=>s?y0.default.encode(s):y0.default.encode(eye)))}else{let i=so.VersionedMessage.deserialize(r);return new so.VersionedTransaction(i,e.map(s=>s||eye))}},aye=t=>t.compileMessage().accountKeys,AH=t=>af(t)?t.message.recentBlockhash:t.recentBlockhash,cye=(t,e)=>{af(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},uye=async(t,e)=>{if(AH(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;cye(t,r)},fye=async(t,e)=>{if(wH(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;cye(t,r)},EH=(t,e)=>{af(t)||(t.feePayer=e)},_H=t=>af(t)?t.message.staticAccountKeys[0]:t.feePayer,lye=(t,e)=>{_H(t)||EH(t,e)},dye=(t,e)=>{af(t)?t.sign(e):t.partialSign(...e)},hye=t=>af(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),pye=t=>af(t)?t.signatures.map(e=>jb.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null);function mye(t){if(!Met(jb.Buffer.from(t)))return!1;let e;try{e=so.Message.from(t)}catch{e=void 0}let r;try{r=so.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}function Met(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}var yye=t=>ME(t).dividedBy(so.LAMPORTS_PER_SOL),gye=t=>ME(t).multipliedBy(so.LAMPORTS_PER_SOL);var su={};BL(su,{BufferLayout:()=>Cet,Message:()=>bc.Message,MessageV0:()=>bc.MessageV0,Transaction:()=>bc.Transaction,TransactionInstruction:()=>bc.TransactionInstruction,TransactionMessage:()=>bc.TransactionMessage,VersionedMessage:()=>bc.VersionedMessage,VersionedTransaction:()=>bc.VersionedTransaction,getAccountsFromTransaction:()=>aye,getFeePayer:()=>_H,getRecentBlockhash:()=>AH,getRequiredSignatures:()=>oye,getSignaturePubKeys:()=>hye,getSignatures:()=>pye,isAlreadySigned:()=>wH,isSafeMessage:()=>mye,isVersionedTransaction:()=>af,lamportsToSolana:()=>yye,messageAndSignaturesToTransaction:()=>sye,messageStringToTransaction:()=>SH,messageStringToTransactionString:()=>nye,setFeePayer:()=>EH,setFeePayerIfNotExists:()=>lye,setRecentBlockhashIfNotExists:()=>uye,setRecentBlockhashIfNotSigned:()=>fye,signWithAdditionalSigners:()=>dye,solanaInstructionEncodeData:()=>Sye,solanaToLamports:()=>gye,transactionStringToMessageString:()=>tye,transactionStringToTransaction:()=>Pw,transactionStringToVersion:()=>rye,transactionToBase58TransactionString:()=>xH,transactionToBase64TransactionString:()=>iye,transactionToMessageString:()=>iP,transactionToSerializedMessage:()=>vH,transactionToSerializedTransaction:()=>oP,u64:()=>xye});d();h();var Cet=qe(L3()),bc=qe(nP());Vh(su,qe(nP()));d();h();var bye=qe(BE()),vye=qe(L3()),sP=qe(hV()),ket=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},aP=t=>e=>{let r=(0,vye.blob)(t,e),{encode:n,decode:i}=ket(r),o=r;return o.decode=(s,u)=>{let l=i(s,u);return(0,sP.toBigIntLE)(bye.Buffer.from(l))},o.encode=(s,u,l)=>{let m=(0,sP.toBufferLE)(s,t);return n(m,u,l)},o},xye=aP(8),lWt=aP(16),dWt=aP(24),hWt=aP(32);d();h();var wye=qe(BE());d();h();var Pet=qe(BE()),Rw=qe(L3());function TH(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return TH({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Sye(t,e){let r=t.layout.span>=0?t.layout.span:TH(t,e),n=wye.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}d();h();var zb=(i=>(i.Mainnet="solana:101",i.Testnet="solana:102",i.Devnet="solana:103",i.Localnet="solana:localnet",i))(zb||{}),Mm=B.union([B.literal("solana:101"),B.literal("solana:102"),B.literal("solana:103"),B.literal("solana:localnet")]),Cw=(r=>(r.Mainnet="eip155:1",r.Sepolia="eip155:11155111",r))(Cw||{}),cP=B.union([B.literal("eip155:1"),B.literal("eip155:11155111")]),Bw=(r=>(r.Mainnet="eip155:137",r.Amoy="eip155:80002",r))(Bw||{}),uP=B.union([B.literal("eip155:137"),B.literal("eip155:80002")]),Ow=(r=>(r.Mainnet="eip155:8453",r.Sepolia="eip155:84532",r))(Ow||{}),fP=B.union([B.literal("eip155:8453"),B.literal("eip155:84532")]),Dw=(r=>(r.Mainnet="eip155:42161",r.Sepolia="eip155:421614",r))(Dw||{}),lP=B.union([B.literal("eip155:42161"),B.literal("eip155:421614")]),Wb=(n=>(n.Mainnet="eip155:143",n.Testnet="eip155:10143",n.Devnet="eip155:41454",n))(Wb||{}),dP=B.union([B.literal("eip155:143"),B.literal("eip155:10143"),B.literal("eip155:41454")]),xo=(r=>(r.Mainnet="bip122:000000000019d6689c085ae165831e93",r.Testnet="bip122:000000000933ea01ad0ee984209779ba",r))(xo||{}),km=B.union([B.literal("bip122:000000000019d6689c085ae165831e93"),B.literal("bip122:000000000933ea01ad0ee984209779ba")]),Nw=(r=>(r.Mainnet="sui:mainnet",r.Testnet="sui:testnet",r))(Nw||{}),Pm=B.union([B.literal("sui:mainnet"),B.literal("sui:testnet")]),Uw=(r=>(r.Mainnet="hypercore:mainnet",r.Testnet="hypercore:testnet",r))(Uw||{}),g0=B.union([B.literal("hypercore:mainnet"),B.literal("hypercore:testnet")]),Rm=B.union([cP,uP,fP,dP,lP,g0]),gl=B.union([km,Rm,Mm,Pm,g0]),Sr={Bitcoin:xo,Ethereum:Cw,Polygon:Bw,Solana:zb,Sui:Nw,Base:Ow,Monad:Wb,Arbitrum:Dw,Hypercore:Uw};d();h();d();h();var Tt=(u=>(u.BitcoinTaproot="bip122_p2tr",u.BitcoinNativeSegwit="bip122_p2wpkh",u.BitcoinNestedSegwit="bip122_p2sh",u.BitcoinLegacy="bip122_p2pkh",u.Solana="solana",u.EVM="eip155",u.Sui="sui",u))(Tt||{}),hP=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],Dd=B.enum(hP);d();h();var Xi=(m=>(m.Solana="solana",m.Monad="monad",m.Ethereum="ethereum",m.Base="base",m.Arbitrum="arbitrum",m.Polygon="polygon",m.Bitcoin="bitcoin",m.Sui="sui",m.Hypercore="hypercore",m))(Xi||{}),Ms=(m=>(m.Ethereum="60",m.Monad="143",m.Polygon="966",m.Base="8453",m.Arbitrum="9001",m.Solana="501",m.Bitcoin="0",m.Sui="784",m.Hypercore="925",m))(Ms||{});d();h();d();h();d();h();d();h();d();h();var Bet=qe(Jp(),1);var os=BigInt(0),Xr=BigInt(1),Om=BigInt(2),Oet=BigInt(8),Aye=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),hi=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Aye,n:Aye,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var Mye=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),w6=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ZWt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Det=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Net=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Uet=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Let=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Po=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof ao))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(ao.ZERO)?t.ZERO:new t(e.x,e.y,Xr,rt(e.x*e.y))}static toAffineBatch(e){let r=qet(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){_ye(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:u}=e,l=rt(r*u),m=rt(o*i),x=rt(n*u),w=rt(s*i);return l===m&&x===w}negate(){return new t(rt(-this.x),this.y,this.z,rt(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=hi,o=rt(e*e),s=rt(r*r),u=rt(Om*rt(n*n)),l=rt(i*o),m=e+r,x=rt(rt(m*m)-o-s),w=l+s,E=w-u,I=l-s,M=rt(x*E),k=rt(w*I),C=rt(x*I),R=rt(E*w);return new t(M,k,R,C)}add(e){_ye(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:u,z:l,t:m}=e,x=rt((n-r)*(u+s)),w=rt((n+r)*(u-s)),E=rt(w-x);if(E===os)return this.double();let I=rt(i*Om*m),M=rt(o*Om*l),k=M+I,C=w+x,R=M-I,L=rt(k*E),P=rt(C*R),K=rt(k*R),V=rt(E*C);return new t(L,P,V,K)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let u=1;u<2**(e-1);u++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=ao.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&PH.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),PH.set(r,i)));let o=t.ZERO,s=t.BASE,u=1+256/n,l=2**(n-1),m=BigInt(2**n-1),x=2**n,w=BigInt(n);for(let E=0;E<u;E++){let I=E*l,M=Number(e&m);e>>=w,M>l&&(M-=x,e+=Xr);let k=I,C=I+Math.abs(M)-1,R=E%2!==0,L=M<0;M===0?s=s.add(Eye(R,i[k])):o=o.add(Eye(L,i[C]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(mP(e,hi.l),r)}multiplyUnsafe(e){let r=mP(e,hi.l,!1),n=t.BASE,i=t.ZERO;if(r===os)return i;if(this.equals(i)||r===Xr)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>os;)r&Xr&&(o=o.add(s)),s=s.double(),r>>=Xr;return o}isSmallOrder(){return this.multiplyUnsafe(hi.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(hi.l/Om).double();return hi.l%Om&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?Oet:gP(i));let s=rt(r*e),u=rt(n*e),l=rt(i*e);if(o)return ao.ZERO;if(l!==Xr)throw new Error("invZ was invalid");return new ao(s,u)}fromRistrettoBytes(){MH()}toRistrettoBytes(){MH()}fromRistrettoHash(){MH()}};Po.BASE=new Po(hi.Gx,hi.Gy,Xr,rt(hi.Gx*hi.Gy));Po.ZERO=new Po(os,Xr,Xr,os);function Eye(t,e){let r=e.negate();return t?r:e}function _ye(t){if(!(t instanceof Po))throw new TypeError("ExtendedPoint expected")}function IH(t){if(!(t instanceof Gb))throw new TypeError("RistrettoPoint expected")}function MH(){throw new Error("Legacy method: switch to RistrettoPoint")}var Gb=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=hi,n=rt(w6*e*e),i=rt((n+Xr)*Uet),o=BigInt(-1),s=rt((o-r*n)*rt(n+r)),{isValid:u,value:l}=CH(i,s),m=rt(l*e);Bm(m)||(m=rt(-m)),u||(l=m),u||(o=n);let x=rt(o*(n-Xr)*Let-s),w=l*l,E=rt((l+l)*s),I=rt(x*Det),M=rt(Xr-w),k=rt(Xr+w);return new Po(rt(E*k),rt(M*I),rt(I*k),rt(E*M))}static hashToCurve(e){e=Dm(e,64);let r=kH(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=kH(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=Dm(e,32);let{a:r,d:n}=hi,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=kH(e);if(!Het(E6(o),e)||Bm(o))throw new Error(i);let s=rt(o*o),u=rt(Xr+r*s),l=rt(Xr-r*s),m=rt(u*u),x=rt(l*l),w=rt(r*n*m-x),{isValid:E,value:I}=Iye(rt(w*x)),M=rt(I*l),k=rt(I*M*w),C=rt((o+o)*M);Bm(C)&&(C=rt(-C));let R=rt(u*k),L=rt(C*R);if(!E||Bm(L)||R===os)throw new Error(i);return new t(new Po(C,R,Xr,L))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=rt(rt(n+r)*rt(n-r)),s=rt(e*r),u=rt(s*s),{value:l}=Iye(rt(o*u)),m=rt(l*o),x=rt(l*s),w=rt(m*x*i),E;if(Bm(i*w)){let M=rt(r*w6),k=rt(e*w6);e=M,r=k,E=rt(m*Net)}else E=x;Bm(e*w)&&(r=rt(-r));let I=rt((n-r)*E);return Bm(I)&&(I=rt(-I)),E6(I)}toHex(){return _6(this.toRawBytes())}toString(){return this.toHex()}equals(e){IH(e);let r=this.ep,n=e.ep,i=rt(r.x*n.y)===rt(r.y*n.x),o=rt(r.y*n.y)===rt(r.x*n.x);return i||o}add(e){return IH(e),new t(this.ep.add(e.ep))}subtract(e){return IH(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Gb.BASE=new Gb(Po.BASE);Gb.ZERO=new Gb(Po.ZERO);var PH=new WeakMap,ao=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,PH.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=hi;e=Dm(e,32);let o=e.slice();o[31]=e[31]&-129;let s=T6(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=Mye)throw new Error("Expected 0 < hex < 2**256");let u=rt(s*s),l=rt(u-Xr),m=rt(n*u+Xr),{isValid:x,value:w}=CH(l,m);if(!x)throw new Error("Point.fromHex: invalid y coordinate");let E=(w&Xr)===Xr;return(e[31]&128)!==0!==E&&(w=rt(-w)),new t(w,s)}static async fromPrivateKey(e){return(await Cye(e)).point}toRawBytes(){let e=E6(this.y);return e[31]|=this.x&Xr?128:0,e}toHex(){return _6(this.toRawBytes())}toX25519(){let{y:e}=this,r=rt((Xr+e)*gP(Xr-e));return E6(r)}isTorsionFree(){return Po.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(rt(-this.x),this.y)}add(e){return Po.fromAffine(this).add(Po.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Po.fromAffine(this).multiply(e,this).toAffine()}};ao.BASE=new ao(hi.Gx,hi.Gy);ao.ZERO=new ao(os,Xr);var A6=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Dm(e,64),n=ao.fromHex(r.slice(0,32),!1),i=T6(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof ao))throw new Error("Expected Point instance");return mP(r,hi.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(E6(this.s),32),e}toHex(){return _6(this.toRawBytes())}};function Tye(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Fet=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _6(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Fet[t[r]];return e}function RH(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function kye(t){let r=t.toString(16).padStart(64,"0");return RH(r)}function E6(t){return kye(t).reverse()}function Bm(t){return(rt(t)&Xr)===Xr}function T6(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+_6(Uint8Array.from(t).reverse()))}var Ket=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function kH(t){return rt(T6(t)&Ket)}function rt(t,e=hi.P){let r=t%e;return r>=os?r:e+r}function gP(t,e=hi.P){if(t===os||e<=os)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=rt(t,e),n=e,i=os,o=Xr,s=Xr,u=os;for(;r!==os;){let m=n/r,x=n%r,w=i-s*m,E=o-u*m;n=r,r=x,i=s,o=u,s=w,u=E}if(n!==Xr)throw new Error("invert: does not exist");return rt(i,e)}function qet(t,e=hi.P){let r=new Array(t.length),n=t.reduce((o,s,u)=>s===os?o:(r[u]=o,rt(o*s,e)),Xr),i=gP(n,e);return t.reduceRight((o,s,u)=>s===os?o:(r[u]=rt(o*r[u],e),rt(o*s,e)),i),r}function Nd(t,e){let{P:r}=hi,n=t;for(;e-- >os;)n*=n,n%=r;return n}function Vet(t){let{P:e}=hi,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,m=Nd(l,Om)*l%e,x=Nd(m,Xr)*t%e,w=Nd(x,r)*x%e,E=Nd(w,n)*w%e,I=Nd(E,i)*E%e,M=Nd(I,o)*I%e,k=Nd(M,s)*M%e,C=Nd(k,s)*M%e,R=Nd(C,n)*w%e;return{pow_p_5_8:Nd(R,Om)*t%e,b2:l}}function CH(t,e){let r=rt(e*e*e),n=rt(r*r*e),i=Vet(t*n).pow_p_5_8,o=rt(t*r*i),s=rt(e*o*o),u=o,l=rt(o*w6),m=s===t,x=s===rt(-t),w=s===rt(-t*w6);return m&&(o=u),(x||w)&&(o=l),Bm(o)&&(o=rt(-o)),{isValid:m||x,value:o}}function Iye(t){return CH(Xr,t)}function pP(t){return rt(T6(t),hi.l)}function Het(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Dm(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):RH(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function mP(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(os<t)return t}else if(os<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function jet(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Pye(t){if(t=typeof t=="bigint"||typeof t=="number"?kye(mP(t,Mye)):Dm(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function Rye(t){let e=jet(t.slice(0,32)),r=t.slice(32,64),n=pP(e),i=ao.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var S6;function yP(...t){if(typeof S6!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return S6(...t)}async function Cye(t){return Rye(await b0.sha512(Pye(t)))}function BH(t){return Rye(yP(Pye(t)))}function zet(t){return BH(t).pointBytes}function Wet(t,e){t=Dm(t);let{prefix:r,scalar:n,pointBytes:i}=BH(e),o=pP(yP(r,t)),s=ao.BASE.multiply(o),u=pP(yP(s.toRawBytes(),i,t)),l=rt(o+u*n,hi.l);return new A6(s,l).toRawBytes()}function Get(t,e,r){e=Dm(e),r instanceof ao||(r=ao.fromHex(r,!1));let{r:n,s:i}=t instanceof A6?t.assertValidity():A6.fromHex(t),o=Po.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function $et(t,e,r,n){let i=pP(n),o=Po.fromAffine(t).multiplyUnsafe(i);return Po.fromAffine(e).add(o).subtract(r).multiplyUnsafe(hi.h).equals(Po.ZERO)}function Yet(t,e,r){let{r:n,SB:i,msg:o,pub:s}=Get(t,e,r),u=yP(n.toRawBytes(),s.toRawBytes(),o);return $et(s,n,i,u)}var bP={getExtendedPublicKey:BH,getPublicKey:zet,sign:Wet,verify:Yet};ao.BASE._setWindowSize(8);var Cm={node:Bet,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},b0={bytesToHex:_6,hexToBytes:RH,concatBytes:Tye,getExtendedPublicKey:Cye,mod:rt,invert:gP,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Dm(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return rt(T6(t),hi.l-Xr)+Xr},randomBytes:(t=32)=>{if(Cm.web)return Cm.web.getRandomValues(new Uint8Array(t));if(Cm.node){let{randomBytes:e}=Cm.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>b0.randomBytes(32),sha512:async(...t)=>{let e=Tye(...t);if(Cm.web){let r=await Cm.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Cm.node)return Uint8Array.from(Cm.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=ao.BASE){let r=e.equals(ao.BASE)?e:new ao(e.x,e.y);return r._setWindowSize(t),r.multiply(Om),r},sha512Sync:void 0};Object.defineProperties(b0,{sha512Sync:{configurable:!1,get(){return S6},set(t){S6||(S6=t)}}});d();h();d();h();d();h();function OH(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Zet(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Bye(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Qet(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");OH(t.outputLen),OH(t.blockLen)}function Jet(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Xet(t,e){Bye(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var ett={number:OH,bool:Zet,bytes:Bye,hash:Qet,exists:Jet,output:Xet},zn=ett;d();h();d();h();var I6={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Lw=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Fw=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),bl=(t,e)=>t<<32-e|t>>>e,ttt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ttt)throw new Error("Non little-endian hardware is not supported");var rtt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function aGt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=rtt[t[r]];return e}function ntt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}var itt=async()=>{};async function vP(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await itt(),n+=o)}}function ott(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function vl(t){if(typeof t=="string"&&(t=ott(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Nm=class{clone(){return this._cloneInto()}},stt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function xP(t,e){if(e!==void 0&&(typeof e!="object"||!stt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function Ud(t){let e=n=>t().update(vl(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Oye(t){let e=(n,i)=>t(i).update(vl(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Um(t=32){if(I6.web)return I6.web.getRandomValues(new Uint8Array(t));if(I6.node)return new Uint8Array(I6.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}function att(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var Kw=class extends Nm{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Fw(this.buffer)}update(e){zn.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=vl(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=Fw(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zn.exists(this),zn.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;att(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=Fw(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();var wP=BigInt(4294967295),DH=BigInt(32);function Dye(t,e=!1){return e?{h:Number(t&wP),l:Number(t>>DH&wP)}:{h:Number(t>>DH&wP)|0,l:Number(t&wP)|0}}function ctt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Dye(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var utt=(t,e)=>BigInt(t>>>0)<<DH|BigInt(e>>>0),ftt=(t,e,r)=>t>>>r,ltt=(t,e,r)=>t<<32-r|e>>>r,dtt=(t,e,r)=>t>>>r|e<<32-r,htt=(t,e,r)=>t<<32-r|e>>>r,ptt=(t,e,r)=>t<<64-r|e>>>r-32,mtt=(t,e,r)=>t>>>r-32|e<<64-r,ytt=(t,e)=>e,gtt=(t,e)=>t,btt=(t,e,r)=>t<<r|e>>>32-r,vtt=(t,e,r)=>e<<r|t>>>32-r,xtt=(t,e,r)=>e<<r-32|t>>>64-r,wtt=(t,e,r)=>t<<r-32|e>>>64-r;function Stt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Att=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Ett=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,_tt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Ttt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Itt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Mtt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,ktt={fromBig:Dye,split:ctt,toBig:utt,shrSH:ftt,shrSL:ltt,rotrSH:dtt,rotrSL:htt,rotrBH:ptt,rotrBL:mtt,rotr32H:ytt,rotr32L:gtt,rotlSH:btt,rotlSL:vtt,rotlBH:xtt,rotlBL:wtt,add:Stt,add3L:Att,add3H:Ett,add4L:_tt,add4H:Ttt,add5H:Mtt,add5L:Itt},Zt=ktt;var[Ptt,Rtt]=Zt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Lm=new Uint32Array(80),Fm=new Uint32Array(80),qw=class extends Kw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:u,Dl:l,Eh:m,El:x,Fh:w,Fl:E,Gh:I,Gl:M,Hh:k,Hl:C}=this;return[e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C]}set(e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=u|0,this.Dl=l|0,this.Eh=m|0,this.El=x|0,this.Fh=w|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=C|0}process(e,r){for(let P=0;P<16;P++,r+=4)Lm[P]=e.getUint32(r),Fm[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let K=Lm[P-15]|0,V=Fm[P-15]|0,j=Zt.rotrSH(K,V,1)^Zt.rotrSH(K,V,8)^Zt.shrSH(K,V,7),ne=Zt.rotrSL(K,V,1)^Zt.rotrSL(K,V,8)^Zt.shrSL(K,V,7),J=Lm[P-2]|0,oe=Fm[P-2]|0,S=Zt.rotrSH(J,oe,19)^Zt.rotrBH(J,oe,61)^Zt.shrSH(J,oe,6),a=Zt.rotrSL(J,oe,19)^Zt.rotrBL(J,oe,61)^Zt.shrSL(J,oe,6),f=Zt.add4L(ne,a,Fm[P-7],Fm[P-16]),p=Zt.add4H(f,j,S,Lm[P-7],Lm[P-16]);Lm[P]=p|0,Fm[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:u,Cl:l,Dh:m,Dl:x,Eh:w,El:E,Fh:I,Fl:M,Gh:k,Gl:C,Hh:R,Hl:L}=this;for(let P=0;P<80;P++){let K=Zt.rotrSH(w,E,14)^Zt.rotrSH(w,E,18)^Zt.rotrBH(w,E,41),V=Zt.rotrSL(w,E,14)^Zt.rotrSL(w,E,18)^Zt.rotrBL(w,E,41),j=w&I^~w&k,ne=E&M^~E&C,J=Zt.add5L(L,V,ne,Rtt[P],Fm[P]),oe=Zt.add5H(J,R,K,j,Ptt[P],Lm[P]),S=J|0,a=Zt.rotrSH(n,i,28)^Zt.rotrBH(n,i,34)^Zt.rotrBH(n,i,39),f=Zt.rotrSL(n,i,28)^Zt.rotrBL(n,i,34)^Zt.rotrBL(n,i,39),p=n&o^n&u^o&u,y=i&s^i&l^s&l;R=k|0,L=C|0,k=I|0,C=M|0,I=w|0,M=E|0,{h:w,l:E}=Zt.add(m|0,x|0,oe|0,S|0),m=u|0,x=l|0,u=o|0,l=s|0,o=n|0,s=i|0;let g=Zt.add3L(S,f,y);n=Zt.add3H(g,oe,a,p),i=g|0}({h:n,l:i}=Zt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Zt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:u,l}=Zt.add(this.Ch|0,this.Cl|0,u|0,l|0),{h:m,l:x}=Zt.add(this.Dh|0,this.Dl|0,m|0,x|0),{h:w,l:E}=Zt.add(this.Eh|0,this.El|0,w|0,E|0),{h:I,l:M}=Zt.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:C}=Zt.add(this.Gh|0,this.Gl|0,k|0,C|0),{h:R,l:L}=Zt.add(this.Hh|0,this.Hl|0,R|0,L|0),this.set(n,i,o,s,u,l,m,x,w,E,I,M,k,C,R,L)}roundClean(){Lm.fill(0),Fm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},NH=class extends qw{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},UH=class extends qw{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},LH=class extends qw{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},au=Ud(()=>new qw),SGt=Ud(()=>new NH),AGt=Ud(()=>new UH),EGt=Ud(()=>new LH);d();h();var Ctt=qe(Jp(),1);var mn=BigInt(0),Ei=BigInt(1),qm=BigInt(2),P6=BigInt(3),Nye=BigInt(8),_i=Object.freeze({a:mn,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Ei,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Uye=(t,e)=>(t+e/qm)/e,SP={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=_i,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ei*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),u=Uye(o*t,e),l=Uye(-n*t,e),m=Et(t-u*r-l*i,e),x=Et(-u*n-l*o,e),w=m>s,E=x>s;if(w&&(m=e-m),E&&(x=e-x),m>s||x>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:w,k1:m,k2neg:E,k2:x}}},Vw=32,C6=32;var Lye=Vw+1,Fye=2*Vw+1;function Kye(t){let{a:e,b:r}=_i,n=Et(t*t),i=Et(n*t);return Et(i+e*t+r)}var AP=_i.a===mn,IP=class extends Error{constructor(e){super(e)}};function qye(t){if(!(t instanceof qa))throw new TypeError("JacobianPoint expected")}var qa=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof co))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(co.ZERO)?t.ZERO:new t(e.x,e.y,Ei)}static toAffineBatch(e){let r=Utt(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){qye(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:u}=e,l=Et(i*i),m=Et(u*u),x=Et(r*m),w=Et(o*l),E=Et(Et(n*u)*m),I=Et(Et(s*i)*l);return x===w&&E===I}negate(){return new t(this.x,Et(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Et(e*e),o=Et(r*r),s=Et(o*o),u=e+o,l=Et(qm*(Et(u*u)-i-s)),m=Et(P6*i),x=Et(m*m),w=Et(x-qm*l),E=Et(m*(l-w)-Nye*s),I=Et(qm*r*n);return new t(w,E,I)}add(e){qye(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:u}=e;if(o===mn||s===mn)return this;if(r===mn||n===mn)return e;let l=Et(i*i),m=Et(u*u),x=Et(r*m),w=Et(o*l),E=Et(Et(n*u)*m),I=Et(Et(s*i)*l),M=Et(w-x),k=Et(I-E);if(M===mn)return k===mn?this.double():t.ZERO;let C=Et(M*M),R=Et(M*C),L=Et(x*C),P=Et(k*k-R-qm*L),K=Et(k*(L-P)-E*R),V=Et(i*u*M);return new t(P,K,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===mn)return r;let n=jye(e);if(n===Ei)return this;if(!AP){let w=r,E=this;for(;n>mn;)n&Ei&&(w=w.add(E)),E=E.double(),n>>=Ei;return w}let{k1neg:i,k1:o,k2neg:s,k2:u}=SP.splitScalar(n),l=r,m=r,x=this;for(;o>mn||u>mn;)o&Ei&&(l=l.add(x)),u&Ei&&(m=m.add(x)),x=x.double(),o>>=Ei,u>>=Ei;return i&&(l=l.negate()),s&&(m=m.negate()),m=new t(Et(m.x*SP.beta),m.y,m.z),l.add(m)}precomputeWindow(e){let r=AP?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let u=1;u<2**(e-1);u++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=co.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&KH.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),KH.set(r,i)));let o=t.ZERO,s=t.BASE,u=1+(AP?128/n:256/n),l=2**(n-1),m=BigInt(2**n-1),x=2**n,w=BigInt(n);for(let E=0;E<u;E++){let I=E*l,M=Number(e&m);e>>=w,M>l&&(M-=x,e+=Ei);let k=I,C=I+Math.abs(M)-1,R=E%2!==0,L=M<0;M===0?s=s.add(EP(R,i[k])):o=o.add(EP(L,i[C]))}return{p:o,f:s}}multiply(e,r){let n=jye(e),i,o;if(AP){let{k1neg:s,k1:u,k2neg:l,k2:m}=SP.splitScalar(n),{p:x,f:w}=this.wNAF(u,r),{p:E,f:I}=this.wNAF(m,r);x=EP(s,x),E=EP(l,E),E=new t(Et(E.x*SP.beta),E.y,E.z),i=x.add(E),o=w.add(I)}else{let{p:s,f:u}=this.wNAF(n,r);i=s,o=u}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?Nye:RP(i));let s=e,u=Et(s*s),l=Et(u*s),m=Et(r*u),x=Et(n*l),w=Et(i*s);if(o)return co.ZERO;if(w!==Ei)throw new Error("invZ was invalid");return new co(m,x)}};qa.BASE=new qa(_i.Gx,_i.Gy,Ei);qa.ZERO=new qa(mn,Ei,mn);function EP(t,e){let r=e.negate();return t?r:e}var KH=new WeakMap,co=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,KH.delete(this)}hasEvenY(){return this.y%qm===mn}static fromCompressedHex(e){let r=e.length===32,n=uf(r?e:e.subarray(1));if(!TP(n))throw new Error("Point is not on curve");let i=Kye(n),o=Ntt(i),s=(o&Ei)===Ei;r?s&&(o=Et(-o)):(e[0]&1)===1!==s&&(o=Et(-o));let u=new t(n,o);return u.assertValidity(),u}static fromUncompressedHex(e){let r=uf(e.subarray(1,Vw+1)),n=uf(e.subarray(Vw+1,Vw*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=$b(e),n=r.length,i=r[0];if(n===Vw)return this.fromCompressedHex(r);if(n===Lye&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Fye&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Lye} compressed bytes or ${Fye} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(D6(e))}static fromSignature(e,r,n){let{r:i,s:o}=qtt(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=Ftt($b(e)),{n:u}=_i,l=n===2||n===3?i+u:i,m=RP(l,u),x=Et(-s*m,u),w=Et(o*m,u),E=n&1?"03":"02",I=t.fromHex(E+Vm(l)),M=t.BASE.multiplyAndAddUnsafe(I,x,w);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return Hm(this.toHex(e))}toHex(e=!1){let r=Vm(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Vm(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!TP(r)||!TP(n))throw new Error(e);let i=Et(n*n),o=Kye(r);if(Et(i-o)!==mn)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Et(-this.y))}double(){return qa.fromAffine(this).double().toAffine()}add(e){return qa.fromAffine(this).add(qa.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return qa.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=qa.fromAffine(this),o=r===mn||r===Ei||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=qa.fromAffine(e).multiplyUnsafe(n),u=o.add(s);return u.equals(qa.ZERO)?void 0:u.toAffine()}};co.BASE=new co(_i.Gx,_i.Gy);co.ZERO=new co(mn,mn);function Vye(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Hye(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${jw(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:uf(r),left:t.subarray(e+2)}}function Btt(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${jw(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Hye(t.subarray(2)),{data:n,left:i}=Hye(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${jw(i)}`);return{r:e,s:n}}var R6=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?jw(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(MP(i.slice(0,64)),MP(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Btt(r?e:Hm(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!O6(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!O6(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=_i.n>>Ei;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Et(-this.s,_i.n)):this}toDERRawBytes(){return Hm(this.toDERHex())}toDERHex(){let e=Vye(k6(this.s)),r=Vye(k6(this.r)),n=e.length/2,i=r.length/2,o=k6(n),s=k6(i);return`30${k6(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Hm(this.toCompactHex())}toCompactHex(){return Vm(this.r)+Vm(this.s)}};function M6(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Ott=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jw(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Ott[t[r]];return e}var Dtt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Vm(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(mn<=t&&t<Dtt))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function B6(t){let e=Hm(Vm(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function k6(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function MP(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Hm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function uf(t){return MP(jw(t))}function $b(t){return t instanceof Uint8Array?Uint8Array.from(t):Hm(t)}function jye(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&O6(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Et(t,e=_i.P){let r=t%e;return r>=mn?r:e+r}function cf(t,e){let{P:r}=_i,n=t;for(;e-- >mn;)n*=n,n%=r;return n}function Ntt(t){let{P:e}=_i,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),u=BigInt(88),l=t*t*t%e,m=l*l*t%e,x=cf(m,P6)*m%e,w=cf(x,P6)*m%e,E=cf(w,qm)*l%e,I=cf(E,n)*E%e,M=cf(I,i)*I%e,k=cf(M,s)*M%e,C=cf(k,u)*k%e,R=cf(C,s)*M%e,L=cf(R,P6)*m%e,P=cf(L,o)*I%e,K=cf(P,r)*l%e,V=cf(K,qm);if(V*V%e!==t)throw new Error("Cannot find square root");return V}function RP(t,e=_i.P){if(t===mn||e<=mn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Et(t,e),n=e,i=mn,o=Ei,s=Ei,u=mn;for(;r!==mn;){let m=n/r,x=n%r,w=i-s*m,E=o-u*m;n=r,r=x,i=s,o=u,s=w,u=E}if(n!==Ei)throw new Error("invert: does not exist");return Et(i,e)}function Utt(t,e=_i.P){let r=new Array(t.length),n=t.reduce((o,s,u)=>s===mn?o:(r[u]=o,Et(o*s,e)),Ei),i=RP(n,e);return t.reduceRight((o,s,u)=>s===mn?o:(r[u]=Et(o*r[u],e),Et(o*s,e)),i),r}function Ltt(t){let e=t.length*8-C6*8,r=uf(t);return e>0?r>>BigInt(e):r}function Ftt(t,e=!1){let r=Ltt(t);if(e)return r;let{n}=_i;return r>=n?r-n:r}var Hw,FH;function O6(t){return mn<t&&t<_i.n}function TP(t){return mn<t&&t<_i.P}function D6(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*C6)throw new Error("Expected 32 bytes of private key");e=MP(t)}else if(t instanceof Uint8Array){if(t.length!==C6)throw new Error("Expected 32 bytes of private key");e=uf(t)}else throw new TypeError("Expected valid private key");if(!O6(e))throw new Error("Expected private key: 0 < key < n");return e}function Ktt(t){return t instanceof co?(t.assertValidity(),t):co.fromHex(t)}function qtt(t){if(t instanceof R6)return t.assertValidity(),t;try{return R6.fromDER(t)}catch{return R6.fromCompact(t)}}function v0(t,e=!1){return co.fromPrivateKey(t).toRawBytes(e)}function kP(t){return Et(uf(t),_i.n)}var zw=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=$b(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=uf(r.subarray(0,32)),i=uf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!TP(e)||!O6(r))throw new Error("Invalid signature")}toHex(){return Vm(this.r)+Vm(this.s)}toRawBytes(){return Hm(this.toHex())}};function Vtt(t){return co.fromPrivateKey(t).toRawX()}var PP=class{constructor(e,r,n=Ld.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=$b(e);let{x:i,scalar:o}=this.getScalar(D6(r));if(this.px=i,this.d=o,this.rand=$b(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=co.fromPrivateKey(e),n=r.hasEvenY()?e:_i.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return B6(e^uf(r))}finalizeNonce(e){let r=Et(uf(e),_i.n);if(r===mn)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new zw(e.x,Et(r+n*i,_i.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=Ld.taggedHash,s=this.initNonce(r,await o(Km.aux,i)),{R:u,rx:l,k:m}=this.finalizeNonce(await o(Km.nonce,s,n,e)),x=kP(await o(Km.challenge,l,n,e)),w=this.finalizeSig(u,m,x,r);return await Gye(w,e,n)||this.error(),w}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=Ld.taggedHashSync,s=this.initNonce(r,o(Km.aux,i)),{R:u,rx:l,k:m}=this.finalizeNonce(o(Km.nonce,s,n,e)),x=kP(o(Km.challenge,l,n,e)),w=this.finalizeSig(u,m,x,r);return $ye(w,e,n)||this.error(),w}};async function Htt(t,e,r){return new PP(t,e,r).calc()}function jtt(t,e,r){return new PP(t,e,r).calcSync()}function zye(t,e,r){let n=t instanceof zw,i=n?t:zw.fromHex(t);return n&&i.assertValidity(),{...i,m:$b(e),P:Ktt(r)}}function Wye(t,e,r,n){let i=co.BASE.multiplyAndAddUnsafe(e,D6(r),Et(-n,_i.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function Gye(t,e,r){try{let{r:n,s:i,m:o,P:s}=zye(t,e,r),u=kP(await Ld.taggedHash(Km.challenge,B6(n),s.toRawX(),o));return Wye(n,s,i,u)}catch{return!1}}function $ye(t,e,r){try{let{r:n,s:i,m:o,P:s}=zye(t,e,r),u=kP(Ld.taggedHashSync(Km.challenge,B6(n),s.toRawX(),o));return Wye(n,s,i,u)}catch(n){if(n instanceof IP)throw n;return!1}}var Yye={Signature:zw,getPublicKey:Vtt,sign:Htt,verify:Gye,signSync:jtt,verifySync:$ye};co.BASE._setWindowSize(8);var cu={node:Ctt,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Km={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},_P={},Ld={bytesToHex:jw,hexToBytes:Hm,concatBytes:M6,mod:Et,invert:RP,isValidPrivateKey(t){try{return D6(t),!0}catch{return!1}},_bigintTo32Bytes:B6,_normalizePrivateKey:D6,hashToPrivateKey:t=>{t=$b(t);let e=C6+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Et(uf(t),_i.n-Ei)+Ei;return B6(r)},randomBytes:(t=32)=>{if(cu.web)return cu.web.getRandomValues(new Uint8Array(t));if(cu.node){let{randomBytes:e}=cu.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ld.hashToPrivateKey(Ld.randomBytes(C6+8)),precompute(t=8,e=co.BASE){let r=e===co.BASE?e:new co(e.x,e.y);return r._setWindowSize(t),r.multiply(P6),r},sha256:async(...t)=>{if(cu.web){let e=await cu.web.subtle.digest("SHA-256",M6(...t));return new Uint8Array(e)}else if(cu.node){let{createHash:e}=cu.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(cu.web){let r=await cu.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=M6(...e),i=await cu.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(cu.node){let{createHmac:r}=cu.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=_P[t];if(r===void 0){let n=await Ld.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=M6(n,n),_P[t]=r}return Ld.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Hw!="function")throw new IP("sha256Sync is undefined, you need to set it");let r=_P[t];if(r===void 0){let n=Hw(Uint8Array.from(t,i=>i.charCodeAt(0)));r=M6(n,n),_P[t]=r}return Hw(r,...e)},_JacobianPoint:qa};Object.defineProperties(Ld,{sha256Sync:{configurable:!1,get(){return Hw},set(t){Hw||(Hw=t)}},hmacSha256Sync:{configurable:!1,get(){return FH},set(t){FH||(FH=t)}}});d();h();var Wtt=new Error("Unsupported path."),Bt=(t,e=Wtt)=>{throw e};d();h();var Zye=new RegExp("^[0-9]+'?$"),Ww=2147483648;d();h();d();h();var CP=class extends Nm{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,zn.hash(e);let n=vl(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return zn.exists(this),this.iHash.update(e),this}digestInto(e){zn.exists(this),zn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fd=(t,e,r)=>new CP(t,e).update(r).digest();Fd.create=(t,e)=>new CP(t,e);var jGt=new RegExp("^m(\\/[0-9]+')+$");var Gtt="ed25519 seed",Qye=t=>{let e=Buffer.from(Fd(au,Buffer.from(Gtt),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},Jye=({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),o=Buffer.from(Fd(au,e,i)).toString("hex"),s=o.slice(0,64),u=o.slice(64);return{key:Buffer.from(s,"hex"),chainCode:Buffer.from(u,"hex")}};d();h();var x0=qe(Dn());var Gw=qe(Jo());var $tt=x0.Buffer.from("Bitcoin seed"),Xye=Pn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ege=t=>{let e=x0.Buffer.from(Fd(au,x0.Buffer.from($tt),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:x0.Buffer.from(r,"hex"),chainCode:x0.Buffer.from(n,"hex")}},tge=(t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&Ww)i.set(r,1);else{let w=v0(r,!0);i.set((0,Gw.arrayify)(w))}for(let w=24;w>=0;w-=8)i[33+(w>>3)]=e>>24-w&255;let o=x0.Buffer.from(Fd(au,n,i)).toString("hex"),s=o.slice(0,64),u=o.slice(64),l=Pn.from(`0x${s}`);if(l.gte(Xye))throw new Error("Invalid private key");let m=l.add(`0x${r.toString("hex")}`).mod(Xye);if(m.eq(Pn.from(0)))throw new Error("Invalid private key");let x=(0,Gw.hexZeroPad)((0,Gw.hexlify)(m),32);return{key:x0.Buffer.from(x.replace("0x",""),"hex"),chainCode:x0.Buffer.from(u,"hex")}};d();h();var qH=B.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!Zye.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."});var VH=B.union([B.literal("bitcoinTaproot"),B.literal("bitcoinNativeSegwit"),B.literal("bitcoinNestedSegwit"),B.literal("bitcoinLegacy")]),HH=B.union([B.literal("bip44RootEthereum"),B.literal("bip44Ethereum"),B.literal("bip44EthereumSecondary"),B.literal("bip44EthereumTertiary")]),jH=B.union([B.literal("bip44Root"),B.literal("bip44"),B.literal("bip44Change"),B.literal("deprecated")]),Ytt=B.literal("bip44Sui");d();h();var Ztt=B.union([B.literal("bip44Change"),B.literal("bip44"),B.literal("deprecated")]),Qtt=B.union([B.literal("bip44Ethereum"),B.literal("bip44EthereumSecondary"),B.literal("bip44EthereumTertiary")]),Jtt=B.union([B.literal("bitcoinTaproot"),B.literal("bitcoinNativeSegwit"),B.literal("bitcoinNestedSegwit"),B.literal("bitcoinLegacy")]),Xtt=B.literal("bip44Sui"),BP=B.number().int().min(0),ert=B.object({pathType:B.literal("bip44Root"),index:B.number().optional()}),trt=B.object({pathType:Ztt,index:BP}),rrt=B.object({pathType:B.literal("bip44RootEthereum"),index:B.number().optional()}),nrt=B.object({pathType:Qtt,index:BP}),irt=B.object({pathType:Jtt,index:BP}),ort=B.object({pathType:Xtt,index:BP}),OP=B.union([ert,trt,rrt,nrt,irt,ort]),N6=new Error("Invalid derivation path."),nge=new Error("Unsupported derivation path."),$w=t=>{if(!OP.safeParse(t).success)throw N6;switch(t.pathType){case"bitcoinTaproot":return`m/86'/0'/0'/0/${t.index}`;case"bitcoinNativeSegwit":return`m/84'/0'/0'/0/${t.index}`;case"bitcoinNestedSegwit":return`m/46'/0'/0'/0/${t.index}`;case"bitcoinLegacy":return`m/44'/0'/0'/0/${t.index}`;case"bip44RootEthereum":return"m/44'/60'";case"bip44Ethereum":return`m/44'/60'/0'/0/${t.index}`;case"bip44EthereumSecondary":return`m/44'/60'/1'/0/${t.index}`;case"bip44EthereumTertiary":return`m/44'/60'/2'/0/${t.index}`;case"bip44Root":return"m/44'/501'";case"deprecated":return`m/501'/${t.index}'/0/0`;case"bip44":return`m/44'/501'/${t.index}'`;case"bip44Change":return`m/44'/501'/${t.index}'/0'`;case"bip44Sui":return`m/44'/784'/${t.index}'/0'/0'`}},rge=1<<31>>>0,srt=t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw N6;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let o="";for(let l=0;l<4;l++)o+=e[1+i*4+l];let s=parseInt(o,16),u=s>=rge;u&&(s-=rge),n+=`/${s.toString(10)}${u?"'":""}`}return n}catch{throw N6}},art=t=>{let e,r=qH.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=srt(t)}catch{throw N6}if(e==="m/44'/501'")return{pathType:"bip44Root"};if(e==="m/44'/60'")return{pathType:"bip44RootEthereum"};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinTaproot",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNativeSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNestedSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinLegacy",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bip44Ethereum",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:"bip44EthereumSecondary",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:"bip44EthereumTertiary",index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:"bip44Change",index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:"bip44",index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:"deprecated",index:parseInt(n[1],10)}}catch{}throw nge};d();h();var h$t=new Error("Unsupported path."),crt=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!0;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},urt=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!1;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return!0;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},frt=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!0}};b0.sha512Sync=(...t)=>au(b0.concatBytes(...t));var{getPublicKey:lrt}=bP,fa=class{#e;#t;constructor(e){this.#e={ellipticCurve:"ed25519",value:Qye(e),nodes:{}},this.#t={ellipticCurve:"secp256k1",value:ege(e),nodes:{}}}derivePathType(e,r){switch(e){case"bitcoinTaproot":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNativeSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNestedSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinLegacy":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bip44Ethereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case"bip44EthereumSecondary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case"bip44EthereumTertiary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case"bip44RootEthereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case"bip44Change":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case"bip44":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case"deprecated":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case"bip44Root":return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case"bip44Sui":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):Bt(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,o=n.split("/"),s=this.#e;for(let m of o){if(m==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let x=s.nodes?.[m]??null;if(!x){let w={ellipticCurve:r,value:Jye(s.value,parseInt(m,10)+Ww),nodes:{}};x=w,s.nodes[m]=w}s=x}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let u=lrt(s.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(s.value.key),{publicKey:u,secretKey:l};case 64:return l=new Uint8Array(64),l.set(s.value.key),l.set(u,32),{publicKey:u,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,o=n.split("/"),s=this.#t;for(let m of o){if(m==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let x=s.nodes?.[m]??null;if(!x){let w=0;m.endsWith("'")&&(w=Ww);let E={ellipticCurve:r,value:tge(s.value,parseInt(m,10)+w),nodes:{}};x=E,s.nodes[m]=E}s=x}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let u=s.value.key;return{publicKey:v0(u,i),secretKey:new Uint8Array(u)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#e),this.cleanUpTree(this.#t),this.#e=null,this.#t=null}};d();h();var DP=class{type="bip122_p2pkh";displayName="Legacy";defaultDerivationPathType="bitcoinLegacy";otherDerivationPathType=[]};d();h();var NP=class{type="bip122_p2wpkh";displayName="Native Segwit";defaultDerivationPathType="bitcoinNativeSegwit";otherDerivationPathType=[]};d();h();var UP=class{type="bip122_p2sh";displayName="Nested Segwit";defaultDerivationPathType="bitcoinNestedSegwit";otherDerivationPathType=[]};d();h();var LP=class{type="bip122_p2tr";displayName="Taproot";defaultDerivationPathType="bitcoinTaproot";otherDerivationPathType=[]};d();h();var FP=class{type="eip155";displayName="Ethereum";defaultDerivationPathType="bip44Ethereum";otherDerivationPathType=["bip44RootEthereum","bip44EthereumSecondary","bip44EthereumTertiary"]};d();h();var KP=class{type="solana";displayName="Solana";defaultDerivationPathType="bip44Change";otherDerivationPathType=["bip44Root","bip44","deprecated"]};d();h();var qP=class{type="sui";displayName="Sui";defaultDerivationPathType="bip44Sui";otherDerivationPathType=[]};var zH=class{bip122_p2tr=new LP;bip122_p2wpkh=new NP;bip122_p2sh=new UP;bip122_p2pkh=new DP;eip155=new FP;solana=new KP;sui=new qP;allAddressTypes=Object.values(Tt);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},la=new zH;d();h();function VP(t){return Buffer.from(t).toString("base64")}d();h();d();h();d();h();d();h();var ige="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",Ti=class t{#e;#t;constructor(e){let r=e.length,n=Um(r),i=oge(e,n);this.#t=n,this.#e=i}static from(e){return new t(e)}read=e=>{let r=HP(this.#e,this.#t);try{e(r)}finally{this.cleanup(r)}};readAsync=async e=>{let r=HP(this.#e,this.#t);try{await e(r)}finally{this.cleanup(r)}};fold=e=>{let r=HP(this.#e,this.#t);try{let n=e(r);if(n===r)throw new Error(ige);return n}finally{this.cleanup(r)}};foldAsync=async e=>{let r=HP(this.#e,this.#t);try{let n=await e(r);if(n===r)throw new Error(ige);return n}finally{this.cleanup(r)}};cleanup=e=>{let r=Um(e.length),n=oge(e,r);this.#t=r,this.#e=n,e.fill(0)}},oge=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},HP=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n};d();h();var Jn=t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");d();h();d();h();var Yb=/^[A-Za-z0-9-_]*$/;var U6=t=>{if(!t.match(Yb))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")};d();h();d();h();var hrt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!hrt)throw new Error("Non little-endian hardware is not supported");d();h();d();h();d();h();function prt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let m=0;m<e.length;m++)e[m]=255;for(let m=0;m<t.length;m++){let x=t.charAt(m),w=x.charCodeAt(0);if(e[w]!==255)throw new TypeError(x+" is ambiguous");e[w]=m}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";let x=0,w=0,E=0,I=m.length;for(;E!==I&&m[E]===0;)E++,x++;let M=(I-E)*o+1>>>0,k=new Uint8Array(M);for(;E!==I;){let L=m[E],P=0;for(let K=M-1;(L!==0||P<w)&&K!==-1;K--,P++)L+=256*k[K]>>>0,k[K]=L%r>>>0,L=L/r>>>0;if(L!==0)throw new Error("Non-zero carry");w=P,E++}let C=M-w;for(;C!==M&&k[C]===0;)C++;let R=n.repeat(x);for(;C<M;++C)R+=t.charAt(k[C]);return R}function u(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;let x=0,w=0,E=0;for(;m[x]===n;)w++,x++;let I=(m.length-x)*i+1>>>0,M=new Uint8Array(I);for(;m[x];){let L=e[m.charCodeAt(x)];if(L===255)return;let P=0;for(let K=I-1;(L!==0||P<E)&&K!==-1;K--,P++)L+=r*M[K]>>>0,M[K]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");E=P,x++}let k=I-E;for(;k!==I&&M[k]===0;)k++;let C=new Uint8Array(w+(I-k)),R=w;for(;k!==I;)C[R++]=M[k++];return C}function l(m){let x=u(m);if(x)return x;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:u,decode:l}}var sge=prt;var mrt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",age=sge(mrt);function WH(t){let e=U6(t);return age.encode(e)}d();h();d();h();d();h();var jP=class{addressTypes=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:v0(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new fa(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();var uge=qe(Na());d();h();var cge="properties/5.7.0";var yrt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(x){try{m(n.next(x))}catch(w){s(w)}}function l(x){try{m(n.throw(x))}catch(w){s(w)}}function m(x){x.done?o(x.value):i(x.value).then(u,l)}m((n=n.apply(t,e||[])).next())})},zP=new uge.Logger(cge);function qt(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function HZt(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function w0(t){return yrt(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function fge(t,e){(!t||typeof t!="object")&&zP.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||zP.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function F6(t){let e={};for(let r in t)e[r]=t[r];return e}var grt={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function lge(t){if(t==null||grt[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!lge(n))return!1}return!0}return zP.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function brt(t){if(lge(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>L6(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&qt(e,r,L6(n))}return e}return zP.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function L6(t){return brt(t)}var jm=class{constructor(e){for(let r in e)this[r]=L6(e[r])}};var pge=qe(Na());d();h();var dge="abstract-provider/5.7.0";var vrt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(x){try{m(n.next(x))}catch(w){s(w)}}function l(x){try{m(n.throw(x))}catch(w){s(w)}}function m(x){x.done?o(x.value):i(x.value).then(u,l)}m((n=n.apply(t,e||[])).next())})},xrt=new pge.Logger(dge),hge=class extends jm{static isForkEvent(e){return!!(e&&e._isForkEvent)}};var WP=class t{constructor(){xrt.checkAbstract(new.target,t),qt(this,"_isProvider",!0)}getFeeData(){return vrt(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield w0({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=Pn.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};d();h();var Kd=qe(Na());d();h();var mge="abstract-signer/5.7.0";var xl=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(x){try{m(n.next(x))}catch(w){s(w)}}function l(x){try{m(n.throw(x))}catch(w){s(w)}}function m(x){x.done?o(x.value):i(x.value).then(u,l)}m((n=n.apply(t,e||[])).next())})},ff=new Kd.Logger(mge),wrt=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Srt=[Kd.Logger.errors.INSUFFICIENT_FUNDS,Kd.Logger.errors.NONCE_EXPIRED,Kd.Logger.errors.REPLACEMENT_UNDERPRICED],K6=class t{constructor(){ff.checkAbstract(new.target,t),qt(this,"_isSigner",!0)}getBalance(e){return xl(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return xl(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return xl(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield w0(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return xl(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield w0(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return xl(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return xl(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return xl(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return xl(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return xl(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)wrt.indexOf(n)===-1&&ff.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=F6(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&ff.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return xl(this,void 0,void 0,function*(){let r=yield w0(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>xl(this,void 0,void 0,function*(){if(i==null)return null;let o=yield this.resolveName(i);return o==null&&ff.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?ff.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&ff.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&ff.throwError("network does not support EIP-1559",Kd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):ff.throwError("failed to get consistent fee data",Kd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Srt.indexOf(i.code)>=0)throw i;return ff.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Kd.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&ff.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield w0(r)})}_checkProvider(e){this.provider||ff.throwError("missing provider",Kd.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},yge=class t extends K6{constructor(e,r){super(),qt(this,"address",e),qt(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{ff.throwError(e,Kd.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var Al=qe(Jo());d();h();d();h();d();h();d();h();d();h();var Art="0x0000000000000000000000000000000000000000";d();h();var Ert=Pn.from(-1),GH=Pn.from(0),_rt=Pn.from(1);var Trt=Pn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");d();h();var Irt="0x0000000000000000000000000000000000000000000000000000000000000000";d();h();var $H=qe(Jo()),bge=qe(Na());d();h();var gge="strings/5.7.0";var vge=new bge.Logger(gge),wl;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(wl||(wl={}));var vc;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(vc||(vc={}));function Mrt(t,e,r,n,i){return vge.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function xge(t,e,r,n,i){if(t===vc.BAD_PREFIX||t===vc.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===vc.OVERRUN?r.length-e-1:0}function krt(t,e,r,n,i){return t===vc.OVERLONG?(n.push(i),0):(n.push(65533),xge(t,e,r,n,i))}var wge=Object.freeze({error:Mrt,ignore:xge,replace:krt});function Sge(t,e){e==null&&(e=wge.error),t=(0,$H.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(vc.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(vc.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(vc.OVERRUN,n-1,t,r);continue}let u=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let m=t[n];if((m&192)!=128){n+=e(vc.MISSING_CONTINUE,n,t,r),u=null;break}u=u<<6|m&63,n++}if(u!==null){if(u>1114111){n+=e(vc.OUT_OF_RANGE,n-1-o,t,r,u);continue}if(u>=55296&&u<=57343){n+=e(vc.UTF16_SURROGATE,n-1-o,t,r,u);continue}if(u<=s){n+=e(vc.OVERLONG,n-1-o,t,r,u);continue}r.push(u)}}return r}function as(t,e=wl.current){e!=wl.current&&(vge.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,$H.arrayify)(r)}function Prt(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Age(t,e){return Prt(Sge(t,e))}function YH(t,e=wl.current){return Sge(as(t,e))}function Yw(t){return Nn(as(t))}d();h();var Zw=qe(Jo());var Uge=qe(Na());d();h();var GP="hash/5.7.0";d();h();d();h();d();h();d();h();var ZH=qe(Jo());function QH(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,ZH.arrayify)(e)}function Rrt(t){t=(0,ZH.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}d();h();function _ge(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=function(o,s){n.call(o,function(u){s>0&&Array.isArray(u)?i(u,s-1):r.push(u)})};return i(t,e),r}function Crt(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}function Brt(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let V=1;V<n;V++)o.push(i+=r());let s=r(),u=e;e+=s;let l=0,m=0;function x(){return l==0&&(m=m<<8|t[e++],l=8),m>>--l&1}let w=31,E=Math.pow(2,w),I=E>>>1,M=I>>1,k=E-1,C=0;for(let V=0;V<w;V++)C=C<<1|x();let R=[],L=0,P=E;for(;;){let V=Math.floor(((C-L+1)*i-1)/P),j=0,ne=n;for(;ne-j>1;){let S=j+ne>>>1;V<o[S]?ne=S:j=S}if(j==0)break;R.push(j);let J=L+Math.floor(P*o[j]/i),oe=L+Math.floor(P*o[j+1]/i)-1;for(;!((J^oe)&I);)C=C<<1&k|x(),J=J<<1&k,oe=oe<<1&k|1;for(;J&~oe&M;)C=C&I|C<<1&k>>>1|x(),J=J<<1^I,oe=(oe^I)<<1|I|1;L=J,P=1+oe-J}let K=n-4;return R.map(V=>{switch(V-K){case 3:return K+65792+(t[u++]<<16|t[u++]<<8|t[u++]);case 2:return K+256+(t[u++]<<8|t[u++]);case 1:return K+t[u++];default:return V-1}})}function Ort(t){let e=0;return()=>t[e++]}function Tge(t){return Ort(Brt(t))}function Drt(t){return t&1?~t>>1:t>>1}function Nrt(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Ege(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Urt(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Drt(e());return r}function q6(t,e){let r=Ege(t(),t),n=t(),i=Ege(n,t),o=Nrt(n,t);for(let s=0;s<n;s++)for(let u=0;u<o[s];u++)r.push(i[s]+u);return e?r.map(s=>e[s]):r}function Ige(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Frt(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Krt(r,t))}return Crt(_ge(e))}function Lrt(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Mge(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Urt(t,r).forEach((o,s)=>n[s].push(o));return n}function Frt(t,e){let r=1+e(),n=e(),i=Lrt(e),o=Mge(i.length,1+t,e);return _ge(o.map((s,u)=>{let l=s[0],m=s.slice(1);return Array(i[u]).fill(void 0).map((x,w)=>{let E=w*n;return[l+w*r,m.map(I=>I+E)]})}))}function Krt(t,e){let r=1+e();return Mge(r,1+t,e).map(i=>[i[0],i.slice(1)])}function kge(t){let e=q6(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let m=q6(t,e);if(m.length==0)break;n.push({set:new Set(m),node:r()})}n.sort((m,x)=>x.set.size-m.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let u=i==1,l=i==2;return{branches:n,valid:o,fe0f:s,save:u,check:l}}}function Pge(){return Tge(QH("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var $P=Pge(),qrt=new Set(q6($P)),Vrt=new Set(q6($P)),Hrt=Ige($P),jrt=kge($P),Rge=45,Cge=95;function Bge(t){return YH(t)}function zrt(t){return t.filter(e=>e!=65039)}function Oge(t){for(let e of t.split(".")){let r=Bge(e);try{for(let n=r.lastIndexOf(Cge)-1;n>=0;n--)if(r[n]!==Cge)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Rge&&r[3]===Rge)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function Dge(t){return Oge(Wrt(t,zrt))}function Wrt(t,e){let r=Bge(t).reverse(),n=[];for(;r.length;){let i=$rt(r);if(i){n.push(...e(i));continue}let o=r.pop();if(qrt.has(o)){n.push(o);continue}if(Vrt.has(o))continue;let s=Hrt[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return Oge(Grt(String.fromCodePoint(...n)))}function Grt(t){return t.normalize("NFC")}function $rt(t,e){var r;let n=jrt,i,o,s=[],u=t.length;for(e&&(e.length=0);u;){let l=t[--u];if(n=(r=n.branches.find(m=>m.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=l;else if(n.check&&l===o)break;s.push(l),n.fe0f&&(s.push(65039),u>0&&t[u-1]==65039&&u--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(u).reverse()),t.length=u)}return i}var Yrt=new Uge.Logger(GP),Lge=new Uint8Array(32);Lge.fill(0);function Nge(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Fge(t){let e=as(Dge(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Nge(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Nge(e.slice(n))),r}function Zrt(t){typeof t!="string"&&Yrt.throwArgumentError("invalid ENS name; not a string","name",t);let e=Lge,r=Fge(t);for(;r.length;)e=Nn((0,Zw.concat)([e,Nn(r.pop())]));return(0,Zw.hexlify)(e)}function Qrt(t){return(0,Zw.hexlify)((0,Zw.concat)(Fge(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}d();h();var Kge=qe(Jo());var qge=`Ethereum Signed Message:
`;function JH(t){return typeof t=="string"&&(t=as(t)),Nn((0,Kge.concat)([as(qge),as(String(t.length)),t]))}d();h();var eo=qe(Jo());var zge=qe(Na());var Jrt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(x){try{m(n.next(x))}catch(w){s(w)}}function l(x){try{m(n.throw(x))}catch(w){s(w)}}function m(x){x.done?o(x.value):i(x.value).then(u,l)}m((n=n.apply(t,e||[])).next())})},Ui=new zge.Logger(GP),Wge=new Uint8Array(32);Wge.fill(0);var Xrt=Pn.from(-1),Gge=Pn.from(0),$ge=Pn.from(1),ent=Pn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function tnt(t){let e=(0,eo.arrayify)(t),r=e.length%32;return r?(0,eo.hexConcat)([e,Wge.slice(r)]):(0,eo.hexlify)(e)}var rnt=(0,eo.hexZeroPad)($ge.toHexString(),32),nnt=(0,eo.hexZeroPad)(Gge.toHexString(),32),Vge={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},XH=["name","version","chainId","verifyingContract","salt"];function Hge(t){return function(e){return typeof e!="string"&&Ui.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var int={name:Hge("name"),version:Hge("version"),chainId:function(t){try{return Pn.from(t).toString()}catch{}return Ui.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ws(t).toLowerCase()}catch{}return Ui.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{let e=(0,eo.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,eo.hexlify)(e)}catch{}return Ui.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function ej(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Ui.throwArgumentError("invalid numeric width","type",t);let i=ent.mask(r?n-1:n),o=r?i.add($ge).mul(Xrt):Gge;return function(s){let u=Pn.from(s);return(u.lt(o)||u.gt(i))&&Ui.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),(0,eo.hexZeroPad)(u.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Ui.throwArgumentError("invalid bytes width","type",t),function(n){return(0,eo.arrayify)(n).length!==r&&Ui.throwArgumentError(`invalid length for ${t}`,"value",n),tnt(n)}}}switch(t){case"address":return function(e){return(0,eo.hexZeroPad)(ws(e),32)};case"bool":return function(e){return e?rnt:nnt};case"bytes":return function(e){return Nn(e)};case"string":return function(e){return Yw(e)}}return null}function jge(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}var Qw=class t{constructor(e){qt(this,"types",Object.freeze(L6(e))),qt(this,"_encoderCache",{}),qt(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(u=>{r[u]={},n[u]=[],i[u]={}});for(let u in e){let l={};e[u].forEach(m=>{l[m.name]&&Ui.throwArgumentError(`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(u)}`,"types",e),l[m.name]=!0;let x=m.type.match(/^([^\x5b]*)(\x5b|$)/)[1];x===u&&Ui.throwArgumentError(`circular type reference to ${JSON.stringify(x)}`,"types",e),!ej(x)&&(n[x]||Ui.throwArgumentError(`unknown type ${JSON.stringify(x)}`,"types",e),n[x].push(u),r[u][x]=!0)})}let o=Object.keys(n).filter(u=>n[u].length===0);o.length===0?Ui.throwArgumentError("missing primary type","types",e):o.length>1&&Ui.throwArgumentError(`ambiguous primary types or unused types: ${o.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),qt(this,"primaryType",o[0]);function s(u,l){l[u]&&Ui.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),l[u]=!0,Object.keys(r[u]).forEach(m=>{n[m]&&(s(m,l),Object.keys(l).forEach(x=>{i[x][m]=!0}))}),delete l[u]}s(this.primaryType,{});for(let u in i){let l=Object.keys(i[u]);l.sort(),this._types[u]=jge(u,e[u])+l.map(m=>jge(m,e[m])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=ej(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return u=>{s>=0&&u.length!==s&&Ui.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",u);let l=u.map(o);return this._types[i]&&(l=l.map(Nn)),Nn((0,eo.hexConcat)(l))}}let n=this.types[e];if(n){let i=Yw(this._types[e]);return o=>{let s=n.map(({name:u,type:l})=>{let m=this.getEncoder(l)(o[u]);return this._types[l]?Nn(m):m});return s.unshift(i),(0,eo.hexConcat)(s)}}return Ui.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||Ui.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Nn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(ej(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let s=i[1],u=parseInt(i[3]);return u>=0&&r.length!==u&&Ui.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(s,l,n))}let o=this.types[e];return o?o.reduce((s,{name:u,type:l})=>(s[u]=this._visit(l,r[u],n),s),{}):Ui.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=Vge[n];i||Ui.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>XH.indexOf(n.name)-XH.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,eo.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return Nn(t.encode(e,r,n))}static resolveNames(e,r,n,i){return Jrt(this,void 0,void 0,function*(){e=F6(e);let o={};e.verifyingContract&&!(0,eo.isHexString)(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=t.from(r);s.visit(n,(u,l)=>(u==="address"&&!(0,eo.isHexString)(l,20)&&(o[l]="0x"),l));for(let u in o)o[u]=yield i(u);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(u,l)=>u==="address"&&o[l]?o[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},o=[];XH.forEach(l=>{let m=e[l];m!=null&&(i[l]=int[l](m),o.push({name:l,type:Vge[l]}))});let s=t.from(r),u=F6(r);return u.EIP712Domain?Ui.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):u.EIP712Domain=o,s.encode(n),{types:u,domain:i,primaryType:s.primaryType,message:s.visit(n,(l,m)=>{if(l.match(/^bytes(\d*)/))return(0,eo.hexlify)((0,eo.arrayify)(m));if(l.match(/^u?int/))return Pn.from(m).toString();switch(l){case"address":return m.toLowerCase();case"bool":return!!m;case"string":return typeof m!="string"&&Ui.throwArgumentError("invalid string","value",m),m}return Ui.throwArgumentError("unsupported type","type",l)})}}};d();h();d();h();var tj=qe(Jo());var YP=class{constructor(e){qt(this,"alphabet",e),qt(this,"base",e.length),qt(this,"_alphabetMap",{}),qt(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,tj.arrayify)(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let u=0;u<n.length;++u)s+=n[u]<<8,n[u]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,tj.arrayify)(new Uint8Array(r.reverse()))}},GJt=new YP("abcdefghijklmnopqrstuvwxyz234567"),rj=new YP("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var un=qe(Jo());d();h();d();h();var zm=qe(Jo()),oj=qe(ij());function Zb(t,e,r,n,i){t=(0,zm.arrayify)(t),e=(0,zm.arrayify)(e);let o,s=1,u=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let m,x;for(let w=1;w<=s;w++){l[e.length]=w>>24&255,l[e.length+1]=w>>16&255,l[e.length+2]=w>>8&255,l[e.length+3]=w&255;let E=(0,zm.arrayify)((0,oj.computeHmac)(i,t,l));o||(o=E.length,x=new Uint8Array(o),s=Math.ceil(n/o),m=n-(s-1)*o),x.set(E);for(let k=1;k<r;k++){E=(0,zm.arrayify)((0,oj.computeHmac)(i,t,E));for(let C=0;C<o;C++)x[C]^=E[C]}let I=(w-1)*o,M=w===s?m:o;u.set((0,zm.arrayify)(x).slice(0,M),I)}return(0,zm.hexlify)(u)}d();h();d();h();var rr=qe(Yg()),qd=qe(Wx());function Jw(t,e,r){return r={path:e,exports:{},require:function(n,i){return mnt(n,i??r.path)}},t(r,r.exports),r.exports}function mnt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var uj=Xge;function Xge(t,e){if(!t)throw new Error(e||"Assertion failed")}Xge.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Sl=Jw(function(t,e){"use strict";var r=e;function n(s,u){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var m=0;m<s.length;m++)l[m]=s[m]|0;return l}if(u==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var m=0;m<s.length;m+=2)l.push(parseInt(s[m]+s[m+1],16))}else for(var m=0;m<s.length;m++){var x=s.charCodeAt(m),w=x>>8,E=x&255;w?l.push(w,E):l.push(E)}return l}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var u="",l=0;l<s.length;l++)u+=i(s[l].toString(16));return u}r.toHex=o,r.encode=function(u,l){return l==="hex"?o(u):u}}),uu=Jw(function(t,e){"use strict";var r=e;r.assert=uj,r.toArray=Sl.toArray,r.zero2=Sl.zero2,r.toHex=Sl.toHex,r.encode=Sl.encode;function n(l,m,x){var w=new Array(Math.max(l.bitLength(),x)+1);w.fill(0);for(var E=1<<m+1,I=l.clone(),M=0;M<w.length;M++){var k,C=I.andln(E-1);I.isOdd()?(C>(E>>1)-1?k=(E>>1)-C:k=C,I.isubn(k)):k=0,w[M]=k,I.iushrn(1)}return w}r.getNAF=n;function i(l,m){var x=[[],[]];l=l.clone(),m=m.clone();for(var w=0,E=0,I;l.cmpn(-w)>0||m.cmpn(-E)>0;){var M=l.andln(3)+w&3,k=m.andln(3)+E&3;M===3&&(M=-1),k===3&&(k=-1);var C;M&1?(I=l.andln(7)+w&7,(I===3||I===5)&&k===2?C=-M:C=M):C=0,x[0].push(C);var R;k&1?(I=m.andln(7)+E&7,(I===3||I===5)&&M===2?R=-k:R=k):R=0,x[1].push(R),2*w===C+1&&(w=1-w),2*E===R+1&&(E=1-E),l.iushrn(1),m.iushrn(1)}return x}r.getJSF=i;function o(l,m,x){var w="_"+m;l.prototype[m]=function(){return this[w]!==void 0?this[w]:this[w]=x.call(this)}}r.cachedProperty=o;function s(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=s;function u(l){return new rr.default(l,"hex","le")}r.intFromLE=u}),e7=uu.getNAF,ynt=uu.getJSF,t7=uu.assert;function Gm(t,e){this.type=t,this.p=new rr.default(e.p,16),this.red=e.prime?rr.default.red(e.prime):rr.default.mont(this.p),this.zero=new rr.default(0).toRed(this.red),this.one=new rr.default(1).toRed(this.red),this.two=new rr.default(2).toRed(this.red),this.n=e.n&&new rr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Qb=Gm;Gm.prototype.point=function(){throw new Error("Not implemented")};Gm.prototype.validate=function(){throw new Error("Not implemented")};Gm.prototype._fixedNafMul=function(e,r){t7(e.precomputed);var n=e._getDoubles(),i=e7(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],u,l;for(u=0;u<i.length;u+=n.step){l=0;for(var m=u+n.step-1;m>=u;m--)l=(l<<1)+i[m];s.push(l)}for(var x=this.jpoint(null,null,null),w=this.jpoint(null,null,null),E=o;E>0;E--){for(u=0;u<s.length;u++)l=s[u],l===E?w=w.mixedAdd(n.points[u]):l===-E&&(w=w.mixedAdd(n.points[u].neg()));x=x.add(w)}return x.toP()};Gm.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=e7(r,n,this._bitLength),u=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var m=0;l>=0&&s[l]===0;l--)m++;if(l>=0&&m++,u=u.dblp(m),l<0)break;var x=s[l];t7(x!==0),e.type==="affine"?x>0?u=u.mixedAdd(o[x-1>>1]):u=u.mixedAdd(o[-x-1>>1].neg()):x>0?u=u.add(o[x-1>>1]):u=u.add(o[-x-1>>1].neg())}return e.type==="affine"?u.toP():u};Gm.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,u=this._wnafT2,l=this._wnafT3,m=0,x,w,E;for(x=0;x<i;x++){E=r[x];var I=E._getNAFPoints(e);s[x]=I.wnd,u[x]=I.points}for(x=i-1;x>=1;x-=2){var M=x-1,k=x;if(s[M]!==1||s[k]!==1){l[M]=e7(n[M],s[M],this._bitLength),l[k]=e7(n[k],s[k],this._bitLength),m=Math.max(l[M].length,m),m=Math.max(l[k].length,m);continue}var C=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(C[1]=r[M].add(r[k]),C[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(C[1]=r[M].toJ().mixedAdd(r[k]),C[2]=r[M].add(r[k].neg())):(C[1]=r[M].toJ().mixedAdd(r[k]),C[2]=r[M].toJ().mixedAdd(r[k].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],L=ynt(n[M],n[k]);for(m=Math.max(L[0].length,m),l[M]=new Array(m),l[k]=new Array(m),w=0;w<m;w++){var P=L[0][w]|0,K=L[1][w]|0;l[M][w]=R[(P+1)*3+(K+1)],l[k][w]=0,u[M]=C}}var V=this.jpoint(null,null,null),j=this._wnafT4;for(x=m;x>=0;x--){for(var ne=0;x>=0;){var J=!0;for(w=0;w<i;w++)j[w]=l[w][x]|0,j[w]!==0&&(J=!1);if(!J)break;ne++,x--}if(x>=0&&ne++,V=V.dblp(ne),x<0)break;for(w=0;w<i;w++){var oe=j[w];oe!==0&&(oe>0?E=u[w][oe-1>>1]:oe<0&&(E=u[w][-oe-1>>1].neg()),E.type==="affine"?V=V.mixedAdd(E):V=V.add(E))}}for(x=0;x<i;x++)u[x]=null;return o?V:V.toP()};function pf(t,e){this.curve=t,this.type=e,this.precomputed=null}Gm.BasePoint=pf;pf.prototype.eq=function(){throw new Error("Not implemented")};pf.prototype.validate=function(){return this.curve.validate(this)};Gm.prototype.decodePoint=function(e,r){e=uu.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?t7(e[e.length-1]%2===0):e[0]===7&&t7(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};pf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};pf.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};pf.prototype.encode=function(e,r){return uu.encode(this._encode(r),e)};pf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};pf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};pf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};pf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};pf.prototype._getBeta=function(){return null};pf.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var fj=Jw(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),gnt=uu.assert;function mf(t){Qb.call(this,"short",t),this.a=new rr.default(t.a,16).toRed(this.red),this.b=new rr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}fj(mf,Qb);var bnt=mf;mf.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new rr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new rr.default(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],gnt(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(u){return{a:new rr.default(u.a,16),b:new rr.default(u.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};mf.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:rr.default.mont(e),n=new rr.default(2).toRed(r).redInvm(),i=n.redNeg(),o=new rr.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),u=i.redSub(o).fromRed();return[s,u]};mf.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new rr.default(1),s=new rr.default(0),u=new rr.default(0),l=new rr.default(1),m,x,w,E,I,M,k,C=0,R,L;n.cmpn(0)!==0;){var P=i.div(n);R=i.sub(P.mul(n)),L=u.sub(P.mul(o));var K=l.sub(P.mul(s));if(!w&&R.cmp(r)<0)m=k.neg(),x=o,w=R.neg(),E=L;else if(w&&++C===2)break;k=R,i=n,n=R,u=o,o=L,l=s,s=K}I=R.neg(),M=L;var V=w.sqr().add(E.sqr()),j=I.sqr().add(M.sqr());return j.cmp(V)>=0&&(I=m,M=x),w.negative&&(w=w.neg(),E=E.neg()),I.negative&&(I=I.neg(),M=M.neg()),[{a:w,b:E},{a:I,b:M}]};mf.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),u=o.mul(n.a),l=s.mul(i.a),m=o.mul(n.b),x=s.mul(i.b),w=e.sub(u).sub(l),E=m.add(x).neg();return{k1:w,k2:E}};mf.prototype.pointFromX=function(e,r){e=new rr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};mf.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};mf.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var u=this._endoSplit(r[s]),l=e[s],m=l._getBeta();u.k1.negative&&(u.k1.ineg(),l=l.neg(!0)),u.k2.negative&&(u.k2.ineg(),m=m.neg(!0)),i[s*2]=l,i[s*2+1]=m,o[s*2]=u.k1,o[s*2+1]=u.k2}for(var x=this._wnafMulAdd(1,i,o,s*2,n),w=0;w<s*2;w++)i[w]=null,o[w]=null;return x};function cs(t,e,r,n){Qb.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}fj(cs,Qb.BasePoint);mf.prototype.point=function(e,r,n){return new cs(this,e,r,n)};mf.prototype.pointFromJSON=function(e,r){return cs.fromJSON(this,e,r)};cs.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};cs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};cs.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(u){return e.point(u[0],u[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};cs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};cs.prototype.isInfinity=function(){return this.inf};cs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};cs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),u=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)};cs.prototype.getX=function(){return this.x.fromRed()};cs.prototype.getY=function(){return this.y.fromRed()};cs.prototype.mul=function(e){return e=new rr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};cs.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};cs.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};cs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};cs.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};cs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ks(t,e,r,n){Qb.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rr.default(0)):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),this.z=new rr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}fj(ks,Qb.BasePoint);mf.prototype.jpoint=function(e,r,n){return new ks(this,e,r,n)};ks.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ks.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ks.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),m=s.redSub(u);if(l.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=l.redSqr(),w=x.redMul(l),E=i.redMul(x),I=m.redSqr().redIAdd(w).redISub(E).redISub(E),M=m.redMul(E.redISub(I)).redISub(s.redMul(w)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,M,k)};ks.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),u=n.redSub(i),l=o.redSub(s);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=u.redSqr(),x=m.redMul(u),w=n.redMul(m),E=l.redSqr().redIAdd(x).redISub(w).redISub(w),I=l.redMul(w.redISub(E)).redISub(o.redMul(x)),M=this.z.redMul(u);return this.curve.jpoint(E,I,M)};ks.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,u=this.y,l=this.z,m=l.redSqr().redSqr(),x=u.redAdd(u);for(r=0;r<e;r++){var w=s.redSqr(),E=x.redSqr(),I=E.redSqr(),M=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(m)),k=s.redMul(E),C=M.redSqr().redISub(k.redAdd(k)),R=k.redISub(C),L=M.redMul(R);L=L.redIAdd(L).redISub(I);var P=x.redMul(l);r+1<e&&(m=m.redMul(I)),s=C,l=P,x=L}return this.curve.jpoint(s,x.redMul(o),l)};ks.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ks.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i),m=l.redSqr().redISub(u).redISub(u),x=s.redIAdd(s);x=x.redIAdd(x),x=x.redIAdd(x),e=m,r=l.redMul(u.redISub(m)).redISub(x),n=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(w).redISub(I);M=M.redIAdd(M);var k=w.redAdd(w).redIAdd(w),C=k.redSqr(),R=I.redIAdd(I);R=R.redIAdd(R),R=R.redIAdd(R),e=C.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ks.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=l.redSqr().redISub(u).redISub(u);e=m;var x=s.redIAdd(s);x=x.redIAdd(x),x=x.redIAdd(x),r=l.redMul(u.redISub(m)).redISub(x),n=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),M=this.x.redSub(w).redMul(this.x.redAdd(w));M=M.redAdd(M).redIAdd(M);var k=I.redIAdd(I);k=k.redIAdd(k);var C=k.redAdd(k);e=M.redSqr().redISub(C),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(w);var R=E.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=M.redMul(k.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};ks.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),u=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),m=r.redAdd(r);m=m.redIAdd(m);var x=m.redMul(u),w=l.redSqr().redISub(x.redAdd(x)),E=x.redISub(w),I=u.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=l.redMul(E).redISub(I),k=n.redAdd(n).redMul(i);return this.curve.jpoint(w,M,k)};ks.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(s);var l=u.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var x=o.redIAdd(u).redSqr().redISub(s).redISub(l).redISub(m),w=r.redMul(x);w=w.redIAdd(w),w=w.redIAdd(w);var E=this.x.redMul(l).redISub(w);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(x.redMul(m.redISub(x)).redISub(u.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=this.z.redAdd(u).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,M)};ks.prototype.mul=function(e,r){return e=new rr.default(e,r),this.curve._wnafMul(this,e)};ks.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};ks.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};ks.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ks.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var JP=Jw(function(t,e){"use strict";var r=e;r.base=Qb,r.short=bnt,r.mont=null,r.edwards=null}),XP=Jw(function(t,e){"use strict";var r=e,n=uu.assert;function i(u){u.type==="short"?this.curve=new JP.short(u):u.type==="edwards"?this.curve=new JP.edwards(u):this.curve=new JP.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(u,l){Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){var m=new i(l);return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:m}),m}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:qd.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:qd.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:qd.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:qd.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:qd.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qd.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qd.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:qd.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Wm(t){if(!(this instanceof Wm))return new Wm(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Sl.toArray(t.entropy,t.entropyEnc||"hex"),r=Sl.toArray(t.nonce,t.nonceEnc||"hex"),n=Sl.toArray(t.pers,t.persEnc||"hex");uj(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ebe=Wm;Wm.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Wm.prototype._hmac=function(){return new qd.default.hmac(this.hash,this.K)};Wm.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Wm.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Sl.toArray(e,r),n=Sl.toArray(n,i),uj(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Wm.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Sl.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Sl.encode(s,r)};var cj=uu.assert;function da(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var lj=da;da.fromPublic=function(e,r,n){return r instanceof da?r:new da(e,{pub:r,pubEnc:n})};da.fromPrivate=function(e,r,n){return r instanceof da?r:new da(e,{priv:r,privEnc:n})};da.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};da.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};da.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};da.prototype._importPrivate=function(e,r){this.priv=new rr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};da.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?cj(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&cj(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};da.prototype.derive=function(e){return e.validate()||cj(e.validate(),"public point not validated"),e.mul(this.priv).getX()};da.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};da.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};da.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var vnt=uu.assert;function r7(t,e){if(t instanceof r7)return t;this._importDER(t,e)||(vnt(t.r&&t.s,"Signature without r or s"),this.r=new rr.default(t.r,16),this.s=new rr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var n7=r7;function xnt(){this.place=0}function sj(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Jge(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}r7.prototype._importDER=function(e,r){e=uu.toArray(e,r);var n=new xnt;if(e[n.place++]!==48)return!1;var i=sj(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=sj(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var u=sj(e,n);if(u===!1||e.length!==u+n.place)return!1;var l=e.slice(n.place,u+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new rr.default(s),this.s=new rr.default(l),this.recoveryParam=null,!0};function aj(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}r7.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Jge(r),n=Jge(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];aj(i,r.length),i=i.concat(r),i.push(2),aj(i,n.length);var o=i.concat(n),s=[48];return aj(s,o.length),s=s.concat(o),uu.encode(s,e)};var wnt=function(){throw new Error("unsupported")},tbe=uu.assert;function hf(t){if(!(this instanceof hf))return new hf(t);typeof t=="string"&&(tbe(Object.prototype.hasOwnProperty.call(XP,t),"Unknown curve "+t),t=XP[t]),t instanceof XP.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Snt=hf;hf.prototype.keyPair=function(e){return new lj(this,e)};hf.prototype.keyFromPrivate=function(e,r){return lj.fromPrivate(this,e,r)};hf.prototype.keyFromPublic=function(e,r){return lj.fromPublic(this,e,r)};hf.prototype.genKeyPair=function(e){e||(e={});for(var r=new ebe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||wnt(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new rr.default(2));;){var o=new rr.default(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};hf.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};hf.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new rr.default(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),u=e.toArray("be",o),l=new ebe({hash:this.hash,entropy:s,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),m=this.n.sub(new rr.default(1)),x=0;;x++){var w=i.k?i.k(x):new rr.default(l.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(m)>=0)){var E=this.g.mul(w);if(!E.isInfinity()){var I=E.getX(),M=I.umod(this.n);if(M.cmpn(0)!==0){var k=w.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var C=(E.getY().isOdd()?1:0)|(I.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),C^=1),new n7({r:M,s:k,recoveryParam:C})}}}}}};hf.prototype.verify=function(e,r,n,i){e=this._truncateToN(new rr.default(e,16)),n=this.keyFromPublic(n,i),r=new n7(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),l=u.mul(e).umod(this.n),m=u.mul(o).umod(this.n),x;return this.curve._maxwellTrick?(x=this.g.jmulAdd(l,n.getPublic(),m),x.isInfinity()?!1:x.eqXToP(o)):(x=this.g.mulAdd(l,n.getPublic(),m),x.isInfinity()?!1:x.getX().umod(this.n).cmp(o)===0)};hf.prototype.recoverPubKey=function(t,e,r,n){tbe((3&r)===r,"The recovery param is more than two bits"),e=new n7(e,n);var i=this.n,o=new rr.default(t),s=e.r,u=e.s,l=r&1,m=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var x=e.r.invm(i),w=i.sub(o).mul(x).umod(i),E=u.mul(x).umod(i);return this.g.mulAdd(w,s,E)};hf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new n7(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ant=Jw(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=uu,r.rand=function(){throw new Error("unsupported")},r.curve=JP,r.curves=XP,r.ec=Snt,r.eddsa=null}),rbe=Ant.ec;var pi=qe(Jo());var ibe=qe(Na());d();h();var nbe="signing-key/5.7.0";var hj=new ibe.Logger(nbe),dj=null;function Vd(){return dj||(dj=new rbe("secp256k1")),dj}var yf=class{constructor(e){qt(this,"curve","secp256k1"),qt(this,"privateKey",(0,pi.hexlify)(e)),(0,pi.hexDataLength)(this.privateKey)!==32&&hj.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Vd().keyFromPrivate((0,pi.arrayify)(this.privateKey));qt(this,"publicKey","0x"+r.getPublic(!1,"hex")),qt(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),qt(this,"_isSigningKey",!0)}_addPoint(e){let r=Vd().keyFromPublic((0,pi.arrayify)(this.publicKey)),n=Vd().keyFromPublic((0,pi.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Vd().keyFromPrivate((0,pi.arrayify)(this.privateKey)),n=(0,pi.arrayify)(e);n.length!==32&&hj.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,pi.splitSignature)({recoveryParam:i.recoveryParam,r:(0,pi.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,pi.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=Vd().keyFromPrivate((0,pi.arrayify)(this.privateKey)),n=Vd().keyFromPublic((0,pi.arrayify)(pj(e)));return(0,pi.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function obe(t,e){let r=(0,pi.splitSignature)(e),n={r:(0,pi.arrayify)(r.r),s:(0,pi.arrayify)(r.s)};return"0x"+Vd().recoverPubKey((0,pi.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}function pj(t,e){let r=(0,pi.arrayify)(t);if(r.length===32){let n=new yf(r);return e?"0x"+Vd().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,pi.hexlify)(r):"0x"+Vd().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Vd().keyFromPublic(r).getPublic(!0,"hex"):(0,pi.hexlify)(r)}return hj.throwArgumentError("invalid public or private key","key","[REDACTED]")}var xc=qe(ij());d();h();var tr=qe(Jo());var i7=qe(Na());d();h();var sbe="transactions/5.7.0";var pa=new i7.Logger(sbe),abe;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(abe||(abe={}));function yj(t){return t==="0x"?null:ws(t)}function ha(t){return t==="0x"?GH:Pn.from(t)}var Ent=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],_nt={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Hd(t){let e=pj(t);return ws((0,tr.hexDataSlice)(Nn((0,tr.hexDataSlice)(e,1)),12))}function gj(t,e){return Hd(obe((0,tr.arrayify)(t),e))}function fu(t,e){let r=(0,tr.stripZeros)(Pn.from(t).toHexString());return r.length>32&&pa.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function mj(t,e){return{address:ws(t),storageKeys:(e||[]).map((r,n)=>((0,tr.hexDataLength)(r)!==32&&pa.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function bj(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&pa.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),mj(r[0],r[1])):mj(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return mj(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function cbe(t){return bj(t).map(e=>[e.address,e.storageKeys])}function ube(t,e){if(t.gasPrice!=null){let n=Pn.from(t.gasPrice),i=Pn.from(t.maxFeePerGas||0);n.eq(i)||pa.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[fu(t.chainId||0,"chainId"),fu(t.nonce||0,"nonce"),fu(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fu(t.maxFeePerGas||0,"maxFeePerGas"),fu(t.gasLimit||0,"gasLimit"),t.to!=null?ws(t.to):"0x",fu(t.value||0,"value"),t.data||"0x",cbe(t.accessList||[])];if(e){let n=(0,tr.splitSignature)(e);r.push(fu(n.recoveryParam,"recoveryParam")),r.push((0,tr.stripZeros)(n.r)),r.push((0,tr.stripZeros)(n.s))}return(0,tr.hexConcat)(["0x02",lx(r)])}function fbe(t,e){let r=[fu(t.chainId||0,"chainId"),fu(t.nonce||0,"nonce"),fu(t.gasPrice||0,"gasPrice"),fu(t.gasLimit||0,"gasLimit"),t.to!=null?ws(t.to):"0x",fu(t.value||0,"value"),t.data||"0x",cbe(t.accessList||[])];if(e){let n=(0,tr.splitSignature)(e);r.push(fu(n.recoveryParam,"recoveryParam")),r.push((0,tr.stripZeros)(n.r)),r.push((0,tr.stripZeros)(n.s))}return(0,tr.hexConcat)(["0x01",lx(r)])}function Tnt(t,e){fge(t,_nt);let r=[];Ent.forEach(function(s){let u=t[s.name]||[],l={};s.numeric&&(l.hexPad="left"),u=(0,tr.arrayify)((0,tr.hexlify)(u,l)),s.length&&u.length!==s.length&&u.length>0&&pa.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,u),s.maxLength&&(u=(0,tr.stripZeros)(u),u.length>s.maxLength&&pa.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,u)),r.push((0,tr.hexlify)(u))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&pa.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,tr.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,tr.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return lx(r);let i=(0,tr.splitSignature)(e),o=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),o+=n*2+8,i.v>28&&i.v!==o&&pa.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&pa.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,tr.hexlify)(o)),r.push((0,tr.stripZeros)((0,tr.arrayify)(i.r))),r.push((0,tr.stripZeros)((0,tr.arrayify)(i.s))),lx(r)}function vj(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&pa.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Tnt(t,e);switch(t.type){case 1:return fbe(t,e);case 2:return ube(t,e);default:break}return pa.throwError(`unsupported transaction type: ${t.type}`,i7.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function lbe(t,e,r){try{let n=ha(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{pa.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,tr.hexZeroPad)(e[1],32),t.s=(0,tr.hexZeroPad)(e[2],32);try{let n=Nn(r(t));t.from=gj(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Int(t){let e=wT(t.slice(1));e.length!==9&&e.length!==12&&pa.throwArgumentError("invalid component count for transaction type: 2","payload",(0,tr.hexlify)(t));let r=ha(e[2]),n=ha(e[3]),i={type:2,chainId:ha(e[0]).toNumber(),nonce:ha(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ha(e[4]),to:yj(e[5]),value:ha(e[6]),data:e[7],accessList:bj(e[8])};return e.length===9||(i.hash=Nn(t),lbe(i,e.slice(9),ube)),i}function Mnt(t){let e=wT(t.slice(1));e.length!==8&&e.length!==11&&pa.throwArgumentError("invalid component count for transaction type: 1","payload",(0,tr.hexlify)(t));let r={type:1,chainId:ha(e[0]).toNumber(),nonce:ha(e[1]).toNumber(),gasPrice:ha(e[2]),gasLimit:ha(e[3]),to:yj(e[4]),value:ha(e[5]),data:e[6],accessList:bj(e[7])};return e.length===8||(r.hash=Nn(t),lbe(r,e.slice(8),fbe)),r}function knt(t){let e=wT(t);e.length!==9&&e.length!==6&&pa.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:ha(e[0]).toNumber(),gasPrice:ha(e[1]),gasLimit:ha(e[2]),to:yj(e[3]),value:ha(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Pn.from(e[6]).toNumber()}catch{return r}if(r.r=(0,tr.hexZeroPad)(e[7],32),r.s=(0,tr.hexZeroPad)(e[8],32),Pn.from(r.r).isZero()&&Pn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,tr.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let o=Nn(lx(i));try{r.from=gj(o,{r:(0,tr.hexlify)(r.r),s:(0,tr.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=Nn(t)}return r.type=null,r}function FXt(t){let e=(0,tr.arrayify)(t);if(e[0]>127)return knt(e);switch(e[0]){case 1:return Mnt(e);case 2:return Int(e);default:break}return pa.throwError(`unsupported transaction type: ${e[0]}`,i7.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}d();h();d();h();var hbe=qe(Na());d();h();var dbe="wordlists/5.7.0";var Pnt=!1,Rnt=new hbe.Logger(dbe),Xw=class t{constructor(e){Rnt.checkAbstract(new.target,t),qt(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Yw(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),Pnt)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||qt(n._ethers.wordlists,r,e))}catch{}}};d();h();d();h();var Cnt="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",z6=null;function pbe(t){if(z6==null&&(z6=Cnt.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Xw.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw z6=null,new Error("BIP39 Wordlist for en (English) FAILED")}var xj=class extends Xw{constructor(){super("en")}getWord(e){return pbe(this),z6[e]}getWordIndex(e){return pbe(this),z6.indexOf(e)}},wj=new xj;Xw.register(wj);var o7={en:wj};var gbe=qe(Na());d();h();var mbe="hdnode/5.7.0";var a7=new gbe.Logger(mbe),Bnt=Pn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ont=as("Bitcoin seed"),W6=2147483648;function bbe(t){return(1<<t)-1<<8-t}function Dnt(t){return(1<<t)-1}function s7(t){return(0,un.hexZeroPad)((0,un.hexlify)(t),32)}function ybe(t){return rj.encode((0,un.concat)([t,(0,un.hexDataSlice)((0,xc.sha256)((0,xc.sha256)(t)),0,4)]))}function Sj(t){if(t==null)return o7.en;if(typeof t=="string"){let e=o7[t];return e==null&&a7.throwArgumentError("unknown locale","wordlist",t),e}return t}var e2={},Jb="m/44'/60'/0'/0/0",$m=class t{constructor(e,r,n,i,o,s,u,l){if(e!==e2)throw new Error("HDNode constructor cannot be called directly");if(r){let m=new yf(r);qt(this,"privateKey",m.privateKey),qt(this,"publicKey",m.compressedPublicKey)}else qt(this,"privateKey",null),qt(this,"publicKey",(0,un.hexlify)(n));qt(this,"parentFingerprint",i),qt(this,"fingerprint",(0,un.hexDataSlice)((0,xc.ripemd160)((0,xc.sha256)(this.publicKey)),0,4)),qt(this,"address",Hd(this.publicKey)),qt(this,"chainCode",o),qt(this,"index",s),qt(this,"depth",u),l==null?(qt(this,"mnemonic",null),qt(this,"path",null)):typeof l=="string"?(qt(this,"mnemonic",null),qt(this,"path",l)):(qt(this,"mnemonic",l),qt(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return ybe((0,un.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,un.hexlify)(this.depth),this.parentFingerprint,(0,un.hexZeroPad)((0,un.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,un.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(e2,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~W6));let n=new Uint8Array(37);if(e&W6){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,un.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,un.arrayify)(this.publicKey));for(let w=24;w>=0;w-=8)n[33+(w>>3)]=e>>24-w&255;let i=(0,un.arrayify)((0,xc.computeHmac)(xc.SupportedAlgorithm.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32),u=null,l=null;this.privateKey?u=s7(Pn.from(o).add(this.privateKey).mod(Bnt)):l=new yf((0,un.hexlify)(o))._addPoint(this.publicKey);let m=r,x=this.mnemonic;return x&&(m=Object.freeze({phrase:x.phrase,path:r,locale:x.locale||"en"})),new t(e2,u,l,this.fingerprint,s7(s),e,this.depth+1,m)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let o=r[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));if(s>=W6)throw new Error("invalid path index - "+o);n=n._derive(W6+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);if(s>=W6)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,r){let n=(0,un.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,un.arrayify)((0,xc.computeHmac)(xc.SupportedAlgorithm.sha512,Ont,n));return new t(e2,s7(i.slice(0,32)),null,"0x00000000",s7(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=Sj(n),e=G6(Aj(e,n),n),t._fromSeed(Nnt(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=rj.decode(e);(r.length!==82||ybe(r.slice(0,78))!==e)&&a7.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,un.hexlify)(r.slice(5,9)),o=parseInt((0,un.hexlify)(r.slice(9,13)).substring(2),16),s=(0,un.hexlify)(r.slice(13,45)),u=r.slice(45,78);switch((0,un.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(e2,null,(0,un.hexlify)(u),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(u[0]!==0)break;return new t(e2,(0,un.hexlify)(u.slice(1)),null,i,s,o,n,null)}return a7.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function Nnt(t,e){e||(e="");let r=as("mnemonic"+e,wl.NFKD);return Zb(as(t,wl.NFKD),r,2048,64,"sha512")}function Aj(t,e){e=Sj(e),a7.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,un.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let m=0;m<r.length;m++){let x=e.getWordIndex(r[m].normalize("NFKD"));if(x===-1)throw new Error("invalid mnemonic");for(let w=0;w<11;w++)x&1<<10-w&&(n[i>>3]|=1<<7-i%8),i++}let o=32*r.length/3,s=r.length/3,u=bbe(s);if(((0,un.arrayify)((0,xc.sha256)(n.slice(0,o/8)))[0]&u)!==(n[n.length-1]&u))throw new Error("invalid checksum");return(0,un.hexlify)(n.slice(0,o/8))}function G6(t,e){if(e=Sj(e),t=(0,un.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&Dnt(8-n)),n+=3);let i=t.length/4,o=(0,un.arrayify)((0,xc.sha256)(t))[0]&bbe(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}d();h();d();h();var wbe=qe(Jo()),_j=qe(Na());d();h();var vbe="random/5.7.0";var Ej=new _j.Logger(vbe);function Unt(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}var xbe=Unt(),c7=xbe.crypto||xbe.msCrypto;(!c7||!c7.getRandomValues)&&(Ej.warn("WARNING: Missing strong random number source"),c7={getRandomValues:function(t){return Ej.throwError("no secure random source avaialble",_j.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ym(t){(t<=0||t>1024||t%1||t!=t)&&Ej.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return c7.getRandomValues(e),(0,wbe.arrayify)(e)}d();h();d();h();var Mj=qe(Ij());var kj=qe(Jo());var Ebe=qe(Na());d();h();var u7="json-wallets/5.7.0";d();h();var t2=qe(Jo());function S0(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,t2.arrayify)(t)}function r2(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function $6(t){return typeof t=="string"?as(t,wl.NFKC):(0,t2.arrayify)(t)}function Li(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(let s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(o===null)return null;r=o}return r}function Abe(t){let e=(0,t2.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,t2.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var Lnt=new Ebe.Logger(u7),Pj=class extends jm{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function Rj(t,e){let r=JSON.parse(t);e=$6(e);let n=ws(Li(r,"ethaddr")),i=S0(Li(r,"encseed"));(!i||i.length%16!==0)&&Lnt.throwArgumentError("invalid encseed","json",t);let o=(0,kj.arrayify)(Zb(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),u=i.slice(16),l=new Mj.default.ModeOfOperation.cbc(o,s),m=Mj.default.padding.pkcs7.strip((0,kj.arrayify)(l.decrypt(u))),x="";for(let I=0;I<m.length;I++)x+=String.fromCharCode(m[I]);let w=as(x),E=Nn(w);return new Pj({_isCrowdsaleAccount:!0,address:n,privateKey:E})}d();h();function Cj(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function Bj(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}d();h();var A0=qe(Ij()),l7=qe(Tbe());var Fi=qe(Jo());var f7=qe(Na());var Fnt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(x){try{m(n.next(x))}catch(w){s(w)}}function l(x){try{m(n.throw(x))}catch(w){s(w)}}function m(x){x.done?o(x.value):i(x.value).then(u,l)}m((n=n.apply(t,e||[])).next())})},Dj=new f7.Logger(u7);function Ibe(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var Nj=class extends jm{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function Knt(t,e,r){if(Li(t,"crypto/cipher")==="aes-128-ctr"){let i=S0(Li(t,"crypto/cipherparams/iv")),o=new A0.default.Counter(i),s=new A0.default.ModeOfOperation.ctr(e,o);return(0,Fi.arrayify)(s.decrypt(r))}return null}function Mbe(t,e){let r=S0(Li(t,"crypto/ciphertext"));if((0,Fi.hexlify)(Nn((0,Fi.concat)([e.slice(16,32),r]))).substring(2)!==Li(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=Knt(t,e.slice(0,16),r);i||Dj.throwError("unsupported cipher",f7.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let o=e.slice(32,64),s=Hd(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),ws(l)!==s)throw new Error("address mismatch")}let u={_isKeystoreAccount:!0,address:s,privateKey:(0,Fi.hexlify)(i)};if(Li(t,"x-ethers/version")==="0.1"){let l=S0(Li(t,"x-ethers/mnemonicCiphertext")),m=S0(Li(t,"x-ethers/mnemonicCounter")),x=new A0.default.Counter(m),w=new A0.default.ModeOfOperation.ctr(o,x),E=Li(t,"x-ethers/path")||Jb,I=Li(t,"x-ethers/locale")||"en",M=(0,Fi.arrayify)(w.decrypt(l));try{let k=G6(M,I),C=$m.fromMnemonic(k,null,I).derivePath(E);if(C.privateKey!=u.privateKey)throw new Error("mnemonic mismatch");u.mnemonic=C.mnemonic}catch(k){if(k.code!==f7.Logger.errors.INVALID_ARGUMENT||k.argument!=="wordlist")throw k}}return new Nj(u)}function kbe(t,e,r,n,i){return(0,Fi.arrayify)(Zb(t,e,r,n,i))}function qnt(t,e,r,n,i){return Promise.resolve(kbe(t,e,r,n,i))}function Pbe(t,e,r,n,i){let o=$6(e),s=Li(t,"crypto/kdf");if(s&&typeof s=="string"){let u=function(l,m){return Dj.throwArgumentError("invalid key-derivation function parameters",l,m)};if(s.toLowerCase()==="scrypt"){let l=S0(Li(t,"crypto/kdfparams/salt")),m=parseInt(Li(t,"crypto/kdfparams/n")),x=parseInt(Li(t,"crypto/kdfparams/r")),w=parseInt(Li(t,"crypto/kdfparams/p"));(!m||!x||!w)&&u("kdf",s),m&m-1&&u("N",m);let E=parseInt(Li(t,"crypto/kdfparams/dklen"));return E!==32&&u("dklen",E),n(o,l,m,x,w,64,i)}else if(s.toLowerCase()==="pbkdf2"){let l=S0(Li(t,"crypto/kdfparams/salt")),m=null,x=Li(t,"crypto/kdfparams/prf");x==="hmac-sha256"?m="sha256":x==="hmac-sha512"?m="sha512":u("prf",x);let w=parseInt(Li(t,"crypto/kdfparams/c")),E=parseInt(Li(t,"crypto/kdfparams/dklen"));return E!==32&&u("dklen",E),r(o,l,w,E,m)}}return Dj.throwArgumentError("unsupported key-derivation function","kdf",s)}function Rbe(t,e){let r=JSON.parse(t),n=Pbe(r,e,kbe,l7.default.syncScrypt);return Mbe(r,n)}function Cbe(t,e,r){return Fnt(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield Pbe(n,e,qnt,l7.default.scrypt,r);return Mbe(n,i)})}function Uj(t,e,r,n){try{if(ws(t.address)!==Hd(t.privateKey))throw new Error("address/privateKey mismatch");if(Ibe(t)){let C=t.mnemonic;if($m.fromMnemonic(C.phrase,null,C.locale).derivePath(C.path||Jb).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(C){return Promise.reject(C)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,Fi.arrayify)(t.privateKey),o=$6(e),s=null,u=null,l=null;if(Ibe(t)){let C=t.mnemonic;s=(0,Fi.arrayify)(Aj(C.phrase,C.locale||"en")),u=C.path||Jb,l=C.locale||"en"}let m=r.client;m||(m="ethers.js");let x=null;r.salt?x=(0,Fi.arrayify)(r.salt):x=Ym(32);let w=null;if(r.iv){if(w=(0,Fi.arrayify)(r.iv),w.length!==16)throw new Error("invalid iv")}else w=Ym(16);let E=null;if(r.uuid){if(E=(0,Fi.arrayify)(r.uuid),E.length!==16)throw new Error("invalid uuid")}else E=Ym(16);let I=1<<17,M=8,k=1;return r.scrypt&&(r.scrypt.N&&(I=r.scrypt.N),r.scrypt.r&&(M=r.scrypt.r),r.scrypt.p&&(k=r.scrypt.p)),l7.default.scrypt(o,x,I,M,k,64,n).then(C=>{C=(0,Fi.arrayify)(C);let R=C.slice(0,16),L=C.slice(16,32),P=C.slice(32,64),K=new A0.default.Counter(w),V=new A0.default.ModeOfOperation.ctr(R,K),j=(0,Fi.arrayify)(V.encrypt(i)),ne=Nn((0,Fi.concat)([L,j])),J={address:t.address.substring(2).toLowerCase(),id:Abe(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Fi.hexlify)(w).substring(2)},ciphertext:(0,Fi.hexlify)(j).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Fi.hexlify)(x).substring(2),n:I,dklen:32,p:k,r:M},mac:ne.substring(2)}};if(s){let oe=Ym(16),S=new A0.default.Counter(oe),a=new A0.default.ModeOfOperation.ctr(P,S),f=(0,Fi.arrayify)(a.encrypt(s)),p=new Date,y=p.getUTCFullYear()+"-"+r2(p.getUTCMonth()+1,2)+"-"+r2(p.getUTCDate(),2)+"T"+r2(p.getUTCHours(),2)+"-"+r2(p.getUTCMinutes(),2)+"-"+r2(p.getUTCSeconds(),2)+".0Z";J["x-ethers"]={client:m,gethFilename:"UTC--"+y+"--"+J.address,mnemonicCounter:(0,Fi.hexlify)(oe).substring(2),mnemonicCiphertext:(0,Fi.hexlify)(f).substring(2),path:u,locale:l,version:"0.1"}}return JSON.stringify(J)})}function Bbe(t,e,r){if(Cj(t)){r&&r(0);let n=Rj(t,e);return r&&r(1),Promise.resolve(n)}return Bj(t)?Cbe(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Obe(t,e){if(Cj(t))return Rj(t,e);if(Bj(t))return Rbe(t,e);throw new Error("invalid JSON wallet")}var Lj=qe(Na());d();h();var Dbe="wallet/5.7.0";var Nbe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(x){try{m(n.next(x))}catch(w){s(w)}}function l(x){try{m(n.throw(x))}catch(w){s(w)}}function m(x){x.done?o(x.value):i(x.value).then(u,l)}m((n=n.apply(t,e||[])).next())})},n2=new Lj.Logger(Dbe);function Vnt(t){return t!=null&&(0,Al.isHexString)(t.privateKey,32)&&t.address!=null}function Hnt(t){let e=t.mnemonic;return e&&e.phrase}var i2=class t extends K6{constructor(e,r){if(super(),Vnt(e)){let n=new yf(e.privateKey);if(qt(this,"_signingKey",()=>n),qt(this,"address",Hd(this.publicKey)),this.address!==ws(e.address)&&n2.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Hnt(e)){let i=e.mnemonic;qt(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Jb,locale:i.locale||"en"}));let o=this.mnemonic,s=$m.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);Hd(s.privateKey)!==this.address&&n2.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else qt(this,"_mnemonic",()=>null)}else{if(yf.isSigningKey(e))e.curve!=="secp256k1"&&n2.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),qt(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new yf(e);qt(this,"_signingKey",()=>n)}qt(this,"_mnemonic",()=>null),qt(this,"address",Hd(this.publicKey))}r&&!WP.isProvider(r)&&n2.throwArgumentError("invalid provider","provider",r),qt(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return w0(e).then(r=>{r.from!=null&&(ws(r.from)!==this.address&&n2.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(Nn(vj(r)));return vj(r,n)})}signMessage(e){return Nbe(this,void 0,void 0,function*(){return(0,Al.joinSignature)(this._signingKey().signDigest(JH(e)))})}_signTypedData(e,r,n){return Nbe(this,void 0,void 0,function*(){let i=yield Qw.resolveNames(e,r,n,o=>(this.provider==null&&n2.throwError("cannot resolve ENS names without a provider",Lj.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return(0,Al.joinSignature)(this._signingKey().signDigest(Qw.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),Uj(this,e,r,n)}static createRandom(e){let r=Ym(16);e||(e={}),e.extraEntropy&&(r=(0,Al.arrayify)((0,Al.hexDataSlice)(Nn((0,Al.concat)([r,e.extraEntropy])),0,16)));let n=G6(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Bbe(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(Obe(e,r))}static fromMnemonic(e,r,n){return r||(r=Jb),new t($m.fromMnemonic(e,null,n).derivePath(r))}};var d7=class{addressTypes=["eip155"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new i2(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new fa(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();b0.sha512Sync=(...t)=>au(b0.concatBytes(...t));var{getPublicKey:jnt}=bP,Fj=t=>{let e=jnt(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}};var h7=class{addressTypes=["solana"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new su.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new fa(o));try{let o=i.derivePathType(n,r);switch(n){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Root":case"bip44":case"bip44Change":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return{publicKey:o.publicKey,privateKey:o.secretKey};case"deprecated":{let s=Fj(o.secretKey);return{publicKey:s.publicKey,privateKey:s.secretKey}}}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();d();h();d();h();d();h();function znt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let m=0;m<e.length;m++)e[m]=255;for(let m=0;m<t.length;m++){let x=t.charAt(m),w=x.charCodeAt(0);if(e[w]!==255)throw new TypeError(x+" is ambiguous");e[w]=m}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";let x=0,w=0,E=0,I=m.length;for(;E!==I&&m[E]===0;)E++,x++;let M=(I-E)*o+1>>>0,k=new Uint8Array(M);for(;E!==I;){let L=m[E],P=0;for(let K=M-1;(L!==0||P<w)&&K!==-1;K--,P++)L+=256*k[K]>>>0,k[K]=L%r>>>0,L=L/r>>>0;if(L!==0)throw new Error("Non-zero carry");w=P,E++}let C=M-w;for(;C!==M&&k[C]===0;)C++;let R=n.repeat(x);for(;C<M;++C)R+=t.charAt(k[C]);return R}function u(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;let x=0,w=0,E=0;for(;m[x]===n;)w++,x++;let I=(m.length-x)*i+1>>>0,M=new Uint8Array(I);for(;m[x];){let L=e[m.charCodeAt(x)];if(L===255)return;let P=0;for(let K=I-1;(L!==0||P<E)&&K!==-1;K--,P++)L+=r*M[K]>>>0,M[K]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");E=P,x++}let k=I-E;for(;k!==I&&M[k]===0;)k++;let C=new Uint8Array(w+(I-k)),R=w;for(;k!==I;)C[R++]=M[k++];return C}function l(m){let x=u(m);if(x)return x;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:u,decode:l}}var Ube=znt;var Wnt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Kj=Ube(Wnt);var E0=t=>Kj.encode(t),jd=t=>Kj.decode(t);d();h();function yn(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var qj=8192;function fr(t){if(t.length<qj)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=qj){let n=t.slice(r,r+qj);e+=String.fromCharCode(...n)}return btoa(e)}d();h();d();h();function gf(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}function Ro(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}d();h();d();h();function o2(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function Lbe(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}var p7=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=Lbe(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};d();h();d();h();function Vj(t,e){switch(e){case"base58":return E0(t);case"base64":return fr(t);case"hex":return Ro(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function Y6(t,e=["<",">"]){let[r,n]=e,i=[],o="",s=0;for(let u=0;u<t.length;u++){let l=t[u];if(l===r&&s++,l===n&&s--,s===0&&l===","){i.push(o.trim()),o="";continue}o+=l}return i.push(o.trim()),i}var m7=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return Hj(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return Hj(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return Hj(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return o2(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return Vj(this.toBytes(),e)}};function Hj(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var Fbe=t=>{throw TypeError(t)},Kbe=(t,e,r)=>e.has(t)||Fbe("Cannot "+r),El=(t,e,r)=>(Kbe(t,e,"read from private field"),r?r.call(t):e.get(t)),g7=(t,e,r)=>e.has(t)?Fbe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),b7=(t,e,r,n)=>(Kbe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),s2,Z6,y7,Zm,Gnt=class qbe{constructor(e){g7(this,s2),g7(this,Z6),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),b7(this,s2,e.write),b7(this,Z6,e.serialize??((r,n)=>{let i=new m7({initialSize:this.serializedSize(r)??void 0,...n});return El(this,s2).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),El(this,s2).call(this,e,r)}serialize(e,r){return this.validate(e),new jj(this,El(this,Z6).call(this,e,r))}parse(e){let r=new p7(e);return this.read(r)}fromHex(e){return this.parse(gf(e))}fromBase58(e){return this.parse(jd(e))}fromBase64(e){return this.parse(yn(e))}transform({name:e,input:r,output:n,validate:i}){return new qbe({name:e??this.name,read:o=>n(this.read(o)),write:(o,s)=>El(this,s2).call(this,r(o),s),serializedSize:o=>this.serializedSize(r(o)),serialize:(o,s)=>El(this,Z6).call(this,r(o),s),validate:o=>{i?.(o),this.validate(r(o))}})}};s2=new WeakMap;Z6=new WeakMap;var zd=Gnt,$nt=Symbol.for("@mysten/serialized-bcs");var jj=class{constructor(e,r){g7(this,y7),g7(this,Zm),b7(this,y7,e),b7(this,Zm,r)}get[$nt](){return!0}toBytes(){return El(this,Zm)}toHex(){return Ro(El(this,Zm))}toBase64(){return fr(El(this,Zm))}toBase58(){return E0(El(this,Zm))}parse(){return El(this,y7).parse(El(this,Zm))}};y7=new WeakMap;Zm=new WeakMap;function Q6({size:t,...e}){return new zd({...e,serializedSize:()=>t})}function v7({readMethod:t,writeMethod:e,...r}){return Q6({...r,read:n=>n[t](),write:(n,i)=>i[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function x7({readMethod:t,writeMethod:e,...r}){return Q6({...r,read:n=>n[t](),write:(n,i)=>i[e](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function Vbe({serialize:t,...e}){let r=new zd({...e,serialize:t,write:(n,i)=>{for(let o of r.serialize(n).toBytes())i.write8(o)}});return r}function Hbe({toBytes:t,fromBytes:e,...r}){return new zd({...r,read:n=>{let i=n.readULEB(),o=n.readBytes(i);return e(o)},write:(n,i)=>{let o=t(n);i.writeULEB(o.length);for(let s=0;s<o.length;s++)i.write8(o[s])},serialize:n=>{let i=t(n),o=o2(i.length),s=new Uint8Array(o.length+i.length);return s.set(o,0),s.set(i,o.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function jbe(t){let e=null;function r(){return e||(e=t()),e}return new zd({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}d();h();var Y={u8(t){return v7({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return v7({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return v7({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return x7({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return x7({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return x7({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return Q6({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return Vbe({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(o2(e)),...t})},bytes(t,e){return Q6({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let i=new Uint8Array(r);for(let o=0;o<t;o++)n.write8(i[o]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return Hbe({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new zd({name:`${e.name}[${t}]`,read:n=>{let i=new Array(t);for(let o=0;o<t;o++)i[o]=e.read(n);return i},write:(n,i)=>{for(let o of n)e.write(o,i)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return Y.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new zd({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let o=0;o<n;o++)i[o]=t.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new zd({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<t.length;i++){let o=t[i].serializedSize(r[i]);if(o==null)return null;n+=o}return n},read:r=>{let n=[];for(let i of t)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new zd({name:t,serializedSize:i=>{let o=0;for(let[s,u]of n){let l=u.serializedSize(i[s]);if(l==null)return null;o+=l}return o},read:i=>{let o={};for(let[s,u]of n)o[s]=u.read(i);return o},write:(i,o)=>{for(let[s,u]of n)u.write(i[s],o)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(t,e,r){let n=Object.entries(e);return new zd({name:t,read:i=>{let o=i.readULEB(),s=n[o];if(!s)throw new TypeError(`Unknown value ${o} for enum ${t}`);let[u,l]=s;return{[u]:l?.read(i)??!0,$kind:u}},write:(i,o)=>{let[s,u]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[m,x]=n[l];if(m===s){o.writeULEB(l),x?.write(u,o);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let o=Object.keys(i).filter(u=>i[u]!==void 0&&Object.hasOwn(e,u));if(o.length!==1)throw new TypeError(`Expected object with one key, but found ${o.length} for type ${t}}`);let[s]=o;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return Y.vector(Y.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,o]of r)n.set(i,o);return n}})},lazy(t){return jbe(t)}};d();h();d();h();d();h();var Qm=32;function zbe(t){return Ynt(t)&&Znt(t)===Qm}function Wd(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Qm*2,"0")}`}function Ynt(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function Znt(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();h();var Qnt=/^vector<(.+)>$/,Jnt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,J6=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(Qnt);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(Jnt);if(i)return{struct:{address:r?Wd(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return Y6(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function Xnt(t){return Y.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function eit(t){return Y.enum("Option",{None:null,Some:t})}var mi=Y.bytes(Qm).transform({validate:t=>{let e=typeof t=="string"?t:Ro(t);if(!e||!zbe(Wd(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?gf(Wd(t)):t,output:t=>Wd(Ro(t))}),lu=Y.vector(Y.u8()).transform({name:"ObjectDigest",input:t=>jd(t),output:t=>E0(new Uint8Array(t)),validate:t=>{if(jd(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),wc=Y.struct("SuiObjectRef",{objectId:mi,version:Y.u64(),digest:lu}),zj=Y.struct("SharedObjectRef",{objectId:mi,initialSharedVersion:Y.u64(),mutable:Y.bool()}),Wj=Y.enum("ObjectArg",{ImmOrOwnedObject:wc,SharedObject:zj,Receiving:wc}),Gj=Y.enum("CallArg",{Pure:Y.struct("Pure",{bytes:Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))})}),Object:Wj}),$j=Y.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:Y.lazy(()=>$j),struct:Y.lazy(()=>ez),u16:null,u32:null,u256:null}),w7=$j.transform({input:t=>typeof t=="string"?J6.parseFromStr(t,!0):t,output:t=>J6.tagToString(t)}),_l=Y.enum("Argument",{GasCoin:null,Input:Y.u16(),Result:Y.u16(),NestedResult:Y.tuple([Y.u16(),Y.u16()])}),Yj=Y.struct("ProgrammableMoveCall",{package:mi,module:Y.string(),function:Y.string(),typeArguments:Y.vector(w7),arguments:Y.vector(_l)}),Zj=Y.enum("Command",{MoveCall:Yj,TransferObjects:Y.struct("TransferObjects",{objects:Y.vector(_l),address:_l}),SplitCoins:Y.struct("SplitCoins",{coin:_l,amounts:Y.vector(_l)}),MergeCoins:Y.struct("MergeCoins",{destination:_l,sources:Y.vector(_l)}),Publish:Y.struct("Publish",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))})),dependencies:Y.vector(mi)}),MakeMoveVec:Y.struct("MakeMoveVec",{type:eit(w7).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:Y.vector(_l)}),Upgrade:Y.struct("Upgrade",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))})),dependencies:Y.vector(mi),package:mi,ticket:_l})}),Qj=Y.struct("ProgrammableTransaction",{inputs:Y.vector(Gj),commands:Y.vector(Zj)}),Jj=Y.enum("TransactionKind",{ProgrammableTransaction:Qj,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),Xj=Y.enum("TransactionExpiration",{None:null,Epoch:Xnt()}),ez=Y.struct("StructTag",{address:mi,module:Y.string(),name:Y.string(),typeParams:Y.vector($j)}),tz=Y.struct("GasData",{payment:Y.vector(wc),owner:mi,price:Y.u64(),budget:Y.u64()}),rz=Y.struct("TransactionDataV1",{kind:Jj,sender:mi,gasData:tz,expiration:Xj}),nz=Y.enum("TransactionData",{V1:rz}),iz=Y.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),oz=Y.enum("IntentVersion",{V0:null}),sz=Y.enum("AppId",{Sui:null}),az=Y.struct("Intent",{scope:iz,version:oz,appId:sz});function cz(t){return Y.struct(`IntentMessage<${t.name}>`,{intent:az,value:t})}var uz=Y.enum("CompressedSignature",{ED25519:Y.fixedArray(64,Y.u8()),Secp256k1:Y.fixedArray(64,Y.u8()),Secp256r1:Y.fixedArray(64,Y.u8()),ZkLogin:Y.vector(Y.u8())}),fz=Y.enum("PublicKey",{ED25519:Y.fixedArray(32,Y.u8()),Secp256k1:Y.fixedArray(33,Y.u8()),Secp256r1:Y.fixedArray(33,Y.u8()),ZkLogin:Y.vector(Y.u8())}),lz=Y.struct("MultiSigPkMap",{pubKey:fz,weight:Y.u8()}),dz=Y.struct("MultiSigPublicKey",{pk_map:Y.vector(lz),threshold:Y.u16()}),Wbe=Y.struct("MultiSig",{sigs:Y.vector(uz),bitmap:Y.u16(),multisig_pk:dz}),tit=Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))}),hz=Y.struct("SenderSignedTransaction",{intentMessage:cz(nz),txSignatures:Y.vector(tit)}),Gbe=Y.vector(hz,{name:"SenderSignedData"});d();h();var rit=Y.enum("PackageUpgradeError",{UnableToFetchPackage:Y.struct("UnableToFetchPackage",{packageId:mi}),NotAPackage:Y.struct("NotAPackage",{objectId:mi}),IncompatibleUpgrade:null,DigestDoesNotMatch:Y.struct("DigestDoesNotMatch",{digest:Y.vector(Y.u8())}),UnknownUpgradePolicy:Y.struct("UnknownUpgradePolicy",{policy:Y.u8()}),PackageIDDoesNotMatch:Y.struct("PackageIDDoesNotMatch",{packageId:mi,ticketId:mi})}),nit=Y.struct("ModuleId",{address:mi,name:Y.string()}),$be=Y.struct("MoveLocation",{module:nit,function:Y.u16(),instruction:Y.u16(),functionName:Y.option(Y.string())}),iit=Y.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:Y.struct("IndexOutOfBounds",{idx:Y.u16()}),SecondaryIndexOutOfBounds:Y.struct("SecondaryIndexOutOfBounds",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidResultArity:Y.struct("InvalidResultArity",{resultIdx:Y.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),oit=Y.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),sit=Y.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:Y.struct("MoveObjectTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),MovePackageTooBig:Y.struct("MovePackageTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),CircularObjectOwnership:Y.struct("CircularObjectOwnership",{object:mi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:Y.option($be),MoveAbort:Y.tuple([$be,Y.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:Y.struct("CommandArgumentError",{argIdx:Y.u16(),kind:iit}),TypeArgumentError:Y.struct("TypeArgumentError",{argumentIdx:Y.u16(),kind:oit}),UnusedValueWithoutDrop:Y.struct("UnusedValueWithoutDrop",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidPublicFunctionReturnType:Y.struct("InvalidPublicFunctionReturnType",{idx:Y.u16()}),InvalidTransferObject:null,EffectsTooLarge:Y.struct("EffectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:Y.struct("PackageUpgradeError",{upgradeError:rit}),WrittenObjectsTooLarge:Y.struct("WrittenObjectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:Y.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:Y.vector(mi)}),AddressDeniedForCoin:Y.struct("AddressDeniedForCoin",{address:mi,coinType:Y.string()}),CoinTypeGlobalPause:Y.struct("CoinTypeGlobalPause",{coinType:Y.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),Ybe=Y.enum("ExecutionStatus",{Success:null,Failed:Y.struct("ExecutionFailed",{error:sit,command:Y.option(Y.u64())})}),Zbe=Y.struct("GasCostSummary",{computationCost:Y.u64(),storageCost:Y.u64(),storageRebate:Y.u64(),nonRefundableStorageFee:Y.u64()}),a2=Y.enum("Owner",{AddressOwner:mi,ObjectOwner:mi,Shared:Y.struct("Shared",{initialSharedVersion:Y.u64()}),Immutable:null}),ait=Y.struct("TransactionEffectsV1",{status:Ybe,executedEpoch:Y.u64(),gasUsed:Zbe,modifiedAtVersions:Y.vector(Y.tuple([mi,Y.u64()])),sharedObjects:Y.vector(wc),transactionDigest:lu,created:Y.vector(Y.tuple([wc,a2])),mutated:Y.vector(Y.tuple([wc,a2])),unwrapped:Y.vector(Y.tuple([wc,a2])),deleted:Y.vector(wc),unwrappedThenDeleted:Y.vector(wc),wrapped:Y.vector(wc),gasObject:Y.tuple([wc,a2]),eventsDigest:Y.option(lu),dependencies:Y.vector(lu)}),pz=Y.tuple([Y.u64(),lu]),cit=Y.enum("ObjectIn",{NotExist:null,Exist:Y.tuple([pz,a2])}),uit=Y.enum("ObjectOut",{NotExist:null,ObjectWrite:Y.tuple([lu,a2]),PackageWrite:pz}),fit=Y.enum("IDOperation",{None:null,Created:null,Deleted:null}),lit=Y.struct("EffectsObjectChange",{inputState:cit,outputState:uit,idOperation:fit}),dit=Y.enum("UnchangedSharedKind",{ReadOnlyRoot:pz,MutateDeleted:Y.u64(),ReadDeleted:Y.u64(),Cancelled:Y.u64(),PerEpochConfig:null}),hit=Y.struct("TransactionEffectsV2",{status:Ybe,executedEpoch:Y.u64(),gasUsed:Zbe,transactionDigest:lu,gasObjectIndex:Y.option(Y.u32()),eventsDigest:Y.option(lu),dependencies:Y.vector(lu),lamportVersion:Y.u64(),changedObjects:Y.vector(Y.tuple([mi,lit])),unchangedSharedObjects:Y.vector(Y.tuple([mi,dit])),auxDataDigest:Y.option(lu)}),Qbe=Y.enum("TransactionEffects",{V1:ait,V2:hit});var _0={...Y,U8:Y.u8(),U16:Y.u16(),U32:Y.u32(),U64:Y.u64(),U128:Y.u128(),U256:Y.u256(),ULEB128:Y.uleb128(),Bool:Y.bool(),String:Y.string(),Address:mi,AppId:sz,Argument:_l,CallArg:Gj,CompressedSignature:uz,GasData:tz,Intent:az,IntentMessage:cz,IntentScope:iz,IntentVersion:oz,MultiSig:Wbe,MultiSigPkMap:lz,MultiSigPublicKey:dz,ObjectArg:Wj,ObjectDigest:lu,ProgrammableMoveCall:Yj,ProgrammableTransaction:Qj,PublicKey:fz,SenderSignedData:Gbe,SenderSignedTransaction:hz,SharedObjectRef:zj,StructTag:ez,SuiObjectRef:wc,Command:Zj,TransactionData:nz,TransactionDataV1:rz,TransactionExpiration:Xj,TransactionKind:Jj,TypeTag:w7,TransactionEffects:Qbe};d();h();d();h();d();h();d();h();function c2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function pit(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function u2(t,...e){if(!pit(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Jbe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");c2(t.outputLen),c2(t.blockLen)}function T0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function S7(t,e){u2(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var f2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),A7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Xm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,e1e=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Tl=Xm?t=>t:t=>e1e(t);function Xb(t){for(let e=0;e<t.length;e++)t[e]=e1e(t[e])}var mit=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function E7(t){u2(t);let e="";for(let r=0;r<t.length;r++)e+=mit[t[r]];return e}var I0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Xbe(t){if(t>=I0._0&&t<=I0._9)return t-I0._0;if(t>=I0._A&&t<=I0._F)return t-(I0._A-10);if(t>=I0._a&&t<=I0._f)return t-(I0._a-10)}function t1e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Xbe(t.charCodeAt(o)),u=Xbe(t.charCodeAt(o+1));if(s===void 0||u===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+u}return n}function yit(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bf(t){return typeof t=="string"&&(t=yit(t)),u2(t),t}var Jm=class{clone(){return this._cloneInto()}},Wnr={}.toString;function r1e(t){let e=n=>t().update(bf(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function n1e(t){let e=(n,i)=>t(i).update(bf(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var i1e=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),_7=class extends Jm{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,c2(e),c2(r),c2(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=f2(this.buffer=new Uint8Array(e))}update(e){T0(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=bf(e);let o=e.length,s=e.byteOffset,u=e.buffer;for(let l=0;l<o;){this.pos===r&&(Xm||Xb(i),this.compress(i,0,!1),Xm||Xb(i),this.pos=0);let m=Math.min(r-this.pos,o-l),x=s+l;if(m===r&&!(x%4)&&l+m<o){let w=new Uint32Array(u,x,Math.floor((o-l)/4));Xm||Xb(w);for(let E=0;l+r<o;E+=i.length,l+=r)this.length+=r,this.compress(w,E,!1);Xm||Xb(w);continue}n.set(e.subarray(l,l+m),this.pos),this.pos+=m,this.length+=m,l+=m}return this}digestInto(e){T0(this),S7(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Xm||Xb(n),this.compress(n,0,!0),Xm||Xb(n);let i=f2(e);this.get().forEach((o,s)=>i[s]=Tl(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:u}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=u,e}};d();h();var T7=BigInt(4294967295),mz=BigInt(32);function o1e(t,e=!1){return e?{h:Number(t&T7),l:Number(t>>mz&T7)}:{h:Number(t>>mz&T7)|0,l:Number(t&T7)|0}}function git(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=o1e(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var bit=(t,e)=>BigInt(t>>>0)<<mz|BigInt(e>>>0),vit=(t,e,r)=>t>>>r,xit=(t,e,r)=>t<<32-r|e>>>r,wit=(t,e,r)=>t>>>r|e<<32-r,Sit=(t,e,r)=>t<<32-r|e>>>r,Ait=(t,e,r)=>t<<64-r|e>>>r-32,Eit=(t,e,r)=>t>>>r-32|e<<64-r,_it=(t,e)=>e,Tit=(t,e)=>t,Iit=(t,e,r)=>t<<r|e>>>32-r,Mit=(t,e,r)=>e<<r|t>>>32-r,kit=(t,e,r)=>e<<r-32|t>>>64-r,Pit=(t,e,r)=>t<<r-32|e>>>64-r;function Rit(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Cit=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Bit=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Oit=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Dit=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Nit=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Uit=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var Lit={fromBig:o1e,split:git,toBig:bit,shrSH:vit,shrSL:xit,rotrSH:wit,rotrSL:Sit,rotrBH:Ait,rotrBL:Eit,rotr32H:_it,rotr32L:Tit,rotlSH:Iit,rotlSL:Mit,rotlBH:kit,rotlBL:Pit,add:Rit,add3L:Cit,add3H:Bit,add4L:Oit,add4H:Dit,add5H:Uit,add5L:Nit},Ot=Lit;var Co=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),wt=new Uint32Array(32);function ey(t,e,r,n,i,o){let s=i[o],u=i[o+1],l=wt[2*t],m=wt[2*t+1],x=wt[2*e],w=wt[2*e+1],E=wt[2*r],I=wt[2*r+1],M=wt[2*n],k=wt[2*n+1],C=Ot.add3L(l,x,s);m=Ot.add3H(C,m,w,u),l=C|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Ot.rotr32H(k,M),Dl:Ot.rotr32L(k,M)},{h:I,l:E}=Ot.add(I,E,k,M),{Bh:w,Bl:x}={Bh:w^I,Bl:x^E},{Bh:w,Bl:x}={Bh:Ot.rotrSH(w,x,24),Bl:Ot.rotrSL(w,x,24)},wt[2*t]=l,wt[2*t+1]=m,wt[2*e]=x,wt[2*e+1]=w,wt[2*r]=E,wt[2*r+1]=I,wt[2*n]=M,wt[2*n+1]=k}function ty(t,e,r,n,i,o){let s=i[o],u=i[o+1],l=wt[2*t],m=wt[2*t+1],x=wt[2*e],w=wt[2*e+1],E=wt[2*r],I=wt[2*r+1],M=wt[2*n],k=wt[2*n+1],C=Ot.add3L(l,x,s);m=Ot.add3H(C,m,w,u),l=C|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Ot.rotrSH(k,M,16),Dl:Ot.rotrSL(k,M,16)},{h:I,l:E}=Ot.add(I,E,k,M),{Bh:w,Bl:x}={Bh:w^I,Bl:x^E},{Bh:w,Bl:x}={Bh:Ot.rotrBH(w,x,63),Bl:Ot.rotrBL(w,x,63)},wt[2*t]=l,wt[2*t+1]=m,wt[2*e]=x,wt[2*e+1]=w,wt[2*r]=E,wt[2*r+1]=I,wt[2*n]=M,wt[2*n+1]=k}var yz=class extends _7{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Co[0]|0,this.v0h=Co[1]|0,this.v1l=Co[2]|0,this.v1h=Co[3]|0,this.v2l=Co[4]|0,this.v2h=Co[5]|0,this.v3l=Co[6]|0,this.v3h=Co[7]|0,this.v4l=Co[8]|0,this.v4h=Co[9]|0,this.v5l=Co[10]|0,this.v5h=Co[11]|0,this.v6l=Co[12]|0,this.v6h=Co[13]|0,this.v7l=Co[14]|0,this.v7h=Co[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=f2(bf(e.salt));this.v4l^=Tl(n[0]),this.v4h^=Tl(n[1]),this.v5l^=Tl(n[2]),this.v5h^=Tl(n[3])}if(e.personalization){let n=f2(bf(e.personalization));this.v6l^=Tl(n[0]),this.v6h^=Tl(n[1]),this.v7l^=Tl(n[2]),this.v7h^=Tl(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(bf(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:u,v3h:l,v4l:m,v4h:x,v5l:w,v5h:E,v6l:I,v6h:M,v7l:k,v7h:C}=this;return[e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C]}set(e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=u|0,this.v3h=l|0,this.v4l=m|0,this.v4h=x|0,this.v5l=w|0,this.v5h=E|0,this.v6l=I|0,this.v6h=M|0,this.v7l=k|0,this.v7h=C|0}compress(e,r,n){this.get().forEach((l,m)=>wt[m]=l),wt.set(Co,16);let{h:i,l:o}=Ot.fromBig(BigInt(this.length));wt[24]=Co[8]^o,wt[25]=Co[9]^i,n&&(wt[28]=~wt[28],wt[29]=~wt[29]);let s=0,u=i1e;for(let l=0;l<12;l++)ey(0,4,8,12,e,r+2*u[s++]),ty(0,4,8,12,e,r+2*u[s++]),ey(1,5,9,13,e,r+2*u[s++]),ty(1,5,9,13,e,r+2*u[s++]),ey(2,6,10,14,e,r+2*u[s++]),ty(2,6,10,14,e,r+2*u[s++]),ey(3,7,11,15,e,r+2*u[s++]),ty(3,7,11,15,e,r+2*u[s++]),ey(0,5,10,15,e,r+2*u[s++]),ty(0,5,10,15,e,r+2*u[s++]),ey(1,6,11,12,e,r+2*u[s++]),ty(1,6,11,12,e,r+2*u[s++]),ey(2,7,8,13,e,r+2*u[s++]),ty(2,7,8,13,e,r+2*u[s++]),ey(3,4,9,14,e,r+2*u[s++]),ty(3,4,9,14,e,r+2*u[s++]);this.v0l^=wt[0]^wt[16],this.v0h^=wt[1]^wt[17],this.v1l^=wt[2]^wt[18],this.v1h^=wt[3]^wt[19],this.v2l^=wt[4]^wt[20],this.v2h^=wt[5]^wt[21],this.v3l^=wt[6]^wt[22],this.v3h^=wt[7]^wt[23],this.v4l^=wt[8]^wt[24],this.v4h^=wt[9]^wt[25],this.v5l^=wt[10]^wt[26],this.v5h^=wt[11]^wt[27],this.v6l^=wt[12]^wt[28],this.v6h^=wt[13]^wt[29],this.v7l^=wt[14]^wt[30],this.v7h^=wt[15]^wt[31],wt.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},e1=n1e(t=>new yz(t));d();h();d();h();function I7(t,e){return _0.IntentMessage(_0.fixedArray(e.length,_0.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}function gz(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var l2=class{equals(e){return gz(this.toRawBytes(),e.toRawBytes())}toBase64(){return fr(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return fr(e)}verifyWithIntent(e,r,n){let i=I7(n,e),o=e1(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(_0.vector(_0.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Wd(E7(e1(this.toSuiBytes(),{dkLen:32})).slice(0,Qm*2))}};d();h();var M0={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},s1e={ED25519:32,Secp256k1:33,Secp256r1:33},M7={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function a1e(t,e){if(!!!t)throw new Error(e)}d();h();var vz={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Fit=new Set(Object.keys(vz));function xz(t){let e=t?.kind;return typeof e=="string"&&Fit.has(e)}var bz;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(bz||(bz={}));d();h();var X6;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(X6||(X6={}));d();h();d();h();function wz(t){return t===9||t===32}function c1e(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,o=n.length>1&&n.slice(1).every(I=>I.length===0||wz(I.charCodeAt(0))),s=r.endsWith('\\"""'),u=t.endsWith('"')&&!s,l=t.endsWith("\\"),m=u||l,x=!(e!=null&&e.minimize)&&(!i||t.length>70||m||o||s),w="",E=i&&wz(t.charCodeAt(0));return(x&&!E||o)&&(w+=`
`),w+=r,(x||m)&&(w+=`
`),'"""'+w+'"""'}d();h();function u1e(t){return k7(t,[])}function k7(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Kit(t,e);default:return String(t)}}function Kit(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(qit(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:k7(n,r)}else if(Array.isArray(t))return Hit(t,r);return Vit(t,r)}function qit(t){return typeof t.toJSON=="function"}function Vit(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+jit(t)+"]":"{ "+r.map(([i,o])=>i+": "+k7(o,e)).join(", ")+" }"}function Hit(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let o=0;o<r;++o)i.push(k7(t[o],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function jit(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}d();h();d();h();function f1e(t){return`"${t.replace(zit,Wit)}"`}var zit=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Wit(t){return Git[t.charCodeAt(0)]}var Git=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];d();h();var l1e=Object.freeze({});function Sz(t,e,r=vz){let n=new Map;for(let R of Object.values(X6))n.set(R,d1e(e,R));let i,o=Array.isArray(t),s=[t],u=-1,l=[],m=t,x,w,E=[],I=[];do{u++;let R=u===s.length,L=R&&l.length!==0;if(R){if(x=I.length===0?void 0:E[E.length-1],m=w,w=I.pop(),L)if(o){m=m.slice();let K=0;for(let[V,j]of l){let ne=V-K;j===null?(m.splice(ne,1),K++):m[ne]=j}}else{m=Object.defineProperties({},Object.getOwnPropertyDescriptors(m));for(let[K,V]of l)m[K]=V}u=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(w){if(x=o?u:s[u],m=w[x],m==null)continue;E.push(x)}let P;if(!Array.isArray(m)){var M,k;xz(m)||a1e(!1,`Invalid AST Node: ${u1e(m)}.`);let K=R?(M=n.get(m.kind))===null||M===void 0?void 0:M.leave:(k=n.get(m.kind))===null||k===void 0?void 0:k.enter;if(P=K?.call(e,m,x,w,E,I),P===l1e)break;if(P===!1){if(!R){E.pop();continue}}else if(P!==void 0&&(l.push([x,P]),!R))if(xz(P))m=P;else{E.pop();continue}}if(P===void 0&&L&&l.push([x,m]),R)E.pop();else{var C;i={inArray:o,index:u,keys:s,edits:l,prev:i},o=Array.isArray(m),s=o?m:(C=r[m.kind])!==null&&C!==void 0?C:[],u=-1,l=[],w&&I.push(w),w=m}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function d1e(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function d2(t){return Sz(t,Yit)}var $it=80,Yit={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>It(t.definitions,`

`)},OperationDefinition:{leave(t){let e=Ur("(",It(t.variableDefinitions,", "),")"),r=It([t.operation,It([t.name,e]),It(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Ur(" = ",r)+Ur(" ",It(n," "))},SelectionSet:{leave:({selections:t})=>Il(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let o=Ur("",t,": ")+e,s=o+Ur("(",It(r,", "),")");return s.length>$it&&(s=o+Ur(`(
`,P7(It(r,`
`)),`
)`)),It([s,It(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Ur(" ",It(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>It(["...",Ur("on ",t),It(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${Ur("(",It(r,", "),")")} on ${e} ${Ur("",It(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?c1e(t):f1e(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+It(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+It(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Ur("(",It(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>Ur("",t,`
`)+It(["schema",It(e," "),Il(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>Ur("",t,`
`)+It(["scalar",e,It(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>Ur("",t,`
`)+It(["type",e,Ur("implements ",It(r," & ")),It(n," "),Il(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>Ur("",t,`
`)+e+(h1e(r)?Ur(`(
`,P7(It(r,`
`)),`
)`):Ur("(",It(r,", "),")"))+": "+n+Ur(" ",It(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>Ur("",t,`
`)+It([e+": "+r,Ur("= ",n),It(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>Ur("",t,`
`)+It(["interface",e,Ur("implements ",It(r," & ")),It(n," "),Il(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>Ur("",t,`
`)+It(["union",e,It(r," "),Ur("= ",It(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>Ur("",t,`
`)+It(["enum",e,It(r," "),Il(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>Ur("",t,`
`)+It([e,It(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>Ur("",t,`
`)+It(["input",e,It(r," "),Il(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>Ur("",t,`
`)+"directive @"+e+(h1e(r)?Ur(`(
`,P7(It(r,`
`)),`
)`):Ur("(",It(r,", "),")"))+(n?" repeatable":"")+" on "+It(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>It(["extend schema",It(t," "),Il(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>It(["extend scalar",t,It(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>It(["extend type",t,Ur("implements ",It(e," & ")),It(r," "),Il(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>It(["extend interface",t,Ur("implements ",It(e," & ")),It(r," "),Il(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>It(["extend union",t,It(e," "),Ur("= ",It(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>It(["extend enum",t,It(e," "),Il(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>It(["extend input",t,It(e," "),Il(r)]," ")}};function It(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function Il(t){return Ur(`{
`,P7(It(t,`
`)),`
}`)}function Ur(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function P7(t){return Ur("  ",t.replace(/\n/g,`
  `))}function h1e(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}d();h();var p1e=t=>{throw TypeError(t)},m1e=(t,e,r)=>e.has(t)||p1e("Cannot "+r),R7=(t,e,r)=>(m1e(t,e,"read from private field"),r?r.call(t):e.get(t)),C7=(t,e,r)=>e.has(t)?p1e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),B7=(t,e,r,n)=>(m1e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),O7,D7,N7,U7,Az=class extends Error{},L7=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){C7(this,O7),C7(this,D7),C7(this,N7),C7(this,U7),B7(this,O7,e),B7(this,D7,i),B7(this,N7,n),B7(this,U7,(...o)=>r(...o))}async query(e){let r=await R7(this,U7).call(this,R7(this,O7),{method:"POST",headers:{"Content-Type":"application/json",...R7(this,N7)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):d2(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new Az(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:R7(this,D7)[e]})}};O7=new WeakMap;D7=new WeakMap;N7=new WeakMap;U7=new WeakMap;d();h();d();h();d();h();var e_={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var Tz=class extends Error{constructor(e,r,n,i,o,s,u){super(e),this.name="GraphQLError",this.message=e,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=u;if(!l&&s){var m=s.extensions;m&&typeof m=="object"&&(l=m)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},gn,Ft;function uo(t){return new Tz(`Syntax Error: Unexpected token at ${Ft} in ${t}`)}function du(t){if(t.lastIndex=Ft,t.test(gn))return gn.slice(Ft,Ft=t.lastIndex)}var F7=/ +(?=[^\s])/y;function Zit(t){for(var e=t.split(`
`),r="",n=0,i=0,o=e.length-1,s=0;s<e.length;s++)F7.lastIndex=0,F7.test(e[s])&&(s&&(!n||F7.lastIndex<n)&&(n=F7.lastIndex),i=i||s,o=s);for(var u=i;u<=o;u++)u!==i&&(r+=`
`),r+=e[u].slice(n).replace(/\\"""/g,'"""');return r}function sr(){for(var t=0|gn.charCodeAt(Ft++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|gn.charCodeAt(Ft++))if(t===35)for(;(t=gn.charCodeAt(Ft++))!==10&&t!==13;);Ft--}var Va=/[_A-Za-z]\w*/y,Ez=new RegExp("(?:(null|true|false)|\\$("+Va.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+Va.source+"))","y"),ry=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(ry||{}),Qit=/\\/;function K7(t){var e,r;if(Ez.lastIndex=Ft,gn.charCodeAt(Ft)===91){Ft++,sr();for(var n=[];gn.charCodeAt(Ft)!==93;)n.push(K7(t));return Ft++,sr(),{kind:"ListValue",values:n}}else if(gn.charCodeAt(Ft)===123){Ft++,sr();for(var i=[];gn.charCodeAt(Ft)!==125;){if((e=du(Va))==null||(sr(),gn.charCodeAt(Ft++)!==58))throw uo("ObjectField");sr(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:K7(t)})}return Ft++,sr(),{kind:"ObjectValue",fields:i}}else if((r=Ez.exec(gn))!=null){if(Ft=Ez.lastIndex,sr(),(e=r[ry.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[ry.Var])!=null){if(t)throw uo("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[ry.Int])!=null){var o;return(o=r[ry.Float])!=null?{kind:"FloatValue",value:e+o}:{kind:"IntValue",value:e}}else{if((e=r[ry.BlockString])!=null)return{kind:"StringValue",value:Zit(e.slice(3,-3)),block:!0};if((e=r[ry.String])!=null)return{kind:"StringValue",value:Qit.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[ry.Enum])!=null)return{kind:"EnumValue",value:e}}}throw uo("Value")}function y1e(t){if(gn.charCodeAt(Ft)===40){var e=[];Ft++,sr();var r;do{if((r=du(Va))==null||(sr(),gn.charCodeAt(Ft++)!==58))throw uo("Argument");sr(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:K7(t)})}while(gn.charCodeAt(Ft)!==41);return Ft++,sr(),e}}function h2(t){if(gn.charCodeAt(Ft)===64){var e=[],r;do{if(Ft++,(r=du(Va))==null)throw uo("Directive");sr(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:y1e(t)})}while(gn.charCodeAt(Ft)===64);return e}}function Jit(){for(var t,e=0;gn.charCodeAt(Ft)===91;)e++,Ft++,sr();if((t=du(Va))==null)throw uo("NamedType");sr();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(gn.charCodeAt(Ft)===33&&(Ft++,sr(),r={kind:"NonNullType",type:r}),e){if(gn.charCodeAt(Ft++)!==93)throw uo("NamedType");sr(),r={kind:"ListType",type:r}}while(e--);return r}var _z=new RegExp("(?:(\\.{3})|("+Va.source+"))","y"),Iz=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(Iz||{});function q7(){var t=[],e,r;do if(_z.lastIndex=Ft,(r=_z.exec(gn))!=null){if(Ft=_z.lastIndex,r[Iz.Spread]!=null){sr();var n=du(Va);if(n!=null&&n!=="on")sr(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:h2(!1)});else{if(sr(),n==="on"){if((n=du(Va))==null)throw uo("NamedType");sr()}var i=h2(!1);if(gn.charCodeAt(Ft++)!==123)throw uo("InlineFragment");sr(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:q7()})}}else if((e=r[Iz.Name])!=null){var o=void 0;if(sr(),gn.charCodeAt(Ft)===58){if(Ft++,sr(),o=e,(e=du(Va))==null)throw uo("Field");sr()}var s=y1e(!1);sr();var u=h2(!1),l=void 0;gn.charCodeAt(Ft)===123&&(Ft++,sr(),l=q7()),t.push({kind:"Field",alias:o?{kind:"Name",value:o}:void 0,name:{kind:"Name",value:e},arguments:s,directives:u,selectionSet:l})}}else throw uo("SelectionSet");while(gn.charCodeAt(Ft)!==125);return Ft++,sr(),{kind:"SelectionSet",selections:t}}function Xit(){var t,e;if((t=du(Va))==null||(sr(),du(Va)!=="on")||(sr(),(e=du(Va))==null))throw uo("FragmentDefinition");sr();var r=h2(!1);if(gn.charCodeAt(Ft++)!==123)throw uo("FragmentDefinition");return sr(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:q7()}}var eot=/(?:query|mutation|subscription|fragment)/y;function tot(t){var e,r,n;if(t&&(sr(),e=du(Va),r=function(){if(sr(),gn.charCodeAt(Ft)===40){var o=[];Ft++,sr();var s;do{if(gn.charCodeAt(Ft++)!==36||(s=du(Va))==null)throw uo("Variable");if(sr(),gn.charCodeAt(Ft++)!==58)throw uo("VariableDefinition");sr();var u=Jit(),l=void 0;gn.charCodeAt(Ft)===61&&(Ft++,sr(),l=K7(!0)),sr(),o.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s}},type:u,defaultValue:l,directives:h2(!0)})}while(gn.charCodeAt(Ft)!==41);return Ft++,sr(),o}}(),n=h2(!1)),gn.charCodeAt(Ft)===123)return Ft++,sr(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:q7()}}function g1e(t,e){return Ft=0,function(n,i){var o,s;sr();var u=[];do if((o=du(eot))==="fragment")sr(),u.push(Xit());else if((s=tot(o))!=null)u.push(s);else throw uo("Document");while(Ft<n.length);if(!i){var l;return{kind:"Document",definitions:u,set loc(m){l=m},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:u}}(gn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}var b1e=0,Mz=new Set;function t_(){function t(e,r){var n=g1e(e).definitions,i=new Set;for(var o of r||[])for(var s of o.definitions)s.kind===e_.FRAGMENT_DEFINITION&&!i.has(s)&&(n.push(s),i.add(s));var u;(u=n[0].kind===e_.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(m=>m.name.value!=="_unmask"));var l;return{kind:e_.DOCUMENT,definitions:n,get loc(){if(!l&&u){var m=e+function(w){try{b1e++;var E="";for(var I of w)if(!Mz.has(I)){Mz.add(I);var{loc:M}=I;M&&(E+=M.source.body)}return E}finally{--b1e==0&&Mz.clear()}}(r||[]);return{start:0,end:m.length,source:{body:m,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(m){l=m}}}return t.scalar=function(r,n){return n},t.persisted=function(r,n){return{kind:e_.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},t}var Yor=t_();var v1e=t_();d();h();function rot(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function not(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=rot(n);e=e.concat(i)}return e}function iot(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=not(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let u=0;u<r.length;u+=8){let l=r.slice(u,u+8),m=parseInt(l.join(""),2);o[s++]=m}return new TextDecoder().decode(o)}function oot(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function x1e(t,e){let r=iot(t.value,t.indexMod4),[n,i]=oot(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}d();h();d();h();var w1e=Y.struct("ZkLoginSignature",{inputs:Y.struct("ZkLoginSignatureInputs",{proofPoints:Y.struct("ZkLoginSignatureInputsProofPoints",{a:Y.vector(Y.string()),b:Y.vector(Y.vector(Y.string())),c:Y.vector(Y.string())}),issBase64Details:Y.struct("ZkLoginSignatureInputsClaim",{value:Y.string(),indexMod4:Y.u8()}),headerBase64:Y.string(),addressSeed:Y.string()}),maxEpoch:Y.u64(),userSignature:Y.vector(Y.u8())});function S1e(t){return w1e.parse(typeof t=="string"?yn(t):t)}d();h();function sot(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function V7(t,e){let r=t.toString(16);return t1e(r.padStart(e*2,"0").slice(-e*2))}function kz(t,e){let r=V7(t,e),n=sot(r);return n===-1?new Uint8Array([0]):r.slice(n)}var _1e=t=>{throw TypeError(t)},T1e=(t,e,r)=>e.has(t)||_1e("Cannot "+r),k0=(t,e,r)=>(T1e(t,e,"read from private field"),r?r.call(t):e.get(t)),Pz=(t,e,r)=>e.has(t)?_1e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),p2=(t,e,r,n)=>(T1e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ml,r_,n_,aot=class Rz extends l2{constructor(e,{client:r}={}){super(),Pz(this,Ml),Pz(this,r_),Pz(this,n_),p2(this,r_,r),typeof e=="string"?p2(this,Ml,yn(e)):e instanceof Uint8Array?p2(this,Ml,e):p2(this,Ml,Uint8Array.from(e)),p2(this,n_,k0(this,Ml).length!==k0(this,Ml)[0]+1+32),k0(this,n_)&&p2(this,Ml,A1e(k0(this,Ml)))}equals(e){return super.equals(e)}toSuiAddress(){if(k0(this,n_)){let e=A1e(k0(this,Ml),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Wd(E7(e1(r,{dkLen:32})).slice(0,Qm*2))}return super.toSuiAddress()}toRawBytes(){return k0(this,Ml)}flag(){return M0.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=H7(r),i=new Rz(n.publicKey).toSuiAddress();return E1e({address:i,bytes:fr(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:k0(this,r_)})}verifyTransaction(e,r){let n=H7(r),i=new Rz(n.publicKey).toSuiAddress();return E1e({address:i,bytes:fr(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:k0(this,r_)})}};Ml=new WeakMap;r_=new WeakMap;n_=new WeakMap;var cot=aot;function uot(t,e,r){let n=r?.legacyAddress?kz(t,32):V7(t,32),i=new TextEncoder().encode(e),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new cot(o,r)}var fot=v1e(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function A1e(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Ro(t.slice(r))}`),i=e?kz(n,32):V7(n,32),o=new Uint8Array(r+i.length);return o.set(t.slice(0,r),0),o.set(i,r),o}async function E1e({address:t,bytes:e,signature:r,intentScope:n,client:i=new L7({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:fot,variables:{bytes:e,signature:r,intentScope:n,author:t}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function H7(t){let e=typeof t=="string"?yn(t):t;if(e[0]!==M0.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=S1e(r),{issBase64Details:s,addressSeed:u}=n,l=x1e(s,"iss"),m=uot(BigInt(u),l);return{serializedSignature:fr(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:l,addressSeed:BigInt(u)},signature:e,publicKey:m.toRawBytes()}}function I1e({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([M0[e]]),i.set(t,1),i.set(n,1+t.length),fr(i)}function M1e(t){let e=yn(t),r=M7[e[0]];switch(r){case"MultiSig":let n=_0.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return H7(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=s1e[r],o=e.slice(1,e.length-i),s=e.slice(1+o.length);return{serializedSignature:t,signatureScheme:r,signature:o,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}d();h();d();h();d();h();function m2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function lot(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function i_(t,...e){if(!lot(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function j7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");m2(t.outputLen),m2(t.blockLen)}function y2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function k1e(t,e){i_(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}d();h();d();h();d();h();var b2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function dot(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ny(t){return typeof t=="string"&&(t=dot(t)),i_(t),t}var g2=class{clone(){return this._cloneInto()}};function P1e(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function R1e(t){let e=n=>t().update(ny(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var z7=class extends g2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,j7(e);let n=ny(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return y2(this),this.iHash.update(e),this}digestInto(e){y2(this),i_(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Cz=(t,e,r)=>new z7(t,e).update(r).digest();Cz.create=(t,e)=>new z7(t,e);function hot(t,e,r,n){j7(t);let i=P1e({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:u}=i;if(m2(o),m2(s),m2(u),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=ny(e),m=ny(r),x=new Uint8Array(s),w=Cz.create(t,l),E=w._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:u,DK:x,PRF:w,PRFSalt:E}}function pot(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function C1e(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:u,PRFSalt:l}=hot(t,e,r,n),m,x=new Uint8Array(4),w=b2(x),E=new Uint8Array(u.outputLen);for(let I=1,M=0;M<o;I++,M+=u.outputLen){let k=s.subarray(M,M+u.outputLen);w.setInt32(0,I,!1),(m=l._cloneInto(m)).update(x).digestInto(E),k.set(E.subarray(0,k.length));for(let C=1;C<i;C++){u._cloneInto(m).update(E).digestInto(E);for(let R=0;R<k.length;R++)k[R]^=E[R]}}return pot(u,l,s,m,E)}d();h();function mot(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var W7=class extends g2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=b2(this.buffer)}update(e){y2(this);let{view:r,buffer:n,blockLen:i}=this;e=ny(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=b2(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){y2(this),k1e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;mot(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=b2(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();d();h();var G7=BigInt(4294967295),Bz=BigInt(32);function B1e(t,e=!1){return e?{h:Number(t&G7),l:Number(t>>Bz&G7)}:{h:Number(t>>Bz&G7)|0,l:Number(t&G7)|0}}function yot(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=B1e(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var got=(t,e)=>BigInt(t>>>0)<<Bz|BigInt(e>>>0),bot=(t,e,r)=>t>>>r,vot=(t,e,r)=>t<<32-r|e>>>r,xot=(t,e,r)=>t>>>r|e<<32-r,wot=(t,e,r)=>t<<32-r|e>>>r,Sot=(t,e,r)=>t<<64-r|e>>>r-32,Aot=(t,e,r)=>t>>>r-32|e<<64-r,Eot=(t,e)=>e,_ot=(t,e)=>t,Tot=(t,e,r)=>t<<r|e>>>32-r,Iot=(t,e,r)=>e<<r|t>>>32-r,Mot=(t,e,r)=>e<<r-32|t>>>64-r,kot=(t,e,r)=>t<<r-32|e>>>64-r;function Pot(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Rot=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Cot=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Bot=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Oot=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Dot=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Not=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var Uot={fromBig:B1e,split:yot,toBig:got,shrSH:bot,shrSL:vot,rotrSH:xot,rotrSL:wot,rotrBH:Sot,rotrBL:Aot,rotr32H:Eot,rotr32L:_ot,rotlSH:Tot,rotlSL:Iot,rotlBH:Mot,rotlBL:kot,add:Pot,add3L:Rot,add3H:Cot,add4L:Bot,add4H:Oot,add5H:Not,add5L:Dot},lr=Uot;var[Lot,Fot]=lr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),iy=new Uint32Array(80),oy=new Uint32Array(80),Oz=class extends W7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:u,Dl:l,Eh:m,El:x,Fh:w,Fl:E,Gh:I,Gl:M,Hh:k,Hl:C}=this;return[e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C]}set(e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=u|0,this.Dl=l|0,this.Eh=m|0,this.El=x|0,this.Fh=w|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=C|0}process(e,r){for(let P=0;P<16;P++,r+=4)iy[P]=e.getUint32(r),oy[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let K=iy[P-15]|0,V=oy[P-15]|0,j=lr.rotrSH(K,V,1)^lr.rotrSH(K,V,8)^lr.shrSH(K,V,7),ne=lr.rotrSL(K,V,1)^lr.rotrSL(K,V,8)^lr.shrSL(K,V,7),J=iy[P-2]|0,oe=oy[P-2]|0,S=lr.rotrSH(J,oe,19)^lr.rotrBH(J,oe,61)^lr.shrSH(J,oe,6),a=lr.rotrSL(J,oe,19)^lr.rotrBL(J,oe,61)^lr.shrSL(J,oe,6),f=lr.add4L(ne,a,oy[P-7],oy[P-16]),p=lr.add4H(f,j,S,iy[P-7],iy[P-16]);iy[P]=p|0,oy[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:u,Cl:l,Dh:m,Dl:x,Eh:w,El:E,Fh:I,Fl:M,Gh:k,Gl:C,Hh:R,Hl:L}=this;for(let P=0;P<80;P++){let K=lr.rotrSH(w,E,14)^lr.rotrSH(w,E,18)^lr.rotrBH(w,E,41),V=lr.rotrSL(w,E,14)^lr.rotrSL(w,E,18)^lr.rotrBL(w,E,41),j=w&I^~w&k,ne=E&M^~E&C,J=lr.add5L(L,V,ne,Fot[P],oy[P]),oe=lr.add5H(J,R,K,j,Lot[P],iy[P]),S=J|0,a=lr.rotrSH(n,i,28)^lr.rotrBH(n,i,34)^lr.rotrBH(n,i,39),f=lr.rotrSL(n,i,28)^lr.rotrBL(n,i,34)^lr.rotrBL(n,i,39),p=n&o^n&u^o&u,y=i&s^i&l^s&l;R=k|0,L=C|0,k=I|0,C=M|0,I=w|0,M=E|0,{h:w,l:E}=lr.add(m|0,x|0,oe|0,S|0),m=u|0,x=l|0,u=o|0,l=s|0,o=n|0,s=i|0;let g=lr.add3L(S,f,y);n=lr.add3H(g,oe,a,p),i=g|0}({h:n,l:i}=lr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=lr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:u,l}=lr.add(this.Ch|0,this.Cl|0,u|0,l|0),{h:m,l:x}=lr.add(this.Dh|0,this.Dl|0,m|0,x|0),{h:w,l:E}=lr.add(this.Eh|0,this.El|0,w|0,E|0),{h:I,l:M}=lr.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:C}=lr.add(this.Gh|0,this.Gl|0,k|0,C|0),{h:R,l:L}=lr.add(this.Hh|0,this.Hl|0,R|0,L|0),this.set(n,i,o,s,u,l,m,x,w,E,I,M,k,C,R,L)}roundClean(){iy.fill(0),oy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var O1e=R1e(()=>new Oz);function D1e(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function Kot(t){let e=D1e(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}var qot=t=>D1e("mnemonic"+t);function $7(t,e=""){return C1e(O1e,Kot(t).nfkd,qot(e),{c:2048,dkLen:64})}function Dz(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function Vot(t){return $7(t,"")}function N1e(t){return Ro(Vot(t))}d();h();var o_=qe(t1(),1);var w2=32;var Uz="suiprivkey",Z7=class{async signWithIntent(e,r){let n=I7(r,e),i=e1(n,{dkLen:32});return{signature:I1e({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:fr(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(Y.vector(Y.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:fr(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},s_=class extends Z7{};function r1(t){let{prefix:e,words:r}=o_.bech32.decode(t);if(e!==Uz)throw new Error("invalid private key prefix");let n=new Uint8Array(o_.bech32.fromWords(r)),i=n.slice(1);return{schema:M7[n[0]],secretKey:i}}function Lz(t,e){if(t.length!==w2)throw new Error("Invalid bytes length");let r=M0[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),o_.bech32.encode(Uz,o_.bech32.toWords(n))}d();h();d();h();var n1=qe(us(),1);d();h();d();h();var J7=class extends Jm{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Jbe(e);let n=bf(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return T0(this),this.iHash.update(e),this}digestInto(e){T0(this),u2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},X7=(t,e,r)=>new J7(t,e).update(r).digest();X7.create=(t,e)=>new J7(t,e);d();h();d();h();function Wot(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var e9=class extends Jm{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=A7(this.buffer)}update(e){T0(this);let{view:r,buffer:n,blockLen:i}=this;e=bf(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=A7(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){T0(this),S7(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;Wot(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=A7(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var[Got,$ot]=Ot.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),sy=new Uint32Array(80),ay=new Uint32Array(80),Fz=class extends e9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:u,Dl:l,Eh:m,El:x,Fh:w,Fl:E,Gh:I,Gl:M,Hh:k,Hl:C}=this;return[e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C]}set(e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=u|0,this.Dl=l|0,this.Eh=m|0,this.El=x|0,this.Fh=w|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=C|0}process(e,r){for(let P=0;P<16;P++,r+=4)sy[P]=e.getUint32(r),ay[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let K=sy[P-15]|0,V=ay[P-15]|0,j=Ot.rotrSH(K,V,1)^Ot.rotrSH(K,V,8)^Ot.shrSH(K,V,7),ne=Ot.rotrSL(K,V,1)^Ot.rotrSL(K,V,8)^Ot.shrSL(K,V,7),J=sy[P-2]|0,oe=ay[P-2]|0,S=Ot.rotrSH(J,oe,19)^Ot.rotrBH(J,oe,61)^Ot.shrSH(J,oe,6),a=Ot.rotrSL(J,oe,19)^Ot.rotrBL(J,oe,61)^Ot.shrSL(J,oe,6),f=Ot.add4L(ne,a,ay[P-7],ay[P-16]),p=Ot.add4H(f,j,S,sy[P-7],sy[P-16]);sy[P]=p|0,ay[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:u,Cl:l,Dh:m,Dl:x,Eh:w,El:E,Fh:I,Fl:M,Gh:k,Gl:C,Hh:R,Hl:L}=this;for(let P=0;P<80;P++){let K=Ot.rotrSH(w,E,14)^Ot.rotrSH(w,E,18)^Ot.rotrBH(w,E,41),V=Ot.rotrSL(w,E,14)^Ot.rotrSL(w,E,18)^Ot.rotrBL(w,E,41),j=w&I^~w&k,ne=E&M^~E&C,J=Ot.add5L(L,V,ne,$ot[P],ay[P]),oe=Ot.add5H(J,R,K,j,Got[P],sy[P]),S=J|0,a=Ot.rotrSH(n,i,28)^Ot.rotrBH(n,i,34)^Ot.rotrBH(n,i,39),f=Ot.rotrSL(n,i,28)^Ot.rotrBL(n,i,34)^Ot.rotrBL(n,i,39),p=n&o^n&u^o&u,y=i&s^i&l^s&l;R=k|0,L=C|0,k=I|0,C=M|0,I=w|0,M=E|0,{h:w,l:E}=Ot.add(m|0,x|0,oe|0,S|0),m=u|0,x=l|0,u=o|0,l=s|0,o=n|0,s=i|0;let g=Ot.add3L(S,f,y);n=Ot.add3H(g,oe,a,p),i=g|0}({h:n,l:i}=Ot.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Ot.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:u,l}=Ot.add(this.Ch|0,this.Cl|0,u|0,l|0),{h:m,l:x}=Ot.add(this.Dh|0,this.Dl|0,m|0,x|0),{h:w,l:E}=Ot.add(this.Eh|0,this.El|0,w|0,E|0),{h:I,l:M}=Ot.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:C}=Ot.add(this.Gh|0,this.Gl|0,k|0,C|0),{h:R,l:L}=Ot.add(this.Hh|0,this.Hl|0,R|0,L|0),this.set(n,i,o,s,u,l,m,x,w,E,I,M,k,C,R,L)}roundClean(){sy.fill(0),ay.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Kz=r1e(()=>new Fz);var Yot=qe(us(),1),Zot="ed25519 seed",Qot=2147483648,Jot=new RegExp("^m(\\/[0-9]+')+$"),K1e=t=>t.replace("'",""),Xot=t=>{let r=X7.create(Kz,Zot).update(gf(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},est=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+t.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(t,1),o.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=X7.create(Kz,e).update(o).digest(),u=s.slice(0,32),l=s.slice(32);return{key:u,chainCode:l}};var tst=t=>Jot.test(t)?!t.split("/").slice(1).map(K1e).some(isNaN):!1,qz=(t,e,r=Qot)=>{if(!tst(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=Xot(e);return t.split("/").slice(1).map(K1e).map(s=>parseInt(s,10)).reduce((s,u)=>est(s,u+r),{key:n,chainCode:i})};d();h();var q1e=qe(us(),1);var Vz=32,cy=class extends l2{constructor(e){if(super(),typeof e=="string"?this.data=yn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Vz)throw new Error(`Invalid public key input. Expected ${Vz} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return M0.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=M1e(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!gz(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return q1e.default.sign.detached.verify(e,n,this.toRawBytes())}};cy.SIZE=Vz;var Hz="m/44'/784'/0'/0'/0'",i1=class t extends s_{constructor(e){super(),e?this.keypair=e:this.keypair=n1.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(n1.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let o=r1(e);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=e.length;if(n!==w2)throw new Error(`Wrong secretKey size. Expected ${w2} bytes, got ${n}.`);let i=n1.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),u=n1.default.sign.detached(s,i.secretKey);if(!n1.default.sign.detached.verify(s,u,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new cy(this.keypair.publicKey)}getSecretKey(){return Lz(this.keypair.secretKey.slice(0,w2),this.getKeyScheme())}async sign(e){return n1.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=Hz),!Dz(r))throw new Error("Invalid derivation path");let{key:n}=qz(r,N1e(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=Hz),!Dz(r))throw new Error("Invalid derivation path");let{key:n}=qz(r,e);return t.fromSecretKey(n)}};var t9=class{addressTypes=["sui"];generateKeypairFromPrivateKey(e){let r=e.fold(s=>new Uint8Array(s)),n=i1.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),o=r1(n.getSecretKey());if(o.schema!=="ED25519")throw new Error(`got unexpected schema ${o.schema} for Sui`);return{publicKey:i,privateKey:o.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new fa(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};var a_=class{cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new jP),this.registerChainPlugin(new d7),this.registerChainPlugin(new h7),this.registerChainPlugin(new t9)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=la.getAddressType(n),o=this.cryptoChainPlugins.get(i);if(!o)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return o.generateKeypairFromSeed(e,r,n)}};d();h();function jz(t){return la.getAll().includes(t)}d();h();var nve=qe(Da()),ive=qe(S2()),i9=qe(us()),ove=qe(r9());var Yz=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":try{return{key:dst(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case"eip155":try{return{key:hst(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case"solana":try{return mst(e)}catch{throw new Error("Could not find encoding for Solana private key")}case"sui":try{return{key:pst(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return Bt(r)}},dst=(t,e)=>{try{let{privateKey:r}=ove.decodeRaw(ive.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},hst=t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new i2(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},n9=t=>{let e=i9.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=i9.default.sign.detached(r,t);if(!i9.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},pst=t=>{try{let e=r1(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},mst=t=>{try{let e=JSON.parse(t);return n9(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=nve.default.decode(t);return n9(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return n9(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return n9(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")};d();h();var sve=qe(Da()),ave=qe(S2()),cve=qe(r9());var yst=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return ave.default.encode(cve.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case"eip155":return"0x"+Buffer.from(e).toString("hex");case"solana":return sve.default.encode(e);case"sui":return i1.fromSecretKey(e).getSecretKey();default:return Bt(r)}};d();h();var c_=t=>{try{return Ti.from(Yz(t).key)}catch(e){return console.error(e),Ti.from(Buffer.from(""))}};d();h();var Ndt=qe(h9());d();h();var[kve,Pve,Rve]=[[],[],[]],fat=BigInt(0),h_=BigInt(1),lat=BigInt(2),dat=BigInt(7),hat=BigInt(256),pat=BigInt(113);for(let t=0,e=h_,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],kve.push(2*(5*n+r)),Pve.push((t+1)*(t+2)/2%64);let i=fat;for(let o=0;o<7;o++)e=(e<<h_^(e>>dat)*pat)%hat,e&lat&&(i^=h_<<(h_<<BigInt(o))-h_);Rve.push(i)}var[mat,yat]=Zt.split(Rve,!0),Ive=(t,e,r)=>r>32?Zt.rotlBH(t,e,r):Zt.rotlSH(t,e,r),Mve=(t,e,r)=>r>32?Zt.rotlBL(t,e,r):Zt.rotlSL(t,e,r);function gat(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let u=(s+8)%10,l=(s+2)%10,m=r[l],x=r[l+1],w=Ive(m,x,1)^r[u],E=Mve(m,x,1)^r[u+1];for(let I=0;I<50;I+=10)t[s+I]^=w,t[s+I+1]^=E}let i=t[2],o=t[3];for(let s=0;s<24;s++){let u=Pve[s],l=Ive(i,o,u),m=Mve(i,o,u),x=kve[s];i=t[x],o=t[x+1],t[x]=l,t[x+1]=m}for(let s=0;s<50;s+=10){for(let u=0;u<10;u++)r[u]=t[s+u];for(let u=0;u<10;u++)t[s+u]^=~r[(u+2)%10]&r[(u+4)%10]}t[0]^=mat[n],t[1]^=yat[n]}r.fill(0)}var p9=class t extends Nm{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,zn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Lw(this.state)}keccak(){gat(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){zn.exists(this);let{blockLen:r,state:n}=this;e=vl(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let u=0;u<s;u++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){zn.exists(this,!1),zn.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zn.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(zn.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},hy=(t,e,r)=>Ud(()=>new p9(e,t,r)),hfr=hy(6,144,224/8),pfr=hy(6,136,256/8),mfr=hy(6,104,384/8),yfr=hy(6,72,512/8),gfr=hy(1,144,224/8),fW=hy(1,136,256/8),bfr=hy(1,104,384/8),vfr=hy(1,72,512/8),Cve=(t,e,r)=>Oye((n={})=>new p9(e,t,n.dkLen===void 0?r:n.dkLen,!0)),xfr=Cve(31,168,128/8),wfr=Cve(31,136,256/8);var Rl=qe(B_()),G2e=qe(Da());function ds(t){let{publicKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return Udt(e,r,t.networkID);case"eip155":return Ldt(e);case"solana":return G2e.default.encode(e);case"sui":return new cy(e).toSuiAddress();default:return Bt(r)}}var Udt=(t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?Rl.networks.testnet:Rl.networks.bitcoin,i;switch(e){case"bip122_p2tr":Rl.initEccLib(Ndt),i=Rl.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case"bip122_p2wpkh":i=Rl.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case"bip122_p2sh":{let o=Buffer.from(t),s=Rl.payments.p2wpkh({pubkey:o,network:n},{validate:!1});i=Rl.payments.p2sh({pubkey:o,network:n,redeem:s},{validate:!1})?.address;break}case"bip122_p2pkh":{i=Rl.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:Bt(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},Ldt=t=>{let e=t.slice(1),n=fW(e).slice(12);return Fdt(`0x${Buffer.from(n).toString("hex")}`)},Fdt=t=>{if(!koe.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(fW(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n};d();h();function O_(t){return Dd.safeParse(t).success}d();h();function Kdt(t){switch(t){case"bip44Root":case"bip44Change":case"bip44":case"deprecated":return"solana";case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return"eip155";case"bitcoinLegacy":return"bip122_p2pkh";case"bitcoinNativeSegwit":return"bip122_p2wpkh";case"bitcoinNestedSegwit":return"bip122_p2sh";case"bitcoinTaproot":return"bip122_p2tr";case"bip44Sui":return"sui"}}d();h();d();h();var _G={id:"arbitrum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{"eip155:42161":{id:"eip155:42161",name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},"eip155:421614":{id:"eip155:421614",name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:"eip155:42161",tokenDecimals:18,tokenSymbol:"ETH",slip44:"9001",parentChain:"ethereum"};d();h();var TG={id:"base",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{"eip155:8453":{id:"eip155:8453",name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},"eip155:84532":{id:"eip155:84532",name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:"eip155:8453",tokenDecimals:18,tokenSymbol:"ETH",slip44:"8453",parentChain:"ethereum"};d();h();var qdt=qe(h9());var yR=qe(B_());var Iy=B.string().refine(t=>{try{return yR.initEccLib(qdt),yR.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),D_=B.object({networkID:km,addressType:B.nativeEnum(Tt),address:Iy,publicKey:B.instanceof(Uint8Array).optional()}),IG={id:"bitcoin",addressTypes:["bip122_p2tr","bip122_p2wpkh"],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{"bip122:000000000019d6689c085ae165831e93":{id:"bip122:000000000019d6689c085ae165831e93",name:"Bitcoin",value:128},"bip122:000000000933ea01ad0ee984209779ba":{id:"bip122:000000000933ea01ad0ee984209779ba",name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:"bip122:000000000019d6689c085ae165831e93",tokenDecimals:8,tokenSymbol:"BTC",slip44:"0"};d();h();var N_=B.object({networkID:Rm,addressType:B.nativeEnum(Tt),address:Rp}),MG={id:"ethereum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{"eip155:1":{id:"eip155:1",name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},"eip155:11155111":{id:"eip155:11155111",name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:"eip155:1",tokenDecimals:18,tokenSymbol:"ETH",slip44:"60"};d();h();var kG={id:"hypercore",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{"hypercore:mainnet":{id:"hypercore:mainnet",name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},"hypercore:testnet":{id:"hypercore:testnet",name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:"hypercore:mainnet",tokenDecimals:9,tokenSymbol:"ETH",slip44:"925"},$2e=B.object({networkID:g0,addressType:B.nativeEnum(Tt),address:ST});d();h();var PG={id:"monad",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{"eip155:143":{id:"eip155:143",name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143,hidden:!0},"eip155:10143":{id:"eip155:10143",name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143},"eip155:41454":{id:"eip155:41454",name:"Monad Devnet",shortName:"Devnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/devnet1",value:41454,hidden:!0}},mainnetID:"eip155:10143",tokenDecimals:18,tokenSymbol:"MON",slip44:"143"};d();h();var RG={id:"polygon",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{"eip155:137":{id:"eip155:137",name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},"eip155:80002":{id:"eip155:80002",name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:"eip155:137",tokenDecimals:18,tokenSymbol:"POL",slip44:"966",parentChain:"ethereum"};d();h();var U_=B.object({networkID:Mm,addressType:B.nativeEnum(Tt),address:Cp}),CG={id:"solana",addressTypes:["solana"],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{"solana:101":{id:"solana:101",name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},"solana:102":{id:"solana:102",name:"Solana Testnet",shortName:"Testnet",value:"testnet"},"solana:103":{id:"solana:103",name:"Solana Devnet",shortName:"Devnet",value:"devnet"},"solana:localnet":{id:"solana:localnet",name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:"solana:localnet",mainnetID:"solana:101",tokenDecimals:9,tokenSymbol:"SOL",slip44:"501"};d();h();var BG={id:"sui",addressTypes:["sui"],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{"sui:mainnet":{id:"sui:mainnet",name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},"sui:testnet":{id:"sui:testnet",name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:"sui:mainnet",tokenDecimals:9,tokenSymbol:"SUI",slip44:"784"},gR=B.object({networkID:Pm,addressType:B.nativeEnum(Tt),address:Bp,publicKey:B.instanceof(Uint8Array).optional()});d();h();var OG=class extends Error{constructor(r,n){super(`${n} is not yet supported for ${r}`);this.chain=r;this.feature=n;this.name="UnsupportedChainFeatureError"}},V2=class extends OG{constructor(e){super("sui",e)}};d();h();function bR(t){return Object.values(Xi).includes(t)}var Ds={bitcoin:IG,ethereum:MG,polygon:RG,monad:PG,solana:CG,base:TG,sui:BG,arbitrum:_G,hypercore:kG},vR={solana:1,ethereum:2,monad:3,base:4,sui:5,polygon:6,bitcoin:7,arbitrum:8,hypercore:9},Vdt={solana:!0,ethereum:!0,monad:!1,base:!0,polygon:!0,bitcoin:!0,sui:!0,arbitrum:!1,hypercore:!1},DG=(t,e)=>{let r=vR[t]-vR[e];return r===0?0:r>0?1:-1},Hdt=()=>{let t=Object.values(Xi).sort(DG),e=t.map(G=>Ds[G]),r={},n=[],i={},o={},s={};e.forEach(G=>{let he=Object.fromEntries(Object.entries(G.networks).filter(([Ye,se])=>!se.hidden)),te=Object.keys(he);n.push(...te),te.forEach(Ye=>{r[Ye]=G});let ce=Object.values(he);i[G.id]=ce.map(Ye=>Ye.id),ce.forEach(Ye=>{o[Ye.id]=Ye});for(let Ye of G.addressTypes){let se=s[Ye];se?se.push(G.id):s[Ye]=[G.id]}});let u=new Set(n);function l(G){return G?.evmOnly?t.filter(he=>Ds[he].addressTypes.includes("eip155")):t}function m(G){return Vdt[G]}function x(G){return n.filter(he=>r[he].id===G)}function w(G){if(!G)return n;let he=n;return G.evmOnly&&(he=he.filter(te=>_(te))),G.mainnetOnly&&(he=he.filter(te=>U(te))),he}function E(G){return r[G]}function I(G){return o[G].rpcProxyUrl}function M(G){return r[G].addressTypes[0]}function k(G){let he=r[G];if(he.addressTypes.length===1){let[te]=he.addressTypes;return te}else throw`The chain ${he.id} has multiple address types`}function C(G){return r[G].addressTypes}function R(G){return r[G].id}function L(G){return Ds[ae(G)].name}function P(G){return r[G].tokenDecimals}function K(G){return(oe(G)?r[G]:Ds[G]).tokenSymbol}function V(G){return(oe(G)?r[G]:Ds[G]).iconUrl}function j(G){return r[G].slip44}function ne(G){return Ds[ae(G)].mainnetID}function J(G){let he;if(_(G)&&(he=o[G].value),typeof he=="number")return he;throw new Error(`Invalid NetworkID: ${G}. Must be an EVM NetworkID.`)}function oe(G){return u.has(G)}function S(G){return Object.keys(Ds.bitcoin.networks).includes(G)}function a(G){return Object.keys(Ds.ethereum.networks).includes(G)}function f(G){return Object.keys(Ds.polygon.networks).includes(G)}function p(G){return Object.keys(Ds.base.networks).includes(G)}function y(G){return Object.keys(Ds.arbitrum.networks).includes(G)}function g(G){return Object.keys(Ds.monad.networks).includes(G)}function A(G){return Object.keys(Ds.hypercore.networks).includes(G)}function _(G){return a(G)||f(G)||p(G)||g(G)||y(G)||A(G)}function b(G){return Object.keys(Ds.solana.networks).includes(G)}function c(G){return Object.keys(Ds.sui.networks).includes(G)}function v(G){if(!b(G))throw new Error(`Invalid NetworkID: ${G}. Must be a Solana NetworkID.`);return Ds.solana.networks[G].value}function F(G){return r[G].localnetID===G}function U(G){return r[G].mainnetID===G}function O(G){return o[G]}function W(G,he=!1){let te=o[G];return he&&te.shortName?te.shortName:te.name}function ee(G){return r[G].parentChain}function re(G){return s[G]}function Ve(G,he){let te=r[G].id,ce=r[he].id;return DG(te,ce)}function ae(G){return bR(G)?G:oe(G)?je.getChainID(G):Bt(G)}return{...Ds,getAllChainIDs:l,isChainDefaultEnabled:m,getNetworkIDs:x,getAllNetworkIDs:w,getChainDefinition:E,getAddressType:k,getAddressTypes:C,getChainID:R,getChainName:L,getTokenDecimals:P,getTokenSymbol:K,getChainIconUrl:V,getSlip44:j,getMainnetNetworkID:ne,getEVMNetworkIDValue:J,getSolanaNetworkIDValue:v,_DO_NOT_USE_getAddressType:M,isNetworkID:oe,isBitcoinNetworkID:S,isEVMNetworkID:_,isSolanaNetworkID:b,isEthereumNetworkID:a,isPolygonNetworkID:f,isBaseNetworkID:p,isArbitrumNetworkID:y,isSuiNetworkID:c,isHypercoreNetworkID:A,isLocalNetworkID:F,isMainnetNetworkID:U,getNetworkDefinition:O,getNetworkName:W,getChainIDs:re,compareChain:DG,compareNetworkID:Ve,getRpcProxyUrl:I,getParentChain:ee}},je=Hdt();d();h();d();h();d();h();var jdt=B.union([D_,N_,U_,gR,$2e]);var Ef=(n=>(n.address="address",n.tx="tx",n.nativeToken="nativeToken",n))(Ef||{}),Y2e=B.string(),Z2e=B.object({chainId:gl,resourceType:B.nativeEnum(Ef)}),NG=Z2e.extend({resourceType:B.literal("nativeToken"),slip44:B.nativeEnum(Ms)}),My=Z2e.extend({resourceType:B.literal("address"),address:B.string()}),UG=My.extend({chainId:Mm,address:Cp}),LG=My.extend({chainId:Rm,address:Rp,tokenId:B.string().optional()}),FG=My.extend({chainId:km,address:Iy.or(B.string())}),zdt=My.extend({chainId:Pm,address:Bp,tokenId:B.string().optional()}),Q2e=My.extend({chainId:g0,address:ST,tokenId:B.string().optional()}),J2e=B.union([NG,My,UG,LG,FG,zdt]);var X2e=t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(je.isEVMNetworkID(r)||je.isSolanaNetworkID(r)||je.isBitcoinNetworkID(r)||je.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,o]=n;if(!i||!o)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(Ef).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i==="nativeToken"){if(!Object.values(Ms).includes(o))throw new Error(`Unsupported slip44 '${o}'`);return{chainId:r,resourceType:i,slip44:o}}else if(je.isEVMNetworkID(r)){if(i==="address")return e.length===3?{chainId:r,address:o,resourceType:i,tokenId:e[2]}:{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(je.isSolanaNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(je.isBitcoinNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(je.isSuiNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)};d();h();var xR=t=>{if(t.resourceType==="nativeToken")return`${t.chainId}/nativeToken:${t.slip44}`;if(je.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(je.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(je.isSolanaNetworkID(t.chainId))return`${t.chainId}/address:${t.address}`;if(je.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/address:${e.address}`}return je.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`:Bt(t.chainId)};d();h();d();h();var eSe=B.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let o=i[0],s=i[1];return typeof t=="string"&&je.isNetworkID(r)&&o.match(/^[-a-z0-9]{2,8}/)&&s.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});d();h();function tSe(t){return!t||t.resourceType!=="address"?!1:!!je.isEVMNetworkID(t.chainId)}d();h();d();h();d();h();function wR(t,e){return je.isBitcoinNetworkID(e)?Iy.safeParse(t).success:je.isEVMNetworkID(e)?Rp.safeParse(t).success:je.isSolanaNetworkID(e)?Cp.safeParse(t).success:je.isSuiNetworkID(e)?Bp.safeParse(t).success:Bt(e)}d();h();var SR=t=>{let e=je.getNetworkIDs(t),r=je.getMainnetNetworkID(e[0]),n=je[t].slip44;return{chainId:r,resourceType:"nativeToken",slip44:n}};d();h();d();h();d();h();function rSe(t){return D_.safeParse(t).success}function nSe(t){return U_.safeParse(t).success}function iSe(t){return N_.safeParse(t).success}var oSe=B.object({networkID:gl,addressType:B.nativeEnum(Tt),address:B.string()}),$dt=t=>`${t.networkID}-${t.address}`,sSe={toKey:$dt},aSe=t=>{let e={chainId:t.networkID,address:t.address,resourceType:"address"};return je.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e};d();h();function cSe(t){return[Sr.Solana.Devnet,Sr.Solana.Testnet,Sr.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}d();h();var uSe=B.object({id:gl,name:B.string(),symbol:B.string(),imageUrl:B.string()});function fSe(t){let{name:e,tokenSymbol:r,iconUrl:n}=je.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}d();h();function lSe(t){switch(t){case"devnet":return Sr.Solana.Devnet;case"mainnet":return Sr.Solana.Mainnet;case"testnet":return Sr.Solana.Testnet;case"localnet":return Sr.Solana.Localnet}}function dSe(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}d();h();var ky=(t,e)=>{if(je.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return"bip122_p2tr";case(e.startsWith("bc1q")||e.startsWith("tb1q")):return"bip122_p2wpkh";case(e.startsWith("3")||e.startsWith("2")):return"bip122_p2sh";case(e.startsWith("1")||e.startsWith("m")):return"bip122_p2pkh"}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return je.isEVMNetworkID(t)?"eip155":je.isSolanaNetworkID(t)?"solana":je.isSuiNetworkID(t)?"sui":Bt(t)};d();h();var Ydt=je.getAllNetworkIDs().filter(t=>je.isEVMNetworkID(t)),hSe=t=>Ydt.find(e=>je.getNetworkDefinition(e).value===t);d();h();var pSe=t=>je.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return je.isMainnetNetworkID(e);if(t==="testnets_only")return!je.isMainnetNetworkID(e)}else return!0}).map(KG),KG=t=>`0x${je.getNetworkDefinition(t).value.toString(16)}`;d();h();var OSe=qe(xT(),1),DSe=qe(ur(),1);d();h();var ER=qe(ur(),1);d();h();var AR=qe(ur(),1),qG=AR.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED||AR.default.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE||AR.default.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xdt=!!qG.ReactCurrentDispatcher,mSe=qG.ReactCurrentDispatcher||qG,VG=0,_1=t=>{VG++;try{return t()}finally{VG--}};function L_(){let t=Xdt?mSe.current:mSe.H;return VG===0&&!!t&&t.useState!==t.useEffect}var _R=(0,ER.createContext)(void 0);function HG(){if(L_())return(0,ER.useContext)(_R)}d();h();d();h();d();h();d();h();d();h();d();h();var jG=class{value;constructor(e){this.value=e}deref(){return this.value}},ySe=typeof WeakRef=="function"?WeakRef:jG;d();h();var _c,_f;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(_f||(_f={}));var TR;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(TR||(TR={}));d();h();var eht=0,gSe=new Map;function bSe(t){let e=gSe.get(t);return e===void 0&&(e=`unknownSignal${eht++}`,gSe.set(t,e)),e}d();h();var{log:vSe,floor:xSe,imul:Uo,abs:tht}=Math;function Cl(t,e=0){let r=e^t.length,n=3432918353,i=461845907,o=0;for(;o+4<=t.length;){let u=t.charCodeAt(o)&255|(t.charCodeAt(o+1)&255)<<8|(t.charCodeAt(o+2)&255)<<16|(t.charCodeAt(o+3)&255)<<24;u=Uo(u,n),u=u<<15|u>>>17,u=Uo(u,i),r^=u,r=r<<13|r>>>19,r=Uo(r,5)+3864292196,o+=4}let s=0;switch(t.length&3){case 3:s^=(t.charCodeAt(o+2)&255)<<16;case 2:s^=(t.charCodeAt(o+1)&255)<<8;case 1:s^=t.charCodeAt(o)&255,s=Uo(s,n),s=s<<15|s>>>17,s=Uo(s,i),r^=s}return r^=t.length,r^=r>>>16,r=Uo(r,2246822507),r^=r>>>13,r=Uo(r,3266489909),r^=r>>>16,r>>>0}function rht(t,e=0){t=tht(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let s=t&4294967295;t=xSe(t/4294967296),s=Uo(s,n),s=s<<15|s>>>17,s=Uo(s,i),r^=s,r=r<<13|r>>>19,r=Uo(r,5)+3864292196}if(t>0){let s=t&4294967295;s=Uo(s,n),s=s<<15|s>>>17,s=Uo(s,i),r^=s}let o=t===0?1:xSe(vSe(t)/vSe(256))+1;return r^=o,r^=r>>>16,r=Uo(r,2246822507),r^=r>>>13,r=Uo(r,3266489909),r^=r>>>16,r>>>0}function GG(t){let e=7,r=3432918353,n=461845907;for(let i of t){let o=Py(i);o=Uo(o,r),o=o<<15|o>>>17,o=Uo(o,n),e^=o,e=e<<13|e>>>19,e=Uo(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=Uo(e,2246822507),e^=e>>>13,e=Uo(e,3266489909),e^=e>>>16,e>>>0}function nht(t){let e=cht,r=Object.keys(t);for(let n of r)e+=Py(n)^Py(t[n]);return e>>>0}var iht=Cl("undefined",0),oht=Cl("null",1),sht=Cl("true",2),aht=Cl("false",3),abr=Cl("array",7),cht=Cl("object",8),uht=Object.getPrototypeOf,fht=new Map([[Object.prototype,nht],[Array.prototype,GG]]);function Py(t,e=[]){switch(typeof t){case"undefined":return iht;case"boolean":return t?sht:aht;case"number":return Cl(String(t),4);case"string":return Cl(t,5);case"bigint":return Cl(t.toString(),6);case"object":{if(t===null)return oht;let r=e.indexOf(t);if(r!==-1)return Cl(String(r),11);let n=fht.get(uht(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return WG(t)}case"function":return WG(t);case"symbol":return Cl(t.toString(),10)}}var wSe=new WeakMap,lht=1;function WG(t){let e=wSe.get(t);return e===void 0&&(e=rht(lht++,9),wSe.set(t,e)),e}var dht=GG([]);function SSe(t,e){return WG(t)^(e.length>0?GG(e):dht)}d();h();var ASe=new WeakMap,hht=1;function $G(t){let e=ASe.get(t);return e===void 0&&(e=`obj-${hht++}`,ASe.set(t,e)),e}function pht(t){return Object.getPrototypeOf(t)===Object.prototype}function mht(t){return Array.isArray(t)}function IR(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():mht(t)?`[${t.map(IR).join(",")}]`:pht(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${IR(n)}`).join(", ")} }`:$G(t);case"function":return $G(t);default:return $G(t)}}var yht=0,F_=class{flags;scope=void 0;subs=new Map;deps=new Map;ref=new ySe(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;_listeners=null;key;args;value;tracerMeta;def;constructor(e,r,n,i,o){this.flags=(e.isSubscription?4:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,this.value=o?.initValue,_c&&(this.tracerMeta={id:o?.id??n??Py([e.compute,yht++]),desc:o?.desc??e.compute.name??bSe(e.compute),params:r.map(s=>IR(s)).join(", "),tracer:o?.tracer})}get _state(){return this.flags&3}set _state(e){this.flags=this.flags&-4|e}get _isListener(){return(this.flags&8)!==0}set _isListener(e){e?this.flags|=8:this.flags&=-9}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get(){return PR(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(this.watchCount++,this.flags|=8),MR(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(kR(this),this.flags&=-9))}}addListenerLazy(){return this._isListener||(this.watchCount++,this.flags|=8),this.listeners.cachedBoundAdd}},ESe=t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},K_=t=>(t.flags&4)!==0;function q_(t,e=[],r,n,i){return new F_(t,e,r,n,i)}d();h();d();h();function V_(t){let e=t._state;e!==2&&(t._state=2,e!==3&&YG(t))}function YG(t){if(Ir===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");K_(t)?t.watchCount>0&&RR(t):(t._isListener&&MR(t),ZG(t.subs),t.subs=new Map)}function ZG(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,YG(n);break;case 1:case 3:{let o=n.dirtyHead,s=r.ord;if(o.ord>s)n.dirtyHead=r,r.nextDirty=o,i===1&&(n._state=3,YG(n));else{let u=o.nextDirty;for(;u!==void 0&&u.ord<s;)o=u,u=o.nextDirty;r.nextDirty=u,o.nextDirty=r}break}}}}var ght=0,QG=class{_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,o)=>i===o,n="state"){this._value=e,this._equals=r,this._id=ght++,this._desc=`${n}${this._id}`}get(){return Ir!==void 0?(_c?.emit({type:_f.ConsumeState,id:Ir.tracerMeta.id,childId:this._id,value:this._value,setValue:e=>{this.set(e)}}),this._subs.set(Ir.ref,Ir.computedCount),this._value):TSe(this)}update(e){this.set(e(this._value))}peek(){return this._value}set(e){if(this._equals(e,this._value))return;this._value=e;let{_subs:r,_listeners:n}=this;for(let[i,o]of r.entries()){let s=i.deref();s===void 0||o!==s.computedCount||V_(s)}this._subs=new Map,BR(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function _Se(t){let e=t._listeners;if(e!==null)for(let r of e)r()}var bht=()=>!1;function CR(t,e){let r=e?.equals===!1?bht:e?.equals??((n,i)=>n===i);return new QG(t,r,e?.desc)}d();h();function JG(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())JG(n);K_(t)&&Ry(t)}}function XG(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())XG(i);K_(t)&&t.value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}var vht=typeof requestIdleCallback=="function"?requestIdleCallback:t=>j_(t),ISe=!1,DR=[],NR=[],UR=new Map,e$=[],t$=[],OR=new Set,xht=()=>Promise.resolve(),LR=null,H_=t=>{if(LR)return;let e;LR={promise:new Promise(n=>e=n),resolve:e},j_(H2)};var MR=t=>{DR.push(t),H_(H2)},RR=t=>{NR.push(t),H_(H2)},kR=t=>{let e=UR.get(t)??0;UR.set(t,e+1),H_(H2)},BR=t=>{e$.push(t),H_(H2)},zG=t=>{t$.push(t),H_(H2)},MSe=t=>{OR.add(t),!(OR.size>1)&&vht(()=>{for(let e of OR)e.sweepGc();OR.clear()})},H2=async()=>{let t=LR;for(;ISe||NR.length>0||DR.length>0;){ISe=!1;let e=NR;NR=[];for(let n of e)Ry(n);let r=DR;DR=[];for(let n of r)kSe(n);await xht()}LR=null,FR(()=>{for(let[e,r]of UR)XG(e,r);for(let e of e$)e instanceof F_?ESe(e):_Se(e);for(let e of t$)e.flush();UR.clear(),e$=[],t$=[]}),t.resolve()};d();h();var PSe=0;function z_(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:PSe++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=PSe++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}function RSe(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}d();h();d();h();var wht=function*(){}().constructor;function W_(t){return t.constructor===wht}function G_(t){return t.constructor===Promise}function $_(t){return t.constructor===th}d();h();var KR=(t,e)=>t===e,Sht=()=>!1,Y_=t=>t===!1?Sht:t??KR;var th=class t{_value=void 0;_error=void 0;_flags=0;_signal=void 0;_equals;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_version=CR(0);_boundRun;static createPromise(e,r,n){let i=new t;return i._signal=r,i._equals=r?.def.equals??KR,i._initFlags(1,n),e&&i._setPromise(e),i}static createSubscription(e,r,n){let i=new t,o=n?.initValue,s=!1,u,l=()=>{typeof u=="function"?u():u!==void 0&&u.unsubscribe?.();let w=i._signal;w.subs=new Map,w._state=2,w.watchCount=0,s=!1,u=void 0},m={get:()=>i._value,set:w=>{w!==null&&typeof w=="object"&&G_(w)?i._setPromise(w):i._setValue(w)},setError:w=>{i._setError(w)}},x={compute:()=>(s===!1?(u=e(m),s=!0):typeof u=="function"||u===void 0?(u?.(),u=e(m)):u.update?.(),l),equals:KR,isSubscription:!0};return i._signal=q_(x,[],void 0,r,n),i._equals=Y_(n?.equals),i._initFlags(129,o),i}static createTask(e,r,n){let i=new t,o=n?.initValue;return i._signal=(...s)=>CSe(r,()=>{let u=e(...s);return typeof u=="object"&&u!==null&&W_(u)?qR(u,void 0):u}),i._equals=Y_(n?.equals),i._initFlags(64,o),i}_initFlags(e,r){let n=e;r!==void 0&&(n|=8),this._flags=n,this._value=r}_consumeFlags(e){if(Ir===void 0)return;this._flags&128&&this._connect();let r=Ir.ref,n=this._stateSubs,i=n.get(r)??0;n.set(r,i|e)}_connect(){let e=this._signal;if(Ir?.watchCount===0){let{ref:r,computedCount:n,deps:i}=Ir,o=i.get(e);if(o?.consumedAt!==n){let s=z_(o,0,e,e.updatedCount,n);e.subs.set(r,s),i.set(e,s)}}else PR(e)}_setFlags(e,r=0,n=0){let i=this._flags,o=i&~r|e,s=i^o|n;if(this._flags=o,s===0)return;let u=this._stateSubs;for(let[l,m]of u)if(m&s){let x=l.deref();x&&V_(x),u.delete(l)}this._version.update(l=>l+1)}_setPending(){this._setFlags(1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(this._setPending(),ZG(n),this._awaitSubs=n=new Map);try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,o=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,o=16),n&2&&(o=32,this._error=void 0),this._scheduleSubs(r,o!==0),this._setFlags(12,3,o);for(let{ref:s,edge:u,resolve:l}of this._pending)l?.(i),s!==void 0&&r.set(s,u);this._pending=[]}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._scheduleSubs(r,i!==0),this._setFlags(2,5,i);for(let{ref:o,edge:s,reject:u}of this._pending)u?.(n),o!==void 0&&r.set(o,s);this._pending=[]}_scheduleSubs(e,r){let n=r?2:3;for(let i of e.keys()){let o=i.deref();o!==void 0&&(o._state=n,RR(o))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}get data(){return this.value}get isFetching(){return this.isPending}get isSuccess(){return this.isResolved}get isError(){return this.isRejected}get isFetched(){return this.isSettled}_run(...e){let r=this._flags,n=this._signal;if(r&64)this._setPromise(n(...e));else if(n)V_(n);else throw new Error("ReactivePromise is not runnable. If you are using run() on a ReactivePromise, make sure you used `task` to create this promise. If you are using rerun(), make sure its a promise that was generated by a reactive async function.");return this}run=this._run.bind(this);get rerun(){return this.run}then(e,r){let n=this._flags;return new Promise((i,o)=>{let s,u;if(Ir!==void 0){n&128&&this._connect(),s=Ir.ref;let x=this._awaitSubs.get(s)??RSe(Ir,this);u=z_(x,1,this,-1,Ir.computedCount)}let l=e?x=>{try{let w=e(x);i(w)}catch(w){o(w)}}:i,m=r?x=>{try{let w=r(x);i(w)}catch(w){o(w)}}:o;n&1?this._pending.push({ref:s,edge:u,resolve:l,reject:m}):(n&4?l(this._value):n&2&&m(this._error),s&&this._awaitSubs.set(s,u))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}};function r$(t){return t instanceof th&&(t._flags&128)!==0}var Ir;function PR(t){if(Ir!==void 0){let{ref:e,computedCount:r,deps:n}=Ir,i=n.get(t);if(i?.consumedAt!==r){i===void 0&&(_c?.emit({type:_f.Connected,id:Ir.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:TR.Reactive}),Ir.watchCount>0&&JG(t));let s=Ry(t),u=z_(i,0,t,s,r);t.subs.set(e,u),n.set(t,u)}}else Ry(t);return t.value}function Ry(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r===3){let n=t.dirtyHead;for(;n!==void 0;){if(n.type===1){let s=n.dep;if(s.isPending){let u=t.value;return u instanceof th&&u._setPending(),s._awaitSubs.set(e,n),r=1,t.dirtyHead=n,t.updatedCount}n=n.nextDirty;continue}let i=n.dep,o=Ry(i);if(i.subs.set(e,n),n.updatedAt!==o){t.dirtyHead=n.nextDirty,r=2;break}n=n.nextDirty}}return r===2&&Aht(t),t._state=0,t.dirtyHead=void 0,_c!==void 0&&t.tracerMeta?.tracer&&zG(t.tracerMeta.tracer),t.updatedCount}function Aht(t){_c?.emit({type:_f.StartUpdate,id:t.tracerMeta.id});let e=Ir,r=t.updatedCount,n=++t.computedCount;try{Ir=t;let i=r!==0,o=t.value,s=t.def.compute(...t.args),u=!1;if(s!==null&&typeof s=="object"&&(W_(s)?(s=qR(s,t),u=!0):G_(s)&&(u=!0)),u)if(_c!==void 0&&(_c.emit({type:_f.StartLoading,id:t.tracerMeta.id}),s.finally(()=>{_c.emit({type:_f.EndLoading,id:t.tracerMeta.id,value:t.value})})),_c?.emit({type:_f.StartLoading,id:t.tracerMeta.id}),o!==null&&typeof o=="object"&&$_(o))o._setPromise(s);else{let l=i?void 0:o;t.value=th.createPromise(s,t,l),t.updatedCount=r+1}else(!i||!t.def.equals(o,s))&&(t.value=s,t.updatedCount=r+1)}finally{Ir=e,_c?.emit({type:_f.EndUpdate,id:t.tracerMeta.id,value:t.value});let{ref:i,deps:o}=t;for(let[s,u]of o)u.consumedAt!==n&&(kR(s),s.subs.delete(i),o.delete(s),_c?.emit({type:_f.Disconnected,id:t.tracerMeta.id,childId:s.tracerMeta.id}))}}function kSe(t,e=!1){let r=t.listeners;e&&(r===null||r.current.size===0)&&(t.watchCount++,t.flags|=8);let n=Ry(t);return r!==null&&r.updatedAt!==n&&(r.updatedAt=n,BR(t)),n}function n$(t){let e=Ir;return(...r)=>{let n=Ir;Ir=e;try{let i=t(...r);return i!==null&&typeof i=="object"&&W_(i)?qR(i,e):i}finally{Ir=n}}}function qR(t,e){function r(n){return typeof n=="object"&&n!==null&&(G_(n)||$_(n))?n:Promise.resolve(n)}return new Promise((n,i)=>{function o(l){l.done?n(l.value):r(l.value).then(s,u)}function s(l){let m=Ir;try{Ir=e,o(t.next(l))}catch(x){i(x)}finally{Ir=m}}function u(l){let m=Ir;try{Ir=e,o(t.throw(l))}catch(x){i(x)}finally{Ir=m}}o(t.next())})}var j_=t=>{setTimeout(()=>{t()},0)},FR=t=>t(),Z_=()=>{},i$=t=>t.get(),o$=t=>t.get();function BSe(t){return Ir!==void 0?t.get():o$(t)}function TSe(t){return i$(t)}function s$(t){j_=t.scheduleFlush??j_,FR=t.runBatch??FR,Z_=t.getFrameworkScope??Z_,i$=t.useStateSignal??i$,o$=t.useDerivedSignal??o$}var Eht=Symbol("signalium:context"),_ht=0,a$=class{defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${_ht++}`,this._key=Symbol(this._description)}},T1=(t,e)=>new a$(t,e),j2=class t{constructor(e,r){this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n;this.signals.clear()}getChild(e){let r=Py(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r,n){let i=n?.paramKey?.(...r),o=SSe(e.compute,i?[i]:r),s=this.signals.get(o);return s===void 0&&(s=q_(e,r,o,this,n),this.signals.set(o,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),MSe(this))}removeFromGc(e){this.gcCandidates.delete(e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){for(let e of this.gcCandidates)if(e.watchCount===0){let{shouldGC:r}=e.def;(!r||r(e,e.value,e.args))&&this.signals.delete(e.key)}this.gcCandidates=new Set}},VR=new j2([]);function c$(t){VR.setContexts(t)}var Q_,u$=()=>Q_??Ir?.scope??Z_()??VR;var CSe=(t,e)=>{let r=Q_;try{return Q_=t,e()}finally{Q_=r}},Cy=t=>{let e=Q_??Ir?.scope??Z_();if(e===void 0)throw new Error("useContext must be used within a signal hook, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue};function NSe({children:t,contexts:e=[],inherit:r=!0}){let n=(0,DSe.useContext)(_R)??VR,i=new j2(e,r?n:void 0);return(0,OSe.jsx)(_R.Provider,{value:i,children:t})}d();h();d();h();d();h();var J_=qe(ur(),1);function f$(t){return L_()?(0,J_.useSyncExternalStore)((0,J_.useCallback)(e=>t.addListener(e),[t]),()=>t.peek(),()=>t.peek()):t.peek()}function l$(t){if(!L_())return t.get();let e=(0,J_.useSyncExternalStore)(t.addListenerLazy(),()=>t.get(),()=>t.get());return typeof e=="object"&&e!==null&&$_(e)&&(r$(e)&&l$(e._signal),f$(e._version)),e}function d$(){s$({useDerivedSignal:l$,useStateSignal:f$,getFrameworkScope:HG})}d();h();var Tht=qe(ur(),1);d();h();var z2=CR;function Ns(t,e){let r={compute:t,equals:Y_(e?.equals),shouldGC:e?.shouldGC,isSubscription:!1};return(...n)=>{let o=u$().get(r,n,e);return BSe(o)}}var X_=(t,e)=>{let r=u$();return th.createTask(t,r,e)};d();h();d();h();d();h();d();h();var I1=()=>{let t=z2(void 0,{equals:()=>!1});return{consume:()=>t.get(),notify:()=>t.set(void 0)}};d$();d();h();d();h();d();h();d();h();d();h();d();h();var e4=class{namespaces=new Map;options;_initPromise;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}destroy(){for(let e of this.namespaces.values())e.destroy()}},HR=T1(null);function M1(){let t=Cy(HR);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}var USe=async t=>{let e=new e4({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return c$([[HR,e]]),await e.init(),LSe(),e},LSe,Mht=new Promise(t=>{LSe=t}),t4=async(t,e)=>(await Mht,_1(()=>t(e)));var kht=t=>{switch(t){case"boolean":return B.boolean();case"number":return B.number();case"string":return B.string();default:return B.object({}).passthrough()}},Pht=(t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let s=typeof n.defaultValue;if(s!=="undefined"&&s!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let o=n.validator??kht(i);n.nullable&&(o=o.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:o,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}};function W2(t,e,r){let n=Pht(e,r),i=Ns(s=>M1().get(t,n(s))),o=Ns(s=>{let u=M1();return n$(l=>u.set(t,n(s),l))});return[i,o]}d();h();var jR=(t,e)=>{if(!t)throw new Error(e);return t},h$=class t{key;readonly;disableCache;_store;_state;_hooks;_init;_deps;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=I1();eventNotifiers={change:I1(),idle:I1()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this._init=e.init??void 0,this._deps=r}get state(){return jR(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return jR(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return jR(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return jR(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let o=e.eventVersions[n];i<o&&(r.eventVersions[n]=o,this.eventNotifiers[n].notify())}}};async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:()=>this.state.remoteState,set:i=>{this.setRemoteState(i)},onChange:i=>{this.onChangeCallbacks.push(i)}};this._hooks=await this._init?.(this.deps,n,r)??{}}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState=Ns(e=>{let r=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},n=e.updateOn,i=this.state.eventVersions[n],o=this.eventNotifiers[n];if(r.version<i||this.disableCache){if(this.hooks.getValue){r.value=this.hooks.getValue(e,r.value);let s=e.validator.safeParse(r.value);r.value=s.success?s.data:null}r.value===null&&(r.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),r.version=i,this.store.setItem(this.key,e.schema,e.key,r)}if(r.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return o.consume(),this.localNotifier.consume(),z2(r.value)});get=Ns(e=>this.getState(e).get());async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),o=await this.hooks.setValue?.(e,i.peek(),n)??n;i.set(o),await this.store.setItem(this.key,e.schema,e.key,{value:o,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}destroy(){this._removeStoreListener?.()}};function zR(t){return new h$(t)}d();h();d();h();var KC=qe(x6e()),wbt="eppo-phantom",Sbt="0.0.1",Abt="https://eppo-proxy.phantom.app/api",wZ=class extends KC.MemoryOnlyConfigurationStore{constructor(r){super();this.state=r;let n=this.state.get();n&&super.setEntries(n),this.state.onChange(i=>{super.setEntries(i)})}setEntries(r){return this.state.set(r),super.setEntries(r)}},FC=null;async function Ebt({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i}){let o=new wZ(r),s=new KC.EppoClient({flagConfigurationStore:o}),u={apiKey:t,sdkName:wbt,sdkVersion:Sbt,baseUrl:Abt,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e};s.setConfigurationRequestParameters(u);let l=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await o.init();let m=s.fetchFlagConfigurations();o.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([m,new Promise(w=>setTimeout(w,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let x=performance.now()-l;return n?.(`Eppo: Initialized Eppo provider in ${x.toFixed(2)}ms`),s}async function w6e(t){return FC||(FC=Ebt(t),FC)}var SZ={getBooleanAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getStringAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getNumericAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getJSONAssignmentDetails:(t,e,r,n)=>({variation:n,action:null})};var _bt=async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if(!Op()||AT())n=SZ;else{let i={get:()=>e.get()?.eppoConfig??null,set:o=>e.set({overrides:e.get()?.overrides??{},eppoConfig:o}),onChange:o=>e.onChange(({eppoConfig:s})=>o(s))};n=await w6e({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r})}return{getValue:(i,o)=>{try{let s,u,l=i.key,{subjectId:m,subjectAttributes:x}=t,w=e.get();if(w?.overrides[l]!==void 0)return w.overrides[l]??null;if(i.isLegacyStringBoolean)s=n.getStringAssignmentDetails(l,m,x,"DEFAULT"),s.variation==="DEFAULT"?u=i.defaultValue??null:u=s.variation==="variant";else{switch(i.type){case"boolean":s=n.getBooleanAssignmentDetails(l,m,x,i.defaultValue);break;case"string":s=n.getStringAssignmentDetails(l,m,x,i.defaultValue);break;case"number":s=n.getNumericAssignmentDetails(l,m,x,i.defaultValue);break;default:s=n.getJSONAssignmentDetails(l,m,x,i.defaultValue)}u=s.variation}if(u!==o&&t.analytics&&s.evaluationDetails){let E=s.evaluationDetails,I=E.matchedAllocation?.key,M=E.variationKey,k={allocation:I??null,experiment:I?`${l}-${I}`:null,featureFlag:l,variation:M??null,subject:m,timestamp:new Date().toISOString(),subjectAttributes:x};t.analytics.capture("eppoRandomizationEvent",{data:{distinctId:m,properties:k}}),t.telemetry?.trackFeatureFlag(l,u)}return u??null}catch(s){return console.error("Error fetching feature flag",s),i.defaultValue??null}}}},M4=zR({key:"flags",init:_bt,disableCache:uc()}),Tbt=Ns(()=>{let e=M1().getNamespace(M4);return[e.getRemoteState()?.overrides,r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(i=>({eppoConfig:i?.eppoConfig??{},overrides:n})),e.sendEvent("idle")}]}),AZ=new WeakMap,EZ=(t,e)=>{let r=e.map(i=>({...i,defaultValue:Op()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=W2(M4,`feature:${t}`,r);return AZ.set(n,e),n},_Z=(t,e)=>{let r=e.map(o=>({key:typeof o=="string"?o:o.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof o=="object"?o.isLegacyStringBoolean:!1})),[n]=W2(M4,`kill-switch:${t}`,r),i=o=>{try{return n(o)}catch{return!1}};return AZ.set(i,r),i},TZ=(t,e)=>{let r=e.map(i=>({...i,defaultValue:Op()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=W2(M4,`config:${t}`,r);return AZ.set(n,e),n};var k4=EZ("general",[{key:"enable-psol-staking",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-feed-update-trigger",defaultValue:!1},{key:"enable-social-feed-nux",defaultValue:!1,devDefaultValue:!0},{key:"enable-user-profile-full-page",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-live-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-tokens-for-you",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-similar-tokens",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0},{key:"enable-remove-swap-cta",defaultValue:!1,devDefaultValue:!1},{key:"enable-perps-manual-retry",defaultValue:!1,devDefaultValue:!1},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-relay-bridge-sol",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-new-position-flow",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-adjust-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-adjust-margin",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-reverse-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-close-all-positions",defaultValue:!1,devDefaultValue:!0},{key:"enable-share-perps-feedback",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-share-pnl",defaultValue:!1,devDefaultValue:!0},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0},{key:"enable-classic-swapper-ext",defaultValue:!1,devDefaultValue:!0},{key:"enable-swap-settings-redesign",defaultValue:!1,devDefaultValue:!0},{key:"enable-ledger-swaps-mobile",defaultValue:!1,devDefaultValue:!0},{key:"enable-ledger-swaps-ext",defaultValue:!1,devDefaultValue:!0},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0},{key:"enable-swapper-presence",defaultValue:!1,devDefaultValue:!0},{key:"enable-swapper-presence-ui",defaultValue:!1,devDefaultValue:!0},{key:"enable-hip3-testnet-dogfood-filter",defaultValue:!1,devDefaultValue:!0},{key:"enable-new-launches-ui",defaultValue:!1,devDefaultValue:!0},{key:"enable-replace-classic-ngs",defaultValue:!1,devDefaultValue:!1},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0},{key:"enable-delete-seedless-bundle-security-settings",defaultValue:!1,devDefaultValue:!0},{key:"enable-new-fiat-ramp",defaultValue:!1,devDefaultValue:!0},{key:"enable-fiat-ramp-provider-quotes",defaultValue:!0,devDefaultValue:!0},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-native-convert",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-native-delayed-convert",defaultValue:!1,devDefaultValue:!1},{key:"enable-psol-convert-banner",defaultValue:!1,devDefaultValue:!0},{key:"enable-deposit-psol-with-kamino-link",defaultValue:!1,devDefaultValue:!0},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1},{key:"always-show-all-sites-permissions",defaultValue:!1},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash-home-redesign",defaultValue:!1,devDefaultValue:!1},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0},{key:"enable-buy-flow-warning",defaultValue:!1},{key:"enable-onboarding-aa",defaultValue:!1},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash-kms-default",defaultValue:!1,devDefaultValue:!1},{key:"enable-new-activity",defaultValue:!1,devDefaultValue:!0},{key:"enable-price-streaming",defaultValue:!1,devDefaultValue:!0}]),IZ=TZ("general",[{key:"feed-feedback-link",type:"string",nullable:!0},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0},{key:"psol-popup-copy-test",type:"string",nullable:!0},{key:"swapper-poll-interval-json",type:"object",nullable:!0},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0},{key:"enabled-ugc-programs",type:"object",nullable:!0},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0},{key:"explore-config",type:"object",nullable:!0},{key:"launches-config",type:"object",nullable:!0},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0},{key:"network-logger-config-json",type:"object",nullable:!0}]),P4=_Z("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check","kill-sync-account-names",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-sui-default-on-modal","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-funding","kill-perps-withdrawal"]);d();h();var MZ=Ns(t=>({data:t.map(r=>r.startsWith("kill-")?P4(r):k4(r)),isLoading:!1,isFetched:!0})),V1={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:_1(()=>t.startsWith("kill-")?P4(t):k4(t))},isFeatureEnabledAsync(t){return t.startsWith("kill-")?t4(P4,t):t4(k4,t)},getMultivariateAssignment(t,e){let r=_1(()=>IZ(t));return typeof r=="string"||r===null?r:JSON.stringify(r)}};d();h();d();h();var Ibt=T.EPPO_API_KEY;d();h();d();h();var Mbt="Error message ignored by logging middleware.",S6e=t=>({beforeEvent:(...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(Mbt);return{value:e,...r.data?{data:r.data}:{}}},afterEvent:void 0});d();h();var kbt="Sensitive data detected by pki scanner. File logging blocked.",Pbt=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],A6e=new RegExp(`(${Pbt.join("|")})`,"mi"),nS={beforeEvent:(...[t,e])=>{let r=t instanceof Error?t.message:t;if(A6e.test(r)||e.data&&A6e.test(JSON.stringify(e.data)))throw new Error(kbt);return{value:t,...e.data?{data:e.data}:{}}},afterEvent:void 0};var Rbt=["premature close"],Cbt=S6e(Rbt),H1=class extends Error{constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function Bbt(t=[]){let e=null;async function r({provider:l}){await l.init(),e={provider:l}}async function n(l){if(!e)throw new H1;return e.provider.downloadLog(l)}async function i(){if(!e)throw new H1;return e.provider.getLogFilePaths()}async function o(){if(!e)throw new H1;return e.provider.getRecentLogs()}async function s(l){if(!e)throw new H1;return e.provider.sendLogFilesByEmail(l)}function u(l,m,x,w){if(!e)throw new H1;for(let E of t)if(E?.beforeEvent!==void 0)try{E.beforeEvent(l,{featureTag:m,severity:x})}catch(I){uc()&&I instanceof Error&&console.warn(I.message);return}e.provider.write(l,m,x,w);for(let E of t)if(E?.afterEvent!==void 0)try{E.afterEvent(l,{featureTag:m,severity:x})}catch(I){uc()&&I instanceof Error&&console.warn(I.message);return}}return{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:o,sendLogFilesByEmail:s,write:u}}var j1=Bbt([Cbt,nS]);d();h();d();h();d();h();d();h();d();h();d();h();function iS(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return E6e[t]>=E6e[r.getLevel()]&&i.includes(e)}var $t={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},E6e={[$t.ok]:0,[$t.debug]:1,[$t.info]:2,[$t.notice]:4,[$t.warn]:5,[$t.error]:6,[$t.critical]:7,[$t.alert]:8,[$t.emerg]:9};d();h();function Ky(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}var Obt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(s=t[u])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},z1={console:"console",http:"http",silent:"silent"},_6e=Object.keys($t),Ea=class{constructor(e,r,n=z1.http,i=$t.debug,o={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=yx("logger"),this.contextManager.setContext(o),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=$t.info,i,o){let s=hx(r),u;if(i!=null){let l=Yoe({stackTrace:Qoe(i)?TT(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:Qs.LOGGER,handling:"handled",startClocks:Loe()});u=px({error:Ky(l,{includeMessage:!0})},s)}else u=s;this.handleLogStrategy({message:hx(e),context:u,status:n},this,o)}log(e,r,n=$t.info,i){let o;iS(n,z1.http,this)&&(o=NL("log")),this.logImplementation(e,r,n,i,o)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};Obt([qoe],Ea.prototype,"logImplementation",null);Ea.prototype.ok=Q0($t.ok);Ea.prototype.debug=Q0($t.debug);Ea.prototype.info=Q0($t.info);Ea.prototype.notice=Q0($t.notice);Ea.prototype.warn=Q0($t.warn);Ea.prototype.error=Q0($t.error);Ea.prototype.critical=Q0($t.critical);Ea.prototype.alert=Q0($t.alert);Ea.prototype.emerg=Q0($t.emerg);function Q0(t){return function(e,r,n){let i;iS(t,z1.http,this)&&(i=NL("log")),this.logImplementation(e,r,t,n,i)}}d();h();function T6e(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}d();h();d();h();var Nbt=32*1024;function M6e(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&hd.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=zoe(t),r=I6e(t.forwardConsoleLogs,DL(mo),"Forward Console Logs"),n=I6e(t.forwardReports,DL(ese),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(mo.error)&&r.push(mo.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Nbt,...e}}function I6e(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){hd.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:ise(t)}function k6e(t){let e=Woe(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}function P6e(t,e,r){let n=ose(),i,o,s=e.observable.subscribe(u);function u(){if(!o||!i||!e.isGranted())return;s.unsubscribe();let l=r(i,o);n.drain(l)}return{init(l){if(!l){hd.error("Missing configuration");return}if(Goe(l.enableExperimentalFeatures),Hh()&&(l=Ubt(l)),i=l,o){MT("DD_LOGS",l);return}let m=M6e(l);m&&(o=m,CT().subscribe(Zc),e.tryToInit(m.trackingConsent),u())},get initConfiguration(){return i},getInternalContext:Zc,handleLog(l,m,x,w=t(),E=Dp()){n.add(I=>I.handleLog(l,m,x,w,E))}}}function Ubt(t){return{...t,clientToken:"empty"}}var kZ="logs";function R6e(t){let e=yx("global context"),r=yx("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=yx("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=Hoe();function o(){return T6e(e,r,n)}let s=P6e(o,i,(m,x)=>{m.storeContextsAcrossPages&&(BT(x,e,kZ,2),BT(x,r,kZ,1),BT(x,n,kZ,4));let w=t(m,x,o,i);return s=Lbt(m,w),w}),u={},l=new Ea((...m)=>s.handleLog(...m));return Xoe({logger:l,init:li(m=>s.init(m)),setTrackingConsent:li(m=>{i.update(m),fse({feature:"set-tracking-consent",tracking_consent:m})}),getGlobalContext:li(()=>e.getContext()),setGlobalContext:li(m=>e.setContext(m)),setGlobalContextProperty:li((m,x)=>e.setContextProperty(m,x)),removeGlobalContextProperty:li(m=>e.removeContextProperty(m)),clearGlobalContext:li(()=>e.clearContext()),createLogger:li((m,x={})=>(u[m]=new Ea((...w)=>s.handleLog(...w),hx(m),x.handler,x.level,hx(x.context)),u[m])),getLogger:li(m=>u[m]),getInitConfiguration:li(()=>nse(s.initConfiguration)),getInternalContext:li(m=>s.getInternalContext(m)),setUser:li(r.setContext),getUser:li(r.getContext),setUserProperty:li(r.setContextProperty),removeUserProperty:li(r.removeContextProperty),clearUser:li(r.clearContext),setAccount:li(n.setContext),getAccount:li(n.getContext),setAccountProperty:li(n.setContextProperty),removeAccountProperty:li(n.removeContextProperty),clearAccount:li(n.clearContext)})}function Lbt(t,e){return{init:r=>{MT("DD_LOGS",r)},initConfiguration:t,...e}}d();h();d();h();var Fbt="logs";function C6e(t,e){let r=lse(t,Fbt,n=>Kbt(t,n),e);return{findTrackedSession:(n,i={returnInactive:!1})=>{let o=r.findSession(n,i);return o&&o.trackingType==="1"?{id:o.id,anonymousId:o.anonymousId}:void 0},expireObservable:r.expireObservable}}function B6e(t){let r=O6e(t)==="1"?{}:void 0;return{findTrackedSession:()=>r,expireObservable:new _T}}function O6e(t){return ET(t.sessionSampleRate)?"1":"0"}function Kbt(t,e){let r=qbt(e)?e:O6e(t);return{trackingType:r,isTracked:r==="1"}}function qbt(t){return t==="0"||t==="1"}d();h();d();h();var D6e=!1;function oS(t){let e=self;if(OT()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!D6e&&(D6e=!0,Np("Logs sent before RUM is injected by the synthetics worker",{testId:Sse(),resultId:Ase()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}function N6e(t,e,r,n,i){let o=_6e.concat(["custom"]),s={};o.forEach(u=>{s[u]=gse(u,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:u,messageContext:l=void 0,savedCommonContext:m=void 0,domainContext:x})=>{var w,E;let I=Foe(u.date),M=t.findTrackedSession(I);if(!t.findTrackedSession(I,{returnInactive:!0}))return;let C=m||n(),R;!OL(C.account)&&C.account.id&&(R=C.account),M&&M.anonymousId&&!C.user.anonymous_id&&(C.user.anonymous_id=M.anonymousId);let L=px({service:e.service,session_id:M?M.id:void 0,session:M?{id:M.id}:void 0,usr:OL(C.user)?void 0:C.user,account:R,view:C.view},C.context,oS(I),u,l);((w=e.beforeSend)===null||w===void 0?void 0:w.call(e,L,x))===!1||L.origin!==Qs.AGENT&&((E=s[L.status])!==null&&E!==void 0?E:s.custom).isLimitReached()||r.notify(1,L)})}d();h();var Vbt={[mo.log]:$t.info,[mo.debug]:$t.debug,[mo.info]:$t.info,[mo.warn]:$t.warn,[mo.error]:$t.error};function U6e(t,e){let r=xse(t.forwardConsoleLogs).subscribe(n=>{var i;let o={rawLogsEvent:{date:Dp(),message:n.message,origin:Qs.CONSOLE,error:n.error&&Ky(n.error),status:Vbt[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,o)});return{stop:()=>{r.unsubscribe()}}}d();h();function L6e(t,e){let r=tse(t,t.forwardReports).subscribe(n=>{let i=n.message,o,s=n.originalError.type==="deprecation"?$t.warn:$t.error;s===$t.error?o=Ky(n):n.stack&&(i+=` Found in ${Zoe(n.stack)}`),e.notify(0,{rawLogsEvent:{date:Dp(),message:i,origin:Qs.REPORT,error:o,status:s}})});return{stop:()=>{r.unsubscribe()}}}d();h();function F6e(t,e){if(!t.forwardErrorsToLogs)return{stop:Zc};let r=vse(t).subscribe(o=>{o.state==="complete"&&i("xhr",o)}),n=CT().subscribe(o=>{o.state==="resolve"&&i("fetch",o)});function i(o,s){!joe(s.url)&&(Wbt(s)||dse(s.status))&&("xhr"in s?Hbt(s.xhr,t,u):s.response?zbt(s.response,t,u):s.error&&jbt(s.error,t,u));function u(l){let m={isAborted:s.isAborted,handlingStack:s.handlingStack};e.notify(0,{rawLogsEvent:{message:`${Gbt(o)} error ${s.method} ${s.url}`,date:s.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:s.method,status_code:s.status,url:s.url},status:$t.error,origin:Qs.NETWORK},domainContext:m})}}return{stop:()=>{r.unsubscribe(),n.unsubscribe()}}}function Hbt(t,e,r){typeof t.response=="string"?r(PZ(t.response,e)):r(t.response)}function jbt(t,e,r){r(PZ($oe(TT(t)),e))}function zbt(t,e,r){let n=hse(t);!n||!n.body?r():self.TextDecoder?$bt(n.body,e.requestErrorResponseLengthLimit,(i,o)=>{r(i?`Unable to retrieve response: ${i}`:o)}):n.text().then(li(i=>r(PZ(i,e))),li(i=>r(`Unable to retrieve response: ${i}`)))}function Wbt(t){return t.status===0&&t.responseType!=="opaque"}function PZ(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}function Gbt(t){return t==="xhr"?"XHR":"Fetch"}function $bt(t,e,r){wse(t,(n,i,o)=>{if(n)r(n);else{let s=new TextDecoder().decode(i);o&&(s+="..."),r(void 0,s)}},{bytesLimit:e,collectStreamBody:!0})}d();h();function K6e(t,e){if(!t.forwardErrorsToLogs)return{stop:Zc};let r=new _T,{stop:n}=Joe(r),i=r.subscribe(o=>{e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:Ky(o),origin:Qs.SOURCE,status:$t.error},messageContext:o.context})});return{stop:()=>{n(),i.unsubscribe()}}}d();h();var q6e=yse;d();h();function V6e(t){function e(r,n,i,o,s){let u=px(n.getContext(),r.context);if(iS(r.status,z1.console,n)&&Zbt(r,u),iS(r.status,z1.http,n)){let l={rawLogsEvent:{date:s||Dp(),message:r.message,status:r.status,origin:Qs.LOGGER},messageContext:u,savedCommonContext:o};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return{handleLog:e}}var Ybt={[$t.ok]:mo.debug,[$t.debug]:mo.debug,[$t.info]:mo.info,[$t.notice]:mo.info,[$t.warn]:mo.warn,[$t.error]:mo.error,[$t.critical]:mo.error,[$t.alert]:mo.error,[$t.emerg]:mo.error};function Zbt({status:t,message:e},r){Doe[Ybt[t]].call(Ooe,e,r)}d();h();function H6e(t,e,r,n,i){let o=RT(t,{endpoint:t.logsEndpointBuilder,encoder:mx()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:mx()},r,n,i.expireObservable);return e.subscribe(1,s=>{o.add(s)}),o}d();h();function j6e(t){let e=PT();t.subscribe(1,r=>{e.send("log",r)})}d();h();function z6e(t){return{get:e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}}}}d();h();function W6e(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:Qs.AGENT,status:$t.error}}),Np("Error reported to customer",{"error.message":e.message})}}d();h();function G6e(t,e,r,n,i){let o=sse("browser-logs-sdk",e);o.setContextProvider(()=>{var u,l,m,x,w,E;return{application:{id:(u=oS())===null||u===void 0?void 0:u.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(x=(m=oS())===null||m===void 0?void 0:m.view)===null||x===void 0?void 0:x.id},action:{id:(E=(w=oS())===null||w===void 0?void 0:w.user_action)===null||E===void 0?void 0:E.id}}});let s=[];if(Hh()){let u=PT(),l=o.observable.subscribe(m=>u.send("internal_telemetry",m));s.push(()=>l.unsubscribe())}else{let u=RT(e,{endpoint:e.rumEndpointBuilder,encoder:mx()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:mx()},r,n,i.expireObservable);s.push(()=>u.stop());let l=o.observable.subscribe(m=>u.add(m,cse(e)));s.push(()=>l.unsubscribe())}return ase(),use(k6e(t)),{telemetry:o,stop:()=>{s.forEach(u=>u())}}}function $6e(t,e,r,n){let i=new q6e,o=[];i.subscribe(1,E=>rse("logs",E));let s=W6e(i),u=mse(e),l=e.sessionStoreStrategyType&&!Hh()&&!OT()?C6e(e,n):B6e(e),{stop:m}=G6e(t,e,s,u,l);o.push(()=>m()),F6e(e,i),K6e(e,i),U6e(e,i),L6e(e,i);let{handleLog:x}=V6e(i);if(N6e(l,e,i,r,s),Hh())j6e(i);else{let{stop:E}=H6e(e,i,s,u,l);o.push(()=>E())}let w=z6e(l);return{handleLog:x,getInternalContext:w.get,stop:()=>{o.forEach(E=>E())}}}var qy=R6e($6e);IT(dx(),"DD_LOGS",qy);d();h();d();h();d();h();d();h();function R4(t,e,r){let n=0,i=[],o,s=0,u=[],{stop:l}=RE(t,e,"message",({data:w})=>{if(w.type!=="wrote"||w.streamId!==r)return;n+=w.additionalBytesCount,i.push(w.result),o=w.trailer;let E=u.shift();E&&E.id===w.id?E.writeCallback?E.writeCallback(w.result.byteLength):E.finishCallback&&E.finishCallback():(l(),Np("Worker responses received out of order."))});function m(){let w=i.length===0?new Uint8Array(0):Koe(i.concat(o)),E={rawBytesCount:n,output:w,outputBytesCount:w.byteLength,encoding:"deflate"};return n=0,i=[],E}function x(){s>0&&(e.postMessage({action:"reset",streamId:r}),s=0)}return{isAsync:!0,get isEmpty(){return s===0},write(w,E){e.postMessage({action:"write",id:s,data:w,streamId:r}),u.push({id:s,writeCallback:E,data:w}),s+=1},finish(w){x(),u.length?(u.forEach(E=>{delete E.writeCallback}),u[u.length-1].finishCallback=()=>w(m())):w(m())},finishSync(){x();let w=u.map(E=>(delete E.writeCallback,delete E.finishCallback,E.data)).join("");return{...m(),pendingData:w}},estimateEncodedBytesCount(w){return w.length/8},stop(){l()}}}d();h();d();h();function sS({configuredUrl:t,error:e,source:r,scriptType:n}){if(hd.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&Qbt(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",hd.error(`${i} See documentation at ${Noe}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&kT(e)}function Qbt(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}var Jbt=30*Uoe;function Y6e(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}var fo={status:0};function C4(t,e,r,n=Y6e){switch(fo.status===0&&Xbt(t,e,n),fo.status){case 1:return fo.initializationFailureCallbacks.push(r),fo.worker;case 3:return fo.worker}}function qC(){return fo.status}function Xbt(t,e,r=Y6e){try{let n=r(t),{stop:i}=RE(t,n,"error",u=>{RZ(t,e,u)}),{stop:o}=RE(t,n,"message",({data:u})=>{u.type==="errored"?RZ(t,e,u.error,u.streamId):u.type==="initialized"&&t1t(u.version)});n.postMessage({action:"init"}),Voe(()=>e1t(e),Jbt),fo={status:1,worker:n,stop:()=>{i(),o()},initializationFailureCallbacks:[]}}catch(n){RZ(t,e,n)}}function e1t(t){fo.status===1&&(hd.error(`${t} failed to start: a timeout occurred while initializing the Worker`),fo.initializationFailureCallbacks.forEach(e=>e()),fo={status:2})}function t1t(t){fo.status===1&&(fo={status:3,worker:fo.worker,stop:fo.stop,version:t})}function RZ(t,e,r,n){fo.status===1||fo.status===0?(sS({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),fo.status===1&&fo.initializationFailureCallbacks.forEach(i=>i()),fo={status:2}):kT(r,{worker_version:fo.status===3&&fo.version,stream_id:n})}d();h();function VC(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}d();h();d();h();function Z6e(t,e,r,n){let i=e.findTrackedSession(),o=r1t(i,n),s=r.findView();return Tse(t,{viewContext:s,errorType:o,session:i})}function r1t(t,e){if(!VC())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}function Q6e(t,e,r,n,i,o){let s=0,u;e.subscribe(9,()=>{(s===2||s===3)&&(x(),s=1)}),e.subscribe(10,()=>{s===1&&m()});let l=async()=>{let[w]=await Promise.all([i(),bse(t,"interactive")]);if(s!==2)return;let E=o();if(!E||!w){s=0;return}({stop:u}=w(e,t,r,n,E)),s=3};function m(w){let E=r.findTrackedSession();if(n1t(E,w)){s=1;return}i1t(s)||(s=2,l().catch(PE),o1t(E,w)&&r.setForcedReplay())}function x(){s===3&&u?.(),s=0}return{start:m,stop:x,getSessionReplayLink(){return Z6e(t,r,n,s!==0)},isRecording:()=>s===3}}function n1t(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}function i1t(t){return t===2||t===3}function o1t(t,e){return e&&e.force&&t.sessionReplay===0}d();h();function J6e(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:()=>!1,getSessionReplayLink:Zc},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}function X6e(t,e){if(Hh()&&!pse("records")||!VC())return{start:Zc,stop:Zc,getReplayStats:()=>{},onRumStart:Zc,isRecording:()=>!1,getSessionReplayLink:()=>{}};let{strategy:r,shouldStartImmediately:n}=J6e();return{start:o=>r.start(o),stop:()=>r.stop(),getSessionReplayLink:()=>r.getSessionReplayLink(),onRumStart:i,isRecording:()=>qC()===3&&r.isRecording(),getReplayStats:o=>qC()===3?Ise(o):void 0};function i(o,s,u,l,m){let x;function w(){return x||(m??(m=C4(s,"Datadog Session Replay",()=>{r.stop()},e)),m&&(x=R4(s,m,1))),x}r=Q6e(s,o,u,l,t,w),n(s)&&r.start()}}d();h();async function e_e(t=s1t){try{return await t()}catch(e){sS({error:e,source:"Recorder",scriptType:"module"})}}async function s1t(){return(await import("./startRecording-ESF4DKSX.js")).startRecording}d();h();d();h();function t_e(){return dx().Profiler!==void 0}d();h();async function r_e(t=a1t){try{return await t()}catch(e){sS({error:e,source:"Profiler",scriptType:"module"})}}async function a1t(){return(await import("./profiler-5WWWGQYS.js")).createRumProfiler}function n_e(){let t;function e(r,n,i,o){!t_e()||!ET(n.profilingSampleRate)||r_e().then(s=>{if(!s){Np("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=s(n,r,i),t.start(o.findView())}).catch(PE)}return{onRumStart:e,stop:()=>{t?.stop().catch(PE)}}}var c1t=X6e(e_e),u1t=n_e(),W1=Ese(_se,c1t,u1t,{startDeflateWorker:C4,createDeflateEncoder:R4});IT(dx(),"DD_RUM",W1);d();h();d();h();var B4={init:async(t,e)=>{},captureError:(t,e)=>{},captureMessage:(t,e,r="info")=>{},addBreadcrumb:(t,e,r)=>{},setUser:async t=>{},setTags:async t=>{},captureMetric:async(t,e,r)=>{},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:t=>{},trackFeatureFlag:(t,e)=>{}};d();h();var J0=t=>{switch(t){case"collectibles":case"magicEden":case"fungibles":case"staking":case"swapper":case"perps":case"prices":case"webTokenPage":case"webExplorePage":case"tokens":case"webTokensSitemap":return"PD";case"autoConfirm":case"deepLinks":case"dappBrowser":case"dappRegistry":case"network":case"transaction":case"provider":case"history":case"trustedApps":case"simulation":case"mobileEmbedded":return"WP";case"webAppPage":case"account":case"Auth":case"actionBanner":case"authentication":case"ledger":case"se*dless":case"settings":case"migration":case"mobileWalletAdapter":case"generic":case"startUp":case"webPortal":case"notifications":case"webPublicSite":return"IO";case"bugReporter":case"storage":case"fileLogger":case"featureFlags":case"performance":return"PL";case"safeguard":return"TRA";case"profiles":case"feed":case"feedNotifications":case"webUserPage":case"userSearch":return"SOC";case"stripe":case"kyc":case"onRamp":case"cashAccount":case"cashActivity":case"cashTransfer":return"CASH"}};d();h();var HC;function i_e(){return HC===void 0&&(typeof process<"u"&&T?HC=T.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(HC=self.process.env.DATADOG_CLIENT_TOKEN)),HC}var l1t={init:async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||i_e();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate;W1.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:kE,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"]}),qy.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:kE,silentMultipleInit:!0,trackAnonymousUser:!1})},captureError:(t,e)=>{CZ(t.message,"error",{feature:e,team:J0(e)},t)},captureMessage:(t,e,r="info")=>{CZ(t,r,{feature:e,team:J0(e)})},addBreadcrumb:(t,e,r,n={})=>{CZ(e,r,{category:t,...n})},setUser:async t=>{qy.setUser(t),W1.setUser(t)},setTags:async t=>{W1.setGlobalContext({tags:t}),qy.setGlobalContext({tags:t})},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:()=>{},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{W1.addFeatureFlagEvaluation(t,e)}};function CZ(t,e,r,n){switch((e==="error"||e==="fatal")&&W1.addError(n??t,r),e){case"fatal":!n&&qy.logger.critical(t,{context:r});break;case"error":!n&&qy.logger.error(t,{context:r});break;case"info":qy.logger.info(t,{context:r},n);break;case"debug":break}}function d1t(){return typeof document<"u"}var jC=d1t()?l1t:B4;d();h();var zC=t=>({beforeEvent:(...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},afterEvent:void 0});d();h();d();h();var h1t=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,p1t=/\b0x[a-fA-F0-9]{64}\b/g,m1t=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,y1t=/\b0x[a-fA-F0-9]{40}\b/g,o_e={SOLANA_SIGNATURE:h1t,EVM_SIGNATURE:p1t,SOLANA_PUBKEY:m1t,EVM_PUBKEY:y1t},s_e=t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=WC(n):e[r]=n,e),{}),WC=t=>{let e=t;for(let r in o_e){let n=o_e[r];e=e.replace(n,"")}return e},g1t=t=>(t.message&&(t.message=WC(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=WC(t.cause)),t),a_e=t=>t instanceof Error?g1t(t):WC(t);var GC={beforeEvent:(...[t,e])=>({value:a_e(t),...e.data?{data:s_e(e.data)}:{}}),afterEvent:void 0};d();h();function $C(t,e){return{init:async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},captureError:(r,n)=>{Pf(()=>t.captureError(r,n)),Pf(()=>e.captureError(r,n))},captureMessage:(r,n,i="info")=>{Pf(()=>t.captureMessage(r,n,i)),Pf(()=>e.captureMessage(r,n,i))},addBreadcrumb:(r,n,i,o)=>{Pf(()=>t.addBreadcrumb(r,n,i,o)),Pf(()=>e.addBreadcrumb(r,n,i,o))},setUser:async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},setTags:async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},captureMetric:async(r,n,i)=>{Pf(()=>e.captureMetric(r,n,i))},startSpan:(r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),startInactiveSpan:r=>{let n=Pf(()=>t.startInactiveSpan(r)),i=Pf(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:()=>b1t(n,i)})},trackFeatureFlag:(r,n)=>{Pf(()=>t.trackFeatureFlag(r,n)),Pf(()=>e.trackFeatureFlag(r,n))}}}function Pf(t){try{return t()}catch(e){uc()&&console.error("[MultiProvider] Error:",e);return}}function b1t(...t){for(let e of t)e&&Pf(()=>e.then(r=>r.end()))}d();h();d();h();d();h();d();h();d();h();d();h();var Ut=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();d();h();d();h();var Ul="8.55.0";var Yt=globalThis;function Vy(t,e,r){let n=r||Yt,i=n.__SENTRY__=n.__SENTRY__||{},o=i[Ul]=i[Ul]||{};return o[t]||(o[t]=e())}d();h();d();h();var Ic=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();var v1t="Sentry Logger ",O4=["debug","info","warn","error","log","assert","trace"],aS={};function Mc(t){if(!("console"in Yt))return t();let e=Yt.console,r={},n=Object.keys(aS);n.forEach(i=>{let o=aS[i];r[i]=e[i],e[i]=o});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function x1t(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Ic?O4.forEach(r=>{e[r]=(...n)=>{t&&Mc(()=>{Yt.console[r](`${v1t}[${r}]:`,...n)})}}):O4.forEach(r=>{e[r]=()=>{}}),e}var et=Vy("logger",x1t);d();h();var sh="?",c_e=/\(error: (.*)\)/,u_e=/captureMessage|captureException/;function ZC(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let o=[],s=r.split(`
`);for(let u=n;u<s.length;u++){let l=s[u];if(l.length>1024)continue;let m=c_e.test(l)?l.replace(c_e,"$1"):l;if(!m.match(/\S*Error: /)){for(let x of e){let w=x(m);if(w){o.push(w);break}}if(o.length>=50+i)break}}return f_e(o.slice(i))}}function OZ(t){return Array.isArray(t)?ZC(...t):t}function f_e(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(YC(e).function||"")&&e.pop(),e.reverse(),u_e.test(YC(e).function||"")&&(e.pop(),u_e.test(YC(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||YC(e).filename,function:r.function||sh}))}function YC(t){return t[t.length-1]||{}}var BZ="<anonymous>";function kc(t){try{return!t||typeof t!="function"?BZ:t.name||BZ}catch{return BZ}}function QC(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}var JC={},l_e={};function _a(t,e){JC[t]=JC[t]||[],JC[t].push(e)}function Ta(t,e){if(!l_e[t]){l_e[t]=!0;try{e()}catch(r){Ic&&et.error(`Error while instrumenting ${t}`,r)}}}function Eo(t,e){let r=t&&JC[t];if(r)for(let n of r)try{n(e)}catch(i){Ic&&et.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${kc(n)}
Error:`,i)}}var DZ=null;function D4(t){let e="error";_a(e,t),Ta(e,w1t)}function w1t(){DZ=Yt.onerror,Yt.onerror=function(t,e,r,n,i){return Eo("error",{column:n,error:i,line:r,msg:t,url:e}),DZ?DZ.apply(this,arguments):!1},Yt.onerror.__SENTRY_INSTRUMENTED__=!0}d();h();var NZ=null;function N4(t){let e="unhandledrejection";_a(e,t),Ta(e,S1t)}function S1t(){NZ=Yt.onunhandledrejection,Yt.onunhandledrejection=function(t){return Eo("unhandledrejection",t),NZ?NZ.apply(this,arguments):!0},Yt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}d();h();d();h();d();h();function yu(){return U4(Yt),Yt}function U4(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Ul,e[Ul]=e[Ul]||{}}d();h();d();h();d();h();d();h();d();h();d();h();d();h();var d_e=Object.prototype.toString;function G1(t){switch(d_e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return gu(t,Error)}}function cS(t,e){return d_e.call(t)===`[object ${e}]`}function XC(t){return cS(t,"ErrorEvent")}function eB(t){return cS(t,"DOMError")}function UZ(t){return cS(t,"DOMException")}function Ja(t){return cS(t,"String")}function uS(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function $1(t){return t===null||uS(t)||typeof t!="object"&&typeof t!="function"}function Ll(t){return cS(t,"Object")}function Y1(t){return typeof Event<"u"&&gu(t,Event)}function LZ(t){return typeof Element<"u"&&gu(t,Element)}function FZ(t){return cS(t,"RegExp")}function Fl(t){return!!(t&&t.then&&typeof t.then=="function")}function KZ(t){return Ll(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function gu(t,e){try{return t instanceof e}catch{return!1}}function L4(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}var fS=Yt,A1t=80;function bu(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],o=0,s=0,u=" > ",l=u.length,m,x=Array.isArray(e)?e:e.keyAttrs,w=!Array.isArray(e)&&e.maxStringLength||A1t;for(;r&&o++<n&&(m=E1t(r,x),!(m==="html"||o>1&&s+i.length*l+m.length>=w));)i.push(m),s+=m.length,r=r.parentNode;return i.reverse().join(u)}catch{return"<unknown>"}}function E1t(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(fS.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let s=r.className;if(s&&Ja(s)){let u=s.split(/\s+/);for(let l of u)n.push(`.${l}`)}}let o=["aria-label","type","name","title","alt"];for(let s of o){let u=r.getAttribute(s);u&&n.push(`[${s}="${u}"]`)}return n.join("")}function qZ(){try{return fS.document.location.href}catch{return""}}function VZ(t){return fS.document&&fS.document.querySelector?fS.document.querySelector(t):null}function F4(t){if(!fS.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}d();h();function ah(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function tB(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{L4(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function h_e(t,e,r=!1){return Ja(t)?FZ(e)?e.test(t):Ja(e)?r?t===e:t.includes(e):!1:!1}function ch(t,e=[],r=!1){return e.some(n=>h_e(t,n,r))}function Lo(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&rB(i,n);try{t[e]=i}catch{Ic&&et.log(`Failed to replace method "${e}" in object`,t)}}function lo(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Ic&&et.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function rB(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,lo(t,"__sentry_original__",e)}catch{}}function Z1(t){return t.__sentry_original__}function nB(t){if(G1(t))return{message:t.message,name:t.name,stack:t.stack,...m_e(t)};if(Y1(t)){let e={type:t.type,target:p_e(t.target),currentTarget:p_e(t.currentTarget),...m_e(t)};return typeof CustomEvent<"u"&&gu(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function p_e(t){try{return LZ(t)?bu(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function m_e(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function jZ(t,e=40){let r=Object.keys(nB(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return ah(n,e);for(let i=r.length;i>0;i--){let o=r.slice(0,i).join(", ");if(!(o.length>e))return i===r.length?o:ah(o,e)}return""}function Gn(t){return HZ(t,new Map)}function HZ(t,e){if(_1t(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=HZ(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(HZ(i,e))}),n}return t}function _1t(t){if(!Ll(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}d();h();var y_e=1e3;function uh(){return Date.now()/y_e}function T1t(){let{performance:t}=Yt;if(!t||!t.now)return uh;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/y_e}var ro=T1t(),K4,_o=(()=>{let{performance:t}=Yt;if(!t||!t.now){K4="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=i<e,s=t.timing&&t.timing.navigationStart,l=typeof s=="number"?Math.abs(s+r-n):e,m=l<e;return o||m?i<=l?(K4="timeOrigin",t.timeOrigin):(K4="navigationStart",s):(K4="dateNow",n)})();d();h();function Fo(){let t=Yt,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function g_e(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Kl(t){let{message:e,event_id:r}=t;if(e)return e;let n=g_e(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function lS(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=r||"Error")}function fh(t,e){let r=g_e(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let o={...i&&i.data,...e.data};r.mechanism.data=o}}function iB(t){if(I1t(t))return!0;try{lo(t,"__sentry_captured__",!0)}catch{}return!1}function I1t(t){try{return t.__sentry_captured__}catch{}}d();h();var X0;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(X0||(X0={}));function Rf(t){return new ql(e=>{e(t)})}function Hy(t){return new ql((e,r)=>{r(t)})}var ql=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=X0.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(s){i(s)}},o=>{if(!r)i(o);else try{n(r(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,o;return this.then(s=>{o=!1,i=s,e&&e()},s=>{o=!0,i=s,e&&e()}).then(()=>{if(o){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(X0.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(X0.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===X0.PENDING){if(Fl(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===X0.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===X0.RESOLVED&&r[1](this._value),this._state===X0.REJECTED&&r[2](this._value),r[0]=!0)})}}};function b_e(t){let e=ro(),r={sid:Fo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>M1t(r)};return t&&ep(r,t),r}function ep(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ro(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Fo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function v_e(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),ep(t,r)}function M1t(t){return Gn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}d();h();function Pc(){return Fo()}function Rc(){return Fo().substring(16)}d();h();function dS(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=dS(n[i],e[i],r-1));return n}d();h();var zZ="_sentrySpan";function tp(t,e){e?lo(t,zZ,e):delete t[zZ]}function Q1(t){return t[zZ]}var k1t=100,WZ=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Pc(),spanId:Rc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,tp(e,Q1(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ep(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof vu?[r.getScopeData(),r.getRequestSession()]:Ll(r)?[e,e.requestSession]:[],{tags:o,extra:s,user:u,contexts:l,level:m,fingerprint:x=[],propagationContext:w}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},u&&Object.keys(u).length&&(this._user=u),m&&(this._level=m),x.length&&(this._fingerprint=x),w&&(this._propagationContext=w),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,tp(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Pc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:k1t;if(n<=0)return this;let i={timestamp:uh(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Q1(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=dS(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Rc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Fo();if(!this._client)return et.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:Fo();if(!this._client)return et.warn("No client configured on scope - will not capture message!"),i;let o=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Fo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(et.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},vu=WZ;function x_e(){return Vy("defaultCurrentScope",()=>new vu)}function w_e(){return Vy("defaultIsolationScope",()=>new vu)}var GZ=class{constructor(e,r){let n;e?n=e:n=new vu;let i;r?i=r:i=new vu,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return Fl(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function hS(){let t=yu(),e=U4(t);return e.stack=e.stack||new GZ(x_e(),w_e())}function P1t(t){return hS().withScope(t)}function R1t(t,e){let r=hS();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function S_e(t){return hS().withScope(()=>t(hS().getIsolationScope()))}function A_e(){return{withIsolationScope:S_e,withScope:P1t,withSetScope:R1t,withSetIsolationScope:(t,e)=>S_e(e),getCurrentScope:()=>hS().getScope(),getIsolationScope:()=>hS().getIsolationScope()}}function lh(t){let e=U4(t);return e.acs?e.acs:A_e()}d();h();function hr(){let t=yu();return lh(t).getCurrentScope()}function Ko(){let t=yu();return lh(t).getIsolationScope()}function oB(){return Vy("globalScope",()=>new vu)}function jy(...t){let e=yu(),r=lh(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}function Qt(){return hr().getClient()}function $Z(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return Gn({trace_id:r,span_id:n,parent_span_id:i})}d();h();var C1t="_sentryMetrics";function q4(t){let e=t[C1t];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(Gn(i));return r}d();h();var Ia="sentry.source",pS="sentry.sample_rate",Xa="sentry.op",$n="sentry.origin",mS="sentry.idle_span_finish_reason",zy="sentry.measurement_unit",Wy="sentry.measurement_value",V4="sentry.custom_span_name",YZ="sentry.profile_id",J1="sentry.exclusive_time";d();h();function ZZ(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function yS(t,e){t.setAttribute("http.response.status_code",e);let r=ZZ(e);r.message!=="unknown_error"&&t.setStatus(r)}d();h();d();h();var sB="sentry-",B1t=/^sentry-/,O1t=8192;function aB(t){let e=D1t(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,o])=>{if(i.match(B1t)){let s=i.slice(sB.length);n[s]=o}return n},{});if(Object.keys(r).length>0)return r}function QZ(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${sB}${n}`]=i),r),{});return N1t(e)}function D1t(t){if(!(!t||!Ja(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=E_e(r);return Object.entries(n).forEach(([i,o])=>{e[i]=o}),e},{}):E_e(t)}function E_e(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}function N1t(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let o=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,s=i===0?o:`${e},${o}`;return s.length>O1t?(Ic&&et.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s},"")}var cB=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function __e(t){if(!t)return;let e=t.match(cB);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function JZ(t,e){let r=__e(t),n=aB(e);if(!r||!r.traceId)return{traceId:Pc(),spanId:Rc()};let{traceId:i,parentSpanId:o,parentSampled:s}=r,u=Rc();return{traceId:i,parentSpanId:o,spanId:u,sampled:s,dsc:n||{}}}function H4(t=Pc(),e=Rc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}var uB=0,eQ=1,T_e=!1;function M_e(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:o,status:s,origin:u}=Jt(t);return Gn({parent_span_id:o,span_id:e,trace_id:r,data:n,op:i,status:s,origin:u})}function tQ(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:Jt(t).parent_span_id,o=n?Rc():e;return Gn({parent_span_id:i,span_id:o,trace_id:r})}function fB(t){let{traceId:e,spanId:r}=t.spanContext(),n=Cf(t);return H4(e,r,n)}function Vl(t){return typeof t=="number"?I_e(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?I_e(t.getTime()):ro()}function I_e(t){return t>9999999999?t/1e3:t}function Jt(t){if(K1t(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(F1t(t)){let{attributes:n,startTime:i,name:o,endTime:s,parentSpanId:u,status:l}=t;return Gn({span_id:e,trace_id:r,data:n,description:o,parent_span_id:u,start_timestamp:Vl(i),timestamp:Vl(s)||void 0,status:lB(l),op:n[Xa],origin:n[$n],_metrics_summary:q4(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function F1t(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function K1t(t){return typeof t.getSpanJSON=="function"}function Cf(t){let{traceFlags:e}=t.spanContext();return e===eQ}function lB(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}var X1="_sentryChildSpans",XZ="_sentryRootSpan";function dB(t,e){let r=t[XZ]||t;lo(e,XZ,r),t[X1]?t[X1].add(e):lo(t,X1,new Set([e]))}function k_e(t,e){t[X1]&&t[X1].delete(e)}function Gy(t){let e=new Set;function r(n){if(!e.has(n)&&Cf(n)){e.add(n);let i=n[X1]?Array.from(n[X1]):[];for(let o of i)r(o)}}return r(t),Array.from(e)}function Kn(t){return t[XZ]||t}function qn(){let t=yu(),e=lh(t);return e.getActiveSpan?e.getActiveSpan():Q1(hr())}function hB(){T_e||(Mc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),T_e=!0)}var P_e=!1;function pB(){P_e||(P_e=!0,D4(rQ),N4(rQ))}function rQ(){let t=qn(),e=t&&Kn(t);if(e){let r="internal_error";Ut&&et.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}rQ.tag="sentry_tracingErrorCallback";d();h();var R_e="_sentryScope",C_e="_sentryIsolationScope";function B_e(t,e,r){t&&(lo(t,C_e,r),lo(t,R_e,e))}function nQ(t){return{scope:t[R_e],isolationScope:t[C_e]}}d();h();d();h();function ec(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Qt(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}d();h();var Cc=class{constructor(e={}){this._traceId=e.traceId||Pc(),this._spanId=e.spanId||Rc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:uB}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};d();h();d();h();function O_e(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return q1t(n,e,r)}function q1t(t,e,r){return Fl(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}d();h();d();h();var gS="production";var D_e="_frozenDsc";function iQ(t,e){lo(t,D_e,e)}function oQ(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=Gn({environment:r.environment||gS,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}function j4(t,e){let r=e.getPropagationContext();return r.dsc||oQ(r.traceId,t)}function xu(t){let e=Qt();if(!e)return{};let r=Kn(t),n=r[D_e];if(n)return n;let i=r.spanContext().traceState,o=i&&i.get("sentry.dsc"),s=o&&aB(o);if(s)return s;let u=oQ(t.spanContext().traceId,e),l=Jt(r),m=l.data||{},x=m[pS];x!=null&&(u.sample_rate=`${x}`);let w=m[Ia],E=l.description;return w!=="url"&&E&&(u.transaction=E),ec()&&(u.sampled=String(Cf(r))),e.emit("createDsc",u,r),u}d();h();function N_e(t){if(!Ut)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Jt(t),{spanId:i}=t.spanContext(),o=Cf(t),s=Kn(t),u=s===t,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${u?"root ":""}span`,m=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&m.push(`parent ID: ${n}`),!u){let{op:x,description:w}=Jt(s);m.push(`root ID: ${s.spanContext().spanId}`),x&&m.push(`root op: ${x}`),w&&m.push(`root description: ${w}`)}et.log(`${l}
  ${m.join(`
  `)}`)}function U_e(t){if(!Ut)return;let{description:e="< unknown name >",op:r="< unknown op >"}=Jt(t),{spanId:n}=t.spanContext(),o=Kn(t)===t,s=`[Tracing] Finishing "${r}" ${o?"root ":""}span "${e}" with ID ${n}`;et.log(s)}d();h();d();h();function mB(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Ut&&et.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}function L_e(t,e){if(!ec(t))return[!1];let r=Ko().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let o=mB(i);return o===void 0?(Ut&&et.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(Ut&&et.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,o]):(Ut&&et.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}d();h();d();h();d();h();var V1t=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function H1t(t){return t==="http"||t==="https"}function dh(t,e=!1){let{host:r,path:n,pass:i,port:o,projectId:s,protocol:u,publicKey:l}=t;return`${u}://${l}${e&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n&&`${n}/`}${s}`}function F_e(t){let e=V1t.exec(t);if(!e){Mc(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",o="",s="",u=""]=e.slice(1),l="",m=u,x=m.split("/");if(x.length>1&&(l=x.slice(0,-1).join("/"),m=x.pop()),m){let w=m.match(/^\d+/);w&&(m=w[0])}return K_e({host:o,pass:i,path:l,projectId:m,port:s,protocol:r,publicKey:n})}function K_e(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function j1t(t){if(!Ic)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(et.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:r.match(/^\d+$/)?H1t(n)?e&&isNaN(parseInt(e,10))?(et.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(et.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(et.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function sQ(t){let e=typeof t=="string"?F_e(t):K_e(t);if(!(!e||!j1t(e)))return e}d();h();d();h();d();h();function q_e(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[r,n]}function Bf(t,e=100,r=1/0){try{return aQ("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function yB(t,e=3,r=100*1024){let n=Bf(t,e);return $1t(n)>r?yB(t,e-1,r):n}function aQ(t,e,r=1/0,n=1/0,i=q_e()){let[o,s]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let u=z1t(t,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return u.replace("object ","");if(o(e))return"[Circular ~]";let m=e;if(m&&typeof m.toJSON=="function")try{let I=m.toJSON();return aQ("",I,l-1,n,i)}catch{}let x=Array.isArray(e)?[]:{},w=0,E=nB(e);for(let I in E){if(!Object.prototype.hasOwnProperty.call(E,I))continue;if(w>=n){x[I]="[MaxProperties ~]";break}let M=E[I];x[I]=aQ(I,M,l-1,n,i),w++}return s(e),x}function z1t(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(L4(e))return"[VueViewModel]";if(KZ(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${kc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=W1t(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function W1t(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function G1t(t){return~-encodeURI(t).split(/%..|./).length}function $1t(t){return G1t(JSON.stringify(t))}function Hl(t,e=[]){return[t,e]}function uQ(t,e){let[r,n]=t;return[r,[...n,e]]}function gB(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}function cQ(t){return Yt.__SENTRY__&&Yt.__SENTRY__.encodePolyfill?Yt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function fQ(t){let[e,r]=t,n=JSON.stringify(e);function i(o){typeof n=="string"?n=typeof o=="string"?n+o:[cQ(n),o]:n.push(typeof o=="string"?cQ(o):o)}for(let o of r){let[s,u]=o;if(i(`
${JSON.stringify(s)}
`),typeof u=="string"||u instanceof Uint8Array)i(u);else{let l;try{l=JSON.stringify(u)}catch{l=JSON.stringify(Bf(u))}i(l)}}return typeof n=="string"?n:Y1t(n)}function Y1t(t){let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}function lQ(t){return[{type:"span"},t]}function dQ(t){let e=typeof t.data=="string"?cQ(t.data):t.data;return[Gn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}var Z1t={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function bB(t){return Z1t[t]}function vB(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function hQ(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:dh(n)},...i&&{trace:Gn({...i})}}}function Q1t(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function V_e(t,e,r,n){let i=vB(r),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:dh(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Hl(o,[s])}function H_e(t,e,r,n){let i=vB(r),o=t.type&&t.type!=="replay_event"?t.type:"event";Q1t(t,r&&r.sdk);let s=hQ(t,i,n,e);return delete t.sdkProcessingMetadata,Hl(s,[[{type:o},t]])}function j_e(t,e){function r(x){return!!x.trace_id&&!!x.public_key}let n=xu(t[0]),i=e&&e.getDsn(),o=e&&e.getOptions().tunnel,s={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!o&&i&&{dsn:dh(i)}},u=e&&e.getOptions().beforeSendSpan,l=u?x=>{let w=u(Jt(x));return w||hB(),w}:x=>Jt(x),m=[];for(let x of t){let w=l(x);w&&m.push(lQ(w))}return Hl(s,m)}d();h();function xB(t,e,r,n=qn()){let i=n&&Kn(n);i&&(Ut&&et.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[Wy]:e,[zy]:r}))}function wB(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[zy],o=n[Wy];typeof i=="string"&&typeof o=="number"&&(e[r.name]={value:o,unit:i})}),e}var z_e=1e3,bS=class{constructor(e={}){this._traceId=e.traceId||Pc(),this._spanId=e.spanId||Rc(),this._startTime=e.startTimestamp||ro(),this._attributes={},this.setAttributes({[$n]:"manual",[Xa]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?eQ:uB}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=Vl(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Ia,"custom"),this}end(e){this._endTime||(this._endTime=Vl(e),U_e(this),this._onSpanEnded())}getSpanJSON(){return Gn({data:this._attributes,description:this._name,op:this._attributes[Xa],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:lB(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[$n],_metrics_summary:q4(this),profile_id:this._attributes[YZ],exclusive_time:this._attributes[J1],measurements:wB(this._events),is_segment:this._isStandaloneSpan&&Kn(this)===this||void 0,segment_id:this._isStandaloneSpan?Kn(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Ut&&et.log("[Tracing] Adding an event to span:",e);let i=W_e(r)?r:n||ro(),o=W_e(r)?{}:r||{},s={name:e,time:Vl(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Qt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Kn(this)))return;if(this._isStandaloneSpan){this._sampled?X1t(j_e([this],e)):(Ut&&et.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(nQ(this).scope||hr()).captureEvent(n)}_convertSpanToTransaction(){if(!G_e(Jt(this)))return;this._name||(Ut&&et.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=nQ(this),i=(e||hr()).getClient()||Qt();if(this._sampled!==!0){Ut&&et.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let s=Gy(this).filter(w=>w!==this&&!J1t(w)).map(w=>Jt(w)).filter(G_e),u=this._attributes[Ia];delete this._attributes[V4],s.forEach(w=>{w.data&&delete w.data[V4]});let l={contexts:{trace:M_e(this)},spans:s.length>z_e?s.sort((w,E)=>w.start_timestamp-E.start_timestamp).slice(0,z_e):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...Gn({dynamicSamplingContext:xu(this)})},_metrics_summary:q4(this),...u&&{transaction_info:{source:u}}},m=wB(this._events);return m&&Object.keys(m).length&&(Ut&&et.log("[Measurements] Adding measurements to transaction event",JSON.stringify(m,void 0,2)),l.measurements=m),l}};function W_e(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function G_e(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function J1t(t){return t instanceof bS&&t.isStandaloneSpan()}function X1t(t){let e=Qt();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}var Y_e="__SENTRY_SUPPRESS_TRACING__";function SB(t,e){let r=pQ();if(r.startSpan)return r.startSpan(t,e);let n=Q_e(t),{forceTransaction:i,parentSpan:o}=t;return jy(t.scope,()=>tvt(o)(()=>{let u=hr(),l=J_e(u),x=t.onlyIfParent&&!l?new Cc:Z_e({parentSpan:l,spanArguments:n,forceTransaction:i,scope:u});return tp(u,x),O_e(()=>e(x),()=>{let{status:w}=Jt(x);x.isRecording()&&(!w||w==="ok")&&x.setStatus({code:2,message:"internal_error"})},()=>x.end())}))}function wu(t){let e=pQ();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=Q_e(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?s=>jy(t.scope,s):i!==void 0?s=>vS(i,s):s=>s())(()=>{let s=hr(),u=J_e(s);return t.onlyIfParent&&!u?new Cc:Z_e({parentSpan:u,spanArguments:r,forceTransaction:n,scope:s})})}function vS(t,e){let r=pQ();return r.withActiveSpan?r.withActiveSpan(t,e):jy(n=>(tp(n,t||void 0),e(n)))}function Z_e({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!ec())return new Cc;let i=Ko(),o;if(t&&!r)o=evt(t,n,e),dB(t,o);else if(t){let s=xu(t),{traceId:u,spanId:l}=t.spanContext(),m=Cf(t);o=$_e({traceId:u,parentSpanId:l,...e},n,m),iQ(o,s)}else{let{traceId:s,dsc:u,parentSpanId:l,sampled:m}={...i.getPropagationContext(),...n.getPropagationContext()};o=$_e({traceId:s,parentSpanId:l,...e},n,m),u&&iQ(o,u)}return N_e(o),B_e(o,n,i),o}function Q_e(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=Vl(t.startTime),delete n.startTime,n}return r}function pQ(){let t=yu();return lh(t)}function $_e(t,e,r){let n=Qt(),i=n&&n.getOptions()||{},{name:o="",attributes:s}=t,[u,l]=e.getScopeData().sdkProcessingMetadata[Y_e]?[!1]:L_e(i,{name:o,parentSampled:r,attributes:s,transactionContext:{name:o,parentSampled:r}}),m=new bS({...t,attributes:{[Ia]:"custom",...t.attributes},sampled:u});return l!==void 0&&m.setAttribute(pS,l),n&&n.emit("spanStart",m),m}function evt(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),o=e.getScopeData().sdkProcessingMetadata[Y_e]?!1:Cf(t),s=o?new bS({...r,parentSpanId:n,traceId:i,sampled:o}):new Cc({traceId:i});dB(t,s);let u=Qt();return u&&(u.emit("spanStart",s),r.endTimestamp&&u.emit("spanEnd",s)),s}function J_e(t){let e=Q1(t);if(!e)return;let r=Qt();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Kn(e):e}function tvt(t){return t!==void 0?e=>vS(t,e):e=>e()}var xS={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},rvt="heartbeatFailed",nvt="idleTimeout",ivt="finalTimeout",ovt="externalFinish";function AB(t,e={}){let r=new Map,n=!1,i,o=ovt,s=!e.disableAutoFinish,u=[],{idleTimeout:l=xS.idleTimeout,finalTimeout:m=xS.finalTimeout,childSpanTimeout:x=xS.childSpanTimeout,beforeSpanEnd:w}=e,E=Qt();if(!E||!ec())return new Cc;let I=hr(),M=qn(),k=svt(t);k.end=new Proxy(k.end,{apply(j,ne,J){w&&w(k);let[oe,...S]=J,a=oe||ro(),f=Vl(a),p=Gy(k).filter(b=>b!==k);if(!p.length)return V(f),Reflect.apply(j,ne,[f,...S]);let y=p.map(b=>Jt(b).timestamp).filter(b=>!!b),g=y.length?Math.max(...y):void 0,A=Jt(k).start_timestamp,_=Math.min(A?A+m/1e3:1/0,Math.max(A||-1/0,Math.min(f,g||1/0)));return V(_),Reflect.apply(j,ne,[_,...S])}});function C(){i&&(clearTimeout(i),i=void 0)}function R(j){C(),i=setTimeout(()=>{!n&&r.size===0&&s&&(o=nvt,k.end(j))},l)}function L(j){i=setTimeout(()=>{!n&&s&&(o=rvt,k.end(j))},x)}function P(j){C(),r.set(j,!0);let ne=ro();L(ne+x/1e3)}function K(j){if(r.has(j)&&r.delete(j),r.size===0){let ne=ro();R(ne+l/1e3)}}function V(j){n=!0,r.clear(),u.forEach(f=>f()),tp(I,M);let ne=Jt(k),{start_timestamp:J}=ne;if(!J)return;(ne.data||{})[mS]||k.setAttribute(mS,o),et.log(`[Tracing] Idle span "${ne.op}" finished`);let S=Gy(k).filter(f=>f!==k),a=0;S.forEach(f=>{f.isRecording()&&(f.setStatus({code:2,message:"cancelled"}),f.end(j),Ut&&et.log("[Tracing] Cancelling span since span ended early",JSON.stringify(f,void 0,2)));let p=Jt(f),{timestamp:y=0,start_timestamp:g=0}=p,A=g<=j,_=(m+l)/1e3,b=y-g<=_;if(Ut){let c=JSON.stringify(f,void 0,2);A?b||et.log("[Tracing] Discarding span since it finished after idle span final timeout",c):et.log("[Tracing] Discarding span since it happened after idle span was finished",c)}(!b||!A)&&(k_e(k,f),a++)}),a>0&&k.setAttribute("sentry.idle_span_discarded_spans",a)}return u.push(E.on("spanStart",j=>{if(n||j===k||Jt(j).timestamp)return;Gy(k).includes(j)&&P(j.spanContext().spanId)})),u.push(E.on("spanEnd",j=>{n||K(j.spanContext().spanId)})),u.push(E.on("idleSpanEnableAutoFinish",j=>{j===k&&(s=!0,R(),r.size&&L())})),e.disableAutoFinish||R(),setTimeout(()=>{n||(k.setStatus({code:2,message:"deadline_exceeded"}),o=ivt,k.end())},m),k}function svt(t){let e=wu(t);return tp(hr(),e),Ut&&et.log("[Tracing] Started span is an idle span"),e}d();h();d();h();d();h();function EB(t,e,r,n=0){return new ql((i,o)=>{let s=t[n];if(e===null||typeof s!="function")i(e);else{let u=s({...e},r);Ut&&s.id&&u===null&&et.log(`Event processor "${s.id}" dropped event`),Fl(u)?u.then(l=>EB(t,l,r,n+1).then(i)).then(null,o):EB(t,u,r,n+1).then(i).then(null,o)}})}d();h();var _B,X_e,TB;function e4e(t){let e=Yt._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return TB&&r.length===X_e||(X_e=r.length,TB=r.reduce((n,i)=>{_B||(_B={});let o=_B[i];if(o)n[o[0]]=o[1];else{let s=t(i);for(let u=s.length-1;u>=0;u--){let l=s[u],m=l&&l.filename,x=e[i];if(m&&x){n[m]=x,_B[i]=[m,x];break}}}return n},{})),TB}d();h();function t4e(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=e;avt(t,e),n&&fvt(t,n),lvt(t,r),cvt(t,i),uvt(t,o)}function mQ(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,sdkProcessingMetadata:u,breadcrumbs:l,fingerprint:m,eventProcessors:x,attachments:w,propagationContext:E,transactionName:I,span:M}=e;IB(t,"extra",r),IB(t,"tags",n),IB(t,"user",i),IB(t,"contexts",o),t.sdkProcessingMetadata=dS(t.sdkProcessingMetadata,u,2),s&&(t.level=s),I&&(t.transactionName=I),M&&(t.span=M),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),x.length&&(t.eventProcessors=[...t.eventProcessors,...x]),w.length&&(t.attachments=[...t.attachments,...w]),t.propagationContext={...t.propagationContext,...E}}function IB(t,e,r){t[e]=dS(t[e],r,1)}function avt(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,transactionName:u}=e,l=Gn(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let m=Gn(n);m&&Object.keys(m).length&&(t.tags={...m,...t.tags});let x=Gn(i);x&&Object.keys(x).length&&(t.user={...x,...t.user});let w=Gn(o);w&&Object.keys(w).length&&(t.contexts={...w,...t.contexts}),s&&(t.level=s),u&&t.type!=="transaction"&&(t.transaction=u)}function cvt(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function uvt(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function fvt(t,e){t.contexts={trace:tQ(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:xu(e),...t.sdkProcessingMetadata};let r=Kn(e),n=Jt(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}function lvt(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}function r4e(t,e,r,n,i,o){let{normalizeDepth:s=3,normalizeMaxBreadth:u=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Fo(),timestamp:e.timestamp||uh()},m=r.integrations||t.integrations.map(C=>C.name);dvt(l,t),mvt(l,m),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&hvt(l,t.stackParser);let x=gvt(n,r.captureContext);r.mechanism&&fh(l,r.mechanism);let w=i?i.getEventProcessors():[],E=oB().getScopeData();if(o){let C=o.getScopeData();mQ(E,C)}if(x){let C=x.getScopeData();mQ(E,C)}let I=[...r.attachments||[],...E.attachments];I.length&&(r.attachments=I),t4e(l,E);let M=[...w,...E.eventProcessors];return EB(M,l,r).then(C=>(C&&pvt(C),typeof s=="number"&&s>0?yvt(C,s,u):C))}function dvt(t,e){let{environment:r,release:n,dist:i,maxValueLength:o=250}=e;t.environment=t.environment||r||gS,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=ah(t.message,o));let s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=ah(s.value,o));let u=t.request;u&&u.url&&(u.url=ah(u.url,o))}function hvt(t,e){let r=e4e(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}function pvt(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}function mvt(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function yvt(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:Bf(i.data,e,r)}}))},...t.user&&{user:Bf(t.user,e,r)},...t.contexts&&{contexts:Bf(t.contexts,e,r)},...t.extra&&{extra:Bf(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Bf(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:Bf(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=Bf(t.contexts.flags,3,r)),n}function gvt(t,e){if(!e)return t;let r=t?t.clone():new vu;return r.update(e),r}function n4e(t){if(t)return bvt(t)?{captureContext:t}:xvt(t)?{captureContext:t}:t}function bvt(t){return t instanceof vu||typeof t=="function"}var vvt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function xvt(t){return Object.keys(t).some(e=>vvt.includes(e))}function Yy(t,e){return hr().captureException(t,n4e(e))}function wS(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return hr().captureMessage(t,r,n)}function z4(t,e){return hr().captureEvent(t,e)}function MB(t,e){Ko().setContext(t,e)}function SS(t){Ko().setTags(t)}function AS(t){Ko().setUser(t)}function yQ(){let t=Qt();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}function W4(t){let e=Qt(),r=Ko(),n=hr(),{release:i,environment:o=gS}=e&&e.getOptions()||{},{userAgent:s}=Yt.navigator||{},u=b_e({release:i,environment:o,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...t}),l=r.getSession();return l&&l.status==="ok"&&ep(l,{status:"exited"}),kB(),r.setSession(u),n.setSession(u),u}function kB(){let t=Ko(),e=hr(),r=e.getSession()||t.getSession();r&&v_e(r),o4e(),t.setSession(),e.setSession()}function o4e(){let t=Ko(),e=hr(),r=Qt(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}function G4(t=!1){if(t){kB();return}o4e()}d();h();var wvt="7";function Svt(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function Avt(t){return`${Svt(t)}${t.projectId}/envelope/`}function Evt(t,e){let r={sentry_version:wvt};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function s4e(t,e,r){return e||`${Avt(t)}?${Evt(t,r)}`}d();h();d();h();var a4e=[];function _vt(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}function gQ(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let s=r(e);n=Array.isArray(s)?s:[s]}else n=e;let i=_vt(n),o=i.findIndex(s=>s.name==="Debug");if(o>-1){let[s]=i.splice(o,1);i.push(s)}return i}function c4e(t,e){let r={};return e.forEach(n=>{n&&vQ(t,n,r)}),r}function bQ(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function vQ(t,e,r){if(r[e.name]){Ut&&et.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,a4e.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),a4e.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,o)=>n(i,o,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((o,s)=>n(o,s,t),{id:e.name});t.addEventProcessor(i)}Ut&&et.log(`Integration installed: ${e.name}`)}d();h();function u4e(t,e,r){let n=[{type:"client_report"},{timestamp:r||uh(),discarded_events:t}];return Hl(e?{dsn:e}:{},[n])}d();h();var Ma=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var f4e="Not capturing exception because it's already been captured.",$4=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=sQ(e.dsn):Ut&&et.warn("No DSN provided, client will not send events."),this._dsn){let i=s4e(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&Mc(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=Fo();if(iB(e))return Ut&&et.log(f4e),i;let o={event_id:i,...r};return this._process(this.eventFromException(e,o).then(s=>this._captureEvent(s,o,n))),o.event_id}captureMessage(e,r,n,i){let o={event_id:Fo(),...n},s=uS(e)?e:String(e),u=$1(e)?this.eventFromMessage(s,r,o):this.eventFromException(e,o);return this._process(u.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(e,r,n){let i=Fo();if(r&&r.originalException&&iB(r.originalException))return Ut&&et.log(f4e),i;let o={event_id:i,...r},u=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,u||n)),o.event_id}captureSession(e){typeof e.release!="string"?Ut&&et.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ep(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):Rf(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];vQ(this,e,this._integrations),r||bQ(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=H_e(e,this._dsn,this._options._metadata,this._options.tunnel);for(let o of r.attachments||[])n=uQ(n,dQ(o));let i=this.sendEnvelope(n);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){let r=V_e(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,o=`${e}:${r}`;Ut&&et.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Ut&&et.error("Error while sending envelope:",r),r)):(Ut&&et.error("Transport disabled"),Rf({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=c4e(this,e),bQ(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,o=r.exception&&r.exception.values;if(o){i=!0;for(let l of o){let m=l.mechanism;if(m&&m.handled===!1){n=!0;break}}}let s=e.status==="ok";(s&&e.errors===0||s&&n)&&(ep(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ql(r=>{let n=0,i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=i,e&&n>=e&&(clearInterval(o),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=hr(),i=Ko()){let o=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),r4e(o,e,r,n,this,i).then(u=>{if(u===null)return u;u.contexts={trace:$Z(n),...u.contexts};let l=j4(this,n);return u.sdkProcessingMetadata={dynamicSamplingContext:l,...u.sdkProcessingMetadata},u})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Ut&&(i instanceof Ma&&i.logLevel==="log"?et.log(i.message):et.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:o}=i,s=d4e(e),u=l4e(e),l=e.type||"error",m=`before send for type \`${l}\``,x=typeof o>"u"?void 0:mB(o);if(u&&typeof x=="number"&&Math.random()>x)return this.recordDroppedEvent("sample_rate","error",e),Hy(new Ma(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let w=l==="replay_event"?"replay":l,I=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,I).then(M=>{if(M===null)throw this.recordDroppedEvent("event_processor",w,e),new Ma("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return M;let C=Ivt(this,i,M,r);return Tvt(C,m)}).then(M=>{if(M===null){if(this.recordDroppedEvent("before_send",w,e),s){let L=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",L)}throw new Ma(`${m} returned \`null\`, will not send event.`,"log")}let k=n&&n.getSession();if(!s&&k&&this._updateSessionFromEvent(k,M),s){let R=M.sdkProcessingMetadata&&M.sdkProcessingMetadata.spanCountBeforeProcessing||0,L=M.spans?M.spans.length:0,P=R-L;P>0&&this.recordDroppedEvent("before_send","span",P)}let C=M.transaction_info;if(s&&C&&M.transaction!==e.transaction){let R="custom";M.transaction_info={...C,source:R}}return this.sendEvent(M,r),M}).then(null,M=>{throw M instanceof Ma?M:(this.captureException(M,{data:{__sentry__:!0},originalException:M}),new Ma(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${M}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,o]=r.split(":");return{reason:i,category:o,quantity:n}})}_flushOutcomes(){Ut&&et.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Ut&&et.log("No outcomes to send");return}if(!this._dsn){Ut&&et.log("No dsn provided, will not send outcomes");return}Ut&&et.log("Sending outcomes:",e);let r=u4e(e,this._options.tunnel&&dh(this._dsn));this.sendEnvelope(r)}};function Tvt(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Fl(t))return t.then(n=>{if(!Ll(n)&&n!==null)throw new Ma(r);return n},n=>{throw new Ma(`${e} rejected with ${n}`)});if(!Ll(t)&&t!==null)throw new Ma(r);return t}function Ivt(t,e,r,n){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=e;if(l4e(r)&&i)return i(r,n);if(d4e(r)){if(r.spans&&s){let u=[];for(let l of r.spans){let m=s(l);m?u.push(m):(hB(),t.recordDroppedEvent("before_send","span"))}r.spans=u}if(o){if(r.spans){let u=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return o(r,n)}}return r}function l4e(t){return t.type===void 0}function d4e(t){return t.type==="transaction"}d();h();function xQ(t,e){e.debug===!0&&(Ut?et.enable():Mc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),hr().update(e.initialScope);let n=new t(e);return wQ(n),n.init(),n}function wQ(t){hr().setClient(t)}d();h();d();h();function h4e(t){let e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!r())return Hy(new Ma("Not adding Promise because buffer limit was reached."));let u=s();return e.indexOf(u)===-1&&e.push(u),u.then(()=>n(u)).then(null,()=>n(u).then(null,()=>{})),u}function o(s){return new ql((u,l)=>{let m=e.length;if(!m)return u(!0);let x=setTimeout(()=>{s&&s>0&&u(!1)},s);e.forEach(w=>{Rf(w).then(()=>{--m||(clearTimeout(x),u(!0))},l)})})}return{$:e,add:i,drain:o}}d();h();function Mvt(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}function kvt(t,e){return t[e]||t.all||0}function p4e(t,e,r=Date.now()){return kvt(t,e)>r}function m4e(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(let u of o.trim().split(",")){let[l,m,,,x]=u.split(":",5),w=parseInt(l,10),E=(isNaN(w)?60:w)*1e3;if(!m)i.all=n+E;else for(let I of m.split(";"))I==="metric_bucket"?(!x||x.split(";").includes("custom"))&&(i[I]=n+E):i[I]=n+E}else s?i.all=n+Mvt(s,n):e===429&&(i.all=n+60*1e3);return i}var Pvt=64;function PB(t,e,r=h4e(t.bufferSize||Pvt)){let n={},i=s=>r.drain(s);function o(s){let u=[];if(gB(s,(w,E)=>{let I=bB(E);if(p4e(n,I)){let M=y4e(w,E);t.recordDroppedEvent("ratelimit_backoff",I,M)}else u.push(w)}),u.length===0)return Rf({});let l=Hl(s[0],u),m=w=>{gB(l,(E,I)=>{let M=y4e(E,I);t.recordDroppedEvent(w,bB(I),M)})},x=()=>e({body:fQ(l)}).then(w=>(w.statusCode!==void 0&&(w.statusCode<200||w.statusCode>=300)&&Ut&&et.warn(`Sentry responded with status code ${w.statusCode} to sent event.`),n=m4e(n,w),w),w=>{throw m("network_error"),w});return r.add(x).then(w=>w,w=>{if(w instanceof Ma)return Ut&&et.error("Skipped sending event because buffer is full."),m("queue_overflow"),Rf({});throw w})}return{send:o,flush:i}}function y4e(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}d();h();function ev(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(o=>({name:`${n}:@sentry/${o}`,version:Ul})),version:Ul}),t._metadata=i}d();h();function Y4(t={}){let e=Qt();if(!yQ()||!e)return{};let r=yu(),n=lh(r);if(n.getTraceData)return n.getTraceData(t);let i=hr(),o=t.span||qn(),s=o?fB(o):Rvt(i),u=o?xu(o):j4(e,i),l=QZ(u);return cB.test(s)?{"sentry-trace":s,baggage:l}:(et.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Rvt(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return H4(e,n,r)}d();h();var Cvt=100;function Bc(t,e){let r=Qt(),n=Ko();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Cvt}=r.getOptions();if(o<=0)return;let u={timestamp:uh(),...t},l=i?Mc(()=>i(u,e)):u;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,o))}d();h();var g4e,Bvt="FunctionToString",b4e=new WeakMap,Ovt=()=>({name:Bvt,setupOnce(){g4e=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=Z1(this),r=b4e.has(Qt())&&e!==void 0?e:this;return g4e.apply(r,t)}}catch{}},setup(t){b4e.set(t,!0)}}),RB=Ovt;d();h();var Dvt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Nvt="InboundFilters",Uvt=(t={})=>({name:Nvt,processEvent(e,r,n){let i=n.getOptions(),o=Lvt(t,i);return Fvt(e,o)?null:e}}),BB=Uvt;function Lvt(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Dvt],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Fvt(t,e){return e.ignoreInternal&&zvt(t)?(Ut&&et.warn(`Event dropped due to being internal Sentry Error.
Event: ${Kl(t)}`),!0):Kvt(t,e.ignoreErrors)?(Ut&&et.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Kl(t)}`),!0):Gvt(t)?(Ut&&et.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Kl(t)}`),!0):qvt(t,e.ignoreTransactions)?(Ut&&et.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Kl(t)}`),!0):Vvt(t,e.denyUrls)?(Ut&&et.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Kl(t)}.
Url: ${CB(t)}`),!0):Hvt(t,e.allowUrls)?!1:(Ut&&et.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Kl(t)}.
Url: ${CB(t)}`),!0)}function Kvt(t,e){return t.type||!e||!e.length?!1:jvt(t).some(r=>ch(r,e))}function qvt(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?ch(r,e):!1}function Vvt(t,e){if(!e||!e.length)return!1;let r=CB(t);return r?ch(r,e):!1}function Hvt(t,e){if(!e||!e.length)return!0;let r=CB(t);return r?ch(r,e):!0}function jvt(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}function zvt(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Wvt(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function CB(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Wvt(e):null}catch{return Ut&&et.error(`Cannot extract url for event ${Kl(t)}`),null}}function Gvt(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}d();h();function AQ(t,e,r=250,n,i,o,s){if(!o.exception||!o.exception.values||!s||!gu(s.originalException,Error))return;let u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=$vt(SQ(t,e,i,s.originalException,n,o.exception.values,u,0),r))}function SQ(t,e,r,n,i,o,s,u){if(o.length>=r+1)return o;let l=[...o];if(gu(n[i],Error)){v4e(s,u);let m=t(e,n[i]),x=l.length;x4e(m,i,x,u),l=SQ(t,e,r,n[i],i,[m,...l],m,x)}return Array.isArray(n.errors)&&n.errors.forEach((m,x)=>{if(gu(m,Error)){v4e(s,u);let w=t(e,m),E=l.length;x4e(w,`errors[${x}]`,E,u),l=SQ(t,e,r,m,i,[w,...l],w,E)}}),l}function v4e(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function x4e(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function $vt(t,e){return t.map(r=>(r.value&&(r.value=ah(r.value,e)),r))}d();h();function Of(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}d();h();function EQ(t){let e="console";_a(e,t),Ta(e,Yvt)}function Yvt(){"console"in Yt&&O4.forEach(function(t){t in Yt.console&&Lo(Yt.console,t,function(e){return aS[t]=e,function(...r){Eo("console",{args:r,level:t});let i=aS[t];i&&i.apply(Yt.console,r)}})})}d();h();function _Q(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}d();h();var Zvt="Dedupe",Qvt=()=>{let t;return{name:Zvt,processEvent(e){if(e.type)return e;try{if(Jvt(e,t))return Ut&&et.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},OB=Qvt;function Jvt(t,e){return e?!!(Xvt(t,e)||ext(t,e)):!1}function Xvt(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!A4e(t,e)||!S4e(t,e))}function ext(t,e){let r=w4e(e),n=w4e(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!A4e(t,e)||!S4e(t,e))}function S4e(t,e){let r=QC(t),n=QC(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let o=n[i],s=r[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function A4e(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function w4e(t){return t.exception&&t.exception.values&&t.exception.values[0]}d();h();function TQ(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let o=ec()&&e(t.fetchData.url);if(t.endTimestamp&&o){let E=t.fetchData.__span;if(!E)return;let I=n[E];I&&(nxt(I,t),delete n[E]);return}let{method:s,url:u}=t.fetchData,l=rxt(u),m=l?Of(l).host:void 0,x=!!qn(),w=o&&x?wu({name:`${s} ${u}`,attributes:{url:u,type:"fetch","http.method":s,"http.url":l,"server.address":m,[$n]:i,[Xa]:"http.client"}}):new Cc;if(t.fetchData.__span=w.spanContext().spanId,n[w.spanContext().spanId]=w,r(t.fetchData.url)){let E=t.args[0],I=t.args[1]||{},M=txt(E,I,ec()&&x?w:void 0);M&&(t.args[1]=I,I.headers=M)}return w}function txt(t,e,r){let n=Y4({span:r}),i=n["sentry-trace"],o=n.baggage;if(!i)return;let s=e.headers||(ixt(t)?t.headers:void 0);if(s)if(oxt(s)){let u=new Headers(s);if(u.set("sentry-trace",i),o){let l=u.get("baggage");if(l){let m=DB(l);u.set("baggage",m?`${m},${o}`:o)}else u.set("baggage",o)}return u}else if(Array.isArray(s)){let u=[...s.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[m,x,...w]=l;return[m,DB(x),...w]}else return l}),["sentry-trace",i]];return o&&u.push(["baggage",o]),u}else{let u="baggage"in s?s.baggage:void 0,l=[];return Array.isArray(u)?l=u.map(m=>typeof m=="string"?DB(m):m).filter(m=>m===""):u&&l.push(DB(u)),o&&l.push(o),{...s,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}function rxt(t){try{return new URL(t).href}catch{return}}function nxt(t,e){if(e.response){yS(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}function DB(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(sB)).join(",")}function ixt(t){return typeof Request<"u"&&gu(t,Request)}function oxt(t){return typeof Headers<"u"&&gu(t,Headers)}d();h();function NB(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}d();h();d();h();var IQ=Yt;function UB(){if(!("fetch"in IQ))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Z4(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function MQ(){if(typeof EdgeRuntime=="string")return!0;if(!UB())return!1;if(Z4(IQ.fetch))return!0;let t=!1,e=IQ.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Z4(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Ic&&et.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Q4(t,e){let r="fetch";_a(r,t),Ta(r,()=>_4e(void 0,e))}function PQ(t){let e="fetch-body-resolved";_a(e,t),Ta(e,()=>_4e(axt))}function _4e(t,e=!1){e&&!MQ()||Lo(Yt,"fetch",function(r){return function(...n){let i=new Error,{method:o,url:s}=cxt(n),u={args:n,fetchData:{method:o,url:s},startTimestamp:ro()*1e3,virtualError:i};return t||Eo("fetch",{...u}),r.apply(Yt,n).then(async l=>(t?t(l):Eo("fetch",{...u,endTimestamp:ro()*1e3,response:l}),l),l=>{throw Eo("fetch",{...u,endTimestamp:ro()*1e3,error:l}),G1(l)&&l.stack===void 0&&(l.stack=i.stack,lo(l,"framesToPop",1)),l})}})}async function sxt(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),o=!0;for(;o;){let s;try{s=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:u}=await n.read();clearTimeout(s),u&&(e(),o=!1)}catch{o=!1}finally{clearTimeout(s)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}function axt(t){let e;try{e=t.clone()}catch{return}sxt(e,()=>{Eo("fetch-body-resolved",{endTimestamp:ro()*1e3,response:t})})}function kQ(t,e){return!!t&&typeof t=="object"&&!!t[e]}function E4e(t){return typeof t=="string"?t:t?kQ(t,"url")?t.url:t.toString?t.toString():"":""}function cxt(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:E4e(r),method:kQ(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:E4e(e),method:kQ(e,"method")?String(e.method).toUpperCase():"GET"}}d();h();function RQ(){return"npm"}d();h();var LB=Yt;function CQ(){let t=LB.chrome,e=t&&t.app&&t.app.runtime,r="history"in LB&&!!LB.history.pushState&&!!LB.history.replaceState;return!e&&r}d();h();var Ht=Yt,BQ=0;function OQ(){return BQ>0}function Axt(){BQ++,setTimeout(()=>{BQ--})}function tv(t,e={}){function r(i){return typeof i=="function"}if(!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(Z1(t))return t}catch{return t}let n=function(...i){try{let o=i.map(s=>tv(s,e));return t.apply(this,o)}catch(o){throw Axt(),jy(s=>{s.addEventProcessor(u=>(e.mechanism&&(lS(u,void 0,void 0),fh(u,e.mechanism)),u.extra={...u.extra,arguments:i},u)),Yy(o)}),o}};try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}rB(n,t),lo(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}d();h();d();h();var Ks=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();function FB(t,e){let r=UQ(t,e),n={type:Mxt(e),value:kxt(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Ext(t,e,r,n){let i=Qt(),o=i&&i.getOptions().normalizeDepth,s=Cxt(e),u={__serialized__:yB(e,o)};if(s)return{exception:{values:[FB(t,s)]},extra:u};let l={exception:{values:[{type:Y1(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:Pxt(e,{isUnhandledRejection:n})}]},extra:u};if(r){let m=UQ(t,r);m.length&&(l.exception.values[0].stacktrace={frames:m})}return l}function DQ(t,e){return{exception:{values:[FB(t,e)]}}}function UQ(t,e){let r=e.stacktrace||e.stack||"",n=Txt(e),i=Ixt(e);try{return t(r,n,i)}catch{}return[]}var _xt=/Minified React error #\d+;/i;function Txt(t){return t&&_xt.test(t.message)?1:0}function Ixt(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function I4e(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function Mxt(t){let e=t&&t.name;return!e&&I4e(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function kxt(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:I4e(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function M4e(t,e,r,n){let i=r&&r.syntheticException||void 0,o=KB(t,e,i,n);return fh(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),Rf(o)}function k4e(t,e,r="info",n,i){let o=n&&n.syntheticException||void 0,s=NQ(t,e,o,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),Rf(s)}function KB(t,e,r,n,i){let o;if(XC(e)&&e.error)return DQ(t,e.error);if(eB(e)||UZ(e)){let s=e;if("stack"in e)o=DQ(t,e);else{let u=s.name||(eB(s)?"DOMError":"DOMException"),l=s.message?`${u}: ${s.message}`:u;o=NQ(t,l,r,n),lS(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return G1(e)?DQ(t,e):Ll(e)||Y1(e)?(o=Ext(t,e,r,i),fh(o,{synthetic:!0}),o):(o=NQ(t,e,r,n),lS(o,`${e}`,void 0),fh(o,{synthetic:!0}),o)}function NQ(t,e,r,n){let i={};if(n&&r){let o=UQ(t,r);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]}),fh(i,{synthetic:!0})}if(uS(e)){let{__sentry_template_string__:o,__sentry_template_values__:s}=e;return i.logentry={message:o,params:s},i}return i.message=e,i}function Pxt(t,{isUnhandledRejection:e}){let r=jZ(t),n=e?"promise rejection":"exception";return XC(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:Y1(t)?`Event \`${Rxt(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function Rxt(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Cxt(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}d();h();function P4e(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:dh(n)}},o=Bxt(t);return Hl(i,[o])}function Bxt(t){return[{type:"user_report"},t]}var qB=class extends $4{constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=Ht.SENTRY_SDK_SOURCE||RQ();ev(r,"browser",["browser"],n),super(r),r.sendClientReports&&Ht.document&&Ht.document.addEventListener("visibilitychange",()=>{Ht.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return M4e(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return k4e(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Ks&&et.warn("SDK not enabled, will not capture user feedback.");return}let r=P4e(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};d();h();d();h();d();h();d();h();var ES=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();d();h();var Oxt=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",Df=(t,e,r,n)=>{let i,o;return s=>{e.value>=0&&(s||n)&&(o=e.value-(i||0),(o||i===void 0)&&(i=e.value,e.delta=o,e.rating=Oxt(e.value,r),t(e)))}};d();h();d();h();var _t=Yt;d();h();var R4e=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;d();h();d();h();var rp=(t=!0)=>{let e=_t.performance&&_t.performance.getEntriesByType&&_t.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e};var hh=()=>{let t=rp();return t&&t.activationStart||0};var Nf=(t,e)=>{let r=rp(),n="navigate";return r&&(_t.document&&_t.document.prerendering||hh()>0?n="prerender":_t.document&&_t.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:R4e(),navigationType:n}};d();h();var Oc=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}};d();h();var Uf=t=>{let e=r=>{(r.type==="pagehide"||_t.document&&_t.document.visibilityState==="hidden")&&t(r)};_t.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))};d();h();var Zy=t=>{let e=!1;return()=>{e||(t(),e=!0)}};d();h();d();h();var X4=-1,Dxt=()=>_t.document.visibilityState==="hidden"&&!_t.document.prerendering?0:1/0,VB=t=>{_t.document.visibilityState==="hidden"&&X4>-1&&(X4=t.type==="visibilitychange"?t.timeStamp:0,Uxt())},Nxt=()=>{addEventListener("visibilitychange",VB,!0),addEventListener("prerenderingchange",VB,!0)},Uxt=()=>{removeEventListener("visibilitychange",VB,!0),removeEventListener("prerenderingchange",VB,!0)},Qy=()=>(_t.document&&X4<0&&(X4=Dxt(),Nxt()),{get firstHiddenTime(){return X4}});d();h();var ph=t=>{_t.document&&_t.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()};var Lxt=[1800,3e3],C4e=(t,e={})=>{ph(()=>{let r=Qy(),n=Nf("FCP"),i,s=Oc("paint",u=>{u.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-hh(),0),n.entries.push(l),i(!0)))})});s&&(i=Df(t,n,Lxt,e.reportAllChanges))})};var Fxt=[.1,.25],B4e=(t,e={})=>{C4e(Zy(()=>{let r=Nf("CLS",0),n,i=0,o=[],s=l=>{l.forEach(m=>{if(!m.hadRecentInput){let x=o[0],w=o[o.length-1];i&&x&&w&&m.startTime-w.startTime<1e3&&m.startTime-x.startTime<5e3?(i+=m.value,o.push(m)):(i=m.value,o=[m])}}),i>r.value&&(r.value=i,r.entries=o,n())},u=Oc("layout-shift",s);u&&(n=Df(t,r,Fxt,e.reportAllChanges),Uf(()=>{s(u.takeRecords()),n(!0)}),setTimeout(n,0))}))};d();h();var Kxt=[100,300],O4e=(t,e={})=>{ph(()=>{let r=Qy(),n=Nf("FID"),i,o=l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},s=l=>{l.forEach(o)},u=Oc("first-input",s);i=Df(t,n,Kxt,e.reportAllChanges),u&&Uf(Zy(()=>{s(u.takeRecords()),u.disconnect()}))})};d();h();d();h();d();h();var D4e=0,LQ=1/0,HB=0,qxt=t=>{t.forEach(e=>{e.interactionId&&(LQ=Math.min(LQ,e.interactionId),HB=Math.max(HB,e.interactionId),D4e=HB?(HB-LQ)/7+1:0)})},FQ,N4e=()=>FQ?D4e:performance.interactionCount||0,U4e=()=>{"interactionCount"in performance||FQ||(FQ=Oc("event",qxt,{type:"event",buffered:!0,durationThreshold:0}))};var np=[],KQ=new Map,L4e=40,Vxt=0,Hxt=()=>N4e()-Vxt,F4e=()=>{let t=Math.min(np.length-1,Math.floor(Hxt()/50));return np[t]},qQ=10,jxt=[],K4e=t=>{if(jxt.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=np[np.length-1],r=KQ.get(t.interactionId);if(r||np.length<qQ||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};KQ.set(n.id,n),np.push(n)}np.sort((n,i)=>i.latency-n.latency),np.length>qQ&&np.splice(qQ).forEach(n=>KQ.delete(n.id))}};d();h();var jB=t=>{let e=_t.requestIdleCallback||_t.setTimeout,r=-1;return t=Zy(t),_t.document&&_t.document.visibilityState==="hidden"?t():(r=e(t),Uf(t)),r};var zxt=[200,500],q4e=(t,e={})=>{"PerformanceEventTiming"in _t&&"interactionId"in PerformanceEventTiming.prototype&&ph(()=>{U4e();let r=Nf("INP"),n,i=s=>{jB(()=>{s.forEach(K4e);let u=F4e();u&&u.latency!==r.value&&(r.value=u.latency,r.entries=u.entries,n())})},o=Oc("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:L4e});n=Df(t,r,zxt,e.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Uf(()=>{i(o.takeRecords()),n(!0)}))})};d();h();var Wxt=[2500,4e3],V4e={},H4e=(t,e={})=>{ph(()=>{let r=Qy(),n=Nf("LCP"),i,o=u=>{e.reportAllChanges||(u=u.slice(-1)),u.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-hh(),0),n.entries=[l],i())})},s=Oc("largest-contentful-paint",o);if(s){i=Df(t,n,Wxt,e.reportAllChanges);let u=Zy(()=>{V4e[n.id]||(o(s.takeRecords()),s.disconnect(),V4e[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{_t.document&&addEventListener(l,()=>jB(u),{once:!0,capture:!0})}),Uf(u)}})};d();h();var Gxt=[800,1800],VQ=t=>{_t.document&&_t.document.prerendering?ph(()=>VQ(t)):_t.document&&_t.document.readyState!=="complete"?addEventListener("load",()=>VQ(t),!0):setTimeout(t,0)},j4e=(t,e={})=>{let r=Nf("TTFB"),n=Df(t,r,Gxt,e.reportAllChanges);VQ(()=>{let i=rp();i&&(r.value=Math.max(i.responseStart-hh(),0),r.entries=[i],n(!0))})};var e8={},zB={},z4e,W4e,G4e,$4e,Y4e;function t8(t,e=!1){return r8("cls",t,$xt,z4e,e)}function HQ(t,e=!1){return r8("lcp",t,Zxt,G4e,e)}function jQ(t){return r8("fid",t,Yxt,W4e)}function zQ(t){return r8("ttfb",t,Qxt,$4e)}function WQ(t){return r8("inp",t,Jxt,Y4e)}function ip(t,e){return Z4e(t,e),zB[t]||(Xxt(t),zB[t]=!0),Q4e(t,e)}function _S(t,e){let r=e8[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){ES&&et.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${kc(n)}
Error:`,i)}}function $xt(){return B4e(t=>{_S("cls",{metric:t}),z4e=t},{reportAllChanges:!0})}function Yxt(){return O4e(t=>{_S("fid",{metric:t}),W4e=t})}function Zxt(){return H4e(t=>{_S("lcp",{metric:t}),G4e=t},{reportAllChanges:!0})}function Qxt(){return j4e(t=>{_S("ttfb",{metric:t}),$4e=t})}function Jxt(){return q4e(t=>{_S("inp",{metric:t}),Y4e=t})}function r8(t,e,r,n,i=!1){Z4e(t,e);let o;return zB[t]||(o=r(),zB[t]=!0),n&&e({metric:n}),Q4e(t,e,i?o:void 0)}function Xxt(t){let e={};t==="event"&&(e.durationThreshold=0),Oc(t,r=>{_S(t,{entries:r})},e)}function Z4e(t,e){e8[t]=e8[t]||[],e8[t].push(e)}function Q4e(t,e,r){return()=>{r&&r();let n=e8[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}function J4e(t){return"duration"in t}d();h();d();h();d();h();function WB(t){return typeof t=="number"&&isFinite(t)}function mh(t,e,r,{...n}){let i=Jt(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),vS(t,()=>{let o=wu({startTime:e,...n});return o&&o.end(r),o})}function GB(t){let e=Qt();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:o}=t,{release:s,environment:u}=e.getOptions(),l=e.getIntegrationByName("Replay"),m=l&&l.getReplayId(),x=hr(),w=x.getUser(),E=w!==void 0?w.email||w.id||w.ip_address:void 0,I;try{I=x.getScopeData().contexts.profile.profile_id}catch{}let M={release:s,environment:u,user:E||void 0,profile_id:I||void 0,replay_id:m||void 0,transaction:n,"user_agent.original":_t.navigator&&_t.navigator.userAgent,...i};return wu({name:r,attributes:M,startTime:o,experimental:{standalone:!0}})}function n8(){return _t&&_t.addEventListener&&_t.performance}function ki(t){return t/1e3}function i8(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}function X4e(){let t=0,e,r;if(!twt())return;let n=!1;function i(){n||(n=!0,r&&ewt(t,e,r),o())}let o=t8(({metric:s})=>{let u=s.entries[s.entries.length-1];u&&(t=s.value,e=u)},!0);Uf(()=>{i()}),setTimeout(()=>{let s=Qt();if(!s)return;let u=s.on("startNavigationSpan",()=>{i(),u&&u()}),l=qn(),m=l&&Kn(l),x=m&&Jt(m);x&&x.op==="pageload"&&(r=m.spanContext().spanId)},0)}function ewt(t,e,r){ES&&et.log(`Sending CLS span (${t})`);let n=ki((_o||0)+(e&&e.startTime||0)),i=hr().getScopeData().transactionName,o=e?bu(e.sources[0]&&e.sources[0].node):"Layout shift",s=Gn({[$n]:"auto.http.browser.cls",[Xa]:"ui.webvital.cls",[J1]:e&&e.duration||0,"sentry.pageload.span_id":r}),u=GB({name:o,transaction:i,attributes:s,startTime:n});u&&(u.addEvent("cls",{[zy]:"",[Wy]:t}),u.end(n))}function twt(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var rwt=2147483647,e8e=0,qs={},Dc,o8;function $Q({recordClsStandaloneSpans:t}){let e=n8();if(e&&_o){e.mark&&_t.performance.mark("sentry-tracing-init");let r=owt(),n=iwt(),i=swt(),o=t?X4e():nwt();return()=>{r(),n(),i(),o&&o()}}return()=>{}}function YQ(){ip("longtask",({entries:t})=>{let e=qn();if(!e)return;let{op:r,start_timestamp:n}=Jt(e);for(let i of t){let o=ki(_o+i.startTime),s=ki(i.duration);r==="navigation"&&n&&o<n||mh(e,o,o+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[$n]:"auto.ui.browser.metrics"}})}})}function ZQ(){new PerformanceObserver(e=>{let r=qn();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=ki(_o+n.startTime),{start_timestamp:o,op:s}=Jt(r);if(s==="navigation"&&o&&i<o)continue;let u=ki(n.duration),l={[$n]:"auto.ui.browser.metrics"},m=n.scripts[0],{invoker:x,invokerType:w,sourceURL:E,sourceFunctionName:I,sourceCharPosition:M}=m;l["browser.script.invoker"]=x,l["browser.script.invoker_type"]=w,E&&(l["code.filepath"]=E),I&&(l["code.function"]=I),M!==-1&&(l["browser.script.source_char_position"]=M),mh(r,i,i+u,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function QQ(){ip("event",({entries:t})=>{let e=qn();if(e){for(let r of t)if(r.name==="click"){let n=ki(_o+r.startTime),i=ki(r.duration),o={name:bu(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[$n]:"auto.ui.browser.metrics"}},s=F4(r.target);s&&(o.attributes["ui.component_name"]=s),mh(e,n,n+i,o)}}})}function nwt(){return t8(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(qs.cls={value:t.value,unit:""},o8=e)},!0)}function iwt(){return HQ(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(qs.lcp={value:t.value,unit:"millisecond"},Dc=e)},!0)}function owt(){return jQ(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=ki(_o),n=ki(e.startTime);qs.fid={value:t.value,unit:"millisecond"},qs["mark.fid"]={value:r+n,unit:"second"}})}function swt(){return zQ(({metric:t})=>{t.entries[t.entries.length-1]&&(qs.ttfb={value:t.value,unit:"millisecond"})})}function JQ(t,e){let r=n8();if(!r||!r.getEntries||!_o)return;let n=ki(_o),i=r.getEntries(),{op:o,start_timestamp:s}=Jt(t);if(i.slice(e8e).forEach(u=>{let l=ki(u.startTime),m=ki(Math.max(0,u.duration));if(!(o==="navigation"&&s&&n+l<s))switch(u.entryType){case"navigation":{cwt(t,u,n);break}case"mark":case"paint":case"measure":{awt(t,u,l,m,n);let x=Qy(),w=u.startTime<x.firstHiddenTime;u.name==="first-paint"&&w&&(qs.fp={value:u.startTime,unit:"millisecond"}),u.name==="first-contentful-paint"&&w&&(qs.fcp={value:u.startTime,unit:"millisecond"});break}case"resource":{lwt(t,u,u.name,l,m,n);break}}}),e8e=Math.max(i.length-1,0),dwt(t),o==="pageload"){pwt(qs);let u=qs["mark.fid"];u&&qs.fid&&(mh(t,u.value,u.value+ki(qs.fid.value),{name:"first input delay",op:"ui.action",attributes:{[$n]:"auto.ui.browser.metrics"}}),delete qs["mark.fid"]),(!("fcp"in qs)||!e.recordClsOnPageloadSpan)&&delete qs.cls,Object.entries(qs).forEach(([l,m])=>{xB(l,m.value,m.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",hh()),hwt(t)}Dc=void 0,o8=void 0,qs={}}function awt(t,e,r,n,i){let o=rp(!1),s=ki(o?o.requestStart:0),u=i+Math.max(r,s),l=i+r,m=l+n,x={[$n]:"auto.resource.browser.metrics"};return u!==l&&(x["sentry.browser.measure_happened_before_request"]=!0,x["sentry.browser.measure_start_time"]=u),mh(t,u,m,{name:e.name,op:e.entryType,attributes:x}),u}function cwt(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{$B(t,e,n,r)}),$B(t,e,"secureConnection",r,"TLS/SSL"),$B(t,e,"fetch",r,"cache"),$B(t,e,"domainLookup",r,"DNS"),fwt(t,e,r)}function $B(t,e,r,n,i=r){let o=uwt(r),s=e[o],u=e[`${r}Start`];!u||!s||mh(t,n+ki(u),n+ki(s),{op:`browser.${i}`,name:e.name,attributes:{[$n]:"auto.ui.browser.metrics"}})}function uwt(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function fwt(t,e,r){let n=r+ki(e.requestStart),i=r+ki(e.responseEnd),o=r+ki(e.responseStart);e.responseEnd&&(mh(t,n,i,{op:"browser.request",name:e.name,attributes:{[$n]:"auto.ui.browser.metrics"}}),mh(t,o,i,{op:"browser.response",name:e.name,attributes:{[$n]:"auto.ui.browser.metrics"}}))}function lwt(t,e,r,n,i,o){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let s=Of(r),u={[$n]:"auto.resource.browser.metrics"};GQ(u,e,"transferSize","http.response_transfer_size"),GQ(u,e,"encodedBodySize","http.response_content_length"),GQ(u,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(u["http.response_delivery_type"]=l);let m=e.renderBlockingStatus;m&&(u["resource.render_blocking_status"]=m),s.protocol&&(u["url.scheme"]=s.protocol.split(":").pop()),s.host&&(u["server.address"]=s.host),u["url.same_origin"]=r.includes(_t.location.origin);let{name:x,version:w}=i8(e.nextHopProtocol);u["network.protocol.name"]=x,u["network.protocol.version"]=w;let E=o+n,I=E+i;mh(t,E,I,{name:r.replace(_t.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:u})}function dwt(t){let e=_t.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),WB(r.rtt)&&(qs["connection.rtt"]={value:r.rtt,unit:"millisecond"})),WB(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),WB(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function hwt(t){Dc&&(Dc.element&&t.setAttribute("lcp.element",bu(Dc.element)),Dc.id&&t.setAttribute("lcp.id",Dc.id),Dc.url&&t.setAttribute("lcp.url",Dc.url.trim().slice(0,200)),Dc.loadTime!=null&&t.setAttribute("lcp.loadTime",Dc.loadTime),Dc.renderTime!=null&&t.setAttribute("lcp.renderTime",Dc.renderTime),t.setAttribute("lcp.size",Dc.size)),o8&&o8.sources&&o8.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,bu(e.node)))}function GQ(t,e,r,n){let i=e[r];i!=null&&i<rwt&&(t[n]=i)}function pwt(t){let e=rp(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}d();h();var mwt=1e3,t8e,XQ,eJ;function tJ(t){let e="dom";_a(e,t),Ta(e,ywt)}function ywt(){if(!_t.document)return;let t=Eo.bind(null,"dom"),e=r8e(t,!0);_t.document.addEventListener("click",e,!1),_t.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=_t[r],o=i&&i.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(Lo(o,"addEventListener",function(s){return function(u,l,m){if(u==="click"||u=="keypress")try{let x=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},w=x[u]=x[u]||{refCount:0};if(!w.handler){let E=r8e(t);w.handler=E,s.call(this,u,E,m)}w.refCount++}catch{}return s.call(this,u,l,m)}}),Lo(o,"removeEventListener",function(s){return function(u,l,m){if(u==="click"||u=="keypress")try{let x=this.__sentry_instrumentation_handlers__||{},w=x[u];w&&(w.refCount--,w.refCount<=0&&(s.call(this,u,w.handler,m),w.handler=void 0,delete x[u]),Object.keys(x).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,u,l,m)}}))})}function gwt(t){if(t.type!==XQ)return!1;try{if(!t.target||t.target._sentryId!==eJ)return!1}catch{}return!0}function bwt(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function r8e(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=vwt(r);if(bwt(r.type,n))return;lo(r,"_sentryCaptured",!0),n&&!n._sentryId&&lo(n,"_sentryId",Fo());let i=r.type==="keypress"?"input":r.type;gwt(r)||(t({event:r,name:i,global:e}),XQ=r.type,eJ=n?n._sentryId:void 0),clearTimeout(t8e),t8e=_t.setTimeout(()=>{eJ=void 0,XQ=void 0},mwt)}}function vwt(t){try{return t.target}catch{return null}}d();h();var YB;function rv(t){let e="history";_a(e,t),Ta(e,xwt)}function xwt(){if(!CQ())return;let t=_t.onpopstate;_t.onpopstate=function(...r){let n=_t.location.href,i=YB;if(YB=n,Eo("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let o=YB,s=String(i);YB=s,Eo("history",{from:o,to:s})}return r.apply(this,n)}}Lo(_t.history,"pushState",e),Lo(_t.history,"replaceState",e)}d();h();var ZB={};function rJ(t){let e=ZB[t];if(e)return e;let r=_t[t];if(Z4(r))return ZB[t]=r.bind(_t);let n=_t.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let o=i.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(i)}catch(i){ES&&et.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(ZB[t]=r.bind(_t))}function QB(t){ZB[t]=void 0}d();h();var op="__sentry_xhr_v3__";function s8(t){let e="xhr";_a(e,t),Ta(e,wwt)}function wwt(){if(!_t.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,o=ro()*1e3,s=Ja(n[0])?n[0].toUpperCase():void 0,u=Swt(n[1]);if(!s||!u)return e.apply(r,n);r[op]={method:s,url:u,request_headers:{}},s==="POST"&&u.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=()=>{let m=r[op];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}let x={endTimestamp:ro()*1e3,startTimestamp:o,xhr:r,virtualError:i};Eo("xhr",x)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,x,w){return l(),m.apply(x,w)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,x,w){let[E,I]=w,M=x[op];return M&&Ja(E)&&Ja(I)&&(M.request_headers[E.toLowerCase()]=I),m.apply(x,w)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[op];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let o={startTimestamp:ro()*1e3,xhr:r};return Eo("xhr",o),e.apply(r,n)}})}function Swt(t){if(Ja(t))return t;try{return t.toString()}catch{}}d();h();var nJ=[],JB=new Map;function iJ(){if(n8()&&_o){let e=Awt();return()=>{e()}}return()=>{}}var n8e={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Awt(){return WQ(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(M=>M.duration===t.value&&n8e[M.name]);if(!e)return;let{interactionId:r}=e,n=n8e[e.name],i=ki(_o+e.startTime),o=ki(t.value),s=qn(),u=s?Kn(s):void 0,m=(r!=null?JB.get(r):void 0)||u,x=m?Jt(m).description:hr().getScopeData().transactionName,w=bu(e.target),E=Gn({[$n]:"auto.http.browser.inp",[Xa]:`ui.interaction.${n}`,[J1]:e.duration}),I=GB({name:w,transaction:x,attributes:E,startTime:i});I&&(I.addEvent("inp",{[zy]:"millisecond",[Wy]:t.value}),I.end(i+o))})}function oJ(t){let e=({entries:r})=>{let n=qn(),i=n&&Kn(n);r.forEach(o=>{if(!J4e(o)||!i)return;let s=o.interactionId;if(s!=null&&!JB.has(s)){if(nJ.length>10){let u=nJ.shift();JB.delete(u)}nJ.push(s),JB.set(s,i)}})};ip("event",e),ip("first-input",e)}function i8e(t,e=rJ("fetch")){let r=0,n=0;function i(o){let s=o.body.length;r+=s,n++;let u={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return QB("fetch"),Hy("No fetch implementation available");try{return e(t.url,u).then(l=>(r-=s,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return QB("fetch"),r-=s,n--,Hy(l)}}return PB(t,i)}d();h();var Ewt=30;var _wt=50;function sJ(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?sh:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var Twt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Iwt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Mwt=/\((\S*)(?::(\d+))(?::(\d+))\)/,kwt=t=>{let e=Twt.exec(t);if(e){let[,n,i,o]=e;return sJ(n,sh,+i,+o)}let r=Iwt.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let s=Mwt.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}let[i,o]=s8e(r[1]||sh,r[2]);return sJ(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Pwt=[Ewt,kwt],Rwt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Cwt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Bwt=t=>{let e=Rwt.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let o=Cwt.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],i=e[1]||sh;return[i,n]=s8e(i,n),sJ(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Owt=[_wt,Bwt];var Dwt=[Pwt,Owt],o8e=ZC(...Dwt),s8e=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:sh,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};d();h();d();h();var XB=1024,Nwt="Breadcrumbs",Uwt=(t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Nwt,setup(r){e.console&&EQ(Kwt(r)),e.dom&&tJ(Fwt(r,e.dom)),e.xhr&&s8(qwt(r)),e.fetch&&Q4(Vwt(r)),e.history&&rv(Hwt(r)),e.sentry&&r.on("beforeSendEvent",Lwt(r))}}},a8=Uwt;function Lwt(t){return function(r){Qt()===t&&Bc({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Kl(r)},{event:r})}}function Fwt(t,e){return function(n){if(Qt()!==t)return;let i,o,s=typeof e=="object"?e.serializeAttribute:void 0,u=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;u&&u>XB&&(Ks&&et.warn(`\`dom.maxStringLength\` cannot exceed ${XB}, but a value of ${u} was configured. Sentry will use ${XB} instead.`),u=XB),typeof s=="string"&&(s=[s]);try{let m=n.event,x=jwt(m)?m.target:m;i=bu(x,{keyAttrs:s,maxStringLength:u}),o=F4(x)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};o&&(l.data={"ui.component_name":o}),Bc(l,{event:n.event,name:n.name,global:n.global})}}function Kwt(t){return function(r){if(Qt()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:_Q(r.level),message:tB(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${tB(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;Bc(n,{input:r.args,level:r.level})}}function qwt(t){return function(r){if(Qt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,o=r.xhr[op];if(!n||!i||!o)return;let{method:s,url:u,status_code:l,body:m}=o,x={method:s,url:u,status_code:l},w={xhr:r.xhr,input:m,startTimestamp:n,endTimestamp:i},E=NB(l);Bc({category:"xhr",data:x,type:"http",level:E},w)}}function Vwt(t){return function(r){if(Qt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let o=r.fetchData,s={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};Bc({category:"fetch",data:o,level:"error",type:"http"},s)}else{let o=r.response,s={...r.fetchData,status_code:o&&o.status},u={input:r.args,response:o,startTimestamp:n,endTimestamp:i},l=NB(s.status_code);Bc({category:"fetch",data:s,type:"http",level:l},u)}}}function Hwt(t){return function(r){if(Qt()!==t)return;let n=r.from,i=r.to,o=Of(Ht.location.href),s=n?Of(n):void 0,u=Of(i);(!s||!s.path)&&(s=o),o.protocol===u.protocol&&o.host===u.host&&(i=u.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Bc({category:"navigation",data:{from:n,to:i}})}}function jwt(t){return!!t&&!!t.target}d();h();var zwt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Wwt="BrowserApiErrors",Gwt=(t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:Wwt,setupOnce(){e.setTimeout&&Lo(Ht,"setTimeout",a8e),e.setInterval&&Lo(Ht,"setInterval",a8e),e.requestAnimationFrame&&Lo(Ht,"requestAnimationFrame",$wt),e.XMLHttpRequest&&"XMLHttpRequest"in Ht&&Lo(XMLHttpRequest.prototype,"send",Ywt);let r=e.eventTarget;r&&(Array.isArray(r)?r:zwt).forEach(Zwt)}}},c8e=Gwt;function a8e(t){return function(...e){let r=e[0];return e[0]=tv(r,{mechanism:{data:{function:kc(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function $wt(t){return function(e){return t.apply(this,[tv(e,{mechanism:{data:{function:"requestAnimationFrame",handler:kc(t)},handled:!1,type:"instrument"}})])}}function Ywt(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Lo(r,i,function(o){let s={mechanism:{data:{function:i,handler:kc(o)},handled:!1,type:"instrument"}},u=Z1(o);return u&&(s.mechanism.data.handler=kc(u)),tv(o,s)})}),t.apply(this,e)}}function Zwt(t){let r=Ht[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Lo(n,"addEventListener",function(i){return function(o,s,u){try{Qwt(s)&&(s.handleEvent=tv(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:kc(s),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,tv(s,{mechanism:{data:{function:"addEventListener",handler:kc(s),target:t},handled:!1,type:"instrument"}}),u])}}),Lo(n,"removeEventListener",function(i){return function(o,s,u){try{let l=s.__sentry_wrapped__;l&&i.call(this,o,l,u)}catch{}return i.call(this,o,s,u)}}))}function Qwt(t){return typeof t.handleEvent=="function"}d();h();var u8e=()=>({name:"BrowserSession",setupOnce(){if(typeof Ht.document>"u"){Ks&&et.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}W4({ignoreDuration:!0}),G4(),rv(({from:t,to:e})=>{t!==void 0&&t!==e&&(W4({ignoreDuration:!0}),G4())})}});d();h();var Jwt="GlobalHandlers",Xwt=(t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:Jwt,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(e2t(r),f8e("onerror")),e.onunhandledrejection&&(t2t(r),f8e("onunhandledrejection"))}}},l8e=Xwt;function e2t(t){D4(e=>{let{stackParser:r,attachStacktrace:n}=d8e();if(Qt()!==t||OQ())return;let{msg:i,url:o,line:s,column:u,error:l}=e,m=i2t(KB(r,l||i,void 0,n,!1),o,s,u);m.level="error",z4(m,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function t2t(t){N4(e=>{let{stackParser:r,attachStacktrace:n}=d8e();if(Qt()!==t||OQ())return;let i=r2t(e),o=$1(i)?n2t(i):KB(r,i,void 0,n,!0);o.level="error",z4(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function r2t(t){if($1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function n2t(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function i2t(t,e,r,n){let i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},u=s.stacktrace=s.stacktrace||{},l=u.frames=u.frames||[],m=n,x=r,w=Ja(e)&&e.length>0?e:qZ();return l.length===0&&l.push({colno:m,filename:w,function:sh,in_app:!0,lineno:x}),t}function f8e(t){Ks&&et.log(`Global Handler attached: ${t}`)}function d8e(){let t=Qt();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}d();h();var h8e=()=>({name:"HttpContext",preprocessEvent(t){if(!Ht.navigator&&!Ht.location&&!Ht.document)return;let e=t.request&&t.request.url||Ht.location&&Ht.location.href,{referrer:r}=Ht.document||{},{userAgent:n}=Ht.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...t.request,...e&&{url:e},headers:i};t.request=o}});d();h();var o2t="cause",s2t=5,a2t="LinkedErrors",c2t=(t={})=>{let e=t.limit||s2t,r=t.key||o2t;return{name:a2t,preprocessEvent(n,i,o){let s=o.getOptions();AQ(FB,s.stackParser,s.maxValueLength,r,e,n,i)}}},p8e=c2t;function m8e(t){let e=[BB(),RB(),c8e(),a8(),l8e(),p8e(),OB(),h8e()];return t.autoSessionTracking!==!1&&e.push(u8e()),e}function u2t(t={}){let e={defaultIntegrations:m8e(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Ht.SENTRY_RELEASE&&Ht.SENTRY_RELEASE.id?Ht.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}function f2t(){let t=typeof Ht.window<"u"&&Ht;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=Ht.location&&Ht.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],s=!!n&&Ht===Ht.top&&o.some(l=>i.startsWith(`${l}//`)),u=typeof t.nw<"u";return!!n&&!s&&!u}function aJ(t={}){let e=u2t(t);if(!e.skipBrowserExtensionCheck&&f2t()){Mc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Ks&&(UB()||et.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:OZ(e.stackParser||o8e),integrations:gQ(e),transport:e.transport||i8e};return xQ(qB,r)}d();h();var y8e=new WeakMap,cJ=new Map,c8={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function b8e(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:u}={traceFetch:c8.traceFetch,traceXHR:c8.traceXHR,trackFetchStreamPerformance:c8.trackFetchStreamPerformance,...e},l=typeof o=="function"?o:w=>!0,m=w=>h2t(w,u),x={};r&&(t.addEventProcessor(w=>(w.type==="transaction"&&w.spans&&w.spans.forEach(E=>{if(E.op==="http.client"){let I=cJ.get(E.span_id);I&&(E.timestamp=I/1e3,cJ.delete(E.span_id))}}),w)),i&&PQ(w=>{if(w.response){let E=y8e.get(w.response);E&&w.endTimestamp&&cJ.set(E,w.endTimestamp)}}),Q4(w=>{let E=TQ(w,l,m,x);if(w.response&&w.fetchData.__span&&y8e.set(w.response,w.fetchData.__span),E){let I=v8e(w.fetchData.url),M=I?Of(I).host:void 0;E.setAttributes({"http.url":I,"server.address":M})}s&&E&&g8e(E)})),n&&s8(w=>{let E=p2t(w,l,m,x);s&&E&&g8e(E)})}function l2t(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function g8e(t){let{url:e}=Jt(t).data||{};if(!e||typeof e!="string")return;let r=ip("resource",({entries:n})=>{n.forEach(i=>{l2t(i)&&i.name.endsWith(e)&&(d2t(i).forEach(s=>t.setAttribute(...s)),setTimeout(r))})})}function yh(t=0){return((_o||performance.timeOrigin)+t)/1e3}function d2t(t){let{name:e,version:r}=i8(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),_o?[...n,["http.request.redirect_start",yh(t.redirectStart)],["http.request.fetch_start",yh(t.fetchStart)],["http.request.domain_lookup_start",yh(t.domainLookupStart)],["http.request.domain_lookup_end",yh(t.domainLookupEnd)],["http.request.connect_start",yh(t.connectStart)],["http.request.secure_connection_start",yh(t.secureConnectionStart)],["http.request.connection_end",yh(t.connectEnd)],["http.request.request_start",yh(t.requestStart)],["http.request.response_start",yh(t.responseStart)],["http.request.response_end",yh(t.responseEnd)]]:n}function h2t(t,e){let r=Ht.location&&Ht.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let o=n.origin===i;return e?ch(n.toString(),e)||o&&ch(n.pathname,e):o}else{let n=!!t.match(/^\/(?!\/)/);return e?ch(t,e):n}}function p2t(t,e,r,n){let i=t.xhr,o=i&&i[op];if(!i||i.__sentry_own_request__||!o)return;let s=ec()&&e(o.url);if(t.endTimestamp&&s){let w=i.__sentry_xhr_span_id__;if(!w)return;let E=n[w];E&&o.status_code!==void 0&&(yS(E,o.status_code),E.end(),delete n[w]);return}let u=v8e(o.url),l=u?Of(u).host:void 0,m=!!qn(),x=s&&m?wu({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":u,url:o.url,"server.address":l,[$n]:"auto.http.browser",[Xa]:"http.client"}}):new Cc;return i.__sentry_xhr_span_id__=x.spanContext().spanId,n[i.__sentry_xhr_span_id__]=x,r(o.url)&&m2t(i,ec()&&m?x:void 0),x}function m2t(t,e){let{"sentry-trace":r,baggage:n}=Y4({span:e});r&&y2t(t,r,n)}function y2t(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}function v8e(t){try{return new URL(t,Ht.location.origin).href}catch{return}}d();h();d();h();function x8e(){Ht&&Ht.document?Ht.document.addEventListener("visibilitychange",()=>{let t=qn();if(!t)return;let e=Kn(t);if(Ht.document.hidden&&e){let r="cancelled",{op:n,status:i}=Jt(e);Ks&&et.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Ks&&et.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var g2t="BrowserTracing",b2t={...xS,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...c8},uJ=(t={})=>{pB();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:s,idleTimeout:u,finalTimeout:l,childSpanTimeout:m,markBackgroundSpan:x,traceFetch:w,traceXHR:E,trackFetchStreamPerformance:I,shouldCreateSpanForRequest:M,enableHTTPTimings:k,instrumentPageLoad:C,instrumentNavigation:R}={...b2t,...t},L=$Q({recordClsStandaloneSpans:o||!1});e&&iJ(),n&&Yt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?ZQ():r&&YQ(),i&&QQ();let P={name:void 0,source:void 0};function K(V,j){let ne=j.op==="pageload",J=s?s(j):j,oe=J.attributes||{};j.name!==J.name&&(oe[Ia]="custom",J.attributes=oe),P.name=J.name,P.source=oe[Ia];let S=AB(J,{idleTimeout:u,finalTimeout:l,childSpanTimeout:m,disableAutoFinish:ne,beforeSpanEnd:f=>{L(),JQ(f,{recordClsOnPageloadSpan:!o})}});function a(){["interactive","complete"].includes(Ht.document.readyState)&&V.emit("idleSpanEnableAutoFinish",S)}return ne&&Ht.document&&(Ht.document.addEventListener("readystatechange",()=>{a()}),a()),S}return{name:g2t,afterAllSetup(V){let j,ne=Ht.location&&Ht.location.href;function J(){j&&!Jt(j).timestamp&&(Ks&&et.log(`[Tracing] Finishing current active span with op: ${Jt(j).op}`),j.end())}V.on("startNavigationSpan",oe=>{Qt()===V&&(J(),j=K(V,{op:"navigation",...oe}))}),V.on("startPageLoadSpan",(oe,S={})=>{if(Qt()!==V)return;J();let a=S.sentryTrace||w8e("sentry-trace"),f=S.baggage||w8e("baggage"),p=JZ(a,f);hr().setPropagationContext(p),j=K(V,{op:"pageload",...oe})}),V.on("spanEnd",oe=>{let S=Jt(oe).op;if(oe!==Kn(oe)||S!=="navigation"&&S!=="pageload")return;let a=hr(),f=a.getPropagationContext();a.setPropagationContext({...f,sampled:f.sampled!==void 0?f.sampled:Cf(oe),dsc:f.dsc||xu(oe)})}),Ht.location&&(C&&S8e(V,{name:Ht.location.pathname,startTime:_o?_o/1e3:void 0,attributes:{[Ia]:"url",[$n]:"auto.pageload.browser"}}),R&&rv(({to:oe,from:S})=>{if(S===void 0&&ne&&ne.indexOf(oe)!==-1){ne=void 0;return}S!==oe&&(ne=void 0,A8e(V,{name:Ht.location.pathname,attributes:{[Ia]:"url",[$n]:"auto.navigation.browser"}}))})),x&&x8e(),i&&v2t(u,l,m,P),e&&oJ(),b8e(V,{traceFetch:w,traceXHR:E,trackFetchStreamPerformance:I,tracePropagationTargets:V.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:M,enableHTTPTimings:k})}}};function S8e(t,e,r){t.emit("startPageLoadSpan",e,r),hr().setTransactionName(e.name);let n=qn();return(n&&Jt(n).op)==="pageload"?n:void 0}function A8e(t,e){Ko().setPropagationContext({traceId:Pc()}),hr().setPropagationContext({traceId:Pc()}),t.emit("startNavigationSpan",e),hr().setTransactionName(e.name);let r=qn();return(r&&Jt(r).op)==="navigation"?r:void 0}function w8e(t){let e=VZ(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function v2t(t,e,r,n){let i,o=()=>{let s="ui.action.click",u=qn(),l=u&&Kn(u);if(l){let m=Jt(l).op;if(["navigation","pageload"].includes(m)){Ks&&et.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(mS,"interactionInterrupted"),i.end(),i=void 0),!n.name){Ks&&et.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}i=AB({name:n.name,op:s,attributes:{[Ia]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})};Ht.document&&addEventListener("click",o,{once:!1,capture:!0})}d();h();var E8e=qe(ur(),1);function u8(t){let e={...t};return ev(e,"react"),MB("react",{version:E8e.version}),aJ(e)}d();h();var fJ={op:"function"};var w2t=["The server encountered a temporary error","premature close","The browser is shutting down."],S2t=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],A2t=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],_8e=!1,T8e={init:async(t,{appVersion:e,sentry:r})=>{r.enabled&&u8({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:n=>{let i=n.transactionContext.name;return S2t.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},beforeSend:async(n,i)=>{let o=i?.originalException;for(let s of w2t)if(o instanceof Error&&o.message===s||typeof o=="string"&&o===s)return null;if(o&&!_8e){let u=`${new Date().toISOString()}-logs.txt`,l=await j1.getRecentLogs();i.attachments=[{filename:u,data:l}],_8e=!0}return n},dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:(n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,integrations:function(n){return n.filter(function(o){return!A2t.includes(o.name)}).concat([a8({dom:!1,history:!1,console:!1}),uJ({traceFetch:!1,traceXHR:!1,enableInp:!0})])}})},captureError:(t,e)=>{Yy(t,{tags:{feature:e,team:J0(e)}})},captureMessage:(t,e,r="info")=>{wS(t,{tags:{feature:e,team:J0(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{Bc({category:t,message:e,level:r,data:n})},setUser:async t=>{AS(t)},setTags:async t=>{SS(t)},startSpan:(t,e)=>{let r=SB({...fJ,name:t},e);return Promise.resolve(r)},startInactiveSpan:t=>{let e=wu({...fJ,name:t});return e?Promise.resolve(e):void 0},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{}};d();h();d();h();d();h();function I8e(){return uc()}var E2t=B.enum(["disabled","console","standard","debug"]);function M8e(){let t=T.TELEMETRY_ENV,e=E2t.optional().parse(T.TELEMETRY_MODE),r=I8e(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}d();h();var D8e=qe(O8e()),N8e=qe(INe());var eO="[Telemetry Development Log]",tO={debug:console.log,info:console.warn,error:console.error,fatal:console.error};function C2t(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}function B2t(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,N8e.default)(n)||(0,D8e.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:C2t(n)&&(e[r]=n.toString())),e),{})}function TS(t,e,{featureTag:r,value:n,severity:i,data:o}){let s={value:n,data:o};for(let u of t){let l=u[e];if(l){let m=l(s.value,{featureTag:r,severity:i,data:s.data});s.value=m.value,m.data&&(s.data=m.data)}}return s}function rO(t,e){let r,n=B4;async function i(C){if(!r){if(r=M8e(),n=r.isSubmitEnabled?t.provider:B4,uc()){let R=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${R}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,C)}}function o(){return r}function s(C,R){if(r)try{let L=TS(e,"beforeEvent",{value:C,featureTag:R,severity:"error"});r.shouldLogToConsole&&tO.error(eO,L.value,L.data),L.value instanceof Error?n.captureError(L.value,R):n.captureError(new Error(L.value),R),TS(e,"afterEvent",{value:L.value,featureTag:R,severity:"error"})}catch(L){uc()&&console.warn(L)}}function u(C,R,L="info"){if(r)try{let P=TS(e,"beforeEvent",{value:C,featureTag:R,severity:L});r.shouldLogToConsole&&tO[L](eO,P.value),n.captureMessage(P.value instanceof Error?P.value.message:P.value,R,L),TS(e,"afterEvent",{value:P.value,featureTag:R,severity:L})}catch(P){uc()&&console.warn(P)}}function l(C,R,L,P){if(r)try{let K=TS(e,"beforeEvent",{featureTag:C,value:R,severity:L,data:P});r.shouldLogToConsole&&tO[L](...[eO,K.value,K.data].filter(Boolean)),n.addBreadcrumb(C,K.value instanceof Error?K.value.message:K.value,L,K.data),TS(e,"afterEvent",{featureTag:C,value:K.value,severity:L,data:K.data})}catch(K){uc()&&console.warn(K)}}async function m(C){r&&await n.setUser(C)}async function x(C){r&&await n.setTags(C)}function w(C,R){return r?n.startSpan(C,R):Promise.resolve(R())}function E(C,R){return r?()=>n.startSpan(C,R):()=>Promise.resolve(R())}function I(C){if(r)return n.startInactiveSpan(C)}async function M(C,R,L){r&&await t.provider.captureMetric(C,R,L)}function k(C,R){r&&n.trackFeatureFlag(C,R)}return{init:i,getConfig:o,captureError:s,captureMessage:u,addBreadcrumb:l,setUser:m,setTags:x,startSpan:w,startSpanCallback:E,startInactiveSpan:I,captureMetric:M,trackFeatureFlag:k}}var O2t=[nS,GC],D2t=zC(j1),N2t=[...O2t,D2t],Qe=rO({provider:$C(T8e,jC)},N2t);d();h();d();h();d();h();d();h();function U8e(t){let e={...t,environment:t.environment||T.NODE_ENV};return ev(e,"remix",["remix","react"]),u8(e)}var L8e={init:async(t,{sentry:e})=>{e.enabled&&U8e({dsn:e.dsn,sampleRate:t.mode==="debug"?1:e.sampleRate,tracesSampleRate:t.mode==="debug"?1:e.tracesSampleRate,profilesSampleRate:t.mode==="debug"?1:e.profilesSampleRate,environment:t.env,initialScope:e.initialScope,integrations:[]})},captureError:(t,e)=>{Yy(t,{tags:{feature:e,team:J0(e)}})},captureMessage:(t,e,r="info")=>{wS(t,{tags:{feature:e,team:J0(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{Bc({category:t,message:e,level:r,data:n})},setUser:async t=>{AS(t)},setTags:async t=>{SS(t)},startSpan:(t,e)=>{throw new Error("Not implemented")},startInactiveSpan:t=>{throw new Error("Not implemented")},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{}};var L2t=[nS,GC],F2t=zC(j1),K2t=[...L2t,F2t],q2t=rO({provider:$C(L8e,jC)},K2t);d();h();d();h();function F8e(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}d();h();var V2t="Logger not initialized",H2t="Method not supported on this platform",K8e=["publicKey"];var oO=t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let o=q8e(e);switch(o){case"Object":return j2t(t);case"Array":return z2t(t);case"function":return W2t(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return o;default:return"?"}},j2t=t=>{let{obj:e,indent:r,...n}=t,i="{",o=t.depth;if(lJ(e)>0){i+=`
`,o++;let s=0;for(let u in e){i+=iO(o,r),i+=u+": ";let l=oO({...n,obj:e[u],depth:o,indent:r});l&&(i+=l),s<lJ(e)-1&&(i+=","),i+=`
`,s++}o--,i+=iO(o,r)}return i+="}",i},z2t=t=>{let{obj:e,indent:r,...n}=t,i="[",o=t.depth,s=!1;if(e.length>0){o++;for(let u=0;u<e.length;u++){let l=q8e(e[u]),m=!1;l==="Object"&&lJ(e[u])>0&&(m=!0),l==="Array"&&e[u].length>0&&(m=!0),!s&&m&&(i+=`
`);let x=oO({...n,obj:e[u],depth:o,indent:r});x&&(m&&(i+=iO(o,r)),i+=x,u<e.length-1&&(i+=", "),m&&(i+=`
`)),s=m}o--}return i+="]",i},W2t=t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(o=>{o.match(/\}/)&&i--;let s=iO(i,n)+o.trim();return o.match(/\{/)&&i++,s}).join(`
`)},q8e=t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},iO=(t,e)=>e.repeat(Math.max(t,0)),lJ=t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},G2t=`======================================================
Application State
======================================================

`,$2t=`======================================================
Network Logs
======================================================

`,Y2t=`======================================================
Application Logs
======================================================

`,nO=`------------------------------------------------
`,Z2t=["authorization","x-phantomauthtoken","x-phantomnonce"],Q2t=(t,e=[])=>{let r=G2t;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${nO}`,r+=`${n}
${nO}
`,r+=oO({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=$2t;for(let n of e){if(n.requestHeaders)for(let i of Z2t)delete n.requestHeaders[i.toLowerCase()];r+=`${nO}`,r+=`${n.id}
${nO}
`,r+=F8e(n),r+=`

`}}return r+=Y2t,r},J2t=t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),sO=t=>t?JSON.parse(JSON.stringify(t,(e,r)=>K8e.includes(e)?void 0:r)):null;d();h();var X2t=B.object({maxRequests:B.number(),ignoredUrls:B.array(B.string()),ignoredHosts:B.array(B.string())});d();h();var aO=T1(null);function dJ(){let t=Cy(aO);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}d();h();d();h();var V8e=T1(null);function Dt(){let t=Cy(V8e),e=Cy(aO);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}d();h();var eSt={recipientError:void 0,amountError:void 0};d();h();d();h();d();h();d();h();var H8e="REACT_QUERY_OFFLINE_CACHE";function f8(t,e,...r){t&&console.log(e,...r)}var tSt=({underlyingStorage:t,throttleMs:e,cacheKey:r=H8e,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let o=null,s=async()=>{if(o)try{let u=JSON.stringify(o),l=u.length;l<n?await t.set(r,u):(await t.remove(r),f8(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),o=null}catch{}};return setInterval(()=>{s()},e),{persistClient:u=>{o=u},restoreClient:async()=>{try{let u=await t.get(r);if(!u){f8(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(u),m=u.length;return f8(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",m,"bytes"),l}catch{f8(i,"[React Query Offline Cache] Error restoring offline cache.");return}},removeClient:()=>(f8(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r))}};d();h();d();h();d();h();d();h();var Nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};d();h();d();h();var rSt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},nSt=class{#e=rSt;#t=!1;setTimeoutProvider(t){T.NODE_ENV!=="production"&&this.#t&&t!==this.#e&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:this.#e,provider:t}),this.#e=t,T.NODE_ENV!=="production"&&(this.#t=!1)}setTimeout(t,e){return T.NODE_ENV!=="production"&&(this.#t=!0),this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return T.NODE_ENV!=="production"&&(this.#t=!0),this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},gh=new nSt;function j8e(t){setTimeout(t,0)}var Uc=typeof self>"u"||"Deno"in globalThis;function Xn(){}function G8e(t,e){return typeof t=="function"?t(e):t}function l8(t){return typeof t=="number"&&t>=0&&t!==1/0}function cO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jl(t,e){return typeof t=="function"?t(e):t}function Lc(t,e){return typeof t=="function"?t(e):t}function uO(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:u}=t;if(s){if(n){if(e.queryHash!==d8(s,e.options))return!1}else if(!nv(e.queryKey,s))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||o&&!o(e))}function fO(t,e){let{exact:r,status:n,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(bh(e.options.mutationKey)!==bh(o))return!1}else if(!nv(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function d8(t,e){return(e?.queryKeyHashFn||bh)(t)}function bh(t){return JSON.stringify(t,(e,r)=>hJ(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function nv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>nv(t[r],e[r])):!1}var iSt=Object.prototype.hasOwnProperty;function IS(t,e){if(t===e)return t;let r=z8e(t)&&z8e(e);if(!r&&!(hJ(t)&&hJ(e)))return e;let i=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),s=o.length,u=r?new Array(s):{},l=0;for(let m=0;m<s;m++){let x=r?m:o[m],w=t[x],E=e[x];if(w===E){u[x]=w,(r?m<i:iSt.call(t,x))&&l++;continue}if(w===null||E===null||typeof w!="object"||typeof E!="object"){u[x]=E;continue}let I=IS(w,E);u[x]=I,I===w&&l++}return i===s&&l===i?t:u}function Jy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function z8e(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hJ(t){if(!W8e(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!W8e(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function W8e(t){return Object.prototype.toString.call(t)==="[object Object]"}function $8e(t){return new Promise(e=>{gh.setTimeout(e,t)})}function h8(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(T.NODE_ENV!=="production")try{return IS(t,e)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return IS(t,e)}return e}function Y8e(t){return t}function lO(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}function Z8e(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var vh=Symbol();function dO(t,e){return T.NODE_ENV!=="production"&&t.queryFn===vh&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===vh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function p8(t,e){return typeof t=="function"?t(...e):!!t}var oSt=class extends Nc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Uc&&self.addEventListener){let e=()=>t();return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},MS=new oSt;d();h();d();h();function m8(){let t,e,r=new Promise((i,o)=>{t=i,e=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Q8e(t){let e;if(t.then(r=>(e=r,r),Xn)?.catch(Xn),e!==void 0)return{data:e}}function J8e(t){return t}function sSt(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function aSt(t,e,r){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>r(n)?(T.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${n}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))):Promise.reject(n))},...t.meta&&{meta:t.meta}}}function X8e(t){return t.state.isPaused}function e5e(t){return t.state.status==="success"}function cSt(t){return!0}function hO(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??X8e,n=t.getMutationCache().getAll().flatMap(l=>r(l)?[sSt(l)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??e5e,o=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??cSt,s=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??J8e,u=t.getQueryCache().getAll().flatMap(l=>i(l)?[aSt(l,s,o)]:[]);return{mutations:n,queries:u}}function pJ(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),o=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??J8e,s=e.mutations||[],u=e.queries||[];s.forEach(({state:l,...m})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...m},l)}),u.forEach(({queryKey:l,state:m,queryHash:x,meta:w,promise:E,dehydratedAt:I})=>{let M=E?Q8e(E):void 0,k=m.data===void 0?M?.data:m.data,C=k===void 0?k:o(k),R=i.get(x),L=R?.state.status==="pending",P=R?.state.fetchStatus==="fetching";if(R){let K=M&&I!==void 0&&I>R.state.dataUpdatedAt;if(m.dataUpdatedAt>R.state.dataUpdatedAt||K){let{fetchStatus:V,...j}=m;R.setState({...j,data:C})}}else R=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:x,meta:w},{...m,data:C,fetchStatus:"idle",status:C!==void 0?"success":m.status});E&&!L&&!P&&(I===void 0||I>R.state.dataUpdatedAt)&&R.fetch(void 0,{initialPromise:Promise.resolve(E).then(o)})})}d();h();d();h();d();h();var t5e=j8e;function uSt(){let t=[],e=0,r=u=>{u()},n=u=>{u()},i=t5e,o=u=>{e?t.push(u):i(()=>{r(u)})},s=()=>{let u=t;t=[],u.length&&i(()=>{n(()=>{u.forEach(l=>{r(l)})})})};return{batch:u=>{let l;e++;try{l=u()}finally{e--,e||s()}return l},batchCalls:u=>(...l)=>{o(()=>{u(...l)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var $r=uSt();d();h();d();h();d();h();var fSt=class extends Nc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Uc&&self.addEventListener){let e=()=>t(!0),r=()=>t(!1);return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},kS=new fSt;function lSt(t){return Math.min(1e3*2**t,3e4)}function mJ(t){return(t??"online")==="online"?kS.isOnline():!0}var pO=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function mO(t){let e=!1,r=0,n,i=m8(),o=()=>i.status!=="pending",s=k=>{if(!o()){let C=new pO(k);E(C),t.onCancel?.(C)}},u=()=>{e=!0},l=()=>{e=!1},m=()=>MS.isFocused()&&(t.networkMode==="always"||kS.isOnline())&&t.canRun(),x=()=>mJ(t.networkMode)&&t.canRun(),w=k=>{o()||(n?.(),i.resolve(k))},E=k=>{o()||(n?.(),i.reject(k))},I=()=>new Promise(k=>{n=C=>{(o()||m())&&k(C)},t.onPause?.()}).then(()=>{n=void 0,o()||t.onContinue?.()}),M=()=>{if(o())return;let k,C=r===0?t.initialPromise:void 0;try{k=C??t.fn()}catch(R){k=Promise.reject(R)}Promise.resolve(k).then(w).catch(R=>{if(o())return;let L=t.retry??(Uc?0:3),P=t.retryDelay??lSt,K=typeof P=="function"?P(r,R):P,V=L===!0||typeof L=="number"&&r<L||typeof L=="function"&&L(r,R);if(e||!V){E(R);return}r++,t.onFail?.(r,R),$8e(K).then(()=>m()?void 0:I()).then(()=>{e?E(R):M()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n?.(),i),cancelRetry:u,continueRetry:l,canStart:x,start:()=>(x()?M():I().then(M),i)}}d();h();var yO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l8(this.gcTime)&&(this.#e=gh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(gh.clearTimeout(this.#e),this.#e=void 0)}};var n5e=class extends yO{#e;#t;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=r5e(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=r5e(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=h8(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Lc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>jl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let u=this.observers.find(l=>l.options.queryFn);u&&this.setOptions(u.options)}T.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{let u=dO(this.options,e),m=(()=>{let x={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(x),x})();return this.#a=!1,this.options.persister?this.options.persister(u,m,this):u(m)},s=(()=>{let u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(u),u})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta}),this.#i=mO({initialPromise:e?.initialPromise,fn:s.fetchFn,onCancel:u=>{u instanceof pO&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(u,l)=>{this.#o({type:"failed",failureCount:u,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{let u=await this.#i.start();if(u===void 0)throw T.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof pO){if(u.silent)return this.#i.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#o({type:"error",error:u}),this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#o(t){let e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...yJ(r.data,this.options),fetchMeta:t.meta??null};case"success":let n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?n:void 0,n;case"error":let i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),$r.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function yJ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mJ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function r5e(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sp=class extends Nc{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#a=m8(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#c;#d;#h;#f;#l;#u;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),i5e(this.#t,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gJ(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gJ(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t){let e=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lc(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!Jy(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});let n=this.hasListeners();n&&o5e(this.#t,r,this.options,e)&&this.#p(),this.updateResult(),n&&(this.#t!==r||Lc(this.options.enabled,this.#t)!==Lc(e.enabled,this.#t)||jl(this.options.staleTime,this.#t)!==jl(e.staleTime,this.#t))&&this.#y();let i=this.#g();n&&(this.#t!==r||Lc(this.options.enabled,this.#t)!==Lc(e.enabled,this.#t)||i!==this.#u)&&this.#b(i)}getOptimisticResult(t){let e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return hSt(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Xn)),e}#y(){this.#x();let t=jl(this.options.staleTime,this.#t);if(Uc||this.#n.isStale||!l8(t))return;let r=cO(this.#n.dataUpdatedAt,t)+1;this.#f=gh.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#u=t,!(Uc||Lc(this.options.enabled,this.#t)===!1||!l8(this.#u)||this.#u===0)&&(this.#l=gh.setInterval(()=>{(this.options.refetchIntervalInBackground||MS.isFocused())&&this.#p()},this.#u))}#v(){this.#y(),this.#b(this.#g())}#x(){this.#f&&(gh.clearTimeout(this.#f),this.#f=void 0)}#w(){this.#l&&(gh.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){let r=this.#t,n=this.options,i=this.#n,o=this.#i,s=this.#s,l=t!==r?t.state:this.#r,{state:m}=t,x={...m},w=!1,E;if(e._optimisticResults){let J=this.hasListeners(),oe=!J&&i5e(t,e),S=J&&o5e(t,r,e,n);(oe||S)&&(x={...x,...yJ(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:I,errorUpdatedAt:M,status:k}=x;E=x.data;let C=!1;if(e.placeholderData!==void 0&&E===void 0&&k==="pending"){let J;i?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(J=i.data,C=!0):J=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,J!==void 0&&(k="success",E=h8(i?.data,J,e),w=!0)}if(e.select&&E!==void 0&&!C)if(i&&E===o?.data&&e.select===this.#c)E=this.#d;else try{this.#c=e.select,E=e.select(E),E=h8(i?.data,E,e),this.#d=E,this.#o=null}catch(J){this.#o=J}this.#o&&(I=this.#o,E=this.#d,M=Date.now(),k="error");let R=x.fetchStatus==="fetching",L=k==="pending",P=k==="error",K=L&&R,V=E!==void 0,ne={status:k,fetchStatus:x.fetchStatus,isPending:L,isSuccess:k==="success",isError:P,isInitialLoading:K,isLoading:K,data:E,dataUpdatedAt:x.dataUpdatedAt,error:I,errorUpdatedAt:M,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>l.dataUpdateCount||x.errorUpdateCount>l.errorUpdateCount,isFetching:R,isRefetching:R&&!L,isLoadingError:P&&!V,isPaused:x.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:P&&V,isStale:bJ(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Lc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){let J=a=>{ne.status==="error"?a.reject(ne.error):ne.data!==void 0&&a.resolve(ne.data)},oe=()=>{let a=this.#a=ne.promise=m8();J(a)},S=this.#a;switch(S.status){case"pending":t.queryHash===r.queryHash&&J(S);break;case"fulfilled":(ne.status==="error"||ne.data!==S.value)&&oe();break;case"rejected":(ne.status!=="error"||ne.error!==S.reason)&&oe();break}}return ne}updateResult(){let t=this.#n,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Jy(e,t))return;this.#n=e;let r=()=>{if(!t)return!0;let{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;let o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(s=>{let u=s;return this.#n[u]!==t[u]&&o.has(u)})};this.#A({listeners:r()})}#S(){let t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;let e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#A(t){$r.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function dSt(t,e){return Lc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function i5e(t,e){return dSt(t,e)||t.state.data!==void 0&&gJ(t,e,e.refetchOnMount)}function gJ(t,e,r){if(Lc(e.enabled,t)!==!1&&jl(e.staleTime,t)!=="static"){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&bJ(t,e)}return!1}function o5e(t,e,r,n){return(t!==e||Lc(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&bJ(t,r)}function bJ(t,e){return Lc(e.enabled,t)!==!1&&t.isStaleByTime(jl(e.staleTime,t))}function hSt(t,e){return!Jy(t.getCurrentResult(),e)}d();h();function PS(t){return{onFetch:(e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[],u={pages:[],pageParams:[]},l=0,m=async()=>{let x=!1,w=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},E=dO(e.options,e.fetchOptions),I=async(M,k,C)=>{if(x)return Promise.reject();if(k==null&&M.pages.length)return Promise.resolve(M);let L=(()=>{let j={client:e.client,queryKey:e.queryKey,pageParam:k,direction:C?"backward":"forward",meta:e.options.meta};return w(j),j})(),P=await E(L),{maxPages:K}=e.options,V=C?Z8e:lO;return{pages:V(M.pages,P,K),pageParams:V(M.pageParams,k,K)}};if(i&&o.length){let M=i==="backward",k=M?s5e:vJ,C={pages:o,pageParams:s},R=k(n,C);u=await I(C,R,M)}else{let M=t??o.length;do{let k=l===0?s[0]??n.initialPageParam:vJ(n,u);if(l>0&&k==null)break;u=await I(u,k),l++}while(l<M)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function vJ(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function s5e(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function a5e(t,e){return e?vJ(t,e)!=null:!1}function c5e(t,e){return!e||!t.getPreviousPageParam?!1:s5e(t,e)!=null}var xJ=class extends sp{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:PS()})}getOptimisticResult(t){return t.behavior=PS(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:o,isError:s,isRefetchError:u}=n,l=r.fetchMeta?.fetchMore?.direction,m=s&&l==="forward",x=i&&l==="forward",w=s&&l==="backward",E=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:a5e(e,r.data),hasPreviousPage:c5e(e,r.data),isFetchNextPageError:m,isFetchingNextPage:x,isFetchPreviousPageError:w,isFetchingPreviousPage:E,isRefetchError:u&&!m&&!w,isRefetching:o&&!x&&!E}}};d();h();d();h();var u5e=class extends yO{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||wJ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#n({type:"continue"})};this.#r=mO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);let o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:n})}let i=await this.#r.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#t.runNext(this)}}#n(t){let e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),$r.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function wJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var f5e=class extends Nc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){let n=new u5e({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);let e=gO(t);if(typeof e=="string"){let r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){let e=gO(t);if(typeof e=="string"){let r=this.#t.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=gO(t);if(typeof e=="string"){let n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=gO(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){$r.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>fO(e,r))}findAll(t={}){return this.getAll().filter(e=>fO(t,e))}notify(t){$r.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return $r.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}};function gO(t){return t.options.scope?.id}d();h();var SJ=class extends Nc{#e;#t=void 0;#r;#n;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#e.defaultMutationOptions(t),Jy(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&bh(e.mutationKey)!==bh(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??wJ();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){$r.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#t)})})}};d();h();function l5e(t,e){let r=new Set(e);return t.filter(n=>!r.has(n))}function pSt(t,e,r){let n=t.slice(0);return n[e]=r,n}var AJ=class extends Nc{#e;#t;#r;#n;#i;#s;#a;#o;#c=[];constructor(t,e,r){super(),this.#e=t,this.#n=r,this.#r=[],this.#i=[],this.#t=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){if(this.#r=t,this.#n=e,T.NODE_ENV!=="production"){let r=t.map(n=>this.#e.defaultQueryOptions(n).queryHash);new Set(r).size!==r.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}$r.batch(()=>{let r=this.#i,n=this.#f(this.#r);this.#c=n,n.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));let i=n.map(l=>l.observer),o=i.map(l=>l.getCurrentResult()),s=i.some((l,m)=>l!==r[m]),u=r.length===i.length&&!s?o.some((l,m)=>{let x=this.#t[m];return!x||!Jy(l,x)}):!0;!s&&!u||(s&&(this.#i=i),this.#t=o,this.hasListeners()&&(s&&(l5e(r,i).forEach(l=>{l.destroy()}),l5e(i,r).forEach(l=>{l.subscribe(m=>{this.#l(l,m)})})),this.#u()))})}getCurrentResult(){return this.#t}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#f(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#h(i??n,e),()=>this.#d(n,r)]}#d(t,e){return e.map((r,n)=>{let i=t[n];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,o=>{e.forEach(s=>{s.observer.trackProp(o)})})})}#h(t,e){return e?((!this.#s||this.#t!==this.#o||e!==this.#a)&&(this.#a=e,this.#o=this.#t,this.#s=IS(this.#s,e(t))),this.#s):t}#f(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#e.defaultQueryOptions(n),o=e.get(i.queryHash);o?r.push({defaultedQueryOptions:i,observer:o}):r.push({defaultedQueryOptions:i,observer:new sp(this.#e,i)})}),r}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#t=pSt(this.#t,r,e),this.#u())}#u(){if(this.hasListeners()){let t=this.#s,e=this.#d(this.#t,this.#c),r=this.#h(e,this.#n?.combine);t!==r&&$r.batch(()=>{this.listeners.forEach(n=>{n(this.#t)})})}}};d();h();var d5e=class extends Nc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){let n=e.queryKey,i=e.queryHash??d8(n,e),o=this.get(i);return o||(o=new n5e({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$r.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>uO(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>uO(t,r)):e}notify(t){$r.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){$r.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$r.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};d();h();var h5e=class{#e;#t;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#e=t.queryCache||new d5e,this.#t=t.mutationCache||new f5e,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=MS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=kS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(jl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,s=G8e(e,o);if(s!==void 0)return this.#e.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return $r.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){let e=this.#e;$r.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#e;return $r.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=$r.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return $r.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=$r.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Xn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#e.build(this,e);return r.isStaleByTime(jl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=PS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=PS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kS.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(bh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{nv(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(bh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{nv(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=d8(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vh&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};d();h();function p5e({streamFn:t,refetchMode:e="reset",reducer:r=(i,o)=>lO(i,o),initialValue:n=[]}){return async i=>{let o=i.client.getQueryCache().find({queryKey:i.queryKey,exact:!0}),s=!!o&&o.state.data!==void 0;s&&e==="reset"&&o.setState({status:"pending",data:void 0,error:null,fetchStatus:"fetching"});let u=n,l=await t(i);for await(let m of l){if(i.signal.aborted)break;(!s||e!=="replace")&&i.client.setQueryData(i.queryKey,x=>r(x===void 0?n:x,m)),u=r(u,m)}return s&&e==="replace"&&!i.signal.aborted&&i.client.setQueryData(i.queryKey,u),i.client.getQueryData(i.queryKey)}}d();h();var xh=qe(ur(),1);d();h();var RS=qe(ur(),1),m5e=qe(xT(),1),EJ=RS.createContext(void 0),Lt=t=>{let e=RS.useContext(EJ);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bO=({client:t,children:e})=>(RS.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,m5e.jsx)(EJ.Provider,{value:t,children:e}));d();h();var vO=qe(ur(),1),y5e=vO.createContext(!1),y8=()=>vO.useContext(y5e),_J=y5e.Provider;d();h();var g8=qe(ur(),1),mSt=qe(xT(),1);function ySt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gSt=g8.createContext(ySt()),xO=()=>g8.useContext(gSt);d();h();var g5e=qe(ur(),1);var wO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},SO=t=>{g5e.useEffect(()=>{t.clearReset()},[t])},AO=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||p8(r,[t.error,n]));d();h();var EO=t=>{if(t.suspense){let r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},_O=(t,e)=>t.isLoading&&t.isFetching&&!e,b8=(t,e)=>t?.suspense&&e.isPending,CS=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function b5e({queries:t,...e},r){let n=Lt(r),i=y8(),o=xO(),s=xh.useMemo(()=>t.map(k=>{let C=n.defaultQueryOptions(k);return C._optimisticResults=i?"isRestoring":"optimistic",C}),[t,n,i]);s.forEach(k=>{EO(k),wO(k,o)}),SO(o);let[u]=xh.useState(()=>new AJ(n,s,e)),[l,m,x]=u.getOptimisticResult(s,e.combine),w=!i&&e.subscribed!==!1;xh.useSyncExternalStore(xh.useCallback(k=>w?u.subscribe($r.batchCalls(k)):Xn,[u,w]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),xh.useEffect(()=>{u.setQueries(s,e)},[s,e,u]);let I=l.some((k,C)=>b8(s[C],k))?l.flatMap((k,C)=>{let R=s[C];if(R){let L=new sp(n,R);if(b8(R,k))return CS(R,L,o);_O(k,i)&&CS(R,L,o)}return[]}):[];if(I.length>0)throw Promise.all(I);let M=l.find((k,C)=>{let R=s[C];return R&&AO({result:k,errorResetBoundary:o,throwOnError:R.throwOnError,query:n.getQueryCache().get(R.queryHash),suspense:R.suspense})});if(M?.error)throw M.error;return m(x())}d();h();d();h();var Xy=qe(ur(),1);function TO(t,e,r){if(T.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=y8(),i=xO(),o=Lt(r),s=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s),T.NODE_ENV!=="production"&&(s.queryFn||console.error(`[${s.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),s._optimisticResults=n?"isRestoring":"optimistic",EO(s),wO(s,i),SO(i);let u=!o.getQueryCache().get(s.queryHash),[l]=Xy.useState(()=>new e(o,s)),m=l.getOptimisticResult(s),x=!n&&t.subscribed!==!1;if(Xy.useSyncExternalStore(Xy.useCallback(w=>{let E=x?l.subscribe($r.batchCalls(w)):Xn;return l.updateResult(),E},[l,x]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),Xy.useEffect(()=>{l.setOptions(s)},[s,l]),b8(s,m))throw CS(s,l,i);if(AO({result:m,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,m),s.experimental_prefetchInRender&&!Uc&&_O(m,n)&&(u?CS(s,l,i):o.getQueryCache().get(s.queryHash)?.promise)?.catch(Xn).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?m:l.trackResult(m)}function TJ(t,e){return TO(t,sp,e)}d();h();var ap=qe(ur(),1);function jt(t,e){let r=Lt(e),[n]=ap.useState(()=>new SJ(r,t));ap.useEffect(()=>{n.setOptions(t)},[n,t]);let i=ap.useSyncExternalStore(ap.useCallback(s=>n.subscribe($r.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=ap.useCallback((s,u)=>{n.mutate(s,u).catch(Xn)},[n]);if(i.error&&p8(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}d();h();function v5e(t,e){return TO(t,xJ,e)}d();h();var bSt=["added","removed","updated"];function x5e(t){return bSt.includes(t)}async function S5e({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let o=await e.restoreClient();if(o)if(o.timestamp){let s=Date.now()-o.timestamp>r,u=o.buster!==n;if(s||u)return e.removeClient();pJ(t,o.clientState,i)}else return e.removeClient()}catch(o){throw T.NODE_ENV!=="production"&&(console.error(o),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),await e.removeClient(),o}}async function w5e({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:hO(t,n)};await e.persistClient(i)}function A5e(t){let e=t.queryClient.getQueryCache().subscribe(n=>{x5e(n.type)&&w5e(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{x5e(n.type)&&w5e(t)});return()=>{e(),r()}}d();h();var eg=qe(ur(),1);var IJ=qe(xT(),1),vSt=({children:t,persistOptions:e,onSuccess:r,onError:n,...i})=>{let[o,s]=eg.useState(!0),u=eg.useRef({persistOptions:e,onSuccess:r,onError:n}),l=eg.useRef(!1);return eg.useEffect(()=>{u.current={persistOptions:e,onSuccess:r,onError:n}}),eg.useEffect(()=>{let m={...u.current.persistOptions,queryClient:i.client};return l.current||(l.current=!0,S5e(m).then(()=>u.current.onSuccess?.()).catch(()=>u.current.onError?.()).finally(()=>{s(!1)})),o?void 0:A5e(m)},[i.client,o]),(0,IJ.jsx)(bO,{...i,children:(0,IJ.jsx)(_J,{value:o,children:t})})};d();h();d();h();var IO=qe(ur()),xSt=IO.default.createContext(!1);function E5e(){return(0,IO.useContext)(xSt)}var _5e=qe(ur());function Lr(t,e){let r=E5e(),n=(0,_5e.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,o=t?.enabled===!1;if(i&&!o)return{...t,refetchInterval:!1}}return t},[r,t]);return TJ(n,e)}d();h();var MJ="__STORAGE_RESET_KEY__",T5e=["authEnabled","balanceHiddenStatus","buyFormValues","customGasControls","dAppBrowserBookmarks","deviceId","latestCleanedStorageVersion","lockTimerMs","maxWalletIndex","onboardingDone","ownerToHiddenMints","pendingTransactions","priceMap","userExplorerPreferenceV2","userRecentAddresses","userSavedAddresses","userTrustedApps","userWhitelistedSubdomains","userWhitelistedOrigins"];var SSt="Error processing storage data",ASt="Error getting storage data",ESt=["export-storage"],_St=(t,e)=>{let r=[...T5e,...e];return Lr({queryKey:ESt,queryFn:()=>TSt(t,r),gcTime:0,staleTime:0})},TSt=async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let o=await i.getAll();r[n]=ISt(o,e)}return r}catch(r){throw new Error(`${ASt}: ${JSON.stringify(r)}`)}},ISt=(t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${SSt}: ${JSON.stringify(r)}`)}};d();h();var BS=class{constructor(e){this.storage=e;e.subscribe(r=>{r===MJ?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}notifierCache=new Map;getNotifier(e){let r=this.notifierCache.get(e);return r||(r=I1(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},I5e=new WeakMap,v8=()=>{let t=dJ(),e=I5e.get(t);return e===void 0&&(e=new BS(t),I5e.set(t,e)),e},MSt=Ns(t=>v8().get(t)),kSt=Ns(t=>X_(async e=>v8().set(t,e)));d();h();var MO=qe(ur()),OGr=(0,MO.createContext)(void 0);d();h();d();h();d();h();d();h();d();h();var BJ=qe(Da()),R5e=qe(us());d();h();d();h();d();h();var PSt=(t,e,r)=>t&e^~t&r,RSt=(t,e,r)=>t&e^t&r^e&r,CSt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rg=new Uint32Array(64),kO=class extends Kw{constructor(){super(64,32,8,!1),this.A=tg[0]|0,this.B=tg[1]|0,this.C=tg[2]|0,this.D=tg[3]|0,this.E=tg[4]|0,this.F=tg[5]|0,this.G=tg[6]|0,this.H=tg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:u,H:l}=this;return[e,r,n,i,o,s,u,l]}set(e,r,n,i,o,s,u,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=u|0,this.H=l|0}process(e,r){for(let w=0;w<16;w++,r+=4)rg[w]=e.getUint32(r,!1);for(let w=16;w<64;w++){let E=rg[w-15],I=rg[w-2],M=bl(E,7)^bl(E,18)^E>>>3,k=bl(I,17)^bl(I,19)^I>>>10;rg[w]=k+rg[w-7]+M+rg[w-16]|0}let{A:n,B:i,C:o,D:s,E:u,F:l,G:m,H:x}=this;for(let w=0;w<64;w++){let E=bl(u,6)^bl(u,11)^bl(u,25),I=x+E+PSt(u,l,m)+CSt[w]+rg[w]|0,k=(bl(n,2)^bl(n,13)^bl(n,22))+RSt(n,i,o)|0;x=m,m=l,l=u,u=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,u=u+this.E|0,l=l+this.F|0,m=m+this.G|0,x=x+this.H|0,this.set(n,i,o,s,u,l,m,x)}roundClean(){rg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},kJ=class extends kO{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},zl=Ud(()=>new kO),KGr=Ud(()=>new kJ);d();h();function BSt(t,e,r,n){zn.hash(t);let i=xP({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:u}=i;if(zn.number(o),zn.number(s),zn.number(u),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=vl(e),m=vl(r),x=new Uint8Array(s),w=Fd.create(t,l),E=w._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:u,DK:x,PRF:w,PRFSalt:E}}function OSt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function iv(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:u,PRFSalt:l}=BSt(t,e,r,n),m,x=new Uint8Array(4),w=Fw(x),E=new Uint8Array(u.outputLen);for(let I=1,M=0;M<o;I++,M+=u.outputLen){let k=s.subarray(M,M+u.outputLen);w.setInt32(0,I,!1),(m=l._cloneInto(m)).update(x).digestInto(E),k.set(E.subarray(0,k.length));for(let C=1;C<i;C++){u._cloneInto(m).update(E).digestInto(E);for(let R=0;R<k.length;R++)k[R]^=E[R]}}return OSt(u,l,s,m,E)}var vn=(t,e)=>t<<e|t>>>32-e;function M5e(t,e,r,n,i,o){let s=t[e++]^r[n++],u=t[e++]^r[n++],l=t[e++]^r[n++],m=t[e++]^r[n++],x=t[e++]^r[n++],w=t[e++]^r[n++],E=t[e++]^r[n++],I=t[e++]^r[n++],M=t[e++]^r[n++],k=t[e++]^r[n++],C=t[e++]^r[n++],R=t[e++]^r[n++],L=t[e++]^r[n++],P=t[e++]^r[n++],K=t[e++]^r[n++],V=t[e++]^r[n++],j=s,ne=u,J=l,oe=m,S=x,a=w,f=E,p=I,y=M,g=k,A=C,_=R,b=L,c=P,v=K,F=V;for(let U=0;U<8;U+=2)S^=vn(j+b|0,7),y^=vn(S+j|0,9),b^=vn(y+S|0,13),j^=vn(b+y|0,18),g^=vn(a+ne|0,7),c^=vn(g+a|0,9),ne^=vn(c+g|0,13),a^=vn(ne+c|0,18),v^=vn(A+f|0,7),J^=vn(v+A|0,9),f^=vn(J+v|0,13),A^=vn(f+J|0,18),oe^=vn(F+_|0,7),p^=vn(oe+F|0,9),_^=vn(p+oe|0,13),F^=vn(_+p|0,18),ne^=vn(j+oe|0,7),J^=vn(ne+j|0,9),oe^=vn(J+ne|0,13),j^=vn(oe+J|0,18),f^=vn(a+S|0,7),p^=vn(f+a|0,9),S^=vn(p+f|0,13),a^=vn(S+p|0,18),_^=vn(A+g|0,7),y^=vn(_+A|0,9),g^=vn(y+_|0,13),A^=vn(g+y|0,18),b^=vn(F+v|0,7),c^=vn(b+F|0,9),v^=vn(c+b|0,13),F^=vn(v+c|0,18);i[o++]=s+j|0,i[o++]=u+ne|0,i[o++]=l+J|0,i[o++]=m+oe|0,i[o++]=x+S|0,i[o++]=w+a|0,i[o++]=E+f|0,i[o++]=I+p|0,i[o++]=M+y|0,i[o++]=k+g|0,i[o++]=C+A|0,i[o++]=R+_|0,i[o++]=L+b|0,i[o++]=P+c|0,i[o++]=K+v|0,i[o++]=V+F|0}function PJ(t,e,r,n,i){let o=n+0,s=n+16*i;for(let u=0;u<16;u++)r[s+u]=t[e+(2*i-1)*16+u];for(let u=0;u<i;u++,o+=16,e+=16)M5e(r,s,t,e,r,o),u>0&&(s+=16),M5e(r,o,t,e+=16,r,s)}function DSt(t,e,r){let n=xP({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:o,p:s,dkLen:u,asyncTick:l,maxmem:m,onProgress:x}=n;if(zn.number(i),zn.number(o),zn.number(s),zn.number(u),zn.number(l),zn.number(m),x!==void 0&&typeof x!="function")throw new Error("progressCb should be function");let w=128*o,E=w/4;if(i<=1||i&i-1||i>=2**(w/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/w)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(u<0||u>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let I=w*(i+s);if(I>m)throw new Error(`Scrypt: parameters too large, ${I} (128 * r * (N + p)) > ${m} (maxmem)`);let M=iv(zl,t,e,{c:1,dkLen:w*s}),k=Lw(M),C=Lw(new Uint8Array(w*i)),R=Lw(new Uint8Array(w)),L=()=>{};if(x){let P=2*i*s,K=Math.max(Math.floor(P/1e4),1),V=0;L=()=>{V++,x&&(!(V%K)||V===P)&&x(V/P)}}return{N:i,r:o,p:s,dkLen:u,blockSize32:E,V:C,B32:k,B:M,tmp:R,blockMixCb:L,asyncTick:l}}function NSt(t,e,r,n,i){let o=iv(zl,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),o}async function k5e(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:u,V:l,B32:m,B:x,tmp:w,blockMixCb:E,asyncTick:I}=DSt(t,e,r);for(let M=0;M<o;M++){let k=u*M;for(let R=0;R<u;R++)l[R]=m[k+R];let C=0;await vP(n-1,I,R=>{PJ(l,C,l,C+=u,i),E()}),PJ(l,(n-1)*u,m,k,i),E(),await vP(n,I,R=>{let L=m[k+u-16]%n;for(let P=0;P<u;P++)w[P]=m[k+P]^l[L*u+P];PJ(w,0,m,k,i),E()})}return NSt(t,s,x,l,w)}var RJ=qe(Da()),P5e=qe(EI()),CJ=qe(us()),PO=async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await k5e(t,RJ.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:CJ.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,P5e.pbkdf2)(t,RJ.default.decode(e.salt),e.iterations,CJ.secretbox.keyLength,e.digest,(i,o)=>i?n(i):r(o)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)};var OJ=async(t,e)=>{let r=R5e.secretbox.open(BJ.default.decode(t.encrypted),BJ.default.decode(t.nonce),await PO(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r};async function OS(t,e){try{return await OJ(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await OJ(t,n);return i&&Qe.addBreadcrumb("storage","DecryptEncryptedText: Legacy decryption successful \u2705","info"),i}}d();h();var x8=qe(Da()),DS=qe(us());var NS=async(t,e)=>{let r={kdf:"scrypt",salt:x8.default.encode((0,DS.randomBytes)(16)),nonce:x8.default.encode((0,DS.randomBytes)(DS.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await PO(e,r),i=(0,DS.secretbox)(t,x8.default.decode(r.nonce),n);return{...r,encrypted:x8.default.encode(i)}};d();h();async function RO(t,e){return NS(Buffer.from(t),e)}d();h();var DJ=B.object({encrypted:B.string(),nonce:B.string(),kdf:B.string(),salt:B.string(),iterations:B.number(),digest:B.string()});var C5e=B.object({version:B.literal(1),content:DJ});var NJ=class{storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:"plain"},r)}static fromSecureStorage(e,r){return new this({store:e,type:"secure"},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),o={};for(let[s,u]of Object.entries(i)){let l=await this.encrypt(u,r);o[s]=l}return n(o,e)})}async getSecureValue(e){let r;switch(this.storage.type){case"plain":{r=await this.storage.store.get(e);break}case"secure":{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case"plain":{n=await this.storage.store.getAll(e);break}case"secure":{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,o]of Object.entries(n)){let s=C5e.safeParse(o);if(s.success){let u=await this.decrypt(s.data);r[i]=u}}return r}async removeSecureValue(e){switch(this.storage.type){case"plain":{await this.storage.store.remove(e);break}case"secure":{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case"plain":{await this.storage.store.set(e,n);break}case"secure":{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let o=await this.encrypt(i);r[n]=o}switch(this.storage.type){case"plain":{await this.storage.store.setAll(r);break}case"secure":{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(s=>RO(n,s))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>OS(e.content,i));return JSON.parse(Buffer.from(n).toString())}};d();h();var B5e=qe(us()),S8=class extends Error{message="Failed to get the encryption password"},CO=class extends Error{message="Failed to update password that has never been set"},UJ=class extends Error{message="Failed to decrypt using the password"},w8=".phantom-labs.encryption.encryptionKey",LJ=class{tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?Ti.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=Ti.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=Ti.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=async o=>await this.encrypt(o,r),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new S8;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new CO;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new S8;if(!await this.fetchAndDecryptExistingKey())throw new CO;let i=Ti.from(this.randomEncryptionKey());return e(i,async(o,s)=>{let u=s??r,l=await i.foldAsync(m=>this.encrypt(m,u));return await this.saveExistingKey(l,o),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(Qe.addBreadcrumb("storage","Failed to get existing encryption key!","info"),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return Qe.addBreadcrumb("storage","Failed to get existing encryption key!","info"),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new S8;return e}async fetchExistingKey(){return this.deps.storage.get(w8)}async saveExistingKey(e,r){if(r){let n={...r,[w8]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(w8,e)}async deleteExistingKey(){return this.deps.storage.remove(w8)}randomEncryptionKey(){return(0,B5e.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>NS(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>OS(e.encryptedKey,n)).catch(()=>{throw new UJ})}};d();h();d();h();d();h();d();h();d();h();var O5e=null;function USt(t){O5e=t}function D5e(){return O5e}function N5e(t){let e=D5e();if(e){let r=new Headers(t);return r.set("X-Phantom-AnonymousId",e),r}return t}d();h();var FJ=null;function KJ(t){FJ=t}async function qJ(t=!1){if(!FJ)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return await FJ(t)}d();h();d();h();function U5e(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}var LSt=2*60*1e3,FSt=[];function L5e(t,e){let{fetchTimeout:r,retryDelays:n,retryOnAuthTokenExpiration:i,onAuthRetry:o,...s}=e||{},u=e?.fetchTimeout??LSt,l=e?.retryDelays??FSt,m=0,x=0,w=s;return new Promise((E,I)=>{function M(){m++,x=Date.now();let R=!0,L=new AbortController,P=fetch(t,{...w,signal:U5e(...s.signal?[s.signal,L.signal]:[L.signal])}),K=setTimeout(()=>{L.abort(),R=!1,C(m)?k():I(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${u} ms, tried ${m} times.`))},u);P.then(V=>{clearTimeout(K),R&&(V.status>=200&&V.status<300?E(V):C(m,V.status)?V.status===401&&i&&o?o(w).then(j=>{w=j,k()}).catch(j=>{I(j)}):k():E(V))}).catch(V=>{clearTimeout(K),C(m)?k():I(V)})}function k(){let R=l[m-1],L=x+R;setTimeout(M,Math.max(L-Date.now(),0))}function C(R,L){if(L===401&&i)return R<=l.length;let P=L?L>=400&&L<=499:!1;return R<=l.length&&!P}M()})}d();h();var A8=(t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[i,o]of n.entries())o===void 0||o==="undefined"?r.delete(i):r.set(i,o);return r};d();h();var FS=qe(Dn());d();h();d();h();function F5e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function VJ(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function K5e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");F5e(t.outputLen),F5e(t.blockLen)}function US(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function q5e(t,e){VJ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var KSt=t=>t instanceof Uint8Array;var BO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Wl=(t,e)=>t<<32-e|t>>>e,qSt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qSt)throw new Error("Non little-endian hardware is not supported");function VSt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function E8(t){if(typeof t=="string"&&(t=VSt(t)),!KSt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var LS=class{clone(){return this._cloneInto()}},MYr={}.toString;function V5e(t){let e=n=>t().update(E8(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var OO=class extends LS{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,K5e(e);let n=E8(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return US(this),this.iHash.update(e),this}digestInto(e){US(this),VJ(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},HJ=(t,e,r)=>new OO(t,e).update(r).digest();HJ.create=(t,e)=>new OO(t,e);d();h();d();h();function HSt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var DO=class extends LS{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=BO(this.buffer)}update(e){US(this);let{view:r,buffer:n,blockLen:i}=this;e=E8(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=BO(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){US(this),q5e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;HSt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=BO(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var jSt=(t,e,r)=>t&e^~t&r,zSt=(t,e,r)=>t&e^t&r^e&r,WSt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ng=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ig=new Uint32Array(64),jJ=class extends DO{constructor(){super(64,32,8,!1),this.A=ng[0]|0,this.B=ng[1]|0,this.C=ng[2]|0,this.D=ng[3]|0,this.E=ng[4]|0,this.F=ng[5]|0,this.G=ng[6]|0,this.H=ng[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:u,H:l}=this;return[e,r,n,i,o,s,u,l]}set(e,r,n,i,o,s,u,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=u|0,this.H=l|0}process(e,r){for(let w=0;w<16;w++,r+=4)ig[w]=e.getUint32(r,!1);for(let w=16;w<64;w++){let E=ig[w-15],I=ig[w-2],M=Wl(E,7)^Wl(E,18)^E>>>3,k=Wl(I,17)^Wl(I,19)^I>>>10;ig[w]=k+ig[w-7]+M+ig[w-16]|0}let{A:n,B:i,C:o,D:s,E:u,F:l,G:m,H:x}=this;for(let w=0;w<64;w++){let E=Wl(u,6)^Wl(u,11)^Wl(u,25),I=x+E+jSt(u,l,m)+WSt[w]+ig[w]|0,k=(Wl(n,2)^Wl(n,13)^Wl(n,22))+zSt(n,i,o)|0;x=m,m=l,l=u,u=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,u=u+this.E|0,l=l+this.F|0,m=m+this.G|0,x=x+this.H|0,this.set(n,i,o,s,u,l,m,x)}roundClean(){ig.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var H5e=V5e(()=>new jJ);var GSt=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],$St=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],YSt=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function ZSt(t){let e=new URL(t);return e.pathname+e.search}function zJ(t,e){let r=ZSt(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),i=r+n,o=HJ(H5e,FS.Buffer.from(String.fromCharCode(...GSt)),FS.Buffer.from(i)),s=new Headers(e);return s.set(FS.Buffer.from(String.fromCharCode(...$St),"base64").toString(),encodeURIComponent(FS.Buffer.from(o).toString("base64"))),s.set(FS.Buffer.from(String.fromCharCode(...YSt),"base64").toString(),n),s}var ov=class extends Error{constructor(e,r){super(e),this.response=r}response},QSt={"Content-Type":"application/json","X-Phantom-Version":kE,"X-Phantom-Platform":Boe},KS=async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:i}=t;return{blob:r,data:e,status:n,statusText:i}},NO=class t{config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:QSt,withApiEnvironment:"none",fetchBearerToken:!1,...e}}fetch=async(e,r={})=>{try{if(typeof e=="function"){let l=Zg()==="https://api.phantom.app"?"prod":"staging";e=e({apiEnv:l})}let n="";this.config.withApiEnvironment==="prod"?n="https://api.phantom.app":this.config.withApiEnvironment==="staging"?n="https://staging-api.phantom.app":this.config.withApiEnvironment==="default"?n=Zg():this.config.withApiEnvironment==="custom"&&this.config.customApiEnv&&(n=this.config.customApiEnv);let i=new URL(`${n}${e}`);r?.params&&(i.search=new URLSearchParams(r.params).toString()),r.headers=A8(this.config.headers,r.headers),r.headers=N5e(r.headers),this.config.withClientAuth&&(r.headers=zJ(i.toString(),r.headers));let o={...r,onAuthRetry:async l=>{let m=await qJ(!0);if(m){let x=new Headers(l.headers);return x.set("authorization",`Bearer ${m}`),{...l,headers:x}}return l}},s=this.config.validateStatus;if(r?.validateStatus&&(s=r?.validateStatus),o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body)),this.config.timeoutMs&&(o.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(o.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs)),this.config.fetchBearerToken){o.retryOnAuthTokenExpiration=!0;let l=await qJ();if(l)o.headers=A8(o.headers,{authorization:`Bearer ${l}`});else throw new ov("Unable to get bearer token. Full auth is required.")}let u=await L5e(i.toString(),o);if(s&&!u.ok)throw new ov(`Request failed with status code ${u.status}`,await KS(u));return u}catch(n){throw n instanceof ov?n:new ov(n?.message,n?.response)}};auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,validateStatus:!0,fetchBearerToken:!0,numRetries:1}):this}headers(e,r){let n=r?.mergeHeaders===!1?e:A8(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default",r){return new t({...this.config,withApiEnvironment:e,customApiEnv:e==="custom"?r:void 0})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return KS(n)}async post(e,r,n={}){n.method="POST";let i=await this.fetch(e,{...n,body:r});return KS(i)}async put(e,r,n={}){n.method="PUT";let i=await this.fetch(e,{...n,body:r});return KS(i)}async patch(e,r,n={}){n.method="PATCH";let i=await this.fetch(e,{...n,body:r});return KS(i)}async delete(e,r,n={}){n.method="DELETE";let i=await this.fetch(e,{...n,body:r});return KS(i)}},In=new NO;function JSt(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},o=(await In.post(t,n)).data;if("error"in o)throw new Error(JSON.stringify(o.error));return o.result}}async function XSt(t,e={}){return In.fetch(t,e)}function Gl(t){return t.status>199&&t.status<400}function eAt(t){return t instanceof ov}d();h();var _8=(t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`;d();h();d();h();function og(){return(t,e)=>e??t}var z5e=async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(s=>Object.prototype.hasOwnProperty.call(e,s)),o=await t.getAll();try{await t.setAll(i.reduce((s,u)=>{let l=o[u],m=r[u];if(m!=null){let{resolver:x=og}=e[u];s[u]=x(l,m)}return s},{})).then(()=>{Qe.addBreadcrumb("storage","\u2705 Synced remote data to disk!","info")})}catch{try{for(let u of i){let l=o[u],m=r[u];if(m==null)continue;let{resolver:x=og}=e[u];await t.set(u,x(l,m)).then(()=>{Qe.addBreadcrumb("storage",`\u2705 Synced remote data to disk: ${u}`,"info")}).catch(w=>{Qe.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${u} => Error: ${w}`,"info")})}}catch(u){Qe.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${u}`,"info")}}};var WJ=2,GJ=500,T8=class t{static#e;#t;#r={};#n={};#i=null;#s=null;#a;#o=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){this.#t=e,this.#n=r,this.#s=n,this.#i=i,this.#a=o}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){return this.#e||(this.#e=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o})),this.#e}clear(){this.#o=null,this.#r={},this.#c=!1,Qe.addBreadcrumb("storage","\u{1F5D1}\uFE0F  SyncedStorage cleared!","info")}async hydrateIfNeeded(e=!0){if(AT())return;if(await V1.isFeatureEnabledAsync("kill-sync-account-names")&&(delete this.#n[".phantom-labs.account.accountMetadata"],Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: kill-sync-account-names is enabled, removing from keyRegistry","info")),!this.#s||!this.#t||!this.#n)return Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not initialized!","info");if(!await this.#a())return Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not onboarded!","info");try{let n=await this.#s.getUser();if(!n)return Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: No user found","info");if(n?.userID===this.#o)return;this.#o=n.userID;let i=await this.syncFromCloud();if(i){Qe.addBreadcrumb("storage","\u2705 SyncedStorage found!","info"),this.#r=i,e&&(await z5e({storage:this.#t,keyRegistry:this.#n,allRemoteData:i}),this.#c=!0);let o=Object.values(this.#n).map(s=>s.queryKey).flat();await this.#i?.invalidateQueries({queryKey:o})}}catch(n){Qe.captureError(new Error(`\u274C Failed to initialize Synced Storage: ${JSON.stringify(n)}`),"storage")}}async syncFromCloud(e){if(this.#o)try{let r=_8(this.#o,e),n=await In.api().bearer(!0).retry(WJ,GJ).get(r);if(Gl(n))return n.data;Qe.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(n)}`,"info")}catch(r){Qe.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(r)}`,"info")}}async syncToCloud(e,r){if(this.#r[e]=r,!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return!1;try{let n=_8(this.#o,e),i=await In.api().bearer(!0).retry(WJ,GJ).put(n,{value:r});if(Gl(i))return Qe.addBreadcrumb("storage",`\u2705 Synced to cloud: ${e}`,"info"),!0;Qe.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,"info")}catch(n){Qe.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${JSON.stringify(n)}`,"info")}return!1}async removeFromCloud(e){if(delete this.#r[e],!this.#o)return!1;try{let r=_8(this.#o,e),n=await In.api().bearer(!0).retry(WJ,GJ).delete(r);if(Gl(n))return Qe.addBreadcrumb("storage",`\u2705 Removed from cloud: ${e}`,"info"),!0;Qe.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,"info")}catch(r){Qe.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${JSON.stringify(r)}`,"info")}return!1}async get(e){let r=await this.#t.get(e);if(!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return r;let{resolver:n=og,fetchLatestRemote:i=!1}=this.#n[e];if(!i&&this.#c)return r;let o=i?await this.syncFromCloud(e):this.#r[e];return n(r,o)}async getAll(e){return this.#t.getAll(e)}async remove(e){await this.#t.remove(e),Array.isArray(e)?Promise.all(e.map(r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#t.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#t.setAll(e),Promise.all(Object.entries(e).map(([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#t.subscribe(e)}async update(e,r){await this.#t.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};d();h();var qS=(t,e,r=og(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}});d();h();var W5e=new WeakMap,G5e=()=>{let t=v8(),e=Dt();if(e instanceof T8){let r=W5e.get(e);return r===void 0&&(r=new BS(e),W5e.set(e,r)),r}return t},tAt=Ns(t=>G5e().get(t)),rAt=Ns(t=>X_(async e=>G5e().set(t,e)));d();h();var nAt={[Sr.Monad.Mainnet]:1,[Sr.Monad.Devnet]:1,[Sr.Monad.Testnet]:1,[Sr.Ethereum.Mainnet]:6,[Sr.Ethereum.Sepolia]:6,[Sr.Polygon.Mainnet]:128,[Sr.Polygon.Amoy]:128,[Sr.Base.Mainnet]:3,[Sr.Base.Sepolia]:3,[Sr.Arbitrum.Mainnet]:1,[Sr.Arbitrum.Sepolia]:1,[Sr.Hypercore.Mainnet]:1,[Sr.Hypercore.Testnet]:1},iAt={[Sr.Bitcoin.Mainnet]:1,[Sr.Bitcoin.Testnet]:1};var oAt="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",sAt=100;d();h();d();h();function aAt(t,e){return e.getSupportedChains().includes(t)}function $5e(t,e){if(bR(t))return e.get(t);if(je.isNetworkID(t)){let r=je.getChainID(t);if(aAt(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}function I8(t){return{get:e=>$5e(e,t),supportedChains:t.getSupportedChains()}}d();h();var sv=class{chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};d();h();d();h();var av="@phantom/chains",cv={enabledChains:[`${av}:enabled-chains`],enabledAddressTypes:[`${av}:enabled-address-types`],enabledNetworkIDs(t){return[`${av}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${av}:chain-availability`,t]}};var UO=".phantom-labs.internal.enabledChainsOverrideSettings",Y5e=async t=>{try{return(await t.get(UO))?.settings}catch{return null}},Z5e=async(t,e,r)=>{let n=await Y5e(r);return r.set(UO,{version:1,settings:{...n!=null&&n,[t]:e}})},Q5e=async t=>{let e=[],r;try{r=await Y5e(t),r&&Object.entries(r).forEach(([n,i])=>{i||e.push(n)})}catch{}try{let n=await t.get(fAt);!n||n.version===1||n.chains.forEach(i=>{r&&r[i]||e.push(i)})}catch{}try{je.getAllChainIDs().forEach(n=>{r&&r[n]||je.isChainDefaultEnabled(n)||e.push(n)})}catch{}return[...new Set(e)]},$J=async(t,e)=>Z5e(t,!1,e),YJ=async(t,e)=>Z5e(t,!0,e),uv=".phantom-labs.internal.disabledAddressTypes",ZJ=async t=>{let e;try{e=await t.get(uv)!==null}catch{e=!1}return e},J5e=async t=>{let e;try{e=(await t.get(uv))?.addressTypes??[]}catch{e=[]}return[...new Set([...e,"bip122_p2sh","bip122_p2pkh"])]},QJ=async(t,e)=>{let r=await e.get(uv),n=new Set(r?.addressTypes??[]);return n.delete(t),e.set(uv,{version:1,addressTypes:Array.from(n)})},JJ=async(t,e)=>{let r=await e.get(uv),n=new Set(r?.addressTypes??[]);return n.add(t),e.set(uv,{version:1,addressTypes:Array.from(n)})},cAt=(t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),uAt={...qS(UO,[`${av}:chain-availability`,`${av}:enabled-network-ids`,...cv.enabledChains],cAt),...qS(uv,[...cv.enabledAddressTypes])},fAt=".phantom-labs.internal.disabledChains";d();h();var VS=qe(ur());var LO={async deriveAddresses(){},getUIConfig:()=>({}),supportedUIConfigChains:[]},X5e=(0,VS.createContext)(LO);function XJ({children:t,registry:e,effects:r}){let n=e?I8(e):void 0,i={deriveAddresses:r?.deriveAddresses??LO.deriveAddresses,getUIConfig:o=>n?n.get(o):LO.getUIConfig(o),supportedUIConfigChains:n?n.supportedChains:LO.supportedUIConfigChains};return VS.default.createElement(X5e.Provider,{value:i},t)}function M8(){return(0,VS.useContext)(X5e)}d();h();var eTe=!1,FO=async(t,e)=>{e=e??await V1.isFeatureEnabledAsync("enable-arbitrum");let r=!Op();eTe||(Qe.addBreadcrumb("network","Fetched chain availability","info",{skipFileLogger:!0}),eTe=!0);let n=je.getAllChainIDs().filter(L=>(L!=="arbitrum"||e)&&(L!=="hypercore"||r)),i=await Q5e(t),o=new Set(i),s=n.filter(L=>!o.has(L)),u=L=>{let P=je.getChainID(L);return s.includes(P)},l=je.getAllNetworkIDs({mainnetOnly:!1}).filter(u),m=je.getAllNetworkIDs({mainnetOnly:!0}).filter(u),x=new Set(i.flatMap(L=>je.getNetworkIDs(L))),w=l.filter(L=>!x.has(L)),E=m.filter(L=>!x.has(L)),I=w.filter(L=>!je.isMainnetNetworkID(L)),M=la.getAll(),k=await J5e(t),C=new Set(k);for(let L of M){let P=je.getChainIDs(L);if(!P){C.add(L);continue}P.every(V=>o.has(V))&&C.add(L)}let R=M.filter(L=>!C.has(L));return{supportedChainIDs:n,supportedAddressTypes:M,disabledChainIDs:i,enabledChainIDs:s,enabledAddressTypes:R,enabledNetworkIDs:w,enabledMainnetOnlyNetworkIDs:E,enabledTestnetOnlyNetworkIDs:I}};d();h();var tTe=[],eX=t=>{tTe.push(t)},cp=async t=>{let e=V1.isFeatureEnabled("enable-arbitrum");await t.invalidateQueries({queryKey:cv.chainAvailability({isArbitrumEnabled:e})}),await Promise.all(tTe.map(r=>r(t)))};d();h();d();h();var KO=(i=>(i.Image="image",i.Emoji="emoji",i.ReadOnlyDefault="read-only-default",i.Default="default",i))(KO||{}),lAt=B.object({type:B.nativeEnum(KO),imageUrl:B.string().optional(),unicode:B.string().optional()}),qO=(e=>(e.Ledger="ledger",e))(qO||{}),VO=(e=>(e.BLE="ble",e))(VO||{}),dAt=B.object({version:B.literal(1),connectionType:B.nativeEnum(VO),deviceType:B.nativeEnum(qO),id:B.string().min(1),name:B.string().optional(),model:B.string().optional()}),hAt=B.object({value:B.number(),timestamp:B.number()}),pAt=B.object({name:B.string(),icon:lAt.optional(),connectedDevices:dAt.array().optional()}),mAt=B.object({balance:hAt.optional()});var yAt=100,gAt={unicode:void 0,imageUrl:void 0,type:"default"},tX={version:1,isDeveloperMode:!1};var HS=Sr.Solana.Devnet,jS=Sr.Ethereum.Sepolia,rX=Sr.Sui.Testnet;function k8(){return{version:1,setting:{solana:HS,eip155:jS,sui:rX}}}function Lf(t){return t.map(e=>la[e].defaultDerivationPathType)}var bAt={bip44Root:"bip44RootEthereum",bip44Change:"bip44Ethereum",bip44:"bip44EthereumSecondary",deprecated:"bip44EthereumTertiary",bip44RootEthereum:null,bip44Ethereum:null,bip44EthereumSecondary:null,bip44EthereumTertiary:null,bitcoinTaproot:null,bitcoinNativeSegwit:null,bitcoinNestedSegwit:null,bitcoinLegacy:null,bip44Sui:null},up={bip44Root:-1,bip44RootEthereum:-1,bitcoinTaproot:0,bitcoinNativeSegwit:0,bitcoinNestedSegwit:0,bitcoinLegacy:0,bip44Change:0,bip44Ethereum:0,bip44:1,bip44EthereumSecondary:1,deprecated:2,bip44EthereumTertiary:2,bip44Sui:0},vAt="https://help.phantom.com/hc/en-us/articles/4406563212819";var xAt="https://help.phantom.com/hc/en-us/articles/21872962238355";d();h();var oTe=qe(ur());d();h();d();h();d();h();var HO=(t,e)=>{try{let r=ky(t,e);switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return la.getDisplayName(r);default:return}}catch(r){Qe.addBreadcrumb("account","Failed to get address badge","error",{...r instanceof Error&&{error:r.message},networkId:t,address:e});return}};var rTe={badge:(t,e,r)=>e.filter(O_).length<=1?"":HO(t,r)??"",showAddressTypeExplainer:t=>t.filter(O_).length>1,addressTooltipNetworkName:(t,e,r)=>r.filter(O_).length>=2?HO(t,e)??je.getChainName(t):je.getChainName(t)};d();h();var nTe={badge:(t,e)=>{switch(t){case"eip155:41454":case"eip155:10143":return je.getNetworkDefinition(t).shortName;case"eip155:143":return}},networkNameOverride:()=>"Monad"};var wAt=new sv({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:nTe,bitcoin:rTe,sui:{},hypercore:{}}),sg=I8(wAt);d();h();var zS=qe(ur()),iTe=(0,zS.createContext)(null);function SAt({children:t,vault:e}){return zS.default.createElement(iTe.Provider,{value:e},t)}function bi(){let t=(0,zS.useContext)(iTe);if(!t)throw new Error("useVaultProxy must be used within a VaultProxyProvider");return t}function AAt({children:t}){let e=bi(),r=sg.supportedChains.map(i=>[i,sg.get(i)]),n=new sv(Object.fromEntries(r));return oTe.default.createElement(XJ,{effects:{deriveAddresses:async()=>{await e.deriveAddresses()}},registry:n},t)}d();h();var P8=(t,e=5)=>{let r=t.length,n=t.startsWith("0x")?e+2:e;return`${t.substring(0,n)}...${t.substring(r-e,r)}`};d();h();d();h();var EAt=t=>t.includes(".")||t.includes("@")?!1:Cp.safeParse(t).success||Rp.safeParse(t).success||Iy.safeParse(t).success||Bp.safeParse(t).success,nX=(t,e=5)=>EAt(t)?P8(t,e):t;var _At=(t,e,r,n=4)=>{let i=e?e.name:r,o=nX(t,n);return i?`${i} (${o})`:o};d();h();var TAt=t=>`${t.substring(0,5)}...`;d();h();var IAt={days:t=>t*864e5,hours:t=>t*36e5,minutes:t=>t*6e4,seconds:t=>t*1e3,milliseconds:t=>t,microseconds:t=>t/1e3,nanoseconds:t=>t/1e6};function ag(t){let e=0;for(let[r,n]of Object.entries(t)){let i=IAt[r];e+=i(n)}return e}d();h();var WS=qe(ur()),sTe=(0,WS.createContext)(null);function MAt({children:t,authRepository:e}){return WS.default.createElement(sTe.Provider,{value:e},t)}function Ff(){let t=(0,WS.useContext)(sTe);if(!t)throw new Error("useAuthRepository must be used within an AuthProvider");return t}function fp(){return Ff().useUser()}d();h();d();h();var iX=qe(Dn());d();h();var R8="https://phantom.app",C8="https://api.phantom.app/oauth2/auth",jO={prod:"a61bc25e-0c4f-4ab3-aa54-b50ec746eea2",staging:"fe26708b-7db7-4146-9fbb-9a9736acfb2b"},zO={prod:"https://auth.phantom.app",staging:"https://staging-auth.phantom.app"},aTe="/login/start",cTe="/oauth2/token";var uTe=ag({minutes:60})-ag({minutes:15}),fv="/v1/authentication-keys";d();h();var kAt="https://time.phantom.app/utc",PAt=B.number().int().positive();async function lv(){let t;try{let e=await In.get(kAt);if(e.status!==200)throw new Error("Failed to fetch time from server");t=PAt.parse(e.data)}catch{t=Date.now()}return Math.floor(t/1e3)}var RAt=60,CAt=()=>Math.floor(Date.now()/1e3);async function dv(t=!0){let e={alg:"ES256",type:"JWT"},r=t?await lv():CAt(),n={iss:R8,aud:C8,nbf:r,exp:r+RAt,iat:r};return{header:e,payload:n}}function hv(t){let e=Jn(iX.Buffer.from(JSON.stringify(t.header))),r=Jn(iX.Buffer.from(JSON.stringify(t.payload)));return[e,r,t.signature].join(".")}d();h();var fTe=B.object({alg:B.string(),type:B.string(),kid:B.string()}),lTe=B.object({sub:B.string(),iss:B.string(),aud:B.string(),nbf:B.number(),exp:B.number(),iat:B.number()}),oX=B.object({header:fTe,payload:lTe,signature:B.string()}),dTe=B.object({alg:B.string(),type:B.string()}),hTe=B.object({iss:B.string(),aud:B.string(),nbf:B.number(),exp:B.number(),iat:B.number()}),sX=B.object({header:dTe,payload:hTe}),aX=B.object({id_token:B.string(),access_token:B.string(),refresh_token:B.string(),scope:B.string(),token_type:B.string(),expires_in:B.number().gte(0)}),BAt=B.object({redirectTo:B.string()}),pTe=B.object({at_hash:B.string(),aud:B.array(B.string()),auth_time:B.number(),exp:B.number(),iat:B.number(),iss:B.string(),jti:B.string(),rat:B.number(),sid:B.string(),sub:B.string(),email:B.string().optional()}),WO=B.object({authenticationKeys:B.array(B.object({createdAt:B.string().datetime().nullish().default(null),updatedAt:B.string().datetime().nullish().default(null),id:B.string().uuid(),publicKey:B.string(),userId:B.string().uuid()})).optional()});d();h();var pv=qe(SX());d();h();var ZS=qe(SX()),BTe=qe(us()),AX={generateRandom:t=>{let e=(0,BTe.randomBytes)(t);return(0,ZS.bufferToString)(e)},async deriveChallenge(t){let e=zl((0,ZS.textEncodeLite)(t));return(0,ZS.urlSafe)(e)}};d();h();var qf=()=>{let t=Zg();return t==="https://staging-api.phantom.app"?zO.staging:t==="https://api.phantom.app"?zO.prod:T.BASE_AUTH_ENDPOINT||zO.staging},EX=()=>`${qf()}${aTe}`,oD=()=>`${qf()}${cTe}`;var OTe=new pv.BasicQueryStringUtils;async function O8(t,e){let{url:r,codeVerifier:n}=await DTe(t.getClientID(),t.redirectURL,e),i=e.type==="email",o=await t.fetchAuthorizationCode(t.redirectURL,r,i);return await _X({grantType:"authorization_code",clientID:t.getClientID(),redirectURI:t.redirectURL,tokenEndpoint:oD(),code:o,codeVerifier:n})}async function DTe(t,e,r){let n=EX(),i,o=["openid","offline_access","user","incognito","seedless"],s;switch(r.type){case"key":{i={type:"key",jwt:hv(r.clientJWT)};break}case"email":{i={type:"email",provider:r.provider,existingAccessToken:r.existingAccessToken},s=r.prompt,o.push("email");break}case"session":{i={type:"session",existingAccessToken:r.existingAccessToken};break}}let l=await new pv.AuthorizationRequest({client_id:t,redirect_uri:e,scope:o.join(" "),response_type:"code"},AX).toJson(),m;switch(i.type){case"key":m=`jwt:${Jn(Buffer.from(i.jwt,"utf8"))}`;break;case"email":m=`sso:${i.provider}`,i.existingAccessToken&&(m=`${m}:${i.existingAccessToken}`);break;case"session":m=`session:${i.existingAccessToken}`;break}let x={redirect_uri:l.redirect_uri,client_id:l.client_id,response_type:l.response_type,state:l.state??"",scope:l.scope,login_hint:m};s&&(x.prompt=s);let w=l.extras?.code_challenge,E=l.extras?.code_challenge_method,I=l.internal?.code_verifier;if(w&&E&&(x.code_challenge=w,x.code_challenge_method=E),!w||!E||!I)throw new Error("Missing code challenge or code verifier for PKCE.");let M=OTe.stringify(x);return{url:`${n}?${M}`,codeVerifier:I}}async function _X(t){let{grantType:e,tokenEndpoint:r,clientID:n,redirectURI:i}=t,o;e==="authorization_code"?o=new pv.TokenRequest({client_id:n,redirect_uri:i,grant_type:e,code:t.code,extras:{code_verifier:t.codeVerifier}}):o=new pv.TokenRequest({client_id:n,redirect_uri:i,grant_type:e,refresh_token:t.refreshToken});let s=await In.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).auth(Op()).post(r,OTe.stringify(o.toStringMap()));MEt(s,e);let u=aX.safeParse(s.data);if(!u.success)throw new Error("Invalid OAuth2Token response.");let{data:l}=u,m=await lv();return{idToken:l.id_token,accessToken:l.access_token,refreshToken:l.refresh_token,scope:l.scope,tokenType:l.token_type,expiresAt:(m+l.expires_in)*1e3}}async function sD(t,e){return await _X({clientID:t.getClientID(),redirectURI:t.redirectURL,grantType:"refresh_token",tokenEndpoint:oD(),refreshToken:e})}function MEt(t,e){if([401,400].includes(t.status)){let r="";if(t.status===401)switch(r="Token Request Unauthorized (401): ",e){case"authorization_code":r+="Authorization code is expired or invalid.";break;case"refresh_token":r+="Refresh token is expired or invalid.";break;default:r+=`Unknown grant type [${e}]. `}if(t.status===400)switch(r="Bad Token Request (400): ",e){case"authorization_code":r="for [authorization_code]. Possible causes: 1. The authorization code is expired or invalid. 2. Redirect URI mismatch. 3. Code verifier mismatch (if using PKCE).";break;case"refresh_token":r="for [refresh_token]. Possible causes: 1. The refresh token is expired, invalid, or revoked. 2. Client ID mismatch. 3. Missing or malformed refresh token in the request.";break;default:r=`for unknown grant type [${e}]. Check the payload and OAuth provider documentation.`}throw new Error(r)}}d();h();d();h();d();h();var D8=class{subscribers={};subscribe(e,r){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(r),()=>{this.subscribers[e].splice(this.subscribers[e].indexOf(r),1)}}emitEvent(e,...r){(this.subscribers[e]??[]).forEach(i=>i(...r))}};var aD=class extends D8{emit(e){e&&(this.emitEvent("user",e),this.emitEvent("userID",e.userID),this.emitEvent("accessToken",e.accessToken),e.email&&this.emitEvent("email",e.email))}emitLoggedOut(){this.emitEvent("loggedOut")}};d();h();d();h();function dp(t,e="expected value not found"){if(t==null)throw new Error(e);return t}function NTe(t,e="expected value not found"){if(!t)throw new Error(e)}var cD=async(t,e)=>{let r=qf(),n=dp(t.signer,"Signer is required for key-based auth."),i=await n.getAuthenticationPublicKey(e),o=await dv(t.isServerTimeEnabled()),s=await n.sign(o,e),u=await In.get(`${r}${fv}`,{params:{token:hv(s)}});if(!Gl(u))throw new Error("Failed to get authentication keys: response is not okay");let l=u.data;return(WO.parse(l).authenticationKeys??[]).some(w=>w.publicKey===i)};d();h();d();h();var UTe=async t=>{try{let e=await In.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).bearer(t).get(`${qf()}/userinfo`);return Gl(e)}catch{return!1}};d();h();var TX=".phantom.auth",hp=`${TX}.tokens`,LTe=`${TX}.authentication-factors`,PEt=`${TX}.email-provider`;d();h();var mv=t=>{let e=t.idToken.split(".");if(e.length!==3)throw new Error("Malformed ID token. Expected 3 period-delimited parts to ID token.");let r;try{let n=U6(e[1]).toString("utf-8"),i=JSON.parse(n);r=pTe.parse(i)}catch{throw new Error("Unable to parse ID token payload.")}return{accessToken:t.accessToken,userID:r.sub,email:r.email}};d();h();var FTe="@phantom/auth",Au={user:["auth",`${FTe}:user`],authFactors:["auth",`${FTe}:user-auth-factors`]};d();h();var uD=async(t,e,r)=>{let{storage:n,authConfig:i}=t,o,{type:s}=r;switch(s){case"key":{let l=dp(t.signer,"Signer is required for key-based auth."),m=await dv(t.isServerTimeEnabled()),x=await l.sign(m,r.secretIdentifier);o=await O8(i,{type:s,clientJWT:x});break}case"email":{o=await O8(i,{type:s,prompt:r.prompt,provider:r.provider});break}case"session":{o=await O8(i,{type:s,existingAccessToken:r.accessToken});break}}Qe.addBreadcrumb("Auth","\u2705 Login succeeded!","debug"),await n.set(hp,o);let u=mv(o);return await t.queryClient.setQueryData(Au.user,u),e.emit(u),u};var KTe={queryKey:Au.user,gcTime:uTe,staleTime:ag({minutes:5})},QS=async(t,e)=>await t.queryClient.fetchQuery({...KTe,queryFn:()=>VTe(t,e)}),qTe=(t,e)=>Lr({...KTe,queryFn:async()=>{let r=await VTe(t,e);if(!r)throw new Error("Unable to log in.");return r},retryOnMount:!1}),VTe=async(t,e)=>{let r=async()=>{let n=await REt(t);return n||(t.signer?await CEt(t,e):null)};return t.runExclusive(async()=>{let n=await r();return e.emit(n),n})};async function REt({storage:t,authConfig:e,isLocalTokenValidityCheckEnabled:r}){let n=await t.get(hp);if(!n)return null;let i=r(),o=!1;if(i){let s=await lv()+10,u=Math.floor(n.expiresAt/1e3);o=s<u}else o=await UTe(n.accessToken);if(o)return Qe.addBreadcrumb(`\u267B\uFE0F Access token still valid => Expires at ${n.expiresAt}`,"Auth","debug"),mv(n);if(n.refreshToken)try{let s=await sD(e,n.refreshToken);return Qe.addBreadcrumb(`\u2705 Refreshed auth token => Expires at ${s.expiresAt}`,"Auth","debug"),await t.set(hp,s),mv(s)}catch(s){return Qe.addBreadcrumb("Error refreshing auth token.","Auth","error"),Qe.captureError(s,"Auth"),null}return null}async function CEt(t,e){let n=await dp(t.signer,"Unable to log in with key-based auth. Signer is not available.").getAllSecretIdentifiers();if(n.length===0)return Qe.addBreadcrumb("Auth","Unable to log in with key-based auth. Vault is not yet onboarded or has no secrets that can perform key-based auth.","info"),null;let i;try{for(let o of n)if(await cD(t,o)){i=o;break}}catch(o){throw Qe.addBreadcrumb("Auth","Unable to log in with key-based auth. Error checking auth factors.","error"),o}i||(i=n[0],Qe.addBreadcrumb("Auth","No auth factor found, creating new user with first secret identifier.","debug"));try{return await uD(t,e,{type:"key",secretIdentifier:i})}catch(o){throw Qe.addBreadcrumb("Auth","Unable to log in with key-based auth. Error performing auth.","error"),o}}d();h();var IX=async t=>{await t.removeQueries({queryKey:Au.user})},MX=async t=>{await t.resetQueries({queryKey:Au.user})},yv=async t=>{await t.invalidateQueries({queryKey:Au.user})},pp=async t=>{await t.invalidateQueries({queryKey:Au.authFactors})};var BEt=t=>{let e=new aD,r={getUser:()=>QS(t,e),useUser:()=>qTe(t,e),refreshTokens:()=>OEt(t),logIn:n=>uD(t,e,n),isExistingAuthFactor:n=>cD(t,n),getAuthenticationKeys:()=>DEt(t,e),getLocalAuthenticationPublicKeys:()=>UEt(t),addAuthFactor:n=>LEt(t,e,n),deleteAuthFactor:n=>FEt(t,e,n),deleteAllAuthFactors:()=>KEt(t,e),subscribe:(n,i)=>e.subscribe(n,i),logOut:()=>qEt(t,e)};return KJ(async(n=!1)=>(n&&await yv(t.queryClient),(await r.getUser())?.accessToken??null)),r},OEt=async t=>{let e=await t.storage.get(hp);if(!e)return!1;let r=await sD(t.authConfig,e.refreshToken);return await t.storage.set(hp,r),await t.queryClient.setQueryData(Au.user,mv(r)),!0},DEt=async(t,e)=>({authenticationPublicKeys:(await NEt(t,e)).map(n=>n.publicKey)}),NEt=async(t,e)=>{let r=qf(),n=await QS(t,e);if(!n)throw new Error("User not authenticated.");let{data:i}=await In.bearer(n.accessToken).get(`${r}${fv}`),o=WO.safeParse(i);if(!o.success)throw new Error("Unable to parse auth factors response.");return o.data.authenticationKeys??[]},UEt=async t=>{try{let e=dp(t.signer,"Signer is required for key-based auth."),r=await e.getAllSecretIdentifiers(),n={};for(let i of r)n[i]=await e.getAuthenticationPublicKey(i);return n}catch{return{}}},LEt=async(t,e,{secretIdentifier:r})=>{let n=qf(),i=dp(t.signer,"Signer is required for key-based auth."),o=await QS(t,e);if(!o)throw new Error("User not authenticated.");Qe.addBreadcrumb("Auth",`Adding auth factor: ${r}`,"info");let s=await dv(t.isServerTimeEnabled()),u=await i.sign(s,r);await In.bearer(o.accessToken).post(`${n}${fv}`,{jwt:hv(u)})},FEt=async(t,e,{authenticationPublicKey:r})=>{let n=qf(),i=await QS(t,e);if(!i)throw new Error("User not authenticated.");Qe.addBreadcrumb("Auth",`Deleting auth factor: ${r}`,"info"),await In.bearer(i.accessToken).delete(`${n}${fv}/${encodeURIComponent(r)}`)},KEt=async(t,e)=>{let r=qf(),n=t.storage,i=await QS(t,e);if(!i)throw new Error("User not authenticated.");Qe.addBreadcrumb("Auth","Deleting all auth factors","info"),await In.bearer(i.accessToken).delete(`${r}${fv}`),await n.remove(LTe)},qEt=async({storage:t},e)=>{await t.remove(hp),e.emitLoggedOut()};d();h();var VEt=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("code");if(!n)throw new Error("No authorization code");return n};d();h();var HEt=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("error"),i=r.searchParams.get("error_description");if(n)throw new Error(`${n}: ${i}`,{cause:n});return!1};d();h();var jEt=()=>Zg()==="https://api.phantom.app"?jO.prod:jO.staging;d();h();var zEt=()=>{let t=Ff(),{data:e}=fp(),r=Au.authFactors;return Lr({queryKey:r,queryFn:async()=>{let i=await t.getLocalAuthenticationPublicKeys();if(Object.keys(i).length===0)return{};let o=[];try{if(e){let{authenticationPublicKeys:u=[]}=await t.getAuthenticationKeys();o=u}}catch(u){e&&u instanceof Error&&Qe.addBreadcrumb("Auth",`Unable to fetch existing AuthFactors for user (${e?.userID}): ${u.message}`,"error")}let s={};for(let[u,l]of Object.entries(i)){let m=o.includes(l);!m&&await t.isExistingAuthFactor(u)||(s[u]={authenticationPublicKey:l,isExistingAuthFactor:m})}return e&&Object.keys(s).length===0&&Qe.addBreadcrumb("Auth",`Unable to build AuthFactors map: 
- user: ${e?.userID}
- locally available auth factors: ${Object.keys(i).length}
- auth factors registered with user: ${o.length}`,"error"),s},retryOnMount:!1})};d();h();d();h();var N8=()=>{let{data:t}=fp();return!!t};function WEt(t,e){let r=N8(),n;return t.enabled===void 0?n=r:typeof t.enabled=="function"?n=i=>(NTe(typeof t.enabled=="function","expected enabled to be a function"),r&&t.enabled(i)):typeof t.enabled=="boolean"?n=r&&t.enabled:Bt(t.enabled),Lr({...t,enabled:n},e)}d();h();var GEt=()=>{let t=Lt(),e=Ff(),r=async({secretIdentifier:n})=>{await e.addAuthFactor({secretIdentifier:n}),await pp(t)};return jt({mutationFn:async n=>{try{return await r(n)}catch(i){Qe.addBreadcrumb("Auth",`Could not add auth factor: ${n.secretIdentifier}`,"error");let o;throw i instanceof Error?o=i:o=new Error(`Could not add auth factor: ${n.secretIdentifier}`),Qe.captureError(o,"Auth"),o}}})};d();h();var $Et=()=>{let t=Lt(),e=Ff(),r=async({authenticationPublicKey:n})=>{await e.deleteAuthFactor({authenticationPublicKey:n}),await pp(t)};return jt({mutationFn:async n=>{try{return await r(n)}catch(i){Qe.addBreadcrumb("Auth","Could not remove auth factor!","error");let o;throw i instanceof Error?o=i:o=new Error("Could not remove auth factor!"),Qe.captureError(o,"Auth"),o}}})};d();h();var YEt=()=>{let{data:t}=fp();return t?.accessToken};d();h();d();h();d();h();var JS=qe(ur()),HTe=(0,JS.createContext)(null);function ZEt({children:t,accountAnalytics:e}){return JS.default.createElement(HTe.Provider,{value:e},t)}function kX(){let t=(0,JS.useContext)(HTe);if(!t)throw new Error("useAccountAnalytics must be used within an AccountAnalyticsProvider");return t}d();h();d();h();d();h();function Hs(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(T.NODE_ENV!=="production"){var i=i3t[t],o=i?typeof i=="function"?i.apply(null,r):i:"unknown error nr: "+t;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function XS(t){return!!t&&!!t[Eu]}function bv(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===o3t}(t)||Array.isArray(t)||!!t[QTe]||!!t.constructor[QTe]||FX(t)||KX(t))}function L8(t,e,r){r===void 0&&(r=!1),tA(t)===0?(r?Object.keys:zX)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function tA(t){var e=t[Eu];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:FX(t)?2:KX(t)?3:0}function OX(t,e){return tA(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function QEt(t,e){return tA(t)===2?t.get(e):t[e]}function JTe(t,e,r){var n=tA(t);n===2?t.set(e,r):n===3?(t.delete(e),t.add(r)):t[e]=r}function JEt(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function FX(t){return r3t&&t instanceof Map}function KX(t){return n3t&&t instanceof Set}function gv(t){return t.o||t.t}function qX(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=s3t(t);delete e[Eu];for(var r=zX(e),n=0;n<r.length;n++){var i=r[n],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function VX(t,e){return e===void 0&&(e=!1),HX(t)||XS(t)||!bv(t)||(tA(t)>1&&(t.set=t.add=t.clear=t.delete=XEt),Object.freeze(t),e&&L8(t,function(r,n){return VX(n,!0)},!0)),t}function XEt(){Hs(2)}function HX(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ah(t){var e=a3t[t];return e||Hs(18,t),e}function jTe(){return T.NODE_ENV==="production"||eA||Hs(0),eA}function PX(t,e){e&&(Ah("Patches"),t.u=[],t.s=[],t.v=e)}function fD(t){DX(t),t.p.forEach(e3t),t.p=null}function DX(t){t===eA&&(eA=t.l)}function zTe(t){return eA={p:[],l:eA,h:t,m:!0,_:0}}function e3t(t){var e=t[Eu];e.i===0||e.i===1?e.j():e.O=!0}function RX(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.g||Ah("ES5").S(e,t,n),n?(r[Eu].P&&(fD(e),Hs(4)),bv(t)&&(t=lD(e,t),e.l||dD(e,t)),e.u&&Ah("Patches").M(r[Eu].t,t,e.u,e.s)):t=lD(e,r,[]),fD(e),e.u&&e.v(e.u,e.s),t!==XTe?t:void 0}function lD(t,e,r){if(HX(e))return e;var n=e[Eu];if(!n)return L8(e,function(o,s){return WTe(t,n,e,o,s,r)},!0),e;if(n.A!==t)return e;if(!n.P)return dD(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=qX(n.k):n.o;L8(n.i===3?new Set(i):i,function(o,s){return WTe(t,n,i,o,s,r)}),dD(t,i,!1),r&&t.u&&Ah("Patches").R(n,r,t.u,t.s)}return n.o}function WTe(t,e,r,n,i,o){if(T.NODE_ENV!=="production"&&i===r&&Hs(5),XS(i)){var s=lD(t,i,o&&e&&e.i!==3&&!OX(e.D,n)?o.concat(n):void 0);if(JTe(r,n,s),!XS(s))return;t.m=!1}if(bv(i)&&!HX(i)){if(!t.h.F&&t._<1)return;lD(t,i),e&&e.A.l||dD(t,i)}}function dD(t,e,r){r===void 0&&(r=!1),t.h.F&&t.m&&VX(e,r)}function CX(t,e){var r=t[Eu];return(r?gv(r):t)[e]}function GTe(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function NX(t){t.P||(t.P=!0,t.l&&NX(t.l))}function BX(t){t.o||(t.o=qX(t.t))}function UX(t,e,r){var n=FX(e)?Ah("MapSet").N(e,r):KX(e)?Ah("MapSet").T(e,r):t.g?function(i,o){var s=Array.isArray(i),u={i:s?1:0,A:o?o.A:jTe(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=u,m=LX;s&&(l=[u],m=U8);var x=Proxy.revocable(l,m),w=x.revoke,E=x.proxy;return u.k=E,u.j=w,E}(e,r):Ah("ES5").J(e,r);return(r?r.A:jTe()).p.push(n),n}function t3t(t){return XS(t)||Hs(22,t),function e(r){if(!bv(r))return r;var n,i=r[Eu],o=tA(r);if(i){if(!i.P&&(i.i<4||!Ah("ES5").K(i)))return i.t;i.I=!0,n=$Te(r,o),i.I=!1}else n=$Te(r,o);return L8(n,function(s,u){i&&QEt(i.t,s)===u||JTe(n,s,e(u))}),o===3?new Set(n):n}(t)}function $Te(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return qX(t)}var YTe,eA,jX=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",r3t=typeof Map<"u",n3t=typeof Set<"u",ZTe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",XTe=jX?Symbol.for("immer-nothing"):((YTe={})["immer-nothing"]=!0,YTe),QTe=jX?Symbol.for("immer-draftable"):"__$immer_draftable",Eu=jX?Symbol.for("immer-state"):"__$immer_state";var i3t={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},o3t=""+Object.prototype.constructor,zX=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,s3t=Object.getOwnPropertyDescriptors||function(t){var e={};return zX(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},a3t={},LX={get:function(t,e){if(e===Eu)return t;var r=gv(t);if(!OX(r,e))return function(i,o,s){var u,l=GTe(o,s);return l?"value"in l?l.value:(u=l.get)===null||u===void 0?void 0:u.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!bv(n)?n:n===CX(t.t,e)?(BX(t),t.o[e]=UX(t.A.h,n,t)):n},has:function(t,e){return e in gv(t)},ownKeys:function(t){return Reflect.ownKeys(gv(t))},set:function(t,e,r){var n=GTe(gv(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var i=CX(gv(t),e),o=i?.[Eu];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(JEt(r,i)&&(r!==void 0||OX(t.t,e)))return!0;BX(t),NX(t)}return t.o[e]===r&&typeof r!="number"&&(r!==void 0||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return CX(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,BX(t),NX(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=gv(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Hs(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Hs(12)}},U8={};L8(LX,function(t,e){U8[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),U8.deleteProperty=function(t,e){return T.NODE_ENV!=="production"&&isNaN(parseInt(e))&&Hs(13),U8.set.call(this,t,e,void 0)},U8.set=function(t,e,r){return T.NODE_ENV!=="production"&&e!=="length"&&isNaN(parseInt(e))&&Hs(14),LX.set.call(this,t[0],e,r,t[0])};var c3t=function(){function t(r){var n=this;this.g=ZTe,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var u=o;o=i;var l=n;return function(k){var C=this;k===void 0&&(k=u);for(var R=arguments.length,L=Array(R>1?R-1:0),P=1;P<R;P++)L[P-1]=arguments[P];return l.produce(k,function(K){var V;return(V=o).call.apply(V,[C,K].concat(L))})}}var m;if(typeof o!="function"&&Hs(6),s!==void 0&&typeof s!="function"&&Hs(7),bv(i)){var x=zTe(n),w=UX(n,i,void 0),E=!0;try{m=o(w),E=!1}finally{E?fD(x):DX(x)}return typeof Promise<"u"&&m instanceof Promise?m.then(function(k){return PX(x,s),RX(k,x)},function(k){throw fD(x),k}):(PX(x,s),RX(m,x))}if(!i||typeof i!="object"){if((m=o(i))===void 0&&(m=i),m===XTe&&(m=void 0),n.F&&VX(m,!0),s){var I=[],M=[];Ah("Patches").M(i,m,I,M),s(I,M)}return m}Hs(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(m){for(var x=arguments.length,w=Array(x>1?x-1:0),E=1;E<x;E++)w[E-1]=arguments[E];return n.produceWithPatches(m,function(I){return i.apply(void 0,[I].concat(w))})};var s,u,l=n.produce(i,o,function(m,x){s=m,u=x});return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return[m,s,u]}):[l,s,u]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){bv(r)||Hs(8),XS(r)&&(r=t3t(r));var n=zTe(this),i=UX(this,r,void 0);return i[Eu].C=!0,DX(n),i},e.finishDraft=function(r,n){var i=r&&r[Eu];T.NODE_ENV!=="production"&&(i&&i.C||Hs(9),i.I&&Hs(10));var o=i.A;return PX(o,n),RX(void 0,o)},e.setAutoFreeze=function(r){this.F=r},e.setUseProxies=function(r){r&&!ZTe&&Hs(20),this.g=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Ah("Patches").$;return XS(r)?s(r,n):this.produce(r,function(u){return s(u,n)})},t}(),_u=new c3t,WX=_u.produce,Iin=_u.produceWithPatches.bind(_u),Min=_u.setAutoFreeze.bind(_u),kin=_u.setUseProxies.bind(_u),Pin=_u.applyPatches.bind(_u),Rin=_u.createDraft.bind(_u),Cin=_u.finishDraft.bind(_u),Bin=WX;d();h();var tc="@phantom/accounts",F8=`${tc}:account-identifier`,K8=`${tc}:selected-account`,rA=`${tc}:all-accounts`,GX=`${tc}:all-seeds`,u3t=`${tc}:all-secrets`,f3t=`${tc}:account-balance`,nr={accountBalance(t){return[f3t,{identifier:t}]},allAccountBalances(){return[`${tc}:all-account-balances`]},allAccounts(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[rA,{chainAvailabilityQueryObject:e}]},allSeeds(t){return[GX,t]},allSecretIdentifiers(){return[u3t]},developerMode(){return[`${tc}:developer-mode`]},accountIdentifier(t){return[F8,{identifier:t}]},selectedAccount(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[K8,e]},selectedAccountIdentifier(){return[`${tc}:selected-account-identifier`]},selectedNetworkSetting(){return[`${tc}:selected-network-setting`]},trustedApps(){return[`${tc}:trusted-apps`]},migratedWithInvalidChecksum(){return[`${tc}:migrated-with-invalid-checksum`]},syncUserAccounts(){return[`${tc}:sync-user-accounts`]},accountsEligibleToClaim(t,e,r){return[`${tc}:are-accounts-eligible-to-claim`,{username:t,selectedAccountIdentifier:e,solanaAddresses:r}]},patchProfileAddresses(t){return[`${tc}:patch-profile-addresses`,t]}};d();h();var l3t=[".phantom-labs.account.accountMetadata","developerMode","networkSetting",".phantom-labs.account.selectedAccount","termsHaveBeenAcknowledgedLastSeenVersion"];var Kin=new Error("Failed to clear selected account index");async function $X(t){try{let e=await t.get(".phantom-labs.account.selectedAccount");return e?.version===2?e.identifier:null}catch{throw d3t}}var d3t=new Error("Failed to get selected account identifier");async function Tu(t,e){try{let r={version:2,identifier:e};return await t.set(".phantom-labs.account.selectedAccount",r)}catch{throw h3t}}var h3t=new Error("Failed to set selected account identifier");var YX=new Error("Failed to add user account metadata to storage"),hD=new Error("Could not find account metadata in storage");async function ZX(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw hD;let i=n.accounts[e];i?i.name=r:(i={name:r},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function QX(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw hD;let i=n.accounts[e];i?i.icon=r:(i={icon:r,name:Up.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function JX(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata.balance");n||(n={version:1,accounts:{}});let i=n.accounts[e];i?i.balance=r:(i={balance:r},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata.balance",n)}async function dg(t,e,r){try{let n=await t.get(".phantom-labs.account.accountMetadata");n?n.accounts[e]=r:n={version:1,accounts:{[e]:r}},await t.set(".phantom-labs.account.accountMetadata",n)}catch{throw YX}}async function XX(t,e){try{let r=await t.get(".phantom-labs.account.accountMetadata");r?r.accounts=WX(r.accounts,n=>{for(let[i,o]of Object.entries(e))n[i]||(n[i]={name:""}),n[i].name=o.name,n[i].icon=o.icon??n[i].icon,n[i].connectedDevices=o.connectedDevices??n[i].connectedDevices}):r={version:1,accounts:{...e}},await t.set(".phantom-labs.account.accountMetadata",r)}catch{throw YX}}async function eee(t,e){let r=await t.get(".phantom-labs.account.accountMetadata.balance");r||(r={version:1,accounts:{}});let n=r.accounts[e];return n||(n={}),n}async function tee(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");r||(r={version:1,accounts:{}});let n=r.accounts[e];return n||(n={name:Up.t("onboardingImportAccountsAccountName",{walletIndex:""})}),{...n}}async function ree(t){let e=await t.get(".phantom-labs.account.accountMetadata.balance");return e?e.accounts:{}}async function nee(t){let e=await t.get(".phantom-labs.account.accountMetadata"),r={},n=new Set([...Object.keys(e?.accounts||{})]);for(let i of n){let o=e?.accounts[i]||{name:Up.t("onboardingImportAccountsAccountName",{walletIndex:""})};r[i]={...o}}return r}async function eIe(t,e){let r=await t.get(".phantom-labs.account.accountMetadata.balance");r&&(delete r.accounts[e],await t.set(".phantom-labs.account.accountMetadata.balance",r))}async function q8(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");if(!r)throw hD;delete r.accounts[e],await t.set(".phantom-labs.account.accountMetadata",r),await eIe(t,e)}var p3t={...qS(".phantom-labs.account.accountMetadata",[rA,F8,K8,...nr.selectedAccountIdentifier()])};d();h();var Xin=B.string().regex(/^(root-derivation-path-group|(recommended|secondary|tertiary)-group:index-[0-9]+)$/,{message:"Invalid derivation path group."});d();h();d();h();var m3t=B.object({derivationIndex:B.number(),addresses:B.array(B.object({pathType:B.union([HH,jH]),value:B.string()})),publicKeys:B.array(B.object({pathType:VH,value:B.string()}))}),Eh=class extends Error{message="No account exists in storage for identifier"},vv=class extends Error{message="No account exists in storage for identifier"},hg=class extends Error{message="Address type not found or incompatible with account"},V8=class extends Error{message="Hardware wallet account does not have known secr*ts"},H8=class extends Error{message="Read only account does not have known secr*ts"},j8=class extends Error{message="Invalid configuration for read only account"},xv=class extends Error{message="Seed already exists in storage"},mp=class extends Error{message="No seed exists in storage for identifier"},z8=class extends Error{message="The derivation index is missing or invalid"},W8=class extends Error{message="Private key already exists in storage"},wv=class extends Error{message="No private key exists in storage for identifier"};var _h=class extends Error{message;constructor(e,r){super(),this.message=`Account of type ${e} found in Vault, while trying to add ${r} account`}},pD=class extends Error{message="Vault already stores a seedless account"},y3t=B.union([B.literal("unonboarded"),B.literal("unable-to-load-accounts")]),g3t=B.union([B.literal("invalid-identifier"),B.literal("fetch-integrity-storage-error"),B.literal("fetch-entropy-storage-error"),B.literal("fetch-pk-storage-error"),B.literal("invalid-entropy"),B.literal("invalid-entropy-bip-39"),B.literal("invalid-checksum-bits"),B.literal("invalid-entropy-bits"),B.literal("invalid-checksum"),B.literal("invalid-entropy-length-less-than-twelve"),B.literal("invalid-entropy-length-more-than-twenty-four"),B.literal("invalid-entropy-length-wrong-word"),B.literal("invalid-pk-address-type"),B.literal("invalid-pk-identifier"),B.literal("invalid-pk"),B.literal("internal-error")]),b3t=B.literal("safely-onboarded"),v3t=B.union([B.object({status:y3t,isOnboarded:B.literal(!1),reonboardingNeeded:B.literal(!1)}),B.object({status:g3t,isOnboarded:B.literal(!0),reonboardingNeeded:B.literal(!0)}),B.object({status:b3t,isOnboarded:B.literal(!0),reonboardingNeeded:B.literal(!1)})]);var x3t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s))for(let u of je[s].addressTypes){if(!r.includes(u))continue;let l=t.chains[u];if(l)switch(l.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:u,address:l.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:u,publicKey:l.publicKey,address:l.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:u,publicKey:l.publicKey,address:l.address});break}default:Bt(l)}}}return i},w3t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s))for(let u of je[s].addressTypes){if(!r.includes(u))continue;let l=t.chains[u];if(l)switch(l.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:u,address:l.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:u,publicKey:l.publicKey,address:l.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:u,publicKey:l.publicKey,address:l.address});break}default:Bt(l)}}}return i},S3t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s))for(let u of je[s].addressTypes)r.includes(u)&&t.chainType===u&&i.push({networkID:o,addressType:u,address:t.address})}return i},A3t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s)){for(let u of je[s].addressTypes)if(r.includes(u)&&t.chainType===u)switch(t.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:u,address:t.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:u,publicKey:t.publicKey,address:t.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:u,publicKey:t.publicKey,address:t.address});break}default:Bt(t)}}}return i},E3t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s)){for(let u of je[s].addressTypes)if(r.includes(u))for(let[l,m]of Object.entries(t.addresses))l===u&&i.push({networkID:o,addressType:u,address:m})}}return i},G8=(t,e,r,n,i,o)=>{let s;switch(o?s=Object.values(i.setting):s=e,s=s.sort((u,l)=>je.compareNetworkID(u,l)),t.type){case"seedless":case"seed":return x3t(t,s,r,n);case"ledger":return w3t(t,s,r,n);case"seedVault":return S3t(t,s,r,n);case"privateKey":return A3t(t,s,r,n);case"readOnly":return E3t(t,s,r,n)}};d();h();var _3t=({index:t,offsetIndex:e})=>({name:Up.t("onboardingImportAccountsAccountName",{walletIndex:e+t+1})});d();h();d();h();var nA="Trying to find a selected account, but there no accounts in the vault.",$8="Missing ChainAvailability.",tIe=(t,e)=>`No account found! Num accounts: ${t} | Identifier used: ${e}`,iee=new Error("The current account group has no valid bitcoin address"),oee=new Error("The current account group has no valid EIP-155 address"),see=new Error("The current account group has no valid solana address"),aee=new Error("The current account group has no valid sui address"),rIe=new Error("The current account group has no valid address or the the chain type was unsupported"),von=new Error("[Legacy Mn*monic Fetch] no legacy mn*monic in storage"),xon=new Error("[Legacy Mn*monic Fetch] internal error fetching legacy mn*monic");var yp=async(t,e)=>{if(t.length===0)throw new Error(nA);let r=await $X(e),n=t.find(i=>i.identifier===r);return n||(await Tu(e,t[0].identifier),t[0])};d();h();var cee=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Change":case"bip44Ethereum":return!0;case"bip44":case"deprecated":case"bip44Root":case"bip44RootEthereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1}};d();h();var T3t=({pathType:t,index:e})=>{switch(t){case"bip44RootEthereum":case"bip44Root":return"root-derivation-path-group";case"bip44Change":case"bip44Ethereum":case"bip44Sui":case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return`recommended-group:index-${e}`;case"bip44EthereumSecondary":case"bip44":return`secondary-group:index-${e}`;case"bip44EthereumTertiary":case"deprecated":return`tertiary-group:index-${e}`}};d();h();d();h();var I3t=t=>t==null?!1:["ledger","seedVault"].includes(t);d();h();function nIe(t,e){let n=(t?.addresses??[]).find(({addressType:i})=>i===e);if(!t?.addresses||!n)switch(e){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw iee;case"eip155":throw oee;case"solana":throw see;case"sui":throw aee;default:throw rIe}return n}function M3t(t,e){return nIe(t,e)?.address}d();h();var k3t=t=>{let e=t.toString();return P8(e)};d();h();function P3t(t){let e=t.endsWith(".sol"),r=t==="@",n=t.startsWith("@")&&t.length>1;return[e,r,n]}d();h();function R3t(t){return[t.endsWith(".eth")]}d();h();var C3t=async(t,e,r)=>{let i=(await t.fetchAllAccounts()).find(s=>{switch(s.type){case"seed":case"seedless":return s.seedIdentifier===r;case"privateKey":return s.privateKeyIdentifier===r;case"ledger":case"seedVault":case"readOnly":return!1;default:Bt(s)}});if(!i)throw new Error("Unable to find account to sign client JWT with.");let o=await t.sign(i.identifier,{isJWT:!0,data:e});if(o.status==="error")throw new Error("Error signing over clientJWT.");if(!("signedJWT"in o)||!o.signedJWT)throw new Error("No JWT from vault signing.");return o.signedJWT};d();h();var iIe=async t=>[...(await t.fetchAllAccounts()).reduce((i,o)=>{switch(o.type){case"seed":case"seedless":{i.add(o.seedIdentifier);break}case"privateKey":{i.add(o.privateKeyIdentifier);break}case"ledger":case"seedVault":case"readOnly":break;default:Bt(o);break}return i},new Set)];d();h();var B3t=(t,e)=>t.filter(r=>{switch(r.type){case"seed":case"seedless":return r.seedIdentifier===e;case"privateKey":return r.privateKeyIdentifier===e;case"ledger":case"seedVault":case"readOnly":return!1;default:Bt(r);return}});d();h();function O3t(t){return sg.get(t).networkNameOverride?.(t)??je.getNetworkName(t,!0)}d();h();function D3t(){return{version:1,setting:{solana:HS,eip155:jS,sui:rX}}}d();h();var N3t="cash",U3t="cash",L3t={pathType:"bip44Change",index:0};async function uee(t){let{result:{organizationId:e}}=await t.getOrCreatePhantomOrganization(),{result:{walletId:r,walletName:n,accounts:i}}=await t.getOrCreateWalletWithTag({organizationId:e,walletName:N3t,tag:U3t,mnemonicLength:24,accounts:[{derivationPath:$w(L3t),curve:"Ed25519",addressFormat:"Solana"}]});if(i.length===0)throw new Error("No Cash account found");return{organizationId:e,walletId:r,walletName:n,account:i[0]}}d();h();d();h();d();h();function iA(t,e){return typeof t=="string"?t===e:t.length===e.length&&t.every((r,n)=>r===e[n])}d();h();d();h();function fee(t,e){return t in e}var Y8=qe(YIe());function X_t(t){return t=(0,Y8.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{switch(e.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Sv(e.publicKey)&&(e.publicKey=new Uint8Array(Buffer.from(e.publicKey)));break}default:Bt(e)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(e.chains)){let n=e.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Sv(n.publicKey)&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)));break}default:Bt(n)}}break;case"seedVault":break;default:Bt(e)}}),t}function e4t(t){return t=(0,Y8.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{switch(e.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{e.publicKey instanceof Uint8Array&&(e.publicKey=Buffer.from(e.publicKey).toJSON());break}default:Bt(e)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(e.chains)){let n=e.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{n.publicKey instanceof Uint8Array&&(e.chains[r].publicKey=Buffer.from(n.publicKey).toJSON());break}default:Bt(n)}}break;case"seedVault":break;default:Bt(e)}}),t}function ZIe(t){return t=(0,Y8.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{e.version===1&&Sv(e.publicKey)&&(e.publicKey=new Uint8Array(Buffer.from(e.publicKey)));break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(e.chains))if(e.version===1&&Sv(e.chains[r]?.publicKey)){let n=e.chains[r];n&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)))}break;case"seedVault":break;default:Bt(e)}}),t}function QIe(t){return t=(0,Y8.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{e.version===1&&e.publicKey instanceof Uint8Array&&(e.publicKey=Buffer.from(e.publicKey).toJSON());break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(e.chains))e.version===1&&e.chains[r]?.publicKey instanceof Uint8Array&&(e.chains[r].publicKey=Buffer.from(e.chains[r]?.publicKey).toJSON());break;case"seedVault":break;default:Bt(e)}}),t}function Sv(t){return!!t&&typeof t=="object"&&fee("type",t)&&typeof t.type=="string"&&fee("data",t)&&Array.isArray(t.data)&&t.data.every(e=>!Number.isNaN(parseInt(e)))}d();h();var Iu=".phantom-labs.vault";var gD=`${Iu}.accounts`,oA=`${Iu}.secrets`,bD=t=>`${Iu}.privateKey.${t}`,vD=t=>`${Iu}.seed.${t}`,xD=t=>`${Iu}.seedless.${t}`,yD=`${Iu}.integrityCheck`;async function ei(t){return(await sMe(t))?.accounts??[]}async function eMe(t){let e=await $l(t),r=new Set(e.seedIdentifiers),n=await ei(t);for(let o of n)o.type==="seed"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function wD(t){let e=await $l(t),r=new Set(e.seedlessIdentifiers),n=await ei(t);for(let o of n)o.type==="seedless"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function $l(t){let e=await t.generalStorage.get(oA);return{privateKeyIdentifiers:e?.privateKeyIdentifiers??[],seedIdentifiers:e?.seedIdentifiers??[],seedlessIdentifiers:e?.seedlessIdentifiers??[]}}async function tMe(t,e){let r=vD(e),n=await t.secretsStorage.getSecureValue(r);if(n===null){let i=xD(e);n=await t.secretsStorage.getSecureValue(i)}if(n==null)throw new mp;return Sv(n.entropy)?n.entropy=new Uint8Array(Buffer.from(n.entropy)):n.entropy=new Uint8Array(Object.values(n.entropy)),n}async function pg(t,e){let r=bD(e),n=await t.secretsStorage.getSecureValue(r);if(n==null)throw new wv;return Sv(n.privateKey)?n.privateKey=new Uint8Array(Buffer.from(n.privateKey)):n.privateKey=new Uint8Array(Object.values(n.privateKey)),n}async function ka(t,e,r=!0){let n=await sMe(t);if(!n)n={version:1,accounts:[e]};else{let i=n.accounts,o=r4t(i,e);if(o.length>0){if(!r)throw new _h(o[0].type,e.type);let s=XIe(e.type);for(let l of o)if(XIe(l.type)>=s)throw new _h(l.type,e.type);let u=o.map(l=>l.identifier);return i=i.filter(l=>!u.includes(l.identifier)),i.push(e),await gp(t,i),await dee(t)}else i.push(e);n.accounts=i}return gp(t,n.accounts)}async function gp(t,e){let r={version:1,accounts:e};return t.generalStorage.set(gD,QIe(r))}async function rMe(t,e){let r=bD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await o4t(t,e.identifier)}async function nMe(t,e){let r=vD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await n4t(t,e.identifier)}async function iMe(t,e){let r=xD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await i4t(t,e.identifier)}async function dee(t){let e=await ei(t),r=new Set,n=new Set;for(let u of e)switch(u.type){case"seed":case"seedless":r.add(u.seedIdentifier);break;case"privateKey":n.add(u.privateKeyIdentifier);break;case"ledger":case"readOnly":case"seedVault":break;default:Bt(u)}let i=await $l(t),o={seedIdentifiers:i.seedIdentifiers.filter(u=>r.has(u)),seedlessIdentifiers:i.seedlessIdentifiers.filter(u=>r.has(u)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(u=>n.has(u))},s={seedIdentifiers:i.seedIdentifiers.filter(u=>!r.has(u)),seedlessIdentifiers:i.seedlessIdentifiers.filter(u=>!r.has(u)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(u=>!n.has(u))};await t.generalStorage.set(oA,{version:1,...o}),await t.secretsStorage.removeSecureValue([...s.seedIdentifiers.map(u=>vD(u)),...s.seedlessIdentifiers.map(u=>xD(u)),...s.privateKeyIdentifiers.map(u=>bD(u))])}async function hee(t,e){e?await t.secretsStorage.setSecureValue(yD,e):await t.secretsStorage.removeSecureValue(yD)}async function pee(t){return t.secretsStorage.getSecureValue(yD)}async function oMe(t){await t.secureCache.clear(),await t.generalStorage.remove(gD);let e=await $l(t),r=e.privateKeyIdentifiers.map(o=>bD(o)),n=e.seedIdentifiers.map(o=>vD(o)),i=e.seedlessIdentifiers.map(o=>xD(o));await t.secretsStorage.removeSecureValue([...r,...i,...n]),await t.generalStorage.remove(oA),await t.secretsStorage.removeSecureValue(yD)}async function sMe(t){let e=await t.generalStorage.get(gD);return e?(e=ZIe(e),e=await t4t(t,e),e):null}async function t4t(t,e){let r=!1;return e.accounts.forEach(n=>{switch(n.type){case"privateKey":{r=JIe(n)||r;break}case"readOnly":break;case"ledger":case"seed":case"seedless":Object.values(n.chains).forEach(i=>{r=JIe(i)||r});break;case"seedVault":break;default:Bt(n)}}),r&&await gp(t,e.accounts),e}function JIe(t){let e=!1;switch(t.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{Object.values(xo).forEach(r=>{if(t.addresses&&t.addresses[r])return;let n=ds({publicKey:t.publicKey,addressType:t.chainType,networkID:r});t.addresses={...t.addresses,[r]:n},e=!0});break}default:}return e}function r4t(t,e){let r=[],n=[];switch(e.type){case"seed":case"seedless":case"ledger":{Object.values(e.chains).forEach(o=>{switch(o.chainType){case"eip155":case"solana":{n.push(o.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(o.publicKey);break}case"sui":{n.push(o.address);break}default:Bt(o)}});break}case"readOnly":{Object.values(e.addresses).forEach(o=>{n.push(o)});break}case"privateKey":{switch(e.chainType){case"eip155":case"solana":{n.push(e.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(e.publicKey);break}case"sui":{n.push(e.address);break}default:Bt(e)}break}case"seedVault":{n.push(e.publicKey);break}default:(o=>{throw new Error("unknown account type")})(e)}let i=[];for(let o of t){let s;switch(o.type){case"seed":case"seedless":case"ledger":{s=Object.values(o.chains).some(u=>{switch(u.chainType){case"eip155":case"solana":return!!n.find(l=>iA(l,u.publicKey));case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":return!!r.find(l=>iA(l,u.publicKey));default:Bt(u)}});break}case"readOnly":{s=Object.values(o.addresses).some(u=>!!n.find(l=>iA(l,u)));break}case"privateKey":{s=!!n.find(u=>iA(u,o.publicKey));break}case"seedVault":{s=!!n.find(u=>iA(u,o.publicKey));break}default:(u=>{throw new Error("unknown account type")})(o)}s&&i.push(o)}return i}async function n4t(t,e){let r=await $l(t);return r.seedIdentifiers=[...new Set([...r.seedIdentifiers,e])],t.generalStorage.set(oA,{version:1,...r})}async function i4t(t,e){let r=await $l(t);return r.seedlessIdentifiers=[...new Set([...r.seedlessIdentifiers,e])],t.generalStorage.set(oA,{version:1,...r})}async function o4t(t,e){let r=await $l(t);return r.privateKeyIdentifiers=[...new Set([...r.privateKeyIdentifiers,e])],t.generalStorage.set(oA,{version:1,...r})}function XIe(t){switch(t){case"readOnly":return 1;case"privateKey":return 2;case"seedless":case"seed":return 3;case"ledger":return 4;case"seedVault":return 5;default:return 0}}d();h();d();h();var C5=qe(Dn()),Bh=qe(Xte());d();h();d();h();var rkt=B.array(B.object({address:B.string(),signingIndexes:B.array(B.number()),sigHash:B.number().optional(),isScriptSpend:B.boolean().optional()})),nkt=B.object({chainType:Dd,signingType:B.literal("transaction"),message:B.string().min(1),inputsToSign:rkt.optional(),finalize:B.boolean()}),ikt=B.object({chainType:Dd,signingType:B.literal("message"),message:B.instanceof(Uint8Array)}),okt=nkt.or(ikt),skt=B.object({chainType:B.literal("sui"),signingType:B.literal("transaction"),transaction:B.instanceof(Uint8Array)}),akt=B.object({chainType:B.literal("sui"),signingType:B.literal("personalMessage"),message:B.instanceof(Uint8Array)}),ckt=skt.or(akt),ukt=B.object({chainType:B.literal("solana"),signingType:B.literal("transaction"),message:B.union([B.string().min(1),B.instanceof(Uint8Array)])}),fkt=B.object({chainType:B.literal("solana"),signingType:B.literal("message"),message:B.string().min(1)}),ERe=ukt.or(fkt),lkt=B.object({chainType:B.literal("eip155"),signingType:B.literal("transaction"),message:B.string().min(1)}),_Re=B.object({chainType:B.literal("eip155"),signingType:B.literal("message"),message:B.string().min(1)}),TRe=B.object({chainType:B.literal("eip155"),signingType:B.literal("typedData"),version:B.literal(1),data:Poe}),IRe=B.object({chainType:B.literal("eip155"),signingType:B.literal("typedData"),version:B.literal(3),data:Roe}),MRe=B.object({chainType:B.literal("eip155"),signingType:B.literal("typedData"),version:B.literal(4),data:Coe}),dkt=lkt.or(_Re).or(TRe).or(IRe).or(MRe),hkt=B.object({isJWT:B.literal(!0),data:sX}),pkt=B.object({isKMSPKIAuthenticator:B.literal(!0),payload:B.custom()}),Nhn=B.object({organizationId:B.string(),walletId:B.string(),derivationPath:B.string()}),kRe=B.object({isCash:B.literal(!0),data:ERe}),mkt=kRe.extend({isCashKMS:B.literal(!0)}),ykt=_Re.extend({isAgentWallet:B.literal(!0)}),gkt=TRe.extend({isAgentWallet:B.literal(!0)}),bkt=IRe.extend({isAgentWallet:B.literal(!0)}),vkt=MRe.extend({isAgentWallet:B.literal(!0)}),xkt=B.union([ykt,gkt,bkt,vkt]),wkt=B.object({status:B.literal("success"),signature:B.string()}),PRe=B.object({status:B.literal("success"),signature:B.string()}),Skt=B.object({status:B.literal("success"),signature:B.string(),message:B.instanceof(Uint8Array).optional()}),Akt=B.object({status:B.literal("success"),signature:B.string()}),Ekt=B.object({status:B.literal("success"),signature:B.string(),signedJWT:oX.optional()}),_kt=B.object({status:B.literal("success"),signature:B.string()}),Tkt=PRe;var ere=ERe.or(dkt).or(okt).or(ckt).or(hkt).or(pkt).or(xkt).or(kRe).or(mkt),Hc=(C=>(C.InvalidInput="invalidInput",C.InvalidAccountId="invalidAccountId",C.InvalidAddressType="invalidAddressType",C.InvalidMessageEncoding="invalidMessageEncoding",C.InvalidDerivationPath="invalidDerivationPath",C.InvalidRpcPayload="invalidRpcPayload",C.LedgerAppNotOpen="ledgerAppNotOpen",C.LedgerNotConnected="ledgerNotConnected",C.LedgerNeedPermission="ledgerNeedPermission",C.LedgerRejectAction="ledgerRejectAction",C.LedgerUnknownSignError="ledgerUnknownSignError",C.UnsupportedOperation="unsupportedOperation",C.InternalError="internalError",C.ExpiredTokenError="expiredToken",C.BeforeIATError="beforeTimeOfIssuance",C.InvalidClaimError="invalidClaim",C))(Hc||{}),Ikt=B.object({status:B.literal("error"),type:B.nativeEnum(Hc),message:B.string()}),Mkt=B.union([Ekt,_kt,Tkt,Skt,wkt,PRe,Akt,Ikt]);var kkt={invalidInput:{message:"Invalid input"},invalidAccountId:{message:"Invalid account identifier."},invalidAddressType:{message:"Invalid chain type."},invalidMessageEncoding:{message:"Invalid message encoding."},invalidDerivationPath:{message:"Invalid derivation path."},invalidRpcPayload:{message:"Invalid KMS RPC payload."},ledgerAppNotOpen:{message:"Ledger App not open."},ledgerNotConnected:{message:"Ledger not connected."},ledgerNeedPermission:{message:"Need permission to connect to Ledger."},ledgerRejectAction:{message:"Ledger user rejected action."},ledgerUnknownSignError:{message:"Ledger unknown sign error."},unsupportedOperation:{message:"Unsupported operation."},internalError:{message:"Internal error."},expiredToken:{message:"Token is expired"},beforeTimeOfIssuance:{message:"Received token before issuance time"},invalidClaim:{message:"Claim is invalid"}},kr=(t,e)=>({status:"error",type:t,message:e??kkt[t].message});var RRe=()=>({type:"keyPair",sign:(t,e)=>{try{switch(e.signingType){case"typedData":{switch(e.version){case 1:{let r=C5.Buffer.from(t.privateKey.slice()),n=Bh.SignTypedDataVersion.V1,{data:i}=e,o=(0,Bh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=C5.Buffer.from(t.privateKey.slice()),n=Bh.SignTypedDataVersion.V3,i=e.data,o=(0,Bh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=C5.Buffer.from(t.privateKey.slice()),n=Bh.SignTypedDataVersion.V4,i=e.data,o=(0,Bh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=e.message,n=C5.Buffer.from(t.privateKey);try{let i=(0,Bh.personalSign)({privateKey:n,data:r});return Promise.resolve({status:"success",signature:i})}finally{n.fill(0)}}}}catch(r){return console.error(r),Promise.resolve(kr("invalidMessageEncoding"))}}});d();h();var jc=qe(Dn());d();h();d();h();d();h();d();h();d();h();function CRe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function tre(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function BRe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");CRe(t.outputLen),CRe(t.blockLen)}function zA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ORe(t,e){tre(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();d();h();var kN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var DRe=t=>t instanceof Uint8Array;var PN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rd=(t,e)=>t<<32-e|t>>>e,Pkt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pkt)throw new Error("Non little-endian hardware is not supported");function Rkt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function B5(t){if(typeof t=="string"&&(t=Rkt(t)),!DRe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function NRe(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!DRe(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var WA=class{clone(){return this._cloneInto()}},r0n={}.toString;function RN(t){let e=n=>t().update(B5(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function CN(t=32){if(kN&&typeof kN.getRandomValues=="function")return kN.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Ckt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var GA=class extends WA{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=PN(this.buffer)}update(e){zA(this);let{view:r,buffer:n,blockLen:i}=this;e=B5(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=PN(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zA(this),ORe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;Ckt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=PN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var Bkt=(t,e,r)=>t&e^~t&r,Okt=(t,e,r)=>t&e^t&r^e&r,Dkt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Eg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_g=new Uint32Array(64),rre=class extends GA{constructor(){super(64,32,8,!1),this.A=Eg[0]|0,this.B=Eg[1]|0,this.C=Eg[2]|0,this.D=Eg[3]|0,this.E=Eg[4]|0,this.F=Eg[5]|0,this.G=Eg[6]|0,this.H=Eg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:u,H:l}=this;return[e,r,n,i,o,s,u,l]}set(e,r,n,i,o,s,u,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=u|0,this.H=l|0}process(e,r){for(let w=0;w<16;w++,r+=4)_g[w]=e.getUint32(r,!1);for(let w=16;w<64;w++){let E=_g[w-15],I=_g[w-2],M=rd(E,7)^rd(E,18)^E>>>3,k=rd(I,17)^rd(I,19)^I>>>10;_g[w]=k+_g[w-7]+M+_g[w-16]|0}let{A:n,B:i,C:o,D:s,E:u,F:l,G:m,H:x}=this;for(let w=0;w<64;w++){let E=rd(u,6)^rd(u,11)^rd(u,25),I=x+E+Bkt(u,l,m)+Dkt[w]+_g[w]|0,k=(rd(n,2)^rd(n,13)^rd(n,22))+Okt(n,i,o)|0;x=m,m=l,l=u,u=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,u=u+this.E|0,l=l+this.F|0,m=m+this.G|0,x=x+this.H|0,this.set(n,i,o,s,u,l,m,x)}roundClean(){_g.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Pa=RN(()=>new rre);d();h();var sre={};BL(sre,{bitGet:()=>Vkt,bitLen:()=>qkt,bitMask:()=>O5,bitSet:()=>Hkt,bytesToHex:()=>jv,bytesToNumberBE:()=>Ws,bytesToNumberLE:()=>DN,concatBytes:()=>bp,createHmacDrbg:()=>ore,ensureBytes:()=>Vo,equalBytes:()=>Fkt,hexToBytes:()=>zv,hexToNumber:()=>ire,numberToBytesBE:()=>nd,numberToBytesLE:()=>NN,numberToHexUnpadded:()=>FRe,numberToVarBytesBE:()=>Lkt,utf8ToBytes:()=>Kkt,validateObject:()=>Tg});d();h();var LRe=BigInt(0),BN=BigInt(1),Nkt=BigInt(2),ON=t=>t instanceof Uint8Array,Ukt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jv(t){if(!ON(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Ukt[t[r]];return e}function FRe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function ire(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function zv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Ws(t){return ire(jv(t))}function DN(t){if(!ON(t))throw new Error("Uint8Array expected");return ire(jv(Uint8Array.from(t).reverse()))}function nd(t,e){return zv(t.toString(16).padStart(e*2,"0"))}function NN(t,e){return nd(t,e).reverse()}function Lkt(t){return zv(FRe(t))}function Vo(t,e,r){let n;if(typeof e=="string")try{n=zv(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(ON(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function bp(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!ON(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Fkt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Kkt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qkt(t){let e;for(e=0;t>LRe;t>>=BN,e+=1);return e}function Vkt(t,e){return t>>BigInt(e)&BN}var Hkt=(t,e,r)=>t|(r?BN:LRe)<<BigInt(e),O5=t=>(Nkt<<BigInt(t-1))-BN,nre=t=>new Uint8Array(t),URe=t=>Uint8Array.from(t);function ore(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=nre(t),i=nre(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},u=(...w)=>r(i,n,...w),l=(w=nre())=>{i=u(URe([0]),w),n=u(),w.length!==0&&(i=u(URe([1]),w),n=u())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let w=0,E=[];for(;w<e;){n=u();let I=n.slice();E.push(I),w+=n.length}return bp(...E)};return(w,E)=>{s(),l(w);let I;for(;!(I=E(m()));)l();return s(),I}}var jkt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Tg(t,e,r={}){let n=(i,o,s)=>{let u=jkt[o];if(typeof u!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=t[i];if(!(s&&l===void 0)&&!u(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var jo=BigInt(0),no=BigInt(1),Wv=BigInt(2),zkt=BigInt(3),are=BigInt(4),KRe=BigInt(5),qRe=BigInt(8),Wkt=BigInt(9),Gkt=BigInt(16);function Ho(t,e){let r=t%e;return r>=jo?r:e+r}function $kt(t,e,r){if(r<=jo||e<jo)throw new Error("Expected power/modulo > 0");if(r===no)return jo;let n=no;for(;e>jo;)e&no&&(n=n*t%r),t=t*t%r,e>>=no;return n}function Pu(t,e,r){let n=t;for(;e-- >jo;)n*=n,n%=r;return n}function UN(t,e){if(t===jo||e<=jo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ho(t,e),n=e,i=jo,o=no,s=no,u=jo;for(;r!==jo;){let m=n/r,x=n%r,w=i-s*m,E=o-u*m;n=r,r=x,i=s,o=u,s=w,u=E}if(n!==no)throw new Error("invert: does not exist");return Ho(i,e)}function Ykt(t){let e=(t-no)/Wv,r,n,i;for(r=t-no,n=0;r%Wv===jo;r/=Wv,n++);for(i=Wv;i<t&&$kt(i,e,t)!==t-no;i++);if(n===1){let s=(t+no)/are;return function(l,m){let x=l.pow(m,s);if(!l.eql(l.sqr(x),m))throw new Error("Cannot find square root");return x}}let o=(r+no)/Wv;return function(u,l){if(u.pow(l,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let m=n,x=u.pow(u.mul(u.ONE,i),r),w=u.pow(l,o),E=u.pow(l,r);for(;!u.eql(E,u.ONE);){if(u.eql(E,u.ZERO))return u.ZERO;let I=1;for(let k=u.sqr(E);I<m&&!u.eql(k,u.ONE);I++)k=u.sqr(k);let M=u.pow(x,no<<BigInt(m-I-1));x=u.sqr(M),w=u.mul(w,M),E=u.mul(E,x),m=I}return w}}function Zkt(t){if(t%are===zkt){let e=(t+no)/are;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%qRe===KRe){let e=(t-KRe)/qRe;return function(n,i){let o=n.mul(i,Wv),s=n.pow(o,e),u=n.mul(i,s),l=n.mul(n.mul(u,Wv),s),m=n.mul(u,n.sub(l,n.ONE));if(!n.eql(n.sqr(m),i))throw new Error("Cannot find square root");return m}}return t%Gkt,Ykt(t)}var Qkt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cre(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Qkt.reduce((n,i)=>(n[i]="function",n),e);return Tg(t,r)}function Jkt(t,e,r){if(r<jo)throw new Error("Expected power > 0");if(r===jo)return t.ONE;if(r===no)return e;let n=t.ONE,i=e;for(;r>jo;)r&no&&(n=t.mul(n,i)),i=t.sqr(i),r>>=no;return n}function Xkt(t,e){let r=new Array(e.length),n=e.reduce((o,s,u)=>t.is0(s)?o:(r[u]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,u)=>t.is0(s)?o:(r[u]=t.mul(o,r[u]),t.mul(o,s)),i),r}function ure(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function VRe(t,e,r=!1,n={}){if(t<=jo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=ure(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Zkt(t),u=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:O5(i),ZERO:jo,ONE:no,create:l=>Ho(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return jo<=l&&l<t},is0:l=>l===jo,isOdd:l=>(l&no)===no,neg:l=>Ho(-l,t),eql:(l,m)=>l===m,sqr:l=>Ho(l*l,t),add:(l,m)=>Ho(l+m,t),sub:(l,m)=>Ho(l-m,t),mul:(l,m)=>Ho(l*m,t),pow:(l,m)=>Jkt(u,l,m),div:(l,m)=>Ho(l*UN(m,t),t),sqrN:l=>l*l,addN:(l,m)=>l+m,subN:(l,m)=>l-m,mulN:(l,m)=>l*m,inv:l=>UN(l,t),sqrt:n.sqrt||(l=>s(u,l)),invertBatch:l=>Xkt(u,l),cmov:(l,m,x)=>x?m:l,toBytes:l=>r?NN(l,o):nd(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?DN(l):Ws(l)}});return Object.freeze(u)}function HRe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function fre(t){let e=HRe(t);return e+Math.ceil(e/2)}function jRe(t,e,r=!1){let n=t.length,i=HRe(e),o=fre(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Ws(t):DN(t),u=Ho(s,e-no)+no;return r?NN(u,i):nd(u,i)}d();h();d();h();var tPt=BigInt(0),lre=BigInt(1);function zRe(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,u=i;for(;o>tPt;)o&lre&&(s=s.add(u)),u=u.double(),o>>=lre;return s},precomputeWindow(i,o){let{windows:s,windowSize:u}=n(o),l=[],m=i,x=m;for(let w=0;w<s;w++){x=m,l.push(x);for(let E=1;E<u;E++)x=x.add(m),l.push(x);m=x.double()}return l},wNAF(i,o,s){let{windows:u,windowSize:l}=n(i),m=t.ZERO,x=t.BASE,w=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let M=0;M<u;M++){let k=M*l,C=Number(s&w);s>>=I,C>l&&(C-=E,s+=lre);let R=k,L=k+Math.abs(C)-1,P=M%2!==0,K=C<0;C===0?x=x.add(r(P,o[R])):m=m.add(r(K,o[L]))}return{p:m,f:x}},wNAFCached(i,o,s,u){let l=i._WINDOW_SIZE||1,m=o.get(i);return m||(m=this.precomputeWindow(i,l),l!==1&&o.set(i,u(m))),this.wNAF(l,m,s)}}}function dre(t){return cre(t.Fp),Tg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ure(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function rPt(t){let e=dre(t);Tg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:nPt,hexToBytes:iPt}=sre,Gv={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Gv;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:nPt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Gv,r=typeof t=="string"?iPt(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=Gv._parseInt(r.subarray(2)),{d:s,l:u}=Gv._parseInt(o);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{let x=m.toString(16);return x.length&1?`0${x}`:x},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,u=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${u}${n}`}},vp=BigInt(0),$f=BigInt(1),k0n=BigInt(2),WRe=BigInt(3),P0n=BigInt(4);function oPt(t){let e=rPt(t),{Fp:r}=e,n=e.toBytes||((M,k,C)=>{let R=k.toAffine();return bp(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(M=>{let k=M.subarray(1),C=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:C,y:R}});function o(M){let{a:k,b:C}=e,R=r.sqr(M),L=r.mul(R,M);return r.add(r.add(L,r.mul(M,k)),C)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(M){return typeof M=="bigint"&&vp<M&&M<e.n}function u(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(M){let{allowedPrivateKeyLengths:k,nByteLength:C,wrapPrivateKey:R,n:L}=e;if(k&&typeof M!="bigint"){if(M instanceof Uint8Array&&(M=jv(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(C*2,"0")}let P;try{P=typeof M=="bigint"?M:Ws(Vo("private key",M,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof M}`)}return R&&(P=Ho(P,L)),u(P),P}let m=new Map;function x(M){if(!(M instanceof w))throw new Error("ProjectivePoint expected")}class w{constructor(k,C,R){if(this.px=k,this.py=C,this.pz=R,k==null||!r.isValid(k))throw new Error("x required");if(C==null||!r.isValid(C))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required")}static fromAffine(k){let{x:C,y:R}=k||{};if(!k||!r.isValid(C)||!r.isValid(R))throw new Error("invalid affine point");if(k instanceof w)throw new Error("projective point not allowed");let L=P=>r.eql(P,r.ZERO);return L(C)&&L(R)?w.ZERO:new w(C,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let C=r.invertBatch(k.map(R=>R.pz));return k.map((R,L)=>R.toAffine(C[L])).map(w.fromAffine)}static fromHex(k){let C=w.fromAffine(i(Vo("pointHex",k)));return C.assertValidity(),C}static fromPrivateKey(k){return w.BASE.multiply(l(k))}_setWindowSize(k){this._WINDOW_SIZE=k,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:k,y:C}=this.toAffine();if(!r.isValid(k)||!r.isValid(C))throw new Error("bad point: x or y not FE");let R=r.sqr(C),L=o(k);if(!r.eql(R,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){x(k);let{px:C,py:R,pz:L}=this,{px:P,py:K,pz:V}=k,j=r.eql(r.mul(C,V),r.mul(P,L)),ne=r.eql(r.mul(R,V),r.mul(K,L));return j&&ne}negate(){return new w(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:C}=e,R=r.mul(C,WRe),{px:L,py:P,pz:K}=this,V=r.ZERO,j=r.ZERO,ne=r.ZERO,J=r.mul(L,L),oe=r.mul(P,P),S=r.mul(K,K),a=r.mul(L,P);return a=r.add(a,a),ne=r.mul(L,K),ne=r.add(ne,ne),V=r.mul(k,ne),j=r.mul(R,S),j=r.add(V,j),V=r.sub(oe,j),j=r.add(oe,j),j=r.mul(V,j),V=r.mul(a,V),ne=r.mul(R,ne),S=r.mul(k,S),a=r.sub(J,S),a=r.mul(k,a),a=r.add(a,ne),ne=r.add(J,J),J=r.add(ne,J),J=r.add(J,S),J=r.mul(J,a),j=r.add(j,J),S=r.mul(P,K),S=r.add(S,S),J=r.mul(S,a),V=r.sub(V,J),ne=r.mul(S,oe),ne=r.add(ne,ne),ne=r.add(ne,ne),new w(V,j,ne)}add(k){x(k);let{px:C,py:R,pz:L}=this,{px:P,py:K,pz:V}=k,j=r.ZERO,ne=r.ZERO,J=r.ZERO,oe=e.a,S=r.mul(e.b,WRe),a=r.mul(C,P),f=r.mul(R,K),p=r.mul(L,V),y=r.add(C,R),g=r.add(P,K);y=r.mul(y,g),g=r.add(a,f),y=r.sub(y,g),g=r.add(C,L);let A=r.add(P,V);return g=r.mul(g,A),A=r.add(a,p),g=r.sub(g,A),A=r.add(R,L),j=r.add(K,V),A=r.mul(A,j),j=r.add(f,p),A=r.sub(A,j),J=r.mul(oe,g),j=r.mul(S,p),J=r.add(j,J),j=r.sub(f,J),J=r.add(f,J),ne=r.mul(j,J),f=r.add(a,a),f=r.add(f,a),p=r.mul(oe,p),g=r.mul(S,g),f=r.add(f,p),p=r.sub(a,p),p=r.mul(oe,p),g=r.add(g,p),a=r.mul(f,g),ne=r.add(ne,a),a=r.mul(A,g),j=r.mul(y,j),j=r.sub(j,a),a=r.mul(y,f),J=r.mul(A,J),J=r.add(J,a),new w(j,ne,J)}subtract(k){return this.add(k.negate())}is0(){return this.equals(w.ZERO)}wNAF(k){return I.wNAFCached(this,m,k,C=>{let R=r.invertBatch(C.map(L=>L.pz));return C.map((L,P)=>L.toAffine(R[P])).map(w.fromAffine)})}multiplyUnsafe(k){let C=w.ZERO;if(k===vp)return C;if(u(k),k===$f)return this;let{endo:R}=e;if(!R)return I.unsafeLadder(this,k);let{k1neg:L,k1:P,k2neg:K,k2:V}=R.splitScalar(k),j=C,ne=C,J=this;for(;P>vp||V>vp;)P&$f&&(j=j.add(J)),V&$f&&(ne=ne.add(J)),J=J.double(),P>>=$f,V>>=$f;return L&&(j=j.negate()),K&&(ne=ne.negate()),ne=new w(r.mul(ne.px,R.beta),ne.py,ne.pz),j.add(ne)}multiply(k){u(k);let C=k,R,L,{endo:P}=e;if(P){let{k1neg:K,k1:V,k2neg:j,k2:ne}=P.splitScalar(C),{p:J,f:oe}=this.wNAF(V),{p:S,f:a}=this.wNAF(ne);J=I.constTimeNegate(K,J),S=I.constTimeNegate(j,S),S=new w(r.mul(S.px,P.beta),S.py,S.pz),R=J.add(S),L=oe.add(a)}else{let{p:K,f:V}=this.wNAF(C);R=K,L=V}return w.normalizeZ([R,L])[0]}multiplyAndAddUnsafe(k,C,R){let L=w.BASE,P=(V,j)=>j===vp||j===$f||!V.equals(L)?V.multiplyUnsafe(j):V.multiply(j),K=P(this,C).add(P(k,R));return K.is0()?void 0:K}toAffine(k){let{px:C,py:R,pz:L}=this,P=this.is0();k==null&&(k=P?r.ONE:r.inv(L));let K=r.mul(C,k),V=r.mul(R,k),j=r.mul(L,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:K,y:V}}isTorsionFree(){let{h:k,isTorsionFree:C}=e;if(k===$f)return!0;if(C)return C(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:C}=e;return k===$f?this:C?C(w,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(w,this,k)}toHex(k=!0){return jv(this.toRawBytes(k))}}w.BASE=new w(e.Gx,e.Gy,r.ONE),w.ZERO=new w(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=zRe(w,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function sPt(t){let e=dre(t);return Tg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function GRe(t){let e=sPt(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(g){return vp<g&&g<r.ORDER}function u(g){return Ho(g,n)}function l(g){return UN(g,n)}let{ProjectivePoint:m,normPrivateKeyToScalar:x,weierstrassEquation:w,isWithinCurveOrder:E}=oPt({...e,toBytes(g,A,_){let b=A.toAffine(),c=r.toBytes(b.x),v=bp;return _?v(Uint8Array.from([A.hasEvenY()?2:3]),c):v(Uint8Array.from([4]),c,r.toBytes(b.y))},fromBytes(g){let A=g.length,_=g[0],b=g.subarray(1);if(A===i&&(_===2||_===3)){let c=Ws(b);if(!s(c))throw new Error("Point is not on curve");let v=w(c),F=r.sqrt(v),U=(F&$f)===$f;return(_&1)===1!==U&&(F=r.neg(F)),{x:c,y:F}}else if(A===o&&_===4){let c=r.fromBytes(b.subarray(0,r.BYTES)),v=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:c,y:v}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),I=g=>jv(nd(g,e.nByteLength));function M(g){let A=n>>$f;return g>A}function k(g){return M(g)?u(-g):g}let C=(g,A,_)=>Ws(g.slice(A,_));class R{constructor(A,_,b){this.r=A,this.s=_,this.recovery=b,this.assertValidity()}static fromCompact(A){let _=e.nByteLength;return A=Vo("compactSignature",A,_*2),new R(C(A,0,_),C(A,_,2*_))}static fromDER(A){let{r:_,s:b}=Gv.toSig(Vo("DER",A));return new R(_,b)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new R(this.r,this.s,A)}recoverPublicKey(A){let{r:_,s:b,recovery:c}=this,v=ne(Vo("msgHash",A));if(c==null||![0,1,2,3].includes(c))throw new Error("recovery id invalid");let F=c===2||c===3?_+e.n:_;if(F>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let U=c&1?"03":"02",O=m.fromHex(U+I(F)),W=l(F),ee=u(-v*W),re=u(b*W),Ve=m.BASE.multiplyAndAddUnsafe(O,ee,re);if(!Ve)throw new Error("point at infinify");return Ve.assertValidity(),Ve}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return zv(this.toDERHex())}toDERHex(){return Gv.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zv(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let L={isValidPrivateKey(g){try{return x(g),!0}catch{return!1}},normPrivateKeyToScalar:x,randomPrivateKey:()=>{let g=fre(e.n);return jRe(e.randomBytes(g),e.n)},precompute(g=8,A=m.BASE){return A._setWindowSize(g),A.multiply(BigInt(3)),A}};function P(g,A=!0){return m.fromPrivateKey(g).toRawBytes(A)}function K(g){let A=g instanceof Uint8Array,_=typeof g=="string",b=(A||_)&&g.length;return A?b===i||b===o:_?b===2*i||b===2*o:g instanceof m}function V(g,A,_=!0){if(K(g))throw new Error("first arg must be private key");if(!K(A))throw new Error("second arg must be public key");return m.fromHex(A).multiply(x(g)).toRawBytes(_)}let j=e.bits2int||function(g){let A=Ws(g),_=g.length*8-e.nBitLength;return _>0?A>>BigInt(_):A},ne=e.bits2int_modN||function(g){return u(j(g))},J=O5(e.nBitLength);function oe(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(vp<=g&&g<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return nd(g,e.nByteLength)}function S(g,A,_=a){if(["recovered","canonical"].some(G=>G in _))throw new Error("sign() legacy options not supported");let{hash:b,randomBytes:c}=e,{lowS:v,prehash:F,extraEntropy:U}=_;v==null&&(v=!0),g=Vo("msgHash",g),F&&(g=Vo("prehashed msgHash",b(g)));let O=ne(g),W=x(A),ee=[oe(W),oe(O)];if(U!=null){let G=U===!0?c(r.BYTES):U;ee.push(Vo("extraEntropy",G))}let re=bp(...ee),Ve=O;function ae(G){let he=j(G);if(!E(he))return;let te=l(he),ce=m.BASE.multiply(he).toAffine(),Ye=u(ce.x);if(Ye===vp)return;let se=u(te*u(Ve+Ye*W));if(se===vp)return;let le=(ce.x===Ye?0:2)|Number(ce.y&$f),Pt=se;return v&&M(se)&&(Pt=k(se),le^=1),new R(Ye,Pt,le)}return{seed:re,k2sig:ae}}let a={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function p(g,A,_=a){let{seed:b,k2sig:c}=S(g,A,_),v=e;return ore(v.hash.outputLen,v.nByteLength,v.hmac)(b,c)}m.BASE._setWindowSize(8);function y(g,A,_,b=f){let c=g;if(A=Vo("msgHash",A),_=Vo("publicKey",_),"strict"in b)throw new Error("options.strict was renamed to lowS");let{lowS:v,prehash:F}=b,U,O;try{if(typeof c=="string"||c instanceof Uint8Array)try{U=R.fromDER(c)}catch(ce){if(!(ce instanceof Gv.Err))throw ce;U=R.fromCompact(c)}else if(typeof c=="object"&&typeof c.r=="bigint"&&typeof c.s=="bigint"){let{r:ce,s:Ye}=c;U=new R(ce,Ye)}else throw new Error("PARSE");O=m.fromHex(_)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&U.hasHighS())return!1;F&&(A=e.hash(A));let{r:W,s:ee}=U,re=ne(A),Ve=l(ee),ae=u(re*Ve),G=u(W*Ve),he=m.BASE.multiplyAndAddUnsafe(O,ae,G)?.toAffine();return he?u(he.x)===W:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:V,sign:p,verify:y,ProjectivePoint:m,Signature:R,utils:L}}d();h();d();h();var LN=class extends WA{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,BRe(e);let n=B5(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return zA(this),this.iHash.update(e),this}digestInto(e){zA(this),tre(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},hre=(t,e,r)=>new LN(t,e).update(r).digest();hre.create=(t,e)=>new LN(t,e);function aPt(t){return{hash:t,hmac:(e,...r)=>hre(t,e,NRe(...r)),randomBytes:CN}}function $Re(t,e){let r=n=>GRe({...t,...aPt(n)});return Object.freeze({...r(e),create:r})}var VN=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),FN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),QRe=BigInt(1),KN=BigInt(2),YRe=(t,e)=>(t+e/KN)/e;function JRe(t){let e=VN,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),u=BigInt(44),l=BigInt(88),m=t*t*t%e,x=m*m*t%e,w=Pu(x,r,e)*x%e,E=Pu(w,r,e)*x%e,I=Pu(E,KN,e)*m%e,M=Pu(I,i,e)*I%e,k=Pu(M,o,e)*M%e,C=Pu(k,u,e)*k%e,R=Pu(C,l,e)*C%e,L=Pu(R,u,e)*k%e,P=Pu(L,r,e)*x%e,K=Pu(P,s,e)*M%e,V=Pu(K,n,e)*m%e,j=Pu(V,KN,e);if(!mre.eql(mre.sqr(j),t))throw new Error("Cannot find square root");return j}var mre=VRe(VN,void 0,void 0,{sqrt:JRe}),$A=$Re({a:BigInt(0),b:BigInt(7),Fp:mre,n:FN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=FN,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-QRe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),u=YRe(o*t,e),l=YRe(-n*t,e),m=Ho(t-u*r-l*i,e),x=Ho(-u*n-l*o,e),w=m>s,E=x>s;if(w&&(m=e-m),E&&(x=e-x),m>s||x>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:w,k1:m,k2neg:E,k2:x}}}},Pa),HN=BigInt(0),XRe=t=>typeof t=="bigint"&&HN<t&&t<VN,cPt=t=>typeof t=="bigint"&&HN<t&&t<FN,ZRe={};function qN(t,...e){let r=ZRe[t];if(r===void 0){let n=Pa(Uint8Array.from(t,i=>i.charCodeAt(0)));r=bp(n,n),ZRe[t]=r}return Pa(bp(r,...e))}var bre=t=>t.toRawBytes(!0).slice(1),yre=t=>nd(t,32),pre=t=>Ho(t,VN),D5=t=>Ho(t,FN),vre=$A.ProjectivePoint,uPt=(t,e,r)=>vre.BASE.multiplyAndAddUnsafe(t,e,r);function gre(t){let e=$A.utils.normPrivateKeyToScalar(t),r=vre.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:D5(-e),bytes:bre(r)}}function eCe(t){if(!XRe(t))throw new Error("bad x: need 0 < x < p");let e=pre(t*t),r=pre(e*t+BigInt(7)),n=JRe(r);n%KN!==HN&&(n=pre(-n));let i=new vre(t,n,QRe);return i.assertValidity(),i}function tCe(...t){return D5(Ws(qN("BIP0340/challenge",...t)))}function fPt(t){return gre(t).bytes}function lPt(t,e,r=CN(32)){let n=Vo("message",t),{bytes:i,scalar:o}=gre(e),s=Vo("auxRand",r,32),u=yre(o^Ws(qN("BIP0340/aux",s))),l=qN("BIP0340/nonce",u,i,n),m=D5(Ws(l));if(m===HN)throw new Error("sign failed: k is zero");let{bytes:x,scalar:w}=gre(m),E=tCe(x,i,n),I=new Uint8Array(64);if(I.set(x,0),I.set(yre(D5(w+E*o)),32),!rCe(I,n,i))throw new Error("sign: Invalid signature produced");return I}function rCe(t,e,r){let n=Vo("signature",t,64),i=Vo("message",e),o=Vo("publicKey",r,32);try{let s=eCe(Ws(o)),u=Ws(n.subarray(0,32));if(!XRe(u))return!1;let l=Ws(n.subarray(32,64));if(!cPt(l))return!1;let m=tCe(yre(u),bre(s),i),x=uPt(s,l,D5(-m));return!(!x||!x.hasEvenY()||x.toAffine().x!==u)}catch{return!1}}var Ru={getPublicKey:fPt,sign:lPt,verify:rCe,utils:{randomPrivateKey:$A.utils.randomPrivateKey,lift_x:eCe,pointToBytes:bre,numberToBytesBE:nd,bytesToNumberBE:Ws,taggedHash:qN,mod:Ho}};d();h();var dPt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),iCe=Uint8Array.from({length:16},(t,e)=>e),hPt=iCe.map(t=>(9*t+5)%16),wre=[iCe],Sre=[hPt];for(let t=0;t<4;t++)for(let e of[wre,Sre])e.push(e[t].map(r=>dPt[r]));var oCe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),pPt=wre.map((t,e)=>t.map(r=>oCe[e][r])),mPt=Sre.map((t,e)=>t.map(r=>oCe[e][r])),yPt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),gPt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),jN=(t,e)=>t<<e|t>>>32-e;function nCe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var zN=new Uint32Array(16),xre=class extends GA{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let I=0;I<16;I++,r+=4)zN[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,u=this.h2|0,l=u,m=this.h3|0,x=m,w=this.h4|0,E=w;for(let I=0;I<5;I++){let M=4-I,k=yPt[I],C=gPt[I],R=wre[I],L=Sre[I],P=pPt[I],K=mPt[I];for(let V=0;V<16;V++){let j=jN(n+nCe(I,o,u,m)+zN[R[V]]+k,P[V])+w|0;n=w,w=m,m=jN(u,10)|0,u=o,o=j}for(let V=0;V<16;V++){let j=jN(i+nCe(M,s,l,x)+zN[L[V]]+C,K[V])+E|0;i=E,E=x,x=jN(l,10)|0,l=s,s=j}}this.set(this.h1+u+x|0,this.h2+m+E|0,this.h3+w+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){zN.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},sCe=RN(()=>new xre);d();h();function YA(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function GN(...t){let e=(i,o)=>s=>i(o(s)),r=Array.from(t).reverse().reduce((i,o)=>i?e(i,o.encode):o.encode,void 0),n=t.reduce((i,o)=>i?e(i,o.decode):o.decode,void 0);return{encode:r,decode:n}}function _re(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function Tre(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function bPt(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function aCe(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],o=Array.from(t);for(o.forEach(s=>{if(s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,u=!0;for(let l=n;l<o.length;l++){let m=o[l],x=e*s+m;if(!Number.isSafeInteger(x)||e*s/e!==s||x-m!==e*s)throw new Error("convertRadix: carry overflow");s=x%r;let w=Math.floor(x/r);if(o[l]=w,!Number.isSafeInteger(w)||w*r+s!==x)throw new Error("convertRadix: carry overflow");if(u)w?u=!1:n=l;else continue}if(i.push(s),u)break}for(let s=0;s<t.length-1&&t[s]===0;s++)i.push(0);return i.reverse()}var lCe=(t,e)=>e?lCe(e,t%e):t,WN=(t,e)=>t+(e-lCe(t,e));function Are(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(WN(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${WN(e,r)}`);let i=0,o=0,s=2**r-1,u=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=r;o-=r)u.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&u.push(i>>>0),u}function vPt(t){return{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return aCe(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(aCe(e,t,2**8))}}}function dCe(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(WN(8,t)>32||WN(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Are(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Are(r,t,8,e))}}}function cCe(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function xPt(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),o=r.slice(-t);for(let s=0;s<t;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}var wPt=t=>GN(vPt(58),_re(t),Tre("")),SPt=wPt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var hCe=t=>GN(xPt(4,e=>t(t(e))),SPt),Ere=GN(_re("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Tre("")),uCe=[996825010,642813549,513874426,1027748829,705979059];function N5(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<uCe.length;n++)(e>>n&1)===1&&(r^=uCe[n]);return r}function fCe(t,e,r=1){let n=t.length,i=1;for(let o=0;o<n;o++){let s=t.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${t})`);i=N5(i)^s>>5}i=N5(i);for(let o=0;o<n;o++)i=N5(i)^t.charCodeAt(o)&31;for(let o of e)i=N5(i)^o;for(let o=0;o<6;o++)i=N5(i);return i^=r,Ere.encode(Are([i%2**30],30,5,!1))}function pCe(t){let e=t==="bech32"?1:734539939,r=dCe(5),n=r.decode,i=r.encode,o=cCe(n);function s(x,w,E=90){if(typeof x!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof x}`);if(!Array.isArray(w)||w.length&&typeof w[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof w}`);let I=x.length+7+w.length;if(E!==!1&&I>E)throw new TypeError(`Length ${I} exceeds limit ${E}`);let M=x.toLowerCase(),k=fCe(M,w,e);return`${M}1${Ere.encode(w)}${k}`}function u(x,w=90){if(typeof x!="string")throw new Error(`bech32.decode input should be string, not ${typeof x}`);if(x.length<8||w!==!1&&x.length>w)throw new TypeError(`Wrong string length: ${x.length} (${x}). Expected (8..${w})`);let E=x.toLowerCase();if(x!==E&&x!==x.toUpperCase())throw new Error("String must be lowercase or uppercase");x=E;let I=x.lastIndexOf("1");if(I===0||I===-1)throw new Error('Letter "1" must be present between prefix and data only');let M=x.slice(0,I),k=x.slice(I+1);if(k.length<6)throw new Error("Data must be at least 6 characters long");let C=Ere.decode(k).slice(0,-6),R=fCe(M,C,e);if(!k.endsWith(R))throw new Error(`Invalid checksum in ${x}: expected "${R}"`);return{prefix:M,words:C}}let l=cCe(u);function m(x){let{prefix:w,words:E}=u(x,!1);return{prefix:w,words:E,bytes:n(E)}}return{encode:s,decode:u,decodeToBytes:m,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}var $N=pCe("bech32"),Ire=pCe("bech32m"),Mre={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},ji=GN(dCe(4),_re("0123456789abcdef"),Tre(""),bPt(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));d();h();var zi=new Uint8Array,eU=new Uint8Array([0]);function vi(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function YN(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Cu=t=>t instanceof Uint8Array,ZN=class{constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(Ig(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=XN(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!Cu(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(vi(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${ji.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},QN=class{constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=YN(...this.buffers);for(let r of this.ptrs){let n=e.length;e=YN(e,r.buffer);let i=r.ptr.encode(n);for(let o=0;o<i.length;o++)e[r.pos+o]=i[o]}return e}length(e,r){if(e===null)return;if(Ig(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=XN(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},JN=t=>Uint8Array.from(t).reverse();function mCe(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}function zo(t){return{...t,encode:e=>{let r=new QN;return t.encodeStream(r,e),r.buffer},decode:e=>{let r=new ZN(e),n=t.decodeStream(r);return r.finish(),n}}}function XN(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}function Ig(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}function EPt(){return{encode:t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},decode:t=>Object.entries(t)}}var _Pt={encode:t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},decode:t=>BigInt(t)};function TPt(t){return{encode:e=>t[e],decode:e=>t[e]}}function IPt(t){let e=10n**BigInt(t);return{encode:r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let o=n.length-1;for(;o>=i&&n[o]==="0";o--);let[s,u]=[n.slice(0,i),n.slice(i,o+1)];return s||(s="0"),r<0n&&(s="-"+s),u?`${s}.${u}`:s},decode:r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[o,s]=[r.slice(0,i),r.slice(i+1)],u=BigInt(o)*e,l=Math.min(s.length,t),m=BigInt(s.slice(0,l))*10n**BigInt(t-l),x=u+m;return n?-x:x}}}function MPt(t){return{encode:e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},decode:e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)}}}var ZA={dict:EPt,number:_Pt,tsEnum:TPt,decimal:IPt,match:MPt};var Bu=(t,e=!1,r=!1)=>zo({size:t,encodeStream:(n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let o=BigInt(i),s=BigInt(t);mCe(n,o,8n*s,!!r);let u=2n**(8n*s-1n);r&&o<0&&(o=o|u);let l=[];for(let x=0;x<t;x++)l.push(Number(o&255n)),o>>=8n;let m=new Uint8Array(l).reverse();n.bytes(e?m.reverse():m)},decodeStream:n=>{let i=BigInt(t),o=n.bytes(t);e&&(o=JN(o));let s=JN(o),u=2n**(8n*i-1n),l=0n;for(let m=0;m<s.length;m++)l|=BigInt(s[m])<<8n*BigInt(m);return r&&l&u&&(l=(l^u)-u),mCe(n,l,8n*i,!!r),l}}),upn=Bu(32,!0),yCe=Bu(32,!1),fpn=Bu(32,!0,!0),lpn=Bu(32,!1,!0),dpn=Bu(16,!0),hpn=Bu(16,!1),ppn=Bu(16,!0,!0),mpn=Bu(16,!1,!0),U5=Bu(8,!0),ypn=Bu(8,!1),gCe=Bu(8,!0,!0),gpn=Bu(8,!1,!0),Dh=(t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return F5(Bu(t,e,r),ZA.number)},ri=Dh(4,!0),bCe=Dh(4,!1),QA=Dh(4,!0,!0),bpn=Dh(4,!1,!0),kre=Dh(2,!0),vpn=Dh(2,!1),xpn=Dh(2,!0,!0),wpn=Dh(2,!1,!0),xp=Dh(1,!1),Spn=Dh(1,!1,!0),Apn=zo({size:1,encodeStream:(t,e)=>t.byte(e?1:0),decodeStream:t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1}}),Ci=(t,e=!1)=>zo({size:typeof t=="number"?t:void 0,encodeStream:(r,n)=>{if(!Cu(n))throw r.err(`bytes: invalid value ${n}`);Cu(t)||r.length(t,n.length),r.bytes(e?JN(n):n),Cu(t)&&r.bytes(t)},decodeStream:r=>{let n;if(Cu(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?JN(n):n}}),L5=(t,e=!1)=>{let r=Ci(t,e);return zo({size:r.size,encodeStream:(n,i)=>r.encodeStream(n,Mre.decode(i)),decodeStream:n=>Mre.encode(r.decodeStream(n))})},Epn=L5(eU),vCe=(t,e=!1,r=!1)=>{let n=Ci(t,e);return zo({size:n.size,encodeStream:(i,o)=>{if(r&&!o.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let s=ji.decode(r?o.slice(2):o);return n.encodeStream(i,s)},decodeStream:i=>(r?"0x":"")+ji.encode(n.decodeStream(i))})};function F5(t,e){if(!Ig(t))throw new Error(`apply: invalid inner value ${t}`);return zo({size:t.size,encodeStream:(r,n)=>{let i;try{i=e.decode(n)}catch(o){throw r.err(""+o)}return t.encodeStream(r,i)},decodeStream:r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}}})}function Yf(t,e){if(!Ig(t))throw new Error(`validate: invalid inner value ${t}`);return zo({size:t.size,encodeStream:(r,n)=>t.encodeStream(r,e(n)),decodeStream:r=>e(t.decodeStream(r))})}var xCe=(t,e=!1)=>zo({size:t.length,encodeStream:(r,n)=>{!!n!==e&&r.bytes(t)},decodeStream:r=>{let n=r.leftBytes>=t.length;return n&&(n=vi(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e}});function wCe(t,e,r){if(!Ig(e))throw new Error(`flagged: invalid inner value ${e}`);return zo({encodeStream:(n,i)=>{typeof t=="string"?XN(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},decodeStream:n=>{let i=!1;if(typeof t=="string"?i=XN(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)}})}function K5(t,e,r=!0){if(!Ig(t))throw new Error(`flagged: invalid inner value ${t}`);return zo({size:t.size,encodeStream:(n,i)=>t.encodeStream(n,e),decodeStream:n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||Cu(e)&&!vi(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)}})}function SCe(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}function Ra(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return zo({size:SCe(Object.values(t)),encodeStream:(e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r}})}function ACe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return zo({size:SCe(t),encodeStream:(e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r}})}function ECe(t,e){if(!Ig(e))throw new Error(`prefix: invalid inner value ${e}`);if(Cu(t))throw new Error("prefix: len cannot be Uint8Array");let r=Ci(t);return zo({size:typeof t=="number"?t:void 0,encodeStream:(n,i)=>{let o=new QN(n.path,n.fieldPath);e.encodeStream(o,i),r.encodeStream(n,o.buffer)},decodeStream:n=>{let i=r.decodeStream(n);return e.decodeStream(new ZN(i,n.path,n.fieldPath))}})}function ic(t,e){if(!Ig(e))throw new Error(`array: invalid inner value ${e}`);return zo({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:(r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);Cu(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let o=n[i],s=r.pos;if(e.encodeStream(r,o),Cu(t)){if(t.length>r.pos-s)continue;let u=r.buffer.subarray(s,r.pos);if(vi(u.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${o} data=${u}`)}r.fieldPathPop()}r.path.pop(),Cu(t)&&r.bytes(t)},decodeStream:r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(Cu(t)){let i=0;for(r.path.push(n);;){if(vi(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let o=0;o<i;o++)r.fieldPathPush(""+o),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n}})}var _pn=K5(Ci(0),zi);var{ProjectivePoint:uU,sign:_Ce,getPublicKey:PPt}=$A,iU=$A.CURVE.n,V5=(t,e)=>t===void 0?e:t,Oi=Cu,fU=t=>sCe(Pa(t)),Mg=(...t)=>Pa(Pa(kg(...t))),kg=YN,FCe=hCe(Pa);function oU(t){if(Array.isArray(t))return t.map(e=>oU(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,oU(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}var Ca;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(Ca||(Ca={}));function tE(t,e){let r=t.length;if(e===Ca.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return uU.fromHex(t),t}else if(e===Ca.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return Ru.utils.lift_x(Ru.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}function Yv(t,e){try{return tE(t,e),!0}catch{return!1}}var TCe=t=>t.r<iU/2n;function RPt(t,e,r=!1){let n=_Ce(t,e);if(r&&!TCe(n)){let i=new Uint8Array(32);for(let o=0;o<Number.MAX_SAFE_INTEGER&&(i.set(ri.encode(o)),n=_Ce(t,e,{extraEntropy:i}),!TCe(n));o++);}return n.toDERRawBytes()}function KCe(t,e){let r=Ru.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=iU)throw new Error("tweak higher than curve order");return i}function CPt(t,e=new Uint8Array){let r=Ru.utils,n=r.bytesToNumberBE(t),i=uU.fromPrivateKey(n),o=i.hasEvenY()?n:r.mod(-n,iU),s=r.pointToBytes(i),u=KCe(s,e);return r.numberToBytesBE(r.mod(o+u,iU),32)}function qCe(t,e){let r=Ru.utils,n=KCe(t,e),o=r.lift_x(r.bytesToNumberBE(t)).add(uU.fromPrivateKey(n)),s=o.hasEvenY()?0:1;return[r.pointToBytes(o),s]}var Ore=Yf(Ci(null),t=>tE(t,Ca.ecdsa)),sU=Yf(Ci(32),t=>tE(t,Ca.schnorr)),ICe=Yf(Ci(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var Pg={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var BPt=8,OPt=2,$v=0,VCe=4294967295,tU=new Uint8Array(32),Cpn=ZA.decimal(BPt);function Dre(t,e){if(!Oi(t)||!Oi(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}var Wo;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(Wo||(Wo={}));var Go=zo({encodeStream:(t,e)=>{for(let r of e){if(typeof r=="string"){if(Wo[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(Wo[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(Wo.OP_1-1+r);continue}}if(typeof r=="number"&&(r=HCe().encode(BigInt(r))),!Oi(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<Wo.PUSHDATA1?t.byte(n):n<=255?(t.byte(Wo.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(Wo.PUSHDATA2),t.bytes(kre.encode(n))):(t.byte(Wo.PUSHDATA4),t.bytes(ri.encode(n))),t.bytes(r)}},decodeStream:t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(Wo.OP_0<r&&r<=Wo.PUSHDATA4){let n;if(r<Wo.PUSHDATA1)n=r;else if(r===Wo.PUSHDATA1)n=xp.decodeStream(t);else if(r===Wo.PUSHDATA2)n=kre.decodeStream(t);else if(r===Wo.PUSHDATA4)n=ri.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(Wo.OP_1<=r&&r<=Wo.OP_16)e.push(r-(Wo.OP_1-1));else{let n=Wo[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e}});function HCe(t=6,e=!1){return zo({encodeStream:(r,n)=>{if(n===0n)return;let i=n<0,o=BigInt(n),s=[];for(let u=i?-o:o;u;u>>=8n)s.push(Number(u&0xffn));s[s.length-1]>=128?s.push(i?128:0):i&&(s[s.length-1]|=128),r.bytes(new Uint8Array(s))},decodeStream:r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,o=0n;for(let s=0;s<n;++s)i=r.byte(),o|=BigInt(i)<<8n*BigInt(s);return i>=128&&(o&=2n**BigInt(n*8)-1n>>1n,o=-o),o}})}function DPt(t,e=4,r=!0){if(typeof t=="number")return t;if(Oi(t))try{let n=HCe(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}var MCe={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},lU=zo({encodeStream:(t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,o]of Object.values(MCe))if(!(i>e||e>o)){t.byte(r);for(let s=0;s<n;s++)t.byte(Number(e>>8n*BigInt(s)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},decodeStream:t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=MCe[e],o=0n;for(let s=0;s<n;s++)o|=BigInt(t.byte())<<8n*BigInt(s);if(o<i)throw t.err(`Wrong CompactSize(${8*n})`);return o}}),od=F5(lU,ZA.number),kCe=t=>ic(lU,t),id=Ci(lU),NPt=Ra({txid:Ci(32,!0),index:ri,finalScriptSig:id,sequence:ri}),XA=Ra({amount:U5,script:id}),UPt={amount:0xffffffffffffffffn,script:zi},Hre=ic(od,id),LPt=Ra({version:QA,segwitFlag:xCe(new Uint8Array([0,1])),inputs:kCe(NPt),outputs:kCe(XA),witnesses:wCe("segwitFlag",ic("inputs/length",Hre)),lockTime:ri});function FPt(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}var Nh=Yf(LPt,FPt);function Nre(t){let[e,r,n,i,o,s]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:o,silentIgnore:s}}var dU=Ra({fingerprint:bCe,path:ic(null,ri)}),KPt=Ra({version:xp,internalKey:Ci(32),merklePath:ic(null,Ci(32))}),eE=Yf(KPt,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),jCe=Ra({hashes:ic(od,Ci(32)),der:dU}),qPt=Ci(78),VPt=Ra({pubKey:sU,leafHash:Ci(32)}),HPt=ic(null,Ra({depth:xp,version:xp,script:id})),$o=Ci(null),PCe=Ci(20),q5=Ci(32),jre={unsignedTx:[0,!1,Nh,[0],[0],!1],xpub:[1,qPt,dU,[],[0,2],!1],txVersion:[2,!1,ri,[2],[2],!1],fallbackLocktime:[3,!1,ri,[],[2],!1],inputCount:[4,!1,od,[2],[2],!1],outputCount:[5,!1,od,[2],[2],!1],txModifiable:[6,!1,xp,[],[2],!1],version:[251,!1,ri,[],[0,2],!1],proprietary:[252,$o,$o,[],[0,2],!1]},aU={nonWitnessUtxo:[0,!1,Nh,[],[0,2],!1],witnessUtxo:[1,!1,XA,[],[0,2],!1],partialSig:[2,Ore,$o,[],[0,2],!1],sighashType:[3,!1,ri,[],[0,2],!1],redeemScript:[4,!1,$o,[],[0,2],!1],witnessScript:[5,!1,$o,[],[0,2],!1],bip32Derivation:[6,Ore,dU,[],[0,2],!1],finalScriptSig:[7,!1,$o,[],[0,2],!1],finalScriptWitness:[8,!1,Hre,[],[0,2],!1],porCommitment:[9,!1,$o,[],[0,2],!1],ripemd160:[10,PCe,$o,[],[0,2],!1],sha256:[11,q5,$o,[],[0,2],!1],hash160:[12,PCe,$o,[],[0,2],!1],hash256:[13,q5,$o,[],[0,2],!1],txid:[14,!1,q5,[2],[2],!0],index:[15,!1,ri,[2],[2],!0],sequence:[16,!1,ri,[],[2],!0],requiredTimeLocktime:[17,!1,ri,[],[2],!1],requiredHeightLocktime:[18,!1,ri,[],[2],!1],tapKeySig:[19,!1,ICe,[],[0,2],!1],tapScriptSig:[20,VPt,ICe,[],[0,2],!1],tapLeafScript:[21,eE,$o,[],[0,2],!1],tapBip32Derivation:[22,q5,jCe,[],[0,2],!1],tapInternalKey:[23,!1,sU,[],[0,2],!1],tapMerkleRoot:[24,!1,q5,[],[0,2],!1],proprietary:[252,$o,$o,[],[0,2],!1]},jPt=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],zPt=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],cU={redeemScript:[0,!1,$o,[],[0,2],!1],witnessScript:[1,!1,$o,[],[0,2],!1],bip32Derivation:[2,Ore,dU,[],[0,2],!1],amount:[3,!1,gCe,[2],[2],!0],script:[4,!1,$o,[2],[2],!0],tapInternalKey:[5,!1,sU,[],[0,2],!1],tapTree:[6,!1,HPt,[],[0,2],!1],tapBip32Derivation:[7,sU,jCe,[],[0,2],!1],proprietary:[252,$o,$o,[],[0,2],!1]},WPt=[],RCe=ic(eU,Ra({key:ECe(od,Ra({type:od,key:Ci(null)})),value:Ci(od)})),Bpn=Ra({type:od,key:Ci(null)});function zre(t){let e={};for(let r in t){let[n,i,o]=t[r];e[n]=[r,i,o]}return zo({encodeStream:(r,n)=>{let i=[];for(let o in t){let s=n[o];if(s===void 0)continue;let[u,l,m]=t[o];if(!l)i.push({key:{type:u,key:zi},value:m.encode(s)});else{let x=s.map(([w,E])=>[l.encode(w),m.encode(E)]);x.sort((w,E)=>Dre(w[0],E[0]));for(let[w,E]of x)i.push({key:{key:w,type:u},value:E})}}if(n.unknown){n.unknown.sort((o,s)=>Dre(o[0].key,s[0].key));for(let[o,s]of n.unknown)i.push({key:o,value:s})}RCe.encodeStream(r,i)},decodeStream:r=>{let n=RCe.decodeStream(r),i={},o={};for(let s of n){let u="unknown",l=s.key.key,m=s.value;if(e[s.key.type]){let[x,w,E]=e[s.key.type];if(u=x,!w&&l.length)throw new Error(`PSBT: Non-empty key for ${u} (key=${ji.encode(l)} value=${ji.encode(m)}`);if(l=w?w.decode(l):void 0,m=E.decode(m),!w){if(i[u])throw new Error(`PSBT: Same keys: ${u} (key=${l} value=${m})`);i[u]=m,o[u]=!0;continue}}else l={type:s.key.type,key:s.key.key};if(o[u])throw new Error(`PSBT: Key type with empty key and no key=${u} val=${m}`);i[u]||(i[u]=[]),i[u].push([l,m])}return i}})}function CCe(t,e){if(!vi(t.hash,Pa(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=Yo.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}function Ure(t,e,r){if(t){let n=Yo.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!vi(n.hash,fU(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=Yo.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&CCe(n,r)}if(e){let n=Yo.decode(e);n.type==="wsh"&&r&&CCe(n,r)}}var Wre=Yf(zre(aU),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)tE(e,Ca.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)tE(e,Ca.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!vi(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=Zv.fromRaw(Nh.encode(t.nonWitnessUtxo)),n=ji.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),Gre=Yf(zre(cU),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)tE(e,Ca.ecdsa);return t}),zCe=Yf(zre(jre),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),GPt=Ra({magic:K5(L5(new Uint8Array([255])),"psbt"),global:zCe,inputs:ic("global/unsignedTx/inputs/length",Wre),outputs:ic(null,Gre)}),$Pt=Ra({magic:K5(L5(new Uint8Array([255])),"psbt"),global:zCe,inputs:ic("global/inputCount",Wre),outputs:ic("global/outputCount",Gre)}),Opn=Ra({magic:K5(L5(new Uint8Array([255])),"psbt"),items:ic(null,F5(ic(eU,ACe([vCe(od),Ci(lU)])),ZA.dict()))});function Pre(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=Nre(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=Nre(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}function BCe(t,e,r){let n={};for(let i in r){let o=i;if(o!=="unknown"){if(!e[o])continue;let{allowInc:s,silentIgnore:u}=Nre(e[o]);if(!s.includes(t)){if(u)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${o} but versions allows inclusion=${s}`)}}n[o]=r[o]}return n}function WCe(t){let e=t&&t.global&&t.global.version||0;Pre(e,jre,t.global);for(let s of t.inputs)Pre(e,aU,s);for(let s of t.outputs)Pre(e,cU,s);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let o=t.outputs.slice(i);if(o.length>1||o.length&&Object.keys(o[0]).length)throw new Error(`Unexpected outputs left in tx=${o}`);return t}function Rre(t,e,r,n){let i={...r,...e};for(let o in t){let s=o,[u,l,m]=t[s],x=n&&!n.includes(o);if(e[o]===void 0&&o in e){if(x)throw new Error(`Cannot remove signed field=${o}`);delete i[o]}else if(l){let w=r&&r[o]?r[o]:[],E=e[s];if(E){if(!Array.isArray(E))throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);E=E.map(k=>{if(k.length!==2)throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);return[typeof k[0]=="string"?l.decode(ji.decode(k[0])):k[0],typeof k[1]=="string"?m.decode(ji.decode(k[1])):k[1]]});let I={},M=(k,C,R)=>{if(I[k]===void 0){I[k]=[C,R];return}let L=ji.encode(m.encode(I[k][1])),P=ji.encode(m.encode(R));if(L!==P)throw new Error(`keyMap(${s}): same key=${k} oldVal=${L} newVal=${P}`)};for(let[k,C]of w){let R=ji.encode(l.encode(k));M(R,k,C)}for(let[k,C]of E){let R=ji.encode(l.encode(k));if(C===void 0){if(x)throw new Error(`Cannot remove signed field=${s}/${k}`);delete I[R]}else M(R,k,C)}i[s]=Object.values(I)}}else if(typeof i[o]=="string")i[o]=m.decode(ji.decode(i[o]));else if(x&&o in e&&r&&r[o]!==void 0&&!vi(m.encode(e[o]),m.encode(r[o])))throw new Error(`Cannot change signed field=${o}`)}for(let o in i)t[o]||delete i[o];return i}var OCe=Yf(GPt,WCe),DCe=Yf($Pt,WCe),Cre=Ra({txid:Ci(32,!0),index:ri}),YPt={encode(t){if(!(t.length!==2||!Oi(t[0])||!Yv(t[0],Ca.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0};var ZPt={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Oi(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0};var QPt={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Oi(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0},GCe=(t,e=Pg)=>{let r=t.script;if(!Oi(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=fU(r),i=Yo.encode({type:"sh",hash:n});Ure(i,r,t.witnessScript);let o={type:"sh",redeemScript:r,script:Yo.encode({type:"sh",hash:n}),address:hU(e).encode({type:"sh",hash:n})};return t.witnessScript&&(o.witnessScript=t.witnessScript),o},JPt={encode(t){if(!(t.length!==2||t[0]!==0||!Oi(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:t=>t.type==="wsh"?[0,t.hash]:void 0};var XPt={encode(t){if(!(t.length!==2||t[0]!==0||!Oi(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:t=>t.type==="wpkh"?[0,t.hash]:void 0},$re=(t,e=Pg)=>{if(!Yv(t,Ca.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=fU(t);return{type:"wpkh",script:Yo.encode({type:"wpkh",hash:r}),address:hU(e).encode({type:"wpkh",hash:r})}},e7t={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let o of i)if(!Oi(o))return;return{type:"ms",m:r,pubkeys:i}}},decode:t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0};var t7t={encode(t){if(!(t.length!==2||t[0]!==1||!Oi(t[1])))return{type:"tr",pubkey:t[1]}},decode:t=>t.type==="tr"?[1,t.pubkey]:void 0};function r7t(t){let e=Array.from(t);for(;e.length>=2;){e.sort((s,u)=>(u.weight||1)-(s.weight||1));let n=e.pop(),i=e.pop(),o=(i?.weight||1)+(n?.weight||1);e.push({weight:o,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}function n7t(t,e,r=!1){let n=Yo.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let o of i.pubkeys){if(vi(o,$Ce))throw new Error("Unspendable taproot key in leaf script");if(vi(o,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function Lre(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:u,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!vi(t.tapMerkleRoot,zi))throw new Error("P2TR: tapRoot leafScript cannot have tree");let m=typeof l=="string"?ji.decode(l):l;if(!Oi(m))throw new Error(`checkScript: wrong script type=${m}`);return n7t(m,e,r),{type:"leaf",version:u,script:m,hash:nU(m,u)}}if(t.length!==2&&(t=r7t(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=Lre(t[0],e,r),i=Lre(t[1],e,r),[o,s]=[n.hash,i.hash];return Dre(s,o)===-1&&([o,s]=[s,o]),{type:"branch",left:n,right:i,hash:Ru.utils.taggedHash("TapBranch",o,s)}}function Fre(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:Fre(t.left,[t.right.hash,...e]),right:Fre(t.right,[t.left.hash,...e])}}function Kre(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...Kre(t.left),...Kre(t.right)]}var $Ce=Pa(uU.BASE.toRawBytes(!1));function YCe(t,e,r=Pg,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?ji.decode(t):t||$Ce;if(!Yv(i,Ca.schnorr))throw new Error("p2tr: non-schnorr pubkey");let o=e?Fre(Lre(e,i,n)):void 0,s=o?o.hash:void 0,[u,l]=qCe(i,s||zi),m;o&&(m=Kre(o).map(E=>({...E,controlBlock:eE.encode({version:(E.version||Vre)+l,internalKey:i,merklePath:E.path})})));let x;m&&(x=m.map(E=>[eE.decode(E.controlBlock),kg(E.script,new Uint8Array([E.version||Vre]))]));let w={type:"tr",script:Yo.encode({type:"tr",pubkey:u}),address:hU(r).encode({type:"tr",pubkey:u}),tweakedPubkey:u,tapInternalKey:i};return m&&(w.leaves=m),x&&(w.tapLeafScript=x),s&&(w.tapMerkleRoot=s),w}var i7t={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Oi(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e}};var o7t={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=DPt(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let o=t[i];if(i&1){if(o!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Oi(o))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(o)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e}};var s7t={encode(t){return{type:"unknown",script:Go.encode(t)}},decode:t=>t.type==="unknown"?Go.decode(t.script):void 0},a7t=[YPt,ZPt,QPt,JPt,XPt,e7t,t7t,i7t,o7t,s7t],c7t=F5(Go,ZA.match(a7t)),Yo=Yf(c7t,t=>{if(t.type==="pk"&&!Yv(t.pubkey,Ca.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Oi(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Oi(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Oi(t.pubkey)||!Yv(t.pubkey,Ca.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!Yv(r,Ca.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!Yv(e,Ca.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function ZCe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}function Bre(t,e,r=Pg){ZCe(t,e);let n=t===0?$N:Ire;return n.encode(r.bech32,[t].concat(n.toWords(e)))}function NCe(t,e){return FCe.encode(kg(Uint8Array.from(e),t))}function hU(t=Pg){return{encode(e){let{type:r}=e;if(r==="wpkh")return Bre(0,e.hash,t);if(r==="wsh")return Bre(0,e.hash,t);if(r==="tr")return Bre(1,e.pubkey,t);if(r==="pkh")return NCe(e.hash,[t.pubKeyHash]);if(r==="sh")return NCe(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=$N.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=Ire.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...o]=n.words,s=$N.fromWords(o);if(ZCe(i,s),i===0&&s.length===32)return{type:"wsh",hash:s};if(i===0&&s.length===20)return{type:"wpkh",hash:s};if(i===1&&s.length===32)return{type:"tr",pubkey:s};throw new Error("Unknown witness program")}let r=FCe.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}var Bi;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Bi||(Bi={}));var qre;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(qre||(qre={}));function u7t(t){if(typeof t!="number"||typeof qre[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}function UCe(t){let e=t&31;return{isAny:!!(t&Bi.ANYONECANPAY),isNone:e===Bi.NONE,isSingle:e===Bi.SINGLE}}function rU(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:V5(t.sequence,VCe),finalScriptSig:V5(t.finalScriptSig,zi)}}function LCe(t){for(let e in t){let r=e;jPt.includes(r)||delete t[r]}}function JA(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}var Vre=192,nU=(t,e=Vre)=>Ru.utils.taggedHash("TapLeaf",new Uint8Array([e]),id.encode(t));function f7t(t,e,r,n=zi){return vi(r,e)&&(t=CPt(t,n),e=Ru.getPublicKey(t)),{privKey:t,pubKey:e}}var l7t={}.toString;function d7t(t){if(t!==void 0&&l7t.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:V5(t.version,OPt),lockTime:V5(t.lockTime,0),PSBTVersion:V5(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(ri.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}var Zv=class t{constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=d7t(e);r.lockTime!==$v&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=Nh.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let o of n.outputs)i.addOutput(o);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let o=0;o<n.witnesses.length;o++)i.inputs[o].finalScriptWitness=n.witnesses[o];return i}static fromPSBT(e,r={}){let n;try{n=OCe.decode(e)}catch(w){try{n=DCe.decode(e)}catch{throw w}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let o=n.global.unsignedTx,s=i===0?o?.version:n.global.txVersion,u=i===0?o?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:s,lockTime:u,PSBTVersion:i}),m=i===0?o?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,m).map((w,E)=>({finalScriptSig:zi,...n.global.unsignedTx?.inputs[E],...w}));let x=i===0?o?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,x).map((w,E)=>({...w,...n.global.unsignedTx?.outputs[E]})),l.global={...n.global,txVersion:s},u!==$v&&(l.global.fallbackLocktime=u),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(o=>BCe(e,aU,o));for(let o of r)o.partialSig&&!o.partialSig.length&&delete o.partialSig,o.finalScriptSig&&!o.finalScriptSig.length&&delete o.finalScriptSig,o.finalScriptWitness&&!o.finalScriptWitness.length&&delete o.finalScriptWitness;let n=this.outputs.map(o=>BCe(e,cU,o)),i={...this.global};return e===0?(i.unsignedTx=Nh.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===$v&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?OCe:DCe).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=$v,r=0,n=$v,i=0;for(let o of this.inputs)o.requiredHeightLocktime&&(e=Math.max(e,o.requiredHeightLocktime),r++),o.requiredTimeLocktime&&(n=Math.max(n,o.requiredTimeLocktime),i++);return r&&r>=i?e:n!==$v?n:this.global.fallbackLocktime||$v}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===Bi.DEFAULT?Bi.ALL:r&3;return{sigInputs:r&Bi.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let o=0;o<this.inputs.length;o++){if(this.inputStatus(o)==="unsigned")continue;let{sigInputs:u,sigOutputs:l}=this.inputSighash(o);if(u===Bi.ANYONECANPAY?n.push(o):e=!1,l===Bi.ALL)r=!1;else if(l===Bi.SINGLE)i.push(o);else if(l!==Bi.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(JA);this.hasWitnesses&&(e+=2),e+=4*od.encode(this.inputs.length).length,e+=4*od.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*id.encode(n.finalScriptSig||zi).length;for(let n of r)e+=32+4*id.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=Hre.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return Nh.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(rU).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||zi})),outputs:this.outputs.map(JA),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return ji.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return ji.encode(Mg(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return ji.encode(Mg(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),oU(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:o}=e;typeof i=="string"&&(i=ji.decode(i)),Oi(i)&&(i=Nh.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof o=="string"&&(o=ji.decode(o)),o===void 0&&(o=r?.txid);let s={...r,...e,nonWitnessUtxo:i,txid:o};s.nonWitnessUtxo===void 0&&delete s.nonWitnessUtxo,s.sequence===void 0&&(s.sequence=VCe),s.tapMerkleRoot===null&&delete s.tapMerkleRoot,s=Rre(aU,s,r,n),Wre.encode(s);let u;return s.nonWitnessUtxo&&s.index!==void 0?u=s.nonWitnessUtxo.outputs[s.index]:s.witnessUtxo&&(u=s.witnessUtxo),u&&!this.opts.disableScriptCheck&&Ure(u&&u.script,s.redeemScript,s.witnessScript),s}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addInput||o.inputs.includes(e))&&(i=zPt)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),oU(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:o}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof o=="string"&&(o=ji.decode(o)),o===void 0&&(o=r?.script);let s={...r,...e,amount:i,script:o};if(s.amount===void 0&&delete s.amount,s=Rre(cU,s,r,n),Gre.encode(s),s.script&&!this.opts.allowUnknownOutputs&&Yo.decode(s.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||Ure(s.script,s.redeemScript,s.witnessScript),s}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addOutput||o.outputs.includes(e))&&(i=WPt)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=Pg){return this.addOutput({script:Yo.encode(hU(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(JA);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:o,isSingle:s}=UCe(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(s&&e>=this.outputs.length||e>=this.inputs.length)return yCe.encode(1n);r=Go.encode(Go.decode(r).filter(x=>x!=="CODESEPARATOR"));let u=this.inputs.map(rU).map((x,w)=>({...x,finalScriptSig:w===e?r:zi}));i?u=[u[e]]:(o||s)&&(u=u.map((x,w)=>({...x,sequence:w===e?x.sequence:0})));let l=this.outputs.map(JA);o?l=[]:s&&(l=l.slice(0,e).fill(UPt).concat([l[e]]));let m=Nh.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:u,outputs:l});return Mg(m,QA.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:o,isNone:s,isSingle:u}=UCe(n),l=tU,m=tU,x=tU,w=this.inputs.map(rU),E=this.outputs.map(JA);o||(l=Mg(...w.map(Cre.encode))),!o&&!u&&!s&&(m=Mg(...w.map(M=>ri.encode(M.sequence)))),!u&&!s?x=Mg(...E.map(XA.encode)):u&&e<E.length&&(x=Mg(XA.encode(E[e])));let I=w[e];return Mg(QA.encode(this.version),l,m,Ci(32,!0).encode(I.txid),ri.encode(I.index),id.encode(r),U5.encode(i),ri.encode(I.sequence),x,ri.encode(this.lockTime),ri.encode(n))}preimageWitnessV1(e,r,n,i,o=-1,s,u=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let m=[xp.encode(0),xp.encode(n),QA.encode(this.version),ri.encode(this.lockTime)],x=n===Bi.DEFAULT?Bi.ALL:n&3,w=n&Bi.ANYONECANPAY,E=this.inputs.map(rU),I=this.outputs.map(JA);w!==Bi.ANYONECANPAY&&m.push(...[E.map(Cre.encode),i.map(U5.encode),r.map(id.encode),E.map(k=>ri.encode(k.sequence))].map(k=>Pa(kg(...k)))),x===Bi.ALL&&m.push(Pa(kg(...I.map(XA.encode))));let M=(l?1:0)|(s?2:0);if(m.push(new Uint8Array([M])),w===Bi.ANYONECANPAY){let k=E[e];m.push(Cre.encode(k),U5.encode(i[e]),id.encode(r[e]),ri.encode(k.sequence))}else m.push(ri.encode(e));return M&1&&m.push(Pa(id.encode(l||zi))),x===Bi.SINGLE&&m.push(e<I.length?Pa(XA.encode(I[e])):tU),s&&m.push(nU(s,u),xp.encode(0),QA.encode(o)),Ru.utils.taggedHash("TapSighash",...m)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=Bi.ALL,i=this.prevOut(e),o=Yo.decode(i.script),s=o.type,u=o,l=[o];if(o.type==="tr")return n=Bi.DEFAULT,{txType:"taproot",type:"tr",last:o,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((o.type==="wpkh"||o.type==="wsh")&&(r="segwit"),o.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let E=Yo.decode(e.redeemScript);(E.type==="wpkh"||E.type==="wsh")&&(r="segwit"),l.push(E),u=E,s+=`-${E.type}`}if(u.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let E=Yo.decode(e.witnessScript);E.type==="wsh"&&(r="segwit"),l.push(E),u=E,s+=`-${E.type}`}let m=l[l.length-1];if(m.type==="sh"||m.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let x=Yo.encode(m),w={type:s,txType:r,last:m,lastScript:x,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return w}}signIdx(e,r,n,i){this.checkInputIdx(r);let o=this.inputs[r],s=this.inputType(o);if(!Oi(e)){if(!o.bip32Derivation||!o.bip32Derivation.length)throw new Error("bip32Derivation: empty");let x=o.bip32Derivation.filter(E=>E[1].fingerprint==e.fingerprint).map(([E,{path:I}])=>{let M=e;for(let k of I)M=M.deriveChild(k);if(!vi(M.publicKey,E))throw new Error("bip32Derivation: wrong pubKey");if(!M.privateKey)throw new Error("bip32Derivation: no privateKey");return M});if(!x.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let w=!1;for(let E of x)this.signIdx(E.privateKey,r)&&(w=!0);return w}n?n.forEach(u7t):n=[s.defaultSighash];let u=s.sighash;if(!n.includes(u))throw new Error(`Input with not allowed sigHash=${u}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===Bi.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let m=this.prevOut(o);if(s.txType==="taproot"){if(o.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let x=this.inputs.map(this.prevOut),w=x.map(C=>C.script),E=x.map(C=>C.amount),I=!1,M=Ru.getPublicKey(e),k=o.tapMerkleRoot||zi;if(o.tapInternalKey){let{pubKey:C,privKey:R}=f7t(e,M,o.tapInternalKey,k),[L,P]=qCe(o.tapInternalKey,k);if(vi(L,C)){let K=this.preimageWitnessV1(r,w,u,E),V=kg(Ru.sign(K,R,i),u!==Bi.DEFAULT?new Uint8Array([u]):zi);this.updateInput(r,{tapKeySig:V},!0),I=!0}}if(o.tapLeafScript){o.tapScriptSig=o.tapScriptSig||[];for(let[C,R]of o.tapLeafScript){let L=R.subarray(0,-1),P=Go.decode(L),K=R[R.length-1],V=nU(L,K);if(P.findIndex(oe=>Oi(oe)&&vi(oe,M))===-1)continue;let ne=this.preimageWitnessV1(r,w,u,E,void 0,L,K),J=kg(Ru.sign(ne,e,i),u!==Bi.DEFAULT?new Uint8Array([u]):zi);this.updateInput(r,{tapScriptSig:[[{pubKey:M,leafHash:V},J]]},!0),I=!0}}if(!I)throw new Error("No taproot scripts signed");return!0}else{let x=PPt(e),w=!1,E=fU(x);for(let k of Go.decode(s.lastScript))Oi(k)&&(vi(k,x)||vi(k,E))&&(w=!0);if(!w)throw new Error(`Input script doesn't have pubKey: ${s.lastScript}`);let I;if(s.txType==="legacy")I=this.preimageLegacy(r,s.lastScript,u);else if(s.txType==="segwit"){let k=s.lastScript;s.last.type==="wpkh"&&(k=Yo.encode({type:"pkh",hash:s.last.hash})),I=this.preimageWitnessV0(r,k,u,m.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${s.txType}`);let M=RPt(I,e,this.opts.lowR);this.updateInput(r,{partialSig:[[x,kg(M,new Uint8Array([u]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let o=0;o<this.inputs.length;o++)try{this.signIdx(e,o,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((m,x)=>eE.encode(m[0]).length-eE.encode(x[0]).length);for(let[m,x]of l){let w=x.slice(0,-1),E=x[x.length-1],I=Yo.decode(w),M=nU(w,E),k=r.tapScriptSig.filter(R=>vi(R[0].leafHash,M)),C=[];if(I.type==="tr_ms"){let R=I.m,L=I.pubkeys,P=0;for(let K of L){let V=k.findIndex(j=>vi(j[0].pubKey,K));if(P===R||V===-1){C.push(zi);continue}C.push(k[V][1]),P++}if(P!==R)continue}else if(I.type==="tr_ns"){for(let R of I.pubkeys){let L=k.findIndex(P=>vi(P[0].pubKey,R));L!==-1&&C.push(k[L][1])}if(C.length!==I.pubkeys.length)continue}else if(I.type==="unknown"&&this.opts.allowUnknownInputs){let R=Go.decode(w);if(C=k.map(([{pubKey:L},P])=>{let K=R.findIndex(V=>Oi(V)&&vi(V,L));if(K===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:P,pos:K}}).sort((L,P)=>L.pos-P.pos).map(L=>L.signature),!C.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=C.reverse().concat([w,eE.encode(m)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=zi,LCe(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=zi,o=[];if(n.last.type==="ms"){let l=n.last.m,m=n.last.pubkeys,x=[];for(let w of m){let E=r.partialSig.find(I=>vi(w,I[0]));E&&x.push(E[1])}if(x=x.slice(0,l),x.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${m.length} signatures=${x.length}`);i=Go.encode([0,...x])}else if(n.last.type==="pk")i=Go.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Go.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=zi,o=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let s,u;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(o=Go.decode(i).map(l=>{if(l===0)return zi;if(Oi(l))return l;throw new Error(`Wrong witness op=${l}`)})),o=o.concat(n.lastScript)),n.txType==="segwit"&&(u=o),n.type.startsWith("sh-wsh-")?s=Go.encode([Go.encode([0,Pa(n.lastScript)])]):n.type.startsWith("sh-")?s=Go.encode([...Go.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(s=i),!s&&!u)throw new Error("Unknown error finalizing input");s&&(r.finalScriptSig=s),u&&(r.finalScriptWitness=u),LCe(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?Nh.encode(this.global.unsignedTx):zi,n=e.global.unsignedTx?Nh.encode(e.global.unsignedTx):zi;if(!vi(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=Rre(jre,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};var QCe=qe(B_()),Yre=qe(DW());var Zre=t=>t.length===32?t:t.slice(1,33);function p7t(t){return jc.Buffer.concat([(0,Yre.encode)(t.byteLength),t])}function m7t(t){let{sha256:e}=QCe.crypto,n=e(jc.Buffer.from("BIP0322-signed-message"));return e(jc.Buffer.concat([n,n,jc.Buffer.from(t)])).toString("hex")}var y7t=(t,e)=>{switch(t){case"bip122_p2tr":return Yye.getPublicKey(e);case"bip122_p2sh":return v0(e,!0);case"bip122_p2wpkh":return v0(e,!0);default:throw new Error("Unsupported Address Type")}},g7t=(t,e)=>{let r=Pg;switch(t){case"bip122_p2tr":return YCe(e,void 0,r);case"bip122_p2wpkh":return $re(e,r);case"bip122_p2sh":{let n=$re(e,r);return GCe(n,r)}default:throw new Error("Unsupported Address Type")}};function b7t(t,e,r,n){let i=Zv.fromPSBT(r,{allowUnknownInputs:!0});try{e.forEach(o=>{let s=ky("bip122:000000000019d6689c085ae165831e93",o.address),u=t[s];if(!u)throw new Error("missing private key for ("+s+")");let{publicKey:l,privateKey:m}=u;o.signingIndexes.forEach(x=>{let w=i.getInput(x),E=w.witnessUtxo?.script&&Yo.decode(w.witnessUtxo.script);if(!o.isScriptSpend&&!w.tapInternalKey&&E?.type==="tr"&&i.updateInput(x,{tapInternalKey:Zre(jc.Buffer.from(l))}),o.sigHash)try{i.signIdx(m,x,[o.sigHash],Um(32))}catch{i.signIdx(m,x,void 0,Um(32))}else i.signIdx(m,x,void 0,Um(32));if(n)try{i.finalizeIdx(x)}catch{}})})}catch(o){throw console.error(o),new Error(`Error signing PSBT ${o.toString()}`)}return Promise.resolve(i.toPSBT(0))}var JCe=()=>({type:"keyPair",sign:async(t,e)=>{try{switch(e.signingType){case"message":{let r=e.chainType,n=jc.Buffer.from(e.message).toString("utf8"),i=t[e.chainType]?.privateKey;if(!i)throw new Error("missing private key for ("+e.chainType+")");let o=jc.Buffer.from(i).toString("hex"),s=y7t(r,o),u=g7t(r,s),l=jc.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),m=0,x=4294967295,w=0,E=Go.encode(["OP_0",jc.Buffer.from(m7t(n),"hex")]),I=new Zv({allowUnknownOutputs:!0,version:m});I.addOutput({amount:BigInt(0),script:u.script}),I.addInput({txid:l,index:x,sequence:w,finalScriptSig:E});let M=new Zv({allowUnknownOutputs:!0,version:m});M.addInput({txid:I.id,index:0,sequence:w,tapInternalKey:r==="bip122_p2tr"?s:void 0,witnessUtxo:{script:u.script,amount:BigInt(0)},redeemScript:u.redeemScript}),M.addOutput({script:Go.encode(["RETURN"]),amount:BigInt(0)}),M.sign(jc.Buffer.from(o,"hex"),void 0,Um(32)),M.finalize();let k=null,C=M.getInput(0);if(C.finalScriptWitness?.length){let R=(0,Yre.encode)(C.finalScriptWitness?.length);k=jc.Buffer.concat([R,...C.finalScriptWitness.map(L=>p7t(L))])}else throw new Error("couldnt produce a signature");return{status:"success",signature:k.toString("hex"),message:M.toBytes()}}case"transaction":{let r=await b7t(t,e.inputsToSign??[],jc.Buffer.from(e.message??"","hex"),e.finalize??!1);return{status:"success",signature:jc.Buffer.from(r).toString("hex")}}}}catch{return kr("internalError")}}});d();h();var eBe=qe(Da()),tBe=qe(us());d();h();var XCe=qe(Da());function pU(t,e,r){if(r!=="solana")return kr("invalidAddressType");if(t instanceof Uint8Array)return t;try{return e==="transaction"?XCe.default.decode(t):Buffer.from(t,"utf8")}catch(n){return kr("invalidMessageEncoding",`Failed to decode message: ${n instanceof Error?n.message:"Unknown error"}`)}}var rBe=()=>({type:"keyPair",sign:(t,e)=>{let r=e.data,n=pU(r.message,r.signingType,r.chainType);if("status"in n)return Promise.resolve(n);let i=eBe.default.encode(tBe.default.sign.detached(n,t.privateKey));return Promise.resolve({status:"success",signature:i})}});d();h();var rE=qe(Dn()),nBe=qe(Jo());var Uh=qe(Xte()),iBe=qe(fx());var oBe=()=>({type:"keyPair",sign:(t,e)=>{try{switch(e.signingType){case"typedData":{switch(e.version){case 1:{let r=rE.Buffer.from(t.privateKey.slice()),n=Uh.SignTypedDataVersion.V1,{data:i}=e,o=(0,Uh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=rE.Buffer.from(t.privateKey.slice()),n=Uh.SignTypedDataVersion.V3,i=e.data,o=(0,Uh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=rE.Buffer.from(t.privateKey.slice()),n=Uh.SignTypedDataVersion.V4,i=e.data,o=(0,Uh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=e.message,n=(0,Uh.personalSign)({privateKey:rE.Buffer.from(t.privateKey),data:r});return Promise.resolve({status:"success",signature:n})}case"transaction":{let r=rE.Buffer.from(e.message.replace("0x",""),"hex"),n=new yf(t.privateKey),i=`0x${(0,iBe.keccak256)(r)}`,o=(0,nBe.joinSignature)(n.signDigest(i));return Promise.resolve({status:"success",signature:o})}}}catch(r){return console.error(r),Promise.resolve(kr("invalidMessageEncoding"))}}});d();h();var rx=qe(Dn());d();h();d();h();d();h();d();h();function sBe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function v7t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Qre(t,...e){if(!v7t(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function aBe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sBe(t.outputLen),sBe(t.blockLen)}function nE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cBe(t,e){Qre(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();d();h();var mU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function uBe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var yU=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),sd=(t,e)=>t<<32-e|t>>>e,x7t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!x7t)throw new Error("Non little-endian hardware is not supported");function w7t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function H5(t){if(typeof t=="string"&&(t=w7t(t)),!uBe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function fBe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];if(!uBe(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var iE=class{clone(){return this._cloneInto()}},mmn={}.toString;function lBe(t){let e=n=>t().update(H5(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function dBe(t=32){if(mU&&typeof mU.getRandomValues=="function")return mU.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var gU=class extends iE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,aBe(e);let n=H5(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return nE(this),this.iHash.update(e),this}digestInto(e){nE(this),Qre(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Jre=(t,e,r)=>new gU(t,e).update(r).digest();Jre.create=(t,e)=>new gU(t,e);d();h();d();h();var rne={};BL(rne,{bitGet:()=>M7t,bitLen:()=>I7t,bitMask:()=>j5,bitSet:()=>k7t,bytesToHex:()=>Qv,bytesToNumberBE:()=>Sp,bytesToNumberLE:()=>vU,concatBytes:()=>oE,createHmacDrbg:()=>tne,ensureBytes:()=>Ou,equalBytes:()=>_7t,hexToBytes:()=>Jv,hexToNumber:()=>ene,isBytes:()=>ad,numberToBytesBE:()=>Rg,numberToBytesLE:()=>xU,numberToHexUnpadded:()=>yBe,numberToVarBytesBE:()=>E7t,utf8ToBytes:()=>T7t,validateObject:()=>Cg});d();h();var mBe=BigInt(0),bU=BigInt(1),S7t=BigInt(2);function ad(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var A7t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Qv(t){if(!ad(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=A7t[t[r]];return e}function yBe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function ene(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var wp={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function hBe(t){if(t>=wp._0&&t<=wp._9)return t-wp._0;if(t>=wp._A&&t<=wp._F)return t-(wp._A-10);if(t>=wp._a&&t<=wp._f)return t-(wp._a-10)}function Jv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=hBe(t.charCodeAt(o)),u=hBe(t.charCodeAt(o+1));if(s===void 0||u===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+u}return n}function Sp(t){return ene(Qv(t))}function vU(t){if(!ad(t))throw new Error("Uint8Array expected");return ene(Qv(Uint8Array.from(t).reverse()))}function Rg(t,e){return Jv(t.toString(16).padStart(e*2,"0"))}function xU(t,e){return Rg(t,e).reverse()}function E7t(t){return Jv(yBe(t))}function Ou(t,e,r){let n;if(typeof e=="string")try{n=Jv(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(ad(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function oE(...t){let e=0;for(let i=0;i<t.length;i++){let o=t[i];if(!ad(o))throw new Error("Uint8Array expected");e+=o.length}let r=new Uint8Array(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return r}function _7t(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function T7t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function I7t(t){let e;for(e=0;t>mBe;t>>=bU,e+=1);return e}function M7t(t,e){return t>>BigInt(e)&bU}var k7t=(t,e,r)=>t|(r?bU:mBe)<<BigInt(e),j5=t=>(S7t<<BigInt(t-1))-bU,Xre=t=>new Uint8Array(t),pBe=t=>Uint8Array.from(t);function tne(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Xre(t),i=Xre(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},u=(...w)=>r(i,n,...w),l=(w=Xre())=>{i=u(pBe([0]),w),n=u(),w.length!==0&&(i=u(pBe([1]),w),n=u())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let w=0,E=[];for(;w<e;){n=u();let I=n.slice();E.push(I),w+=n.length}return oE(...E)};return(w,E)=>{s(),l(w);let I;for(;!(I=E(m()));)l();return s(),I}}var P7t={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ad(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Cg(t,e,r={}){let n=(i,o,s)=>{let u=P7t[o];if(typeof u!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=t[i];if(!(s&&l===void 0)&&!u(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Zo=BigInt(0),io=BigInt(1),Xv=BigInt(2),R7t=BigInt(3),nne=BigInt(4),gBe=BigInt(5),bBe=BigInt(8),C7t=BigInt(9),B7t=BigInt(16);function Ba(t,e){let r=t%e;return r>=Zo?r:e+r}function O7t(t,e,r){if(r<=Zo||e<Zo)throw new Error("Expected power/modulo > 0");if(r===io)return Zo;let n=io;for(;e>Zo;)e&io&&(n=n*t%r),t=t*t%r,e>>=io;return n}function Du(t,e,r){let n=t;for(;e-- >Zo;)n*=n,n%=r;return n}function wU(t,e){if(t===Zo||e<=Zo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ba(t,e),n=e,i=Zo,o=io,s=io,u=Zo;for(;r!==Zo;){let m=n/r,x=n%r,w=i-s*m,E=o-u*m;n=r,r=x,i=s,o=u,s=w,u=E}if(n!==io)throw new Error("invert: does not exist");return Ba(i,e)}function D7t(t){let e=(t-io)/Xv,r,n,i;for(r=t-io,n=0;r%Xv===Zo;r/=Xv,n++);for(i=Xv;i<t&&O7t(i,e,t)!==t-io;i++);if(n===1){let s=(t+io)/nne;return function(l,m){let x=l.pow(m,s);if(!l.eql(l.sqr(x),m))throw new Error("Cannot find square root");return x}}let o=(r+io)/Xv;return function(u,l){if(u.pow(l,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let m=n,x=u.pow(u.mul(u.ONE,i),r),w=u.pow(l,o),E=u.pow(l,r);for(;!u.eql(E,u.ONE);){if(u.eql(E,u.ZERO))return u.ZERO;let I=1;for(let k=u.sqr(E);I<m&&!u.eql(k,u.ONE);I++)k=u.sqr(k);let M=u.pow(x,io<<BigInt(m-I-1));x=u.sqr(M),w=u.mul(w,M),E=u.mul(E,x),m=I}return w}}function N7t(t){if(t%nne===R7t){let e=(t+io)/nne;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%bBe===gBe){let e=(t-gBe)/bBe;return function(n,i){let o=n.mul(i,Xv),s=n.pow(o,e),u=n.mul(i,s),l=n.mul(n.mul(u,Xv),s),m=n.mul(u,n.sub(l,n.ONE));if(!n.eql(n.sqr(m),i))throw new Error("Cannot find square root");return m}}return t%B7t,D7t(t)}var U7t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ine(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=U7t.reduce((n,i)=>(n[i]="function",n),e);return Cg(t,r)}function L7t(t,e,r){if(r<Zo)throw new Error("Expected power > 0");if(r===Zo)return t.ONE;if(r===io)return e;let n=t.ONE,i=e;for(;r>Zo;)r&io&&(n=t.mul(n,i)),i=t.sqr(i),r>>=io;return n}function F7t(t,e){let r=new Array(e.length),n=e.reduce((o,s,u)=>t.is0(s)?o:(r[u]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,u)=>t.is0(s)?o:(r[u]=t.mul(o,r[u]),t.mul(o,s)),i),r}function one(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function SU(t,e,r=!1,n={}){if(t<=Zo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=one(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=N7t(t),u=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:j5(i),ZERO:Zo,ONE:io,create:l=>Ba(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Zo<=l&&l<t},is0:l=>l===Zo,isOdd:l=>(l&io)===io,neg:l=>Ba(-l,t),eql:(l,m)=>l===m,sqr:l=>Ba(l*l,t),add:(l,m)=>Ba(l+m,t),sub:(l,m)=>Ba(l-m,t),mul:(l,m)=>Ba(l*m,t),pow:(l,m)=>L7t(u,l,m),div:(l,m)=>Ba(l*wU(m,t),t),sqrN:l=>l*l,addN:(l,m)=>l+m,subN:(l,m)=>l-m,mulN:(l,m)=>l*m,inv:l=>wU(l,t),sqrt:n.sqrt||(l=>s(u,l)),invertBatch:l=>F7t(u,l),cmov:(l,m,x)=>x?m:l,toBytes:l=>r?xU(l,o):Rg(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?vU(l):Sp(l)}});return Object.freeze(u)}function vBe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function sne(t){let e=vBe(t);return e+Math.ceil(e/2)}function AU(t,e,r=!1){let n=t.length,i=vBe(e),o=sne(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Sp(t):vU(t),u=Ba(s,e-io)+io;return r?xU(u,i):Rg(u,i)}d();h();var K7t=BigInt(0),ane=BigInt(1);function wBe(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,u=i;for(;o>K7t;)o&ane&&(s=s.add(u)),u=u.double(),o>>=ane;return s},precomputeWindow(i,o){let{windows:s,windowSize:u}=n(o),l=[],m=i,x=m;for(let w=0;w<s;w++){x=m,l.push(x);for(let E=1;E<u;E++)x=x.add(m),l.push(x);m=x.double()}return l},wNAF(i,o,s){let{windows:u,windowSize:l}=n(i),m=t.ZERO,x=t.BASE,w=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let M=0;M<u;M++){let k=M*l,C=Number(s&w);s>>=I,C>l&&(C-=E,s+=ane);let R=k,L=k+Math.abs(C)-1,P=M%2!==0,K=C<0;C===0?x=x.add(r(P,o[R])):m=m.add(r(K,o[L]))}return{p:m,f:x}},wNAFCached(i,o,s,u){let l=i._WINDOW_SIZE||1,m=o.get(i);return m||(m=this.precomputeWindow(i,l),l!==1&&o.set(i,u(m))),this.wNAF(l,m,s)}}}function cne(t){return ine(t.Fp),Cg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...one(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function q7t(t){let e=cne(t);Cg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:V7t,hexToBytes:H7t}=rne,ex={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=ex;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:V7t(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=ex,r=typeof t=="string"?H7t(t):t;if(!ad(r))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=ex._parseInt(r.subarray(2)),{d:s,l:u}=ex._parseInt(o);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{let x=m.toString(16);return x.length&1?`0${x}`:x},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,u=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${u}${n}`}},Ap=BigInt(0),Zf=BigInt(1),Umn=BigInt(2),SBe=BigInt(3),Lmn=BigInt(4);function j7t(t){let e=q7t(t),{Fp:r}=e,n=e.toBytes||((M,k,C)=>{let R=k.toAffine();return oE(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(M=>{let k=M.subarray(1),C=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:C,y:R}});function o(M){let{a:k,b:C}=e,R=r.sqr(M),L=r.mul(R,M);return r.add(r.add(L,r.mul(M,k)),C)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(M){return typeof M=="bigint"&&Ap<M&&M<e.n}function u(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(M){let{allowedPrivateKeyLengths:k,nByteLength:C,wrapPrivateKey:R,n:L}=e;if(k&&typeof M!="bigint"){if(ad(M)&&(M=Qv(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(C*2,"0")}let P;try{P=typeof M=="bigint"?M:Sp(Ou("private key",M,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof M}`)}return R&&(P=Ba(P,L)),u(P),P}let m=new Map;function x(M){if(!(M instanceof w))throw new Error("ProjectivePoint expected")}class w{constructor(k,C,R){if(this.px=k,this.py=C,this.pz=R,k==null||!r.isValid(k))throw new Error("x required");if(C==null||!r.isValid(C))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required")}static fromAffine(k){let{x:C,y:R}=k||{};if(!k||!r.isValid(C)||!r.isValid(R))throw new Error("invalid affine point");if(k instanceof w)throw new Error("projective point not allowed");let L=P=>r.eql(P,r.ZERO);return L(C)&&L(R)?w.ZERO:new w(C,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let C=r.invertBatch(k.map(R=>R.pz));return k.map((R,L)=>R.toAffine(C[L])).map(w.fromAffine)}static fromHex(k){let C=w.fromAffine(i(Ou("pointHex",k)));return C.assertValidity(),C}static fromPrivateKey(k){return w.BASE.multiply(l(k))}_setWindowSize(k){this._WINDOW_SIZE=k,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:k,y:C}=this.toAffine();if(!r.isValid(k)||!r.isValid(C))throw new Error("bad point: x or y not FE");let R=r.sqr(C),L=o(k);if(!r.eql(R,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){x(k);let{px:C,py:R,pz:L}=this,{px:P,py:K,pz:V}=k,j=r.eql(r.mul(C,V),r.mul(P,L)),ne=r.eql(r.mul(R,V),r.mul(K,L));return j&&ne}negate(){return new w(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:C}=e,R=r.mul(C,SBe),{px:L,py:P,pz:K}=this,V=r.ZERO,j=r.ZERO,ne=r.ZERO,J=r.mul(L,L),oe=r.mul(P,P),S=r.mul(K,K),a=r.mul(L,P);return a=r.add(a,a),ne=r.mul(L,K),ne=r.add(ne,ne),V=r.mul(k,ne),j=r.mul(R,S),j=r.add(V,j),V=r.sub(oe,j),j=r.add(oe,j),j=r.mul(V,j),V=r.mul(a,V),ne=r.mul(R,ne),S=r.mul(k,S),a=r.sub(J,S),a=r.mul(k,a),a=r.add(a,ne),ne=r.add(J,J),J=r.add(ne,J),J=r.add(J,S),J=r.mul(J,a),j=r.add(j,J),S=r.mul(P,K),S=r.add(S,S),J=r.mul(S,a),V=r.sub(V,J),ne=r.mul(S,oe),ne=r.add(ne,ne),ne=r.add(ne,ne),new w(V,j,ne)}add(k){x(k);let{px:C,py:R,pz:L}=this,{px:P,py:K,pz:V}=k,j=r.ZERO,ne=r.ZERO,J=r.ZERO,oe=e.a,S=r.mul(e.b,SBe),a=r.mul(C,P),f=r.mul(R,K),p=r.mul(L,V),y=r.add(C,R),g=r.add(P,K);y=r.mul(y,g),g=r.add(a,f),y=r.sub(y,g),g=r.add(C,L);let A=r.add(P,V);return g=r.mul(g,A),A=r.add(a,p),g=r.sub(g,A),A=r.add(R,L),j=r.add(K,V),A=r.mul(A,j),j=r.add(f,p),A=r.sub(A,j),J=r.mul(oe,g),j=r.mul(S,p),J=r.add(j,J),j=r.sub(f,J),J=r.add(f,J),ne=r.mul(j,J),f=r.add(a,a),f=r.add(f,a),p=r.mul(oe,p),g=r.mul(S,g),f=r.add(f,p),p=r.sub(a,p),p=r.mul(oe,p),g=r.add(g,p),a=r.mul(f,g),ne=r.add(ne,a),a=r.mul(A,g),j=r.mul(y,j),j=r.sub(j,a),a=r.mul(y,f),J=r.mul(A,J),J=r.add(J,a),new w(j,ne,J)}subtract(k){return this.add(k.negate())}is0(){return this.equals(w.ZERO)}wNAF(k){return I.wNAFCached(this,m,k,C=>{let R=r.invertBatch(C.map(L=>L.pz));return C.map((L,P)=>L.toAffine(R[P])).map(w.fromAffine)})}multiplyUnsafe(k){let C=w.ZERO;if(k===Ap)return C;if(u(k),k===Zf)return this;let{endo:R}=e;if(!R)return I.unsafeLadder(this,k);let{k1neg:L,k1:P,k2neg:K,k2:V}=R.splitScalar(k),j=C,ne=C,J=this;for(;P>Ap||V>Ap;)P&Zf&&(j=j.add(J)),V&Zf&&(ne=ne.add(J)),J=J.double(),P>>=Zf,V>>=Zf;return L&&(j=j.negate()),K&&(ne=ne.negate()),ne=new w(r.mul(ne.px,R.beta),ne.py,ne.pz),j.add(ne)}multiply(k){u(k);let C=k,R,L,{endo:P}=e;if(P){let{k1neg:K,k1:V,k2neg:j,k2:ne}=P.splitScalar(C),{p:J,f:oe}=this.wNAF(V),{p:S,f:a}=this.wNAF(ne);J=I.constTimeNegate(K,J),S=I.constTimeNegate(j,S),S=new w(r.mul(S.px,P.beta),S.py,S.pz),R=J.add(S),L=oe.add(a)}else{let{p:K,f:V}=this.wNAF(C);R=K,L=V}return w.normalizeZ([R,L])[0]}multiplyAndAddUnsafe(k,C,R){let L=w.BASE,P=(V,j)=>j===Ap||j===Zf||!V.equals(L)?V.multiplyUnsafe(j):V.multiply(j),K=P(this,C).add(P(k,R));return K.is0()?void 0:K}toAffine(k){let{px:C,py:R,pz:L}=this,P=this.is0();k==null&&(k=P?r.ONE:r.inv(L));let K=r.mul(C,k),V=r.mul(R,k),j=r.mul(L,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:K,y:V}}isTorsionFree(){let{h:k,isTorsionFree:C}=e;if(k===Zf)return!0;if(C)return C(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:C}=e;return k===Zf?this:C?C(w,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(w,this,k)}toHex(k=!0){return Qv(this.toRawBytes(k))}}w.BASE=new w(e.Gx,e.Gy,r.ONE),w.ZERO=new w(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=wBe(w,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function z7t(t){let e=cne(t);return Cg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ABe(t){let e=z7t(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(g){return Ap<g&&g<r.ORDER}function u(g){return Ba(g,n)}function l(g){return wU(g,n)}let{ProjectivePoint:m,normPrivateKeyToScalar:x,weierstrassEquation:w,isWithinCurveOrder:E}=j7t({...e,toBytes(g,A,_){let b=A.toAffine(),c=r.toBytes(b.x),v=oE;return _?v(Uint8Array.from([A.hasEvenY()?2:3]),c):v(Uint8Array.from([4]),c,r.toBytes(b.y))},fromBytes(g){let A=g.length,_=g[0],b=g.subarray(1);if(A===i&&(_===2||_===3)){let c=Sp(b);if(!s(c))throw new Error("Point is not on curve");let v=w(c),F=r.sqrt(v),U=(F&Zf)===Zf;return(_&1)===1!==U&&(F=r.neg(F)),{x:c,y:F}}else if(A===o&&_===4){let c=r.fromBytes(b.subarray(0,r.BYTES)),v=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:c,y:v}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),I=g=>Qv(Rg(g,e.nByteLength));function M(g){let A=n>>Zf;return g>A}function k(g){return M(g)?u(-g):g}let C=(g,A,_)=>Sp(g.slice(A,_));class R{constructor(A,_,b){this.r=A,this.s=_,this.recovery=b,this.assertValidity()}static fromCompact(A){let _=e.nByteLength;return A=Ou("compactSignature",A,_*2),new R(C(A,0,_),C(A,_,2*_))}static fromDER(A){let{r:_,s:b}=ex.toSig(Ou("DER",A));return new R(_,b)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new R(this.r,this.s,A)}recoverPublicKey(A){let{r:_,s:b,recovery:c}=this,v=ne(Ou("msgHash",A));if(c==null||![0,1,2,3].includes(c))throw new Error("recovery id invalid");let F=c===2||c===3?_+e.n:_;if(F>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let U=c&1?"03":"02",O=m.fromHex(U+I(F)),W=l(F),ee=u(-v*W),re=u(b*W),Ve=m.BASE.multiplyAndAddUnsafe(O,ee,re);if(!Ve)throw new Error("point at infinify");return Ve.assertValidity(),Ve}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Jv(this.toDERHex())}toDERHex(){return ex.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Jv(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let L={isValidPrivateKey(g){try{return x(g),!0}catch{return!1}},normPrivateKeyToScalar:x,randomPrivateKey:()=>{let g=sne(e.n);return AU(e.randomBytes(g),e.n)},precompute(g=8,A=m.BASE){return A._setWindowSize(g),A.multiply(BigInt(3)),A}};function P(g,A=!0){return m.fromPrivateKey(g).toRawBytes(A)}function K(g){let A=ad(g),_=typeof g=="string",b=(A||_)&&g.length;return A?b===i||b===o:_?b===2*i||b===2*o:g instanceof m}function V(g,A,_=!0){if(K(g))throw new Error("first arg must be private key");if(!K(A))throw new Error("second arg must be public key");return m.fromHex(A).multiply(x(g)).toRawBytes(_)}let j=e.bits2int||function(g){let A=Sp(g),_=g.length*8-e.nBitLength;return _>0?A>>BigInt(_):A},ne=e.bits2int_modN||function(g){return u(j(g))},J=j5(e.nBitLength);function oe(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(Ap<=g&&g<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Rg(g,e.nByteLength)}function S(g,A,_=a){if(["recovered","canonical"].some(G=>G in _))throw new Error("sign() legacy options not supported");let{hash:b,randomBytes:c}=e,{lowS:v,prehash:F,extraEntropy:U}=_;v==null&&(v=!0),g=Ou("msgHash",g),F&&(g=Ou("prehashed msgHash",b(g)));let O=ne(g),W=x(A),ee=[oe(W),oe(O)];if(U!=null){let G=U===!0?c(r.BYTES):U;ee.push(Ou("extraEntropy",G))}let re=oE(...ee),Ve=O;function ae(G){let he=j(G);if(!E(he))return;let te=l(he),ce=m.BASE.multiply(he).toAffine(),Ye=u(ce.x);if(Ye===Ap)return;let se=u(te*u(Ve+Ye*W));if(se===Ap)return;let le=(ce.x===Ye?0:2)|Number(ce.y&Zf),Pt=se;return v&&M(se)&&(Pt=k(se),le^=1),new R(Ye,Pt,le)}return{seed:re,k2sig:ae}}let a={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function p(g,A,_=a){let{seed:b,k2sig:c}=S(g,A,_),v=e;return tne(v.hash.outputLen,v.nByteLength,v.hmac)(b,c)}m.BASE._setWindowSize(8);function y(g,A,_,b=f){let c=g;if(A=Ou("msgHash",A),_=Ou("publicKey",_),"strict"in b)throw new Error("options.strict was renamed to lowS");let{lowS:v,prehash:F}=b,U,O;try{if(typeof c=="string"||ad(c))try{U=R.fromDER(c)}catch(ce){if(!(ce instanceof ex.Err))throw ce;U=R.fromCompact(c)}else if(typeof c=="object"&&typeof c.r=="bigint"&&typeof c.s=="bigint"){let{r:ce,s:Ye}=c;U=new R(ce,Ye)}else throw new Error("PARSE");O=m.fromHex(_)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&U.hasHighS())return!1;F&&(A=e.hash(A));let{r:W,s:ee}=U,re=ne(A),Ve=l(ee),ae=u(re*Ve),G=u(W*Ve),he=m.BASE.multiplyAndAddUnsafe(O,ae,G)?.toAffine();return he?u(he.x)===W:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:V,sign:p,verify:y,ProjectivePoint:m,Signature:R,utils:L}}function W7t(t){return{hash:t,hmac:(e,...r)=>Jre(t,e,fBe(...r)),randomBytes:dBe}}function EU(t,e){let r=n=>ABe({...t,...W7t(n)});return Object.freeze({...r(e),create:r})}d();h();d();h();function G7t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var _U=class extends iE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yU(this.buffer)}update(e){nE(this);let{view:r,buffer:n,blockLen:i}=this;e=H5(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=yU(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nE(this),cBe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;G7t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=yU(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var $7t=(t,e,r)=>t&e^~t&r,Y7t=(t,e,r)=>t&e^t&r^e&r,Z7t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Og=new Uint32Array(64),une=class extends _U{constructor(){super(64,32,8,!1),this.A=Bg[0]|0,this.B=Bg[1]|0,this.C=Bg[2]|0,this.D=Bg[3]|0,this.E=Bg[4]|0,this.F=Bg[5]|0,this.G=Bg[6]|0,this.H=Bg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:u,H:l}=this;return[e,r,n,i,o,s,u,l]}set(e,r,n,i,o,s,u,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=u|0,this.H=l|0}process(e,r){for(let w=0;w<16;w++,r+=4)Og[w]=e.getUint32(r,!1);for(let w=16;w<64;w++){let E=Og[w-15],I=Og[w-2],M=sd(E,7)^sd(E,18)^E>>>3,k=sd(I,17)^sd(I,19)^I>>>10;Og[w]=k+Og[w-7]+M+Og[w-16]|0}let{A:n,B:i,C:o,D:s,E:u,F:l,G:m,H:x}=this;for(let w=0;w<64;w++){let E=sd(u,6)^sd(u,11)^sd(u,25),I=x+E+$7t(u,l,m)+Z7t[w]+Og[w]|0,k=(sd(n,2)^sd(n,13)^sd(n,22))+Y7t(n,i,o)|0;x=m,m=l,l=u,u=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,u=u+this.E|0,l=l+this.F|0,m=m+this.G|0,x=x+this.H|0,this.set(n,i,o,s,u,l,m,x)}roundClean(){Og.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var TU=lBe(()=>new une);var EBe=SU(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Q7t=EBe.create(BigInt("-3")),J7t=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),tx=EU({a:Q7t,b:J7t,Fp:EBe,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},TU);var _Be=()=>({type:"keyPair",sign:(t,e)=>{if(!e.isJWT)return Promise.resolve(kr("invalidAddressType"));if(e.data.payload.iss!==R8)return Promise.resolve(kr("invalidClaim"));if(e.data.payload.aud!==C8)return Promise.resolve(kr("invalidClaim"));let r={...e.data.header,kid:Jn(rx.Buffer.from(t.publicKey))},n={...e.data.payload,sub:Jn(rx.Buffer.from(t.publicKey))},i=Jn(rx.Buffer.from(JSON.stringify(r)))+"."+Jn(rx.Buffer.from(JSON.stringify(n))),s=tx.sign(rx.Buffer.from(i).toString("hex"),t.privateKey,{prehash:!0}).toCompactRawBytes(),u=Jn(rx.Buffer.from(s)),l={header:r,payload:n,signature:u};return Promise.resolve({status:"success",signature:u,signedJWT:l})}});d();h();var TBe=()=>({type:"kms",sign:async(t,e,r)=>{let n=r.data,i=pU(n.message,n.signingType,n.chainType);if("status"in i)return i;try{let o=Jn(i),{result:{signature:s}}=await t.signRawPayload({payload:o,organizationId:e.organizationId,walletId:e.walletId,derivationInfo:{curve:"Ed25519",derivationPath:e.derivationPath,addressFormat:"Solana"},algorithm:"Ed25519"});return{status:"success",signature:WH(s)}}catch(o){return kr("internalError",`KMS cash signing failed: ${o instanceof Error?o.message:"Unknown error"}`)}}});d();h();d();h();d();h();d();h();d();h();d();h();var z5=class t extends Error{response;method;errorCode;requestId;constructor(e,r){let n=r.data,i=n?.error||"Unknown error",o=n?.requestId,s=`KMS RPC call failed: ${e} returned ${r.status} ${r.statusText} - ${i}${o?` (requestId: ${o})`:""}`;super(s),this.name="KMSRpcError",this.response=r,this.method=e,this.requestId=o,Object.setPrototypeOf(this,t.prototype)}};var X7t="00000000-0000-0000-0000-000000000000",e9t="/v1/wallets/kms/rpc";async function Ar(t,e,r,n){let i={method:e,params:r,timestampMs:Date.now()},o=JSON.stringify(i),s;try{let l=await t.getPublicKey(),m=await t.signRpcPayload(i);s=Jn(Buffer.from(JSON.stringify({publicKey:l,signature:m,kind:"PKI"}),"utf-8"))}catch(l){throw new Error(`[KMS] Failed to authenticate rpc call: ${l instanceof Error?l.message:"Unknown error"}`)}let u=await In.api().bearer(!1).post(e9t,o,{headers:{"Content-Type":"application/json","X-Phantom-Stamp":s,"X-App-Id":X7t}});if(!Gl(u))throw new z5(e,u);return n.parse(u.data)}d();h();d();h();var fne=B.enum(["Ed25519","Secp256k1"]),lne=B.enum(["Ethereum","Solana","BitcoinSegwit","Sui"]),Oa=B.object({curve:fne,derivationPath:B.string(),addressFormat:lne}),Dg=Oa.extend({address:B.string(),publicKey:B.string().regex(Yb)}),IBe=B.object({walletId:B.string(),walletName:B.string(),tags:B.array(B.string())}),Nyn=B.object({error:B.string(),requestId:B.string().optional()}),dne=B.union([B.array(B.number().int().min(0)),B.string()]),MU=B.object({envelope:B.string(),publicKey:B.string(),proof:B.string()}),Ng=B.enum(["Ed25519","Secp256r1","Secp256k1","Secp256k1Keccak256"]),Uyn=B.object({publicKey:B.array(B.number().int().min(0)),algorithm:Ng}),Lyn=B.discriminatedUnion("authenticatorKind",[B.object({authenticatorKind:B.literal("keypair"),publicKey:B.array(B.number().int().min(0)),algorithm:Ng}),B.object({authenticatorKind:B.literal("passkey")}),B.object({authenticatorKind:B.literal("oidc")})]),hne=B.discriminatedUnion("authenticatorKind",[B.object({authenticatorKind:B.literal("keypair"),publicKey:B.string(),algorithm:Ng,authenticatorName:B.string()}),B.object({authenticatorKind:B.literal("passkey"),authenticatorName:B.string()}),B.object({authenticatorKind:B.literal("oidc"),authenticatorName:B.string(),jwksUrl:B.string().url(),idTokenClaims:B.object({sub:B.string(),iss:B.string(),aud:B.string().nullish().default(null)})})]),t9t=B.discriminatedUnion("authenticatorKind",[B.object({authenticatorKind:B.literal("keypair"),publicKey:B.string(),algorithm:Ng,authenticatorName:B.string(),id:B.string(),createdAtMs:B.number()}),B.object({authenticatorKind:B.literal("passkey"),authenticatorName:B.string(),id:B.string(),createdAtMs:B.number()}),B.object({authenticatorKind:B.literal("oidc"),authenticatorName:B.string(),jwksUrl:B.string().url(),idTokenClaims:B.object({sub:B.string(),iss:B.string(),aud:B.string().nullish().default(null)}),id:B.string(),createdAtMs:B.number()})]),MBe=B.enum(["ADMIN","USER"]),kU=B.object({username:B.string(),role:MBe,authenticators:B.array(hne)}),kBe=B.object({username:B.string(),role:MBe.optional(),authenticators:B.array(t9t)}),r9t=kBe.extend({policy:B.object({type:B.string()})}),n9t=B.union([r9t,kBe]),zc=B.object({organizationId:B.string(),organizationName:B.string(),parentOrganizationId:B.string().nullish().default(null),tags:B.array(B.string()),users:B.array(n9t)}),i9t=B.discriminatedUnion("rule",[B.object({rule:B.literal("SystemInstructionLamportsThreshold"),min:B.number().int().min(0).nullish().default(null),max:B.number().int().min(0).nullish().default(null)}),B.object({rule:B.literal("SystemInstructionRecipientAllowlist"),allowlist:B.array(B.string())})]),o9t=B.union([B.object({In:B.array(B.number().int().min(0))}),B.object({Exact:B.number().int().min(0)}),B.literal("Any")]),IU=B.object({programId:B.string(),discriminator:o9t,validate:B.array(i9t).optional()}),Fyn=B.object({max:B.number().int().min(0)}),Kyn=B.object({maxComputeUnitPrice:B.number().int().min(0).nullish().default(null),maxComputeUnits:B.number().int().min(0).nullish().default(null)}),qyn=B.object({allowlist:B.array(IU)}),Vyn=B.object({allowlist:B.array(IU).optional()}),Hyn=B.null().default(null),s9t=B.discriminatedUnion("rule",[B.object({rule:B.literal("NoSignerAccountUsage"),allowlist:B.array(IU).optional()}),B.object({rule:B.literal("BundleSizeLimit"),max:B.number().int().min(0)}),B.object({rule:B.literal("ComputeBudgetLimit"),maxComputeUnitPrice:B.number().int().min(0).nullish().default(null),maxComputeUnits:B.number().int().min(0).nullish().default(null)}),B.object({rule:B.literal("NoAddressLookupTables")}),B.object({rule:B.literal("InstructionAllowlist"),allowlist:B.array(IU)}),B.object({rule:B.literal("AllowAll")})]),a9t=B.object({rules:B.array(s9t)}),c9t=B.object({version:B.literal("v0"),solana:a9t.nullish().default(null)}),W5=c9t,u9t=B.enum(["owner","signaturePayload","signatureTransaction"]),f9t=B.object({version:B.literal("v0"),scopes:B.array(u9t),derivationAllowlist:B.array(Oa).nullish().default(null)}),G5=f9t;var l9t=B.object({organizationName:B.string(),tags:B.array(B.string()).optional(),users:B.array(kU)}),PBe=B.object({result:zc});function pne(t,e){return Ar(t.authenticator,"createOrganization",e,PBe)}d();h();var d9t=B.object({organizationId:B.string()}),RBe=B.object({result:zc});function mne(t,e){return Ar(t.authenticator,"getOrganization",e,RBe)}d();h();var h9t=B.object({organizationId:B.string(),user:kU}),p9t=B.object({result:zc});d();h();var m9t=B.object({organizationId:B.string(),username:B.string()}),y9t=B.object({result:zc});d();h();var g9t=B.object({organizationId:B.string(),username:B.string(),authenticator:hne}),CBe=B.object({result:B.discriminatedUnion("authenticatorKind",[B.object({authenticatorKind:B.literal("keypair"),publicKey:B.string(),algorithm:Ng,authenticatorName:B.string(),id:B.string(),createdAtMs:B.number()}),B.object({authenticatorKind:B.literal("passkey"),authenticatorName:B.string(),id:B.string(),createdAtMs:B.number()}),B.object({authenticatorKind:B.literal("oidc"),authenticatorName:B.string(),jwksUrl:B.string().url(),idTokenClaims:B.object({sub:B.string(),iss:B.string(),aud:B.string().nullish().default(null)}),id:B.string(),createdAtMs:B.number()})])});function yne(t,e){return Ar(t.authenticator,"createAuthenticator",e,CBe)}d();h();var b9t=B.object({organizationId:B.string(),username:B.string(),authenticatorId:B.string()}),BBe=B.object({result:zc});function gne(t,e){return Ar(t.authenticator,"deleteAuthenticator",e,BBe)}d();h();var v9t=B.object({walletName:B.string(),organizationId:B.string(),mnemonicLength:B.number().int().min(0).default(24).optional(),accounts:B.array(Oa).optional()}),OBe=B.object({result:B.object({walletId:B.string(),walletName:B.string(),accounts:B.array(B.object({curve:fne,derivationPath:B.string(),addressFormat:lne,publicKey:B.string()}))})});function bne(t,e){return Ar(t.authenticator,"createWallet",e,OBe)}d();h();var x9t=B.object({organizationId:B.string(),limit:B.number().int().min(0).optional(),offset:B.number().int().min(0).optional()}),DBe=B.object({result:B.object({wallets:B.array(IBe),totalCount:B.number().int().min(0),limit:B.number().int().min(0),offset:B.number().int().min(0)})});function vne(t,e){return Ar(t.authenticator,"getOrganizationWallets",e,DBe)}d();h();var w9t=B.object({walletName:B.string(),organizationId:B.string(),tag:B.string(),mnemonicLength:B.number().int().min(0).default(24).optional(),accounts:B.array(Oa).optional()}),NBe=B.object({result:B.object({walletId:B.string(),walletName:B.string(),accounts:B.array(Dg)})});function xne(t,e){return Ar(t.authenticator,"getOrCreateWalletWithTag",e,NBe)}d();h();var S9t=B.object({organizationId:B.string(),tag:B.string(),accounts:B.array(Oa).optional()}),UBe=B.object({result:B.object({walletId:B.string(),walletName:B.string(),accounts:B.array(Dg)})});function wne(t,e){return Ar(t.authenticator,"getWalletWithTag",e,UBe)}d();h();var A9t=B.object({organizationId:B.string(),walletId:B.string(),publicKey:B.string()}),LBe=B.object({result:B.object({encrypted_bundle:B.string()})});function Sne(t,e){return Ar(t.authenticator,"exportWallet",e,LBe)}d();h();var E9t=B.object({ownerOrganizationId:B.string(),targetOrganizationId:B.string(),walletId:B.string(),policy:G5,transactionPolicy:W5.nullish().default(null)}),FBe=B.object({result:B.object({organizationId:B.string(),walletId:B.string(),organizationPolicy:G5,transactionPolicy:W5.nullish().default(null)})});function Ane(t,e){return Ar(t.authenticator,"grantOrganizationAccess",e,FBe)}d();h();var _9t=B.object({ownerOrganizationId:B.string(),targetOrganizationId:B.string(),walletId:B.string()}),KBe=B.object({result:B.object({organizationId:B.string(),walletId:B.string(),organizationPolicy:G5,transactionPolicy:W5.nullish().default(null)})});function Ene(t,e){return Ar(t.authenticator,"revokeOrganizationAccess",e,KBe)}d();h();var T9t=B.object({organizationId:B.string()}),qBe=B.object({result:MU});function _ne(t,e){return Ar(t.authenticator,"initWalletImport",e,qBe)}d();h();var I9t=B.object({organizationId:B.string(),importEnvelope:MU,encryptedSecret:B.string().regex(Yb),walletName:B.string(),accounts:B.array(Oa),mnemonicLength:B.number().int().min(0).default(24).optional(),tags:B.array(B.string()).optional()}),VBe=B.object({result:B.object({walletId:B.string(),walletName:B.string(),accounts:B.array(Dg)})});function Tne(t,e){return Ar(t.authenticator,"completeImportWallet",e,VBe)}d();h();var M9t=B.object({publicKey:B.string()}),HBe=B.object({result:zc});function Ine(t,e){return Ar(t.authenticator,"getOrCreatePhantomOrganization",e,HBe)}d();h();var k9t=B.object({}),jBe=B.object({result:zc});function Mne(t,e){return Ar(t.authenticator,"getPhantomOrganization",e,jBe)}d();h();var P9t=B.object({payload:B.union([B.array(B.number().int().min(0)),B.string()]),organizationId:B.string(),walletId:B.string(),derivationInfo:Oa,algorithm:Ng}),zBe=B.object({result:B.object({signature:B.string(),address:B.string(),publicKey:B.string()})});function kne(t,e){let r=Array.isArray(e.payload)?Jn(Buffer.from(e.payload)):e.payload;return Ar(t.authenticator,"signRawPayload",{...e,payload:r},zBe)}d();h();var R9t=B.object({transaction:dne,organizationId:B.string(),walletId:B.string(),derivationInfo:Oa.nullish().default(null)}),WBe=B.object({result:B.object({transaction:dne,address:B.string(),publicKey:B.string()})});function Pne(t,e){return Ar(t.authenticator,"signTransaction",e,WBe)}d();h();var C9t=B.object({organizationId:B.string(),walletId:B.string(),accounts:B.array(Oa)}),GBe=B.object({result:B.array(Dg)});function Rne(t,e){return Ar(t.authenticator,"getAccounts",e,GBe)}function Cne(t){return{createOrganization:e=>pne(t,e),getOrganization:e=>mne(t,e),createAuthenticator:e=>yne(t,e),deleteAuthenticator:e=>gne(t,e),createWallet:e=>bne(t,e),getOrganizationWallets:e=>vne(t,e),getOrCreateWalletWithTag:e=>xne(t,e),getWalletWithTag:e=>wne(t,e),exportWallet:e=>Sne(t,e),grantOrganizationAccess:e=>Ane(t,e),revokeOrganizationAccess:e=>Ene(t,e),initWalletImport:e=>_ne(t,e),completeImportWallet:e=>Tne(t,e),getOrCreatePhantomOrganization:async()=>{let e=await t.authenticator.getPublicKey();return Ine(t,{publicKey:e})},getPhantomOrganization:e=>Mne(t,e),signRawPayload:e=>kne(t,e),signTransaction:e=>Pne(t,e),getAccounts:e=>Rne(t,e)}}d();h();var PU=qe(ur()),O1n=(0,PU.createContext)(null);d();h();var O9t=["createOrganization","getOrganization","getOrCreatePhantomOrganization","getPhantomOrganization","addUserToOrganization","deleteUserFromOrganization","createAuthenticator","deleteAuthenticator","createWallet","getOrganizationWallets","getOrCreateWalletWithTag","getWalletWithTag","exportWallet","grantOrganizationAccess","revokeOrganizationAccess","initWalletImport","completeImportWallet","signRawPayload","signTransaction","getAccounts"],$Be=B.enum(O9t),D9t=B.object({method:$Be,params:B.record(B.unknown()),timestampMs:B.number().int().positive()});function Bne(t){return D9t.parse(t)}var YBe=()=>({type:"keyPair",sign:async(t,e)=>{if(!e.isKMSPKIAuthenticator)return kr("invalidAddressType");try{let r=Bne(e.payload),n=JSON.stringify(r),i=Buffer.from(n).toString("hex"),s=tx.sign(i,t.privateKey,{prehash:!0}).toCompactRawBytes();return{status:"success",signature:Jn(s)}}catch(r){if(r instanceof B.ZodError)return kr("invalidRpcPayload",`Invalid KMS RPC payload: ${r.message}`);let n=r instanceof Error?r.message:"Failed to authenticate KMS RPC request";return kr("internalError",n)}}});d();h();var ZBe=qe(Dn());var One=qe(Da()),QBe=qe(us());var JBe=()=>({type:"keyPair",sign:(t,e)=>{if(e.chainType!=="solana")return Promise.resolve(kr("invalidAddressType"));let r;try{typeof e.message=="string"?e.signingType==="transaction"?r=One.default.decode(e.message):r=ZBe.Buffer.from(e.message,"utf8"):r=e.message}catch{return Promise.resolve(kr("invalidMessageEncoding"))}let n=One.default.encode(QBe.default.sign.detached(r,t.privateKey));return Promise.resolve({status:"success",signature:n})}});d();h();d();h();d();h();var ox=qe(us(),1);d();h();d();h();d();h();d();h();function sE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function N9t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function aE(t,...e){if(!N9t(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function XBe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sE(t.outputLen),sE(t.blockLen)}function Ep(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function RU(t,e){aE(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var cE=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),CU=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Lg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,tOe=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,cd=Lg?t=>t:t=>tOe(t);function nx(t){for(let e=0;e<t.length;e++)t[e]=tOe(t[e])}var U9t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function BU(t){aE(t);let e="";for(let r=0;r<t.length;r++)e+=U9t[t[r]];return e}var _p={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function eOe(t){if(t>=_p._0&&t<=_p._9)return t-_p._0;if(t>=_p._A&&t<=_p._F)return t-(_p._A-10);if(t>=_p._a&&t<=_p._f)return t-(_p._a-10)}function rOe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=eOe(t.charCodeAt(o)),u=eOe(t.charCodeAt(o+1));if(s===void 0||u===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+u}return n}function L9t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Qf(t){return typeof t=="string"&&(t=L9t(t)),aE(t),t}var Ug=class{clone(){return this._cloneInto()}},yvn={}.toString;function nOe(t){let e=n=>t().update(Qf(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function iOe(t){let e=(n,i)=>t(i).update(Qf(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var oOe=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),OU=class extends Ug{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,sE(e),sE(r),sE(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=cE(this.buffer=new Uint8Array(e))}update(e){Ep(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=Qf(e);let o=e.length,s=e.byteOffset,u=e.buffer;for(let l=0;l<o;){this.pos===r&&(Lg||nx(i),this.compress(i,0,!1),Lg||nx(i),this.pos=0);let m=Math.min(r-this.pos,o-l),x=s+l;if(m===r&&!(x%4)&&l+m<o){let w=new Uint32Array(u,x,Math.floor((o-l)/4));Lg||nx(w);for(let E=0;l+r<o;E+=i.length,l+=r)this.length+=r,this.compress(w,E,!1);Lg||nx(w);continue}n.set(e.subarray(l,l+m),this.pos),this.pos+=m,this.length+=m,l+=m}return this}digestInto(e){Ep(this),RU(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Lg||nx(n),this.compress(n,0,!0),Lg||nx(n);let i=cE(e);this.get().forEach((o,s)=>i[s]=cd(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:u}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=u,e}};d();h();var DU=BigInt(4294967295),Dne=BigInt(32);function sOe(t,e=!1){return e?{h:Number(t&DU),l:Number(t>>Dne&DU)}:{h:Number(t>>Dne&DU)|0,l:Number(t&DU)|0}}function F9t(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=sOe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var K9t=(t,e)=>BigInt(t>>>0)<<Dne|BigInt(e>>>0),q9t=(t,e,r)=>t>>>r,V9t=(t,e,r)=>t<<32-r|e>>>r,H9t=(t,e,r)=>t>>>r|e<<32-r,j9t=(t,e,r)=>t<<32-r|e>>>r,z9t=(t,e,r)=>t<<64-r|e>>>r-32,W9t=(t,e,r)=>t>>>r-32|e<<64-r,G9t=(t,e)=>e,$9t=(t,e)=>t,Y9t=(t,e,r)=>t<<r|e>>>32-r,Z9t=(t,e,r)=>e<<r|t>>>32-r,Q9t=(t,e,r)=>e<<r-32|t>>>64-r,J9t=(t,e,r)=>t<<r-32|e>>>64-r;function X9t(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var eRt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),tRt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,rRt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),nRt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,iRt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),oRt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var sRt={fromBig:sOe,split:F9t,toBig:K9t,shrSH:q9t,shrSL:V9t,rotrSH:H9t,rotrSL:j9t,rotrBH:z9t,rotrBL:W9t,rotr32H:G9t,rotr32L:$9t,rotlSH:Y9t,rotlSL:Z9t,rotlBH:Q9t,rotlBL:J9t,add:X9t,add3L:eRt,add3H:tRt,add4L:rRt,add4H:nRt,add5H:oRt,add5L:iRt},Nt=sRt;var Qo=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),St=new Uint32Array(32);function Fg(t,e,r,n,i,o){let s=i[o],u=i[o+1],l=St[2*t],m=St[2*t+1],x=St[2*e],w=St[2*e+1],E=St[2*r],I=St[2*r+1],M=St[2*n],k=St[2*n+1],C=Nt.add3L(l,x,s);m=Nt.add3H(C,m,w,u),l=C|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Nt.rotr32H(k,M),Dl:Nt.rotr32L(k,M)},{h:I,l:E}=Nt.add(I,E,k,M),{Bh:w,Bl:x}={Bh:w^I,Bl:x^E},{Bh:w,Bl:x}={Bh:Nt.rotrSH(w,x,24),Bl:Nt.rotrSL(w,x,24)},St[2*t]=l,St[2*t+1]=m,St[2*e]=x,St[2*e+1]=w,St[2*r]=E,St[2*r+1]=I,St[2*n]=M,St[2*n+1]=k}function Kg(t,e,r,n,i,o){let s=i[o],u=i[o+1],l=St[2*t],m=St[2*t+1],x=St[2*e],w=St[2*e+1],E=St[2*r],I=St[2*r+1],M=St[2*n],k=St[2*n+1],C=Nt.add3L(l,x,s);m=Nt.add3H(C,m,w,u),l=C|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Nt.rotrSH(k,M,16),Dl:Nt.rotrSL(k,M,16)},{h:I,l:E}=Nt.add(I,E,k,M),{Bh:w,Bl:x}={Bh:w^I,Bl:x^E},{Bh:w,Bl:x}={Bh:Nt.rotrBH(w,x,63),Bl:Nt.rotrBL(w,x,63)},St[2*t]=l,St[2*t+1]=m,St[2*e]=x,St[2*e+1]=w,St[2*r]=E,St[2*r+1]=I,St[2*n]=M,St[2*n+1]=k}var Nne=class extends OU{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Qo[0]|0,this.v0h=Qo[1]|0,this.v1l=Qo[2]|0,this.v1h=Qo[3]|0,this.v2l=Qo[4]|0,this.v2h=Qo[5]|0,this.v3l=Qo[6]|0,this.v3h=Qo[7]|0,this.v4l=Qo[8]|0,this.v4h=Qo[9]|0,this.v5l=Qo[10]|0,this.v5h=Qo[11]|0,this.v6l=Qo[12]|0,this.v6h=Qo[13]|0,this.v7l=Qo[14]|0,this.v7h=Qo[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=cE(Qf(e.salt));this.v4l^=cd(n[0]),this.v4h^=cd(n[1]),this.v5l^=cd(n[2]),this.v5h^=cd(n[3])}if(e.personalization){let n=cE(Qf(e.personalization));this.v6l^=cd(n[0]),this.v6h^=cd(n[1]),this.v7l^=cd(n[2]),this.v7h^=cd(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(Qf(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:u,v3h:l,v4l:m,v4h:x,v5l:w,v5h:E,v6l:I,v6h:M,v7l:k,v7h:C}=this;return[e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C]}set(e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=u|0,this.v3h=l|0,this.v4l=m|0,this.v4h=x|0,this.v5l=w|0,this.v5h=E|0,this.v6l=I|0,this.v6h=M|0,this.v7l=k|0,this.v7h=C|0}compress(e,r,n){this.get().forEach((l,m)=>St[m]=l),St.set(Qo,16);let{h:i,l:o}=Nt.fromBig(BigInt(this.length));St[24]=Qo[8]^o,St[25]=Qo[9]^i,n&&(St[28]=~St[28],St[29]=~St[29]);let s=0,u=oOe;for(let l=0;l<12;l++)Fg(0,4,8,12,e,r+2*u[s++]),Kg(0,4,8,12,e,r+2*u[s++]),Fg(1,5,9,13,e,r+2*u[s++]),Kg(1,5,9,13,e,r+2*u[s++]),Fg(2,6,10,14,e,r+2*u[s++]),Kg(2,6,10,14,e,r+2*u[s++]),Fg(3,7,11,15,e,r+2*u[s++]),Kg(3,7,11,15,e,r+2*u[s++]),Fg(0,5,10,15,e,r+2*u[s++]),Kg(0,5,10,15,e,r+2*u[s++]),Fg(1,6,11,12,e,r+2*u[s++]),Kg(1,6,11,12,e,r+2*u[s++]),Fg(2,7,8,13,e,r+2*u[s++]),Kg(2,7,8,13,e,r+2*u[s++]),Fg(3,4,9,14,e,r+2*u[s++]),Kg(3,4,9,14,e,r+2*u[s++]);this.v0l^=St[0]^St[16],this.v0h^=St[1]^St[17],this.v1l^=St[2]^St[18],this.v1h^=St[3]^St[19],this.v2l^=St[4]^St[20],this.v2h^=St[5]^St[21],this.v3l^=St[6]^St[22],this.v3h^=St[7]^St[23],this.v4l^=St[8]^St[24],this.v4h^=St[9]^St[25],this.v5l^=St[10]^St[26],this.v5h^=St[11]^St[27],this.v6l^=St[12]^St[28],this.v6h^=St[13]^St[29],this.v7l^=St[14]^St[30],this.v7h^=St[15]^St[31],St.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ix=iOe(t=>new Nne(t));var Q5=qe(t1(),1);d();h();d();h();d();h();d();h();var qg=32;function aOe(t){return aRt(t)&&cRt(t)===qg}function Lh(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(qg*2,"0")}`}function aRt(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function cRt(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();h();var uRt=/^vector<(.+)>$/,fRt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,$5=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(uRt);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(fRt);if(i)return{struct:{address:r?Lh(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return Y6(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function lRt(t){return Y.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function dRt(t){return Y.enum("Option",{None:null,Some:t})}var xi=Y.bytes(qg).transform({validate:t=>{let e=typeof t=="string"?t:Ro(t);if(!e||!aOe(Lh(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?gf(Lh(t)):t,output:t=>Lh(Ro(t))}),Nu=Y.vector(Y.u8()).transform({name:"ObjectDigest",input:t=>jd(t),output:t=>E0(new Uint8Array(t)),validate:t=>{if(jd(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Wc=Y.struct("SuiObjectRef",{objectId:xi,version:Y.u64(),digest:Nu}),Une=Y.struct("SharedObjectRef",{objectId:xi,initialSharedVersion:Y.u64(),mutable:Y.bool()}),Lne=Y.enum("ObjectArg",{ImmOrOwnedObject:Wc,SharedObject:Une,Receiving:Wc}),Fne=Y.enum("CallArg",{Pure:Y.struct("Pure",{bytes:Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))})}),Object:Lne}),Kne=Y.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:Y.lazy(()=>Kne),struct:Y.lazy(()=>Wne),u16:null,u32:null,u256:null}),NU=Kne.transform({input:t=>typeof t=="string"?$5.parseFromStr(t,!0):t,output:t=>$5.tagToString(t)}),ud=Y.enum("Argument",{GasCoin:null,Input:Y.u16(),Result:Y.u16(),NestedResult:Y.tuple([Y.u16(),Y.u16()])}),qne=Y.struct("ProgrammableMoveCall",{package:xi,module:Y.string(),function:Y.string(),typeArguments:Y.vector(NU),arguments:Y.vector(ud)}),Vne=Y.enum("Command",{MoveCall:qne,TransferObjects:Y.struct("TransferObjects",{objects:Y.vector(ud),address:ud}),SplitCoins:Y.struct("SplitCoins",{coin:ud,amounts:Y.vector(ud)}),MergeCoins:Y.struct("MergeCoins",{destination:ud,sources:Y.vector(ud)}),Publish:Y.struct("Publish",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))})),dependencies:Y.vector(xi)}),MakeMoveVec:Y.struct("MakeMoveVec",{type:dRt(NU).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:Y.vector(ud)}),Upgrade:Y.struct("Upgrade",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))})),dependencies:Y.vector(xi),package:xi,ticket:ud})}),Hne=Y.struct("ProgrammableTransaction",{inputs:Y.vector(Fne),commands:Y.vector(Vne)}),jne=Y.enum("TransactionKind",{ProgrammableTransaction:Hne,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),zne=Y.enum("TransactionExpiration",{None:null,Epoch:lRt()}),Wne=Y.struct("StructTag",{address:xi,module:Y.string(),name:Y.string(),typeParams:Y.vector(Kne)}),Gne=Y.struct("GasData",{payment:Y.vector(Wc),owner:xi,price:Y.u64(),budget:Y.u64()}),$ne=Y.struct("TransactionDataV1",{kind:jne,sender:xi,gasData:Gne,expiration:zne}),Yne=Y.enum("TransactionData",{V1:$ne}),Zne=Y.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Qne=Y.enum("IntentVersion",{V0:null}),Jne=Y.enum("AppId",{Sui:null}),Xne=Y.struct("Intent",{scope:Zne,version:Qne,appId:Jne});function eie(t){return Y.struct(`IntentMessage<${t.name}>`,{intent:Xne,value:t})}var tie=Y.enum("CompressedSignature",{ED25519:Y.fixedArray(64,Y.u8()),Secp256k1:Y.fixedArray(64,Y.u8()),Secp256r1:Y.fixedArray(64,Y.u8()),ZkLogin:Y.vector(Y.u8())}),rie=Y.enum("PublicKey",{ED25519:Y.fixedArray(32,Y.u8()),Secp256k1:Y.fixedArray(33,Y.u8()),Secp256r1:Y.fixedArray(33,Y.u8()),ZkLogin:Y.vector(Y.u8())}),nie=Y.struct("MultiSigPkMap",{pubKey:rie,weight:Y.u8()}),iie=Y.struct("MultiSigPublicKey",{pk_map:Y.vector(nie),threshold:Y.u16()}),cOe=Y.struct("MultiSig",{sigs:Y.vector(tie),bitmap:Y.u16(),multisig_pk:iie}),hRt=Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?yn(t):t,output:t=>fr(new Uint8Array(t))}),oie=Y.struct("SenderSignedTransaction",{intentMessage:eie(Yne),txSignatures:Y.vector(hRt)}),uOe=Y.vector(oie,{name:"SenderSignedData"});d();h();var pRt=Y.enum("PackageUpgradeError",{UnableToFetchPackage:Y.struct("UnableToFetchPackage",{packageId:xi}),NotAPackage:Y.struct("NotAPackage",{objectId:xi}),IncompatibleUpgrade:null,DigestDoesNotMatch:Y.struct("DigestDoesNotMatch",{digest:Y.vector(Y.u8())}),UnknownUpgradePolicy:Y.struct("UnknownUpgradePolicy",{policy:Y.u8()}),PackageIDDoesNotMatch:Y.struct("PackageIDDoesNotMatch",{packageId:xi,ticketId:xi})}),mRt=Y.struct("ModuleId",{address:xi,name:Y.string()}),fOe=Y.struct("MoveLocation",{module:mRt,function:Y.u16(),instruction:Y.u16(),functionName:Y.option(Y.string())}),yRt=Y.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:Y.struct("IndexOutOfBounds",{idx:Y.u16()}),SecondaryIndexOutOfBounds:Y.struct("SecondaryIndexOutOfBounds",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidResultArity:Y.struct("InvalidResultArity",{resultIdx:Y.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),gRt=Y.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),bRt=Y.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:Y.struct("MoveObjectTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),MovePackageTooBig:Y.struct("MovePackageTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),CircularObjectOwnership:Y.struct("CircularObjectOwnership",{object:xi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:Y.option(fOe),MoveAbort:Y.tuple([fOe,Y.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:Y.struct("CommandArgumentError",{argIdx:Y.u16(),kind:yRt}),TypeArgumentError:Y.struct("TypeArgumentError",{argumentIdx:Y.u16(),kind:gRt}),UnusedValueWithoutDrop:Y.struct("UnusedValueWithoutDrop",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidPublicFunctionReturnType:Y.struct("InvalidPublicFunctionReturnType",{idx:Y.u16()}),InvalidTransferObject:null,EffectsTooLarge:Y.struct("EffectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:Y.struct("PackageUpgradeError",{upgradeError:pRt}),WrittenObjectsTooLarge:Y.struct("WrittenObjectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:Y.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:Y.vector(xi)}),AddressDeniedForCoin:Y.struct("AddressDeniedForCoin",{address:xi,coinType:Y.string()}),CoinTypeGlobalPause:Y.struct("CoinTypeGlobalPause",{coinType:Y.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),lOe=Y.enum("ExecutionStatus",{Success:null,Failed:Y.struct("ExecutionFailed",{error:bRt,command:Y.option(Y.u64())})}),dOe=Y.struct("GasCostSummary",{computationCost:Y.u64(),storageCost:Y.u64(),storageRebate:Y.u64(),nonRefundableStorageFee:Y.u64()}),uE=Y.enum("Owner",{AddressOwner:xi,ObjectOwner:xi,Shared:Y.struct("Shared",{initialSharedVersion:Y.u64()}),Immutable:null}),vRt=Y.struct("TransactionEffectsV1",{status:lOe,executedEpoch:Y.u64(),gasUsed:dOe,modifiedAtVersions:Y.vector(Y.tuple([xi,Y.u64()])),sharedObjects:Y.vector(Wc),transactionDigest:Nu,created:Y.vector(Y.tuple([Wc,uE])),mutated:Y.vector(Y.tuple([Wc,uE])),unwrapped:Y.vector(Y.tuple([Wc,uE])),deleted:Y.vector(Wc),unwrappedThenDeleted:Y.vector(Wc),wrapped:Y.vector(Wc),gasObject:Y.tuple([Wc,uE]),eventsDigest:Y.option(Nu),dependencies:Y.vector(Nu)}),sie=Y.tuple([Y.u64(),Nu]),xRt=Y.enum("ObjectIn",{NotExist:null,Exist:Y.tuple([sie,uE])}),wRt=Y.enum("ObjectOut",{NotExist:null,ObjectWrite:Y.tuple([Nu,uE]),PackageWrite:sie}),SRt=Y.enum("IDOperation",{None:null,Created:null,Deleted:null}),ARt=Y.struct("EffectsObjectChange",{inputState:xRt,outputState:wRt,idOperation:SRt}),ERt=Y.enum("UnchangedSharedKind",{ReadOnlyRoot:sie,MutateDeleted:Y.u64(),ReadDeleted:Y.u64(),Cancelled:Y.u64(),PerEpochConfig:null}),_Rt=Y.struct("TransactionEffectsV2",{status:lOe,executedEpoch:Y.u64(),gasUsed:dOe,transactionDigest:Nu,gasObjectIndex:Y.option(Y.u32()),eventsDigest:Y.option(Nu),dependencies:Y.vector(Nu),lamportVersion:Y.u64(),changedObjects:Y.vector(Y.tuple([xi,ARt])),unchangedSharedObjects:Y.vector(Y.tuple([xi,ERt])),auxDataDigest:Y.option(Nu)}),hOe=Y.enum("TransactionEffects",{V1:vRt,V2:_Rt});var Tp={...Y,U8:Y.u8(),U16:Y.u16(),U32:Y.u32(),U64:Y.u64(),U128:Y.u128(),U256:Y.u256(),ULEB128:Y.uleb128(),Bool:Y.bool(),String:Y.string(),Address:xi,AppId:Jne,Argument:ud,CallArg:Fne,CompressedSignature:tie,GasData:Gne,Intent:Xne,IntentMessage:eie,IntentScope:Zne,IntentVersion:Qne,MultiSig:cOe,MultiSigPkMap:nie,MultiSigPublicKey:iie,ObjectArg:Lne,ObjectDigest:Nu,ProgrammableMoveCall:qne,ProgrammableTransaction:Hne,PublicKey:rie,SenderSignedData:uOe,SenderSignedTransaction:oie,SharedObjectRef:Une,StructTag:Wne,SuiObjectRef:Wc,Command:Vne,TransactionData:Yne,TransactionDataV1:$ne,TransactionExpiration:zne,TransactionKind:jne,TypeTag:NU,TransactionEffects:hOe};function UU(t,e){return Tp.IntentMessage(Tp.fixedArray(e.length,Tp.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}d();h();var Ip={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},pOe={ED25519:32,Secp256k1:33,Secp256r1:33},LU={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function aie(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var fE=class{equals(e){return aie(this.toRawBytes(),e.toRawBytes())}toBase64(){return fr(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return fr(e)}verifyWithIntent(e,r,n){let i=UU(n,e),o=ix(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(Tp.vector(Tp.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Lh(BU(ix(this.toSuiBytes(),{dkLen:32})).slice(0,qg*2))}};d();h();var mOe=t=>{throw TypeError(t)},yOe=(t,e,r)=>e.has(t)||mOe("Cannot "+r),FU=(t,e,r)=>(yOe(t,e,"read from private field"),r?r.call(t):e.get(t)),KU=(t,e,r)=>e.has(t)?mOe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),qU=(t,e,r,n)=>(yOe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),VU,HU,jU,zU,cie=class extends Error{},WU=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){KU(this,VU),KU(this,HU),KU(this,jU),KU(this,zU),qU(this,VU,e),qU(this,HU,i),qU(this,jU,n),qU(this,zU,(...o)=>r(...o))}async query(e){let r=await FU(this,zU).call(this,FU(this,VU),{method:"POST",headers:{"Content-Type":"application/json",...FU(this,jU)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):d2(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new cie(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:FU(this,HU)[e]})}};VU=new WeakMap;HU=new WeakMap;jU=new WeakMap;zU=new WeakMap;d();h();var gOe=t_();d();h();function TRt(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function IRt(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=TRt(n);e=e.concat(i)}return e}function MRt(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=IRt(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let u=0;u<r.length;u+=8){let l=r.slice(u,u+8),m=parseInt(l.join(""),2);o[s++]=m}return new TextDecoder().decode(o)}function kRt(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function bOe(t,e){let r=MRt(t.value,t.indexMod4),[n,i]=kRt(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}d();h();d();h();var vOe=Y.struct("ZkLoginSignature",{inputs:Y.struct("ZkLoginSignatureInputs",{proofPoints:Y.struct("ZkLoginSignatureInputsProofPoints",{a:Y.vector(Y.string()),b:Y.vector(Y.vector(Y.string())),c:Y.vector(Y.string())}),issBase64Details:Y.struct("ZkLoginSignatureInputsClaim",{value:Y.string(),indexMod4:Y.u8()}),headerBase64:Y.string(),addressSeed:Y.string()}),maxEpoch:Y.u64(),userSignature:Y.vector(Y.u8())});function xOe(t){return vOe.parse(typeof t=="string"?yn(t):t)}d();h();function PRt(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function GU(t,e){let r=t.toString(16);return rOe(r.padStart(e*2,"0").slice(-e*2))}function uie(t,e){let r=GU(t,e),n=PRt(r);return n===-1?new Uint8Array([0]):r.slice(n)}var AOe=t=>{throw TypeError(t)},EOe=(t,e,r)=>e.has(t)||AOe("Cannot "+r),Mp=(t,e,r)=>(EOe(t,e,"read from private field"),r?r.call(t):e.get(t)),fie=(t,e,r)=>e.has(t)?AOe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),lE=(t,e,r,n)=>(EOe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),fd,Y5,Z5,RRt=class lie extends fE{constructor(e,{client:r}={}){super(),fie(this,fd),fie(this,Y5),fie(this,Z5),lE(this,Y5,r),typeof e=="string"?lE(this,fd,yn(e)):e instanceof Uint8Array?lE(this,fd,e):lE(this,fd,Uint8Array.from(e)),lE(this,Z5,Mp(this,fd).length!==Mp(this,fd)[0]+1+32),Mp(this,Z5)&&lE(this,fd,wOe(Mp(this,fd)))}equals(e){return super.equals(e)}toSuiAddress(){if(Mp(this,Z5)){let e=wOe(Mp(this,fd),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Lh(BU(ix(r,{dkLen:32})).slice(0,qg*2))}return super.toSuiAddress()}toRawBytes(){return Mp(this,fd)}flag(){return Ip.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=$U(r),i=new lie(n.publicKey).toSuiAddress();return SOe({address:i,bytes:fr(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Mp(this,Y5)})}verifyTransaction(e,r){let n=$U(r),i=new lie(n.publicKey).toSuiAddress();return SOe({address:i,bytes:fr(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Mp(this,Y5)})}};fd=new WeakMap;Y5=new WeakMap;Z5=new WeakMap;var CRt=RRt;function BRt(t,e,r){let n=r?.legacyAddress?uie(t,32):GU(t,32),i=new TextEncoder().encode(e),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new CRt(o,r)}var ORt=gOe(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function wOe(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Ro(t.slice(r))}`),i=e?uie(n,32):GU(n,32),o=new Uint8Array(r+i.length);return o.set(t.slice(0,r),0),o.set(i,r),o}async function SOe({address:t,bytes:e,signature:r,intentScope:n,client:i=new WU({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:ORt,variables:{bytes:e,signature:r,intentScope:n,author:t}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function $U(t){let e=typeof t=="string"?yn(t):t;if(e[0]!==Ip.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=xOe(r),{issBase64Details:s,addressSeed:u}=n,l=bOe(s,"iss"),m=BRt(BigInt(u),l);return{serializedSignature:fr(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:l,addressSeed:BigInt(u)},signature:e,publicKey:m.toRawBytes()}}function _Oe({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([Ip[e]]),i.set(t,1),i.set(n,1+t.length),fr(i)}function TOe(t){let e=yn(t),r=LU[e[0]];switch(r){case"MultiSig":let n=Tp.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return $U(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=pOe[r],o=e.slice(1,e.length-i),s=e.slice(1+o.length);return{serializedSignature:t,signatureScheme:r,signature:o,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}var J5=32;var IOe="suiprivkey",die=class{async signWithIntent(e,r){let n=UU(r,e),i=ix(n,{dkLen:32});return{signature:_Oe({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:fr(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(Y.vector(Y.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:fr(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},YU=class extends die{};function MOe(t){let{prefix:e,words:r}=Q5.bech32.decode(t);if(e!==IOe)throw new Error("invalid private key prefix");let n=new Uint8Array(Q5.bech32.fromWords(r)),i=n.slice(1);return{schema:LU[n[0]],secretKey:i}}function kOe(t,e){if(t.length!==J5)throw new Error("Invalid bytes length");let r=Ip[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),Q5.bech32.encode(IOe,Q5.bech32.toWords(n))}d();h();function hie(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function DRt(t){return $7(t,"")}function POe(t){return Ro(DRt(t))}d();h();d();h();var ZU=class extends Ug{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,XBe(e);let n=Qf(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Ep(this),this.iHash.update(e),this}digestInto(e){Ep(this),aE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},QU=(t,e,r)=>new ZU(t,e).update(r).digest();QU.create=(t,e)=>new ZU(t,e);d();h();d();h();function NRt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),u=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,u,n)}var JU=class extends Ug{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=CU(this.buffer)}update(e){Ep(this);let{view:r,buffer:n,blockLen:i}=this;e=Qf(e);let o=e.length;for(let s=0;s<o;){let u=Math.min(i-this.pos,o-s);if(u===i){let l=CU(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ep(this),RU(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let w=s;w<i;w++)r[w]=0;NRt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let u=CU(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,x=this.get();if(m>x.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<m;w++)u.setUint32(4*w,x[w],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var[URt,LRt]=Nt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Vg=new Uint32Array(80),Hg=new Uint32Array(80),pie=class extends JU{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:u,Dl:l,Eh:m,El:x,Fh:w,Fl:E,Gh:I,Gl:M,Hh:k,Hl:C}=this;return[e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C]}set(e,r,n,i,o,s,u,l,m,x,w,E,I,M,k,C){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=u|0,this.Dl=l|0,this.Eh=m|0,this.El=x|0,this.Fh=w|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=C|0}process(e,r){for(let P=0;P<16;P++,r+=4)Vg[P]=e.getUint32(r),Hg[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let K=Vg[P-15]|0,V=Hg[P-15]|0,j=Nt.rotrSH(K,V,1)^Nt.rotrSH(K,V,8)^Nt.shrSH(K,V,7),ne=Nt.rotrSL(K,V,1)^Nt.rotrSL(K,V,8)^Nt.shrSL(K,V,7),J=Vg[P-2]|0,oe=Hg[P-2]|0,S=Nt.rotrSH(J,oe,19)^Nt.rotrBH(J,oe,61)^Nt.shrSH(J,oe,6),a=Nt.rotrSL(J,oe,19)^Nt.rotrBL(J,oe,61)^Nt.shrSL(J,oe,6),f=Nt.add4L(ne,a,Hg[P-7],Hg[P-16]),p=Nt.add4H(f,j,S,Vg[P-7],Vg[P-16]);Vg[P]=p|0,Hg[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:u,Cl:l,Dh:m,Dl:x,Eh:w,El:E,Fh:I,Fl:M,Gh:k,Gl:C,Hh:R,Hl:L}=this;for(let P=0;P<80;P++){let K=Nt.rotrSH(w,E,14)^Nt.rotrSH(w,E,18)^Nt.rotrBH(w,E,41),V=Nt.rotrSL(w,E,14)^Nt.rotrSL(w,E,18)^Nt.rotrBL(w,E,41),j=w&I^~w&k,ne=E&M^~E&C,J=Nt.add5L(L,V,ne,LRt[P],Hg[P]),oe=Nt.add5H(J,R,K,j,URt[P],Vg[P]),S=J|0,a=Nt.rotrSH(n,i,28)^Nt.rotrBH(n,i,34)^Nt.rotrBH(n,i,39),f=Nt.rotrSL(n,i,28)^Nt.rotrBL(n,i,34)^Nt.rotrBL(n,i,39),p=n&o^n&u^o&u,y=i&s^i&l^s&l;R=k|0,L=C|0,k=I|0,C=M|0,I=w|0,M=E|0,{h:w,l:E}=Nt.add(m|0,x|0,oe|0,S|0),m=u|0,x=l|0,u=o|0,l=s|0,o=n|0,s=i|0;let g=Nt.add3L(S,f,y);n=Nt.add3H(g,oe,a,p),i=g|0}({h:n,l:i}=Nt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Nt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:u,l}=Nt.add(this.Ch|0,this.Cl|0,u|0,l|0),{h:m,l:x}=Nt.add(this.Dh|0,this.Dl|0,m|0,x|0),{h:w,l:E}=Nt.add(this.Eh|0,this.El|0,w|0,E|0),{h:I,l:M}=Nt.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:C}=Nt.add(this.Gh|0,this.Gl|0,k|0,C|0),{h:R,l:L}=Nt.add(this.Hh|0,this.Hl|0,R|0,L|0),this.set(n,i,o,s,u,l,m,x,w,E,I,M,k,C,R,L)}roundClean(){Vg.fill(0),Hg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var mie=nOe(()=>new pie);var FRt=qe(us(),1),KRt="ed25519 seed",qRt=2147483648,VRt=new RegExp("^m(\\/[0-9]+')+$"),ROe=t=>t.replace("'",""),HRt=t=>{let r=QU.create(mie,KRt).update(gf(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},jRt=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+t.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(t,1),o.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=QU.create(mie,e).update(o).digest(),u=s.slice(0,32),l=s.slice(32);return{key:u,chainCode:l}};var zRt=t=>VRt.test(t)?!t.split("/").slice(1).map(ROe).some(isNaN):!1,yie=(t,e,r=qRt)=>{if(!zRt(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=HRt(e);return t.split("/").slice(1).map(ROe).map(s=>parseInt(s,10)).reduce((s,u)=>jRt(s,u+r),{key:n,chainCode:i})};d();h();var COe=qe(us(),1);var gie=32,X5=class extends fE{constructor(e){if(super(),typeof e=="string"?this.data=yn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==gie)throw new Error(`Invalid public key input. Expected ${gie} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return Ip.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=TOe(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!aie(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return COe.default.sign.detached.verify(e,n,this.toRawBytes())}};X5.SIZE=gie;var bie="m/44'/784'/0'/0'/0'",eT=class t extends YU{constructor(e){super(),e?this.keypair=e:this.keypair=ox.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(ox.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let o=MOe(e);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=e.length;if(n!==J5)throw new Error(`Wrong secretKey size. Expected ${J5} bytes, got ${n}.`);let i=ox.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),u=ox.default.sign.detached(s,i.secretKey);if(!ox.default.sign.detached.verify(s,u,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new X5(this.keypair.publicKey)}getSecretKey(){return kOe(this.keypair.secretKey.slice(0,J5),this.getKeyScheme())}async sign(e){return ox.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=bie),!hie(r))throw new Error("Invalid derivation path");let{key:n}=yie(r,POe(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=bie),!hie(r))throw new Error("Invalid derivation path");let{key:n}=yie(r,e);return t.fromSecretKey(n)}};var BOe=()=>({type:"keyPair",sign:async(t,e)=>{let r=eT.fromSecretKey(t.privateKey);try{let n;switch(e.signingType){case"personalMessage":{n=await r.signPersonalMessage(e.message);break}case"transaction":{n=await r.signTransaction(e.transaction);break}}return Promise.resolve({status:"success",signature:n.signature})}catch(n){return console.error(n),Promise.resolve(kr("invalidMessageEncoding"))}}});d();h();var XU=class{#e;constructor(e){this.#e=e}async signWithKeypair(e,r){if("isJWT"in r)return this.#e.keyPair.JWT.sign(e,r);if("isKMSPKIAuthenticator"in r)return this.#e.keyPair.KMSPKIAuthenticator.sign(e,r);if("isAgentWallet"in r)return this.#e.keyPair.Agent.sign(e,r);if("isCash"in r)return this.#e.keyPair.Cash.sign(e,r);let n=r.chainType;switch(n){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return this.#e.keyPair[n].sign(e,r);case"eip155":return this.#e.keyPair[n].sign(e,r);case"solana":return this.#e.keyPair[n].sign(e,r);case"sui":return this.#e.keyPair[n].sign(e,r)}}async signWithHardware(e,r,n){return this.#e.ledger.sign(e,r,n)}async signWithSolanaSeedVault(e,r,n){return this.#e.seedVault.sign(e,r,n)}async signWithKMS(e,r,n){return this.#e.kms.sign(e,r,n)}};d();h();var OOe=t=>ere.safeParse(t).success;d();h();var WRt=t=>({getSeed:e=>GRt(t,e),setSeed:(e,r)=>$Rt(t,e,r),getClientJWTSigner:(e,r)=>YRt(t,e,r),setClientJWTSigner:(e,r,n)=>ZRt(t,e,r,n),removeSeeds:e=>DOe(t,e),removeClientJWTKeypairs:e=>NOe(t,e),clear:async()=>{await DOe(t,"all"),await NOe(t,"all")}}),jg=`${Iu}.cache.secrets`,vie=t=>`${Iu}.cache.seed.${t}`,xie=t=>`${Iu}.cache.client-jwt.${t}`,GRt=async({isEnabled:t,secretsStorage:e},r)=>{if(!t())return null;let n=vie(r),i=null;try{i=await e.getSecureValue(n)}catch{}if(!i)return null;let{bytes:o,encoding:s}=i.seed;return new Uint8Array(Buffer.from(o,s))},$Rt=async({isEnabled:t,generalStorage:e,secretsStorage:r},n,i)=>{if(!t())return;let o=vie(n);await r.setSecureValue(o,{version:1,identifier:n,seed:{bytes:Buffer.from(i).toString("base64"),encoding:"base64"}});let s=await e.get(jg);if(!s)s={version:1,seedIdentifiers:[n],clientJWTKeypairIdentifiers:[]};else{let u=new Set(s.seedIdentifiers);u.add(n),s.seedIdentifiers=Array.from(u)}await e.set(jg,s)},DOe=async({generalStorage:t,secretsStorage:e},r)=>{let n=await t.get(jg);if(!n)return;let i=r==="all"?n.seedIdentifiers:r,o=new Set(i),s=n.seedIdentifiers.filter(u=>o.has(u));await e.removeSecureValue(s.map(vie)),await t.set(jg,{version:1,seedIdentifiers:n.seedIdentifiers.filter(u=>!o.has(u)),clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers??[]})},YRt=async({isEnabled:t,secretsStorage:e},r,n)=>{if(!t())return null;let i=xie(r),o=null;try{o=await e.getSecureValue(i)}catch{}if(!o||!o.keyPairs[n])return null;let s=o.keyPairs[n],u=new Uint8Array(Buffer.from(s.p256pubkey.bytes,s.p256pubkey.encoding)),l=new Uint8Array(Buffer.from(s.p256privkey.bytes,s.p256privkey.encoding));return{p256pubkey:u,p256privkey:l}},ZRt=async({isEnabled:t,generalStorage:e,secretsStorage:r},n,i,o)=>{if(!t())return;let s=xie(n),u=await r.getSecureValue(s)??{version:1,identifier:n,keyPairs:{}};u.keyPairs[i]={p256pubkey:{bytes:Jn(Buffer.from(o.p256pubkey)),encoding:"base64"},p256privkey:{bytes:Jn(Buffer.from(o.p256privkey)),encoding:"base64"}},await r.setSecureValue(s,u);let l=await e.get(jg);if(!l)l={version:1,seedIdentifiers:[],clientJWTKeypairIdentifiers:[n]};else{let m=new Set(l.clientJWTKeypairIdentifiers??[]);m.add(n),l.clientJWTKeypairIdentifiers=Array.from(m)}await e.set(jg,l)},NOe=async({generalStorage:t,secretsStorage:e},r)=>{let n=await t.get(jg);if(!n||!n.clientJWTKeypairIdentifiers||n.clientJWTKeypairIdentifiers.length===0)return;let i=r==="all"?n.clientJWTKeypairIdentifiers:r,o=new Set(i);await e.removeSecureValue(i.map(xie)),await t.set(jg,{version:1,seedIdentifiers:n.seedIdentifiers,clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers.filter(s=>!o.has(s))})};d();h();d();h();d();h();d();h();d();h();async function wie(t){let e=new Uint8Array(Array.from("mnemonic"+(t.passphrase??"")).map(r=>r.charCodeAt(0)));return t.pbkdf2(t.mnemonic,e,2048,64,"sha512")}d();h();var UOe=qe(Dn());var JRt=qe(us());d();h();var Sie=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],Z2n=new Set(Sie);var XRt=(t,e,r,n,i)=>{let o;switch(i){case"rmd160":case"md5":case"sha":throw new Error(`${i} is unsupported by noble`);case"ripemd160":case"sha1":case"sha224":case"sha384":throw new Error(`${i} is supported by noble, but we don't need it for bip39`);case"sha256":o=zl;break;case"sha512":o=au;break}return iv(o,t,e,{c:r,dkLen:n})},eCt=(t,e,r)=>{for(;t.length<r;)t=e+t;return t},LOe=t=>t.map(e=>eCt(e.toString(2),"0",8)).join(""),tCt=t=>parseInt(t,2),rCt=t=>{let r=t.length*8/32,n=zl(t);return LOe(Array.from(n)).slice(0,r)};var Aie=async t=>{let e=Sie;if(t.length<16)throw new Error("LessThanTwelve");if(t.length>32)throw new Error("MoreThanTwentyFour");if(t.length%4!==0)throw new Error("WrongWord");let r,n;try{r=LOe(Array.from(t))}catch{throw new Error("InvalidEntropyBits")}try{n=rCt(t)}catch{throw new Error("InvalidChecksumBits")}let o=(r+n).match(/(.{1,11})/g);if(!o)throw new Error("InvalidChecksum");let s=o.map(m=>{let x=tCt(m);return e[x]}),u=UOe.Buffer.from(s.join(" "));return{seed:await wie({mnemonic:u,pbkdf2:XRt}),mnemonic:u}};d();h();var nCt=qe(us()),fSn=new RegExp("^m(\\/[0-9]+')+$");d();h();async function zg(t,e){let r=await tMe(t,e);if(!r)throw new mp;let n=Ti.from(r.entropy);return r.entropy.fill(0),n}async function vs(t,e){let r,n=await t.secureCache.getSeed(e);if(n)r=n;else{let o=await zg(t,e),{seed:s}=await o.foldAsync(Aie);r=s,await t.secureCache.setSeed(e,r)}let i=Ti.from(r);return r.fill(0),i}d();h();var Eie=qe(fx());function sx(t){return t.fold(Eie.keccak256)}function Wg(t,e,r){let n=up[r];return Eie.keccak256(`${t}:${e}:${n}`)}function Fh(t,e,r,n){let i={};for(let o of n){let{publicKey:s}=t.keypairGenerator.generateKeypairFromSeed(e,r,o),u=la.getAddressType(o);switch(o){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":{i[u]={chainType:u,pathType:o,publicKey:s,addresses:Object.values(xo).reduce((l,m)=>({...l,[m]:ds({publicKey:s,addressType:u,networkID:m})}),{})};break}case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44Change":case"bip44":case"deprecated":{i[u]={chainType:u,pathType:o,publicKey:ds({publicKey:s,addressType:u})};break}case"bip44Sui":{i[u]={chainType:u,pathType:o,publicKey:s,address:ds({publicKey:s,addressType:u})};break}default:Bt(o)}}return i}async function FOe(t,e){let r=new Set,n=await ei(t);for(let o of n)o.type==="seed"&&o.seedIdentifier===e&&up[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return KOe(t,e,i)}async function KOe(t,e,r){try{return await iCt(t,e,r)}catch(n){if(n instanceof _h)return await KOe(t,e,r+1);throw n}}async function iCt(t,e,r){let n=await vs(t,e),i=(await t.fetchChainAvailability()).enabledAddressTypes,o=Lf(i),s=await Wg(e,r,o[0]),u={version:1,type:"seed",identifier:s,seedIdentifier:e,derivationIndex:r,chains:Fh(t,n,r,o)};return await ka(t,u,!1),u}d();h();var GOe=qe(h9());var $Oe=qe(B_()),YOe=qe(WOe()),ZOe=qe(fx());function fCt(t,e,r){let n=up[r];return ZOe.keccak256(`${t}:${e}:${n}`)}async function QOe(t,e,r){let n=[];for(let i of r){if(i.addresses.length===0&&i.publicKeys.length===0)throw new Error("Must have at least 1 address or public key in account to add Ledger account.");let o=i.addresses[0]?.pathType||i.publicKeys[0]?.pathType,s=fCt(e,i.derivationIndex,o);$Oe.initEccLib(GOe);let u=(0,YOe.ECPairFactory)(GOe),l={...i.addresses.reduce((x,w)=>{let E=la.getAddressType(w.pathType);switch(E){case"eip155":case"solana":{x[E]={chainType:E,pathType:w.pathType,publicKey:w.value};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw new Error("Bitcoin accounts should be using public key not computed addresses");case"sui":throw new V2("add ledger account");default:Bt(E)}return x},{}),...i.publicKeys.reduce((x,w)=>{let E=la.getAddressType(w.pathType);switch(E){case"eip155":case"solana":throw new Error("EVM or Solana accounts should be using addreses directly, not public keys");case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let I=u.fromPublicKey(Buffer.from(w.value,"hex")),M=new Uint8Array(I.publicKey);x[E]={chainType:E,pathType:w.pathType,publicKey:M,addresses:Object.values(xo).reduce((k,C)=>({...k,[C]:ds({publicKey:M,addressType:E,networkID:C})}),{})};break}case"sui":throw new V2("add ledger account");default:Bt(E)}return x},{})},m={version:1,type:"ledger",identifier:s,ledgerGroupIdentifier:e,derivationIndex:i.derivationIndex,chains:l};n.push(m),await ka(t,m)}return n}d();h();var JOe=qe(fx());function lCt(t){return JOe.keccak256(t)}async function XOe(t,e,r,n){let i=await t.keypairGenerator.generateKeypairFromPrivateKey(r,e),o=await $l(t),s=lCt(i.publicKey);if((o?.privateKeyIdentifiers??[]).includes(s))throw new W8;let m={version:1,identifier:s,name:n,chainType:e,privateKey:Buffer.from(i.privateKey)},x=s,w;switch(e){case"eip155":case"solana":{w={version:1,type:"privateKey",identifier:x,privateKeyIdentifier:s,publicKey:ds({publicKey:i.publicKey,addressType:e}),chainType:e};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{w={version:1,type:"privateKey",identifier:x,privateKeyIdentifier:s,publicKey:i.publicKey,addresses:Object.values(xo).reduce((E,I)=>({...E,[I]:ds({publicKey:i.publicKey,addressType:e,networkID:I})}),{}),chainType:e};break}case"sui":{w={version:1,type:"privateKey",identifier:x,privateKeyIdentifier:s,publicKey:i.publicKey,address:ds({publicKey:i.publicKey,addressType:e}),chainType:e};break}default:Bt(e)}if(!w)throw new Error("unable to create a private key account based on the address type");return await ka(t,w),await rMe(t,m),w}d();h();var eDe=qe(fx());function dCt(t){return eDe.keccak256(t)}async function tDe(t,e){let r=Object.values(e).find(Boolean);if(!r)throw new j8;let n=dCt(r),i={version:1,type:"readOnly",identifier:n,addresses:e};return await ka(t,i),i}d();h();async function rDe(t,e){let r=new Set,n=await ei(t);for(let o of n)o.type==="seedless"&&o.seedIdentifier===e&&up[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return nDe(t,e,i)}async function nDe(t,e,r){try{return await hCt(t,e,r)}catch(n){if(n instanceof _h)return await nDe(t,e,r+1);throw n}}async function hCt(t,e,r){let n=await vs(t,e),i=(await t.fetchChainAvailability()).enabledAddressTypes,o=Lf(i),s=await Wg(e,r,o[0]),u={version:1,type:"seedless",identifier:s,seedIdentifier:e,derivationIndex:r,chains:Fh(t,n,r,o)};return await ka(t,u,!1),u}d();h();d();h();d();h();async function pE(t,e){let r=await $l(t),n=sx(e),i=r?.seedIdentifiers??[],o=r?.seedlessIdentifiers??[];return i.concat(o).includes(n)}async function tL(t,e,r,n){if((await wD(t)).length>0)throw new pD;if(n.length===0)throw new z8;if(await pE(t,e))throw new xv;let s=sx(e),u=e.fold(x=>({version:1,identifier:s,name:r,entropy:new Uint8Array(x)}));await iMe(t,u);let l=[],m=await vs(t,s);for(let x of n){let w=Wg(s,x.derivationIndex,x.derivationPathTypes[0]),E=Fh(t,m,x.derivationIndex,x.derivationPathTypes),I={version:1,type:"seedless",identifier:w,seedIdentifier:s,derivationIndex:x.derivationIndex,chains:E};await ka(t,I),l.push(I)}return l}async function iDe(t,e,r){let n=(await t.fetchChainAvailability()).enabledAddressTypes,i=0,o=Lf(n);return(await tL(t,e,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();d();h();async function rL(t,e,r,n,i=!1){let o=await pE(t,e);if(!i&&o)throw new xv;let s=sx(e),u=e.fold(x=>({version:1,identifier:s,name:r,entropy:new Uint8Array(x)}));await nMe(t,u);let l=[],m=await vs(t,s);for(let x of n){let w=await Wg(s,x.derivationIndex,x.derivationPathTypes[0]),E=Fh(t,m,x.derivationIndex,x.derivationPathTypes),I={version:1,type:"seed",identifier:w,seedIdentifier:s,derivationIndex:x.derivationIndex,chains:E};await ka(t,I),l.push(I)}return l}async function oDe(t,e,r){let n=(await t.fetchChainAvailability()).enabledAddressTypes,i=0,o=Lf(n);return(await rL(t,e,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();var sDe=qe(fx());function pCt(t){return sDe.keccak256(t)}async function aDe(t,e){let r=[];for(let{publicKey:n,derivationPath:i,authToken:o}of e){let s=pCt(n),u={version:1,type:"seedVault",identifier:s,derivationPath:i,authToken:o,publicKey:n,chainType:"solana"};r.push(u),await ka(t,u)}return r}d();h();d();h();async function nL(t,e,r){let i=(await ei(t)).find(o=>o.identifier===e);if(!i)throw new Eh;switch(i.type){case"seed":case"seedless":{let o=i.chains[r]?.pathType;if(!o)throw new hg;let s=await vs(t,i.seedIdentifier),u=t.keypairGenerator.generateKeypairFromSeed(s,i.derivationIndex,o);return Ti.from(u.privateKey)}case"privateKey":{let o=await pg(t,i.privateKeyIdentifier);if(o.chainType!==r)throw new hg;let s=t.keypairGenerator.generateKeypairFromPrivateKey(Ti.from(o.privateKey),r);return Ti.from(s.privateKey)}case"ledger":case"seedVault":throw new V8;case"readOnly":throw new H8;default:(o=>{throw new Error("invalid account type")})(i)}}d();h();d();h();d();h();var rT=new Error("Unknown error"),iL=new Error("Invalid entropy length"),tT=new Error("Invalid mn*monic sentence length"),Pie=new Error("Invalid checksum"),cDe=new RangeError("Invalid mn*monic word"),kie=new RangeError("Invalid wordlist"),Rie=new RangeError("Invalid wordlist index"),Jf=(t,e)=>{if(!t)throw e};function $g(t){Jf(t>=128,iL),Jf(t<=256,iL),Jf(t%32===0,iL)}function nT(t){Jf(t>=12,tT),Jf(t<=24,tT),Jf(t%3===0,tT)}function mE(t){Jf(t.length===2048,kie),Jf(t.every(e=>typeof e=="string"),kie)}function Cie(t,e){return nT(t),e(t*4/3)}async function oL(t,e){let r=t.length*8;$g(r);let n=r/32,i=await e(t),[o]=i,s=8-n,u=o>>>s<<s>>>0,l=new Uint8Array(t.length+1);return l.set(t,0),l[l.length-1]=u,l}function sL(t){let e=(t.length-1)*8;$g(e);let r=e/32,n=(e+r)/11,i=new ArrayBuffer(n*4),o=new DataView(i),s=0,u=0,l=0;for(let m of t)if(l+=8,u|=m<<32-l,u>>>=0,l>=11){let x=u>>>21;Jf(x>=0&&x<=2047,Rie),o.setUint32(s*4,x,!0),s++,u<<=11,u>>>=0,l-=11}return Jf(s===n,tT),new Uint32Array(i)}function uDe(t){let e=t.length;nT(e);let r=11,n=t.length*r,i=new ArrayBuffer(Math.ceil(n/8)),o=new DataView(i),s=new DataView(t.buffer),u=t.length,l=0,m=0,x=0,w=8;for(let E=0;E<u;E++){let I=s.getUint32(E*4,!0);Jf(I<2048,Rie);let M=r;for(;M>0;){let k=32-M,C=M>=w?w:M;l|=I>>32-k-C&(1<<C)-1,m+=C,l<<=w-C,l>>>=0,M-=C,w-=C,w<=0&&(w=8),m%8===0&&(o.setUint8(x,l),x++,l=0)}}return u%8!==0&&o.setUint8(x,l),new Uint8Array(i)}function Bie(t){nT(t.length);let e=uDe(t),r=e.slice(0,e.length-1);return e.fill(0),r}async function yE(t,e){let r=t.length*8;$g(r);let n=await oL(t,e),i=sL(n);return n.fill(0),i}function Oie(t,e){mE(e);let r=new Set(e),n=new Uint32Array(24),i=0,o="";for(let u=0;u<t.length;u++){let l=t[u],m=l===32,x=u===t.length-1;if(x&&(o+=String.fromCharCode(l)),m||x){Jf(r.has(o),cDe);let w=0;for(let E of e){if(o===E)break;w++}n[i++]=w,o=""}else o+=String.fromCharCode(l)}nT(i);let s=n.slice(0,i);return n.fill(0),s}async function gE(t,e,r){let n=await yE(t,r),i=new Uint8Array(n.reduce((s,u)=>s+e[u].length+1,-1)),o=0;for(let s of n){o>0&&(i[o++]=32);let u=e[s];for(let l of u)i[o++]=l.charCodeAt(0)}return n.fill(0),i}var Mie=Uint8Array.of(109,110,101,109,111,110,105,99);async function ax(t,e,r,n,i){let o=await gE(t,r,n),s=new Uint8Array(Mie.length+e.length);s.set(Mie,0),s.set(e,Mie.length);let u=await i(o,s,2048,64,"sha512");return s.fill(0),o.fill(0),u}d();h();var bE=qe(Jp());d();h();var iT=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function Die(t){switch(t){case"english":return iT}}function Nie(t){return e=>new t(e)}function Uie(t,e){return async r=>{let n=null,i=null,o=null,s=null,u=null;try{i=Bie(r),o=await oL(i,e),s=sL(o);let l=r[r.length-1],m=s[s.length-1];if(l!==m)throw Pie;u=t.fromEntropy(i)}catch(l){l instanceof Error?n=l:(console.error(l),n=rT)}finally{if(i?.fill(0),o?.fill(0),s?.fill(0),n)throw n;return u}}}function Lie(t,e){return async r=>{let n=null,i=null,o=null;try{i=Oie(r,e),o=await t.fromIndexes(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=rT)}finally{if(i?.fill(0),n)throw n;return o}}}function Fie(t,e){return r=>{let n=null,i=null,o=null;try{i=Cie(r,e),o=t.fromEntropy(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=rT)}finally{if(i?.fill(0),n)throw n;return o}}}var Kie=class{static async webCrypto(e){let r=typeof e=="string"?await Die(e):e;mE(r);let n=s=>self.crypto.getRandomValues(new Uint8Array(s)),i=async s=>new Uint8Array(await self.crypto.subtle.digest("SHA-256",s)),o=async(s,u,l,m,x)=>{let w="SHA-"+x.substring(3),E=await self.crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveBits"]),I=await self.crypto.subtle.deriveBits({name:"PBKDF2",salt:u,iterations:l,hash:w},E,m*8);return new Uint8Array(I)};return class oT{static fromEntropy=Nie(oT);static fromIndexes=Uie(oT,i);static fromMnemonic=Lie(oT,r);static fromSentenceLength=Fie(oT,n);static wordlist=r;#e;constructor(u){$g(u.length*8),this.#e=u.slice()}deriveSeed=(u=new Uint8Array)=>ax(this.#e,u,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>yE(this.#e,i);getMnemonic=()=>gE(this.#e,r,i);getSentenceLength=()=>{let u=this.#e.length*8,l=u/32;return(u+l)/11}}}static async nodeCrypto(e){let r=typeof e=="string"?await Die(e):e;mE(r);let n=s=>new Uint8Array((0,bE.randomBytes)(s).buffer),i=s=>new Uint8Array((0,bE.createHash)("sha256").update(s).digest().buffer),o=(...s)=>new Promise((u,l)=>{(0,bE.pbkdf2)(...s,(m,x)=>{if(m)return l(m);u(new Uint8Array(x.buffer))})});return class sT{static fromEntropy=Nie(sT);static fromIndexes=Uie(sT,i);static fromMnemonic=Lie(sT,r);static fromSentenceLength=Fie(sT,n);static wordlist=r;#e;constructor(u){$g(u.length*8),this.#e=u.slice()}deriveSeed=(u=new Uint8Array)=>ax(this.#e,u,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>yE(this.#e,i);getMnemonic=()=>gE(this.#e,r,i);getSentenceLength=()=>{let u=this.#e.length*8,l=u/32;return(u+l)/11}}}static async customCrypto(e,r){let n=typeof e=="string"?await Die(e):e;mE(n);let{random:i,sha256:o,pbkdf2:s}=r;return class aT{static fromEntropy=Nie(aT);static fromIndexes=Uie(aT,o);static fromMnemonic=Lie(aT,n);static fromSentenceLength=Fie(aT,i);static wordlist=n;#e;constructor(l){$g(l.length*8),this.#e=l.slice()}deriveSeed=(l=new Uint8Array)=>ax(this.#e,l,n,o,s);getEntropy=()=>this.#e.slice();getIndexes=()=>yE(this.#e,o);getMnemonic=()=>gE(this.#e,n,o);getSentenceLength=()=>{let l=this.#e.length*8,m=l/32;return(l+m)/11}}}};async function fDe(t,e){let r,n=await t.secureCache.getSeed(e);if(n)r=n;else{let o=await zg(t,e);try{r=await o.foldAsync(async u=>ax(u,new Uint8Array,iT,zl,(l,m,x,w)=>iv(zl,l,m,{c:x,dkLen:w})))}catch{throw new Error("InvalidEntropyBip39")}await t.secureCache.setSeed(e,r)}let i=Ti.from(r);return r.fill(0),i}var mCt=new mp,yCt=new hg,gCt=new wv,Yn={unableToLoadAccounts:{status:"unable-to-load-accounts",isOnboarded:!1,reonboardingNeeded:!1},unonboarded:{status:"unonboarded",isOnboarded:!1,reonboardingNeeded:!1},invalidIdentifier:{status:"invalid-identifier",isOnboarded:!0,reonboardingNeeded:!0},fetchIntegrityStorageError:{status:"fetch-integrity-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchEntropyStorageError:{status:"fetch-entropy-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchPkStorageError:{status:"fetch-pk-storage-error",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropy:{status:"invalid-entropy",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBip39:{status:"invalid-entropy-bip-39",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksumBits:{status:"invalid-checksum-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBits:{status:"invalid-entropy-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksum:{status:"invalid-checksum",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthLessThanTwelve:{status:"invalid-entropy-length-less-than-twelve",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthMoreThanTwentyFour:{status:"invalid-entropy-length-more-than-twenty-four",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthWrongWord:{status:"invalid-entropy-length-wrong-word",isOnboarded:!0,reonboardingNeeded:!0},invalidPkAddressType:{status:"invalid-pk-address-type",isOnboarded:!0,reonboardingNeeded:!0},invalidPkIdentifier:{status:"invalid-pk-identifier",isOnboarded:!0,reonboardingNeeded:!0},invalidPk:{status:"invalid-pk",isOnboarded:!0,reonboardingNeeded:!0},internalError:{status:"internal-error",isOnboarded:!0,reonboardingNeeded:!0},safelyOnboarded:{status:"safely-onboarded",isOnboarded:!0,reonboardingNeeded:!1}};async function hDe(t){let e;try{if(e=await ei(t),e.length===0)return Yn.unonboarded}catch{return Yn.unableToLoadAccounts}return bCt(t,e)}var bCt=async(t,e)=>{let r=await vCt(t,e);if(r.status!=="safely-onboarded")return r;try{let s=await pee(t);if(s?.version===3&&s?.isSafelyOnboarded)return Yn.safelyOnboarded}catch{return Yn.fetchIntegrityStorageError}let n=await dDe(t,e,"seed"),i=await dDe(t,e,"seedless"),o=await wCt(t,e);return n.status!=="safely-onboarded"?n:i.status!=="safely-onboarded"?i:o.status!=="safely-onboarded"?o:(await hee(t,{version:3,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),Yn.safelyOnboarded)},vCt=async(t,e)=>{try{if((await pee(t))?.isSafelyOnboarded)return Yn.safelyOnboarded}catch{return Yn.fetchIntegrityStorageError}let r=await lDe(t,e,"seed"),n=await lDe(t,e,"seedless");return r.status!=="safely-onboarded"?r:n.status!=="safely-onboarded"?n:(await hee(t,{version:1,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),Yn.safelyOnboarded)},lDe=async(t,e,r)=>{let n=new Set;for(let i of e)i.type===r&&n.add(i.seedIdentifier);for(let i of n)try{await zg(t,i)}catch(o){if(o instanceof Error){if(o.message===mCt.message)return Yn.invalidIdentifier;if(o.message.match(/ExpoSecureStorage/))return Yn.fetchEntropyStorageError}return Yn.internalError}return Yn.safelyOnboarded},xCt=t=>{if(!(t instanceof Error))return Yn.invalidEntropy;let e=[[/ExpoSecureStorage/,Yn.fetchEntropyStorageError],[/InvalidEntropyBip39/,Yn.invalidEntropyBip39],[/LessThanTwelve/,Yn.invalidEntropyLengthLessThanTwelve],[/MoreThanTwentyFour/,Yn.invalidEntropyLengthMoreThanTwentyFour],[/WrongWord/,Yn.invalidEntropyLengthWrongWord],[/InvalidChecksumBits/,Yn.invalidChecksumBits],[/InvalidEntropyBits/,Yn.invalidEntropyBits],[/InvalidChecksum/,Yn.invalidChecksum]];for(let[r,n]of e)if(t.message.match(r))return n;return Yn.invalidEntropy},dDe=async(t,e,r)=>{let n=new Set;for(let i of e)i.type===r&&n.add(i.seedIdentifier);for(let i of n)try{await fDe(t,i)}catch(o){return xCt(o)}return Yn.safelyOnboarded},wCt=async(t,e)=>{for(let r of e)if(r.type==="privateKey")try{await nL(t,r.identifier,r.chainType)}catch(n){if(n instanceof Error){if(n.message===yCt.message)return Yn.invalidPkAddressType;if(n.message===gCt.message)return Yn.invalidPkIdentifier;if(n.message.match(/ExpoSecureStorage/))return Yn.fetchPkStorageError}return Yn.invalidPk}return Yn.safelyOnboarded};d();h();async function pDe(t){let e=(await t.fetchChainAvailability()).enabledAddressTypes,r=!1,n=await ei(t);if(n.length===0)return r;let i=new Map;for(let o of n){if(o.type!=="seed"&&o.type!=="seedless")continue;let s=i.get(o.seedIdentifier);s?s.push(o):i.set(o.seedIdentifier,[o])}for(let[o,s]of i){let u;for(let l of s)if(!(l.chains&&!cee(Object.values(l.chains)[0].pathType)))for(let m of e){if(l.chains[m])continue;u||(u=await vs(t,o));let w=Lf([m]),E=Fh(t,u,l.derivationIndex,w);l.chains={...l.chains,...E},r=!0}}return r&&await gp(t,n),r}d();h();d();h();d();h();d();h();var gDe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),mDe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),SCt=BigInt(1),qie=BigInt(2),yDe=(t,e)=>(t+e/qie)/e;function ACt(t){let e=gDe,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),u=BigInt(44),l=BigInt(88),m=t*t*t%e,x=m*m*t%e,w=Du(x,r,e)*x%e,E=Du(w,r,e)*x%e,I=Du(E,qie,e)*m%e,M=Du(I,i,e)*I%e,k=Du(M,o,e)*M%e,C=Du(k,u,e)*k%e,R=Du(C,l,e)*C%e,L=Du(R,u,e)*k%e,P=Du(L,r,e)*x%e,K=Du(P,s,e)*M%e,V=Du(K,n,e)*m%e,j=Du(V,qie,e);if(!Vie.eql(Vie.sqr(j),t))throw new Error("Cannot find square root");return j}var Vie=SU(gDe,void 0,void 0,{sqrt:ACt}),aL=EU({a:BigInt(0),b:BigInt(7),Fp:Vie,n:mDe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=mDe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-SCt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),u=yDe(o*t,e),l=yDe(-n*t,e),m=Ba(t-u*r-l*i,e),x=Ba(-u*n-l*o,e),w=m>s,E=x>s;if(w&&(m=e-m),E&&(x=e-x),m>s||x>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:w,k1:m,k2neg:E,k2:x}}}},TU),D3n=BigInt(0);var N3n=aL.ProjectivePoint;async function bDe(){let t=aL.utils.randomPrivateKey();return{publicKey:aL.getPublicKey(t),privateKey:t}}var vDe=t=>`${Iu}.perps.agent.keypair.${t}`,cL=async(t,e,r=!1)=>{let n=await ECt(t,e);if(n&&!r)return n;let i=await bDe();return await _Ct(t,i,e),i},ECt=async(t,e)=>{let r=vDe(e),n=null;try{n=await t.secretsStorage.getSecureValue(r)}catch{}if(!n)return null;let i=n.keyPair,o=new Uint8Array(Buffer.from(i.publicKey.bytes,i.publicKey.encoding)),s=new Uint8Array(Buffer.from(i.privateKey.bytes,i.privateKey.encoding));return{publicKey:o,privateKey:s}},_Ct=async(t,e,r)=>{let n=vDe(r),i={publicKey:{bytes:Buffer.from(e.publicKey).toString("base64"),encoding:"base64"},privateKey:{bytes:Buffer.from(e.privateKey).toString("base64"),encoding:"base64"}},o={version:1,identifier:r,keyPair:i};await t.secretsStorage.setSecureValue(n,o)};var xDe=async(t,e,r=!1)=>{let{publicKey:n}=await cL(t,e,r);return ds({publicKey:n,addressType:"eip155"})};d();h();d();h();var Hie="m/23001'/0'";async function vE(t,e){let r;switch(e.type){case"seedless":case"seed":r=e.seedIdentifier;break;case"privateKey":r=e.privateKeyIdentifier;break}let n=await t.secureCache.getClientJWTSigner(r,Hie);if(n)return{publicKey:n.p256pubkey,privateKey:n.p256privkey};let i;switch(e.type){case"seedless":case"seed":{i=(await vs(t,e.seedIdentifier)).fold(s=>new fa(s));break}case"privateKey":{let o=await pg(t,e.privateKeyIdentifier);i=new fa(o.privateKey);break}}try{let o=i.derivePath({ellipticCurve:"ed25519",derivationPath:Hie,bytesInPrivateKey:64}),s=AU(o.secretKey,tx.CURVE.n),u=tx.getPublicKey(s);return await t.secureCache.setClientJWTSigner(r,Hie,{p256pubkey:u,p256privkey:s}),{publicKey:u,privateKey:s}}finally{i.cleanup()}}var TCt=t=>t.type==="seed"||t.type==="seedless"||t.type==="privateKey",wDe=async(t,e)=>{let r=await ei(t);if(r.length===0)throw new Error("No accounts, unable to get authentication public key.");let i=r.filter(TCt).find(s=>s.type==="privateKey"?s.privateKeyIdentifier===e:s.seedIdentifier===e);if(!i)throw new Error("Unable to derive authentication public key for given secret identifier.");let o=await vE(t,i);return Jn(o.publicKey)};d();h();var SDe=qe(Da());d();h();var ICt="m/24001'/0'",uL=async t=>{let e=await ei(t);if(e.length===0)throw new Error("No accounts, unable to derive cash key.");let r=e[0],n;switch(r.type){case"seed":case"seedless":{n=(await vs(t,r.seedIdentifier)).fold(o=>new fa(o));break}case"privateKey":{let i=await pg(t,r.privateKeyIdentifier);n=new fa(i.privateKey);break}default:throw new Error(`Account type ${r.type} is not supported, unable to derive cash key.`)}try{let i=n.derivePath({ellipticCurve:"ed25519",derivationPath:ICt,bytesInPrivateKey:64});return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{n.cleanup()}};var ADe=async t=>{let{publicKey:e}=await uL(t);return SDe.default.encode(e)};d();h();async function EDe(t,e){let r=await ei(t);if(r.length===0)throw new Eh;let n=r.filter(i=>i.identifier!==e);await gp(t,n),await dee(t)}d();h();async function _De(t,e,r){let n=await ei(t);if(r<0||r>=n.length)throw new Eh;let i=n.map(s=>s.identifier).indexOf(e);if(i<0)throw new Eh;if(i===r)return;let o=n[i];n.splice(i,1),n.splice(r,0,o),await gp(t,n)}d();h();d();h();function MCt(t){let e;async function r(){if(e)return e;let o=await ei(t),s=o.find(u=>u.type==="seedless")??o.find(u=>u.type==="seed")??o.find(u=>u.type==="privateKey");if(!s)throw new Error("No suitable account found to derive authentication key");return e=s,e}async function n(){let o=await r();return vE(t,o)}return{getPublicKey:async()=>Jn((await n()).publicKey),signRpcPayload:async o=>{let s=await n(),u=await t.vaultSigner.signWithKeypair(s,{isKMSPKIAuthenticator:!0,payload:o});if("status"in u&&u.status==="error")throw new Error(u.message);return u.signature}}}function fL(t){return Cne({authenticator:MCt(t)})}async function lL(t,e,r){let n=e.chains[r]?.pathType;if(!n)return kr("invalidAddressType",`Seed Account does not contain a chain address for the chain type ${r}.`);let i=await vs(t,e.seedIdentifier);return t.keypairGenerator.generateKeypairFromSeed(i,e.derivationIndex,n)}async function TDe(t,e,r){let n=await ei(t),i=n.find(o=>o.identifier===e);if(!i)return kr("invalidAccountId",`Vault (${n.length} account(s) found) does not contain an account for the given identifier: ${e}`);if("isAgentWallet"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await cL(t,i.identifier);return t.vaultSigner.signWithKeypair(o,r)}default:return kr("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isJWT"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await vE(t,i);return t.vaultSigner.signWithKeypair(o,r)}default:return kr("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isKMSPKIAuthenticator"in r)return kr("unsupportedOperation","Signing with the KMS PKI authenticator key is not supported through the external vault interface, as this key is reserved for internal authentication purposes.");if("isCash"in r){if("isCashKMS"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let s=fL(t),u=await uee(s);return t.vaultSigner.signWithKMS(s,{organizationId:u.organizationId,walletId:u.walletId,derivationPath:u.account.derivationPath},r)}default:return kr("unsupportedOperation","Invalid signingAccount type provided for paramType")}let o=await uL(t);return t.vaultSigner.signWithKeypair(o,r)}switch(i.type){case"seedless":case"seed":{switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{enabledAddressTypes:o}=await t.fetchChainAvailability(),s={},u=Object.keys(i.chains).filter(l=>Dd.safeParse(l).success).filter(l=>o.includes(l));for(let l of u){let m=await lL(t,i,l);if("status"in m&&m.status==="error")return m;s[l]=m}return t.vaultSigner.signWithKeypair(s,r)}case"eip155":{let o=await lL(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}case"solana":{let o=await lL(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}case"sui":{let o=await lL(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}}break}case"privateKey":{let o=await pg(t,i.privateKeyIdentifier);if(o.chainType!==r.chainType)return kr("invalidAddressType",`Private Key account from accountID is a different chain type from params. Expected ${o.chainType}, got ${r.chainType}`);let s=t.keypairGenerator.generateKeypairFromPrivateKey(Ti.from(o.privateKey),r.chainType);switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return t.vaultSigner.signWithKeypair({[r.chainType]:s},r);case"eip155":return t.vaultSigner.signWithKeypair(s,r);case"solana":return t.vaultSigner.signWithKeypair(s,r);case"sui":return t.vaultSigner.signWithKeypair(s,r)}break}case"ledger":{let o=i.chains[r.chainType];if(!o)return kr("invalidAddressType",`Ledger Account does not contain a chain address for the chain type ${r.chainType}.`);let s=OP.safeParse({pathType:o.pathType,index:i.derivationIndex});if(!s.success)return kr("invalidDerivationPath","Unsupported Derivation Path. Ledger account derivation path type is incompatible with ChainType in signing params.");let u=$w(s.data);return t.vaultSigner.signWithHardware(e,u,r)}case"seedVault":{let{authToken:o,derivationPath:s,chainType:u}=i;return u!==r.chainType?kr("invalidAddressType",`Solana Seed Vault account from accountID is a different chain type from params. Expected ${u}, got ${r.chainType}`):t.vaultSigner.signWithSolanaSeedVault(o,s,r)}case"readOnly":return kr("unsupportedOperation","Read Only Accounts cannot sign transactions.");default:(o=>{throw new Error("invalid account type")})(i)}}d();h();function jie(t){switch(t.type){case"seed":return cT(t);case"seedless":return uT(t);case"privateKey":return Wie(t);case"ledger":return zie(t);case"seedVault":return Gie(t);case"readOnly":return t}}function zie(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let u;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;u={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,x=Object.values(xo).reduce((w,E)=>{let I=l?l[E]:void 0;if(!I)throw new vv;return{...w,[E]:I}},{});u={...m,addresses:x};break}case"sui":{u=s;break}}i[o]=u}return{...n,chains:i}}function Wie(t){switch(t.chainType){case"solana":case"eip155":{let{publicKey:e,version:r,...n}=t;return{...n,address:e}}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:e,version:r,...n}=t,i=Object.values(xo).reduce((o,s)=>{let u=e?e[s]:void 0;if(!u)throw new vv;return{...o,[s]:u}},{});return{...n,addresses:i}}case"sui":return t}}function Gie(t){let{publicKey:e,version:r,...n}=t;return{...n,address:e}}function cT(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let u;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;u={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,x=Object.values(xo).reduce((w,E)=>{let I=l?l[E]:void 0;if(!I)throw new vv;return{...w,[E]:I}},{});u={...m,addresses:x};break}case"sui":{u=s;break}}i[o]=u}return{...n,chains:i}}function uT(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let u;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;u={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,x=Object.values(xo).reduce((w,E)=>{let I=l?l[E]:void 0;if(!I)throw new vv;return{...w,[E]:I}},{});u={...m,addresses:x};break}case"sui":u=s}i[o]=u}return{...n,chains:i}}function kCt(t){return{addSeedWithDefaultAccount:(e,r)=>oDe(t,e,r).then(cT),addAccountForExistingSeed:e=>FOe(t,e).then(cT),addSeedWithMultipleAccounts:(e,r,n,i)=>rL(t,e,r,n,i).then(o=>o.map(cT)),addPrivateKeyAccount:(e,r,n)=>XOe(t,e,r,n).then(Wie),addLedgerAccounts:(e,r)=>QOe(t,e,r).then(n=>n.map(zie)),addSolanaSeedVaultAccounts:e=>aDe(t,e).then(r=>r.map(Gie)),addReadonlyAccount:e=>tDe(t,e),deriveAddresses:()=>pDe(t),removeAccount:e=>EDe(t,e),reorderAccount:(e,r)=>_De(t,e,r),exportEntropy:e=>zg(t,e),exportPrivateKey:(e,r)=>nL(t,e,r),fetchAllAccounts:()=>ei(t).then(e=>e.map(jie)),fetchAllSeedMetas:()=>eMe(t),fetchAllSeedlessMetas:()=>wD(t),sign:(e,r)=>TDe(t,e,r),isExistingSeed:e=>pE(t,e),checkVaultIntegrity:()=>hDe(t),clearVault:()=>oMe(t),addSeedlessWithMultipleAccounts:(e,r,n)=>tL(t,e,r,n).then(i=>i.map(uT)),addSeedlessWithDefaultAccount:(e,r)=>iDe(t,e,r).then(uT),addAccountForExistingSeedless:e=>rDe(t,e).then(uT),getAuthenticationPublicKey:e=>wDe(t,e),getCashAddress:()=>ADe(t),getAgentAddress:(e,r)=>xDe(t,e,r),getKMSInstance:()=>fL(t)}}d();h();d();h();var $ie=class{#e;#t;#r;constructor(e,r,n){this.#e=e,this.#t=r,this.#r=n}identifyAccount=async(e,r,n)=>{let i=!!r.addresses.find(M=>je.isSolanaNetworkID(M.networkID)),o=!!r.addresses.find(M=>je.isEthereumNetworkID(M.networkID)),s=!!r.addresses.find(M=>je.isBitcoinNetworkID(M.networkID)),u=!!r.addresses.find(M=>je.isSuiNetworkID(M.networkID)),l={hasSolanaAddress:i,hasEthereumAddress:o,hasBitcoinAddress:s,hasSuiAddress:u},m=n.enabledChainIDs.map(M=>je[M].name).join(", "),x=new Set;for(let M of e)switch(M.type){case"seed":case"seedless":x.add(M.seedIdentifier);break;case"readOnly":case"privateKey":case"ledger":case"seedVault":break;default:Bt(M);break}let{id:w,type:E}=await this.getIdentifyID(r),I=await this.getUsername();switch(r.type){case"seed":case"seedless":this.#e.identify(w,{...l,accountType:r.type,rootID:r.seedIdentifier,rootIds:Array.from(x),accountID:r.identifier,isReadOnly:!1,enabledChains:m,idType:E,username:I});break;case"readOnly":this.#e.identify(w,{...l,accountType:r.type,isReadOnly:!0,enabledChains:m,idType:E,username:I});break;case"privateKey":case"ledger":case"seedVault":this.#e.identify(w,{...l,accountType:r.type,rootIds:Array.from(x),accountID:r.identifier,isReadOnly:!1,enabledChains:m,idType:E,username:I});break;default:Bt(r)}};getIdentifyID=async e=>{let r=await this.#t.getUser().catch(()=>{});return r?{type:"userID",id:r.userID}:{type:"accountID",id:e.identifier}};getUsername=async()=>{let e=await this.#r.getUserProfile().catch(()=>{});if(e)return e.username};onAppSessionStart=e=>{let r=new Map;for(let n of e){if(n.type==="readOnly")continue;let{addresses:i,identifier:o}=n;for(let s of i){let u=je.getChainName(s.networkID),l={type:n.type,accountId:o,id:s.address};if(!r.get(u))r.set(u,[l]);else{let m=r.get(u)??[];r.set(u,[...m,l])}}}this.#e.capture("appSessionStart",{data:{ids:Object.fromEntries(r)}})}};d();h();d();h();d();h();d();h();var dL=qe(ur());d();h();var ld=()=>{let t=Dt(),{data:[e],isLoading:r}=MZ(["enable-arbitrum"]);return Lr({enabled:!r,queryKey:cv.chainAvailability({isArbitrumEnabled:e}),queryFn:()=>FO(t,e)})};d();h();var Yie=()=>{let t=Lt(),e=Dt();return jt({mutationFn:async({addressTypes:n})=>{for(let i of n)await JJ(i,e);cp(t)}})};d();h();var PCt=()=>{let t=Dt(),e=Lt();return jt({mutationFn:async({chainIDs:n})=>{for(let i of n)await $J(i,t);cp(e)}})};d();h();var Zie=()=>{let t=Lt(),e=Dt(),{deriveAddresses:r}=M8();return jt({mutationFn:async({addressTypes:i})=>{for(let o of i)await QJ(o,e);await r(),await cp(t)}})};d();h();var RCt=()=>{let t=Dt(),e=Lt(),{deriveAddresses:r}=M8();return jt({mutationFn:async({chainIDs:i})=>{for(let o of i)await YJ(o,t);await r(),await cp(e)}})};d();h();var CCt=()=>{let t=Dt(),{mutateAsync:e}=Yie(),{mutateAsync:r}=Zie();return jt({mutationFn:async({addressTypes:i})=>{if(await ZJ(t))await r({addressTypes:i});else{let s=new Set(je.bitcoin.addressTypes);for(let u of i)s.delete(u);if(s.size===je.bitcoin.addressTypes.length&&s.delete("bip122_p2wpkh"),s.size>0){let u=Array.from(s);await e({addressTypes:u})}}}})};var Qie=je.getAllChainIDs().filter(t=>je.isChainDefaultEnabled(t)),IDe=Qie.map(t=>je.getMainnetNetworkID(t)),BCt=IDe.flatMap(t=>je.getAddressTypes(t)),MDe=()=>ld().data?.enabledAddressTypes??BCt,xE=()=>ld().data?.enabledChainIDs??Qie,S5n=()=>ld().data?.supportedChainIDs??Qie,A5n=t=>{let e=ld().data;return e?t?e.enabledNetworkIDs:e.enabledMainnetOnlyNetworkIDs:IDe},E5n=()=>xE().length===1,_5n=()=>{let t=xE();return(0,dL.useMemo)(()=>je.getChainIDs("eip155").some(e=>t.includes(e)),[t])},T5n=()=>{let t=xE();return(0,dL.useMemo)(()=>t.length===1&&t.includes("solana"),[t])},I5n=t=>{let e=xE();return(0,dL.useMemo)(()=>t.map(r=>e.includes(r)),[e,t])};d();h();d();h();d();h();d();h();var wE=async t=>{let e=await t.get("networkSetting");if(!e)return k8();let r=OCt(e);return DCt(t,r)};function OCt(t){let e={...t,setting:{...t.setting}};return e.setting.sui||(e.setting.sui=k8().setting.sui),e}var DCt=async(t,e)=>{let r=!1;NCt(e)&&(r=!0);let n=e.setting.solana;n&&je.isMainnetNetworkID(n)&&(e.setting.solana=HS,r=!0);let i=e.setting.eip155;return i&&je.isMainnetNetworkID(i)&&(e.setting.eip155=jS,r=!0),r&&await t.set("networkSetting",e),e},NCt=t=>{let e=!1,r=t.setting.eip155;return r&&(r.toString()==="eip155:5"&&(t.setting.eip155=Sr.Ethereum.Sepolia,e=!0),r.toString()==="eip155:80001"&&(t.setting.eip155=Sr.Polygon.Amoy,e=!0)),e};var Jie=async(t,e,r)=>{let n=await t.fetchAllAccounts();if(n.length===0)return[];let i=e.get("developerMode"),o=wE(e),s=nee(e),[u,l,m]=await Promise.all([i,o,s]);return n.map(x=>{let w=m[x.identifier];w||(w={name:Up.t("onboardingImportAccountsAccountName",{walletIndex:""})});let E={name:w.name,icon:w.icon,identifier:x.identifier,addresses:G8(x,r.enabledMainnetOnlyNetworkIDs,r.enabledAddressTypes,r.enabledChainIDs,l,u?.isDeveloperMode??!1)};return x.type==="seed"?{...E,type:"seed",seedIdentifier:x.seedIdentifier,isReadOnly:!1}:x.type==="seedless"?{...E,type:"seedless",seedIdentifier:x.seedIdentifier,isReadOnly:!1}:x.type==="readOnly"?{...E,type:"readOnly",isReadOnly:!0}:x.type==="privateKey"?{...E,privateKeyIdentifier:x.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...E,type:x.type,isReadOnly:!1}})};function cx(t){let{isSuccess:e,data:r}=ld(),n=bi(),i=nr.allAccounts(r),o=Dt();return Lr({enabled:e,queryKey:i,queryFn:async()=>{if(!r)throw new Error($8);let u=await Jie(n,o,r);return Qe.addBreadcrumb("account",`Finished fetching all accounts. Num accounts: ${u.length}`,"info"),u},select:t})}var hL=()=>{let{isSuccess:t,isFetching:e,data:r=[]}=cx(),n=t&&!e&&!!r.length;return n?{enabled:n,accounts:r}:{enabled:n}};d();h();var Zn=async t=>{await t.invalidateQueries({queryKey:[GX]}),await t.invalidateQueries({queryKey:[rA],predicate:e=>e.queryKey[0]===rA}),await t.invalidateQueries({queryKey:[F8]}),await pL(t)},pL=async t=>{await t.invalidateQueries({predicate:e=>typeof e.queryKey[0]=="string"&&e.queryKey[0]===K8}),await t.invalidateQueries({queryKey:nr.selectedAccountIdentifier()})};eX(Zn);d();h();d();h();d();h();var Gs=[];for(let t=0;t<256;++t)Gs.push((t+256).toString(16).slice(1));function kDe(t,e=0){return(Gs[t[e+0]]+Gs[t[e+1]]+Gs[t[e+2]]+Gs[t[e+3]]+"-"+Gs[t[e+4]]+Gs[t[e+5]]+"-"+Gs[t[e+6]]+Gs[t[e+7]]+"-"+Gs[t[e+8]]+Gs[t[e+9]]+"-"+Gs[t[e+10]]+Gs[t[e+11]]+Gs[t[e+12]]+Gs[t[e+13]]+Gs[t[e+14]]+Gs[t[e+15]]).toLowerCase()}d();h();var Xie,UCt=new Uint8Array(16);function eoe(){if(!Xie){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Xie=self.crypto.getRandomValues.bind(self.crypto)}return Xie(UCt)}d();h();d();h();var LCt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),toe={randomUUID:LCt};function FCt(t,e,r){if(toe.randomUUID&&!e&&!t)return toe.randomUUID();t=t||{};let n=t.random??t.rng?.()??eoe();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return kDe(n)}var roe=FCt;d();h();function mL(){let t=Dt(),e=Lt();return jt({mutationFn:async({metadataBatch:o})=>{Qe.addBreadcrumb("account",`Adding Account Metadata Batch: ${Object.entries(o).length} entries`,"info"),await XX(t,o)},onSuccess:async()=>{await Zn(e)},onError:o=>{Qe.captureError(o,"account")}})}function KCt(){let{mutateAsync:t}=mL(),e=Dt(),r=Lt(),n=bi(),{t:i}=jh();return jt({mutationFn:async({accounts:l,pairedBLEDevice:m})=>{let x=roe(),w=await n.connectLedgerAccounts(x,l),E=w.reduce((M,k,C)=>{let{name:R,accountIndex:L}=l[C],P;!R||R.length===0?P=i("onboardingImportAccountsLedgerAccountName",{walletIndex:1+L}):P=R;let K;m&&(K=[{...m,version:1,connectionType:"ble",deviceType:"ledger"}]);let V={name:P,icon:void 0,connectedDevices:K};return M[k.identifier]=V,M},{});await t({metadataBatch:E});let I=w[0]?.identifier;return I||(I=(await n.fetchAllAccounts())[0].identifier),await Tu(e,I),r.setQueryData(nr.selectedAccountIdentifier(),I),w},onSettled:async()=>{await Zn(r)},onError:l=>Qe.captureError(l,"account")})}d();h();function Gc({select:t}={}){let{isSuccess:e,data:r}=ld(),n=hL(),i=n.enabled&&e,o=Dt(),s=kX(),u=nr.selectedAccount(r);return Lr({queryKey:u,queryFn:async()=>{try{if(!r)throw new Error($8);if(!n.enabled)throw new Error(nA);let m=await yp(n.accounts,o);return Qe.addBreadcrumb("account",`Finished fetching selected account: ${m.identifier}`,"info"),s.identifyAccount(n.accounts,m,r),m}catch(m){throw m instanceof Error&&Qe.captureError(m,"account"),m}},enabled:i,select:t})}d();h();var SE=qe(ur()),PDe=(0,SE.createContext)(null);function qCt({children:t,analytics:e}){return SE.default.createElement(PDe.Provider,{value:e},t)}function sc(){let t=(0,SE.useContext)(PDe);if(!t)throw new Error("useAnalytics must be used within a AnalyticsProvider");return t}d();h();d();h();var AE=qe(ur()),RDe=(0,AE.createContext)(null);function VCt({children:t,userRepository:e}){return AE.default.createElement(RDe.Provider,{value:{userRepository:e}},t)}function HCt(){let t=(0,AE.useContext)(RDe);if(!t)throw new Error("useUserContext must be used within a UserProvider");return t}function Uu(){return HCt().userRepository}d();h();d();h();d();h();var fT=t=>`/user/v1/users/${t}/profile`,yL=t=>`/user/v1/profiles/${t}`,CDe=()=>"/user/v1/profiles/creation-check";d();h();d();h();var lT=(i=>(i.PUBLIC="public",i.PRIVATE="private",i.INVISIBLE="invisible",i.HIDDEN="hidden",i))(lT||{}),jCt=Object.values(lT),DDe=B.string().brand("ProfileId"),gL=B.object({id:DDe,username:B.string(),icon:B.string().nullish(),addresses:B.record(B.string(),B.string()),privacyState:B.nativeEnum(lT).optional().default("public"),biography:B.string().nullish(),phantomJoinDate:B.string().nullish()}),noe=B.string().url().brand("ActorId"),zCt=B.object({id:B.string().optional(),orderedItems:noe.array(),next:B.string().optional()}),BDe=B.object({id:B.string().url(),current:zCt.optional(),totalItems:B.number().optional()}),ODe=B.object({type:B.string(),value:B.string().optional(),name:B.string().optional()}),WCt=B.object({id:B.string().url().optional(),name:B.string().optional(),type:B.string()}),GCt=B.object({id:noe,name:B.string(),preferredUsername:B.string(),manuallyApprovesFollowers:B.boolean(),followers:B.union([BDe,B.string().url()]),following:B.union([BDe,B.string().url()]),icon:WCt.nullish(),attachment:B.union([ODe,B.array(ODe)]).optional(),summary:B.string().nullish(),published:B.string().nullish()}).transform(t=>{let{attachment:e,...r}=t,n={},i=!1,o=!1,s=!1,u=!1,l=!1;if(e){let m=Array.isArray(e)?e:[e];for(let x of m)if(!(!x.name||!x.value)){if(x.name.endsWith(":address")){let w=gl.safeParse(x.name.replace(":address",""));if(w.success){let E=w.data;n[E]=x.value}}x.name==="requesting"&&(i=x.value==="true"),x.name==="requestedBy"&&(o=x.value==="true"),x.name==="blocking"&&(s=x.value==="true"),x.name==="following"&&(u=x.value==="true"),x.name==="followedBy"&&(l=x.value==="true")}}return{...r,addresses:n,isSentFollowRequestPending:i,hasPendingFollowRequest:o,isBlocking:s,isFollowing:u,isFollowedBy:l}}),$Ct={Image:"image",Emoji:"emoji",ReadOnlyDefault:"read-only-default",Default:"default"},MIn=B.object({type:B.nativeEnum($Ct),imageUrl:B.string().optional(),unicode:B.string().optional()}),ioe=B.object({error:B.object({message:B.string()})});var ooe=async t=>{let e=await In.api().get(yL(t)),r=gL.safeParse(e.data);return r.success?r.data:null};var YCt=t=>({getUsernameAvailability:e=>ZCt(e),getUserProfile:()=>QCt(t),getUserProfileByUsername:e=>ooe(e),getUserProfileByUsernameOrUserProfileId:e=>ooe(e),setUserProfile:({username:e,addresses:r,icon:n,privacyState:i})=>JCt(t,{username:e,addresses:r,icon:n,privacyState:i}),patchUserProfile:e=>XCt(t,e),deleteUserProfile:()=>eBt(t),isEligibleToClaim:e=>tBt(e)}),ZCt=async t=>{switch((await In.api().get(yL(t))).status){case 200:return!1;case 403:return!1;case 404:return!0;default:throw new Error("Failed to check for username availability.")}},QCt=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to get user profile.");let{userID:r,accessToken:n}=e,i=await In.api().bearer(n).get(fT(r)),o=gL.safeParse(i.data);return o.success?o.data:null},JCt=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:i})=>{let o=await t.getUser();if(!o)throw new Error("User is not logged in, unable to claim username.");let{userID:s,accessToken:u}=o,l=await In.api().bearer(u).post(fT(s),{username:e,icon:n,addresses:r,privacyState:i});if(l.status===201)return;let m=ioe.safeParse(l.data);throw m.success?new Error(m.data.error.message):new Error("Unknown error")},XCt=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:i,biography:o})=>{let s=await t.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:u,accessToken:l}=s,m=await In.api().bearer(l).patch(fT(u),{username:e,addresses:r,icon:n,privacyState:i,biography:o});if(m.status===200)return;Qe.captureMessage(`Failed to patch user profile: ${m.status} ${JSON.stringify(m.data)}`,"Auth");let x=ioe.safeParse(m.data);throw x.success?new Error(x.data.error.message):new Error("Unknown error")},eBt=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,i=await In.api().bearer(n).delete(fT(r));return 200<=i.status&&i.status<300},tBt=async t=>{try{return(await In.api().post(CDe(),{addresses:t})).status===200}catch{return!1}};d();h();var bL="@phantom/users",$c={checkUsernameAvailability(t){return["user",`${bL}:check-username-availability`,{username:t}]},userProfile(){return["user",`${bL}:user-profile`]},userProfileAttributeEffect(t){return["user",`${bL}:user-profile-attribute-effect`,{username:t}]}};d();h();var rBt=new Set([$c.userProfile()[1]]),nBt=t=>{let e=t.queryKey[1];return typeof e!="string"||!e?!1:rBt.has(e)};d();h();d();h();d();h();function vL(t,e){let r=new WeakMap;return()=>{let n=t();if(n===void 0)return;let i=r.get(n);return i===void 0&&(i=e(n),r.set(n,i)),i}}var dT=vL(sc,t=>new xL(t)),xL=class{#e;constructor(e){this.#e=e}onClaimFlowStart(){this.#e.capture("userUsernameClaimFlowStart")}onCheckAvailability(e,r){this.#e.capture("userUsernameCheckAvailability",{data:{username:e,isAvailable:r}})}onAvatarSaved(e){this.#e.capture("userUsernameClaimFlowAvatarSaved",{data:{avatarType:e}})}onAnonymousAuthSaved(e,r){this.#e.capture("userUsernameClaimFlowAnonymousAuthSaved",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkWalletsSaved(e,r){this.#e.capture("userUsernameClaimFlowLinkWalletsSaved",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPublicAddressesSaved(){this.#e.capture("userUsernameClaimFlowPublicAddressesSaved")}onClaimFlowComplete(e,r){this.#e.capture("userUsernameClaimComplete",{data:{username:e,authUserID:r}})}};d();h();var soe=async t=>{await t.removeQueries({queryKey:$c.userProfile()})},aoe=async t=>{await t.resetQueries({queryKey:$c.userProfile()})},ux=async t=>{await t.invalidateQueries({queryKey:$c.userProfile()})};function iBt(){let t=dT(),e=Ff(),r=Uu(),n=Lt(),i=async({username:o,addresses:s,icon:u})=>{Qe.addBreadcrumb("Auth",`Claiming Username: ${o}.`,"debug");let l=await e.getUser();if(!l)throw new Error("Unable to claim username. User not authenticated.");Qe.addBreadcrumb("Auth","Creating user profile to claim username","debug"),await r.setUserProfile({username:o,addresses:s,icon:u,privacyState:"public"}),Qe.addBreadcrumb("Auth","\u2705 Username Claimed!","debug"),await MX(n),await aoe(n),await yv(n),await ux(n),await pp(n),t.onClaimFlowComplete(o,l.userID)};return jt({mutationFn:async o=>{try{return await i(o)}catch(s){Qe.addBreadcrumb("Auth","Could not claim username","error");let u;throw s instanceof Error?u=s:u=new Error("Unable to claim username"),Qe.captureError(u,"Auth"),u}}})}d();h();function oBt(t){let e=dT(),r=Uu(),n=$c.checkUsernameAvailability(t);return Lr({enabled:!!t,queryKey:n,queryFn:async()=>{if(!t)return!1;let s=await r.getUsernameAvailability(t);return e.onCheckAvailability(t,s),s}})}d();h();d();h();var hT=class extends Error{constructor(e="No user profile."){super(e),this.name="NoUserProfileError"}},coe=class extends Error{constructor(e="Missing required username claim params."){super(e),this.name="MissingRequiredUsernameClaimParamsError"}};var sBt=ag({days:1}),aBt=ag({minutes:1});function uoe(){let t=Uu(),e=N8(),r=$c.userProfile();return Lr({enabled:e,queryKey:r,queryFn:async()=>{let i=await t.getUserProfile();if(!i)throw new hT;return i},gcTime:sBt,staleTime:aBt})}d();h();var cBt=()=>{let t=Lt(),e=Ff(),r=Uu();return jt({mutationFn:async()=>{await r.deleteUserProfile(),await e.deleteAllAuthFactors(),await e.logOut(),await soe(t),await IX(t),await ux(t),await yv(t),await pp(t)}})};d();h();var foe=()=>{let t=Lt(),e=Uu(),r=async n=>{await e.patchUserProfile(n),await ux(t)};return jt({mutationFn:async n=>{try{return await r(n)}catch(i){Qe.addBreadcrumb("Auth",`Could not update user profile: ${JSON.stringify(n)}`,"error");let o;throw i instanceof Error?o=i:o=new Error("Could not update user profile!"),Qe.captureError(o,"Auth"),o}},onMutate:async n=>{let i=$c.userProfile();await t.cancelQueries({queryKey:i});let o=t.getQueryData(i);return t.setQueryData(i,{...o,...n}),{previousData:o}},onSuccess:(n,i)=>{let o=$c.userProfile(),s=t.getQueryData(o);if(s){let u={...s,...i};t.setQueryData(o,u)}},onError:(n,i,o)=>{o&&t.setQueryData($c.userProfile(),o.previousData)}})};d();h();var uBt=vL(sc,t=>new wL(t)),wL=class{#e;constructor(e){this.#e=e}onAvatarUpdated(e){this.#e.capture("userManageProfileAvatarUpdated",{data:{avatarType:e}})}onAuthFactorsUpdated(e,r){this.#e.capture("userManageProfileAuthFactorsUpdated",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkedWalletsUpdated(e,r){this.#e.capture("userManageProfileLinkedWalletsUpdated",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPrivacyStateUpdated(e){this.#e.capture("userManageProfilePrivacyStateUpdated",{data:{privacyState:e}})}onBiographyUpdated(){this.#e.capture("userManageProfileBiographyUpdated")}onPublicAddressesUpdated(e){this.#e.capture("userManageProfilePublicAddressesUpdated",{data:{networkIdsSaved:e}})}};d();h();var fBt=()=>{let{data:t}=Gc();return t?t.type==="ledger":void 0};d();h();var NDe=qe(ur());var lBt=t=>{let e=(0,NDe.useMemo)(()=>{if(t){if(dBt(t))return n=>n.address===t.address&&n.networkID===t.networkID;if(je.isNetworkID(t))return n=>n.networkID===t;if(jz(t))return n=>n.addressType===t;throw new Error(`Unrecognized filter type: ${t}`)}else return()=>!1},[t]);return Gc({select:n=>{let i=n.addresses.filter(e);if(i.length>1)throw new Error(`Multiple addresses match filter: ${t}`);return i[0]}})};function dBt(t){return typeof t=="object"&&"address"in t&&(typeof t.address=="string"||t.address===void 0)&&"networkID"in t}d();h();d();h();d();h();var UDe=async(t,e)=>(await eee(t,e))?.balance,LDe=async t=>await ree(t);var hBt=(t,e=!0)=>{let r=Dt(),n=e&&!!t,i=nr.accountBalance(t||"");return Lr({queryKey:i,queryFn:async()=>{try{return t&&await UDe(r,t)||null}catch(s){throw s instanceof Error&&Qe.captureError(s,"account"),s}},enabled:n})},pBt=(t=!0)=>{let e=Dt(),r=nr.allAccountBalances();return Lr({queryKey:r,queryFn:async()=>{try{return await LDe(e)}catch(i){throw i instanceof Error&&Qe.captureError(i,"account"),i}},enabled:t})};d();h();function mBt(t){let e=hL(),r=e.enabled&&t.length>0,n=nr.accountIdentifier(t);return Lr({enabled:r,queryKey:n,queryFn:async()=>{try{if(Qe.addBreadcrumb("account",`Fetching Account: ${t}`,"info"),!e.enabled)throw new Error(nA);let{accounts:o}=e,s=o.find(u=>u.identifier===t);if(!s)throw new Error(tIe(o.length,t));return s}catch(o){throw o instanceof Error&&Qe.captureError(o,"account"),o}}})}d();h();d();h();function yBt(){let t=Dt(),e=Lt(),r=bi();return jt({mutationFn:async({name:u,addresses:l,icon:m})=>{let x=await r.addReadonlyAccount(l),w={name:u,icon:m};return await dg(t,x.identifier,w),await Tu(t,x.identifier),x},onSettled:async()=>{await Zn(e)},onSuccess:u=>{e.setQueryData(nr.selectedAccountIdentifier(),u.identifier)},onError:u=>Qe.captureError(u,"account")})}d();h();function gBt(){let{t}=jh(),e=Dt(),r=Lt(),{fetchAllAccounts:n,addAccountForSeed:i,addAccountForSeedless:o,fetchAllSeedlessMetas:s}=bi();return jt({mutationFn:async({name:w,icon:E,seedIdentifier:I})=>{Qe.addBreadcrumb("account",`Adding new account for s**d: ${I}`,"info");let C=(await s()).find(R=>R.identifier===I)?await o(I):await i(I);return await dg(e,C.identifier,{name:w||t("onboardingImportAccountsAccountName",{walletIndex:(await n()).length}),icon:E}),await Tu(e,C.identifier),C},onSettled:async()=>{await Zn(r)},onSuccess:w=>{r.setQueryData(nr.selectedAccountIdentifier(),w.identifier)},onError:w=>Qe.captureError(w,"account")})}d();h();d();h();function pT(t){let e=bi(),r=nr.allSeeds(t);return Lr({queryKey:r,queryFn:async()=>{try{let i;switch(t){case"all":{let o=await e.fetchAllSeedMetas();i=[...await e.fetchAllSeedlessMetas(),...o];break}case"local-only":{i=[...await e.fetchAllSeedMetas()];break}case"recoverable-only":{i=[...await e.fetchAllSeedlessMetas()];break}}return i}catch(i){throw i instanceof Error&&Qe.captureError(i,"account"),i}}})}d();h();d();h();function loe(){let t=Dt();return Lr(FDe(t))}function FDe(t){return{queryKey:nr.developerMode(),queryFn:async()=>await t.get("developerMode")||tX}}d();h();function bBt(){let t=Dt(),e=Lt(),r=bi();return jt({mutationFn:async({chainType:s,privateKey:u,name:l,icon:m})=>{Qe.addBreadcrumb("account","Importing Private Key Account... \u23F3","info");let x=await r.importPrivateKeyAccount(s,u),w={name:l,icon:m};return await dg(t,x.identifier,w),await Tu(t,x.identifier),Qe.addBreadcrumb("account",`Imported Private Key Account \u2705: ${x.identifier}`,"info"),x},onSettled:async()=>{await Zn(e)},onSuccess:s=>{e.setQueryData(nr.selectedAccountIdentifier(),s.identifier)}})}d();h();d();h();d();h();function vBt(){let t=nr.selectedNetworkSetting(),e=Dt();return Lr({queryKey:t,queryFn:()=>wE(e)})}d();h();function xBt(){let t=Dt(),e=sc(),r=bi(),n=Lt();return jt({mutationFn:async({identifier:s})=>{Qe.addBreadcrumb("account",`Removing Account... \u23F3: ${s}`,"info"),await Promise.all([r.removeAccount(s),q8(t,s)]),await yp(await r.fetchAllAccounts(),t),e.capture("removeAccount"),Qe.addBreadcrumb("account",`Removed Account \u2705: ${s}`,"info")},onSuccess:async()=>{await Zn(n)}})}d();h();function wBt(){let t=Dt(),e=sc(),r=Lt(),n=bi();return jt({mutationFn:async({seedIdentifier:u})=>{let l=await n.fetchAllAccounts(),m=[];for(let x of l)switch(x.type){case"privateKey":case"ledger":case"seedVault":case"readOnly":continue;case"seed":case"seedless":x.seedIdentifier===u&&m.push(x.identifier);break;default:Bt(x)}for(let x of m)await Promise.all([n.removeAccount(x),q8(t,x)]);e.capture("removeSeed",{data:{numOfAccounts:m.length}})},onSuccess:()=>{Zn(r)},onError:u=>{Qe.captureError(u,"account")}})}d();h();function SBt(){let t=Dt(),e=Lt();return jt({mutationFn:async({identifier:o,name:s})=>{Qe.addBreadcrumb("account","Renaming Multichain Account","info"),await ZX(t,o,s)},onSuccess:async()=>{await Zn(e)},onError:o=>Qe.captureError(o,"account")})}d();h();function ABt(){let t=Lt(),e=bi();return jt({mutationFn:async({identifier:i,toIndex:o})=>{await e.reorderAccount(i,o)},onSuccess:()=>{Zn(t)}})}d();h();function EBt(){let t=nr.selectedAccountIdentifier(),e=Dt(),r=bi();return Lr({queryKey:t,queryFn:async()=>{try{let i=await r.fetchAllAccounts(),s=(await yp(i,e)).identifier;if(!s)throw new Error("Unable to resolve selected account identifier => no available accounts or identifier!");return s}catch(i){throw i instanceof Error&&Qe.captureError(i,"account"),i}}})}d();h();function _Bt(){let t=Dt(),e=Lt();return jt({mutationFn:async({identifier:i,balance:o})=>(await JX(t,i,o),{identifier:i,balance:o}),onSuccess:({identifier:i,balance:o})=>{i&&e.invalidateQueries({queryKey:nr.accountBalance(i)}),o&&e.invalidateQueries({queryKey:nr.allAccountBalances()})}})}d();h();function TBt(){let t=Dt(),e=Lt();return jt({mutationFn:async({developerMode:i})=>{e.setQueryData(nr.developerMode(),i),await t.set("developerMode",i)},onSuccess:()=>{Zn(e)}})}d();h();function IBt(){let t=Dt(),e=Lt();return jt({mutationFn:async({identifier:i,icon:o})=>{Qe.addBreadcrumb("account","Setting Multichain Account Icon","info"),await QX(t,i,o)},onSuccess:async()=>{await Zn(e)}})}d();h();function MBt(){let t=Dt(),e=Lt();return jt({mutationFn:async({networkSetting:i})=>{e.setQueryData(nr.selectedNetworkSetting(),i),await t.set("networkSetting",i)},onSuccess:()=>{Zn(e)}})}d();h();function kBt(){let t=Dt(),e=sc(),r=Lt();return jt({mutationFn:async({identifier:s})=>(await Tu(t,s),e.capture("changeAccount",{data:{identifier:s}}),s),onSuccess:s=>{pL(r),r.setQueryData(nr.selectedAccountIdentifier(),s)},onError:s=>Qe.captureError(s,"account")})}d();h();var qDe=qe(ur());d();h();var KDe=qe(ur());var mT=()=>{let{data:t}=Gc();return(0,KDe.useMemo)(()=>{let e=t?.addresses??[];return[...new Set(e.map(r=>r.networkID))]},[t])};var PBt=()=>{let{data:t,isFetching:e}=cx(),{data:r,isFetching:n}=Gc(),i=mT();return(0,qDe.useMemo)(()=>({data:{"All Accounts":sO(t),"Selected Account":sO(r),"Selected Networks":i.map(o=>je.getNetworkName(o))},isFetching:e||n}),[t,e,n,r,i])};d();h();var VDe=qe(ur()),RBt=(t=[])=>{let e=xE();return(0,VDe.useMemo)(()=>t.filter(r=>{let n=je.getParentChain(r.networkID);return n?e.includes(n):!1}),[t,e])};d();h();var hNe=qe(VNe()),PL=qe(ur());d();h();var Si=qe(ur(),1),vT=t=>t.type==="checkbox",_E=t=>t instanceof Date,Yc=t=>t==null,XDe=t=>typeof t=="object",xs=t=>!Yc(t)&&!Array.isArray(t)&&XDe(t)&&!_E(t),eNe=t=>xs(t)&&t.target?vT(t.target)?t.target.checked:t.target.value:t,CBt=t=>t.substring(0,t.search(/.\d/))||t,tNe=(t,e)=>[...t].some(r=>CBt(e)===r),IL=t=>t.filter(Boolean),po=t=>t===void 0,Rt=(t,e,r)=>{if(!e||!xs(t))return r;let n=IL(e.split(/[,[\].]+?/)).reduce((i,o)=>Yc(i)?i:i[o],t);return po(n)||n===t?po(t[e])?r:t[e]:n},moe={BLUR:"blur",CHANGE:"change"},dd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},kp={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},boe=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},BBt=Si.default.createContext(null),voe=()=>Si.default.useContext(BBt);var rNe=(t,e,r,n=!0)=>{function i(s){return()=>{if(s in t)return e[s]!==dd.all&&(e[s]=!n||dd.all),r&&(r[s]=!0),t[s]}}let o={};for(let s in t)Object.defineProperty(o,s,{get:i(s)});return o},Lu=t=>xs(t)&&!Object.keys(t).length,nNe=(t,e,r)=>{let n=boe(t,"name");return Lu(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||dd.all))},SL=t=>Array.isArray(t)?t:[t],iNe=(t,e,r)=>r&&e?t===e:!t||!e||t===e||SL(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function xoe(t){let e=Si.default.useRef(t);e.current=t,Si.default.useEffect(()=>{let r=i=>{i&&i.unsubscribe()},n=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>r(n)},[t.disabled])}function OBt(t){let e=voe(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,u]=Si.default.useState(r._formState),l=Si.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Si.default.useRef(i),x=Si.default.useRef(!0);m.current=i;let w=Si.default.useCallback(E=>x.current&&iNe(m.current,E.name,o)&&nNe(E,l.current)&&u(Object.assign(Object.assign({},r._formState),E)),[r,o]);return xoe({disabled:n,callback:w,subject:r._subjects.state}),Si.default.useEffect(()=>()=>{x.current=!1},[]),rNe(s,r._proxyFormState,l.current,!1)}var Kh=t=>typeof t=="string",oNe=(t,e,r,n)=>{let i=Array.isArray(t);return Kh(t)?(n&&e.watch.add(t),Rt(r,t)):i?t.map(o=>(n&&e.watch.add(o),Rt(r,o))):(n&&(e.watchAll=!0),r)},ML=t=>typeof t=="function",woe=t=>{for(let e in t)if(ML(t[e]))return!0;return!1};function DBt(t){let e=voe(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},u=Si.default.useRef(n);u.current=n;let l=Si.default.useCallback(w=>{if(iNe(u.current,w.name,s)){let E=oNe(u.current,r._names,w.values||r._formValues);x(po(u.current)||xs(E)&&!woe(E)?Object.assign({},E):Array.isArray(E)?[...E]:po(E)?i:E)}},[r,s,i]);xoe({disabled:o,subject:r._subjects.watch,callback:l});let[m,x]=Si.default.useState(po(i)?r._getWatch(n):i);return Si.default.useEffect(()=>{r._removeUnmounted()}),m}function NBt(t){let e=voe(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=tNe(n._names.array,r),s=DBt({control:n,name:r,defaultValue:Rt(n._formValues,r,Rt(n._defaultValues,r,t.defaultValue)),exact:!o}),u=OBt({control:n,name:r}),l=Si.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Si.default.useEffect(()=>{let m=(x,w)=>{let E=Rt(n._fields,x);E&&(E._f.mount=w)};return m(r,!0),()=>{let x=n._options.shouldUnregister||i;o?x&&n._stateFlags.action:x?n.unregister(r):m(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:Si.default.useCallback(m=>{l.current.onChange({target:{value:eNe(m),name:r},type:moe.CHANGE})},[r]),onBlur:Si.default.useCallback(()=>{l.current.onBlur({target:{value:Rt(n._formValues,r),name:r},type:moe.BLUR})},[r,n]),ref:Si.default.useCallback(m=>{let x=Rt(n._fields,r);m&&x&&m.focus&&(x._f.ref={focus:()=>m.focus(),setCustomValidity:w=>m.setCustomValidity(w),reportValidity:()=>m.reportValidity()})},[r,n])},formState:u,fieldState:{invalid:!!Rt(u.errors,r),isDirty:!!Rt(u.dirtyFields,r),isTouched:!!Rt(u.touchedFields,r),error:Rt(u.errors,r)}}}var sNe=t=>t.render(NBt(t)),UBt=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},Soe=t=>/^\w*$/.test(t),aNe=t=>IL(t.replace(/["|']|\]/g,"").split(/\.|\[/));function To(t,e,r){let n=-1,i=Soe(e)?[e]:aNe(e),o=i.length,s=o-1;for(;++n<o;){let u=i[n],l=r;if(n!==s){let m=t[u];l=xs(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}t[u]=l,t=t[u]}return t}var yoe=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=Rt(t,n);if(i){let o=i._f,s=boe(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&po(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else xs(s)&&yoe(s,e)}}};var HDe=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function gT(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(r||xs(t)){e=r?[]:{};for(let n in t){if(ML(t[n])){e=t;break}e[n]=gT(t[n])}}else return t;return e}function doe(){let t=[];return{get observers(){return t},next:i=>{for(let o of t)o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}}var EL=t=>Yc(t)||!XDe(t);function TE(t,e){if(EL(t)||EL(e))return t===e;if(_E(t)&&_E(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(_E(o)&&_E(s)||xs(o)&&xs(s)||Array.isArray(o)&&Array.isArray(s)?!TE(o,s):o!==s)return!1}}return!0}var jDe=t=>({isOnSubmit:!t||t===dd.onSubmit,isOnBlur:t===dd.onBlur,isOnChange:t===dd.onChange,isOnAll:t===dd.all,isOnTouch:t===dd.onTouched}),bT=t=>typeof t=="boolean",Aoe=t=>t.type==="file",goe=t=>t instanceof HTMLElement,cNe=t=>t.type==="select-multiple",Eoe=t=>t.type==="radio",LBt=t=>Eoe(t)||vT(t),zDe=typeof self<"u"&&typeof self.HTMLElement<"u"&&typeof document<"u",hoe=t=>goe(t)&&t.isConnected;function FBt(t,e){let r=e.slice(0,-1).length,n=0;for(;n<r;)t=po(t)?n++:t[e[n++]];return t}function ac(t,e){let r=Soe(e)?[e]:aNe(e),n=r.length==1?t:FBt(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let u=-1,l,m=r.slice(0,-(s+1)),x=m.length-1;for(s>0&&(o=t);++u<m.length;){let w=m[u];l=l?l[w]:t[w],x===u&&(xs(l)&&Lu(l)||Array.isArray(l)&&!l.filter(E=>xs(E)&&!Lu(E)||bT(E)).length)&&(o?delete o[w]:delete t[w]),o=l}}return t}function _L(t,e={}){let r=Array.isArray(t);if(xs(t)||r)for(let n in t)Array.isArray(t[n])||xs(t[n])&&!woe(t[n])?(e[n]=Array.isArray(t[n])?[]:{},_L(t[n],e[n])):Yc(t[n])||(e[n]=!0);return e}function uNe(t,e,r){let n=Array.isArray(t);if(xs(t)||n)for(let i in t)Array.isArray(t[i])||xs(t[i])&&!woe(t[i])?po(e)||EL(r[i])?r[i]=Array.isArray(t[i])?_L(t[i],[]):Object.assign({},_L(t[i])):uNe(t[i],Yc(e)?{}:e[i],r[i]):r[i]=!TE(t[i],e[i]);return r}var WDe=(t,e)=>uNe(t,e,_L(e)),GDe={value:!1,isValid:!1},$De={value:!0,isValid:!0},fNe=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!po(t[0].attributes.value)?po(t[0].value)||t[0].value===""?$De:{value:t[0].value,isValid:!0}:$De:GDe}return GDe},lNe=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>po(t)?t:e?t===""?NaN:+t:r&&Kh(t)?new Date(t):n?n(t):t,YDe={isValid:!1,value:null},dNe=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,YDe):YDe;function poe(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Aoe(e)?e.files:Eoe(e)?dNe(t.refs).value:cNe(e)?[...e.selectedOptions].map(({value:r})=>r):vT(e)?fNe(t.refs).value:lNe(po(e.value)?t.ref.value:e.value,t)}var KBt=(t,e,r,n)=>{let i={};for(let o of t){let s=Rt(e,o);s&&To(i,o,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},TL=t=>t instanceof RegExp,yT=t=>po(t)?void 0:TL(t)?t.source:xs(t)?TL(t.value)?t.value.source:t.value:t,qBt=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function ZDe(t,e,r){let n=Rt(t,r);if(n||Soe(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=Rt(e,o),u=Rt(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(u&&u.type)return{name:o,error:u};i.pop()}return{name:r}}var VBt=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,HBt=(t,e)=>!IL(Rt(t,e)).length&&ac(t,e),AL=t=>Kh(t)||Si.default.isValidElement(t);function QDe(t,e,r="validate"){if(AL(t)||Array.isArray(t)&&t.every(AL)||bT(t)&&!t)return{type:r,message:AL(t)?t:"",ref:e}}var EE=t=>xs(t)&&!TL(t)?t:{value:t,message:""},JDe=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:u,minLength:l,min:m,max:x,pattern:w,validate:E,name:I,valueAsNumber:M,mount:k,disabled:C}=t._f;if(!k||C)return{};let R=o?o[0]:i,L=S=>{n&&R.reportValidity&&(R.setCustomValidity(bT(S)?"":S||" "),R.reportValidity())},P={},K=Eoe(i),V=vT(i),j=K||V,ne=(M||Aoe(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,J=UBt.bind(null,I,r,P),oe=(S,a,f,p=kp.maxLength,y=kp.minLength)=>{let g=S?a:f;P[I]=Object.assign({type:S?p:y,message:g,ref:i},J(S?p:y,g))};if(s&&(!j&&(ne||Yc(e))||bT(e)&&!e||V&&!fNe(o).isValid||K&&!dNe(o).isValid)){let{value:S,message:a}=AL(s)?{value:!!s,message:s}:EE(s);if(S&&(P[I]=Object.assign({type:kp.required,message:a,ref:R},J(kp.required,a)),!r))return L(a),P}if(!ne&&(!Yc(m)||!Yc(x))){let S,a,f=EE(x),p=EE(m);if(isNaN(e)){let y=i.valueAsDate||new Date(e);Kh(f.value)&&(S=y>new Date(f.value)),Kh(p.value)&&(a=y<new Date(p.value))}else{let y=i.valueAsNumber||parseFloat(e);Yc(f.value)||(S=y>f.value),Yc(p.value)||(a=y<p.value)}if((S||a)&&(oe(!!S,f.message,p.message,kp.max,kp.min),!r))return L(P[I].message),P}if((u||l)&&!ne&&Kh(e)){let S=EE(u),a=EE(l),f=!Yc(S.value)&&e.length>S.value,p=!Yc(a.value)&&e.length<a.value;if((f||p)&&(oe(f,S.message,a.message),!r))return L(P[I].message),P}if(w&&!ne&&Kh(e)){let{value:S,message:a}=EE(w);if(TL(S)&&!e.match(S)&&(P[I]=Object.assign({type:kp.pattern,message:a,ref:i},J(kp.pattern,a)),!r))return L(a),P}if(E){if(ML(E)){let S=await E(e),a=QDe(S,R);if(a&&(P[I]=Object.assign(Object.assign({},a),J(kp.validate,a.message)),!r))return L(a.message),P}else if(xs(E)){let S={};for(let a in E){if(!Lu(S)&&!r)break;let f=QDe(await E[a](e),R,a);f&&(S=Object.assign(Object.assign({},f),J(a,f.message)),L(f.message),r&&(P[I]=S))}if(!Lu(S)&&(P[I]=Object.assign({ref:R},S),!r))return P}}return L(!0),P},jBt={mode:dd.onSubmit,reValidateMode:dd.onChange,shouldFocusError:!0};function zBt(t={}){let e=Object.assign(Object.assign({},jBt),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},i=e.defaultValues||{},o=e.shouldUnregister?{}:gT(i),s={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,m=0,x={},w={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={watch:doe(),array:doe(),state:doe()},I=jDe(e.mode),M=jDe(e.reValidateMode),k=e.criteriaMode===dd.all,C=(G,he)=>(...te)=>{clearTimeout(m),m=self.setTimeout(()=>G(...te),he)},R=async G=>{let he=!1;return w.isValid&&(he=e.resolver?Lu((await ne()).errors):await oe(n,!0),!G&&he!==r.isValid&&(r.isValid=he,E.state.next({isValid:he}))),he},L=(G,he,te,ce=[],Ye=!0,se=!0)=>{if(s.action=!0,se&&Array.isArray(Rt(n,G))){let le=he(Rt(n,G),te.argA,te.argB);Ye&&To(n,G,le)}if(w.errors&&se&&Array.isArray(Rt(r.errors,G))){let le=he(Rt(r.errors,G),te.argA,te.argB);Ye&&To(r.errors,G,le),HBt(r.errors,G)}if(w.touchedFields&&Array.isArray(Rt(r.touchedFields,G))){let le=he(Rt(r.touchedFields,G),te.argA,te.argB);Ye&&To(r.touchedFields,G,le)}w.dirtyFields&&(r.dirtyFields=WDe(i,o)),E.state.next({isDirty:a(G,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},P=(G,he)=>(To(r.errors,G,he),E.state.next({errors:r.errors})),K=(G,he,te,ce)=>{let Ye=Rt(n,G);if(Ye){let se=Rt(o,G,po(te)?Rt(i,G):te);po(se)||ce&&ce.defaultChecked||he?To(o,G,he?se:poe(Ye._f)):y(G,se),s.mount&&R()}},V=(G,he,te,ce,Ye)=>{let se=!1,le={name:G},Pt=Rt(r.touchedFields,G);if(w.isDirty){let ge=r.isDirty;r.isDirty=le.isDirty=a(),se=ge!==le.isDirty}if(w.dirtyFields&&(!te||ce)){let ge=Rt(r.dirtyFields,G);TE(Rt(i,G),he)?ac(r.dirtyFields,G):To(r.dirtyFields,G,!0),le.dirtyFields=r.dirtyFields,se=se||ge!==Rt(r.dirtyFields,G)}return te&&!Pt&&(To(r.touchedFields,G,te),le.touchedFields=r.touchedFields,se=se||w.touchedFields&&Pt!==te),se&&Ye&&E.state.next(le),se?le:{}},j=async(G,he,te,ce,Ye)=>{let se=Rt(r.errors,he),le=w.isValid&&r.isValid!==te;if(t.delayError&&ce?(l=l||C(P,t.delayError),l(he,ce)):(clearTimeout(m),ce?To(r.errors,he,ce):ac(r.errors,he)),((ce?!TE(se,ce):se)||!Lu(Ye)||le)&&!G){let Pt=Object.assign(Object.assign(Object.assign({},Ye),le?{isValid:te}:{}),{errors:r.errors,name:he});r=Object.assign(Object.assign({},r),Pt),E.state.next(Pt)}x[he]--,w.isValidating&&!x[he]&&(E.state.next({isValidating:!1}),x={})},ne=async G=>e.resolver?await e.resolver(Object.assign({},o),e.context,KBt(G||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation)):{},J=async G=>{let{errors:he}=await ne();if(G)for(let te of G){let ce=Rt(he,te);ce?To(r.errors,te,ce):ac(r.errors,te)}else r.errors=he;return he},oe=async(G,he,te={valid:!0})=>{for(let ce in G){let Ye=G[ce];if(Ye){let se=Ye._f,le=boe(Ye,"_f");if(se){let Pt=await JDe(Ye,Rt(o,se.name),k,e.shouldUseNativeValidation);if(Pt[se.name]&&(te.valid=!1,he))break;he||(Pt[se.name]?To(r.errors,se.name,Pt[se.name]):ac(r.errors,se.name))}le&&await oe(le,he,te)}}return te.valid},S=()=>{for(let G of u.unMount){let he=Rt(n,G);he&&(he._f.refs?he._f.refs.every(te=>!hoe(te)):!hoe(he._f.ref))&&O(G)}u.unMount=new Set},a=(G,he)=>(G&&he&&To(o,G,he),!TE(c(),i)),f=(G,he,te)=>{let ce=Object.assign({},s.mount?o:po(he)?i:Kh(G)?{[G]:he}:he);return oNe(G,u,ce,te)},p=G=>IL(Rt(s.mount?o:i,G,t.shouldUnregister?Rt(i,G,[]):[])),y=(G,he,te={})=>{let ce=Rt(n,G),Ye=he;if(ce){let se=ce._f;se&&(!se.disabled&&To(o,G,lNe(he,se)),Ye=zDe&&goe(se.ref)&&Yc(he)?"":he,cNe(se.ref)?[...se.ref.options].forEach(le=>le.selected=Ye.includes(le.value)):se.refs?vT(se.ref)?se.refs.length>1?se.refs.forEach(le=>le.checked=Array.isArray(Ye)?!!Ye.find(Pt=>Pt===le.value):Ye===le.value):se.refs[0]&&(se.refs[0].checked=!!Ye):se.refs.forEach(le=>le.checked=le.value===Ye):Aoe(se.ref)||(se.ref.value=Ye,se.ref.type||E.watch.next({name:G})))}(te.shouldDirty||te.shouldTouch)&&V(G,Ye,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&b(G)},g=(G,he,te)=>{for(let ce in he){let Ye=he[ce],se=`${G}.${ce}`,le=Rt(n,se);(u.array.has(G)||!EL(Ye)||le&&!le._f)&&!_E(Ye)?g(se,Ye,te):y(se,Ye,te)}},A=(G,he,te={})=>{let ce=Rt(n,G),Ye=u.array.has(G);To(o,G,he),Ye?(E.array.next({name:G,values:o}),(w.isDirty||w.dirtyFields)&&te.shouldDirty&&(r.dirtyFields=WDe(i,o),E.state.next({name:G,dirtyFields:r.dirtyFields,isDirty:a(G,he)}))):ce&&!ce._f&&!Yc(he)?g(G,he,te):y(G,he,te),HDe(G,u)&&E.state.next({}),E.watch.next({name:G})},_=async G=>{let he=G.target,te=he.name,ce=Rt(n,te);if(ce){let Ye,se,le=he.type?poe(ce._f):eNe(G),Pt=G.type===moe.BLUR,ge=!qBt(ce._f)&&!e.resolver&&!Rt(r.errors,te)&&!ce._f.deps||VBt(Pt,Rt(r.touchedFields,te),r.isSubmitted,M,I),ye=HDe(te,u,Pt);To(o,te,le),Pt?ce._f.onBlur&&ce._f.onBlur(G):ce._f.onChange&&ce._f.onChange(G);let Hr=V(te,le,Pt,!1),Ie=!Lu(Hr)||ye;if(!Pt&&E.watch.next({name:te,type:G.type}),ge)return Ie&&E.state.next(Object.assign({name:te},ye?{}:Hr));if(!Pt&&ye&&E.state.next({}),x[te]=(x[te],1),w.isValidating&&E.state.next({isValidating:!0}),e.resolver){let{errors:we}=await ne([te]),dn=ZDe(r.errors,n,te),ve=ZDe(we,n,dn.name||te);Ye=ve.error,te=ve.name,se=Lu(we)}else Ye=(await JDe(ce,Rt(o,te),k,e.shouldUseNativeValidation))[te],se=await R(!0);ce._f.deps&&b(ce._f.deps),j(!1,te,se,Ye,Hr)}},b=async(G,he={})=>{let te,ce,Ye=SL(G);if(E.state.next({isValidating:!0}),e.resolver){let se=await J(po(G)?G:Ye);te=Lu(se),ce=G?!Ye.some(le=>Rt(se,le)):te}else G?(ce=(await Promise.all(Ye.map(async se=>{let le=Rt(n,se);return await oe(le&&le._f?{[se]:le}:le)}))).every(Boolean),!(!ce&&!r.isValid)&&R()):ce=te=await oe(n);return E.state.next(Object.assign(Object.assign(Object.assign({},!Kh(G)||w.isValid&&te!==r.isValid?{}:{name:G}),e.resolver?{isValid:te}:{}),{errors:r.errors,isValidating:!1})),he.shouldFocus&&!ce&&yoe(n,se=>Rt(r.errors,se),G?Ye:u.mount),ce},c=G=>{let he=Object.assign(Object.assign({},i),s.mount?o:{});return po(G)?he:Kh(G)?Rt(he,G):G.map(te=>Rt(he,te))},v=G=>{G?SL(G).forEach(he=>ac(r.errors,he)):r.errors={},E.state.next({errors:r.errors})},F=(G,he,te)=>{let ce=(Rt(n,G,{_f:{}})._f||{}).ref;To(r.errors,G,Object.assign(Object.assign({},he),{ref:ce})),E.state.next({name:G,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&ce&&ce.focus&&ce.focus()},U=(G,he)=>ML(G)?E.watch.subscribe({next:te=>G(f(void 0,he),te)}):f(G,he,!0),O=(G,he={})=>{for(let te of G?SL(G):u.mount)u.mount.delete(te),u.array.delete(te),Rt(n,te)&&(he.keepValue||(ac(n,te),ac(o,te)),!he.keepError&&ac(r.errors,te),!he.keepDirty&&ac(r.dirtyFields,te),!he.keepTouched&&ac(r.touchedFields,te),!e.shouldUnregister&&!he.keepDefaultValue&&ac(i,te));E.watch.next({}),E.state.next(Object.assign(Object.assign({},r),he.keepDirty?{isDirty:a()}:{})),!he.keepIsValid&&R()},W=(G,he={})=>{let te=Rt(n,G),ce=bT(he.disabled);return To(n,G,{_f:Object.assign(Object.assign(Object.assign({},te&&te._f?te._f:{ref:{name:G}}),{name:G,mount:!0}),he)}),u.mount.add(G),te?ce&&To(o,G,he.disabled?void 0:Rt(o,G,poe(te._f))):K(G,!0,he.value),Object.assign(Object.assign(Object.assign({},ce?{disabled:he.disabled}:{}),e.shouldUseNativeValidation?{required:!!he.required,min:yT(he.min),max:yT(he.max),minLength:yT(he.minLength),maxLength:yT(he.maxLength),pattern:yT(he.pattern)}:{}),{name:G,onChange:_,onBlur:_,ref:Ye=>{if(Ye){W(G,he),te=Rt(n,G);let se=po(Ye.value)&&Ye.querySelectorAll&&Ye.querySelectorAll("input,select,textarea")[0]||Ye,le=LBt(se),Pt=te._f.refs||[];if(le?Pt.find(ge=>ge===se):se===te._f.ref)return;To(n,G,{_f:Object.assign(Object.assign({},te._f),le?{refs:Pt.concat(se).filter(hoe),ref:{type:se.type,name:G}}:{ref:se})}),K(G,!1,void 0,se)}else te=Rt(n,G,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||he.shouldUnregister)&&!(tNe(u.array,G)&&s.action)&&u.unMount.add(G)}})};return{control:{register:W,unregister:O,_executeSchema:ne,_getWatch:f,_getDirty:a,_updateValid:R,_removeUnmounted:S,_updateFieldArray:L,_getFieldArray:p,_subjects:E,_proxyFormState:w,get _fields(){return n},set _fields(G){n=G},get _formValues(){return o},set _formValues(G){o=G},get _stateFlags(){return s},set _stateFlags(G){s=G},get _defaultValues(){return i},set _defaultValues(G){i=G},get _names(){return u},set _names(G){u=G},get _formState(){return r},set _formState(G){r=G},get _options(){return e},set _options(G){e=Object.assign(Object.assign({},e),G)}},trigger:b,register:W,handleSubmit:(G,he)=>async te=>{te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let ce=!0,Ye=e.shouldUnregister?gT(o):Object.assign({},o);E.state.next({isSubmitting:!0});try{if(e.resolver){let{errors:se,values:le}=await ne();r.errors=se,Ye=le}else await oe(n);Lu(r.errors)&&Object.keys(r.errors).every(se=>Rt(Ye,se))?(E.state.next({errors:{},isSubmitting:!0}),await G(Ye,te)):(he&&await he(r.errors,te),e.shouldFocusError&&yoe(n,se=>Rt(r.errors,se),u.mount))}catch(se){throw ce=!1,se}finally{r.isSubmitted=!0,E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lu(r.errors)&&ce,submitCount:r.submitCount+1,errors:r.errors})}},watch:U,setValue:A,getValues:c,reset:(G,he={})=>{let te=G||i,ce=gT(te),Ye=G&&!Lu(G)?ce:i;if(he.keepDefaultValues||(i=te),!he.keepValues){if(zDe&&po(G))for(let se of u.mount){let le=Rt(n,se);if(le&&le._f){let Pt=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;try{goe(Pt)&&Pt.closest("form").reset();break}catch{}}}o=t.shouldUnregister?he.keepDefaultValues?gT(i):{}:ce,n={},E.array.next({values:Ye}),E.watch.next({values:Ye})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!w.isValid||!!he.keepIsValid,s.watch=!!t.shouldUnregister,E.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:he.keepDirty?r.isDirty:he.keepDefaultValues?!TE(G,i):!1,isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he.keepDirty?r.dirtyFields:he.keepDefaultValues&&G?Object.entries(G).reduce((se,[le,Pt])=>Object.assign(Object.assign({},se),{[le]:Pt!==Rt(i,le)}),{}):{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(G,he={})=>{Rt(n,G)&&(po(he.defaultValue)?A(G,Rt(i,G)):(A(G,he.defaultValue),To(i,G,he.defaultValue)),he.keepTouched||ac(r.touchedFields,G),he.keepDirty||(ac(r.dirtyFields,G),r.isDirty=he.defaultValue?a(G,Rt(i,G)):a()),he.keepError||(ac(r.errors,G),w.isValid&&R()),E.state.next(Object.assign({},r)))},clearErrors:v,unregister:O,setError:F,setFocus:G=>{let he=Rt(n,G)._f;(he.ref.focus?he.ref:he.refs[0]).focus()}}}function kL(t={}){let e=Si.default.useRef(),[r,n]=Si.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},zBt(t)),{formState:r});let i=e.current.control,o=Si.default.useCallback(s=>{nNe(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return xoe({subject:i._subjects.state,callback:o}),Si.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=rNe(r,i._proxyFormState),e.current}var WBt=({accounts:t,enabledAddressTypes:e,enableAddressTypes:r,editableAccountMetadata:n,addReadOnlyAccount:i,fetchDomainOwner:o})=>{let s=Uu(),{t:u}=jh(),l=sc(),m=n?.networkID||Sr.Solana.Mainnet,{formState:{errors:x},control:w,clearErrors:E,getValues:I,setValue:M,register:k,handleSubmit:C,watch:R,trigger:L}=kL({mode:"all"}),{networkID:P,name:K,address:V,resolvedAddress:j}=R(),ne={required:!0},J=(0,PL.useMemo)(()=>({required:{value:!0,message:u("addAccountImportAccountPublicKeyRequired")},validate:(0,hNe.default)(async a=>{if(a==="")return!0;if(!wR(a,P||m))try{let g=(await o(a,P,s,l))?.owner;return g?(M("resolvedAddress",g),t.find(_=>_.addresses.map(b=>b.address).includes(g))?u("addAccountImportAccountDuplicateAddress"):!0):u("addAccountImportAccountIncorrectFormat")}catch{return u("sendFormErrorInvalidDomain")}return M("resolvedAddress",a),t.find(y=>y.addresses.map(g=>g.address).includes(a))?u("addAccountImportAccountDuplicateAddress"):!0},500)}),[u,P,m,M,t,o,s,l]),oe=K&&j&&!x.name&&!x.address,S=(0,PL.useCallback)(async({networkID:a,name:f,resolvedAddress:p},y)=>{let g=ky(a,p);e.includes(g)||await r({addressTypes:[g]});let A={};A[g]=p,i({name:f,addresses:A,icon:n?.icon}),y(),l.capture("addReadOnlyAccount",{data:{networkID:a,chainType:g}})},[i,n?.icon,r,e,l]);return{Controller:sNe,canSubmit:oe,control:w,errors:x,nameValidations:ne,address:V,addressValidations:J,clearErrors:E,getValues:I,handleSubmit:C,onSubmit:S,register:k,setValue:M,trigger:L}};d();h();function GBt(t){let e=MDe();return t.map(r=>sg.get(r.networkID).addressTooltipNetworkName?.(r.networkID,r.address,e)??je.getNetworkName(r.networkID))}d();h();var $Bt=qe(ur());d();h();var pNe=qe(ur());var YBt=()=>{let{data:t}=Gc(),e=(0,pNe.useMemo)(()=>{if(!t||!t.addresses.length)return je.getChainID("solana:101");let r=t.addresses[0];return je.getChainID(r.networkID)},[t]);return{caip19:xR(SR(e)),tokenName:je.getChainName(e),tokenSymbol:je.getTokenSymbol(e)}};d();h();var ZBt=()=>k8();d();h();var QBt=()=>{let{data:t}=loe();return!!t?.isDeveloperMode},JBt=()=>mT().some(e=>je.isLocalNetworkID(e));d();h();var yNe=qe(ur());d();h();var mNe=()=>{let{data:t}=ld(),{data:e}=cx(),{data:r}=uoe();return Lr({queryKey:nr.patchProfileAddresses({chainAvailability:t?.enabledNetworkIDs,accountIdentifiers:e?.map(n=>n.identifier),user:r}),queryFn:t&&e&&r?()=>{let{enabledNetworkIDs:n}=t,i=n?.reduce((x,w)=>{let E=e.find(I=>I.addresses.some(M=>M.networkID===w))?.addresses.find(I=>I.networkID===w)?.address;return E&&(x[w]=E),x},{})??{},o=r?.addresses,s=o?Object.keys(o).filter(je.isNetworkID):[],u=(n??[]).filter(x=>!s.includes(x)).reduce((x,w)=>{let E=i[w];return E&&(x[w]=E),x},{});return Object.keys(u).length>0?{addresses:{...u,...o},addedAddresses:u}:null}:vh})};var XBt=()=>{let{data:t}=mNe(),{mutate:e}=foe(),r=sc();(0,yNe.useEffect)(()=>{if(t){let{addresses:n,addedAddresses:i}=t,o=Object.keys(i);r.capture("autoSyncUsernameAddresses",{data:{addedChains:o}}),e({addresses:n})}},[t,e,r])};d();h();var gNe=qe(ur());var eOt=t=>{let e=(0,gNe.useCallback)(r=>r.addresses.find(n=>t===je.getChainID(n.networkID))?.networkID,[t]);return Gc({select:e})};d();h();var bNe=qe(ur()),tOt=({accountBalance:t,accountId:e,enabled:r,value:n,setAccountBalance:i})=>{(0,bNe.useEffect)(()=>{if(r&&e&&n!==void 0&&n!==t){let o=Date.now();i({identifier:e,balance:{timestamp:o,value:n}})}},[t,e,r,n,i])};d();h();var vNe=qe(ur());var rOt=()=>{let{data:t=[]}=pT("local-only"),{data:e=[]}=pT("recoverable-only");return(0,vNe.useMemo)(()=>t.length+e.length>1,[t.length,e.length])};d();h();d();h();d();h();var cc=qe(ur());function nOt(t){let e,r=new Set,n=(m,x)=>{let w=typeof m=="function"?m(e):m;if(w!==e){let E=e;e=x?w:Object.assign({},e,w),r.forEach(I=>I(e,E))}},i=()=>e,o=(m,x=i,w=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let E=x(e);function I(){let M=x(e);if(!w(E,M)){let k=E;m(E=M,k)}}return r.add(I),()=>r.delete(I)},l={setState:n,getState:i,subscribe:(m,x,w)=>x||w?o(m,x,w):(r.add(m),()=>r.delete(m)),destroy:()=>r.clear()};return e=t(n,i,l),l}var iOt=typeof self>"u"||!self.navigator||/ServerSideRendering|^Deno\//.test(self.navigator.userAgent),xNe=iOt?cc.useEffect:cc.useLayoutEffect;function RL(t){let e=typeof t=="function"?nOt(t):t,r=(n=e.getState,i=Object.is)=>{let[,o]=(0,cc.useReducer)(C=>C+1,0),s=e.getState(),u=(0,cc.useRef)(s),l=(0,cc.useRef)(n),m=(0,cc.useRef)(i),x=(0,cc.useRef)(!1),w=(0,cc.useRef)();w.current===void 0&&(w.current=n(s));let E,I=!1;(u.current!==s||l.current!==n||m.current!==i||x.current)&&(E=n(s),I=!i(w.current,E)),xNe(()=>{I&&(w.current=E),u.current=s,l.current=n,m.current=i,x.current=!1});let M=(0,cc.useRef)(s);xNe(()=>{let C=()=>{try{let L=e.getState(),P=l.current(L);m.current(w.current,P)||(u.current=L,w.current=P,o())}catch{x.current=!0,o()}},R=e.subscribe(C);return e.getState()!==M.current&&C(),R},[]);let k=I?E:w.current;return(0,cc.useDebugValue)(k),k};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let n=[r,e];return{next(){let i=n.length<=0;return{value:n.shift(),done:i}}}},r}var oOt={editableAccountMetadata:void 0,setEditableAccountMetadata:()=>{}},CL=RL(t=>({...oOt,setEditableAccountMetadata:e=>{t({editableAccountMetadata:e})}}));d();h();var wNe={username:"",available:null,usernameAvailabilityError:null,icon:null,secretIdentifiers:[],accountIdentifiersToSync:[],addresses:{}},SNe=RL((t,e)=>({...wNe,setUsername:r=>t({username:r}),setUsernameAvailabilityError:r=>t({usernameAvailabilityError:r}),setAvailable:r=>t({available:r}),setIcon:r=>t({icon:r}),addSecretIdentifier:r=>{let n=[...e().secretIdentifiers];n.includes(r)||n.push(r),t({secretIdentifiers:n})},removeSecretIdentifier:r=>{t({secretIdentifiers:e().secretIdentifiers.filter(n=>n!==r)})},addAccountIdentifierToSync:r=>{let n=[...e().accountIdentifiersToSync];n.includes(r)||n.push(r),t({accountIdentifiersToSync:n})},removeAccountIdentifierToSync:r=>{t({accountIdentifiersToSync:e().accountIdentifiersToSync.filter(n=>n!==r)})},clearAccountIdentifiersToSync:()=>t({accountIdentifiersToSync:[]}),setAccountIdentifiersToSync:r=>t({accountIdentifiersToSync:r}),addAddress:(r,n)=>{let i={...e().addresses};i[r]=n,t({addresses:i})},removeAddress:(r,n)=>{let i={...e().addresses};i[r]===n&&delete i[r],t({addresses:i})},clearAddresses:()=>{t({addresses:{}})},reset:()=>{t(wNe)}}));d();h();d();h();var sOt=t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();var aOt=qe(ur());d();h();var ANe=qe(Da()),qh=qe(ur());var cOt=({importPrivateKeyCallback:t,existingAccounts:e,editableAccountMetadata:r,analytics:n})=>{let{t:i}=jh(),{formState:{errors:o},control:s,clearErrors:u,getValues:l,setValue:m,register:x,handleSubmit:w,watch:E,trigger:I}=kL({mode:"all",defaultValues:{addressType:r?.addressType||"solana",networkID:r?.networkID||Sr.Solana.Mainnet}}),[M,k]=(0,qh.useState)(null),C=CL(f=>f.setEditableAccountMetadata),{name:R}=E(),L=r?.secrets,P=l("networkID"),K=l("addressType"),V=l("privateKey"),j=(0,qh.useMemo)(()=>new a_,[]),ne={required:!0},J=(0,qh.useMemo)(()=>({required:{value:!0,message:i("addAccountImportAccountPrivateKeyRequired")},onChange:f=>{f.target.value||k(null)},validate:f=>{try{let p=l("networkID"),y=l("addressType");if(/\s/.test(f)||!y)return i("addAccountImportAccountIncorrectFormat");let g=je.getNetworkDefinition(p).value,A=c_({privateKey:f,addressType:y,networkIDValue:g});C({...r,secrets:A});let _=j.generateKeypairFromPrivateKey(A,y);return e.find(c=>!c.isReadOnly&&(c.addresses.map(v=>v.address).includes(ds({publicKey:_.publicKey,addressType:y,networkID:p}))||c.addresses.filter(v=>"publicKey"in v).map(v=>v.publicKey).find(v=>v?Buffer.from(v).equals(Buffer.from(_.publicKey)):!1)))?i("addAccountImportAccountDuplicatePrivateKey"):!0}catch{return i("addAccountImportAccountIncorrectFormat")}}}),[i,j,e,r,C,l]);(0,qh.useEffect)(()=>{if(o.privateKey){k(null);return}if(V||L)try{let f=je.getNetworkDefinition(P).value,p=L||c_({privateKey:V,addressType:K,networkIDValue:f}),y=j.generateKeypairFromPrivateKey(p,K);if(!V){let g="";switch(K){case"solana":{g=ANe.default.encode(y.privateKey);break}case"eip155":{g="0x"+Buffer.from(y.privateKey).toString("hex");break}case"sui":{g=VP(y.privateKey);break}}m("privateKey",g)}k(ds({publicKey:y.publicKey,addressType:K,networkID:P}))}catch{k(null)}},[o.privateKey,K,j,V,L,m,P]);let oe=(0,qh.useMemo)(()=>!!(R&&V&&!o.name&&!o.privateKey),[o.name,o.privateKey,R,V]),S=(0,qh.useCallback)(async({networkID:f,name:p,privateKey:y,addressType:g})=>{let A=je.getNetworkDefinition(f).value,_=c_({privateKey:y,addressType:g,networkIDValue:A});await t({chainType:g,name:p,icon:r?.icon,privateKey:_}),n.capture("addPrivateKeyAccount",{data:{networkID:f,chainType:g}})},[t,r?.icon,n]);return{formOnSubmitHandler:w(f=>S(f)),canSubmit:oe,control:s,getValues:l,register:x,setValue:m,trigger:I,errors:o,clearErrors:u,nameValidations:ne,privateKey:V,privateKeyValidations:J,addressPreview:M}};d();h();var uOt=async(t,e,r)=>{let{enabledAddressTypes:n,enabledChainIDs:i,enabledMainnetOnlyNetworkIDs:o}=r,[s,u]=await Promise.all([e.get("developerMode"),wE(e)]),l=await t.fetchAllAccounts(),m=await yp(l,e),x=await tee(e,m.identifier),w={name:x.name,icon:x.icon,identifier:m.identifier,addresses:G8(m,o,n,i,u,s?.isDeveloperMode??!1)};return m.type==="seed"?{...w,type:"seed",seedIdentifier:m.seedIdentifier,isReadOnly:!1}:m.type==="seedless"?{...w,type:"seedless",seedIdentifier:m.seedIdentifier,isReadOnly:!1}:m.type==="readOnly"?{...w,type:"readOnly",isReadOnly:!0}:m.type==="privateKey"?{...w,privateKeyIdentifier:m.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...w,type:m.type,isReadOnly:!1}};d();h();export{tae as a,$p as b,EI as c,Yx as d,Jp as e,q0e as f,DM as g,V0e as h,L3 as i,hV as j,Epe as k,mw as l,kV as m,Bpe as n,PV as o,CV as p,BV as q,DV as r,Lpe as s,Kpe as t,$pe as u,Zpe as v,KV as w,nP as x,xye as y,Sye as z,vH as A,tye as B,af as C,xH as D,Pw as E,wH as F,SH as G,uye as H,fye as I,lye as J,dye as K,hye as L,pye as M,mye as N,yye as O,gye as P,Cet as Q,bc as R,su as S,USt as T,D5e as U,A8 as V,zJ as W,In as X,JSt as Y,XSt as Z,Gl as _,eAt as $,aGt as aa,ntt as ba,ott as ca,Um as da,Bt as ea,$w as fa,art as ga,crt as ha,urt as ia,frt as ja,fa as ka,Tt as la,hP as ma,Dd as na,Mm as oa,km as pa,Pm as qa,g0 as ra,Rm as sa,gl as ta,Sr as ua,la as va,qt as wa,HZt as xa,w0 as ya,fge as za,F6 as Aa,L6 as Ba,jm as Ca,hge as Da,WP as Ea,K6 as Fa,yge as Ga,Art as Ha,Ert as Ia,GH as Ja,_rt as Ka,Trt as La,Irt as Ma,as as Na,Age as Oa,Yw as Pa,QH as Qa,Rrt as Ra,Zrt as Sa,Qrt as Ta,Qw as Ua,rj as Va,ij as Wa,pj as Xa,bj as Ya,vj as Za,FXt as _a,$m as $a,Fj as ab,d2 as bb,t_ as cb,a_ as db,S2 as eb,r9 as fb,yst as gb,Ti as hb,VP as ib,c_ as jb,h9 as kb,wW as lb,Sxe as mb,DW as nb,HW as ob,S2e as pb,B_ as qb,ds as rb,O_ as sb,Kdt as tb,Iy as ub,CG as vb,V2 as wb,je as xb,eSe as yb,Y2e as zb,My as Ab,J2e as Bb,X2e as Cb,xR as Db,tSe as Eb,rSe as Fb,nSe as Gb,iSe as Hb,oSe as Ib,sSe as Jb,aSe as Kb,cSe as Lb,uSe as Mb,fSe as Nb,lSe as Ob,dSe as Pb,wR as Qb,ky as Rb,SR as Sb,hSe as Tb,pSe as Ub,KG as Vb,I8 as Wb,sv as Xb,_1 as Yb,NSe as Zb,Ns as _b,USe as $b,N3e as ac,M4 as bc,Tbt as cc,AZ as dc,k4 as ec,IZ as fc,P4 as gc,Ibt as hc,MZ as ic,V1 as jc,j1 as kc,B2t as lc,Qe as mc,V2t as nc,H2t as oc,oO as pc,Q2t as qc,J2t as rc,X2t as sc,T8 as tc,qS as uc,aO as vc,dJ as wc,V8e as xc,Dt as yc,tSt as zc,Y8e as Ac,vh as Bc,hO as Cc,$r as Dc,sp as Ec,xJ as Fc,h5e as Gc,p5e as Hc,Lt as Ic,b5e as Jc,jt as Kc,v5e as Lc,vSt as Mc,Lr as Nc,eSt as Oc,_St as Pc,zl as Qc,C5e as Rc,NJ as Sc,LJ as Tc,tAt as Uc,rAt as Vc,UO as Wc,uAt as Xc,nAt as Yc,iAt as Zc,oAt as _c,sAt as $c,M8 as ad,FO as bd,eX as cd,yAt as dd,gAt as ed,tX as fd,Lf as gd,vAt as hd,xAt as id,Bin as jd,l3t as kd,p3t as ld,SAt as md,bi as nd,HO as od,sg as pd,AAt as qd,m3t as rd,_3t as sd,$8 as td,iee as ud,aee as vd,cee as wd,T3t as xd,I3t as yd,nIe as zd,M3t as Ad,P8 as Bd,k3t as Cd,_At as Dd,TAt as Ed,P3t as Fd,R3t as Gd,C3t as Hd,iIe as Id,B3t as Jd,O3t as Kd,D3t as Ld,fee as Md,YIe as Nd,X_t as Od,e4t as Pd,gD as Qd,p5 as Rd,Xte as Sd,ag as Td,qf as Ud,D8 as Vd,PEt as Wd,MX as Xd,yv as Yd,pp as Zd,BEt as _d,VEt as $d,HEt as ae,MAt as be,Ff as ce,fp as de,jEt as ee,zEt as fe,N8 as ge,WEt as he,GEt as ie,$Et as je,YEt as ke,ere as le,kr as me,RRe as ne,Zv as oe,Zre as pe,JCe as qe,rBe as re,oBe as se,_Be as te,TBe as ue,YBe as ve,JBe as we,BOe as xe,XU as ye,OOe as ze,WRt as Ae,WOe as Be,Kie as Ce,kCt as De,$ie as Ee,ZEt as Fe,ld as Ge,Yie as He,PCt as Ie,Zie as Je,RCt as Ke,CCt as Le,MDe as Me,xE as Ne,S5n as Oe,A5n as Pe,E5n as Qe,_5n as Re,T5n as Se,I5n as Te,hBt as Ue,pBt as Ve,Jie as We,cx as Xe,mBt as Ye,Zn as Ze,mL as _e,yBt as $e,gBt as af,pT as bf,KCt as cf,loe as df,FDe as ef,bBt as ff,Gc as gf,vBt as hf,qCt as if,sc as jf,xBt as kf,wBt as lf,SBt as mf,ABt as nf,EBt as of,_Bt as pf,TBt as qf,IBt as rf,MBt as sf,kBt as tf,mT as uf,PBt as vf,RBt as wf,DDe as xf,GCt as yf,$Ct as zf,YCt as Af,nBt as Bf,vL as Cf,VCt as Df,Uu as Ef,aoe as Ff,ux as Gf,iBt as Hf,oBt as If,hT as Jf,coe as Kf,uoe as Lf,cBt as Mf,foe as Nf,uBt as Of,NBt as Pf,sNe as Qf,kL as Rf,WBt as Sf,GBt as Tf,YBt as Uf,ZBt as Vf,fBt as Wf,QBt as Xf,JBt as Yf,XBt as Zf,lBt as _f,eOt as $f,tOt as ag,rOt as bg,RL as cg,CL as dg,SNe as eg,sOt as fg,cOt as gg,uOt as hg};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-E2A6YDRV.js.map
