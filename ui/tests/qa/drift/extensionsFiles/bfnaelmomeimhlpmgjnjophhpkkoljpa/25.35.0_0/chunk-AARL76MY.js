import{b as Ee,c as Qt,d as Ie,e as Yt}from"./chunk-7WKA7VQO.js";import{a as Jt,b as Xt,c as Zt}from"./chunk-APR3LBW6.js";import{a as N,c as U,d as L,e as Kt,g as ge}from"./chunk-6TIAWJQS.js";import{a as qt,c as Gt}from"./chunk-2ZIJEOTL.js";import{E as ne,F as Ut,j as ue,n as be,s as Ft}from"./chunk-XZRRLELF.js";import{s as jt}from"./chunk-MOTGUR2H.js";import{a as q}from"./chunk-7JKUY6KU.js";import{b as fe,g as $t}from"./chunk-HO6FHTKM.js";import{e as Mt,g as I,i as Lt,l as T}from"./chunk-TALMQQTZ.js";import{a as Bt,b as Vt}from"./chunk-S32BDL22.js";import{a as At}from"./chunk-E5PF7MT2.js";import{a as Rt,b as er}from"./chunk-DIE5362K.js";import{g as Ht,l as Ot,m as Nt}from"./chunk-BSK64RRL.js";import{a as kt}from"./chunk-YDS6O2TZ.js";import{Pb as vt,Qb as bt,jc as Et,pc as It,q as lt}from"./chunk-ZYPI3ESJ.js";import{j as Pt,k as Tt,l as Ct}from"./chunk-BRQKCECY.js";import{h as ht,i as xt,j as wt}from"./chunk-6N4GZCP2.js";import{c as Wt,d as O}from"./chunk-ZTFOFBVC.js";import{F as Dt,H as te,K as _t,P as zt,db as w,m as y,u as ve}from"./chunk-FVUSQHVT.js";import{b as ct}from"./chunk-4BKJE7YB.js";import{a as yt,c as Q}from"./chunk-25TPEQ2Q.js";import{a as Or}from"./chunk-XD32MQ4W.js";import{T as pt,U as dt,X as de,Y as ut,ca as ft,da as gt,m as mt,pa as St}from"./chunk-HTY647YJ.js";import{Jd as Ge,Nc as qe,Td as Qe,Xe as ee,Ye,bf as G,bg as Xe,dg as Ce,fg as Ze,ic as Ve,jc as je,jf as Ke,lf as Je,mc as j}from"./chunk-E2A6YDRV.js";import{A as Ue,Ba as tt,Ca as H,Da as pe,Ea as rt,F as $e,Ia as ot,Ma as nt,Wa as st,X as x,Xa as it,_b as M,c as v,kb as at,wa as Re,ya as S,za as et}from"./chunk-BEUYJGED.js";import{f as P,h as s,i as f,m as Buffer,n as i}from"./chunk-64CIGK2X.js";s();i();s();i();var B=P(v());s();i();var tr="Icon type is Image, but no field: imageUrl found.",rr="Icon type is Emoji, but no field: unicode found.";s();i();var or=rt({defaultClassName:"_1cg1k9y3 t8qixv0 t8qixvf t8qixv1 t8qixv6 t8qixve _1cg1k9y2 _51gaznu6 _51gaznv6 _51gaznx6 _51gaznw6 _51gazn1kj _51gazn1me _51gazn1mr _51gazn1pl _51gazn1l6 _51gazn5m9",variantClassNames:{theme:{primary:"_1cg1k9y4 _1cg1k9y0 _51gazn20m _51gazn3zg",secondary:"_1cg1k9y5 _1cg1k9y1 _51gazn1xp _51gazn42d"}},defaultVariants:{},compoundVariants:[]});s();i();s();i();var sr=P(v()),nr=/(\p{Emoji_Presentation}|\p{Extended_Pictographic})/giu,Nr=/[\p{Script=Latin}\p{Script=Cyrillic}]+/giu,ir=(e="",t)=>(0,sr.useMemo)(()=>{let r=e.split(" "),o=r[0]??"",n=new RegExp(nr).test(o),a=new RegExp(Nr).test(o),p=!n&&!a,c=t!==void 0?t+1:"";if(n){let u=Array.from(o);if(u.length>1){let A="";for(let d of u)if(d.match(nr))A+=d;else break;o=A}}else a&&(o=Ze(o).charAt(0));if(r.length>1){let u=Number(r[1]);if(Number.isInteger(u)&&u>=0)return p?c:`${o}${u}`}return p?c:o},[e,t]);s();i();var se=P(v()),Ur=5,ke=(e,t)=>{let r=(0,se.useRef)(null),o=(0,se.useRef)(null);return(0,se.useEffect)(()=>{o.current&&(o.current.style.fontSize=`${e}px`),r.current&&o.current&&ar(r,o,e)},[t,e,r,o]),{containerRef:r,textRef:o}},ar=(e,t,r)=>{let o=e.current?.clientWidth||0;(t.current?.clientWidth||0)>=o-Ur&&t.current&&(r=r-1,t.current.style.fontSize=`${r}px`,ar(e,t,r))};var lr={24:{fontSize:10,fontWeight:600},32:{fontSize:12,fontWeight:600},48:{fontSize:14,fontWeight:700},96:{fontSize:28,fontWeight:700}},$r={24:14,32:18,48:24,96:48},cr=B.default.memo(({accountName:e,accountIndex:t,avatarSize:r})=>{let o=ir(e,t),{fontSize:n,fontWeight:a}=lr[r],{textRef:p}=ke(n,e);return B.default.createElement("span",{ref:p,style:{fontSize:n,fontWeight:a}},o)}),Vr=B.default.memo(({accountIcon:e,accountIndex:t,accountName:r,avatarSize:o,emojiSize:n,onError:a})=>{let p={accountName:r,accountIndex:t,avatarSize:o};try{switch(e?.type??"default"){case"image":if(e?.imageUrl)return B.default.createElement(at,{alt:r,height:o,width:o,src:e.imageUrl});throw new Error(tr);case"emoji":if(e?.unicode)return B.default.createElement("span",{style:{fontSize:n}},e.unicode);throw new Error(rr);case"read-only-default":return B.default.createElement(et,{size:n});default:return B.default.createElement(cr,{...p})}}catch(c){return a?.(c),B.default.createElement(cr,{...p})}}),De=B.default.memo(({accountName:e,accountIndex:t,accountIcon:r,size:o,testID:n,theme:a="secondary",onError:p,onPress:c})=>{let u=$r[o],{fontSize:A}=lr[o],{containerRef:d}=ke(A,e),C=it(or,{theme:a}),h=st(C,Re({size:o,cursor:c?"pointer":"inherit"}));return B.default.createElement(H,{ref:d,className:h,testID:n,onPress:c},B.default.createElement(Vr,{accountIcon:r,accountIndex:t,accountName:e,avatarSize:o,emojiSize:u,onError:p}))});var z=P(v());s();i();var mr="_1l5f71i0 _51gaznu6 _51gaznv6 _51gaznx6 _51gaznw6 _51gaznqx _51gaznpr _51gazns3 _51gaznol _51gaznxb _51gaznx9 _51gaznxd _51gaznx7 _51gazn3kg _51gazn35g _51gazn2bg _51gazn2qg _51gaznxf _51gazn18a _51gazn128 _51gazn1b4 _51gazn1cq _51gazn1kj _51gazn1me _51gazn1mr _51gazn1t4 _51gazn1xp _51gazn20n _51gazn437 _51gazn3zh",pr="_1l5f71i1 _51gaznxg";var _e=z.default.memo(e=>{let t=(0,z.useCallback)(r=>j.captureError(r,"account"),[]);return z.default.createElement(De,{...e,onError:t})}),jr=z.default.memo(({accountName:e,accountIndex:t,accountIcon:r,onPress:o,onClick:n=o})=>{let a=(0,z.useCallback)(p=>j.captureError(p,"account"),[]);return z.default.createElement("div",{className:pr},z.default.createElement(De,{accountIndex:t,accountName:e,accountIcon:r,size:96,onError:a}),z.default.createElement("button",{type:"button",className:mr,"data-testid":"edit-avatar-icon",onClick:n},z.default.createElement(tt.Edit,{size:20})))}),qr=z.default.memo(({children:e,withMargin:t})=>z.default.createElement(H,{direction:"row",alignItems:"center",justifyContent:"center",marginX:"auto",marginY:t?20:"auto"},e));s();i();s();i();var ze=P(v());var ur=({value:e,onChange:t})=>{let{t:r}=x();return ze.default.createElement(Gr,null,ze.default.createElement($t,{placeholder:r("assetListSearch"),value:e,onChange:o=>{"value"in o.target&&typeof o.target.value=="string"&&t(o.target.value)},showClearIcon:!!e,onClear:()=>{t("")}}))},Gr=y.div`
  padding: 14px 0 14px;
  background: ${S.colors.legacy.areaBase};
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid ${S.colors.legacy.borderBase};
  }
`;s();i();s();i();var Qr=P(v());var fr=Qe({minutes:5}),We=(e,t)=>qe({enabled:e!==null&&t,gcTime:fr,staleTime:fr,refetchInterval:!1,refetchOnMount:!1,...Yt(e)});s();i();var yr=P(v());s();i();function Yr(e,t){let r="type"in e&&e.type==="fungible"?e:null;if(!r)return!1;let o=r.platform==="all"||r.platform===t.platform,n=r.limitToTokenAddresses&&r.limitToTokenAddresses.length>0;return o&&!n?!0:o&&n?r.limitToTokenAddresses.some(a=>a===t.tokenAddress):!1}function Kr(e,t){let r=!("type"in e)||e.type==="collectible"?e:null;if(!r)return!1;let o=r.platform==="all"||r.platform===t.platform,n=r.limitToCollections&&r.limitToCollections.length>0;return o&&!n?!0:o&&n?r.limitToCollections.some(a=>a===t.collectionId):!1}var gr=(e,t)=>e?e.filter(r=>t.type==="fungible"?Yr(r,t):Kr(r,t)).slice(0,20):[];s();i();var Sr=({input:e,shortcuts:t})=>{if(t.length===0)return[];let r=JSON.stringify(t);return e.collectionId&&(r=r.replaceAll("{{collectionId}}",e.collectionId)),e.tokenId&&(r=r.replaceAll("{{tokenId}}",e.tokenId)),e.ownerAddress&&(r=r.replaceAll("{{ownerAddress}}",e.ownerAddress)),JSON.parse(r)};var hr=(e,t,r)=>(0,yr.useMemo)(()=>{let o=Sr({input:t,shortcuts:e});return gr(o,r)},[e,t,r]);function ie(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="fungible")}function Jr(e){return ie(e)?Ee(e.externalUrl):Ee(e?.externalUrl)}function Xr(e){return ie(e)?!1:e?.collection.isSpam??!0}function Zr(e,t){let r=Jr(e),o=Qt(r)&&!!r&&!Xr(e)&&t,{data:n,isPending:a}=We(o&&r?new URL(r):null,t),p=ie(e)?"":Rr(e)??"",c=ie(e)?e.tokenAddress:e?.id??"",u=$e?"mobile":"desktop",A=ie(e)?{platform:u,tokenAddress:c,type:"fungible"}:{platform:u,collectionId:p,type:"collectible"},d=hr(n??[],{collectionId:p,tokenId:c,ownerAddress:e?.owner},A);return{isLoading:!e||a&&o,shortcuts:o?d:[]}}var Rr=e=>{if(e?.chainData){if(Tt(e.chainData))return e.chainData.contract;if(Pt(e.chainData))return e.collection.id;if(Ct(e.chainData))return e.chainData.firstCreatedInscriptionId}};s();i();s();i();s();i();var Se=P(v()),xr=P(Or());var eo=new yt,wr=({beforeReset:e}={})=>{let{mutateAsync:t}=vt(),{mutateAsync:r}=bt(),[o,n]=(0,Se.useState)("idle"),a=o==="resetting",p=(0,Se.useCallback)(async()=>{await e?.(),n("resetting"),Q.capture("resetApp"),await eo.clear(),er.clear(),await kt.logOut(),await Ht(),await t(!0),await r(!0),xr.default.runtime.reload()},[e,r,t]);return{isResetting:a,handleResetApp:p}};s();i();s();i();s();i();var ye=e=>e/6e4;var he=(e,t)=>{if(!t||t===0)return e("requireAuthImmediately");let r=ye(t);return r===1?`1 ${e("timeUnitMinute")}`:r===60?`1 ${e("timeUnitHour")}`:r===1440?`1 ${e("timeUnitDay")}`:r>60?`${r/60} ${e("timeUnitHours")}`:`${r} ${e("timeUnitMinutes")}`};var m=P(v());s();i();s();i();s();i();var ae=P(v());var we=({onSuccess:e,type:t})=>{let{t:r}=x(),o=t==="privateKey",n=r(o?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(T,{shouldWrap:!0},n),ae.default.createElement(be,{onSuccess:e,type:t}))};s();i();var D=P(v());s();i();var X=P(v());var Ar=X.default.memo(({indexes:e,wordlist:t})=>X.default.createElement(oo,null,e.length&&t.length?e.map((r,o)=>X.default.createElement(to,{key:o},X.default.createElement(no,null,`${o+1}.`),X.default.createElement(so,{"data-testid":`secret-recovery-phrase-word-input-${o}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:t[r],pattern:"[A-Za-z\\s]+"}))):Array.from({length:e?e.length:12},(r,o)=>X.default.createElement(ro,{key:o})))),to=y(q).attrs({align:"center",justify:"center"})`
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  color: ${S.colors.legacy.textBase};
  background: ${S.colors.legacy.areaAccent};
  border: 1px solid ${S.colors.legacy.borderDiminished};
  border-radius: 6px;
  align-self: center;
  height: 41px;
`,ro=y(jt).attrs({backgroundColor:S.colors.legacy.borderBase,borderRadius:"6px",height:"41px"})``,oo=y.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,no=y(w).attrs({size:14,weight:400,color:S.colors.legacy.textDiminished})`
  padding-left: 8px;
  padding-right: 2px;
`,so=y.input`
  color: ${S.colors.legacy.textBase};
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;s();i();var ce=P(v());var Pr=({type:e})=>{let{t}=x(),r=e==="privateKey"?t("exportSecretPrivateKey"):t("exportSecretRecoveryPhrase");return ce.default.createElement(io,{"data-testid":`warning-island-${e}`},ce.default.createElement(Ft,{color:S.colors.legacy.spotNegative,title:ce.default.createElement(ct,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:r}},"Do ",ce.default.createElement("u",null,"not")," share your ",r,"!"),description:t("exportSecretWarningSecondaryInterpolated",{secretNameText:r})}))},io=y.div`
  margin-bottom: 20px;
`;var Ae=({accountIdentifier:e,password:t,onDone:r})=>{let{t:o}=x(),{popDetailView:n}=I(),[{indexes:a,wordlist:p},c]=(0,D.useState)({indexes:[],wordlist:[]}),{data:u}=Ye(e),A=(0,D.useCallback)(()=>{n(),n(),n()},[n]);return(0,D.useEffect)(()=>{(async()=>{if((u?.type==="seed"||u?.type==="seedless")&&u?.seedIdentifier)try{let d=await t.foldAsync(re=>It(Buffer.from(re).toString("utf-8"),u.seedIdentifier));if(!d)throw new Error("Could not get mnemonic");let C=await At(),h=d.fold(C.fromEntropy),b=Array.from(await h.getIndexes());c({indexes:b,wordlist:C.wordlist}),j.addBreadcrumb("account",`\u2705 Exported S*ed for Account: ${e}`,"info"),Q.capture("exportMnemonic")}catch{throw j.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(u)}"`,"error"),new Error("Could not get mnemonic")}else j.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(u)}"`,"error")})()},[u,e,t]),D.default.createElement(D.default.Fragment,null,D.default.createElement(T,{shouldWrap:!0},o("exportSecretYourSecretRecoveryPhrase")),D.default.createElement(N,null,D.default.createElement(L,null,D.default.createElement(Pr,{type:"mnemonic"}),D.default.createElement(Ar,{indexes:a,wordlist:p}))),D.default.createElement(Wt,{onClick:r||A},o("pastParticipleDone")))};s();i();var l=P(v());var Le=({navigationCallback:e})=>{let{t}=x(),{data:r=[]}=ee(),{data:o=[]}=G("all"),a=!(o?.length>0),p=Ce(d=>d.editableAccountMetadata),c=Ce(d=>d.setEditableAccountMetadata),u=(0,l.useCallback)(d=>{c&&c({...p,seedIdentifier:d})},[p,c]),A=(0,l.useCallback)(d=>{u(d),e(d)},[u,e]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(T,{icon:l.default.createElement(_t,{fill:S.colors.legacy.textDiminished})},t("settingsSelectSecretPhrase")),l.default.createElement(N,null,a?l.default.createElement(pe,{children:t("addAccountNoSecretPhrases"),font:"labelBold"}):l.default.createElement(H,{gap:8},l.default.createElement(lo,null,o?.map((d,C)=>l.default.createElement(ao,{key:`seed-select-${d.identifier}`,accounts:Ge(r,d.identifier),seedIdentifier:d.identifier,onClick:A,index:C}))))))},ao=({accounts:e,seedIdentifier:t,index:r,onClick:o})=>{let{t:n}=x(),[a,p]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),A=(0,l.useCallback)(()=>{p(!a)},[a,p]),d=(0,l.useCallback)(()=>{c||o(t)},[c,o,t]),C=(0,l.useMemo)(()=>e.length>1?n(a?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(a?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,a,n]),h=(0,l.useMemo)(()=>e.length>=1?{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:A}:null,[e.length,A]);return l.default.createElement(mo,{onClick:d},l.default.createElement(Cr,null,l.default.createElement(po,null,l.default.createElement(uo,null,l.default.createElement(fo,null,n("addAccountSecretPhraseDefaultLabel",{number:r+1})),l.default.createElement(So,{...h},C)),l.default.createElement(q,{width:"fit-content"},l.default.createElement(vr,null,l.default.createElement(ve,{fill:S.colors.legacy.textDiminished,width:10})))),l.default.createElement(co,{accounts:e,expanded:a})))},co=({accounts:e,expanded:t})=>{let[r,{height:o}]=Mt(),n=(0,l.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:o},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[o]);return l.default.createElement(ot,{mode:"wait"},t&&e.length>0&&l.default.createElement(Tr,{...n},l.default.createElement(Tr,{ref:r},l.default.createElement(yo,null,e.map((a,p)=>l.default.createElement(q,{key:`account-${a.identifier}`,justify:"flex-start"},l.default.createElement(_e,{size:24,accountIcon:a.icon,accountName:a.name,accountIndex:p}),l.default.createElement(go,{style:{marginLeft:6}},a.name)))))))},lo=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,mo=y(q).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: ${S.colors.legacy.elementBase};
  border-radius: 8px;
  &:hover {
    background-color: ${S.colors.legacy.elementAccent};
  }
`,po=y(q).attrs({justify:"space-between"})`
  padding: 15px;
`,uo=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,fo=y(w).attrs({size:16,weight:500,lineHeight:19})``,go=y(w).attrs({size:15,weight:500,lineHeight:19})``,So=y(w).attrs({size:13,weight:500,lineHeight:19})`
  color: ${S.colors.legacy.spotBase};
  margin-top: 2px;
`,Cr=y.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,yo=y(Cr)`
  border-top: 1px solid ${S.colors.legacy.areaBase};
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,Tr=y(nt.div)`
  overflow: hidden;
`,Aa=({accounts:e,seedMetas:t,onClick:r,selectedSeedIdentifier:o})=>{let{t:n}=x(),a=(0,l.useMemo)(()=>{if(!t||!o)return 0;let c=t.find(u=>u.identifier===o);return c?t.indexOf(c):0},[t,o]),p=(0,l.useMemo)(()=>!e||!o?[]:e.filter(c=>(c.type==="seed"||c.type==="seedless")&&c.seedIdentifier===o),[e,o]);return l.default.createElement(ho,null,l.default.createElement(Po,null,n("addAccountSecretPhraseLabel")),l.default.createElement(xo,{onClick:r,"data-testid":"select-secret-phrase-button"},l.default.createElement(q,{justify:"space-between"},l.default.createElement(q,null,l.default.createElement(wo,null,n("addAccountSecretPhraseDefaultLabel",{number:a+1})," ",l.default.createElement(Ao,null,"(",p.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:p.length}):n("addAccountOneAccountsForSeed"),")"))),l.default.createElement(vr,null,l.default.createElement(ve,{fill:S.colors.legacy.textDiminished,width:10})))),l.default.createElement(br,null,n("addAccountSelectSeedDescription")))},ho=y(qt)`
  width: 100%;
  position: relative;
`,xo=y(Gt)`
  padding: 8px 16px 8px 12px;
`,vr=y.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,wo=y(w).attrs({size:16,weight:400,lineHeight:19})``,Ao=y(w).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: ${S.colors.legacy.textDiminished};
`,br=y(w).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: ${S.colors.legacy.textDiminished};
`,Po=y(br)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;s();i();s();i();var Be=e=>e*6e4;var $=P(v());var le=[0,1,5,10,15,30,60,240,480,1440],Er=()=>{let{t:e}=x(),{popDetailView:t}=I(),{data:r}=de(),{mutateAsync:o}=ut(),n=(0,$.useCallback)(async p=>{try{let c=Be(p);await o({lockTimeInMs:c}),Q.capture("changeLockTimerDuration",{data:{mins:p}}),t(),r!==c&&ue.success(e("changeLockTimerToast"))}catch(c){console.error(c)}},[r,t,o,e]),a=(0,$.useMemo)(()=>{if(r===void 0)return[];let p=ye(r);return To(p),le.map(c=>({topLeft:{text:he(e,Be(c))},active:p===c,type:"radio",onClick:()=>n(c)}))},[r,n,e]);return $.default.createElement($.default.Fragment,null,$.default.createElement(T,null,e("changeLockTimerPrimaryText")),$.default.createElement(N,null,$.default.createElement(M,{rows:a})))},To=async e=>{if(!le.includes(e)){let t=le.findIndex(r=>r>e);t?le.splice(t,0,e):le.push(e)}};s();i();var k=P(v());var Co={currentPassword:"",password:"",confirmPassword:""},vo={currentPassword:void 0,password:void 0,confirmPassword:void 0},Ir=()=>{let{t:e}=x(),{popDetailView:t}=I(),[r,o]=(0,k.useState)(Co),{currentPassword:n,password:a,confirmPassword:p}=r,[c,u]=(0,k.useState)(vo),A=c.password??c.confirmPassword??c.currentPassword,d=!n||!a||!p,[C,h]=(0,k.useState)(!1),b=Y=>{let V=Y.currentTarget.name,K=Y.currentTarget.value;o({...r,[V]:K})};return k.default.createElement(ge,{onSubmit:async Y=>{Y.preventDefault(),h(!0);let V,K=Jt(a)??Zt(n,a),oe=Xt(a,p);if(K||oe)return u({...c,password:K,confirmPassword:oe}),h(!1);try{if(!await Ot(n))throw new Error("Incorrect password");await Nt(n,p),h(!1),t(),ue.success(e("changePasswordToast"))}catch(R){j.captureError(R,"account"),V=R?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),u({...c,currentPassword:V}),h(!1)}}},k.default.createElement(T,null,e("changePasswordPrimaryText")),k.default.createElement(U,{size:"large"},k.default.createElement(L,null,k.default.createElement(Dt,null),k.default.createElement(w,{size:26,weight:500},e("changePasswordPrimaryText")),k.default.createElement(Kt,null,k.default.createElement(fe,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!c.currentPassword,onChange:b}),k.default.createElement(fe,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!c.password,onChange:b}),k.default.createElement(fe.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!c.confirmPassword,warningMessage:A,onChange:b}))),k.default.createElement(O,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:t,primaryDisabled:d||C,primaryLoading:C})))};s();i();var E=P(v());s();i();var F=P(v());var Pe=({beforeReset:e})=>{let{t}=x(),{popDetailView:r}=I(),{isResetting:o,handleResetApp:n}=wr({beforeReset:e});return F.default.createElement(F.default.Fragment,null,F.default.createElement(T,null,t("settingsResetApp")),F.default.createElement(U,{size:"large"},F.default.createElement("div",null),F.default.createElement(L,null,F.default.createElement(te,null),F.default.createElement(w,{size:28,weight:500,lineHeight:34},t("resetSeedPrimaryText")),F.default.createElement(w,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px"},t("resetSeedSecondaryText"))),F.default.createElement(O,{primaryDisabled:o,primaryLoading:o,primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:n,onSecondaryClicked:r})))};var kr=({beforeReset:e})=>{let{t}=x(),{popDetailView:r,pushDetailView:o}=I(),{data:n=[]}=ee(),a=n.filter(d=>d.type==="seedless"),{data:p=[]}=G("recoverable-only"),c=(0,E.useCallback)((d,C,h)=>{o(E.default.createElement(we,{type:"mnemonic",onSuccess:()=>o(E.default.createElement(Ae,{accountIdentifier:C,password:d,onDone:h}))}))},[o]),u=(0,E.useCallback)((d,C)=>{let h=a.find(b=>b.seedIdentifier===d);h&&o(E.default.createElement(ne,{type:"mnemonic",onSuccess:b=>c(b,h.identifier,C)}))},[a,o,c]),A=()=>{u(p[0].identifier,()=>{o(E.default.createElement(Pe,{beforeReset:e}))})};return E.default.createElement(E.default.Fragment,null,E.default.createElement(T,null,t("settingsDeleteSeedlessBundle")),E.default.createElement(U,{size:"large"},E.default.createElement("div",null),E.default.createElement(L,null,E.default.createElement(te,null),E.default.createElement(w,{size:28,weight:500,lineHeight:34},t("settingsDeleteSeedlessBundle")),E.default.createElement(w,{size:16,color:"textDiminished",lineHeight:19,maxWidth:"312px"},t("settingsDeleteSeedlessBundleDescription"))),E.default.createElement(O,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:A,onSecondaryClicked:r})))};s();i();var _=P(v());var bo=y.div`
  border: 1px solid ${S.colors.legacy.spotWarning};
  border-radius: 6px;
  padding: 8px 16px;
`,Dr=_.default.memo(()=>{let{t:e}=x(),{downloadLogs:t,goSupportDesk:r,isFetching:o}=Rt();return _.default.createElement(ge,{onSubmit:t},_.default.createElement(T,null,e("settingsDownloadApplicationLogs")),_.default.createElement(U,{size:"medium"},_.default.createElement("div",null),_.default.createElement(L,null,_.default.createElement(Vt,{diameter:96,color:Bt(S.colors.legacy.spotBase,.1)},_.default.createElement(zt,null)),_.default.createElement(w,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px"},e("settingsDownloadApplicationLogs")),_.default.createElement(w,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,margin:"0 0 4px"},e("settingsDownloadApplicationLogsHelper")),_.default.createElement(bo,null,_.default.createElement(w,{size:14,color:S.colors.legacy.spotWarning,lineHeight:20,weight:500},e("settingsDownloadApplicationLogsWarning")))),_.default.createElement(O,{primaryDisabled:o,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:r})))});s();i();var W=P(v());var _r=({seedIdentifier:e})=>{let{t}=x(),{hideSettingsMenu:r}=Lt(),{mutate:o}=Je(),{data:n=[]}=G("all"),a=n.findIndex(u=>u.identifier===e)??0,p=(0,W.useCallback)(()=>{o({seedIdentifier:e}),Q.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),r()},[r,o,e,n]),{popDetailView:c}=I();return W.default.createElement(W.default.Fragment,null,W.default.createElement(T,null,t("settingsRemoveSecretPhrase")),W.default.createElement(U,{size:"large"},W.default.createElement("div",null),W.default.createElement(L,null,W.default.createElement(te,null),W.default.createElement(w,{size:28,weight:500,lineHeight:34},t("removeSeedPrimaryText",{number:a+1})),W.default.createElement(w,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px"},t("removeSeedSecondaryText",{number:a+1}))),W.default.createElement(O,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:p,onSecondaryClicked:c})))};var Wl=()=>{let{t:e}=x(),{pushDetailViewCallback:t,pushDetailView:r}=I(),{data:o=[]}=ee(),n=o.filter(g=>g.type==="seed"||g.type==="seedless"),a=n.filter(g=>g.type==="seed"),p=n.filter(g=>g.type==="seedless"),c=Xe(),{data:[u]}=Ve(["enable-delete-seedless-bundle-security-settings"]),A=lt(),{data:d=[]}=G("recoverable-only"),{additionalPermissionRows:C}=Eo(),{data:h}=de(),{data:b,isPending:re}=pt(),{mutate:Y}=dt(),{data:V,isPending:K}=ft(),{mutate:oe}=gt(),R=(0,m.useCallback)(()=>{Y({isAnalyticsOptedOut:!b})},[b,Y]),Fe=(0,m.useCallback)(()=>{oe({showWalletShortcuts:!V}),Et.invalidateQueries({queryKey:[Ie]})},[V,oe]),zr=(0,m.useCallback)(g=>{r(m.default.createElement(Ut,{password:g,isSettings:!0}))},[r]),He=t(m.default.createElement(ne,{type:"seedless",onSuccess:zr})),Wr=(0,m.useMemo)(()=>{let g=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:t(m.default.createElement(Ir,null))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:he(e,h)},type:"drawer",onClick:t(m.default.createElement(Er,null))}];return d.length&&g.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:He}),g},[d.length,h,t,He,e]),Mr=(0,m.useMemo)(()=>{let g=[];return g.push({topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:t(m.default.createElement(Dr,null))}),g},[t,e]),Lr=(0,m.useMemo)(()=>{let g=[];return K||g.push({id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:V??mt,type:"toggle",onClick:Fe}),g},[V,K,Fe,e]),Br=(0,m.useMemo)(()=>{let g=[];return re||g.push({id:"toggleAnalytics",active:!b,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:R}),g},[b,re,R,e]),Oe=(0,m.useCallback)((g,J,me)=>{r(m.default.createElement(we,{type:"mnemonic",onSuccess:()=>r(m.default.createElement(Ae,{accountIdentifier:J,password:g,onDone:me}))}))},[r]),Ne=(0,m.useCallback)((g,J)=>{let me=n.find(Te=>Te.seedIdentifier===g);me&&r(m.default.createElement(ne,{type:"mnemonic",onSuccess:Te=>Oe(Te,me.identifier,J)}))},[r,n,Oe]),Fr=(0,m.useMemo)(()=>{let g=[];return(a.length||p.length)&&g.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:t(m.default.createElement(Le,{navigationCallback:J=>Ne(J)}))}),g},[a.length,p.length,e,t,Ne]),Hr=(0,m.useMemo)(()=>{let g=[];return c&&g.push({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"spotNegative"},onClick:t(m.default.createElement(Le,{navigationCallback:J=>r(m.default.createElement(_r,{seedIdentifier:J}))}))}),u&&d.length&&g.push({topLeft:{text:e("settingsDeleteSeedlessBundle"),color:"spotNegative"},onClick:t(m.default.createElement(kr,{beforeReset:A}))}),g.push({topLeft:{text:e("settingsResetApp"),color:"spotNegative"},onClick:t(m.default.createElement(Pe,null))}),g},[A,u,r,t,d,c,e]);return m.default.createElement(m.default.Fragment,null,m.default.createElement(T,null,e("settingsSecurityPrimary")),m.default.createElement(N,null,m.default.createElement(H,{gap:"section"},m.default.createElement(M,{rows:Wr}),m.default.createElement(M,{rows:Mr}),C.length>0?m.default.createElement(M,{rows:C}):null,m.default.createElement(M,{rows:Lr}),m.default.createElement(H,{gap:"list"},m.default.createElement(M,{rows:Br}),m.default.createElement(H,{paddingX:4},m.default.createElement(pe,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textDiminished"}))),m.default.createElement(M,{rows:Fr}),m.default.createElement(M,{rows:Hr}))))};function Eo(){let e=Ke(),{t}=x(),r=Ue(f.IS_FIREFOX),o=je.isFeatureEnabled("always-show-all-sites-permissions"),[n,a]=(0,m.useState)(null),[p,c]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let h=!0;return(async()=>{let b=await ht();h&&a(b)})(),()=>{h=!1}},[a]);let[u,A]=(0,m.useState)(!1),d=(0,m.useCallback)(async()=>{A(!0);try{let h=!!n;if(h)await wt(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:h,newValue:!1}}),a(!1);else{let b=await xt();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:h,newValue:b}}),a(b)}}catch(h){h instanceof Error&&h.message.includes("You cannot remove required permissions")?c(!0):(console.error("Failed to set permissions"),console.error(h))}finally{A(!1)}},[n,e]),C=(0,m.useMemo)(()=>r||o?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:p||u,onClick:d,type:"toggle",topLeft:t("settingsAllSitesPermissionsTitle"),helperText:t(p?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[r,o,n,p,u,d,t]);return(0,m.useMemo)(()=>({additionalPermissionRows:C}),[C])}s();i();var Z=P(v());var jl=()=>{let{t:e}=x(),{popDetailView:t}=I(),{currencyRows:r,searchQuery:o,setSearchQuery:n}=St({goBack:t});return Z.default.createElement(Z.default.Fragment,null,Z.default.createElement(T,null,e("settingsCurrency")),Z.default.createElement(ur,{value:o,onChange:n}),Z.default.createElement(N,null,Z.default.createElement(M,{rows:r})))};export{_e as a,jr as b,qr as c,Le as d,Aa as e,Ar as f,Pr as g,we as h,Ae as i,ur as j,he as k,jl as l,Er as m,Ir as n,Dr as o,_r as p,Zr as q,wr as r,Wl as s};
//# sourceMappingURL=chunk-AARL76MY.js.map
