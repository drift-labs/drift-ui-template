import{$a as fn,A as ir,B as fo,Bb as Ho,Cb as Go,Db as bn,Eb as Tn,Fb as Ko,Gb as qo,I as yo,J as go,Jb as jo,K as ho,L as bo,M as or,N as Xe,Nb as Sn,O as To,P as ln,Qb as Qo,R as So,S as vo,Sb as zo,T as Eo,U as Co,V as Ao,Vb as $o,Wa as No,Wb as Wo,X as mn,Xa as ko,Xb as Fu,Y as pn,Ya as Fo,Z as xo,Za as Io,_ as Po,_a as Fe,aa as dn,ba as wo,bb as Ie,c as eo,cb as Do,da as sr,db as yn,e as k,g as no,gb as gn,h as ro,i as un,ib as Bo,j as io,jb as Oo,k as oo,l as tr,m as nr,mb as hn,nc as ar,oc as cr,p as so,pb as Mo,pc as vn,q as ao,qb as at,r as co,rc as Xo,s as uo,t as lo,u as mo,ub as _o,uc as Yo,v as rr,vb as ku,w as At,wb as Ro,x as po,xb as Uo,yb as Lo,zb as Vo}from"./chunk-LHPEWMJX.js";import{a as Jn,na as to,t as er}from"./chunk-HTY647YJ.js";import{$ as Le,Ac as sn,Bc as qi,Cb as ke,Cf as Yi,Db as Q,Dc as ji,Ef as Ji,Fb as Wn,Fd as Wi,Gb as Xn,Gd as Xi,Hc as Qi,Ic as X,Jc as zi,Kc as Et,Mb as Li,Nb as Vi,Nc as v,Qb as Hi,Rb as ue,S as oe,Sb as tn,Td as T,U as Zt,V as vt,W as en,Wa as Tu,Wb as nn,X as W,Xb as rn,_ as Bi,_f as Zi,ea as G,ec as We,gf as an,h as bu,jc as on,jf as Se,ma as Oi,mc as M,nd as Ct,ob as Su,pb as _i,qb as Ne,ta as Mi,ua as ge,uc as Gi,wb as Ri,wc as le,x as St,xb as h,yc as Ki,zb as Ui}from"./chunk-E2A6YDRV.js";import{R as N,S as A,c as $n,e as hu,u as st}from"./chunk-4XTMHWN2.js";import{B as Yt,D as Jt,Qb as Nu,R as vu,S as _,Sa as wu,X as $i,Y as Yn,Za as Zn,_a as cn,aa as Eu,ba as Cu,c as H,ea as Au,fa as xu,ga as Pu,l as u,lc as Iu,mc as Du,r as Xt}from"./chunk-BEUYJGED.js";import{c as ee,f as w,g as gu,h as o,m as Buffer,n as s}from"./chunk-64CIGK2X.js";var Ss=ee((CT,Ts)=>{o();s();var Bl=Eu(),Ol=Cu(),Ml=wu(),_l=xu(),Rl=Au(),Ul=Pu(),Ll=Object.prototype,Vl=Ll.hasOwnProperty,Hl=Ml(function(e,t){if(Rl(t)||_l(t)){Ol(t,Ul(t),e);return}for(var n in t)Vl.call(t,n)&&Bl(e,n,t[n])});Ts.exports=Hl});var Nn=ee(R=>{"use strict";o();s();Object.defineProperty(R,"__esModule",{value:!0});R.MULTIPLE_ACCOUNT_INFO_MAX=R.NAME_HOUSE_PREFIX=R.TLD_HOUSE_PREFIX=R.NFT_RECORD_PREFIX=R.TOKEN_METADATA_PROGRAM_ID=R.SPL_TOKEN_PROGRAM_ID=R.NAME_HOUSE_PROGRAM_ID=R.TLD_HOUSE_PROGRAM_ID=R.ANS_PROGRAM_ID=R.ORIGIN_TLD=R.MAIN_DOMAIN_PREFIX=void 0;var It=St();R.MAIN_DOMAIN_PREFIX="main_domain";R.ORIGIN_TLD="ANS";R.ANS_PROGRAM_ID=new It.PublicKey("ALTNSZ46uaAUU7XUV6awvdorLGqAsPwa9shm7h4uP2FK");R.TLD_HOUSE_PROGRAM_ID=new It.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S");R.NAME_HOUSE_PROGRAM_ID=new It.PublicKey("NH3uX6FtVE2fNREAioP7hm5RaozotZxeL6khU1EHx51");R.SPL_TOKEN_PROGRAM_ID=new It.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");R.TOKEN_METADATA_PROGRAM_ID=new It.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");R.NFT_RECORD_PREFIX="nft_record";R.TLD_HOUSE_PREFIX="tld_house";R.NAME_HOUSE_PREFIX="name_house";R.MULTIPLE_ACCOUNT_INFO_MAX=100});var qs=ee(D=>{"use strict";o();s();var Xl=D&&D.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Yl=D&&D.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ee=D&&D.__decorate||function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(c=e[l])&&(a=(i<3?c(a):i>3?c(t,n,a):c(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jl=D&&D.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&Xl(t,e,n);return Yl(t,e),t},Vs=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0});D.deserializeUnchecked=D.deserialize=D.serialize=D.BinaryReader=D.BinaryWriter=D.BorshError=D.baseDecode=D.baseEncode=void 0;var Ve=Vs($n()),Hs=Vs(hu()),Zl=Jl(bu()),em=typeof self.TextDecoder!="function"?Zl.TextDecoder:self.TextDecoder,tm=new em("utf-8",{fatal:!0});function nm(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),Hs.default.encode(Buffer.from(e))}D.baseEncode=nm;function rm(e){return Buffer.from(Hs.default.decode(e))}D.baseDecode=rm;var Nr=1024,j=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};D.BorshError=j;var kn=class{constructor(){this.buf=Buffer.alloc(Nr),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Nr)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ve.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ve.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ve.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ve.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Nr)]),this.length+=t.length}writeString(t){this.maybeResize();let n=Buffer.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(let r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}};D.BinaryWriter=kn;function Ce(e,t,n){let r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(a){if(a instanceof RangeError){let c=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new j("Reached the end of buffer when deserializing")}throw a}}}var Y=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new Ve.default(t,"le")}readU128(){let t=this.readBuffer(16);return new Ve.default(t,"le")}readU256(){let t=this.readBuffer(32);return new Ve.default(t,"le")}readU512(){let t=this.readBuffer(64);return new Ve.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new j(`Expected buffer length ${t} isn't within bounds`);let n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){let t=this.readU32(),n=this.readBuffer(t);try{return tm.decode(n)}catch(r){throw new j(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(t());return r}};Ee([Ce],Y.prototype,"readU8",null);Ee([Ce],Y.prototype,"readU16",null);Ee([Ce],Y.prototype,"readU32",null);Ee([Ce],Y.prototype,"readU64",null);Ee([Ce],Y.prototype,"readU128",null);Ee([Ce],Y.prototype,"readU256",null);Ee([Ce],Y.prototype,"readU512",null);Ee([Ce],Y.prototype,"readString",null);Ee([Ce],Y.prototype,"readFixedArray",null);Ee([Ce],Y.prototype,"readArray",null);D.BinaryReader=Y;function Gs(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Dt(e,t,n,r,i){try{if(typeof r=="string")i[`write${Gs(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new j(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new j(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let a=0;a<r[1];a++)Dt(e,null,n[a],r[0],i)}else i.writeArray(n,a=>{Dt(e,t,a,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Dt(e,t,n,r.type,i));break}default:throw new j(`FieldType ${r} unrecognized`)}else Ks(e,n,i)}catch(a){throw a instanceof j&&a.addToFieldPath(t),a}}function Ks(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}let r=e.get(t.constructor);if(!r)throw new j(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,a])=>{Dt(e,i,t[i],a,n)});else if(r.kind==="enum"){let i=t[r.field];for(let a=0;a<r.values.length;++a){let[c,l]=r.values[a];if(c===i){n.writeU8(a),Dt(e,c,t[c],l,n);break}}}else throw new j(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function im(e,t,n=kn){let r=new n;return Ks(e,t,r),r.toArray()}D.serialize=im;function Bt(e,t,n,r){try{if(typeof n=="string")return r[`read${Gs(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){let i=[];for(let a=0;a<n[1];a++)i.push(Bt(e,null,n[0],r));return i}else return r.readArray(()=>Bt(e,t,n[0],r))}return n.kind==="option"?r.readU8()?Bt(e,t,n.type,r):void 0:kr(e,n,r)}catch(i){throw i instanceof j&&i.addToFieldPath(t),i}}function kr(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);let r=e.get(t);if(!r)throw new j(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){let i={};for(let[a,c]of e.get(t).fields)i[a]=Bt(e,a,c,n);return new t(i)}if(r.kind==="enum"){let i=n.readU8();if(i>=r.values.length)throw new j(`Enum index: ${i} is out of range`);let[a,c]=r.values[i],l=Bt(e,a,c,n);return new t({[a]:l})}throw new j(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function om(e,t,n,r=Y){let i=new r(n),a=kr(e,t,i);if(i.offset<n.length)throw new j(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return a}D.deserialize=om;function sm(e,t,n,r=Y){let i=new r(n);return kr(e,t,i)}D.deserializeUnchecked=sm});var Fn=ee(pt=>{"use strict";o();s();var js=pt&&pt.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(f){try{d(r.next(f))}catch(y){c(y)}}function p(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(l,p)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(pt,"__esModule",{value:!0});pt.NameRecordHeader=void 0;var Fr=St(),Ot=qs(),Ze=class e{constructor(t){this.parentName=new Fr.PublicKey(t.parentName),this.nclass=new Fr.PublicKey(t.nclass),this.expiresAt=new Date(new Ot.BinaryReader(Buffer.from(t.expiresAt)).readU64().toNumber()*1e3),this.createdAt=new Date(new Ot.BinaryReader(Buffer.from(t.createdAt)).readU64().toNumber()*1e3),this.nonTransferable=t.nonTransferable[0]!==0;let n=45*24*60*60*1e3;this.isValid=new Ot.BinaryReader(Buffer.from(t.expiresAt)).readU64().toNumber()===0?!0:this.expiresAt.getTime()+n>new Date(Date.now()).getTime(),this.owner=this.isValid?new Fr.PublicKey(t.owner):void 0}static get byteSize(){return 200}static fromAccountAddress(t,n){var r;return js(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(n,"confirmed");if(!i)return;let a=(0,Ot.deserializeUnchecked)(this.schema,e,i.data);return a.data=(r=i.data)===null||r===void 0?void 0:r.subarray(this.byteSize),a})}static fromMultipileAccountAddresses(t,n){return js(this,void 0,void 0,function*(){let r=yield t.getMultipleAccountsInfo(n),i=[];return r.forEach(a=>{if(!a){i.push(void 0);return}let c=this.fromAccountInfo(a);if(!c){i.push(void 0);return}i.push(c)}),i})}static fromAccountInfo(t){var n;let r=(0,Ot.deserializeUnchecked)(this.schema,e,t.data);return r.data=(n=t.data)===null||n===void 0?void 0:n.subarray(this.byteSize),r}pretty(){var t;let n=this.data.indexOf(0);return{parentName:this.parentName.toBase58(),owner:(t=this.owner)===null||t===void 0?void 0:t.toBase58(),nclass:this.nclass.toBase58(),expiresAt:this.expiresAt,createdAt:this.createdAt,nonTransferable:this.nonTransferable,isValid:this.isValid,data:this.isValid?this.data.subarray(0,n).toString():void 0}}};pt.NameRecordHeader=Ze;Ze.DISCRIMINATOR=[68,72,88,44,15,167,103,243];Ze.HASH_PREFIX="ALT Name Service";Ze.schema=new Map([[Ze,{kind:"struct",fields:[["discriminator",[8]],["parentName",[32]],["owner",[32]],["nclass",[32]],["expiresAt",[8]],["createdAt",[8]],["nonTransferable",[1]],["padding",[79]]]}]])});var Ir=ee(se=>{"use strict";o();s();var am=se&&se.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),cm=se&&se.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),um=se&&se.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&am(t,e,n);return cm(t,e),t};Object.defineProperty(se,"__esModule",{value:!0});se.tagBeet=se.Tag=void 0;var lm=um(ir()),Qs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.ActiveRecord=1]="ActiveRecord",e[e.InactiveRecord=2]="InactiveRecord"})(Qs=se.Tag||(se.Tag={}));se.tagBeet=lm.fixedScalarEnum(Qs)});var Dr=ee(V=>{"use strict";o();s();var mm=V&&V.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),pm=V&&V.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$s=V&&V.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&mm(t,e,n);return pm(t,e),t},zs=V&&V.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(f){try{d(r.next(f))}catch(y){c(y)}}function p(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(l,p)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(V,"__esModule",{value:!0});V.nftRecordBeet=V.NftRecord=V.nftRecordDiscriminator=void 0;var In=$s(ir()),Dn=$s(fo()),Ws=Ir();V.nftRecordDiscriminator=[174,190,114,100,177,14,90,254];var Bn=class e{constructor(t,n,r,i,a,c){this.tag=t,this.bump=n,this.nameAccount=r,this.owner=i,this.nftMintAccount=a,this.tldHouse=c}static fromArgs(t){return new e(t.tag,t.bump,t.nameAccount,t.owner,t.nftMintAccount,t.tldHouse)}static fromAccountInfo(t,n=0){return e.deserialize(t.data,n)}static fromAccountAddress(t,n){return zs(this,void 0,void 0,function*(){let r=yield t.getAccountInfo(n);if(r==null)throw new Error(`Unable to find NftRecord account at ${n}`);return e.fromAccountInfo(r,0)[0]})}static deserialize(t,n=0){return V.nftRecordBeet.deserialize(t,n)}serialize(){return V.nftRecordBeet.serialize(Object.assign({accountDiscriminator:V.nftRecordDiscriminator},this))}static get byteSize(){return V.nftRecordBeet.byteSize}static getMinimumBalanceForRentExemption(t,n){return zs(this,void 0,void 0,function*(){return yield t.getMinimumBalanceForRentExemption(e.byteSize,n)})}static hasCorrectByteSize(t,n=0){return t.byteLength-n===e.byteSize}pretty(){return{tag:"Tag."+Ws.Tag[this.tag],bump:this.bump,nameAccount:this.nameAccount.toBase58(),owner:this.owner.toBase58(),nftMintAccount:this.nftMintAccount.toBase58(),tldHouse:this.tldHouse.toBase58()}}};V.NftRecord=Bn;V.nftRecordBeet=new In.BeetStruct([["accountDiscriminator",In.uniformFixedSizeArray(In.u8,8)],["tag",Ws.tagBeet],["bump",In.u8],["nameAccount",Dn.publicKey],["owner",Dn.publicKey],["nftMintAccount",Dn.publicKey],["tldHouse",Dn.publicKey]],Bn.fromArgs,"NftRecord")});var On=ee(x=>{"use strict";o();s();var Te=x&&x.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(f){try{d(r.next(f))}catch(y){c(y)}}function p(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(l,p)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0});x.splitDomainTld=x.getParsedAllDomainsNftAccountsByOwner=x.delay=x.performReverseLookupBatched=x.findMetadataAddress=x.findNameHouse=x.findTldHouse=x.findNftRecord=x.getMintOwner=x.findAllDomainsForTld=x.getParentAccountFromTldHouseAccountInfo=x.getTldFromTldHouseAccountInfo=x.getAllTld=x.findMainDomain=x.findOwnedNameAccountsForUser=x.getOriginNameAccountKey=x.getHashedName=x.getNameOwner=x.getNameAccountKeyWithBump=void 0;var me=St(),dm=$n(),fm=Tu(),z=Nn(),Br=Fn(),ym=Ir(),gm=Dr();function Or(e,t,n){let r=[e,t?t.toBuffer():Buffer.alloc(32),n?n.toBuffer():Buffer.alloc(32)];return me.PublicKey.findProgramAddressSync(r,z.ANS_PROGRAM_ID)}x.getNameAccountKeyWithBump=Or;function hm(e,t,n){return Te(this,void 0,void 0,function*(){let r=yield Br.NameRecordHeader.fromAccountAddress(e,t),i=r.owner;if(!r.isValid)return;if(!n)return i;let[a]=ea(n),[c]=Zs(t,a);return i?.toBase58()!==c.toBase58()?i:yield Js(e,c)})}x.getNameOwner=hm;function Mr(e){return Te(this,void 0,void 0,function*(){let t=Br.NameRecordHeader.HASH_PREFIX+e,n=(0,fm.sha256)(Buffer.from(t,"utf8")).slice(2);return Buffer.from(n,"hex")})}x.getHashedName=Mr;function bm(e=z.ORIGIN_TLD){return Te(this,void 0,void 0,function*(){let t=yield Mr(e),[n]=Or(t,void 0,void 0);return n})}x.getOriginNameAccountKey=bm;function Tm(e,t,n){return Te(this,void 0,void 0,function*(){let r=[{memcmp:{offset:40,bytes:t.toBase58(),encoding:"base58"}}];return n&&r.push({memcmp:{offset:8,bytes:n.toBase58(),encoding:"base58"}}),(yield e.getProgramAccounts(z.ANS_PROGRAM_ID,{filters:r})).map(a=>a.pubkey)})}x.findOwnedNameAccountsForUser=Tm;function Sm(e){return me.PublicKey.findProgramAddressSync([Buffer.from(z.MAIN_DOMAIN_PREFIX),e.toBuffer()],z.TLD_HOUSE_PROGRAM_ID)}x.findMainDomain=Sm;function vm(e){return Te(this,void 0,void 0,function*(){let n=[{memcmp:{offset:0,bytes:[247,144,135,1,238,173,19,249],encoding:"binary"}}],r=yield e.getProgramAccounts(z.TLD_HOUSE_PROGRAM_ID,{filters:n}),i=[];return r.map(({account:a})=>{let c=Ys(a),l=Xs(a);i.push({tld:l,parentAccount:c})}),i})}x.getAllTld=vm;function Xs(e){var t;let r=(t=e?.data)===null||t===void 0?void 0:t.subarray(104),i=new dm.BN(r?.subarray(0,4),"le").toNumber();return r.subarray(4,4+i).toString().replace(/\0.*$/g,"")}x.getTldFromTldHouseAccountInfo=Xs;function Ys(e){var t;let r=(t=e?.data)===null||t===void 0?void 0:t.subarray(72,104);return new me.PublicKey(r)}x.getParentAccountFromTldHouseAccountInfo=Ys;function Em(e,t){return Te(this,void 0,void 0,function*(){let n=[{memcmp:{offset:8,bytes:t.toBase58(),encoding:"base58"}}];return(yield e.getProgramAccounts(z.ANS_PROGRAM_ID,{filters:n})).map(i=>i.pubkey)})}x.findAllDomainsForTld=Em;function Js(e,t){return Te(this,void 0,void 0,function*(){try{let n=yield gm.NftRecord.fromAccountAddress(e,t);if(n.tag!==ym.Tag.ActiveRecord)return;let r=yield e.getTokenLargestAccounts(n.nftMintAccount),i=yield e.getParsedAccountInfo(r.value[0].address);return i.value.data?new me.PublicKey(i.value.data.parsed.info.owner):void 0}catch{return}})}x.getMintOwner=Js;function Zs(e,t){return me.PublicKey.findProgramAddressSync([Buffer.from(z.NFT_RECORD_PREFIX),t.toBuffer(),e.toBuffer()],z.NAME_HOUSE_PROGRAM_ID)}x.findNftRecord=Zs;function Cm(e){return e=e.toLowerCase(),me.PublicKey.findProgramAddressSync([Buffer.from(z.TLD_HOUSE_PREFIX),Buffer.from(e)],z.TLD_HOUSE_PROGRAM_ID)}x.findTldHouse=Cm;function ea(e){return me.PublicKey.findProgramAddressSync([Buffer.from(z.NAME_HOUSE_PREFIX),e.toBuffer()],z.NAME_HOUSE_PROGRAM_ID)}x.findNameHouse=ea;var Am=e=>me.PublicKey.findProgramAddressSync([Buffer.from("metadata"),z.TOKEN_METADATA_PROGRAM_ID.toBuffer(),e.toBuffer()],z.TOKEN_METADATA_PROGRAM_ID)[0];x.findMetadataAddress=Am;function xm(e,t,n){return Te(this,void 0,void 0,function*(){let r=t.map(c=>Te(this,void 0,void 0,function*(){let l=yield Mr(c.toBase58()),[p]=Or(l,n,void 0);return p})),i=yield Promise.all(r);return(yield e.getMultipleAccountsInfo(i)).map(c=>c?.data.subarray(Br.NameRecordHeader.byteSize,c?.data.length).toString())})}x.performReverseLookupBatched=xm;function Pm(e){return new Promise(t=>setTimeout(t,e))}x.delay=Pm;var wm=(e,t,n)=>Te(void 0,void 0,void 0,function*(){let{value:r}=yield t.getParsedTokenAccountsByOwner(e,{programId:z.SPL_TOKEN_PROGRAM_ID}),i=r.filter(c=>{var l,p,d,f,y,g,b,S,P,C;let I=(y=(f=(d=(p=(l=c.account)===null||l===void 0?void 0:l.data)===null||p===void 0?void 0:p.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.tokenAmount)===null||y===void 0?void 0:y.uiAmount;return((C=(P=(S=(b=(g=c.account)===null||g===void 0?void 0:g.data)===null||b===void 0?void 0:b.parsed)===null||S===void 0?void 0:S.info)===null||P===void 0?void 0:P.tokenAmount)===null||C===void 0?void 0:C.decimals)===0&&I===1}).map(c=>{var l,p,d,f;return(f=(d=(p=(l=c.account)===null||l===void 0?void 0:l.data)===null||p===void 0?void 0:p.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.mint});return yield Nm(i,t,n)});x.getParsedAllDomainsNftAccountsByOwner=wm;var Nm=(e,t,n)=>Te(void 0,void 0,void 0,function*(){let r=[];if(e.length>100)for(;e.length>0;){let c=e.splice(0,100).map(p=>(0,x.findMetadataAddress)(new me.PublicKey(p))),l=yield t.getMultipleAccountsInfo(c);for(let p of l)if(p){let d=new me.PublicKey(p.data.subarray(326,358));if(!!p.data.subarray(326,327)&&d.toString()===n.toString()){let y=p.data.subarray(66,101).toString().replace(/\u0000/g,"");r.push(y)}}}else{let c=e.map(p=>(0,x.findMetadataAddress)(new me.PublicKey(p))),l=yield t.getMultipleAccountsInfo(c);for(let p of l)if(p){let d=new me.PublicKey(p.data.subarray(326,358));if(!!p.data.subarray(326,327)&&d.toString()===n.toString()){let y=p.data.subarray(66,101).toString().replace(/\u0000/g,"");r.push(y)}}}return r});function km(e){let t=e.split("."),n="",r="",i="";return t.length===1?r=t[0]:(n="."+t[t.length-1],r=t[t.length-2],i=t.slice(0,t.length-2).join(".")),[n,r,i]}x.splitDomainTld=km});var Rr=ee(U=>{"use strict";o();s();var Fm=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Im=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_r=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Fm(t,e,n);return Im(t,e),t},ta=U&&U.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(f){try{d(r.next(f))}catch(y){c(y)}}function p(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(l,p)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});U.mainDomainBeet=U.MainDomain=U.mainDomainDiscriminator=void 0;var Dm=_r(St()),na=_r(fo()),Mt=_r(ir());U.mainDomainDiscriminator=[109,239,227,199,98,226,66,175];var Mn=class e{constructor(t,n,r){this.nameAccount=t,this.tld=n,this.domain=r}static fromArgs(t){return new e(t.nameAccount,t.tld,t.domain)}static fromAccountInfo(t,n=0){return e.deserialize(t.data,n)}static fromAccountAddress(t,n,r){return ta(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(n,r);if(i==null)throw new Error(`Unable to find MainDomain account at ${n}`);return e.fromAccountInfo(i,0)[0]})}static gpaBuilder(t=new Dm.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S")){return na.GpaBuilder.fromStruct(t,U.mainDomainBeet)}static deserialize(t,n=0){return U.mainDomainBeet.deserialize(t,n)}serialize(){return U.mainDomainBeet.serialize(Object.assign({accountDiscriminator:U.mainDomainDiscriminator},this))}static byteSize(t){let n=e.fromArgs(t);return U.mainDomainBeet.toFixedFromValue(Object.assign({accountDiscriminator:U.mainDomainDiscriminator},n)).byteSize}static getMinimumBalanceForRentExemption(t,n,r){return ta(this,void 0,void 0,function*(){return yield n.getMinimumBalanceForRentExemption(e.byteSize(t),r)})}pretty(){return{nameAccount:this.nameAccount.toBase58(),tld:this.tld,domain:this.domain}}};U.MainDomain=Mn;U.mainDomainBeet=new Mt.FixableBeetStruct([["accountDiscriminator",Mt.uniformFixedSizeArray(Mt.u8,8)],["nameAccount",na.publicKey],["tld",Mt.utf8String],["domain",Mt.utf8String]],Mn.fromArgs,"MainDomain")});var Lr=ee(dt=>{"use strict";o();s();var ra=dt&&dt.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(f){try{d(r.next(f))}catch(y){c(y)}}function p(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(l,p)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(dt,"__esModule",{value:!0});dt.getDomainKey=void 0;var Ur=On(),Bm=(e,t=!1)=>ra(void 0,void 0,void 0,function*(){let n=e.split(".");if(n.length===3){let l="."+n[2],p=n[1],d=n[0],{pubkey:f}=yield _e(l),{pubkey:y}=yield _e(p,f),b=Buffer.from([t?1:0]).toString().concat(d),S=yield _e(b,y);return Object.assign(Object.assign({},S),{isSub:!0,parent:y})}else if(n.length===4&&t){let l="."+n[3],p=n[2],d=n[1],f=n[0],{pubkey:y}=yield _e(l),{pubkey:g}=yield _e(p,y),{pubkey:b}=yield _e("\0".concat(d),g),S=Buffer.from([1]).toString(),P=yield _e(S.concat(f),b);return Object.assign(Object.assign({},P),{isSub:!0,parent:g,isSubRecord:!0})}else if(n.length>4)throw new Error("Invalid derivation input");let r="."+n[1],{pubkey:i}=yield _e(r),a=n[0],c=yield _e(a,i);return Object.assign(Object.assign({},c),{isSub:!1,parent:void 0})});dt.getDomainKey=Bm;var _e=(e,t)=>ra(void 0,void 0,void 0,function*(){t||(t=yield(0,Ur.getOriginNameAccountKey)());let n=yield(0,Ur.getHashedName)(e),[r]=yield(0,Ur.getNameAccountKeyWithBump)(n,void 0,t);return{pubkey:r,hashed:n}})});var oa=ee(ft=>{"use strict";o();s();var ae=ft&&ft.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(f){try{d(r.next(f))}catch(y){c(y)}}function p(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(l,p)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(ft,"__esModule",{value:!0});ft.TldParser=void 0;var Ae=St(),Om=$n(),Mm=Rr(),Vr=Fn(),E=On(),He=Nn(),ia=Lr(),Hr=class{constructor(t){this.connection=t}getAllUserDomains(t){return ae(this,void 0,void 0,function*(){return typeof t=="string"&&(t=new Ae.PublicKey(t)),yield(0,E.findOwnedNameAccountsForUser)(this.connection,t,void 0)})}getAllUserDomainsFromTld(t,n){return ae(this,void 0,void 0,function*(){let r="."+n,i=yield(0,E.getOriginNameAccountKey)(),a=yield(0,E.getHashedName)(r),[c]=(0,E.getNameAccountKeyWithBump)(a,void 0,i);return typeof t=="string"&&(t=new Ae.PublicKey(t)),yield(0,E.findOwnedNameAccountsForUser)(this.connection,t,c)})}getOwnerFromDomainTld(t){return ae(this,void 0,void 0,function*(){let n=t.split("."),r=n[0],i="."+n[1],a=yield(0,E.getOriginNameAccountKey)(),c=yield(0,E.getHashedName)(i),[l]=(0,E.getNameAccountKeyWithBump)(c,void 0,a),p=yield(0,E.getHashedName)(r),[d]=(0,E.getNameAccountKeyWithBump)(p,void 0,l),[f]=(0,E.findTldHouse)(i);return yield(0,E.getNameOwner)(this.connection,d,f)})}getNameRecordFromDomainTld(t){return ae(this,void 0,void 0,function*(){let n=t.split("."),r=n[0],i="."+n[1],a=yield(0,E.getOriginNameAccountKey)(),c=yield(0,E.getHashedName)(i),[l]=(0,E.getNameAccountKeyWithBump)(c,void 0,a),p=yield(0,E.getHashedName)(r),[d]=(0,E.getNameAccountKeyWithBump)(p,void 0,l);return yield Vr.NameRecordHeader.fromAccountAddress(this.connection,d)})}getTldFromParentAccount(t){var n;return ae(this,void 0,void 0,function*(){typeof t=="string"&&(t=new Ae.PublicKey(t));let r=yield Vr.NameRecordHeader.fromAccountAddress(this.connection,t),i=yield this.connection.getAccountInfo(r?.owner),c=(n=i?.data)===null||n===void 0?void 0:n.subarray(104),l=new Om.BN(c?.subarray(0,4),"le").toNumber();return c.subarray(4,4+l).toString().replace(/\0.*$/g,"")})}reverseLookupNameAccount(t,n){var r;return ae(this,void 0,void 0,function*(){typeof t=="string"&&(t=new Ae.PublicKey(t)),typeof n=="string"&&(n=new Ae.PublicKey(n));let i=yield(0,E.getHashedName)(t.toString()),[a]=(0,E.getNameAccountKeyWithBump)(i,n,void 0),c=yield Vr.NameRecordHeader.fromAccountAddress(this.connection,a);return(r=c?.data)===null||r===void 0?void 0:r.toString()})}getMainDomain(t){return ae(this,void 0,void 0,function*(){typeof t=="string"&&(t=new Ae.PublicKey(t));let[n]=(0,E.findMainDomain)(t);return yield Mm.MainDomain.fromAccountAddress(this.connection,n)})}getParsedAllUserDomainsFromTldUnwrapped(t,n){return ae(this,void 0,void 0,function*(){let r="."+n,i=yield(0,E.getOriginNameAccountKey)(),a=yield(0,E.getHashedName)(r),[c]=(0,E.findTldHouse)(r),[l]=(0,E.getNameAccountKeyWithBump)(a,void 0,i);typeof t=="string"&&(t=new Ae.PublicKey(t));let p=yield(0,E.findOwnedNameAccountsForUser)(this.connection,t,l),d=[];for(let f=0;f<p.length;f+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,E.delay)(100);let y=Math.min(f+He.MULTIPLE_ACCOUNT_INFO_MAX,p.length),g=p.slice(f,y),S=(yield(0,E.performReverseLookupBatched)(this.connection,g,c)).map((P,C)=>({nameAccount:g[C],domain:P+r}));S.length>0&&S.sort((P,C)=>P.domain.localeCompare(C.domain,void 0,{numeric:!0,sensitivity:"base"})),d.push(...S)}return d})}getParsedAllUserDomainsFromTld(t,n){return ae(this,void 0,void 0,function*(){let r="."+n,i=yield(0,E.getOriginNameAccountKey)(),a=yield(0,E.getHashedName)(r),[c]=(0,E.findTldHouse)(r),[l]=(0,E.getNameAccountKeyWithBump)(a,void 0,i);typeof t=="string"&&(t=new Ae.PublicKey(t));let p=yield(0,E.findOwnedNameAccountsForUser)(this.connection,t,l),d=[],y=(yield(0,E.getParsedAllDomainsNftAccountsByOwner)(t,this.connection,(0,E.findNameHouse)(c)[0])).map(b=>b+r),g=yield Promise.all(y.map(b=>ae(this,void 0,void 0,function*(){return{nameAccount:(yield(0,ia.getDomainKey)(b)).pubkey,domain:b}})));d.push(...g);for(let b=0;b<p.length;b+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,E.delay)(100);let S=Math.min(b+He.MULTIPLE_ACCOUNT_INFO_MAX,p.length),P=p.slice(b,S),I=(yield(0,E.performReverseLookupBatched)(this.connection,P,c)).map((Z,de)=>({nameAccount:P[de],domain:Z+r}));d.push(...I)}return d.length>0&&d.sort((b,S)=>b.domain.localeCompare(S.domain,void 0,{numeric:!0,sensitivity:"base"})),d})}getParsedAllUserDomainsUnwrapped(t){return ae(this,void 0,void 0,function*(){let n=yield(0,E.getAllTld)(this.connection),r=[];typeof t=="string"&&(t=new Ae.PublicKey(t));for(let{parentAccount:i,tld:a}of n){let c=a.toString(),[l]=(0,E.findTldHouse)(c),p=yield(0,E.findOwnedNameAccountsForUser)(this.connection,t,i);for(let d=0;d<p.length;d+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,E.delay)(100);let f=Math.min(d+He.MULTIPLE_ACCOUNT_INFO_MAX,p.length),y=p.slice(d,f),b=(yield(0,E.performReverseLookupBatched)(this.connection,y,l)).map((S,P)=>({nameAccount:y[P],domain:S+c}));r.push(...b)}}return r.length>0&&r.sort((i,a)=>i.domain.localeCompare(a.domain,void 0,{numeric:!0,sensitivity:"base"})),r})}getParsedAllUserDomains(t){return ae(this,void 0,void 0,function*(){let n=yield(0,E.getAllTld)(this.connection),r=[];typeof t=="string"&&(t=new Ae.PublicKey(t));for(let{parentAccount:i,tld:a}of n){let c=a.toString(),[l]=(0,E.findTldHouse)(c),p=yield(0,E.findOwnedNameAccountsForUser)(this.connection,t,i),f=(yield(0,E.getParsedAllDomainsNftAccountsByOwner)(t,this.connection,(0,E.findNameHouse)(l)[0])).map(g=>g+c),y=yield Promise.all(f.map(g=>ae(this,void 0,void 0,function*(){return{nameAccount:(yield(0,ia.getDomainKey)(g)).pubkey,domain:g}})));r.push(...y);for(let g=0;g<p.length;g+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,E.delay)(100);let b=Math.min(g+He.MULTIPLE_ACCOUNT_INFO_MAX,p.length),S=p.slice(g,b),C=(yield(0,E.performReverseLookupBatched)(this.connection,S,l)).map((I,Z)=>({nameAccount:S[Z],domain:I+c}));r.push(...C)}}return r.length>0&&r.sort((i,a)=>i.domain.localeCompare(a.domain,void 0,{numeric:!0,sensitivity:"base"})),r})}};ft.TldParser=Hr});var sa=ee(_t=>{"use strict";o();s();Object.defineProperty(_t,"__esModule",{value:!0});_t.Record=void 0;var _m;(function(e){e.IPFS="IPFS",e.ARWV="ARWV",e.SOL="SOL",e.ETH="ETH",e.BTC="BTC",e.LTC="LTC",e.DOGE="DOGE",e.Email="email",e.Url="url",e.Discord="discord",e.Github="github",e.Reddit="reddit",e.Twitter="twitter",e.Telegram="telegram",e.Pic="pic",e.SHDW="SHDW",e.POINT="POINT"})(_m=_t.Record||(_t.Record={}))});var aa=ee(te=>{"use strict";o();s();var Rm=te&&te.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ge=te&&te.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Rm(t,e,n)};Object.defineProperty(te,"__esModule",{value:!0});Ge(On(),te);Ge(Nn(),te);Ge(oa(),te);Ge(Fn(),te);Ge(Rr(),te);Ge(Dr(),te);Ge(Lr(),te);Ge(sa(),te)});var da=ee(qr=>{"use strict";o();s();Object.defineProperty(qr,"__esModule",{value:!0});var Ke=H();function Hm(e,t){t===void 0&&(t=0);var n=Ke.useRef(!1),r=Ke.useRef(),i=Ke.useRef(e),a=Ke.useCallback(function(){return n.current},[]),c=Ke.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,i.current()},t)},[t]),l=Ke.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return Ke.useEffect(function(){i.current=e},[e]),Ke.useEffect(function(){return c(),l},[t]),[a,l,c]}qr.default=Hm});var fa=ee(jr=>{"use strict";o();s();Object.defineProperty(jr,"__esModule",{value:!0});var Gm=(Du(),gu(Iu)),Km=H(),qm=Gm.__importDefault(da());function jm(e,t,n){t===void 0&&(t=0),n===void 0&&(n=[]);var r=qm.default(e,t),i=r[0],a=r[1],c=r[2];return Km.useEffect(c,n),[i,a]}jr.default=jm});o();s();var Bu=/[e|+|-]/i;function Ou(e,t){let n=Math.floor(e*t*100)/100;return!Number.isFinite(n)||n.toString().match(Bu)?0:n}function Mu(e,t,n){let r=N(e);return t<=0||!r.isFinite()?0:r.dividedBy(t).decimalPlaces(n).toNumber()}o();s();o();s();var ur=u.object({usd:u.number().optional(),usd_24h_change:u.number().optional(),price:u.number().optional(),priceChange24h:u.number().optional(),currencyValue:u.number().optional(),currencyChange:u.number().optional(),lastUpdatedAt:u.string().datetime().optional()}),Kf=u.object({caip19:u.string(),price:u.number().nullish(),priceChange24h:u.number().nullish(),lastUpdatedAt:u.string(),marketCap:u.string().nullish()}),_u=[u.literal("1H"),u.literal("1D"),u.literal("1W"),u.literal("1M"),u.literal("YTD"),u.literal("ALL")],Ru=u.union(_u).nullish().transform(e=>e??"1D");var Uu=[u.literal("1m"),u.literal("5m"),u.literal("1h"),u.literal("4h"),u.literal("1d"),u.literal("1w"),u.literal("4w"),u.literal("1mo")],qf=u.union(Uu).nullish().transform(e=>e??"1d"),Lu=u.object({unixTime:u.number(),value:u.string()}),lr=u.object({history:u.array(Lu)});o();s();function mr({balance:e,priceId:t,priceMap:n}){let r=t?n[t]?.usd:void 0,i=t?n[t]?.usd_24h_change:void 0;if(r===void 0)return{usd:void 0,usd_24h_change:void 0,price:r};let a=e.multipliedBy(r),c;return i!==void 0&&(c=a.minus(a.dividedBy(1+i/100))),{usd:a.toNumber(),usd_24h_change:c?.toNumber(),price:r,priceChange24h:i,currencyValue:a.toNumber(),currencyChange:c?.toNumber()}}o();s();o();s();var Hu=new rn({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:{pricesDisabled:!0},bitcoin:{},sui:{},hypercore:{}}),he=nn(Hu);o();s();o();s();var En=(c=>(c[c.Always=1/0]="Always",c[c.Short=T({days:1})]="Short",c[c.Medium=T({days:3})]="Medium",c[c.Long=T({days:7})]="Long",c[c.VeryLong=T({days:30})]="VeryLong",c[c.Never=0]="Never",c))(En||{}),K=(l=>(l[l.Immediate=0]="Immediate",l[l.VeryShort=T({seconds:1})]="VeryShort",l[l.Short=T({seconds:15})]="Short",l[l.Medium=T({minutes:3})]="Medium",l[l.Long=T({minutes:5})]="Long",l[l.VeryLong=T({minutes:10})]="VeryLong",l[l.Never=1/0]="Never",l))(K||{}),be=(i=>(i[i.VeryShort=T({seconds:2})]="VeryShort",i[i.Short=T({seconds:15})]="Short",i[i.Medium=T({minutes:3})]="Medium",i[i.Long=T({minutes:5})]="Long",i))(be||{});var Jo=T({seconds:10}),Zo={gcTime:En.Short,staleTime:K.Short};o();s();var Gu="prices",Cn=(e,t)=>{if(!Le(e))return;let r=e.response?.status;if(!r||r===0||r>=500||r===404){M.addBreadcrumb(Gu,e.message,"info",t);return}r>=400&&r<500&&M.captureError(e,"prices")};var ts=u.object({price:u.number(),priceChange24h:u.number(),lastUpdatedAt:u.string().datetime().optional()}),es=u.object({prices:u.record(Ui,ts)});async function xt({tokens:e}){try{let t=e.filter(c=>!he.get(c.chainId)?.pricesDisabled),n={tokens:t.map(c=>({token:c}))},r="/price/v1",i,a=W.timeout(Jo).retry(1,200).validateStatus(!0).api();if(t.length===0)return{};if(t.length===1){let c=t[0];r+=`/${c.chainId}`,c.resourceType==="nativeToken"?r+=`/nativeToken/${c.slip44}`:r+=`/address/${c.address}`;let l=await a.get(r);i=es.parse({prices:{[Q(c)]:l.data}})}else{let c=await a.post(r,n);i=es.parse(c.data)}return Ku(i.prices)}catch(t){throw Cn(t),t}}function Ku(e){let t={};for(let n of Object.keys(e)){let{price:r,priceChange24h:i,lastUpdatedAt:a}=e[n],c={price:r,usd:r,usd_24h_change:i,lastUpdatedAt:a};t[n]=c}return t}o();s();o();s();var An="prices",q={price:e=>[An,{id:e}],priceError:()=>[An,"error"],priceHistory:(e,t)=>[An,e,t],priceHistoryInterval:(e,t,n,r)=>[An,e,t,n,...r?[r]:[]],tempPrices:e=>["tempPrices",e]};var ut=new Error("Price history unavailable for this token"),pr=new Error("Insufficient data for this time frame and token"),dr=async({caip19:e,timeFrame:t})=>{let n=ke(e);if(he.get(n.chainId)?.pricesDisabled)throw ut;let r=await W.api().get("/price-history/v1",{params:{token:e,type:t}});if(r.status===400)throw ut;let i=lr.safeParse(r.data);if(!i.success)throw ut;if(i.data.history.length<2)throw pr;return i.data.history},ns=({caip19:e,timeFrame:t})=>({queryKey:q.priceHistory(e,t),queryFn:()=>dr({caip19:e,timeFrame:t}),staleTime:K.Short,gcTime:K.Short}),fr=e=>v(ns(e));o();s();o();s();var qu=new Error("Price history interval unavailable for this token");o();s();var yr=({priceHistory:e,currentPrice:t})=>{let n=e.at(-1),r=e.at(-2),i=e.map(l=>({...l,tooltipUnixTime:l.unixTime}));if(t===void 0||!n||!r)return i;let a=n.unixTime-r.unixTime,c={unixTime:n.unixTime+a,value:t.toString(),tooltipUnixTime:n.unixTime+a};return[...i,c]};o();s();var gr=({priceHistory:e,realtimePriceUpdates:t})=>{let n=e.at(-1),r=e.at(-2);if(!n||!r)return e.map(l=>({...l,tooltipUnixTime:l.unixTime}));let i=n.unixTime-r.unixTime,a=t.map((l,p)=>({unixTime:n.unixTime+(p+1)*i,value:l.value,tooltipUnixTime:l.unixTime}));return[...e.map(l=>({...l,tooltipUnixTime:l.unixTime})),...a]};o();s();o();s();var lg=[{value:"1m",ms:T({minutes:1})},{value:"5m",ms:T({minutes:5})},{value:"1h",ms:T({hours:1})},{value:"4h",ms:T({hours:4})},{value:"1d",ms:T({days:1})},{value:"1w",ms:T({days:7})},{value:"4w",ms:T({days:28})},{value:"1mo",ms:T({days:30})}];o();s();o();s();var hr=u.object({feerate:u.string()}),rs=u.object({conservative:hr,economical:hr,unset:hr}),ju=u.object({recommended:u.object({priceEstimates:rs}),bitcoin_rpc:u.object({priceEstimates:rs})}),Qu=u.object({gasPriceSources:ju}),zu=new A("1.25"),$u=new A("1.5"),is=async(e,t=!0)=>{let n,r,i;try{let{priceEstimates:a}=(await Wu(e)).gasPriceSources.recommended,{conservative:c,economical:l,unset:p}=a;n=new A(c.feerate),r=new A(l.feerate),i=new A(p.feerate)}catch(a){if(!t)throw a;let c=await fn(e).estimateSmartFee(2,"ECONOMICAL");i=new A(c.feerate),r=i.times(zu),n=i.times($u)}return{fast:{btcPerKilobyte:n.multipliedBy(1)},standard:{btcPerKilobyte:r.multipliedBy(1)},slow:{btcPerKilobyte:i.multipliedBy(1)}}};async function Wu(e){let t=`https://gas-price-oracle.phantom.app/?chainId=${e}`,n=await W.headers({"Content-Type":"application/json"}).get(t);return Qu.parse(n.data)}o();s();var Ye="gas-estimation";var Xu=3,Yu=600,Ju=T({seconds:30}),Oe=({networkID:e,enableFallback:t=!1,retry:n=Xu,retryDelay:r=Yu,enabled:i=!0})=>v({queryFn:async()=>{try{if(!e)throw new Error("Missing networkID");if(h.isBitcoinNetworkID(e))return await is(e,t);if(h.isEVMNetworkID(e))return await mo(e,t);if(h.isSolanaNetworkID(e))throw new Error("Transaction speeds is not supported for Solana.");if(h.isSuiNetworkID(e))throw new Ri("transaction speeds to unit cost");return G(e)}catch(a){throw a instanceof lo||(M.addBreadcrumb(Ye,`enableFallback: ${t}, networkID: ${e}`,"info"),M.captureError(a,"transaction")),a}},queryKey:k.transactionSpeedsToUnitCost(e),refetchOnMount:"always",retry:n,retryDelay:r,staleTime:Ju,enabled:i&&!!e&&(h.isEVMNetworkID(e)||h.isBitcoinNetworkID(e)),placeholderData:sn});o();s();o();s();var os=async(e,t)=>{let n=ao(e),r=await no.eth_estimateGas(n,[t]);if("error"in r)throw new Error(`[${r.error.code}] ${r.error.message}`);return new A(r.result)};var bh=new A(21e3),Zu=6,el=600,tl=T({seconds:5}),nl=T({days:1}),br=(e,t=!0)=>v({queryFn:async()=>{if(!e)throw new Error("Args is required for calculating transaction units.");try{return await rl(e)}catch(r){throw M.addBreadcrumb(Ye,`networkId: ${e?.networkID}`,"info"),M.captureError(r,"transaction"),r}},queryKey:k.transactionUnitAmount(e),enabled:!!e&&(h.isEVMNetworkID(e.networkID)||h.isBitcoinNetworkID(e.networkID))&&t,retry:Zu,retryDelay:el,staleTime:tl,gcTime:nl}),rl=async e=>{if(pn(e)){let{gas:t}=e.unsignedTransaction;if(t)return{gasLimit:new A(t,16)};{let n=await os(e.networkID,e.unsignedTransaction);return{gasLimit:new A(po(n))}}}else if(mn(e)){let t=e.psbtChain,n=t?new A(ln(t.map(i=>i.additionalCost.vb.toNumber()))):new A(0),r=t?new A(ln(t.map(i=>i.additionalCost.sats.toNumber()))):new A(0);return{virtualBytes:new A(e.vb),additionalCosts:{vb:n,sats:r}}}else throw new Error(`Unsupported transaction networkId: ${e.networkID} for calculating transaction units.`)};o();s();o();s();var il=T({seconds:30}),ol=T({minutes:5}),ss=e=>v({queryKey:k.transactionAdditionalCosts(e),queryFn:async()=>{if(!e)return new A(0);let t=Fe.get(e.networkID).additionalTransactionCost;return t?await t(e):new A(0)},enabled:!!e,staleTime:il,gcTime:ol});var sl=6,al=600,cl=T({seconds:5}),ul=T({days:1}),ll=["fast","standard","slow"],ml=e=>{if(!e)return"fast";for(let t of ll)if(e[t])return t;throw new Error("No valid transaction speeds found.")},Tr=e=>{let t=fl(e),n=e?.queryOptions?.refetchInterval,{data:r,isError:i}=br(e?.multichainTransaction,t),{data:a}=Oe({networkID:e?.networkID,enableFallback:!0,refetchInterval:n}),{data:c}=ss(e?.multichainTransaction),l=dl(e,r,a);return v({queryFn:async()=>{try{if(!e)throw new Error("Missing args");let{multichainTransaction:d,transactionSpeed:f="standard"}=e;if(!d)throw new Error("Multichain transaction is null.");if(i&&Sr(e.networkID))throw new Error("Transaction unit amount is required but errored.");if(pn(d)||mn(d)){if(!a)throw new Error("Missing transactionSpeedsToUnitCost");if(!r)throw new Error("Missing transactionUnit");let y=f==="fastest"?ml(a):f,g=a[y];if(!g)throw new Error(`Missing transactionSpeedsToUnitCost for ${f}`);return at(d.networkID,g,r,c)}if(xo(d))return d.networkID==="solana:localnet"?{networkID:d.networkID,value:0,highFees:!1}:await vn(d.networkID,d.transaction.map(g=>"version"in g?g.message:g.compileMessage()));if(Po(d))return await zo(d);G(d)}catch(d){throw M.addBreadcrumb(Ye,`chainId: ${e?.networkID}`,"info"),M.captureError(d,"transaction"),d}},queryKey:k.gasEstimation(e?.networkID,e?.multichainTransaction,e?.transactionSpeed,c),enabled:l,retry:sl,retryDelay:al,refetchInterval:n,staleTime:cl,gcTime:ul,placeholderData:d=>d})};function Sr(e){return h.isBitcoinNetworkID(e)||h.isEVMNetworkID(e)?!0:h.isSolanaNetworkID(e)||h.isSuiNetworkID(e)?!1:G(e)}function pl(e){return h.isBitcoinNetworkID(e)||h.isEVMNetworkID(e)?!0:h.isSolanaNetworkID(e)||h.isSuiNetworkID(e)?!1:G(e)}function dl(e,t,n){if(!e)return!1;let{networkID:r,multichainTransaction:i}=e;return i?(!!t||!Sr(r))&&(!!n||!pl(r)):!1}function fl(e){return e?Sr(e.networkID):!1}o();s();o();s();o();s();var yl=["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"],vr=class{ERROR=-1;CONNECTING=0;OPEN=1;CLOSED=2;CRLF=`\r
`;LF=`
`;CR="\r";lastEventId=null;status=this.CONNECTING;eventHandlers={open:[],message:[],error:[],close:[]};method;timeout;timeoutBeforeConnection;withCredentials;headers;body;debug;interval;lineEndingCharacter;_xhr=null;_pollTimer=null;_lastIndexProcessed=0;url;constructor(t,n={}){if(!t||typeof t!="string"&&typeof t.toString!="function")throw new SyntaxError("[EventSource] Invalid URL argument.");this.url=typeof t.toString=="function"?t.toString():t,this.method=n.method||"GET",this.timeout=n.timeout??0,this.timeoutBeforeConnection=n.timeoutBeforeConnection??500,this.withCredentials=n.withCredentials||!1,this.headers=n.headers||{},this.body=n.body||void 0,this.debug=n.debug||!1,this.interval=n.pollingInterval??5e3,this.lineEndingCharacter=n.lineEndingCharacter||null,this._pollAgain(this.timeoutBeforeConnection,!0)}_pollAgain(t,n){(t>0||n)&&(this._logDebug(`[EventSource] Will open new connection in ${t} ms.`),this._pollTimer=setTimeout(()=>{this.open()},t))}open(){try{this.status=this.CONNECTING,this._lastIndexProcessed=0,this._xhr=new XMLHttpRequest,this._xhr.open(this.method,this.url,!0),this.withCredentials&&(this._xhr.withCredentials=!0),this._xhr.setRequestHeader("Accept","text/event-stream"),this._xhr.setRequestHeader("Cache-Control","no-cache"),this._xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");for(let[t,n]of Object.entries(this.headers))this._xhr.setRequestHeader(t,n);this.lastEventId!==null&&this._xhr.setRequestHeader("Last-Event-ID",this.lastEventId),this._xhr.timeout=this.timeout,this._xhr.onreadystatechange=()=>{if(this.status===this.CLOSED)return;let t=this._xhr;this._logDebug(`[EventSource][onreadystatechange] ReadyState: ${yl[t.readyState]||"Unknown"}(${t.readyState}), status: ${t.status}`),[XMLHttpRequest.DONE,XMLHttpRequest.LOADING].includes(t.readyState)&&(t.status>=200&&t.status<400?(this.status===this.CONNECTING&&(this.status=this.OPEN,this.dispatch("open",{type:"open"}),this._logDebug("[EventSource][onreadystatechange][OPEN] Connection opened.")),this._handleEvent(t.responseText||""),t.readyState===XMLHttpRequest.DONE&&(this._logDebug("[EventSource][onreadystatechange][DONE] Operation done."),this._pollAgain(this.interval,!1))):t.status!==0&&(this.status=this.ERROR,this.dispatch("error",{type:"error",message:t.responseText,xhrStatus:t.status,xhrState:t.readyState}),t.readyState===XMLHttpRequest.DONE&&(this._logDebug("[EventSource][onreadystatechange][ERROR] Response status error."),this._pollAgain(this.interval,!1))))},this._xhr.onerror=()=>{this.status!==this.CLOSED&&(this.status=this.ERROR,this.dispatch("error",{type:"error",message:this._xhr.responseText,xhrStatus:this._xhr.status,xhrState:this._xhr.readyState}))},this.body?this._xhr.send(this.body):this._xhr.send(),this.timeout>0&&setTimeout(()=>{this._xhr.readyState===XMLHttpRequest.LOADING&&(this.dispatch("error",{type:"timeout"}),this.close())},this.timeout)}catch(t){this.status=this.ERROR,this.dispatch("error",{type:"exception",message:t.message,error:t})}}_logDebug(...t){this.debug&&console.debug(...t)}_handleEvent(t){if(this.lineEndingCharacter===null){let d=this._detectNewlineChar(t);if(d!==null)this._logDebug(`[EventSource] Automatically detected lineEndingCharacter: ${JSON.stringify(d).slice(1,-1)}`),this.lineEndingCharacter=d;else{console.warn("[EventSource] Unable to identify the line ending character. Ensure your server delivers a standard line ending character: \\r\\n, \\n, \\r, or specify your custom character using the 'lineEndingCharacter' option.");return}}let n=this._getLastDoubleNewlineIndex(t);if(n<=this._lastIndexProcessed)return;let r=t.substring(this._lastIndexProcessed,n).split(this.lineEndingCharacter);this._lastIndexProcessed=n;let i,a=null,c=[],l=0,p="";for(let d=0;d<r.length;d++)if(p=r[d].trim(),p.startsWith("event"))i=p.replace(/event:?\s*/,"");else if(p.startsWith("retry"))l=parseInt(p.replace(/retry:?\s*/,""),10),isNaN(l)||(this.interval=l);else if(p.startsWith("data"))c.push(p.replace(/data:?\s*/,""));else if(p.startsWith("id"))a=p.replace(/id:?\s*/,""),a!==""?this.lastEventId=a:this.lastEventId=null;else if(p===""&&c.length>0){let f=i||"message",y={type:f,data:c.join(`
`),url:this.url,lastEventId:this.lastEventId};this.dispatch(f,y),c=[],i=void 0}}_detectNewlineChar(t){let n=[this.CRLF,this.LF,this.CR];for(let r of n)if(t.includes(r))return r;return null}_getLastDoubleNewlineIndex(t){let n=this.lineEndingCharacter+this.lineEndingCharacter,r=t.lastIndexOf(n);return r===-1?-1:r+n.length}addEventListener(t,n){this.eventHandlers[t]===void 0&&(this.eventHandlers[t]=[]),this.eventHandlers[t].push(n)}removeEventListener(t,n){this.eventHandlers[t]!==void 0&&(this.eventHandlers[t]=this.eventHandlers[t].filter(r=>r!==n))}removeAllEventListeners(t){let n=Object.keys(this.eventHandlers);if(t===void 0)for(let r of n)this.eventHandlers[r]=[];else{if(!n.includes(t))throw Error(`[EventSource] '${t}' type is not supported event type.`);this.eventHandlers[t]=[]}}dispatch(t,n){if(Object.keys(this.eventHandlers).includes(t))for(let i of Object.values(this.eventHandlers[t]))i(n)}close(){this.status!==this.CLOSED&&(this.status=this.CLOSED,this.dispatch("close",{type:"close"})),clearTimeout(this._pollTimer),this._xhr&&this._xhr.abort()}},Er=vr;o();s();var Cr=class{getDefaultHeaders(){let t={"X-Phantom-Version":Yt,"X-Phantom-Platform":Jt},n=Zt();return n&&(t["X-Phantom-AnonymousId"]=n),t}getOptions(t={}){return{...t,headers:Object.fromEntries(vt(this.getDefaultHeaders(),t.headers).entries())}}getOptionsWithAuth(t,n={}){let r=this.getOptions(n);if(r.withClientAuth!==!1){let i=en(t,r.headers);return{...r,headers:Object.fromEntries(vt(r.headers,i).entries())}}return r}getApiEnvironment(){return Xt()}safeJsonParse(t){try{return t?{success:!0,data:JSON.parse(t)}:{success:!1,error:new Error("No data provided")}}catch(n){return{success:!1,error:n instanceof Error?n:new Error("Failed to parse JSON")}}}createErrorEvent(t,n="error"){return{type:n,error:typeof t=="string"?new Error(t):t}}};o();s();function Ar({url:e,signal:t,customEvent:n}){return{[Symbol.asyncIterator](){let r=[],i=null,a=!1,c={"X-Phantom-Version":Yt,"X-Phantom-Platform":Jt},l=Zt();l&&(c["X-Phantom-AnonymousId"]=l);let p=en(e,c),d={headers:Object.fromEntries(vt(c,p).entries()),lineEndingCharacter:`
`},f=new Er(e,d),y=C=>{try{r.push(JSON.parse(C.data??""))}catch{r.push(C.data??"")}if(i){let I=i;i=null,I({value:r.shift(),done:!1})}},g=()=>{a||(a=!0,S(),b())},b=()=>{if(i){let C=i;i=null,C({value:void 0,done:!0})}},S=()=>{n&&f.removeEventListener(n,y),f.removeEventListener("message",y),f.removeEventListener("error",g),f.close()};n&&f.addEventListener(n,y),f.addEventListener("message",y),f.addEventListener("error",g);let P=()=>{a||(a=!0,S(),b())};return t?.addEventListener("abort",P,{once:!0}),{next(){return a?Promise.resolve({value:void 0,done:!0}):r.length?Promise.resolve({value:r.shift(),done:!1}):new Promise(C=>{i=C})},return(){return a||(a=!0,t?.removeEventListener("abort",P),S()),Promise.resolve({value:void 0,done:!0})},throw(C){return a||(a=!0,t?.removeEventListener("abort",P),S()),Promise.reject(C)}}}}}o();s();function xn(e){return{caip19:xr(e)}}function xr(e){return typeof e=="string"?ke(e):e}o();s();function cs(e){return{usd:e.price??void 0,usd_24h_change:e.priceChange24h??void 0,price:e.price??void 0,priceChange24h:e.priceChange24h??void 0,lastUpdatedAt:e.lastUpdatedAt}}var us=new Error("Price not available"),gl=T({minutes:5}),ls=e=>{let t=e?e.data:void 0;return t?bl(t):void 0},Pr=({query:e,enabled:t=!0,queryOptions:n={refetchInterval:be.Short,staleTime:K.Short,gcTime:K.Short}})=>{let r=ls(e),i=n.refetchInterval,a=n.staleTime,c=n.gcTime,l=e?e.data:void 0,p=l?xn(l).caip19.chainId:void 0,d=p?!he.get(p).pricesDisabled:!1;return{enabled:t&&!!r&&d,queryKey:q.price(r),refetchInterval(y){return y.state.error===us?!1:i},staleTime:a,gcTime:c,retry:!1,queryFn:async()=>{if(!l||!r)throw new Error("No caip19able provided");let y=xr(l);try{let b=(await xt({tokens:[y]}))[r];if(!b)throw new Error(`Failed to fetch price for ${l}`);return b}catch(g){let b=g;throw r&&(b.response?.status===404||b.response?.status===400)?us:g}}}},hl=({query:e,enabled:t=!0,queryOptions:n={refetchInterval:be.Short,staleTime:K.Short,gcTime:K.Short}})=>{let r=ls(e);return{...Pr({query:e,enabled:t,queryOptions:n}),refetchInterval:!1,queryFn:Qi({streamFn:({signal:i})=>{if(!r)throw new Error("No id provided");return Ar({url:`${Xt()}/price-stream?tokenIds=${encodeURIComponent(r)}`,signal:i,customEvent:"price-update"})},reducer:(i,a)=>{if(!a.price){let c=new Date(a.lastUpdatedAt).getTime();if(Date.now()-c<gl)return i}return cs(a)},initialValue:{},refetchMode:"append"})}};function Je({query:e,enabled:t=!0,queryOptions:n={refetchInterval:be.Short,staleTime:K.Short,gcTime:K.Short}}){let r=We("enable-price-streaming"),i={query:e,enabled:t,queryOptions:n};return v(r?hl(i):Pr(i))}function bl(e){return typeof e=="string"?e:Q(e)}o();s();o();s();var ys=w(H());o();s();var ms=function(e,t=0){let n=3735928559^t,r=1103547991^t;for(let i=0,a;i<e.length;i++)a=e.charCodeAt(i),n=Math.imul(n^a,2654435761),r=Math.imul(r^a,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)};o();s();function ps(e){return e.data.map(xn)}o();s();o();s();var ds=(e,t)=>Array.apply(0,new Array(Math.ceil(e.length/t))).map((n,r)=>e.slice(r*t,(r+1)*t));var Tl=500;async function fs({queryClient:e,queries:t}){let n={};try{let r={},i=[];for(let d of t){let f=d.caip19,y=Q(f);if(r[y])continue;r[y]=!0;let g=q.price(y),b=e.getQueryState(g);if(b&&Date.now()-b.dataUpdatedAt<Zo.staleTime){n[y]=b.data;continue}i.push(f)}let a=await Promise.allSettled(ds(i,Tl).map(d=>xt({tokens:d}))),c=[],l=a.some(d=>d.status==="rejected"),p=a.reduce((d,f)=>f.status==="rejected"?d:{...d,...f.value},{});for(let d of i){let f=Q(d),y=p[f],g=q.price(f);!y&&l&&(y=e.getQueryData(g)),y&&(n[f]=y),c.push(()=>{let b=y??null;e.setQueryData(g,b,{updatedAt:Date.now()})})}if(l){let d=e.getQueryData(q.priceError())??0;e.setQueryData(q.priceError(),d+1)}else e.removeQueries({queryKey:q.priceError()});Sl(c,50)}catch(r){Cn(r)}return n}function Sl(e,t){let n=e.length,r=0;function i(){let a=e.slice(r,r+t);ji.batch(()=>{a.forEach(c=>c())}),r+=t,r<n&&setTimeout(i,0)}i()}var vl=e=>typeof e=="string"?e:e.resourceType==="nativeToken"?e.slip44:e.address,El=(e,t)=>e.localeCompare(t),gs=e=>{let t=e.map(vl).sort(El).join(",");return ms(t)},hs=({query:e,enabled:t=!0,key:n,queryOptions:r={refetchInterval:be.Short},queryClient:i})=>{let{refetchInterval:a}=r,c=ps(e),l=t&&e!=null&&e.data.length>0;return{queryKey:q.tempPrices(n),staleTime:0,gcTime:0,refetchInterval:a,queryFn:()=>fs({queryClient:i,queries:c}),enabled:l}};function wr({query:e,enabled:t=!0,queryOptions:n={refetchInterval:be.Short}}){let r=X(),i=(0,ys.useMemo)(()=>gs(e.data),[e]);return v(hs({query:e,enabled:t,key:i,queryOptions:n,queryClient:r}))}o();s();var Cl=()=>v({queryKey:q.priceError(),queryFn:()=>{throw new Error("This query is cache-only")},enabled:!1,initialData:0,staleTime:1/0});o();s();var Al=1*60*1e3,xl=e=>{let t=e.queryKey[1];return Object.prototype.hasOwnProperty.call(t??{},"id")?e.state.dataUpdatedAt>Date.now()-Al:String(t)===q.priceError()[1]};o();s();o();s();var Pl="25.13.0",lt=`fungible-tokens-${Pl}`,wl=[lt,"token-updates"],Nl=[lt,"token-details"],kl=[lt,"portfolio-value"],Fl=[lt,"token-balance"],Il=[lt,"infinite-token-balances"],Dl=[lt,"visibility-overrides"],bs={infiniteTokenBalances:({walletCaip19s:e})=>[...Il,{walletCaip19s:e}],tokenBalance:({wallets:e,encodedCaip19:t,isSplCompressed:n})=>{let r=e.map(i=>typeof i=="string"?i:Q({chainId:i.networkID,address:i.address,resourceType:"address"})).sort();return[...Fl,{walletCaip19s:r,encodedCaip19:t,isSplCompressed:n}]},tokenUpdates:({walletCaip19s:e,from:t})=>[...wl,{walletCaip19s:e,from:t}],portfolioValue:({walletCaip19s:e,include:t,exclude:n,isMainnet:r})=>[...kl,{walletCaip19s:e,include:t,exclude:n,isMainnet:r}],visibilityOverrides:({accountId:e})=>[...Dl,{accountId:e}],tokenDetails:({caip19:e,includePrice:t})=>[...Nl,{caip19:e,includePrice:t}]};o();s();o();s();var vs=w(Ss()),Pn=w(rr());(0,vs.default)(Pn.default.localeData("en"),{abbreviations:{thousand:"K",million:"M",billion:"B",trillion:"T"}});o();s();var Es=e=>{let t=e?Math.floor(Math.log10(e)):0,n=t<0?Math.pow(10,1-t):100;return Math.round(e*n)/n};var Cs=(e,t={})=>{let n=typeof e=="number"?e:N(e).toNumber(),{includePlusPrefix:r=!1,prefix:i="",infix:a="",suffix:c="",extendedDecimalsForSmallNumbers:l=!1,minimumAmount:p=.01,format:d="0,0.[00]",decimalFormatSmallNumbers:f="0.[00]",roundDecimals:y=!1}=t,g=n<0?"-":"",b=r&&n>0?"+":g,S=y?Es(Math.abs(n)):Math.abs(n);if(Math.abs(n)>=p||n===0){let P=Math.abs(n)>1?t.compact?"0.[00]a":d:f,C=(0,Pn.default)(S).format(P);return`${i}${b}${a}${C}${c}`}else if(l){let P=new N(S).abs().toFormat();return`${i}${b}${a}${P}${c}`}else return`${i}${b}<${a}${new N(p).toFormat()}${c}`};var L=w(H());o();s();var As=w(Nu()),mt=w(H()),xs=(e,t=100)=>{let[n,r]=(0,mt.useState)(e),i=(0,mt.useMemo)(()=>(0,As.default)(a=>r(a),t),[t]);return(0,mt.useEffect)(()=>i(e),[i,e]),n};var Gl=({error:e,chainId:t,prices:n,isPending:r})=>{if(he.get(t).pricesDisabled)return _.t("assetDetailPriceNoValue");if(e===ut)return _.t("assetDetailPriceHistoryUnavailable");if(e===pr||!r&&n.length===0)return _.t("assetDetailPriceHistoryInsufficientData");if(e)return _.t("assetDetailPriceHistoryError")},Kl=({caip19:e,userLocale:t="en-US",timeFrame:n="1D"})=>{let{t:r}=$i(),i=Se(),a=X(),[c,l]=(0,L.useState)(n),p=(0,L.useCallback)($=>{if($!==c){l($);try{let{symbol:ce}=a.getQueryData(bs.tokenDetails({caip19:e,includePrice:!0}))||{};i.capture("onPublicFungibleTimeframeChanged",{data:{timeFrame:$,caip19:e,symbol:typeof ce=="string"?ce:void 0}})}catch(ce){console.error("error capturing onPublicFungibleTimeframeChanged",ce)}}},[i,e,a,c]),{data:d,isPending:f,error:y}=fr({caip19:e,timeFrame:c}),{data:g}=Je({query:{data:e},queryOptions:{refetchInterval:be.VeryShort,staleTime:K.VeryShort}}),b=(0,L.useMemo)(()=>{if(d){if(g?.price&&g.lastUpdatedAt&&d){let $=g.price,ce=new Date(g.lastUpdatedAt),ot={value:$.toString(),unixTime:Math.floor(ce.getTime()/1e3)};return gr({priceHistory:d,realtimePriceUpdates:[ot]})}return yr({priceHistory:d,currentPrice:g?.price})}},[d,g?.price,g?.lastUpdatedAt]),P=ke(e).chainId,C=g?.price,I=g?.usd_24h_change,Z=(0,L.useMemo)(()=>!C||!I?null:C/(1+I/100),[C,I]),[de,Ue]=(0,L.useState)(null);(0,L.useEffect)(()=>{b?.length&&Ue(b)},[b,Ue]);let fe=(0,L.useMemo)(()=>b||de||[],[b,de]),Pe=Gl({error:y,chainId:P,prices:fe,isPending:f});(0,L.useEffect)(()=>{Pe&&Ue(null)},[Pe]);let $t=(0,L.useMemo)(()=>[{timeFrame:"1H",label:r("assetDetailTimeFrame1H")},{timeFrame:"1D",label:r("assetDetailTimeFrame1D")},{timeFrame:"1W",label:r("assetDetailTimeFrame1W")},{timeFrame:"1M",label:r("assetDetailTimeFrame1M")},{timeFrame:"YTD",label:r("assetDetailTimeFrameYTD")},{timeFrame:"ALL",label:r("assetDetailTimeFrameAll")}].map($=>({...$,label:$.label?.toUpperCase()})),[r]),[zn,nt]=(0,L.useState)(null),rt=xs(zn,100),[ie,Qe]=(0,L.useMemo)(()=>{if(!fe.length)return[Z??null,C??null];let[$,ce]=[fe[0],fe[fe.length-1]].map(ot=>new N(ot.value).toNumber());return[$,C||ce]},[C,Z,fe]),it=(0,L.useMemo)(()=>rt??Qe,[rt,Qe]),ze=(0,L.useMemo)(()=>Qe===null||ie===null?null:Qe-ie,[ie,Qe]),ye=(0,L.useMemo)(()=>it===null||ie===null?null:it-ie,[it,ie]),Wt=(0,L.useMemo)(()=>{if(ye===null||ie===null||ie===0)return null;let $=ye/ie*100;return`${Cs($,{includePlusPrefix:!0})}%`},[ye,ie]),we=(0,L.useCallback)($=>{let ce=new Date($*1e3),ot=ce.toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit"}),Ii=ce.toLocaleString(t,{month:"short",day:"2-digit"}),yu=ce.getFullYear(),Di=fe.at(-1);if(Di&&Di.unixTime===$)return r("assetDetailPriceHistoryNow");switch(c){case"1H":case"1D":return ot;case"1W":case"1M":return`${ot}, ${Ii}`;case"YTD":case"ALL":return`${Ii}, ${yu}`;default:return c}},[t,fe,c,r]),$e=(0,L.useMemo)(()=>he.get(P).pricesDisabled??!1,[P]);return{activeTimeFrame:c,setActiveTimeFrame:p,prices:fe,isPending:f,errorText:Pe,timeFrames:$t,setScrubValue:nt,scrubValue:rt,currentPrice:it,overallPriceChange:ze,currentPriceChange:ye,formattedPercentageChange:Wt,formatTimeFrameText:we,hidePriceAmounts:$e,hideTimeFrames:$e}};o();s();o();s();o();s();var ql=new Error("missing price"),jl=new Error("Unable to format gas estimation"),wn=(e,t)=>{if(!t.usd)throw ql;try{let n=h.getTokenDecimals(e.networkID);if(Co(e)){let r=Uo(e),a=new N(r).div(Xe(n)).times(new N(t.usd));return{gasEstimationPriceUSD:At(a),gasEstimationPriceUSDNumber:a.toNumber(),gasEstimationAmount:r}}else if(vo(e)){let r=Lo(e),a=r.div(new N(oe.LAMPORTS_PER_SOL)).times(t.usd);return{gasEstimationPriceUSD:At(a),gasEstimationPriceUSDNumber:a.toNumber(),gasEstimationAmount:r}}else if(Eo(e)){let i=To(e.gasBudget,n).times(t.usd);return{gasEstimationPriceUSD:At(i),gasEstimationPriceUSDNumber:i.toNumber(),gasEstimationAmount:e.gasBudget}}else if(Ao(e)){let r=Vo(e),a=new N(r).div(Xe(n)).times(t.usd);return{gasEstimationPriceUSD:At(a),gasEstimationPriceUSDNumber:a.toNumber(),gasEstimationAmount:r}}else throw G(e),new Error("unsupported chain type")}catch{throw jl}};var Ql=(e,t,n)=>{let r=e?h.getChainID(e):null,i=r?tn(r):void 0,{data:a,isFetched:c}=Je({query:{data:i}}),l=!!e&&!!t&&c,p=k.gasEstimationPrice(e,t);return v({enabled:l,queryKey:p,queryFn:()=>{if(!a||!t)throw new Error("missing args");return wn(t,a)},refetchOnMount:!0,placeholderData:sn,...n||{}})};o();s();o();s();var Ps=Object.prototype.hasOwnProperty;function ws(e,t,n){for(n of e.keys())if(Me(n,t))return n}function Me(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Me(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=ws(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=ws(t,i),!i)||!Me(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Ps.call(e,n)&&++r&&!Ps.call(t,n)||!(n in t)||!Me(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var Ns=w(H());var zl=e=>{let t=le(),n=(0,Ns.useRef)(void 0),r=k.pendingTransactionById(e);return v({queryKey:r,queryFn:async()=>{try{let c=(await gn(t))[e];return c?(Me(c,n.current)||(n.current=c),n.current):null}catch(a){throw M.captureError(a,"transaction"),a}},refetchInterval:200,staleTime:200,gcTime:0,refetchOnMount:!0})};o();s();var Is=w(eo()),Ds=w(ku());var Nt=w(H());o();s();var wt=w(eo()),ks=w(H());function Fs(e,t){let n=(0,ks.useRef)((0,wt.default)());v({queryKey:["PENDING-TX-POLLER",e],enabled:e.length>0,queryFn:()=>Ro(e,t),refetchInterval:()=>(0,wt.default)().diff(n.current,"seconds")<30?5*1e3:(0,wt.default)().diff(n.current,"minutes")<2?15*1e3:(0,wt.default)().diff(n.current,"minutes")<5?30*1e3:!1})}Is.default.extend(Ds.default);var kt=e=>{let t=le(),n=(0,Nt.useRef)([]),r=(0,Nt.useRef)([]);(0,Nt.useEffect)(()=>{n.current=[],r.current=[]},[e]);let i=k.pendingTransactions(e),a=async()=>{let c=await gn(t),l=Bo(c,e);if(!Me(l,n.current)){let p=n.current.filter(d=>!l.find(f=>f.id===d.id));Me(p,r.current)||(r.current=p),n.current=l}return{pendingTransaction:n.current,removedPendingTransactions:r.current}};return Fs(e,t),v({queryKey:i,queryFn:a,refetchInterval:1e3,staleTime:500,gcTime:0,refetchOnMount:!0,enabled:!!e.length})};o();s();var _s=w(H());o();s();var Bs=e=>({connection:Ie(e),cluster:yn(e)}),Os=()=>Bs(ge.Solana.Mainnet),Ms=e=>{let t,n=e?.addresses??[];for(let i of n)if(h.isSolanaNetworkID(i.networkID)){t=i.networkID;break}let r=t??ge.Solana.Mainnet;return Bs(r)};var $l=()=>{let e=(0,_s.useMemo)(Os,[]),{data:t=e}=an({select:Ms});return t};o();s();o();s();o();s();var ve=w(H()),Rs=(0,ve.createContext)(null),Wl=({children:e})=>{let{data:t}=to(),{data:n,isLoading:r}=er(t),i=t&&n?Zn[t].languageCode:cn.languageCode,a=t||cn.value,c=t&&n?Zn[t].symbol:cn.symbol,l=(0,ve.useCallback)((y,g)=>Intl.NumberFormat(i,{style:"currency",currency:a,...g}).format(y),[a,i]),p=(0,ve.useCallback)(y=>!t||!n?Number(y):N(y).div(N(n)).toNumber(),[t,n]),d=(0,ve.useCallback)((y,g)=>{if(!t||!n)return Number(y);let b=N(y).times(N(n));return g===void 0?b.toNumber():b.decimalPlaces(g).toNumber()},[t,n]),f={isLoading:r,currencyLocale:i,currencySymbol:c,currencyCode:a,toUsd:p,fromUsd:d,formatLocalizedPrice:l};return ve.default.createElement(Rs.Provider,{value:f},e)},Ft=()=>{let e=(0,ve.useContext)(Rs);if(!e)throw new Error("useLocalizedCurrency must be used within a LocalizedCurrencyProvider");return e};o();s();o();s();o();s();var ma=w(H());o();s();var Us=async e=>{try{return await co(ge.Ethereum.Mainnet).resolveName(e)}catch(t){return console.error(t),null}};o();s();var Ls=async(e,t)=>{let n="/uns/v1/resolve";try{let r=await W.api().headers({"Content-Type":"application/json"}).post(n,{query:e,chainId:t});if(!Bi(r))throw nr;let i=r.data;if(i.address===""||i.status!=="OK")throw nr;return i.address}catch{return null}};o();s();var ca=w(aa());var ua=async(e,t)=>{try{if(!h.isSolanaNetworkID(t))return null;let n=yn(t),r=Do(n),a=await new ca.TldParser(r).getOwnerFromDomainTld(e);return a?a.toString():null}catch{return null}};o();s();var la=async(e,t)=>{try{if(!h.isSuiNetworkID(t))return null;let n=Io(t);return e.toLowerCase().endsWith(".sui")&&await n.resolveNameServiceAddress({name:e})||null}catch{return null}};function Gr(e,t){let n=e?.toLowerCase(),r=Kr(n,t),i=r.error,a=(0,ma.useMemo)(()=>i===un?_.t("sendFormErrorInvalidDomain"):i===io?_.t("sendFormErrorInvalidSolanaAddress"):i===oo?_.t("sendFormErrorInvalidTwitterHandle"):i===tr?_.t("sendFormErrorInvalidUsername"):"",[i]);return{...r,error:a}}function Kr(e,t){let n=Ji(),r=Se(),i=!!e&&!!t,a=k.resolveDomainName(e,t);return v({queryKey:a,queryFn:async()=>{if(!e||!t)throw ro;let l=await pa(e,t,n,r);return{address:l?.owner??null,type:l?.type??null,handle:e}},enabled:i})}var Um=async(e,t)=>{try{if(e.startsWith("@")||!h.isEVMNetworkID(t))return null;let[n]=Xi(e);if(n){let r=await Us(e);if(!r)throw un;return r}return null}catch(n){return M.captureError(n instanceof Error?n:new Error(`Unable to resolve EVM domain: ${e}`),"transaction"),null}},Lm=async(e,t,n)=>{try{if(e.startsWith("@")||!h.isSolanaNetworkID(t))return null;let[r,i,a]=Wi(e);(r||i||a)&&n.capture("resolveDomainBonfida");let c=r||i||a,l=null;if(c&&(l=await Ls(e,t),!l))throw un;return l}catch(r){return M.captureError(r instanceof Error?r:new Error(`Unable to resolve solana domain: ${e}`),"transaction"),null}},Vm=async(e,t,n)=>{try{if(!e.startsWith("@"))return null;let r=e.slice(1),i=await n.getUserProfileByUsername(r),a=i?.username?.toLowerCase()===r.toLowerCase(),c=i?.addresses?i.addresses?.[t]!==void 0:!1,l=!!i&&a&&c,p=null;if(l&&(p=i.addresses[t],!p))throw tr;return p}catch(r){return M.captureError(r instanceof Error?r:new Error(`Unable to resolve username: ${e}`),"Auth"),null}};async function pa(e,t,n,r){let i=on.isFeatureEnabled("kill-suins"),a=[{type:"username",fetch:Vm(e,t,n)},{type:"solana",fetch:Lm(e,t,r)},{type:"evm",fetch:Um(e,t)},{type:"ans",fetch:ua(e,t)}];i||a.push({type:"suins",fetch:la(e,t)});let c=await Promise.all(a.map(({fetch:p})=>p)),l=c.findIndex(p=>p!==null);return l===-1?null:{type:a[l].type,owner:c[l]}}o();s();var _n=w(H()),ya=w(fa());function Qm(e,t){let[n,r]=(0,_n.useState)(e);(0,ya.default)(()=>r(e),500,[e]);let{data:i,error:a,isLoading:c}=Gr(n,t),p=i?.address??e,d=e.length>0,y=!d||e!==n||c,g=(0,_n.useMemo)(()=>{if(y)return;if(a)return a;if(!Hi(p,t))return _.t("sendFormInvalidAddress",{assetName:h.getChainName(t)})},[t,y,a,p]);return{recipientError:g,currentRecipient:p,isStaleRecipient:y,disabledDueToRecipient:!!g||y||!d,isRecipientLoading:c&&e!==""}}o();s();var zm=3,$m=500,Wm=5e3,Xm=(e,t,n)=>v({async queryFn(){if(h.isEVMNetworkID(e))try{return await Ym(e,t,n)}catch(r){throw M.captureError(r,"transaction"),r}},queryKey:k.gasEstimationTimeToMine(e,t,n),retry:zm,retryDelay:$m,refetchInterval:Wm,enabled:h.isEVMNetworkID(e)&&h.isMainnetNetworkID(e)});async function Ym(e,t,n){let r=`https://gas-price-oracle.phantom.app/time_to_mine?chainId=${e}&maxFeePerGas=${t}&maxPriorityFeePerGas=${n}`,i={Accept:"application/json","Content-Type":"application/json"},a=await W.headers(i).get(r);if(a.status!==200)throw new Error("Error estimating time to mine");return a.data}o();s();o();s();var Jm=({networkID:e,refetchInterval:t,transactionSpeed:n="standard",gasLimit:r,enabled:i=!0})=>{let{data:a,status:c,fetchStatus:l,isError:p,isPending:d,isFetched:f,isSuccess:y}=Oe({networkID:e,refetchInterval:t,enableFallback:!0,enabled:i}),g;if(i&&a&&r){let{maxFeePerGas:S,maxPriorityFeePerGas:P}=a[n];g={networkID:e,gasLimit:r,maxFeePerGas:S,maxPriorityFeePerGas:P}}return{status:c,data:g,isError:p,isLoading:d,fetchStatus:l,hasFailed:f&&!y}};o();s();var Qr=e=>{let t=e[0]?.networkID,n=t?h.getChainID(t):null,r=n?tn(n):void 0,{data:i}=Je({query:{data:r}});return zi({queries:e.map(c=>({queryKey:k.gasEstimationPrice(t,c),queryFn:()=>{if(!i||!c)throw new Error("missing args");return wn(c,i)}}))}).map(c=>c.data)};o();s();var ga=w(H());var Zm=T({days:5}),ep=()=>{let e=Se(),t=X(),{data:n={}}=v({queryKey:k.timestamps(),queryFn:()=>({...t.getQueryData(k.timestamps())||{}})});(0,ga.useEffect)(()=>{let r=Object.values(n),{staleTimestampDatas:i,freshTimestampDatas:a}=r.reduce((l,p)=>{let d=Math.max(...Object.values(p.timestamps));return Date.now()-d>Zm?l.staleTimestampDatas.push(p):l.freshTimestampDatas.push(p),l},{staleTimestampDatas:[],freshTimestampDatas:[]});yo(t,i?.map(l=>l.transactionId)??[]);let c=a.filter(l=>l.timestamps.appUpdated);go(c,e,t)},[n,e,t])};o();s();var ha=w(H());var zr=(e,t,n=!1)=>{let r=X();return(0,ha.useCallback)((a,c,l)=>{if(a===void 0)return;let p=k.timestamps(),f=r.getQueryData(p)||{[a]:{chainId:t,transactionType:e,isLedger:n,transactionId:a,timestamps:{}}},y=f[a];if(y?.timestamps[c])return;let g={...f,[a]:{...y||{chainId:t,transactionType:e,isLedger:n,transactionId:a,timestamps:{}},timestamps:{...y?.timestamps??{},[c]:l??Date.now()}}};r.setQueryData(p,g)},[t,n,r,e])};o();s();o();s();function tp(e){let t=le(),n=Ct();return Et({mutationFn:async i=>await Yo({...i,accountSigner:n,connection:e,storage:t})})}o();s();o();s();function ba(e){return e!=null}var Rt=w(H());var np={fast:"gasFast",standard:"gasAverage",slow:"gasSlow"};function rp(e,t,n){let[r,i]=(0,Rt.useState)(t),a=n??bo(e),{data:c={}}=Oe({networkID:e}),l=(0,Rt.useMemo)(()=>Object.keys(c).reduce((C,I)=>{let Z=I,de=c[Z];return de&&(C[Z]=at(e,de,a,void 0)),C},{}),[c,e,a]),p=Object.keys(l),d=Object.values(l),f=Qr(Object.values(l)),y=d.map(C=>dn(C)),{fromUsd:g,formatLocalizedPrice:b}=Ft(),S=p.map((C,I)=>{let Z=d[I],de=f[I],Ue=y[I];return ip(de,Ue,C,Z,g,b)});return{presets:(0,Rt.useMemo)(()=>S.map((C,I)=>({description:C,title:_.t(np[p[I]]),selected:r===p[I],onClick:()=>i(p[I]),withBorderTop:I!==0})),[S,p,r]),transactionSpeed:r}}var ip=(e,t,n,r,i,a)=>{let c=[],l=e?.gasEstimationPriceUSDNumber?i(e?.gasEstimationPriceUSDNumber):void 0,p=l?a(l,{maximumFractionDigits:4}):void 0,d=p?_.t("gasUpTo",{amount:p}):t?_.t("gasUpTo",{amount:t}):void 0;c.push(d);let f=r?Fe.get(r.networkID).transactionSettingsRowFeeDescription?.(r):void 0;c.push(f);let y=r?.networkID;if(y){let g=Fe.get(y).transactionSpeedDescription(n);g&&c.push(_.t(g))}return c.filter(ba).join("  \u2022  ")};o();s();function op(e){let{data:t}=kt(e?[e]:[]);if(e&&h.isBitcoinNetworkID(e.networkID))return!t||t.pendingTransaction.length===0?void 0:{title:_.t("sendSummaryBitcoinPendingTxTitle"),description:_.t("sendSummaryBitcoinPendingTxDescription"),buttonText:_.t("gotIt")}}o();s();var Ta=w(H());o();s();var Rn=Yi(le,e=>qo(new Ko(e)));var sp="transactions-utxo-state",ap=6,cp=600,up=T({seconds:30}),lp=T({seconds:5}),mp=T({minutes:10}),$r=e=>{let t=Rn(),n=We("enable-bypass-utxo-protection");return v({queryFn:Sa(e,t,n),queryKey:k.utxoState(e,n),enabled:va(e),retry:ap,retryDelay:cp,refetchInterval:up,staleTime:lp,gcTime:mp})};function pp(e){let t=Rn(),n=X(),r=We("enable-bypass-utxo-protection"),i=k.utxoState(e,r);(0,Ta.useEffect)(()=>{va(e)&&n.prefetchQuery({queryKey:i,queryFn:Sa(e,t,r)})},[])}function Sa(e,t,n){return async()=>{try{if(!e)throw new Error("chainAddress not provided when fetching utxo state.");if(Wn(e)){await t.refetchUtxos(e,n);let[r,i,a]=await Promise.all([t.getSafeToSendUtxos(e.address,n),t.getInscribedUtxos(e.address),t.getRareSatsUtxos(e.address)]);return{safeToSendUtxos:r,inscribedUtxos:i,rareSatsUtxos:a}}else throw new Error(`Unsupported chain address type for fetching utxo state: ${e.addressType}`)}catch(r){if(Le(r)){let i=r.response?.status;jo(r,i,sp)}throw r}}}function va(e){return!!e&&Wn(e)}o();s();function Wr(e,t){let n=e?.toLowerCase(),{data:r}=Kr(n,t);return r?.address||e}o();s();var dp=({networkID:e,gasEstimation:t,gasEstimationPrice:n})=>{let r=dn(t),{fromUsd:i,formatLocalizedPrice:a}=Ft(),c=n?.gasEstimationPriceUSDNumber?i(n?.gasEstimationPriceUSDNumber):void 0,l=c?a(c,{maximumFractionDigits:4}):void 0,p=!h.isMainnetNetworkID(e),d=l&&!p?l:r||void 0;return Fe.get(e).networkFeeRowString(d,l)};o();s();var Ea=w(H());function fp(e,t,n){let r=e.data.transactions[e.data.transactions.length-1],{data:i}=kt(n?.addresses||[]),a=e.networkID;(0,Ea.useEffect)(()=>{let C=i?.pendingTransaction.find(I=>I.id===e.id);(!C||C.data.transactions.some(I=>I.confirmations>0))&&t()},[i?.pendingTransaction,t,e]);let c={networkID:a,unsignedTransaction:r.unsignedTransaction},{data:l,status:p}=Tr({networkID:a,transactionSpeed:"fast",multichainTransaction:c,queryOptions:{refetchInterval:!1}}),d=new A(r.unsignedTransaction.maxFeePerGas??"0"),f=l?.maxFeePerGas&&l?.maxFeePerGas.gt(d)?l?.maxFeePerGas:d,y=new A(r.unsignedTransaction.maxPriorityFeePerGas??"0"),g=l?.maxPriorityFeePerGas&&l?.maxPriorityFeePerGas.gt(y)?l?.maxPriorityFeePerGas:y,b=f?.multipliedBy(1.11).integerValue(),S=g?.multipliedBy(1.11).integerValue();return{data:at(a,{maxFeePerGas:b,maxPriorityFeePerGas:S},{gasLimit:new A(r.unsignedTransaction.gas??"0")},l?.l1Fee),status:p}}o();s();var yp=w(vu());o();s();var gp=()=>{let e=on.getMultivariateAssignment("frontend-transaction-sharing-delay-ms");if(!e)return sr;let t=parseInt(e);return Number.isNaN(t)?sr:t},hp=()=>({delayMs:gp()});o();s();o();s();o();s();o();s();o();s();o();s();o();s();var Ca=async(e,t,n)=>{let{accountIdentifier:r,nonce:i,pendingTransaction:a,pendingTransactionInput:c,gasEstimation:l}=t,{data:{transactions:p}}=a,d=p[p.length-1],{callPayload:f,unsignedTransaction:y}=d,{networkID:g}=a,b=await Qo({accountSigner:e,accountIdentifier:r,networkID:g,unsignedTransaction:{...y,...Mo(l),nonce:Sn(new A(i))},callPayload:{...f},pendingTransactionInput:c,storage:n});return{networkID:g,id:b}};function Tp(){let e=Ct(),t=le();return Et({mutationFn:async r=>Ca(e,r,t)})}o();s();o();s();var Sp=T({seconds:5}),Un=async(e,t,n=1,r=Sp,i=2)=>{try{let a=await fn(e).getRawTransaction(t);return a.confirmations&&a?.confirmations>=n?a:(await Jn(r),Un(e,t,n,r,i))}catch(a){if(a instanceof Error&&i>0)return await Jn(r),await Un(e,t,n,r,i-1);throw a}};function vp(e,t){let n=Se(),r=!!t,i=k.waitForTransactionConfirmation(t);return v({enabled:r,queryKey:i,queryFn:async()=>{if(!t){let c="Missing chainID or transactionReceipt.";throw new Error(c)}try{if(h.isSolanaNetworkID(t.networkID)){let c=Ie(t.networkID);await Xo({connection:c,signature:t.id})}else if(h.isEVMNetworkID(t.networkID))await uo(t.networkID,t.id);else if(h.isBitcoinNetworkID(t.networkID))await Un(t.networkID,t.id);else if(h.isSuiNetworkID(t.networkID))await $o(t.networkID,t.id);else throw new Error("Unsupported transaction receipt type.");return e(t),!0}catch(c){if(c&&c instanceof so)throw c;let l="Unable to send transaction.";c.message&&(l=c.message);let{networkID:p}=t,d={chainId:h.getChainID(p),networkId:p};throw n.capture("waitForTransactionConfirmationError",{data:{...d,errorMessage:c.message}}),new Error(l)}}})}o();s();var Ep=e=>{let t=e.transaction.getData();return v({queryKey:k.suiTransaction(t),queryFn:()=>Wo(e)})};o();s();o();s();o();s();o();s();var qe=(i=>(i[i.Always=1/0]="Always",i[i.Short=T({days:1})]="Short",i[i.Medium=T({days:3})]="Medium",i[i.Long=T({days:7})]="Long",i))(qe||{}),yt=(a=>(a[a.Immediate=0]="Immediate",a[a.Short=T({minutes:1})]="Short",a[a.Medium=T({minutes:2.5})]="Medium",a[a.Long=T({minutes:5})]="Long",a[a.Never=1/0]="Never",a))(yt||{}),Xr=(r=>(r[r.Short=T({minutes:1})]="Short",r[r.Medium=T({minutes:2.5})]="Medium",r[r.Long=T({minutes:5})]="Long",r))(Xr||{});o();s();var Ut=(e,t,n,r)=>{(!t||t>=400&&t<500)&&(M.addBreadcrumb(n,e.message,"info",r),M.captureError(e,"fungibles"))};o();s();var Aa=["BitcoinNative","EthereumNative","PolygonNative","MonadNative","SolanaNative","BaseNative","ArbitrumNative","SuiNative","HypercoreNative"];function J(e){return!!e&&Aa.includes(e)}o();s();function Cp(e){let t=e.resourceType==="nativeToken";return h.isSolanaNetworkID(e.chainId)?t?"SolanaNative":"SPL":h.isEVMNetworkID(e.chainId)?t?h.isEthereumNetworkID(e.chainId)?"EthereumNative":h.isPolygonNetworkID(e.chainId)?"PolygonNative":h.isBaseNetworkID(e.chainId)?"BaseNative":h.isArbitrumNetworkID(e.chainId)?"ArbitrumNative":h.isHypercoreNetworkID(e.chainId)?"HypercoreNative":"MonadNative":"ERC20":h.isBitcoinNetworkID(e.chainId)?t?"BitcoinNative":"BRC20":h.isSuiNetworkID(e.chainId)?t?"SuiNative":"SuiCoin":"SPL"}o();s();var Pa=w(rr()),Ap={maximumFractionDigits:2,minimumFractionDigits:2},xa=1e-5,xp="0,0.[00]a",Pp=1e5,wp=(e,t=5)=>{let n=new A(e);if(n.abs().isGreaterThan(0)&&n.abs().isLessThan(xa))return`< ${n.isLessThan(0)?"-":""}${xa}`;let r=(0,Pa.default)(n.toNumber());return n.isGreaterThanOrEqualTo(Pp)?r.format(xp):r.format(`0,0.[${"0".repeat(t)}]`)};o();s();var Np=e=>({data:{balance:e&&e.data&&e.data.balance!==void 0&&e.data.balance!==null?String(e.data.balance):void 0,price:e?.data?.price,usd_24h_change:e?.data?.usd_24h_change}}),wa=e=>{if(!e?.data?.balance||!e?.data?.price)return;let t=new A(e.data.balance),n=new A(e.data.price);return t.multipliedBy(n).toNumber()},Na=(e,t)=>!e?.averageCostBasis||!t?.data?.balance||!t?.data?.price?void 0:new A(e.averageCostBasis).multipliedBy(10**6).toNumber(),kp=(e,t)=>{let n=Na(e,t),r=wa(t);if(!n||!r||!t?.data?.balance)return;let a=new A(t.data.balance).multipliedBy(n);return new A(r).minus(a).toNumber()};o();s();var Fp=(e,t)=>h.isBitcoinNetworkID(e)&&t?`BitcoinNative-${t}`:null;o();s();var Ip=(e,t)=>{if(!h.isBitcoinNetworkID(e))return;let n=ue(e,t);return`BitcoinNative-${n}`};o();s();o();s();o();s();var ka=e=>!!e;function Ln(e){return u.any().array().transform(t=>t.map(n=>{let r=e.safeParse(n);return r.success?r.data:void 0}).filter(ka)).catch([])}o();s();o();s();o();s();var Lt=(a=>(a.Trusted="TRUSTED",a.Verified="VERIFIED",a.NotVerified="NOT_VERIFIED",a.PossibleSpam="POSSIBLE_SPAM",a.Spam="SPAM",a))(Lt||{}),Yr=u.nativeEnum(Lt);var F=u.object({chain:Li,decimals:u.number(),logoUri:u.string().nullish().default(null),name:u.string().nullish().default(null),symbol:u.string().nullish().default(null),spamStatus:Yr.optional().default("NOT_VERIFIED"),marketCap:u.number().optional(),volume24hUsd:u.number().optional()}),Jr=(i=>(i.Website="website",i.Telegram="telegram",i.X="x",i.Discrod="discord",i))(Jr||{}),Dp=u.object({type:u.nativeEnum(Jr),url:u.string()});var Bp=u.object({extension:u.literal("interestBearingConfig"),state:u.object({currentRate:u.number(),initializationTimestamp:u.number(),lastUpdateTimestamp:u.number(),preUpdateAverageRate:u.number(),rateAuthority:u.string()}),meta:u.object({amountPrincipal:u.string()}).optional()}),Op=u.object({extension:u.literal("transferFeeConfig"),state:u.object({newerTransferFee:u.object({transferFeeBasisPoints:u.number()})})}),Mp=u.object({extension:u.literal("permanentDelegate"),state:u.object({delegate:u.string()})}),_p=u.object({extension:u.literal("transferHook"),state:u.object({authority:u.string().nullish().default(null),programId:u.string()})}),Rp=u.object({extension:u.literal("tokenMetadata"),state:u.object({additionalMetadata:u.array(u.array(u.string())),mint:u.string(),name:u.string(),symbol:u.string(),updateAuthority:u.string(),uri:u.string()})}),Up=u.object({extension:u.literal("mintCloseAuthority"),state:u.object({closeAuthority:u.string()})}),Lp=u.object({extension:u.literal("groupMemberPointer"),state:u.object({authority:u.string(),memberAddress:u.string()})}),Vp=u.object({extension:u.literal("metadataPointer"),state:u.object({authority:u.string(),metadataAddress:u.string()})}),Hp=u.object({extension:u.literal("nonTransferable")}),Gp=u.object({extension:u.literal("scaledUiAmountConfig"),state:u.object({authority:u.string(),multiplier:u.string(),newMultiplier:u.string().optional(),newMultiplierEffectiveTimestamp:u.number().optional()})}),Vt=u.union([Bp,Op,Mp,_p,Rp,Up,Vp,Lp,Hp,Gp]),ZN=F.merge(u.object({address:u.string().nullish(),description:u.string().nullish(),logoURI:u.string().nullish(),links:u.array(Dp).nullish(),marketCap:u.number({coerce:!0}).nullish(),totalSupply:u.number({coerce:!0}).nullish(),circulatingSupply:u.number({coerce:!0}).nullish(),maxSupply:u.number({coerce:!0}).nullish(),holders:u.number().nullish(),volume24hUSD:u.number({coerce:!0}).nullish(),volume24hUSDChangePercentage:u.number().nullish(),trades24h:u.number().nullish(),trades24hChangePercentage:u.number().nullish(),uniqueWallets24h:u.number().nullish(),uniqueWallets24hChangePercentage:u.number().nullish(),top10HoldersPercent:u.number().nullish(),mintable:u.boolean().nullish(),freezable:u.boolean().nullish(),mutableMetadata:u.boolean().nullish(),ownershipRenounced:u.boolean().nullish(),updateAuthority:u.string().nullish(),freezeAuthority:u.string().nullish(),spamStatus:Yr.optional().default("NOT_VERIFIED"),mintExtensions:Ln(Vt).nullish(),createdDate:u.string().datetime().nullish().default(null),categories:u.object({id:u.string(),name:u.string(),imageUri:u.string(),numTokens:u.number()}).array().optional()})),ek=u.object({code:u.string(),message:u.string()});var O=u.object({walletAddress:u.string(),amount:u.string()}),Kp=u.object({type:u.literal("SolanaNative"),data:F}),qp=u.object({type:u.literal("SolanaNative"),data:F.merge(O)}),jp=u.object({type:u.literal("EthereumNative"),data:F}),Qp=u.object({type:u.literal("EthereumNative"),data:F.merge(O)}),zp=u.object({type:u.literal("PolygonNative"),data:F}),$p=u.object({type:u.literal("PolygonNative"),data:F.merge(O)}),Wp=u.object({type:u.literal("BaseNative"),data:F}),Xp=u.object({type:u.literal("BaseNative"),data:F.merge(O)}),Yp=u.object({type:u.literal("ArbitrumNative"),data:F}),Jp=u.object({type:u.literal("ArbitrumNative"),data:F.merge(O)}),Zp=u.object({type:u.literal("MonadNative"),data:F}),ed=u.object({type:u.literal("MonadNative"),data:F.merge(O)}),td=u.object({type:u.literal("SuiNative"),data:F}),nd=u.object({type:u.literal("SuiNative"),data:F.merge(O)}),rd=u.object({type:u.literal("HypercoreNative"),data:F}),id=u.object({type:u.literal("HypercoreNative"),data:F.merge(O)}),od=u.object({type:u.literal("BitcoinNative"),data:F}),sd=u.object({type:u.literal("BitcoinNative"),data:F.merge(O)}),Ht=(n=>(n.PreDeploy="preDeploy",n.Graduated="graduated",n))(Ht||{}),ad=u.object({programId:u.string(),status:u.nativeEnum(Ht)}),cd=F.extend({contractAddress:u.string()}),ud=u.object({type:u.literal("HypercoreAsset"),data:cd}),gt=F.extend({mintAddress:u.string(),splTokenAccountPubkey:u.string(),programId:u.string(),mintExtensions:Ln(Vt).optional(),ugcTokenMeta:ad.optional()}),lk=u.object({type:u.literal("SPL"),data:gt}),ld=u.object({type:u.literal("SPL"),data:gt.merge(O)}),md=u.object({type:u.literal("CompressedSPL"),data:gt.merge(O).omit({splTokenAccountPubkey:!0})}),pd=u.object({type:u.literal("SPL"),data:gt.omit({splTokenAccountPubkey:!0,programId:!0})}),Zr=F.extend({contractAddress:u.string()}),dd=u.object({type:u.literal("ERC20"),data:Zr}),fd=u.object({type:u.literal("ERC20"),data:Zr.merge(O)}),ei=F.extend({firstCreatedTransactionHash:u.string().optional(),firstCreatedInscriptionId:u.string()}),yd=u.object({type:u.literal("BRC20"),data:ei}),gd=u.object({type:u.literal("BRC20"),data:ei.merge(O)}),Fa=F.extend({contractAddress:u.string()}),hd=u.object({type:u.literal("SuiCoin"),data:Fa}),Ia=F.extend({contractAddress:u.string()}),mk=u.object({type:u.literal("SuiCoin"),data:Ia}),bd=u.object({type:u.literal("SuiCoin"),data:Ia.merge(O)}),Gt=u.discriminatedUnion("type",[gd,fd,ld,md,bd,qp,Qp,$p,Xp,Jp,ed,sd,nd,id]),ti=u.union([yd,dd,pd,Kp,jp,zp,Wp,Yp,Zp,od,td,hd,rd,ud]),ne=ur.extend({balance:u.instanceof(A),key:u.string(),tokenAddress:u.string().optional(),externalUrl:u.string().optional()}),ni=u.union([u.object({type:u.literal("SolanaNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("SPL"),data:u.intersection(gt.merge(O),ne)}),u.object({type:u.literal("CompressedSPL"),data:u.intersection(gt.merge(O).omit({splTokenAccountPubkey:!0}),ne)})]),ri=u.union([u.object({type:u.literal("EthereumNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("ERC20"),data:u.intersection(Zr.merge(O),ne)}),u.object({type:u.literal("PolygonNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("BaseNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("ArbitrumNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("MonadNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("HypercoreNative"),data:u.intersection(F.merge(O),ne)})]),ii=u.union([u.object({type:u.literal("BitcoinNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("BRC20"),data:u.intersection(ei.merge(O),ne)})]),oi=u.union([u.object({type:u.literal("SuiNative"),data:u.intersection(F.merge(O),ne)}),u.object({type:u.literal("SuiCoin"),data:u.intersection(Fa.merge(O),ne)})]),Da=u.union([ni,ri,ii,oi]);o();s();o();s();o();s();o();s();var jt=(a=>(a.Trusted="TRUSTED",a.Verified="VERIFIED",a.NotVerified="NOT_VERIFIED",a.PossibleSpam="POSSIBLE_SPAM",a.Spam="SPAM",a))(jt||{});var Kt=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="FungibleError"}},qt=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="CollectibleError"}};o();s();var Td={...Gi("accountIdToHiddenMints",["hiddenMints"])};function Sd(e){return e.map(t=>typeof t=="string"?{mintId:t,status:"hidden"}:t)}function vd(e){return e?e.version===2?e:{version:2,value:Object.entries(e.value).reduce((t,[n,r])=>(t[n]=Sd(r),t),{})}:null}async function si(e){try{return vd(await e.get("accountIdToHiddenMints"))}catch{throw new Kt("Failed to get visibility overrides")}}async function Ba(e,t){try{return await e.set("accountIdToHiddenMints",t)}catch{throw new Kt("Failed to set new visibility overrides")}}function Ed(e){return new Map(e.map(t=>typeof t=="string"?[t,{mintId:t,status:"hidden"}]:[t.mintId,t]))}async function ai(e,t){let r=((await si(e))?.value??{})[t]??[];return Ed(r)}async function Cd(e,t,{accountId:n,mutations:r}){let a=(await si(e)??{version:2,value:{}}).value??{},c=new Map((a[n]??[]).map(l=>[l.mintId,l]));for(let{fungibleKey:l,...p}of r)if("isHidden"in p){let{isHidden:d}=p;t.capture(d?"hideFungibleToken":"unhideFungibleToken",{data:{fungibleKey:l}}),c.set(l,{mintId:l,status:d?"hidden":"visible"})}else{let{visibility:d}=p;c.set(l,{mintId:l,status:d})}return a[n]=Array.from(c.values()),Ba(e,{version:2,value:a})}o();s();o();s();async function Ad(e){let t=await e.get("hiddenCollections"),n=await e.get("unhiddenCollections");if(!t&&!n)return null;let r=await e.get("accountIdToCollectibleVisibilitySettings")??{version:2,value:{}},i=Object.entries(r.value).reduce((a,[c,l])=>(a[c]=new Map(l.map(p=>[p.id,p])),a),{});t&&Object.entries(t).forEach(([a,c])=>{i[a]||(i[a]=new Map);let l=i[a];c.forEach(p=>l.set(p,{id:p,status:"hidden"}))}),n&&Object.entries(n).forEach(([a,c])=>{i[a]||(i[a]=new Map);let l=i[a];c.forEach(p=>l.set(p,{id:p,status:"visible"}))}),await e.set("accountIdToCollectibleVisibilitySettings",{version:2,value:Object.entries(i).reduce((a,[c,l])=>(a[c]=Array.from(l.values()),a),{})}),await e.remove("hiddenCollections"),await e.remove("unhiddenCollections")}async function Vn(e){try{return await Ad(e),await e.get("accountIdToCollectibleVisibilitySettings")}catch{throw new qt("Failed to get visibility overrides")}}async function Oa(e,t){try{return await e.set("accountIdToCollectibleVisibilitySettings",t)}catch{throw new qt("Failed to set new visibility overrides")}}function xd(e){return new Map(e.map(t=>[t.id,t]))}async function Pd(e,t){let r=((await Vn(e))?.value??{})[t]??[];return xd(r)}async function wd(e){let n=(await Vn(e)??{version:2,value:{}}).value??{};return Object.values(n).reduce((r,i)=>r+i.length,0)}async function Nd(e,t,{accountId:n,mutations:r}){let a=(await Vn(e)??{version:2,value:{}}).value??{},c=new Map((a[n]??[]).map(l=>[l.id,l]));for(let{id:l,visibility:p}of r)p===null?c.delete(l):(t.capture(p.includes("hidden")?"collectionHidden":"collectionUnhidden",{data:{id:l}}),c.set(l,{id:l,status:p}));return a[n]=Array.from(c.values()),Oa(e,{version:2,value:a})}o();s();o();s();o();s();var Ma=e=>{switch(e){case"TRUSTED":return 5;case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1;default:return G(e,new Error(`Invalid spam status: ${e}`))}};function ci({minimum:e,spamStatus:t}){let n=Ma(e);return Ma(t)>=n}function _a({visibilityStatus:e,spamStatus:t}){return e==="hidden:reported_spam"?"POSSIBLE_SPAM":e==="visible:reported_notSpam"?ci({minimum:"VERIFIED",spamStatus:t})?t:"NOT_VERIFIED":t}function kd(e,{key:t,spamStatus:n}){let r=e?.get(t);return Ra(r,{spamStatus:n})}function Ra(e,{spamStatus:t}){if(!e)return t;let{status:n}=e;return _a({visibilityStatus:n,spamStatus:t})}function Fd(e,{key:t,spamStatus:n}){let r=e?.get(t);return Ua(r,{spamStatus:n})}function Ua(e,{spamStatus:t}){if(!e)return t;let{status:n}=e;return _a({visibilityStatus:n,spamStatus:t})}function Id(e){return e==="POSSIBLE_SPAM"||e==="SPAM"}o();s();function La(e,{key:t,spamStatus:n}){let r=e?.get(t);return Va(r,{spamStatus:n})}function Va(e,{spamStatus:t}){if(!e&&(t==="POSSIBLE_SPAM"||t==="SPAM"))return!0;if(!e)return!1;let{status:n}=e;return n==="hidden"||n==="hidden:reported_spam"}function ui(e,{key:t,spamStatus:n}){return!La(e,{key:t,spamStatus:n})}function Dd(e,{key:t,spamStatus:n}){let r=e?.get(t);return li(r,{spamStatus:n})}function li(e,{spamStatus:t}){if(!e&&(t==="POSSIBLE_SPAM"||t==="SPAM"))return!0;if(!e)return!1;let{status:n}=e;return Od(n)}function Bd(e,{spamStatus:t}){return!li(e,{spamStatus:t})}function Od(e){return e==="hidden"||e==="hidden:reported_spam"}o();s();function Md(e){return e.map(t=>`${t.networkID}/${t.address}`).sort()}function Ha(e){return["tokens",Md(e)]}var re={swapperDiscovery(e){return["swapperDiscovery",e]},hiddenMints(e){return["hiddenMints",{accountId:e}]},splTokenMap:["splTokenMap"],tokenPrices(e){return["tokenPrices",{tokenIds:e}]},tokens(e){return Ha(e)},tokensErrorCount(e){return[...Ha(e),"tokensError"]},minimumRequiredBalance(e){return["minimumRequiredBalance",{chainAddress:e}]},solanaBalance(e){return["solanaBalance",{chainAddress:e}]},transferFungibleLoggingContext(e){return["transferFungibleLoggingContext",{fungibleKey:e}]},transferTransaction(e){return["transferTransaction",e]},unwrapTransaction({caip19:e,amount:t,owner:n}){return["unwrapTransaction",{caip19:e,amount:t,owner:n}]},fungibleDetail({caip19:e}){return["fungibleDetail",{caip19:e}]},fungiblePosition({caip19:e,walletAddress:t}){return["fungiblePosition",{caip19:e,walletAddress:t}]}};function Ga(e){let t=Ki();return v(_d(t,e??""))}function _d(e,t){return{gcTime:qe.Long,staleTime:1/0,enabled:!!t&&!!e,queryKey:re.hiddenMints(t??""),async queryFn(){return!t||!e?new Map:await ai(e,t)}}}o();s();o();s();o();s();var Ka=(c=>(c.NonFungible="NonFungible",c.SemiFungible="SemiFungible",c.Fungible="Fungible",c.NonFungibleEdition="NonFungibleEdition",c.ProgrammableNonFungible="ProgrammableNonFungible",c.ProgrammableNonFungibleEdition="ProgrammableNonFungibleEdition",c))(Ka||{}),qa=(c=>(c.ERC20="ERC20",c.ERC721="ERC721",c.ERC777="ERC777",c.ERC1155="ERC1155",c.ERC4626="ERC4626",c.unknown="unknown",c))(qa||{}),ja=u.object({code:u.string(),message:u.string(),details:u.object({chainId:Mi,address:u.string()})}),mi=u.object({averageCostBasis:u.string().optional(),amount:u.string()}),zt=class e extends Error{statusCode=400;constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="FungibleError"}getMessage(){return`Something went wrong: ${this.message}`}};o();s();var xe=w(H());o();s();var mc=w(H());o();s();o();s();o();s();o();s();o();s();o();s();var pe={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nonNativeFungibleTokenType:"ERC20"};var Qa={...pe,nativeFungibleTokenType:"ArbitrumNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};o();s();var za={...pe,nativeFungibleTokenType:"BaseNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};o();s();var $a={sendSuccessCondition:"SUBMISSION",formDisplayPrecision:6,minimumSendableCurrencyAmount:.5,nativeFungibleTokenType:"BitcoinNative",nonNativeFungibleTokenType:"BRC20",nativeTokenFungibleBalanceKey:function(e,t){if(t!==void 0)return`BitcoinNative-${t}`},alwaysShowNetworkBadge:!1};o();s();var Wa={...pe,nativeFungibleTokenType:"EthereumNative",nativeTokenFungibleBalanceKey(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var Xa={...pe,nativeFungibleTokenType:"HypercoreNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var Ya={...pe,nativeFungibleTokenType:"MonadNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!1};o();s();var Ja={...pe,nativeFungibleTokenType:"PolygonNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var Za={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nativeFungibleTokenType:"SolanaNative",nonNativeFungibleTokenType:"SPL",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var ec={nativeFungibleTokenType:"SuiNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!0,sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:9,minimumSendableCurrencyAmount:0,nonNativeFungibleTokenType:"SuiCoin"};var Rd=new rn({solana:Za,ethereum:Wa,polygon:Ja,base:za,arbitrum:Qa,bitcoin:$a,monad:Ya,sui:ec,hypercore:Xa}),et=nn(Rd);function pi(e){return e.resourceType==="nativeToken"?et.get(e.chainId).nativeFungibleTokenType:et.get(e.chainId).nonNativeFungibleTokenType}o();s();function tt(e){if(J(e.type))return e.type==="BitcoinNative"?`${e.type}-${ue(e.data.chain.id,e.data.walletAddress)}`:e.type;switch(e.type){case"SPL":case"CompressedSPL":return e.data.mintAddress??"";case"ERC20":case"SuiCoin":return e.data.contractAddress;case"BRC20":{let t=ue(e.data.chain.id,e.data.walletAddress);return`${e.data.firstCreatedInscriptionId}-${t}`}}}function Ud(e,t){let n=pi(e);if(J(n))return n==="BitcoinNative"&&t!==void 0?[`${n}-${ue(e.chainId,t)}`]:[n];if(n==="SPL"&&e.resourceType==="address")return[e.address];if(n==="ERC20"&&e.resourceType==="address")return[e.address];if(n==="BRC20"&&e.resourceType==="address")return Oi.map(r=>`${e.address}-${r}`);if(n==="SuiCoin"&&e.resourceType==="address")return[e.address]}o();s();o();s();o();s();o();s();o();s();var di=e=>e/100;o();s();var fi=e=>e.extension==="transferFeeConfig",yi=e=>e.extension==="interestBearingConfig",tc=e=>e.extension==="permanentDelegate";function Ld(e){return e.extension==="nonTransferable"}function nc(e){return h.isSolanaNetworkID(e.data.chain.id)}function rc(e){return h.isEVMNetworkID(e.data.chain.id)}function ic(e){return h.isSuiNetworkID(e.data.chain.id)}function oc(e){return h.isBitcoinNetworkID(e.data.chain.id)}var Kn=e=>"data"in e&&e.data&&"mintExtensions"in e.data?e.data.mintExtensions||[]:"chainData"in e&&e.chainData&&"mintExtensions"in e.chainData?e.chainData.mintExtensions||[]:[];function Vd(e){if(!e)return;let n=Kn(e)?.find(fi)?.state.newerTransferFee.transferFeeBasisPoints;return n?di(n):void 0}function gi(e){return e?Kn(e)?.find(yi):void 0}function Hd(e){return e?!!Kn(e).find(r=>r.extension==="nonTransferable"):!1}function hi(e){return e?Kn(e).reduce((r,i)=>i.extension==="transferHook"?i.state.programId:r,void 0):void 0}var sc=new N("31556736"),ac=new N("10000"),Gd=17,cc=e=>new N(Math.exp(e.toNumber())),bi=class{initializationTimestamp;preUpdateAverageRate;lastUpdateTimestamp;currentRate;constructor(t){this.initializationTimestamp=new N(t.initializationTimestamp),this.preUpdateAverageRate=new N(t.preUpdateAverageRate),this.lastUpdateTimestamp=new N(t.lastUpdateTimestamp),this.currentRate=new N(t.currentRate)}preUpdateTimespan(){return this.lastUpdateTimestamp.minus(this.initializationTimestamp)}preUpdateExp(){let n=new N(this.preUpdateAverageRate).times(this.preUpdateTimespan()).div(sc).div(ac);return cc(n)}postUpdateTimespan(t){return t.minus(this.lastUpdateTimestamp)}postUpdateExp(t){let r=new N(this.currentRate).times(this.postUpdateTimespan(t)).div(sc).div(ac);return cc(r)}totalScale(t,n){return this.preUpdateExp()?.times(this.postUpdateExp(n)).div(Xe(t))}amountToUiAmount(t,n,r){return new N(t).times(this.totalScale(n,new N(r))).precision(Gd).decimalPlaces(n).toString()}},uc=e=>{if(e.type!=="SPL")return e;let t=gi(e)?.state;if(!t)return e;let{amount:n,mintExtensions:r}=e.data,i=new bi(t),a=Date.now()/1e3,c=i.amountToUiAmount(n,0,a),l=r?r?.map(p=>p.extension==="interestBearingConfig"?{...p,meta:{amountPrincipal:n}}:p):void 0;return{...e,data:{...e.data,amount:c,mintExtensions:l}}},Ti=(e,t)=>{let n=gi(e);if(!n||!n.meta)return t;let r=new N(e.data.amount),i=new N(n.meta.amountPrincipal);return new N(t).times(i).div(r).decimalPlaces(0)};var eB=new zt("Failed to get fungible tokens for addresses");async function Si(e){let{addresses:t,analytics:n}=e;try{let r=await W.api().headers({"Content-Type":"application/json"}).timeout(T({seconds:20})).post("/tokens/v1",{addresses:t},{params:{isSolCompressedTokensEnabled:"true"}});if(r.status!==200)throw new Yn({key:"TokensNotLoading"});let i=await r.data,a=[],c=[],l=!1;for(let p of i.tokens){let d=Gt.safeParse(p);if(d.success){let f=uc(d.data);a.push(f)}else l=!0}return i.errors.forEach(p=>{let d=ja.safeParse(p);d.success&&c.push(d.data)}),c.length===0&&i.isTrimmed&&c.push({code:"TokensTrimmed",message:"",details:{chainId:"solana:101",address:"unknown"}}),c.length&&n.capture("getBalanceRequestError",{data:{chains:c.map(p=>p.details.chainId)}}),l&&M.captureError(new Error("fungibles failed to parse some items"),"fungibles"),{tokens:a,errors:c,isTrimmed:i.isTrimmed}}catch{throw new Yn({key:"TokensNotLoading"})}}function lc({select:e,chainAddresses:t=[],queryOptions:n={staleTime:yt.Short,refetchInterval:Xr.Long}}){let r=re.tokens(t),i=re.tokensErrorCount(t),a=Se(),c=X();return v({queryKey:r,enabled:t.length>0&&t.every(l=>!h.isLocalNetworkID(l.networkID)),gcTime:qe.Medium,staleTime:n.staleTime,refetchInterval:n.refetchInterval,refetchOnReconnect:!0,networkMode:"always",retry:!1,select:e,async queryFn({queryKey:l}){try{let p=t.map(_o),d=await Si({addresses:p,analytics:a});if(d.errors.length>0&&!d.isTrimmed){let f=c.getQueryData(l);if(f)for(let y of d.errors){let g=f.tokens.filter(b=>b.data.chain.id===y.details.chainId);d.tokens.push(...g)}}return c.removeQueries({queryKey:i}),d}catch(p){let d=c.getQueryData(i)??0;throw c.setQueryData(i,d+1),p}}})}function vi({chainAddresses:e,keys:t,queryOptions:n}){let r=(0,mc.useCallback)(({tokens:i})=>!t||!t.length?i:i.filter(a=>t.includes(tt(a))),[t]);return lc({select:r,chainAddresses:e,queryOptions:n})}o();s();function pc(e){let t,n;for(let{data:r}of e){let{usd:i,usd_24h_change:a}=r;i!==void 0&&(t=t!==void 0?t+i:i),a!==void 0&&(n=n!==void 0?n+a:a)}return{value:t,earnings:n}}o();s();function dc(e,t){return e.getQueriesData({predicate:r=>r.queryKey[0]==="transferFungibleLoggingContext"}).map(([,r])=>r).filter(r=>{if(!r)return!1;let{previousBalance:i,fungibleKey:a}=r,c=t.get(a);return c?!c.data.balance.isEqualTo(i):!1})}o();s();o();s();var fc=["solana","eip155","sui","bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],yc=or(ue);function qd(e,t){let n=yc(e.data.chain.id,e.data.walletAddress),r=yc(t.data.chain.id,t.data.walletAddress),i=fc.indexOf(n)-fc.indexOf(r);return i===0?0:i<0?-1:1}var hc=or(qd);o();s();function Ei(e,t){return t.data.balance.comparedTo(e.data.balance)}o();s();var bc="\uFFFF";function Tc(e,t){let n=e.data.name?.toUpperCase()??bc,r=t.data.name?.toUpperCase()??bc;return n.localeCompare(r)}o();s();function Sc(e,t){let n=e.data.usd??Number.NEGATIVE_INFINITY,r=t.data.usd??Number.NEGATIVE_INFINITY;return n>r?-1:n<r?1:0}o();s();function vc(e,t){let n=e.data.spamStatus,r=t.data.spamStatus,i=l=>{switch(l){case"TRUSTED":return 5;case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1}},a=i(n),c=i(r);return a>c?-1:a<c?1:0}o();s();var Ec="\uFFFF";function Cc(e,t){let n=e.data.symbol?.toUpperCase()??Ec,r=t.data.symbol?.toUpperCase()??Ec;return n.localeCompare(r)}o();s();function Ac(e,t){let n=J(e.type),r=J(t.type);return n!==r?n?-1:1:h.compareNetworkID(e.data.chain.id,t.data.chain.id)}var Ci=(e,t)=>{let n=Sc(e,t);if(n)return n;let r=vc(e,t);if(r)return r;let i=Ei(e,t);if(i)return i;let a=Ac(e,t);if(a)return a;let c=hc(e,t);if(c)return c;let l=Tc(e,t);return l||Cc(e,t)};o();s();var Re=e=>{let t=e.data.chain.id;if(J(e.type))return{chainId:t,slip44:h.getSlip44(t),resourceType:"nativeToken"};{let n;switch(e.type){case"SPL":case"CompressedSPL":n=e.data.mintAddress;break;case"ERC20":case"SuiCoin":n=e.data.contractAddress;break;case"BRC20":n=e.data.firstCreatedInscriptionId;break;case"HypercoreAsset":n=e.data.contractAddress;break}return{chainId:t,address:n,resourceType:"address"}}};o();s();var xc=(e,t)=>{let n=re.transferFungibleLoggingContext(e);t.removeQueries({queryKey:n})};o();s();o();s();N.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});var Ai=(e,t)=>new N(e).div(Xe(t));function Pc({tokens:e,priceMap:t}){let n=[];for(let r of e){let{amount:i,decimals:a}=r.data,c=Re(r),l=Q(c),p=tt(r),d=Ai(i,a),f={type:r.type,data:{...r.data,balance:d,key:p}},y,g=mr({priceId:l,balance:d,priceMap:t});if(r.type==="SPL"||r.type==="CompressedSPL"){let{mintAddress:b}=r.data;y=b}else if(r.type==="ERC20"||r.type==="SuiCoin"){let{contractAddress:b}=r.data;y=b}else if(r.type==="BRC20"){let{firstCreatedInscriptionId:b}=r.data;y=b}f.data.tokenAddress=y,f.data.usd=g.usd,f.data.price=g.price,f.data.usd_24h_change=g.usd_24h_change,f.data.priceChange24h=g.priceChange24h,f.data.currencyChange=g.currencyChange,f.data.currencyValue=g.currencyValue,n.push(f)}return n}function wc({showHiddenMints:e=!1,keys:t,enablePrices:n=!0,enableSorting:r=!0,usePricesQueryOptions:i,useTokenQueryOptions:a}={}){let{data:c}=an(),{data:l=[],isPending:p,isRefetching:d,refetch:f,isError:y,error:g}=vi({chainAddresses:c?.addresses,keys:t,queryOptions:a}),{data:b,isPending:S,isRefetching:P}=Ga(c?.identifier),{query:C}=(0,xe.useMemo)(()=>({query:{data:l.map(Re)}}),[l]),{data:I,isPending:Z,isRefetching:de,refetch:Ue,isError:fe}=wr({query:C,enabled:n&&!p&&c?.identifier!=null,queryOptions:i}),{fungibles:Pe,fungibleMap:$t}=(0,xe.useMemo)(()=>{let ze=e?l:l.filter(we=>{let $e=tt(we),bt=(t||[]).includes($e),Tt=ui(b,{key:$e,spamStatus:we.data.spamStatus});return bt||Tt}),ye=Pc({tokens:ze,priceMap:I??{}});r&&(t===void 0?ye=ye.sort(Ci):ye=ye.sort((we,$e)=>{let bt=t.indexOf(we.data.key),Tt=t.indexOf($e.data.key);return bt<Tt?-1:bt>Tt?1:0}));let Wt=new Map;for(let we of ye)Wt.set(we.data.key,we);return{fungibles:ye,fungibleMap:Wt}},[l,t,e,b,I,r]),zn=(0,xe.useMemo)(()=>!!b&&b.size>0&&l.length>0&&Pe.length===0,[l,b,Pe]),nt=X(),rt=(0,xe.useMemo)(()=>dc(nt,$t),[$t,nt]),ie=zr("send:fungible",ge.Solana.Mainnet);(0,xe.useEffect)(()=>{for(let ze of rt)ie(ze.transactionId,"appUpdated"),xc(ze.fungibleKey,nt)},[rt,ie,nt]);let Qe=(0,xe.useMemo)(()=>pc(Pe),[Pe]),it=(0,xe.useCallback)(async()=>{await Promise.all([f(),Ue()])},[f,Ue]);return{fungibles:Pe,portfolio:Qe,visibilityOverrides:b,isHidingAllFungibles:zn,isLoadingTokens:p,isLoadingVisibilityOverrides:S,isLoadingPrices:n?Z:!1,isRefetchingTokens:d,isRefetchingVisibilityOverrides:P,isRefetchingPrices:n?de:!1,isErrorTokens:y,tokensError:g,isErrorPrices:fe,refetch:it}}function Nc({key:e,splTokenAccount:t,...n}){let{fungibles:r,...i}=wc({...n,keys:e?[e]:[]}),a;return r.length===1?a=r[0]:r.length>1&&t?a=r.find(c=>c.type==="SPL"&&c.data.splTokenAccountPubkey===t):r.length>1&&(a=r.filter(c=>c.type==="SPL").reduce((c,l)=>!c||l.data.balance.gt(c.data.balance)?l:c,void 0)),{fungible:a,...i}}o();s();var rO=T({seconds:10});var kc={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.4},{name:"data.chain.name",weight:.1},{name:"data.tokenAddress",weight:.1}]},jd={...kc,shouldSort:!1};var Qd="https://help.phantom.com/hc/en-us/articles/22984230766483",zd="https://help.phantom.com/hc/en-us/articles/44063915243283-How-to-trade-tokenized-equities-in-Phantom",$d={maximumFractionDigits:2,minimumFractionDigits:2},Fc="pSo1f9nQXWgXibFtKf7NWYxb5enAM4qfP6UJSiXRQfL",Wd=`solana:101/address:${Fc}`,Xd="solana:101/nativeToken:501",Ic="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",Yd=`solana:101/address:${Ic}`,Dc="J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn",Jd=`solana:101/address:${Dc}`;o();s();var je=w(Fu());var Zd=T({days:30}),ef=je.struct([je.blob(32,"mint"),je.blob(32,"owner"),je.nu64("amount"),je.blob(93)]),tf=e=>{let t=re.minimumRequiredBalance(e);return v({enabled:!!e&&Xn(e),gcTime:1/0,staleTime:Zd,queryKey:t,async queryFn(){if(!e)throw new Error("No chain address provided");if(Xn(e))return Ie(e.networkID).getMinimumBalanceForRentExemption(ef.span);throw new Error(`Minimum required balance not implemented for ${e.networkID}`)}})};o();s();var Bc={Taproot:"bip122_p2tr",NativeSegwit:"bip122_p2wpkh"};function nf(e){return!e||!e.startsWith("BitcoinNative")?null:e.endsWith("bip122_p2tr")?Bc.Taproot:e.endsWith("bip122_p2wpkh")?Bc.NativeSegwit:null}o();s();var rf=(e,t)=>et.get(e).nativeTokenFungibleBalanceKey(e,t);o();s();var of=e=>sf[e],sf={"shortcut-chat":"MessageCircle","shortcut-default":"Link","shortcut-discord":"LogoDiscord","shortcut-gaming":"Joystick","shortcut-gaming-2":"PacMan","shortcut-generic-add":"Plus","shortcut-generic-link":"Link","shortcut-instagram":"Instagram","shortcut-leaderboard":"Crown","shortcut-mint":"Sparkle","shortcut-mint-2":"Leaf","shortcut-stake":"TrendingUp","shortcut-stake-2":"Star","shortcut-telegram":"LogoTelegram","shortcut-tip":"DollarSign","shortcut-twitter":"LogoXTwitter","shortcut-twitter-2":"LogoXTwitter","shortcut-view":"Eye","shortcut-vote":"ThumbsUp","shortcut-vote-2":"CheckSquare","shortcut-x":"LogoXTwitter",burnToken:"Burn",buy:"DollarSign",copyTokenAddress:"Copy",hide:"Eye",list:"Tag2",mintLST:"Droplet",more:"MoreHorizontal",pin:"PinRight",receive:"Qr",reportIssue:"Flag",reportAsNotSpam:"Flag",reportAsSpam:"Flag",saveToLibrary:"Download",send:"Send",setAsAvatar:"Smile",share:"Share",stake:"TrendingUp",stakeSol:"TrendingUp",swap:"Swap",trade:"Swap",unhide:"EyeOff",unpin:"PinRightOff",unstake:"MinusCircle",unwrapWrappedSol:"WalletOpen",viewOnExplorer:"ExternalLink",decompress:"PlusCircle",depositWithKamino:"Droplet"};o();s();o();s();o();s();o();s();o();s();var Qc=w(_i());o();s();var Oc=w(Ne()),Mc=w(Ne()),_c=w(_i());o();s();o();s();o();s();function ht(e){return e*111+546}function jn(e){return e*151+ht(e)}function Rc({sender:e,feerate:t,taprootScriptSpendPath:n,utxoState:{safeToSendUtxos:r}}){let i=jn(t),{scriptTree:a,inscribeP2tr:c}=n,l=c.output;if(!l)throw new Error("Commit output script is undefined");let p=c.address;if(!p)throw new Error("Reveal address is undefined");let d=[{address:p,script:l,value:i,tapInternalKey:c.internalPubkey,tapTree:{leaves:(0,_c.tapTreeToList)(a)}}],f=bn(ue(ge.Bitcoin.Mainnet,e),r,d,t),y=new Mc.Psbt({network:Oc.networks.bitcoin});if(f.type==="success"){let{inputs:g,outputs:b}=f;y.addInputs(g.map(S=>Tn(S,e,!0))),y.addOutputs(b)}return[y,y.data.inputs.map((g,b)=>({address:e,signingIndexes:[b]})),f.vb]}o();s();var Uc=w(Ne()),Lc=w(Ne());function Vc({sender:e,feerate:t,taprootScriptSpendPath:n}){return{metadata:"brc20_reveal",inputsToSign:[{address:e,signingIndexes:[0],isScriptSpend:!0}],psbtFn:r=>{let{inscribeP2tr:i,tapLeafScript:a}=n,c=i.output;if(!c)throw new Error("Commit output script is undefined");let l=new Lc.Psbt({network:Uc.networks.bitcoin}),p=jn(t),d={hash:r,index:0,value:p};l.addInput({hash:d.hash,index:d.index,witnessUtxo:{script:c,value:d.value},tapLeafScript:[a]});let f=ht(t);return l.addOutput({address:e,value:f}),l},additionalCost:{vb:new A(151),sats:new A(0)}}}o();s();var Hc=w(Ne()),Gc=w(Ne()),Kc=w(Su());function qc({sender:e,receiver:t,feerate:n}){return{metadata:"brc20_send",inputsToSign:[{address:e,signingIndexes:[0]}],psbtFn:r=>{let i=new Gc.Psbt({network:Hc.networks.bitcoin}),a=ht(n),c={hash:r,index:0,value:a};return i.addInput({hash:c.hash,index:c.index,witnessUtxo:{script:(0,Kc.toOutputScript)(e),value:c.value}}),i.addOutput({address:t,value:546}),i},additionalCost:{vb:new A(111),sats:new A(546)}}}o();s();var Qn=w(Ne());function jc(e,t,n){let r=Go(e,Ho(t,n)),i={output:r},a={output:r,redeemVersion:192},c=Qn.payments.p2tr({internalPubkey:e,scriptTree:i,network:Qn.networks.bitcoin,redeem:a}),l=c.witness;if(!l)throw new Error("Witness is undefined");let p={leafVersion:a.redeemVersion,script:a.output,controlBlock:l[l.length-1]};return{scriptTree:i,inscribeLockRedeem:a,inscribeP2tr:c,tapLeafScript:p}}var zc=({senderAddress:e,destination:t,tick:n,amount:r,scriptPublicKey:i,utxoState:a,feerate:c})=>{let l=(0,Qc.toXOnly)(Buffer.from(i)),p=jc(l,n,r.toNumber()),[d,f,y]=Rc({sender:e,feerate:c,taprootScriptSpendPath:p,utxoState:a}),g=Vc({sender:e,feerate:c,taprootScriptSpendPath:p}),b=qc({sender:e,receiver:t,feerate:c});return[d,[g,b],f,y]};o();s();var $c=w(Ne()),Wc=w(Ne()),Xc=({senderAddress:e,destination:t,amount:n,utxoState:{safeToSendUtxos:r},feerate:i})=>{let a=bn(ue(ge.Bitcoin.Mainnet,e),r,[{address:t,value:n.toNumber()}],i),c=new Wc.Psbt({network:$c.networks.bitcoin});if(a.type==="success"){let{inputs:l,outputs:p}=a;c.addInputs(l.map(d=>Tn(d,e,!0))),c.addOutputs(p)}return[c,c.data.inputs.map((l,p)=>({address:e,signingIndexes:[p]})),a.vb]};function Yc({data:e,type:t},{amountAsset:n,recipient:r,transactionSpeed:i},a){let c,l,p,d,{transactionSpeedsToUnitCost:f,utxoState:y,chainAddress:g}=a,b=e.chain.id,S=f[i??"standard"];if(!S?.btcPerKilobyte)throw new Error("Transaction unit cost is required");let P=Math.round(S?So(S.btcPerKilobyte).toNumber():ho);switch(t){case"BitcoinNative":[c,d,p]=Xc({senderAddress:e.walletAddress,destination:r,amount:n,utxoState:y,feerate:P});break;case"BRC20":{if(!g)throw new Error("Cannot find chain address to sign with.");let C=g.publicKey;if(!C)throw new Error(`Public key does not exist for address ${e.walletAddress}`);[c,l,d,p]=zc({senderAddress:e.walletAddress,destination:r,amount:n,scriptPublicKey:C,tick:e.name??"",utxoState:y,feerate:P});break}}return{networkID:b,psbt:c,psbtChain:l,inputsToSign:d,vb:p}}o();s();o();s();var cf=["function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function approve(address spender, uint amount) returns (bool)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],Jc=new Error("Error populating ERC20 transaction data."),Zc=async e=>{let{sender:t,networkID:n,destination:r,contractAddress:i,value:a,ethereumNetworkID:c}=e,l=wo(n,i,cf,t),p;try{let f=await l.populateTransaction.transfer(r,Sn(a),{from:t});if(f.data)p=f.data;else throw Jc}catch{throw Jc}return st.parse({type:"0x2",to:i,from:t,chainId:typeof c=="number"?c:h.getEVMNetworkIDValue(c),data:p})};o();s();var wi=e=>{let{nonce:t,sender:n,destination:r,value:i,ethereumNetworkID:a}=e;return st.parse({type:"0x2",nonce:t!==void 0?`0x${Number(t).toString(16)}`:void 0,from:n,to:r,chainId:typeof a=="number"?a:h.getEVMNetworkIDValue(a),value:`0x${i.toString(16)}`})};async function eu({type:e,data:t},{recipient:n,amountAsset:r}){let{chain:i}=t,a=i.id,c;if(J(e))c=wi({sender:t.walletAddress,destination:n,value:r,ethereumNetworkID:a});else if(e==="ERC20")c=await Zc({sender:t.walletAddress,networkID:a,destination:n,contractAddress:t.contractAddress,value:r,ethereumNetworkID:a});else return G(e);return{networkID:a,unsignedTransaction:c}}o();s();async function tu(e,{amountAsset:t,recipient:n,solana:r}){let{type:i,data:a}=e,c=a.chain.id,{references:l,memo:p}=r,d=r.references?.map(S=>S.toString())??[],{walletAddress:f}=a,y=Ie(c),g,b=2e5;switch(i){case"SolanaNative":{let S=new oe.PublicKey(f),P=new oe.PublicKey(n);(!d||!d.length)&&!p&&(b=500),g=cr({fromPubkey:S,toPubkey:P,lamports:BigInt(t.toFixed()),references:d?.map(C=>new oe.PublicKey(C))??[],memo:p??null});break}case"SPL":{g=await ar({connection:y,destination:n,senderAccount:a.splTokenAccountPubkey,mint:a.mintAddress,decimals:a.decimals,amount:Ti(e,t),programId:a.programId,references:d,memo:p,networkID:c,senderAddress:{networkID:c,addressType:"solana",address:a.walletAddress},transferHookProgramId:hi(e)});break}default:throw new Error("Unsupported solana transfer transaction")}if(!g)throw new Error("Unable to create transaction.");return g.feePayer=new oe.PublicKey(f),g=await hn(g,{connection:y,calculators:{budget:new Oo(b)}}),g.recentBlockhash=(await y.getLatestBlockhash("confirmed")).blockhash,{networkID:c,transaction:[g]}}o();s();var mf=BigInt("4000000"),nu=async({type:e,data:t},n)=>{let{walletAddress:r,chain:i}=t,a=i.id,{amountAsset:c,recipient:l}=n,p=h.getRpcProxyUrl(a);if(!p)throw new Error("Failed to get Sui RPC url");let d=new Fo({url:p}),f=new No;f.setSender(r),f.setGasBudget(mf);let y=()=>{let S=BigInt(c.toFixed()),P;switch(e){case"SuiNative":P={useGasCoin:!0};break;case"SuiCoin":P={type:t.contractAddress};break;default:G(e)}return ko({balance:S,...P})};f.transferObjects([y()],l);let g=await f.build({client:d});return{networkID:a,transaction:g}};async function ru(e,t,n){return nc(e)?tu(e,t):rc(e)?eu(e,t):ic(e)?nu(e,t):oc(e)?Yc(e,t,n):G(e)}var pf="fungible-transfer-tx",df=T({seconds:30});function ff(e){let t=e?.fungibleKey,{fungible:n}=Nc({key:t,splTokenAccount:e?.splTokenAccount}),r=Wr(e?.sendFormValues?.recipient,n?.data.chain.id)??"",i=e?.sendSessionId??"",{chain:a,walletAddress:c}=n?.data??{},{data:l}=Zi({address:c,networkID:a?.id}),{data:p}=$r(l),{data:d}=Oe({networkID:a?.id,enableFallback:!0}),f=yf(a?.id,d,p,l),y=f?.sendContextRequired?f.sendContext:void 0,g=e?.sendFormValues;return v({staleTime:df,enabled:!!n&&!!e&&!!f,queryKey:re.transferTransaction({fungibleKey:t,fungibleSendFormValues:g,sendSessionId:i,sendContext:y}),async queryFn(){if(!n||!g||!f)throw new Error("Missing required data to construct fungible transfer transaction");try{return await ru(n,{...g,recipient:r},y)}catch(b){if(Le(b)){let S=b.response?.status;Ut(b,S,pf)}}throw new Error("Failed to create transfer transaction")}})}function yf(e,t,n,r){if(e)return h.isBitcoinNetworkID(e)?!t||!n||!r?void 0:{sendContextRequired:!0,sendContext:{transactionSpeedsToUnitCost:t,utxoState:n,chainAddress:r}}:{sendContextRequired:!1}}o();s();o();s();async function iu(e){let t=ke(e.caip19);if(t.chainId!=="solana:101")throw new Error("Unsupported network for fungible position");let n=t.resourceType==="nativeToken"?"0x0":t.address,r=await W.api().timeout(T({seconds:10})).get(`/bdp/positions/${e.walletAddress}/${n}`);if(r.status!==200)throw new Error(`Failed to fetch fungible position: ${r.statusText}`);let i=await r.data;return mi.parse(i)}function gf(e){let t=We("enable-fungible-position"),n=e&&t;return v({gcTime:qe.Short,staleTime:yt.Long,queryKey:n?re.fungiblePosition(e):[],queryFn:n?async()=>{try{return await iu(e)}catch(r){if(Le(r)){let i=r.response?.status;Ut(r,i,"get-fungible-position")}throw r}}:qi})}o();s();o();s();function bf({fungible:e,accountId:t,analytics:n,setVisibilityOverrides:r}){if(!(!e||!t))return async()=>{n.capture("fungiblesReportAsSpam",{data:{caip19:"encodedCaip19"in e?e.encodedCaip19:Q(Re(e))}}),await r({accountId:t,mutations:[{fungibleKey:"legacyKey"in e?e.legacyKey:e.data.key,visibility:"hidden:reported_spam"}]})}}o();s();var Tf=["receive","send","decompress","swap","trade","buy","stakeSol","mintLST","stake","unstake","viewOnExplorer","copyTokenAddress","unwrapWrappedSol","share","reportIssue"],tR=new Map(Tf.map((e,t)=>[e,t+1]));function Sf(e,t){let n=e.length>t?e.slice(t-1):[];return{more:n,primary:n.length>0?e.slice(0,t-1):e}}o();s();o();s();function ou(e,t,n,r,i,a,c,l){return{ownerAddress:e.address,networkID:t,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${n("transactionsPendingSending")} ${r} ${i}`},topRight:{text:`-${r} ${i}`},bottomLeft:{text:`${n("transactionsToParagraphInterpolated",{to:a})}`}},detail:{header:`${r} ${i}`,logoUri:c,uiRecipient:a,assetSymbol:i,tokenUSDPrice:l}}}}o();s();function su(e,t="standard",n,r,i,a,c,l,p){let d=Fe.get(e).transactionSpeedSeconds(t);return{ownerAddress:n.address,networkID:e,data:{nonce:"",hash:"",unsignedTransaction:st.parse({from:n.address}),estimatedTimeToMineInSeconds:d},type:"send",display:{summary:{topLeft:{text:`${r("transactionsPendingSending")}`},topRight:{text:`-${i} ${a}`},bottomLeft:{text:`${r("transactionsToParagraphInterpolated",{to:c})}`}},detail:{header:`${i} ${a}`,assetSymbol:a,logoUri:l,tokenUSDPrice:p,uiRecipient:c}}}}o();s();function au(e,t,n,r,i,a,c){return{ownerAddress:e.address,networkID:t,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${n("transactionsPendingSending")} ${r} ${i}`},topRight:{text:`-${r} ${i}`},bottomLeft:{text:`${n("transactionsToParagraphInterpolated",{to:a})}`}},detail:{logoUri:c}}}}o();s();function cu(e,t,n,r,i,a){return{ownerAddress:e.address,networkID:t,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${_.t("transactionsPendingSending")} ${n} ${r}`},topRight:{text:`-${n} ${r}`},bottomLeft:{text:`${_.t("transactionsToParagraphInterpolated",{to:i})}`}},detail:{logoUri:a}}}}var vf=(e,t,n,r,i,a,c,l,p)=>{if(h.isEVMNetworkID(e))return su(e,t,n,p,c,r,a,i,l);if(h.isSolanaNetworkID(e))return au(n,e,p,c,r,a,i);if(h.isBitcoinNetworkID(e))return ou(n,e,p,c,r,a,i,l);if(h.isSuiNetworkID(e))return cu(n,e,c,r,a,i);throw new Error(`Unable to create pending transaction input for chain id ${e}}`)};o();s();var Ef=e=>({chainId:e.data.chain.id,resourceType:"address",address:e.data.walletAddress});o();s();var ki=e=>{let t=h.getAllChainIDs().reduce((n,r)=>(n[`${r}WalletBalance`]=!1,n),{});for(let n of e){let{balance:r,chain:i}=n.data,a=r.isGreaterThan(0),l=`${h.getChainName(i.id).toLowerCase()}WalletBalance`;if(!t[l]&&(t[l]=a,Object.values(t).every(p=>p)))break}return t};o();s();o();s();function uu(e,t){return e instanceof Error?uu(e.message,t):typeof e=="string"&&t==="solana"?Af(e):"UnknownError"}function Af(e){let[t]=e.match(/0x\d+/)||[];return t&&typeof t=="string"&&t==="0x1"?"InsufficientFunds":"UnknownError"}o();s();function xf(e){if(J(e.type))return e.data.walletAddress;switch(e.type){case"ERC20":case"BRC20":case"CompressedSPL":case"SuiCoin":return e.data.walletAddress;case"SPL":return e.data.splTokenAccountPubkey}}o();s();function Pf(e){if(!e||e.type==="BRC20"||e.type==="BitcoinNative")return null;let t=Re(e);return t.resourceType==="address"?t.address:null}o();s();var mu=w(rr()),lu=1e-5,wf="0,0.[00]a",Nf=1e5,kf=(e,t=5)=>{let n=new A(e);if(n.abs().isGreaterThan(0)&&n.abs().isLessThan(lu))return`< ${n.isLessThan(0)?"-":""}${lu}`;let r=(0,mu.default)(n.toNumber());return n.isGreaterThanOrEqualTo(Nf)?r.format(wf):r.format(`0,0.[${"0".repeat(t)}]`)};o();s();var pu=[h.solana,h.ethereum,h.polygon,h.bitcoin,h.base,h.sui],Ff=({chainName:e,address:t})=>{let n=pu.find(i=>i.id===e);if(!n)throw new Error(`Chain ${e} not supported`);let r=n.mainnetID;return typeof t!="string"?Q({chainId:r,resourceType:"nativeToken",slip44:n.slip44}):Q({chainId:r,address:t,resourceType:"address"})},If=()=>(Math.random()*Date.now()).toString(36).replace(".",""),Df=({caip19:e,isAnalyticsOptedOut:t,isRelative:n})=>{let r=e.resourceType==="address"?e.address:void 0;return du({chainId:e.chainId,address:r,isAnalyticsOptedOut:t,isRelative:n})},du=({chainId:e,address:t,isAnalyticsOptedOut:n,isRelative:r=!1})=>{let i=pu.find(d=>d.mainnetID===e);if(!i)return null;let c=`${r?"":"https://phantom.com"}/tokens/${i.id}`,l=t?`${c}/${t}`:c,p=n?"":`?referralId=${If()}`;return`${l}${p}`},Bf={getCaip19FromUrlPath:Ff,getUrlFromFungible:Df,getUrlForFungibleComponents:du};o();s();o();s();var fu={website:"website",twitter:"x",x:"x",telegram:"telegram",discord:"discord"},Of=Object.keys(fu);function Mf(e){return{address:e.decodedCaip19.resourceType==="address"?e.decodedCaip19.address:void 0,chain:Vi(e.decodedCaip19.chainId),decimals:e.decimals,logoUri:e.logoUri??null,logoURI:e.logoUri??null,name:e.name||_.t("assetVisibilityUnknownToken"),symbol:e.symbol??"Unknown",spamStatus:e.spamStatus,createdDate:e.extraMetadata?.createdDate??null,marketCap:e.extraMetadata?.marketCap,description:e.extraMetadata?.description,volume24hUSD:e.extraMetadata?.volume24hUSD,volume24hUSDChangePercentage:e.extraMetadata?.volume24hUSDChangePercentage,totalSupply:e.extraMetadata?.totalSupply,uniqueWallets24h:e.extraMetadata?.uniqueWallets24h,uniqueWallets24hChangePercentage:e.extraMetadata?.uniqueWallets24hChangePercentage,links:e.extraMetadata?.links?.filter(t=>Of.includes(t.type)).map(t=>({type:fu[t.type],url:t.url})),circulatingSupply:e.extraMetadata?.circulatingSupply,holders:e.extraMetadata?.holders,top10HoldersPercent:e.extraMetadata?.top10HoldersPercent,mintable:e.extraMetadata?.mintable,freezable:e.extraMetadata?.freezable,mutableMetadata:e.extraMetadata?.mutableMetadata,updateAuthority:e.extraMetadata?.updateAuthority,categories:e.categories,mintExtensions:e.extraMetadata?.extensions}}o();s();var _f=e=>e?.data?.symbol==="Cash"&&!!e?.data?.walletAddress;o();s();var Fi=class{#e;constructor(t){this.#e=t}walletBalance=(t,n,r)=>{let i=ki(r),a={accountId:t,selectedNetworks:n,...i};this.#e.capture("walletBalance",{data:a})};ctaBarTrackPrimaryButtonsClick=({uiContext:t,position:n,type:r,maxButtons:i,primaryActions:a,moreActions:c,shortcutActions:l,typeSpecificMetadata:p})=>{let d=[...c,...l||[]],f=[...a,...d].findIndex(b=>b.type===r),y=a.length+d.length,g={type:r,typeSpecificMetadata:p,overallIndex:f,position:n,primaryButtons:a.map(({type:b})=>({type:b})),moreButtons:d.map(({type:b})=>({type:b})),uiContext:t,maxButtons:i,totalButtons:y};this.#e.capture("ctaBarClickByUser",{data:{ctaBar:g}})};ctaBarTrackMoreButtonClick=({uiContext:t,maxButtons:n,totalButtons:r})=>{let i={uiContext:t,maxButtons:n,totalButtons:r};this.#e.capture("ctaBarMoreClickByUser",{data:{ctaBar:i}})};onPublicFungiblePageOpen=({uiContext:t,caip19:n,address:r,symbol:i,hasBalance:a})=>{let c={uiContext:t,caip19:n,address:r,symbol:i,hasBalance:a};this.#e.capture("onPublicFungiblePageOpen",{data:c})}};o();s();export{qe as a,J as b,Cp as c,Ap as d,wp as e,Np as f,wa as g,Na as h,kp as i,Fp as j,Ip as k,Ou as l,Mu as m,xt as n,ka as o,Ln as p,Yr as q,Vt as r,ti as s,Ka as t,qa as u,zt as v,re as w,bs as x,jt as y,Td as z,ai as A,Cd as B,Pd as C,wd as D,Nd as E,ci as F,kd as G,Ra as H,Fd as I,Ua as J,Id as K,La as L,ui as M,Dd as N,li as O,Bd as P,Oe as Q,Jm as R,br as S,Tr as T,ds as U,wr as V,Er as W,Cr as X,Je as Y,Cl as Z,xl as _,Pn as $,Cs as aa,Kl as ba,Ql as ca,ep as da,zr as ea,Me as fa,zl as ga,kt as ha,Ms as ia,$l as ja,tp as ka,Wl as la,Ft as ma,ba as na,rp as oa,op as pa,Rn as qa,$r as ra,pp as sa,Gr as ta,pa as ua,Wr as va,dp as wa,fp as xa,Qm as ya,hp as za,Tp as Aa,vp as Ba,Xm as Ca,Ep as Da,et as Ea,pi as Fa,tt as Ga,Ud as Ha,di as Ia,fi as Ja,tc as Ka,Ld as La,Vd as Ma,Hd as Na,hi as Oa,Ti as Pa,lc as Qa,vi as Ra,Ga as Sa,Re as Ta,Ai as Ua,wc as Va,Nc as Wa,wi as Xa,ff as Ya,tR as Za,Sf as _a,Pf as $a,Mf as ab,jd as bb,Qd as cb,zd as db,$d as eb,Fc as fb,Wd as gb,Xd as hb,Jd as ib,tf as jb,gf as kb,nf as lb,bf as mb,vf as nb,Ef as ob,rf as pb,uu as qb,xf as rb,kf as sb,Bf as tb,_f as ub,Fi as vb,of as wb};
//# sourceMappingURL=chunk-QSYOXIBV.js.map
