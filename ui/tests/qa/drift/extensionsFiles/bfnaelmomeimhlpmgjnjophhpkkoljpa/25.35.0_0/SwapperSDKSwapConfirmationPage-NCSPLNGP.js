import{ya as M}from"./chunk-XZRRLELF.js";import"./chunk-HTEWVCFR.js";import"./chunk-5F2VOKO3.js";import"./chunk-VTQFUHCP.js";import"./chunk-MOTGUR2H.js";import"./chunk-J26VE65N.js";import"./chunk-KKMQB65C.js";import"./chunk-7JKUY6KU.js";import"./chunk-YY4B3XV7.js";import"./chunk-L2LS7YZE.js";import"./chunk-GROXNBTY.js";import"./chunk-OZFKX4E3.js";import"./chunk-57E56ETC.js";import"./chunk-HO6FHTKM.js";import"./chunk-H6IC2DCX.js";import"./chunk-WF3NVBQY.js";import"./chunk-TALMQQTZ.js";import"./chunk-WSJ272XI.js";import"./chunk-S32BDL22.js";import"./chunk-GQ5HEJWI.js";import"./chunk-KGWRBMZX.js";import"./chunk-BSK64RRL.js";import"./chunk-BUTFRTU6.js";import"./chunk-HX3WMS5S.js";import{hb as P,ib as L,ka as $,ta as I}from"./chunk-ZYPI3ESJ.js";import"./chunk-6EZHAYJL.js";import"./chunk-BRQKCECY.js";import"./chunk-YOO3KN23.js";import"./chunk-YITPJN7X.js";import"./chunk-CQIC5IDD.js";import"./chunk-BHIJKWN7.js";import"./chunk-6N4GZCP2.js";import"./chunk-5OF7XKWY.js";import"./chunk-5AA7BGLC.js";import"./chunk-QSYOXIBV.js";import"./chunk-O7KQ5SYD.js";import"./chunk-V76BEUYF.js";import"./chunk-3U4MKOCV.js";import"./chunk-63PE5ZXT.js";import"./chunk-ZTFOFBVC.js";import{c as H}from"./chunk-FVUSQHVT.js";import"./chunk-HUS6FTFG.js";import"./chunk-NCSBB2TA.js";import"./chunk-4BKJE7YB.js";import"./chunk-KY4L2TTE.js";import"./chunk-W47K3OCY.js";import"./chunk-25TPEQ2Q.js";import"./chunk-E7B2SEGG.js";import"./chunk-XD32MQ4W.js";import"./chunk-LHPEWMJX.js";import{aa as R}from"./chunk-HTY647YJ.js";import{gf as v,xb as g}from"./chunk-E2A6YDRV.js";import"./chunk-4XTMHWN2.js";import{Ca as F,X as h,Xb as A,c as X,rb as V}from"./chunk-BEUYJGED.js";import"./chunk-3C334UTS.js";import"./chunk-3JLWNHUO.js";import"./chunk-KHOMEOLW.js";import{f as O,h as N,n as D}from"./chunk-64CIGK2X.js";N();D();var t=O(X());var Y=o=>self.open(o,"_blank"),Z=()=>{let{handleHideModalVisibility:o}=M(),e=H(),{data:p}=v(),l=p?.type==="ledger",u="swapSDKConfirmation",r=(0,t.useCallback)(()=>{o(u)},[o,u]),i=(0,t.useCallback)(()=>{r(),e("/notifications")},[r,e]);return L({isLedger:l,goToSwapTab:r,goToActivityTab:i})},ee=()=>{let o=(0,t.useRef)(null),{t:e}=h(),p=$(),C=Z(),{data:l}=R(),u=e("swapTxConfirmationViewTransaction"),{isBridge:r,sellAsset:i,buyAsset:c,estimatedTime:K,isClosable:U,isSuccess:z,txErrorHelpButtonLink:Q,onClose:W,onSwapSuccess:_}=C,[d,j]=(0,t.useState)(void 0),[n,q]=(0,t.useState)(void 0),[b,G]=(0,t.useState)(!1),a,s,y,f,k=e("commandClose"),E,w=U||!1,S,B;if(r&&i){let m=`${i.amount} ${i.symbol}`,x=g.getNetworkName(i.networkID),T=`${c.amount} ${c.symbol}`,J=g.getNetworkName(c.networkID);a=e("swapTxBridgeSubmitting"),s=e("swapTxBridgeSubmittingDescription",{sellAmount:m,sellNetwork:x,buyAmount:T,buyNetwork:J})}else s=`${c.symbol||e("swapTxConfirmationTokens")} ${e("swapTxConfirmationTokensWillBeDeposited")} `,a=e("swapTxConfirmationSwappingTokens");return n?.type==="executeSwapStarted"&&o.current?.start(),n?.type==="transactionConfirmed"&&(r?(a=e("swapTxBridgeSubmitted"),s=e("swapTxBridgeSubmittedDescription",{estimatedTime:K}),y=e("swapTxBridgeSubmittedDisclaimer")):(a=e("swapTxConfirmationTokensDepositedTitle"),s=e("swapTxConfirmationTokensDepositedBody")),f={background:"spot"},w=!0,o.current?.success()),(n?.type==="simulationFailed"||n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(f={background:"element"},k=e("commandClose"),w=!0,E=t.default.createElement(F,{alignItems:"flex-end"},t.default.createElement(V,{icon:"HelpCircle",size:32,onClick:()=>Y(Q),backgroundColor:[null,"elementAccent"],color:["textDiminished","textBase"],label:e("commandHelp")}))),n?.type==="simulationFailed"&&(a=`${e("swapTxConfirmationSwapFailed")} ${i.symbol} \u2192 ${c.symbol}`,s=I(n.error),o.current?.fail()),(n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(a=e("swapTxConfirmationSwapFailed"),s=e("swapTxConfirmationSwapFailedUnknownError"),o.current?.fail()),(0,t.useEffect)(()=>{!S&&setTimeout(()=>{!b&&o.current?.start(),G(!0)},200)},[b,S]),(0,t.useEffect)(()=>{let m=p.subscribeExecution({onStateChange:(x,T)=>{j(T),q(x)}});return()=>m()},[p]),d?.type==="confirmingTransaction"&&(B=P({txReceipt:d?.txReceipt,networkID:d?.executingQuote.sell.data.chain.id,preferredExplorers:l})),t.default.createElement(A,{ref:o,title:a,txLink:B,txTitle:u,description:s,disclaimer:y,isClosable:w,buttonVariant:f,buttonText:k,onClose:z?_:W,header:E,customIcon:S})},Te=ee;export{ee as SwapperSDKSwapConfirmationPage,Te as default};
//# sourceMappingURL=SwapperSDKSwapConfirmationPage-NCSPLNGP.js.map
