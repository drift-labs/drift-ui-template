import{a as Zt}from"./chunk-3FRU43XR.js";import{d as jt,e as Kt}from"./chunk-7V6SSYCL.js";import"./chunk-GD6MXSPN.js";import{a as Te,b as Yt,c as Ie}from"./chunk-LKCENBJT.js";import{a as Xt}from"./chunk-PSHZSAJN.js";import{a as Ye}from"./chunk-D54DG5S6.js";import{H as $t,N as Ut,O as Me,U as _t,aa as qt,c as Qt,d as Se,ma as Gt,pa as Ht,u as ve,wa as Xe,ya as Z}from"./chunk-XZRRLELF.js";import"./chunk-HTEWVCFR.js";import"./chunk-5F2VOKO3.js";import"./chunk-VTQFUHCP.js";import{o as re,q as Qe,s as ke}from"./chunk-MOTGUR2H.js";import"./chunk-J26VE65N.js";import"./chunk-KKMQB65C.js";import"./chunk-7JKUY6KU.js";import"./chunk-YY4B3XV7.js";import"./chunk-L2LS7YZE.js";import"./chunk-GROXNBTY.js";import"./chunk-OZFKX4E3.js";import"./chunk-57E56ETC.js";import{h as J}from"./chunk-HO6FHTKM.js";import"./chunk-H6IC2DCX.js";import{a as He}from"./chunk-WF3NVBQY.js";import{g as Ge}from"./chunk-TALMQQTZ.js";import"./chunk-WSJ272XI.js";import{a as rt}from"./chunk-S32BDL22.js";import{a as Vt}from"./chunk-GQ5HEJWI.js";import"./chunk-KGWRBMZX.js";import"./chunk-BSK64RRL.js";import"./chunk-BUTFRTU6.js";import"./chunk-HX3WMS5S.js";import{Aa as yt,Ca as _e,Ia as ht,Ka as bt,Wb as It,Xb as At,Za as xt,Zb as qe,_a as Pt,_b as Dt,ab as Ft,bb as Ct,ca as Ee,dc as Bt,ec as Nt,gc as Lt,ha as gt,hc as Et,ka as ft,la as tt,mb as vt,sb as kt,ua as wt,va as St,vb as Tt}from"./chunk-ZYPI3ESJ.js";import"./chunk-6EZHAYJL.js";import"./chunk-BRQKCECY.js";import"./chunk-YOO3KN23.js";import{v as M}from"./chunk-YITPJN7X.js";import"./chunk-CQIC5IDD.js";import"./chunk-BHIJKWN7.js";import"./chunk-6N4GZCP2.js";import"./chunk-5OF7XKWY.js";import"./chunk-5AA7BGLC.js";import{Ta as we,ma as dt}from"./chunk-QSYOXIBV.js";import"./chunk-O7KQ5SYD.js";import"./chunk-V76BEUYF.js";import"./chunk-3U4MKOCV.js";import"./chunk-63PE5ZXT.js";import{c as Ot}from"./chunk-ZTFOFBVC.js";import{C as zt,db as ot,j as Mt,l as Wt,m as _}from"./chunk-FVUSQHVT.js";import"./chunk-HUS6FTFG.js";import"./chunk-NCSBB2TA.js";import"./chunk-4BKJE7YB.js";import"./chunk-KY4L2TTE.js";import"./chunk-W47K3OCY.js";import{c as ut}from"./chunk-25TPEQ2Q.js";import"./chunk-E7B2SEGG.js";import"./chunk-XD32MQ4W.js";import"./chunk-LHPEWMJX.js";import"./chunk-HTY647YJ.js";import{Db as le,Wf as $e,ea as lt,ec as et,jf as ct,uf as Ve,xb as Pe}from"./chunk-E2A6YDRV.js";import"./chunk-4XTMHWN2.js";import{Ba as ce,Ca as c,Da as C,Lb as Ce,S as m,X as S,c as x,cb as mt,gb as te,hb as oe,ib as Fe,qb as ue,rb as Ue,wa as A,ya as P}from"./chunk-BEUYJGED.js";import"./chunk-3C334UTS.js";import"./chunk-3JLWNHUO.js";import"./chunk-KHOMEOLW.js";import{f as b,h as p,n as l}from"./chunk-64CIGK2X.js";p();l();var T=b(x());p();l();var N=b(x());p();l();var me=b(x()),Uo=me.default.memo(({retryString:e,message:t,errorCode:o,onRetry:r})=>o==="InsufficientSellAmount"?me.default.createElement(c,{width:"100%"},me.default.createElement(Ce,{level:"1-critical-alert"},t)):me.default.createElement(c,{gap:10,width:"100%"},me.default.createElement(c,{width:"100%"},me.default.createElement(Ce,{level:"2-alert",actions:[{children:e,onPress:r}]},t)))),Jt=me.default.memo(({message:e,errorCode:t,onRetry:o})=>{let{t:r}=S(),n=r("swapQuestionRetry");return me.default.createElement(Uo,{retryString:n,message:e,errorCode:t,onRetry:o})});p();l();var ze=b(x());p();l();var Q=b(x());var Rt={disclaimerText:A({textAlign:"left"}),secondaryTooltipText:A({textAlign:"left",marginLeft:4,marginRight:4})},eo=({networkFee:e,tokenAccountFee:t,bridgeFee:o,phantomFeePercent:r,destinationNetworkFee:n,liquidityProviderFee:a})=>Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(We,{...e}),Q.default.createElement(We,{...o}),Q.default.createElement(We,{...t}),Q.default.createElement(We,{...n}),Q.default.createElement(We,{...a}),r?.value&&Q.default.createElement(C,{className:Rt.disclaimerText,font:"captionItalic",color:"textIncidental",children:r.label})),We=({label:e,maxValueUsd:t,valueUsd:o})=>{let{t:r}=S();return o?Q.default.createElement(Qe,null,Q.default.createElement(re,null,e,t&&Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(C,{children:` ${r("swapperMax")} \xB7 `,className:Rt.secondaryTooltipText,color:"textIncidental",font:"captionItalic"}),Q.default.createElement(Se,{color:"textIncidental",font:"captionItalic",minimumResolutionValue:1e-4,value:t}))),Q.default.createElement(re,null,Q.default.createElement(Se,{font:"caption",minimumResolutionValue:1e-4,value:o}))):null};p();l();var ye=b(x());var nt={row:A({display:"flex",flexDirection:"row",minWidth:0}),iconContainer:A({position:"relative",top:1,marginLeft:4})},to=({label:e,tooltipContent:t,isLoading:o,value:r,disabled:n,onClick:a,accessoryIcon:s})=>{let i=s?ye.default.createElement("span",null,s==="chevron-right"?ye.default.createElement(ce.ChevronRight,{className:nt.iconContainer,color:"textDiminished",size:16}):ye.default.createElement(ce.Swap,{className:nt.iconContainer,color:"textDiminished",size:16})):null;return ye.default.createElement(Te,{label:e,tooltipContent:t,isLoading:o,onClick:n?void 0:a},ye.default.createElement("div",{className:nt.row},ye.default.createElement(Ie,null,r),n?null:i))};p();l();var $=b(x());var oo=({label:e,value:t,tooltipContent:o,onClick:r})=>{let[n,a]=(0,$.useState)(t),[s,i]=(0,$.useState)(!1),g=(0,$.useRef)(!1);(0,$.useEffect)(()=>{if(t===n)return;if(g.current){g.current=!1,a(t);return}i(!0);let w=setTimeout(()=>{let F=setTimeout(()=>{i(!1),a(t)},150);return()=>clearTimeout(F)},150);return()=>clearTimeout(w)},[n,t]);let u=(0,$.useMemo)(()=>s?$.default.createElement(ke,{width:"75px",height:"15px",borderRadius:"50px",backgroundColor:P.colors.legacy.borderDiminished}):$.default.createElement(Ie,{onClick:()=>{r&&(g.current=!0,r())}},n),[s,r,n]);return $.default.createElement(c,{direction:"row",gap:16,backgroundColor:"elementBase",padding:16,alignItems:"center",justifyContent:"space-between"},$.default.createElement(Ye,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:400,info:o?$.default.createElement(Yt,{tooltipContent:o}):null,textColor:P.colors.legacy.textBase},e),u)};p();l();var ro=b(x()),no=e=>{switch(e.type){case"provider":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"providerPressable":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,accessoryIcon:"chevron-right",disabled:!e.selectProviderEnabled,onClick:e.showProviders,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"exchangeRate":return{type:"generic",label:m.t("swapFeesRate"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),isLoading:e.isFetchingQuote,value:e.exchangeRate.rate,onClick:e.exchangeRate.flip,accessoryIcon:"swap"};case"pricing":return{type:"generic",label:m.t("swapFeesPricing"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),value:e.exchangeRate.rate,isLoading:e.isFetchingQuote,accessoryIcon:"chevron-right",onClick:e.showSwapPricing};case"slippage":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"slippagePressable":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage}),onClick:e.showSwapSettings,accessoryIcon:"chevron-right"};case"priceImpact":return{type:"generic",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"network":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("nounNetwork"),value:`${e.sellNetwork} \u2794 ${e.buyNetwork}`};case"executionDuration":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapEstimatedTimeShort"),value:e.uiEstimatedTime,tooltipContent:m.t("swapEstimatedTimeDisclaimer")};case"fees":return{type:"generic",label:m.t("swapFeesFees"),isLoading:e.isFetchingQuote||e.fees.isFetchingFees,value:ro.default.createElement(Se,{font:"caption",value:e.fees.totalFees.amountUsd})};case"highPriceImpact":return{type:"warning",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesHighPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"highSlippage":return{type:"warning",isLoading:e.isFetchingQuote,value:e.slippage?.text,label:m.t("swapFeesHighSlippage"),tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"transferFees":return{type:"warning",isLoading:e.isFetchingQuote,value:`${e.transferFees.totalPercentFees}%`,label:m.t("swapTransferFee"),tooltipContent:e.transferFees.fees.length>1?m.t("swapTransferFeeDisclaimerMany",{feePercent:e.transferFees.totalPercentFees}):m.t("swapTransferFeeDisclaimer",{symbol:e.transferFees.fees[0].symbol,feePercent:e.transferFees.fees[0].percentFee})}}};p();l();var Ze=b(x());var io=({label:e,tooltipContent:t,isLoading:o,value:r})=>Ze.default.createElement(Te,{label:e,icon:Ze.default.createElement(zt,{width:"14",height:"14",fill:P.colors.legacy.areaBase}),tooltipContent:t,customBackground:P.colors.legacy.spotWarning,color:P.colors.legacy.areaBase,isLoading:o},Ze.default.createElement(Ie,{color:P.colors.legacy.areaBase},r));var ao=e=>{let t=no(e);switch(t?.type){case"generic":let o=t,r=e.type==="fees"?e.feeBreakdown&&ze.default.createElement(eo,{...e.feeBreakdown}):o.tooltipContent;return e.rowDisplayStrategy===0?ze.default.createElement(to,{tooltipContent:r,...t}):ze.default.createElement(oo,{tooltipContent:r,...t});case"warning":return ze.default.createElement(io,{...t});default:return null}};var Go=e=>{let{t}=S(),{handleShowModalVisibility:o}=Z(),r=(0,N.useCallback)(()=>{o("swapProviders",void 0,{event:"showSwapModal",payload:{data:{uiContext:"SwapProviders"}}})},[o]),n=(0,N.useCallback)(()=>{o("swapSettings")},[o]),a=(0,N.useCallback)(()=>{o("swapPricingLegacy")},[o]),s=At({isSwapReview:e,showProviders:r,showSwapSettings:n,showSwapPricing:a}),{exchangeRate:i,fees:g}=s,u=i.rate?i.isBestRate?P.colors.legacy.spotPositive:P.colors.legacy.textBase:"",w=Ft(g);return{...s,exchangeRateColor:u,feeBreakdown:w,isSwapReview:e,showSwapProvidersModal:r,t}},Ho=N.default.memo(({displayPhantomFeeRow:e,fees:t,isFetchingQuote:o,rows:r,t:n,sharedRowProps:a,rowDisplayStrategy:s})=>{let i=!!t.phantomFee.pct,g=(0,N.useMemo)(()=>{switch(s){case 1:return e&&i;case 0:return e&&i&&!o}},[o,e,i,s]),u=r.map((w,F)=>N.default.createElement(ao,{key:`r-${F}`,...a,type:w,rowDisplayStrategy:s}));return N.default.createElement(c,{gap:1,width:"100%"},N.default.createElement(c,{borderTopRadius:8,borderBottomRadius:8,gap:1,overflow:"hidden"},u),g?N.default.createElement(c,{borderBottomRadius:8,overflow:"hidden"},N.default.createElement(Te,{customBackground:P.colors.legacy.areaBase,fontWeight:400,lineHeight:18,label:n("swapQuoteFeeDisclaimer",{feePercentage:M(t.phantomFee.pct)}),tooltipContent:n("swapFeesPhantomFeeDisclaimer",{feePercentage:M(t.phantomFee.pct)}),color:P.colors.legacy.textDiminished})):null)}),Xo=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=Go(e);return N.default.createElement(Ho,{...o,rowDisplayStrategy:t})},so={direction:"row",marginY:10,width:"100%"},po=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=Ee(s=>s.hasNoRoutes),r=Ee(s=>s.error),{clearQuotes:n}=yt(),a=(0,N.useCallback)(()=>{n()},[n]);return r&&o?N.default.createElement(c,{...so},N.default.createElement(Jt,{message:r.message,errorCode:r.code,onRetry:a})):N.default.createElement(c,{...so},N.default.createElement(Xo,{isSwapReview:e,rowDisplayStrategy:t??0}))};p();l();var q=b(x());p();l();var D=b(x());p();l();var Yo=b(x());var ne=_.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Qn=_.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var Wn=_.div`
  color: ${P.colors.legacy.spotBase};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${P.colors.legacy.elementAccent};
  }
`;p();l();var U=b(x()),ie=({input:e,isLoading:t,onSelectorPress:o,perspective:r,selectorIcon:n,selectorLabel:a,spamStatus:s,accessories:i,footer:g})=>{let{t:u}=S(),w=u(r==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),F=(0,U.useMemo)(()=>{if(i)return U.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},i)},[i]);(0,U.useEffect)(()=>{r==="buy"?perfalyze.markFrame("buyTokenUpdated"):perfalyze.markFrame("sellTokenUpdated")},[a,r]);let v=U.default.createElement(c,{display:"flex",direction:"column",gap:0,backgroundColor:"elementBase",borderRadius:"table",padding:20},U.default.createElement(C,{font:"labelSemibold",color:"textIncidental",children:w}),U.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,U.default.createElement(c,{flex:1}),t?U.default.createElement(oe,{width:112,height:24}):U.default.createElement(c,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderBase"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${r}-token-button`},n,U.default.createElement(Qt,{spamStatus:s,children:a,font:"captionSemibold"}),U.default.createElement(ce.ChevronDown,{size:14}))),F);return Zo(v,g)},Zo=(e,t)=>t?U.default.createElement(c,{direction:"column",backgroundColor:"elementBase",borderRadius:"table"},e,t):e;p();l();var de=b(x()),lo=({warnings:e})=>{let{t}=S();if(e.length===0)return null;let o=e[0],r=s=>{switch(s.level){case"warn":return{backgroundColor:"spotWarning",textColor:"areaBase"};case"info":return{backgroundColor:"elementBase",textColor:"textBase"}}},{backgroundColor:n,textColor:a}=r(o);return de.default.createElement(de.default.Fragment,null,de.default.createElement(c,{width:"100%",height:1,backgroundColor:"areaBase"}),de.default.createElement(c,{gap:8,direction:"row",backgroundColor:n,padding:"screen",borderBottomRadius:"table"},de.default.createElement(c,{flexShrink:0},de.default.createElement(ce.AlertTriangle,{color:a,size:18})),de.default.createElement(C,{flexShrink:1,font:"caption",color:a,children:t(o.titleKey,o.options)})))};p();l();var Ae="_4ag7710",co=32,mo="_4ag7712 _4ag7711 _51gaznxf _51gazn13m _51gaznyw";p();l();var ge=b(x()),uo={secondaryContainer:A({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),pointer:A({cursor:"pointer"})},go=({isLoading:e,usdAmount:t,cryptoSubtitle:o,supportsCurrencyDenominationSwitching:r,switchCurrencyDenomination:n})=>{let a=Ee(i=>i.primaryCurrency),s=(0,ge.useMemo)(()=>e?ge.default.createElement(oe,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"}):a==="crypto"&&t!==void 0?ge.default.createElement(Se,{font:"caption",color:"textDiminished",value:t,intlNumberFormatOptions:{notation:"compact"}}):a==="fiat"&&o?ge.default.createElement(C,{font:"caption",color:"textDiminished",children:o}):null,[o,a,e,t]);return ge.default.createElement("div",{className:uo.secondaryContainer,onClick:n},s,r?ge.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderBase"},color:"textDiminished",className:uo.pointer}):null)};var it={filters:A({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),currencyPrefix:A({marginRight:2}),accessoryContainer:A({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:A({flex:1})},fo=({asset:e,perspective:t,onInputChange:o,onFungibleTap:r,onFilterTap:n,switchCurrencyDenomination:a,onBalanceTap:s})=>{let{amount:i,balance:g,fungible:u,isAmountEditable:w,isAmountLoading:F,isSecondaryCryptoSubtitleLoading:v,isWarning:d,secondaryCryptoSubtitle:y,amountPrefix:k,selectedFilter:f,filters:I,supportsCurrencyDenominationSwitching:X,usdAmount:K}=e,{t:pe}=S(),z=D.default.createElement(ve,{image:{type:"fungible",src:u.data?.logoUri,fallback:u.data?.symbol||u.data?.tokenAddress},size:32,tokenType:u.type,chainMeta:u.data?.chain}),ee=V=>V.length>16?16:V.length>14?18:V.length>12?20:22,Le=(0,D.useMemo)(()=>{let V=ee(i);return F?D.default.createElement(oe,{width:100,height:18,borderRadius:12}):D.default.createElement(ne,{hasWarning:d,fontSize:V},D.default.createElement(C,{font:"heading3",children:k,className:it.currencyPrefix}),D.default.createElement(J,{name:"amount",border:"0",placeholder:"0",warning:d,value:i,decimalLimit:u.data?.decimals,disabled:!w,onUserInput:o}))},[F,d,k,i,u.data?.decimals,w,o]),fe=(0,D.useMemo)(()=>D.default.createElement(go,{isLoading:v,usdAmount:K,cryptoSubtitle:y,supportsCurrencyDenominationSwitching:X,switchCurrencyDenomination:a}),[v,K,y,X,a]),xe=(0,D.useMemo)(()=>{let V=Y=>{switch(Y){case .25:return"25%";case .5:return"50%";case 1:return pe("swapAssetCardMaxButton")}};return I.map(Y=>D.default.createElement(ue,{key:Y,active:Y===f,children:V(Y),onChange:()=>n(Y),className:Ae}))},[I,pe,f,n]),Je=(0,D.useMemo)(()=>D.default.createElement(D.default.Fragment,null,fe,D.default.createElement("div",{className:it.spacer}),D.default.createElement(C,{font:"caption",color:{base:"textDiminished",hover:s?"textBase":void 0},children:g,onPress:s}),D.default.createElement("div",{className:it.filters},xe)),[g,xe,s,fe]),Re=(0,D.useMemo)(()=>{if(e.warnings.length!==0)return D.default.createElement(lo,{warnings:e.warnings})},[e.warnings]);return D.default.createElement(ie,{perspective:t,input:Le,selectorIcon:z,selectorLabel:u.data?.symbol??"",spamStatus:u.data?.spamStatus,onSelectorPress:r,accessories:Je,footer:Re})};p();l();var De=b(x());var wo=({onSelectorTap:e,perspective:t})=>{let{t:o}=S();return De.default.createElement(ie,{perspective:t,input:De.default.createElement(ne,{hasWarning:!1,fontSize:32},De.default.createElement(J,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:De.default.createElement(te,{icon:"Plus",size:28,shape:"circle",color:"textBase",backgroundColor:"areaAccent"}),selectorLabel:o("commandSelect"),spamStatus:null,onSelectorPress:e,accessories:De.default.createElement(C,{font:"caption",color:"textDiminished",children:"$0"})})};p();l();var L=b(x());var at={filters:A({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:A({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:A({marginRight:2}),accessoryContainer:A({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:A({flex:1})},jo=[.5,1],So=({perspective:e})=>{let{t}=S(),o=(0,L.useMemo)(()=>{let s=Number(P.typography.font.heading3.fontSize.replace("px",""));return L.default.createElement(ne,{fontSize:s},L.default.createElement(J,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),r=(0,L.useMemo)(()=>L.default.createElement(C,{font:"caption",color:"textDiminished",children:"$0"}),[]),n=(0,L.useMemo)(()=>{let s=i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return jo.map(i=>L.default.createElement(ue,{active:!1,children:s(i),onChange:()=>{},className:Ae}))},[t]),a=(0,L.useMemo)(()=>L.default.createElement(L.default.Fragment,null,L.default.createElement("div",{className:at.secondaryContainer},r,e==="sell"?L.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textDiminished"}):null),L.default.createElement("div",{className:at.spacer}),L.default.createElement(Fe,{font:"caption",width:64}),e==="sell"?L.default.createElement("div",{className:at.filters},n):null),[n,r,e]);return L.default.createElement(ie,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:a})};var yo={container:A({display:"flex",flexDirection:"column",flex:1}),assets:A({gap:12,display:"flex",flexDirection:"column"})},ho=({onSelectAsset:e,isLoadingInitialAssets:t})=>{let{buy:o,sell:r,switchPerspective:n,setAmount:a,switchCurrencyDenomination:s,setFilter:i}=Pt(),{t:g}=S(),u=(0,q.useCallback)(()=>{perfalyze.markFrame("switchButtonClick"),n()},[n]),w=(0,q.useCallback)(async(v,d)=>{await ut.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:v}}),i(v,d)},[i]),F=(0,q.useMemo)(()=>[{perspective:"sell",asset:r},{perspective:"buy",asset:o}].map(({asset:v,perspective:d})=>{if(!v)return q.default.createElement(wo,{key:d+"select",perspective:d,onSelectorTap:()=>e(d)});if(t)return q.default.createElement(So,{key:d+"loading",perspective:d});let y=v.filters.length>0?()=>i(1,d):void 0,k=q.default.createElement(fo,{key:d,asset:v,perspective:d,switchCurrencyDenomination:s,onFungibleTap:()=>e(d),onInputChange:f=>{a(d,f)},onFilterTap:f=>w(f,d),onBalanceTap:y});return d==="buy"?q.default.createElement(c,{position:"relative",key:d+"swap-button"},k,q.default.createElement("div",{className:mo,style:{pointerEvents:"none"}},q.default.createElement(Ue,{label:g("swapperSwitchTokens"),size:co,shape:"circle",onClick:u,backgroundColor:{base:"spotBase",hover:"spotAccent"},icon:"SwapVertical"}))):k}),[r,o,t,s,w,e,a,i,u,g]);return q.default.createElement("div",{className:yo.container},q.default.createElement("div",{className:yo.assets},F))};p();l();var O=b(x());var Ko=O.default.memo(({rankAlgo:e,limit:t})=>{let{t:o}=S(),r=ct(),n=Me(f=>f.sortBy),a=Me(f=>f.sortDirection),s=Me(f=>f.timeFrame),i=Me(f=>f.network),{data:g,error:u,isLoading:w,refetch:F}=Tt({sortBy:n,sortDirection:a,timeFrame:s,limit:t,rankAlgo:e,network:i}),{pushDetailView:v}=Ge(),d=(0,O.useCallback)(({item:f,index:I})=>{let X=le({chainId:f.chainId,address:f.address,resourceType:"address"});r.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:I,title:f.name||f.symbol,id:`${f.address}-${f.chainId}`}}}}),v(O.default.createElement(Xe,{caip19:X,title:f.name??void 0,entryPoint:"exploreInSwap"}))},[r,v]),y=!!u||g?.items.length===0,k=w||typeof g>"u";return O.default.createElement(c,{direction:"column",paddingTop:24,flex:1,width:"100%"},O.default.createElement(c,{paddingX:"screen",paddingBottom:10},O.default.createElement(C,{font:"title2",color:"textBase"},o("exploreTokens"))),O.default.createElement(Gt,{isError:y,isLoading:k,refetch:F,filters:O.default.createElement(jt,null),listHeader:O.default.createElement(_t,null),rows:(g?.items??[]).map((f,I)=>({...qt({item:f,sortBy:n,image:O.default.createElement(Kt,{index:I,displayRank:!0,image:O.default.createElement(ve,{image:{type:"fungible",src:f.logoUrl,fallback:f.symbol||f.name},size:48,badge:{type:"network",preset:Pe.getChainID(f.chainId)}})}),t:o}),onClick:()=>d({item:f,index:I})}))}))});function Jo(){let e=kt("tokens");return e?O.default.createElement(Ut,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault},O.default.createElement(Ko,{rankAlgo:e.rankAlgo,limit:10})):null}var je=O.default.memo(Jo);p();l();var Po=b(x());p();l();var bo=b(x());var Ro={autoSlippageOptIn:"autoSlippageOptIn"},xo=()=>{let{handleShowModalVisibility:e}=Z();return(0,bo.useCallback)(t=>{let o=Ro[t];if(!o)throw new Error(`Swap review interceptor modal not found or configured for ${t}.`);e(o)},[e])};var Fo=()=>{let{goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o}=Zt(),r=xo(),{disabled:n,title:a,type:s,onClick:i}=It({goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o,showOverlay:r,showFungibleDetails:()=>{},showBuyFungibleScreen:()=>{},navigateToSwapper:()=>{}});function g(u){return u==="primary"?"primary":u==="alert"?"warning":"default"}return Po.default.createElement(Ot,{type:"submit",theme:g(s),disabled:n,onClick:i,width:"90%"},a)};p();l();var he=b(x());p();l();var j=b(x());var er=_.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,tr=_.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,or=_.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${rt(P.colors.legacy.areaBase,.75)};
`,Co=_.div`
  background-color: ${rt(P.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,vo=_(ot).attrs({size:14,lineHeight:19,weight:500,color:P.colors.legacy.textBase,textAlign:"left"})``,Be=({message:e,swapDisabled:t=!0,children:o})=>t?j.default.createElement(j.default.Fragment,null,j.default.createElement(or,{"data-testid":"disable-overlay"},j.default.createElement(Co,null,j.default.createElement(vo,null,e))),j.default.createElement(tr,{"data-testid":"disable-wrapper"},o)):j.default.createElement(er,null,j.default.createElement(Co,null,j.default.createElement(vo,null,e)),j.default.createElement(j.default.Fragment,null,o));var rr=_.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,ko=he.default.memo(({children:e})=>{let t=Ve(),o=t.every(i=>Pe.isMainnetNetworkID(i)),n=_e().some(i=>t.includes(i)),{t:a}=S(),s=(0,he.useMemo)(()=>({availableOnlyOnMainnet:a("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:a("swapNotAvailableOnSelectedNetwork")}),[a]);return o?n?he.default.createElement(rr,null,e):he.default.createElement(Be,{message:s.notAvailableOnSelectedNetwork,swapDisabled:!0},e):he.default.createElement(Be,{message:s.availableOnlyOnMainnet,swapDisabled:!0},e)});p();l();var R=b(x());p();l();var To="f8uvp90";var Io="f8uvp92 f8uvp91 _51gaznxf _51gazn13m _51gaznyw",Ao="f8uvp93";p();l();var G=b(x());p();l();var B=b(x());p();l();var ae=b(x()),Do=({warnings:e})=>{let{t}=S(),o=e[0],{backgroundColor:r,textColor:n}=(0,ae.useMemo)(()=>{if(!o)return{backgroundColor:"elementBase",textColor:"textBase"};switch(o.level){case"warn":return{backgroundColor:"spotWarning",textColor:"areaBase"};case"info":return{backgroundColor:"elementBase",textColor:"textBase"}}},[o]);return e.length===0?null:ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(c,{width:"100%",height:1,backgroundColor:"areaBase"}),ae.default.createElement(c,{gap:8,direction:"row",backgroundColor:r,padding:"screen",borderBottomRadius:"table"},ae.default.createElement(c,{flexShrink:0},ae.default.createElement(ce.AlertTriangle,{color:n,size:18})),ae.default.createElement(C,{flexShrink:1,font:"caption",color:n,children:t(o.titleKey,o.options)})))};p();l();var Oe=b(x()),Bo=({isLoading:e,secondaryAmount:t,supportsCurrencyDenominationSwitching:o,switchCurrencyDenomination:r})=>{if(e)return Oe.default.createElement(oe,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"});let n=t?Oe.default.createElement(C,{font:"caption",color:"textDiminished",children:t}):null;return o?Oe.default.createElement(c,{direction:"row",alignItems:"center",gap:6,cursor:"pointer",onPress:r},n,Oe.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderBase"},color:"textDiminished"})):n};var No=({asset:e,perspective:t,currentPercentage:o,onPercentageTap:r,onInputChange:n,onFungibleTap:a,switchCurrencyDenomination:s,onBalanceTap:i})=>{let{amount:g,balance:u,fungible:w,isAmountEditable:F,isAmountLoading:v,isSecondaryAmountLoading:d,hasAmountWarning:y,secondaryAmount:k,amountPrefix:f,percentages:I,supportsCurrencyDenominationSwitching:X,warnings:K}=e,{t:pe}=S(),z=B.default.createElement(ve,{image:{type:"fungible",src:w.data?.logoUri,fallback:w.data?.symbol||w.data?.tokenAddress},size:32,tokenType:w.type,chainMeta:w.data?.chain}),ee=V=>V.length>16?16:V.length>14?18:V.length>12?20:22,Le=(0,B.useMemo)(()=>{let V=ee(g);return v?B.default.createElement(oe,{width:100,height:18,borderRadius:12}):B.default.createElement(ne,{hasWarning:y,fontSize:V},f&&B.default.createElement(C,{font:"heading3",children:f,marginRight:2}),B.default.createElement(J,{name:"amount",border:"0",placeholder:"0",warning:y,value:g,decimalLimit:w.data?.decimals,disabled:!F,onUserInput:n}))},[v,y,f,g,w.data?.decimals,F,n]),fe=(0,B.useMemo)(()=>B.default.createElement(Bo,{isLoading:d,secondaryAmount:k,supportsCurrencyDenominationSwitching:X,switchCurrencyDenomination:s}),[d,k,X,s]),xe=(0,B.useMemo)(()=>{let V=Y=>{switch(Y.percentage){case .25:return"25%";case .5:return"50%";case 1:return pe("swapAssetCardMaxButton")}};return I.map(Y=>B.default.createElement(ue,{key:Y.percentage,active:Y.percentage===o?.percentage,children:V(Y),onChange:()=>r(Y),className:Ae}))},[I,pe,o,r]),Je=(0,B.useMemo)(()=>B.default.createElement(B.default.Fragment,null,fe,B.default.createElement(c,{flex:1}),u&&B.default.createElement(C,{font:"caption",color:{base:"textDiminished",hover:i?"textBase":void 0},children:u,onPress:i}),xe&&B.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},xe)),[u,xe,i,fe]),Re=(0,B.useMemo)(()=>{if(K.length!==0)return B.default.createElement(Do,{warnings:K})},[K]);return B.default.createElement(ie,{perspective:t,input:Le,selectorIcon:z,selectorLabel:w.data?.symbol??"",spamStatus:w.data?.spamStatus,onSelectorPress:a,accessories:Je,footer:Re})};p();l();var E=b(x());var nr=[.5,1],Lo=({perspective:e})=>{let{t}=S(),o=(0,E.useMemo)(()=>{let s=Number(P.typography.font.heading3.fontSize.replace("px",""));return E.default.createElement(ne,{fontSize:s},E.default.createElement(J,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),r=(0,E.useMemo)(()=>E.default.createElement(C,{font:"caption",color:"textDiminished",children:"$0"}),[]),n=(0,E.useMemo)(()=>{let s=i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return nr.map(i=>E.default.createElement(ue,{active:!1,children:s(i),onChange:()=>{},className:To}))},[t]),a=(0,E.useMemo)(()=>E.default.createElement(E.default.Fragment,null,E.default.createElement(c,{direction:"row",alignItems:"center",gap:6},r,e==="sell"?E.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textDiminished"}):null),E.default.createElement(c,{flex:1}),E.default.createElement(Fe,{font:"caption",width:64}),e==="sell"?E.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},n):null),[n,r,e]);return E.default.createElement(ie,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:a})};var ir=32,Eo=({isInitializingTokens:e,tokens:t,currentSellPercentage:o,setInputAmount:r,setSellPercentage:n,setInputPerspective:a,switchCurrencyDenomination:s,switchTokens:i,onSelectToken:g})=>{let{t:u}=S(),w=(0,G.useCallback)(y=>{let k=y.percentages.find(f=>f.percentage===1);k&&n(k,y.fungible)},[n]),F=(0,G.useCallback)(y=>{g(y)},[g]),v=(0,G.useCallback)((y,k)=>{n(y,k)},[n]),d=(0,G.useMemo)(()=>["sell","buy"].map(y=>{let k=t.find(I=>I.perspective===y);if(!k||e)return G.default.createElement(Lo,{key:`loading-${y}`,perspective:y});let f=G.default.createElement(No,{key:y,asset:k,perspective:y,switchCurrencyDenomination:s,currentPercentage:o,onFungibleTap:()=>F(y),onPercentageTap:I=>v(I,k.fungible),onInputChange:I=>{a(y),r(I,y)},onBalanceTap:()=>w(k)});return y==="buy"?G.default.createElement(c,{position:"relative",key:y+"-swap-button"},f,G.default.createElement("div",{className:Io,style:{pointerEvents:"none"}},G.default.createElement(Ue,{label:u("swapperSwitchTokens"),size:ir,shape:"circle",onClick:i,backgroundColor:{base:"spotBase",hover:"spotAccent"},icon:"SwapVertical"}))):f}),[t,e,s,o,F,v,r,a,w,u,i]);return G.default.createElement(c,{display:"flex",direction:"column",flex:1,paddingX:"screen",paddingTop:"screen"},G.default.createElement(c,{display:"flex",direction:"column",gap:12},d))};p();l();var se=b(x());var Mo=({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:r,quoteProcessorState:n,currentPerspective:a,sellPercentages:s,onPress:i,resetSwapper:g})=>{let u=$e(),w=Ht(),{handleShowModalVisibility:F}=Z(),{pushDetailView:v}=Ge(),d=(0,se.useCallback)(z=>{let ee=le(we(z));v(se.default.createElement(Xe,{caip19:ee,title:z.data.name??void 0,entryPoint:"exploreInSwap"}))},[v]),{openBuy:y}=$t({caip19:ar(o)||"",context:"modal",analyticsEvent:"fiatOnrampFromInsufficientBalance"}),k=(0,se.useCallback)(z=>{w({sellFungible:z.sell,buyFungible:z.buy,sellAmount:z.amount.amount})},[w]),f=(0,se.useCallback)((z,ee)=>{let Le=z.networkId,fe={balance:z.balance,required:z.required};F("insufficientBalance",{networkId:Le,token:fe},{event:"showSwapModal",payload:{data:{uiContext:"InsufficientBalance"}}})},[F]),{buttonState:I,swap:X}=Et({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:r,quoteProcessorState:n,currentPerspective:a,sellPercentages:s,showFungibleDetails:d,showBuyFungibleScreen:y,retryAndNavigateToSwapper:k,resetSwapper:g,goToInsufficientFunds:f}),K=(0,se.useCallback)(()=>{i?.(),u?F("swapLedgerSigning",{executeSwap:X}):X()},[i,X,u,F]),pe=(0,se.useMemo)(()=>I.type==="insufficientBalance"?{background:"spot",theme:"negative"}:["untradable"].includes(I.type)?{background:"element"}:{background:"spot"},[I.type]);return["idle","error"].includes(n.type)?null:se.default.createElement(mt,{...pe,disabled:I.type!=="tradable",onPress:K},I.label)};function ar(e){if(!(e.type!=="pair"&&e.type!=="refreshing"))return le(we(e.sellToken))}p();l();var W=b(x());p();l();var st=b(x());var Qo=({phantom:e,gasless:t})=>st.default.createElement(c,{paddingY:16,paddingX:32},st.default.createElement(Ye,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:500,noWrap:!1,showInfoIcon:!1,info:t?m.t("swapFeesPhantomFeeGaslessDisclaimer",{feePercentage:M(e),gaslessFeePercentage:M(t)}):m.t("swapFeesPhantomFeeRegularDisclaimer",{feePercentage:M(e)})},t?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(e),gaslessFeePercentage:M(t)}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(e)})));p();l();var H=b(x());var sr=({entry:e,fromUsd:t,currencySymbol:o})=>{let r=e.quoteFees.fees,n=r.find(i=>i.type==="phantom"),a=r.find(i=>i.type==="gasless"),s=r.filter(i=>!["gasless","phantom"].includes(i.type)).sort((i,g)=>Ke(i)&&!Ke(g)?-1:!Ke(i)&&Ke(g)?1:0).map(i=>{let g=i.amountUsd.toNumber(),u=`${o}${t(g,2)}`;switch(i.type){case"ata":return H.default.createElement(H.default.Fragment,{key:i.type},H.default.createElement(Qe,null,H.default.createElement(re,null,m.t(i.type)),H.default.createElement(re,null,u)),H.default.createElement(re,{style:{color:P.colors.legacy.textIncidental,fontSize:"12px",marginTop:4,textAlign:"left"}},m.t("accountCreationFeeBody")));default:return H.default.createElement(Qe,{key:i.type},H.default.createElement(re,null,m.t(i.type)),H.default.createElement(re,null,u))}});return H.default.createElement(H.default.Fragment,null,s,n&&H.default.createElement(re,{style:{fontStyle:"italic",color:P.colors.legacy.textIncidental,marginTop:8,textAlign:"left"}},a?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(n.percentage.toNumber()),gaslessFeePercentage:M(a.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(n.percentage.toNumber())})))};function pt({entry:e,currencySymbol:t,fromUsd:o,showSwapSettings:r,showSwapPricing:n}){let a,s,i;switch(e.type){case"pricing":{s=m.t("swapFeesPricing"),a=e.exchangeRate,i=n;break}case"slippage":{s=m.t("swapFeesSlippage"),a=e.slippageType==="auto"?m.t("swapTokenDetailEntryAutoSlippage",{slippage:e.slippage}):m.t("swapTokenDetailEntryFixedSlippage",{slippage:e.slippage}),i=r;break}case"priceImpact":{s=m.t("swapFeesPriceImpact"),a=e.priceImpactPercentage;break}case"fees":{s=m.t("swapFeesFees"),a=`${t}${o(e.quoteFees.totalFees.toString(),2)}`;break}case"transferFees":{s=m.t("swapFeesTransferFees"),a=m.t("swapTransferFeeDisclaimer",{symbol:e.transferTokenSymbol,feePercent:e.transferFees});break}default:throw new Error(`Unsupported entry type: ${e.type}`)}return{title:s,content:pr(e,a),tooltipContent:lr(e,o,t),color:cr(e),onClick:i}}function pr(e,t){return e.type==="transferFees"?t:e.warning?m.t("swapTokenDetailsWarningVeryHigh",{value:t}):e.alert?m.t("swapTokenDetailsAlertHigh",{value:t}):t}function lr(e,t,o){switch(e.type){case"pricing":return m.t("swapFeesRateDisclaimerMultichain");case"slippage":return m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage});case"priceImpact":return m.t("swapFeesPriceImpactDisclaimer");case"fees":{if(t&&o)return H.default.createElement(sr,{entry:e,fromUsd:t,currencySymbol:o});let r=e.quoteFees.fees.find(a=>a.type==="phantom"),n=e.quoteFees.fees.find(a=>a.type==="gasless");return r?n?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(r.percentage.toNumber()),gaslessFeePercentage:M(n.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(r.percentage.toNumber())}):void 0}default:return}}function cr(e){return e.warning?P.colors.legacy.spotNegative:e.alert?P.colors.legacy.spotWarning:P.colors.legacy.textDiminished}function Wo(e){switch(e){case"slippage":return{title:m.t("swapFeesSlippage")};case"priceImpact":return{title:m.t("swapFeesPriceImpact")};case"fees":return{title:m.t("swapFeesFees")};case"pricing":return{title:m.t("swapFeesPricing")};case"transferFees":return{title:m.t("swapFeesTransferFees")};default:return lt(e)}}var Ke=e=>{switch(e.type){case"solanaNetwork":case"evmGas":case"suiNetwork":return!0;default:return!1}};p();l();var Ne=b(x()),zo=({message:e,errorCode:t,onRetry:o})=>{let{t:r}=S(),n=r("swapQuestionRetry");return t==="InsufficientSellAmount"?Ne.default.createElement(c,{width:"100%"},Ne.default.createElement(Ce,{level:"1-critical-alert"},e)):Ne.default.createElement(c,{gap:10,width:"100%"},Ne.default.createElement(c,{width:"100%"},Ne.default.createElement(Ce,{level:"2-alert",actions:[{children:n,onPress:o}]},e)))};var mr=["pricing","slippage","priceImpact","fees"],Oo=({quoteProcessorState:e})=>{let t=ft();switch(e.type){case"idle":return W.default.createElement(c,{style:{marginTop:-16}},W.default.createElement(je,null));case"starting":case"firstQuoteReceived":case"quoteProcessed":return W.default.createElement(ur,{quoteProcessorState:e});case"error":return W.default.createElement(c,{paddingX:"screen"},W.default.createElement(zo,{message:e.error.message,errorCode:e.error.code,onRetry:()=>t.refreshQuoteProcessor()}))}},ur=({quoteProcessorState:e})=>{let{currencySymbol:t,fromUsd:o}=dt(),{handleShowModalVisibility:r}=Z(),n=dr(e),a=n.filter(d=>d.type!=="transferFees"),s=n.find(d=>d.type==="transferFees"),i=n.find(d=>d.type==="fees"),g=i?.quoteFees.fees.find(d=>d.type==="phantom"),u=i?.quoteFees.fees.find(d=>d.type==="gasless"),w=(0,W.useCallback)(()=>{r("swapSettings")},[r]),F=(0,W.useCallback)(()=>{r("swapPricing")},[r]),v=(0,W.useMemo)(()=>mr.map(d=>{let y=a.find(k=>k.type===d);return y?gr(pt({entry:y,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:F})):fr(Wo(d))}),[a,t,o,w,F]);return W.default.createElement(c,{direction:"column",gap:4},W.default.createElement(c,{paddingX:"screen"},W.default.createElement(Xt,{rows:v,borderRadius:"8px"})),g&&W.default.createElement(Qo,{phantom:g.percentage.toNumber(),gasless:u?.percentage.toNumber()}),s&&W.default.createElement(C,{font:"label",color:"spotWarning",paddingX:32},pt({entry:s,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:F}).content))};function dr(e){switch(e.type){case"firstQuoteReceived":case"quoteProcessed":return e.quoteDetails.entries;default:return[]}}function gr(e){return{label:e.title,value:e.content,tooltipContent:e.tooltipContent,color:e.color,onClick:e.onClick}}function fr(e){return{label:e.title,value:W.default.createElement(Fe,{width:60,font:"caption"})}}p();l();var be=b(x());var Vo=be.default.memo(({children:e})=>{let t=Ve(),o=t.every(i=>Pe.isMainnetNetworkID(i)),n=_e().some(i=>t.includes(i)),{t:a}=S(),s=(0,be.useMemo)(()=>({availableOnlyOnMainnet:a("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:a("swapNotAvailableOnSelectedNetwork")}),[a]);return o?n?be.default.createElement(c,{display:"flex",flex:1,paddingBottom:16,style:{marginBottom:"-16px"}},e):be.default.createElement(Be,{message:s.notAvailableOnSelectedNetwork,swapDisabled:!0},e):be.default.createElement(Be,{message:s.availableOnlyOnMainnet,swapDisabled:!0},e)});var wr=[.5,1],$o=()=>{let e=Nt();return R.default.createElement(Sr,{swapMode:e})},Sr=({swapMode:e})=>{let{inputPerspective:t,tokens:o,tokenState:r,quotedAmounts:n,quoteProcessorState:a,inputErrors:s,currentSellPercentage:i,sellPercentages:g,setInputAmount:u,setSellPercentage:w,switchCurrencyDenomination:F,switchTokens:v,clearInput:d,setInputPerspective:y}=Lt(e,wr),{handleShowModalVisibility:k}=Z(),f=(0,R.useCallback)(ee=>{tt(r)&&k(ee==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect",{selectStrategy:{type:"navigateToClassic",sellCaip19:le(we(r.sellToken)),buyCaip19:le(we(r.buyToken)),isCashEligible:!1}})},[k,r]),I=qe({goToAssetSelect:f}),X=(0,R.useCallback)(ee=>{tt(r)&&I(ee)},[r,I]),K=r.type==="pair"?r.buyToken:void 0,pe=K?le(we(K)):void 0;vt(pe,"swapper");let z=Bt();return R.default.createElement(Vo,null,R.default.createElement(c,{direction:"column",gap:16,paddingBottom:72},R.default.createElement(Eo,{isInitializingTokens:z,tokens:o,currentSellPercentage:i,setInputAmount:u,setSellPercentage:w,setInputPerspective:y,switchCurrencyDenomination:F,switchTokens:v,onSelectToken:X}),R.default.createElement(Oo,{quoteProcessorState:a})),yr(a)&&R.default.createElement(c,{position:"fixed",bottom:72,left:16,right:16,backgroundColor:"areaBase",borderRadius:16,className:Ao},R.default.createElement(Mo,{swapMode:e,quotedAmounts:n,tokenState:r,inputErrors:s,quoteProcessorState:a,currentPerspective:t,sellPercentages:g,resetSwapper:d})))};function yr(e){return["quoteProcessed","firstQuoteReceived","starting"].includes(e.type)}var hr=_(He)`
  position: fixed;
  bottom: 70px;
  left: 16px;
  padding: 16px;
`,br=()=>{let[e]=Mt(),t=e.get("sellFungible")??void 0,o=e.get("sellAmount")??void 0,r=e.get("buyFungible")??void 0,n=Ct(),{getSwapQuotesStrategy:a,onSwapTabExit:s}=St();xt({getSwapQuotesStrategy:a,skipInitialBuyFungible:!0}),ht();let{isLoading:i}=bt({paramsSellFungible:t,paramsSellAmount:o,paramsBuyFungible:r});return(0,T.useLayoutEffect)(()=>()=>{s(),n()},[s,n]),{isLoadingInitialAssets:i}},xr=({isLoadingInitialAssets:e})=>{let{t}=S(),{quoteResponse:o,hasNoRoutes:r}=gt(),{handleShowModalVisibility:n}=Z(),a=(0,T.useCallback)(w=>{n(w==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[n]),s=qe({goToAssetSelect:a}),i=(0,T.useCallback)(()=>{n("messageOverlay",{title:t("swapProviderAutoUpdateTitle"),message:t("swapProviderAutoUpdateMessage")})},[n,t]);Dt({showDefaultAutoProvider:i});let g=(0,T.useMemo)(()=>T.default.createElement(ho,{onSelectAsset:s,isLoadingInitialAssets:e}),[e,s]),u=(0,T.useMemo)(()=>!o&&!r,[o,r]);return T.default.createElement(ko,null,T.default.createElement(He,{justify:"space-between",flex:1},T.default.createElement(He,{align:"normal",padding:"16px 16px 0 16px",margin:o?"0 0 70px 0":"0"},g,o||r?T.default.createElement(po,null):null),u?T.default.createElement(je,null):null,T.default.createElement(hr,null,o?T.default.createElement(Vt,{removeFooterExpansion:!1,cssOverride:Wt`
                background: ${P.colors.legacy.elementBase};
              `},T.default.createElement(Fo,null)):null)))},Pr=()=>T.default.createElement(wt,null,T.default.createElement(Fr,null)),Fr=()=>{let e=$e(),t=et("enable-classic-swapper-ext"),o=et("enable-ledger-swaps-ext");return e&&!o||!t?T.default.createElement(Cr,null):T.default.createElement($o,null)},Cr=()=>{let{isLoadingInitialAssets:e}=br();return e?T.default.createElement(c,{gap:1,padding:16},T.default.createElement(ke,{height:"120px",borderRadius:"8px 8px 0 0"}),T.default.createElement(ke,{height:"120px",borderRadius:"0 0 8px 8px"})):T.default.createElement(xr,{isLoadingInitialAssets:e})},uc=Pr;export{uc as default};
//# sourceMappingURL=SwapTabPage-BMV4E57X.js.map
