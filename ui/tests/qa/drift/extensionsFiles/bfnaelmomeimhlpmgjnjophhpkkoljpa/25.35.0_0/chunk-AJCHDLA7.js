import{M as nt,c as Y,d as P,e as A,f as D,j as C,k,m as tt,p as et}from"./chunk-BRQKCECY.js";import{a as H}from"./chunk-BHIJKWN7.js";import{Na as Q}from"./chunk-QSYOXIBV.js";import{$ as W,$b as S,D as R,E as $,G as U,_a as O,_b as K,bb as _,dc as V,ec as X,hc as j,ic as q,mb as G,pc as z,v as Tt,y as F,z as v}from"./chunk-LHPEWMJX.js";import{ua as Z,ya as J}from"./chunk-HTY647YJ.js";import{Cf as L,R as h,S as g,i as bt,jf as M,x as Ct,xb as b}from"./chunk-E2A6YDRV.js";import{u as B}from"./chunk-4XTMHWN2.js";import{f as T,h as r,l as yt,m as Buffer,n as o}from"./chunk-64CIGK2X.js";r();o();r();o();var I=T(bt(),1);var ot=T(Ct(),1);var rt=(0,I.struct)([(0,I.u8)("instruction"),V("amount")]);function it(t,n,e,i,a=[],c=S){let l=j([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],e,a),m=Buffer.alloc(rt.span);return rt.encode({instruction:X.Burn,amount:BigInt(i)},m),new ot.TransactionInstruction({keys:l,programId:c,data:m})}var ht=({t,apiErrors:n,clientErrors:e})=>{let i={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return n.isSellErrorCode?n?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:n?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:n?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:e.hasEnoughGas?e.executeSellError?e.executeSellError.message===nt?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}};r();o();var St=t=>k(t)?t.standard==="ERC1155":C(t)?t.standard==="SemiFungible":!1;r();o();var N=T(yt());r();o();async function at(t){let{mint:n}=t,e=new h.Transaction,i=await et({networkID:"solana:101",mintAddress:n});return e.add(await R({...t,...i})),e}var It=async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:a,compression:c,programId:l,isProgrammable:m,connection:x})=>{let u=new h.Transaction,p=new g.PublicKey(t),d=await q(p,n);if(c?.compressed)return at({compression:c,mint:t});if(l===v)return K({mint:t,connection:x,owner:n.toBase58()});if(m)return U({senderAddress:n,senderAccount:d,mintAddress:new g.PublicKey(t)});if(a===null||!Y(a)){let f=it(d,p,n,e),y=H(d,n,n);u.add(f,y)}else{let f=N.Buffer.from(p.toBytes()),y=P(f),mt=A(f),w;if(i!==null){let ft=new g.PublicKey(i),gt=N.Buffer.from(ft.toBytes());w=D(gt)}let pt={metadata:y,owner:n,mint:p,tokenAccount:d,masterEditionAccount:mt,splTokenProgram:S,collectionMetadata:w},{createBurnNftInstruction:ut}=await $(),dt=ut(pt,F);u.add(dt)}return u},xt=async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:a,chainId:c,compression:l,programId:m,isProgrammable:x})=>{let u=_(c),p=await It({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:a,compression:l,programId:m,isProgrammable:x,connection:u});p.recentBlockhash=(await u.getLatestBlockhash("confirmed")).blockhash,p.feePayer=n;let d=await G(p,{connection:u}),f=await z(c,[d.compileMessage()]),y=W(f);return{burnTxWithPriority:d,networkFeeUiAmount:y}};r();o();r();o();r();o();var Pt=(t,n="standard",e,i,a,c,l)=>{if(b.isEVMNetworkID(t)){let m=O.get(t).transactionSpeedSeconds(n);return{ownerAddress:e.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:B.parse({from:e.address}),estimatedTimeToMineInSeconds:m},type:"send",display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:a})}`}},detail:{header:`${c} ${i}`,uiRecipient:a}}}}else{if(b.isSolanaNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:a})}`}}}};if(b.isBitcoinNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:a})}`}}}};if(b.isSuiNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:a})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}};r();o();r();o();var st=({url:t,format:n})=>{if(!t)return null;!t.startsWith("http")&&t.split(".").length===2&&(t=`http://${t}`),t.startsWith("www.")&&(t=`https://${t}`),!t.startsWith("http")&&!t.startsWith("https")&&(t=`https://${t}`);try{let{hostname:e,href:i}=new URL(t);switch(n){case"hostname":return e.replace("www.","");case"root":return e.split(".").slice(-2).join(".");case"domain":return e.split(".").slice(-2)[0];case"full":return i;default:return e}}catch{return null}};var At=t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),Dt=(t,n)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let e=st({url:t.externalUrl,format:"domain"});if(e)return e}if(n?.name){let e=At(n.name);if(e)return e}if(n?.symbol)return n.symbol};r();o();var kt=(t,n)=>{if(C(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:n,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}};r();o();var E=T(Tt()),Nt=1e6,Et=1e4,wt=t=>t>Nt?">1M":t<Et?(0,E.default)(t).format("0,0.[000]"):(0,E.default)(t).format("0.[0]a").toUpperCase();r();o();r();o();r();o();function lt({chainID:t,amount:n,collectible:e,symbol:i}){let a=J(t);switch(a.chainName){case"solana":return{...a,asset:{amount:n.toString(),mint:"mint"in e?e.mint:"UNKNOWN",symbol:i,type:"collectible"}};case"ethereum":case"polygon":case"base":case"arbitrum":case"monad":return{...a,asset:{amount:n.toString(),address:"contract"in e?e.contract:"UNKNOWN",symbol:i,type:"collectible"}};case"bitcoin":return{...a,asset:{id:"firstCreatedInscriptionId"in e?e.firstCreatedInscriptionId:"UNKNOWN",symbol:i,type:"collectible"}};case"sui":return{...a,asset:{amount:n.toString(),address:"not yet implemented",symbol:i,type:"collectible"}}}}var Bt="list",ct=t=>new Z(t,Bt),Mt=L(M,t=>ct(t));r();o();function Lt(t){if(!t)return!1;let n=Q(t),e=t.chainData&&tt(t.chainData)&&!!t.chainData.kioskId;return n||!!e}export{ht as a,St as b,Pt as c,st as d,Dt as e,kt as f,wt as g,xt as h,lt as i,Lt as j};
//# sourceMappingURL=chunk-AJCHDLA7.js.map
