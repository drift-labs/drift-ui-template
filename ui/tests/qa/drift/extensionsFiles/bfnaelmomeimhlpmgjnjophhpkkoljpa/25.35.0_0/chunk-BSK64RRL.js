import{jc as U}from"./chunk-ZYPI3ESJ.js";import{m as u}from"./chunk-HUS6FTFG.js";import{c as i}from"./chunk-NCSBB2TA.js";import{a as T}from"./chunk-XD32MQ4W.js";import{Ef as P,Lf as p,ce as w,ea as R,fe as x,mc as m,zf as y}from"./chunk-E2A6YDRV.js";import{c as g}from"./chunk-BEUYJGED.js";import{f,h as t,n as o}from"./chunk-64CIGK2X.js";t();o();var c=f(T());var J=async()=>{let e=u("hasOnboarded"),r=await i(c.default.runtime,e);if("error"in r)throw new Error(r.error.message);return r.result},K=async()=>{let e=u("resetHasOnboarded"),r=await i(c.default.runtime,e);if("error"in r)throw new Error(r.error.message);return r.result},Y=async e=>{let r=u("unlockExtension",e),s=await m.startSpan("unlockExtension",()=>i(c.default.runtime,r));if("error"in s)throw new Error(s.error.message);if(!s.result)throw new Error("Missing unlock extension response.");let{isUnlocked:a,migrationResult:d}=s.result;if(a===void 0)throw new Error("Missing isUnlocked in unlock response.");if(d===void 0)throw new Error("Missing migrationResult in unlock response.");switch(d){case"success":await U.invalidateQueries({refetchType:"all"});break;case"no-migration":case"failure":break;default:R(d)}return{isUnlocked:a,migrationResult:d}},Z=async()=>{let e=u("IsExtensionUnlocked"),r=await m.startSpan("isExtensionUnlocked",()=>i(c.default.runtime,e));if("error"in r)throw new Error(r.error.message);return r.result},ee=async()=>{let e=u("lockExtension"),r=await m.startSpan("lockExtension",()=>i(c.default.runtime,e));if("error"in r)throw new Error(r.error.message);return r.result},re=async e=>{let r=u("setPassword",e),s=await m.startSpan("setPassword",()=>i(c.default.runtime,r));if("error"in s)throw new Error(s.error.message);return s.result},se=async e=>{let r=u("verifyPassword",e),s=await m.startSpan("verifyPassword",()=>i(c.default.runtime,r));if("error"in s)throw new Error(s.error.message);return s.result},te=async(e,r)=>{let s=u("updatePassword",[e,r]),a=await m.startSpan("updatePassword",()=>i(c.default.runtime,s));if("error"in a)throw new Error(a.error.message);return a.result};t();o();var B=()=>{let{data:e}=p();return e?.username};t();o();var h=f(g());t();o();var q=/^https?:\/\/.+$/,I=e=>v(e?.icon),v=e=>e?e.match(q)?{type:y.Image,imageUrl:e}:{type:y.Emoji,unicode:e}:{type:y.Default};var F=()=>{let{data:e}=p();return(0,h.useMemo)(()=>I(e),[e])};t();o();var E=f(g());var O=0,L=e=>e!==null?e.split("@")[O]:null,N=async(e,r)=>{let s=await e.getUser();if(!s)throw new Error("no user");let a=await r.getUserProfile();return{userID:s.userID,username:a?.username??null,email:L(s.email??null)}},D=()=>{let e=w(),r=P(),{data:s={}}=x();return(0,E.useCallback)(async()=>{try{return{...await N(e,r),authFactors:s}}catch{return{userID:null,username:null,email:null,authFactors:s}}},[s,e,r])};t();o();t();o();var S=f(g());var C=()=>{let{data:e}=p();return(0,S.useMemo)(()=>e?.privacyState??"public",[e?.privacyState])};t();o();var k=f(g());var _=()=>{let{data:e}=p();return(0,k.useMemo)(()=>e?.addresses,[e?.addresses])};t();o();t();o();t();o();function l(e){return BigInt(Math.round(e*1e18))}function b(e){return Number(e)/1e18}function Xe(e,r){return b(l(e)+l(r))}function A(e,r){return b(l(e)-l(r))}function M(e,r){return b(l(e)*BigInt(1e18)/l(r))}function Q(e,r){if(r===-100)return-1*e;let s=M(e,1+r/100);return A(e,s)}var Ye=Q;t();o();function V(e,r){return r*Number(e.totalQuantity)/10**e.decimals}export{B as a,F as b,C as c,_ as d,D as e,J as f,K as g,Y as h,Z as i,ee as j,re as k,se as l,te as m,Xe as n,A as o,M as p,Ye as q,V as r};
//# sourceMappingURL=chunk-BSK64RRL.js.map
