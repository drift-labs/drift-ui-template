import{a as ne,b as oo}from"./chunk-UDK5WD55.js";import{a as ie,b as se,c as le,d as ro,e as w}from"./chunk-7V6SSYCL.js";import{a as eo}from"./chunk-LNZ2BMOD.js";import{a}from"./chunk-GD6MXSPN.js";import"./chunk-AARL76MY.js";import"./chunk-AJCHDLA7.js";import"./chunk-7WKA7VQO.js";import{c as Re}from"./chunk-UPH4E42G.js";import"./chunk-25S7ECPH.js";import"./chunk-VM67K2FR.js";import"./chunk-APR3LBW6.js";import"./chunk-6TIAWJQS.js";import"./chunk-2ZIJEOTL.js";import"./chunk-KWD7GYOW.js";import{$ as Ge,K as Ue,L as Oe,M as Ae,N as Ne,O as Z,P as Ve,Q as P,R as He,S as T,T as Me,U as Xe,V as _e,W as We,X as $e,Y as Qe,_ as ze,aa as Ye,ba as je,ca as qe,da as Je,ea as Ke,fa as Ze,ma as O,na as z,u as M,wa as te}from"./chunk-XZRRLELF.js";import"./chunk-HTEWVCFR.js";import"./chunk-5F2VOKO3.js";import"./chunk-VTQFUHCP.js";import"./chunk-MOTGUR2H.js";import"./chunk-J26VE65N.js";import"./chunk-KKMQB65C.js";import"./chunk-7JKUY6KU.js";import"./chunk-YY4B3XV7.js";import"./chunk-L2LS7YZE.js";import"./chunk-GROXNBTY.js";import"./chunk-OZFKX4E3.js";import"./chunk-57E56ETC.js";import{g as ve}from"./chunk-HO6FHTKM.js";import"./chunk-H6IC2DCX.js";import"./chunk-WF3NVBQY.js";import{g as k,k as U}from"./chunk-TALMQQTZ.js";import{a as De}from"./chunk-WSJ272XI.js";import"./chunk-S32BDL22.js";import"./chunk-GQ5HEJWI.js";import"./chunk-E5PF7MT2.js";import"./chunk-KGWRBMZX.js";import"./chunk-DIE5362K.js";import"./chunk-3QXXMOWQ.js";import"./chunk-E6KYSGDB.js";import"./chunk-BSK64RRL.js";import"./chunk-BUTFRTU6.js";import"./chunk-HX3WMS5S.js";import"./chunk-YDS6O2TZ.js";import"./chunk-2XJQPJ5M.js";import{R as ge,T as we,U as he,qb as H,rb as Pe,vb as Te,wb as Le,xb as Fe,yb as Ie,zb as be}from"./chunk-ZYPI3ESJ.js";import"./chunk-6EZHAYJL.js";import"./chunk-BRQKCECY.js";import"./chunk-YOO3KN23.js";import"./chunk-YITPJN7X.js";import"./chunk-CQIC5IDD.js";import"./chunk-BHIJKWN7.js";import"./chunk-6N4GZCP2.js";import"./chunk-5OF7XKWY.js";import"./chunk-5AA7BGLC.js";import{na as Se}from"./chunk-QSYOXIBV.js";import"./chunk-O7KQ5SYD.js";import"./chunk-V76BEUYF.js";import"./chunk-3U4MKOCV.js";import"./chunk-63PE5ZXT.js";import"./chunk-ZTFOFBVC.js";import{m as Be}from"./chunk-FVUSQHVT.js";import"./chunk-HUS6FTFG.js";import"./chunk-NCSBB2TA.js";import{a as V}from"./chunk-4BKJE7YB.js";import"./chunk-KY4L2TTE.js";import"./chunk-W47K3OCY.js";import"./chunk-25TPEQ2Q.js";import"./chunk-E7B2SEGG.js";import"./chunk-XD32MQ4W.js";import"./chunk-LHPEWMJX.js";import{oa as Ce}from"./chunk-HTY647YJ.js";import{Db as oe,Pe as ue,xb as ee}from"./chunk-E2A6YDRV.js";import"./chunk-4XTMHWN2.js";import{Ca as x,Ma as Ee,Na as ye,X as b,c as y,kb as ke,va as yo,wa as re}from"./chunk-BEUYJGED.js";import"./chunk-3C334UTS.js";import"./chunk-3JLWNHUO.js";import"./chunk-KHOMEOLW.js";import{f as u,h as l,n as p}from"./chunk-64CIGK2X.js";l();p();var uo=u(yo()),S=u(y());l();p();l();p();l();p();var ko=/^(https?:\/\/)?(localhost(:\d+)|[\w-]+(\.[\w-]+)+(:\d+)?)(\/\S*)?/;function to(e){return e?ko.test(e):!1}var Co=["localhost","127.0.0.1"],So={google:e=>`https://www.google.com/search?q=${e}`},G=e=>{try{let o=/^https?:\/\//i.test(e),n=to(e);if(n&&o)return e;if(!n)throw new Error("Query is not a valid URL");let s=o?e:`http://${e}`,t=new URL(s);if(Co.includes(t.hostname))return s;if(!e.includes("."))throw new Error("missing tld");return t.toString().replace(/^http:\/\//i,"https://").replace(/\/$/,"")}catch{let o=encodeURIComponent(e);return So.google(o)}};var L=u(y());var wo=120,ho=({item:e,index:o})=>{let{pushDetailView:n}=k(),s=(0,L.useCallback)(({item:t,index:i})=>{a.onExploreCarouselItemClickedByUser({datasourceId:"",carouselName:"featuredItems",itemDetails:{position:i,title:t.name}}),ge(t)?self.open(G(t.url),"_blank","noopener noreferrer"):n(L.default.createElement(z,{category:{id:t.id,name:t.name}}))},[n]);return L.default.createElement("div",{onClick:()=>s({item:e,index:o}),className:re({flex:1})},L.default.createElement(Ue,{item:e,image:L.default.createElement(ke,{className:Je.image,src:e.imageUrl}),index:o,onPress:s}))},no=L.default.memo(()=>{let{error:e,data:o,isPending:n}=we(),s=(0,L.useMemo)(()=>(o??[]).map((t,i)=>({key:ge(t)?t.url:t.id,node:L.default.createElement(ho,{item:t,index:i})})),[o]);return n?L.default.createElement(Oe,null):e||!o||o.length===0?null:L.default.createElement(x,{paddingX:"screen"},L.default.createElement(oo,{items:s,onIndexChange:De,itemHeight:wo}))});l();p();var Q=u(y());l();p();var W=u(y());l();p();var h=u(y());l();p();var _=u(y());var io=_.default.memo(()=>{let e=T(r=>r.networkOptions),o=T(r=>r.network),n=T(r=>r.setNetwork),s=T(r=>r.sortByOptions),t=T(r=>r.sortBy),i=T(r=>r.setSortBy),m=T(r=>r.timeFrameOptions),f=T(r=>r.timeFrame),d=T(r=>r.setTimeFrame);return _.default.createElement(_.default.Fragment,null,_.default.createElement(se,{value:t,options:s,onChange:r=>{i(r),a.onExploreFilterChangedByUser({filterType:"sort",filterValue:r,listName:"collections"})}}),_.default.createElement(ie,{value:o,options:e,onChange:r=>{n(r),a.onExploreFilterChangedByUser({filterType:"network",filterValue:r,listName:"collections"})}}),_.default.createElement(le,{value:f,options:m,onChange:r=>{d(r),a.onExploreFilterChangedByUser({filterType:"timeframe",filterValue:r,listName:"collections"})}}))});var Po=h.default.memo(({rankAlgo:e,limit:o})=>{let{t:n}=b(),s=T(c=>c.sortBy),t=T(c=>c.timeFrame),i=T(c=>c.network),{data:m,error:f,refetch:d,isLoading:r}=Ie({sortBy:s,timeFrame:t,network:i,limit:o,rankAlgo:e}),B=({item:c,index:D,datasourceId:g=""})=>{a.onExploreListItemClickedByUser({datasourceId:g,listName:"collections",itemDetails:{position:D,title:c.name,id:c.id}}),self.open(c.marketplacePages[0].collectionUrl,"_blank","noopener noreferrer")},v=!!f||m?.data.length===0,K=r||typeof m>"u";return h.default.createElement(x,{direction:"column",flex:1},h.default.createElement(x,{paddingX:"screen",paddingTop:"screen"},h.default.createElement(U,null,n("exploreCollections"))),h.default.createElement(O,{isError:v,isLoading:K,refetch:d,filters:h.default.createElement(io,null),listHeader:h.default.createElement(Me,null),rows:(m?.data??[]).map((c,D)=>({..._e({item:c,image:h.default.createElement(w,{index:D,displayRank:!0,image:h.default.createElement(M,{image:{type:"collectible",src:c.imageUrl,fallback:c.name||c.id},size:48})})}),onClick:()=>B({item:c,index:D})}))}))}),pe=h.default.memo(()=>{let e=H(),o=(0,h.useMemo)(()=>e.sections.find(n=>n.type==="collections"),[e.sections]);return o?h.default.createElement(He,{sortByOptions:o.sortBy,sortBy:o.sortByDefault,networkOptions:o.network,network:o.networkDefault,timeFrameOptions:o.timeFrame,timeFrame:o.timeFrameDefault},h.default.createElement(Po,{rankAlgo:o.rankAlgo,limit:o.listLimit})):null});var so=e=>{let{pushDetailView:o}=k(),n=(0,W.useCallback)(()=>{a.onExploreSectionClickedByUser({listName:e.type}),o(W.default.createElement(pe,null))},[o,e.type]);return W.default.createElement(We,{...e,ErrorBoundary:V,onSeeMore:n,onRowPress:({item:t,index:i,datasourceId:m=""})=>{a.onExploreListItemClickedByUser({datasourceId:m,listName:"collections",itemDetails:{position:i,title:t.name,id:t.id}}),self.open(t.marketplacePages[0].collectionUrl,"_blank","noopener noreferrer")},ImageComponent:To})},To=({item:e,index:o})=>W.default.createElement(w,{index:o,displayMedallionBadge:!0,image:W.default.createElement(M,{image:{type:"collectible",src:e.imageUrl,fallback:e.name||e.id},size:48})});l();p();var j=u(y());l();p();var Y=u(y());var Lo={learnArticle:"article",learnTip:"tip"},ae=()=>{let{t:e}=b(),{data:o,isPending:n,error:s,refetch:t}=be(),i=ne(),m=({item:r,index:B})=>{a.onExploreLearnItemClickedByUser({itemDetails:{position:B,id:r.id,title:r.title,type:Lo[r.type]}}),r.type==="learnTip"&&r.page?i({},{destinationType:r.page,url:r.url}):r.type==="learnArticle"&&self.open(r.url,"_blank","noopener noreferrer")},f=!!s||o?.data.length===0,d=n||typeof o>"u";return Y.default.createElement(x,{direction:"column",flex:1},Y.default.createElement(x,{paddingX:"screen",paddingTop:"screen"},Y.default.createElement(U,null,e("exploreLearn"))),Y.default.createElement(O,{isError:f,isLoading:d,refetch:t,rows:(o?.data??[]).map((r,B)=>({...$e({item:r,image:Y.default.createElement(w,{image:r.type==="learnArticle"?r.backgroundImageUrl:r.icon})}),onClick:()=>m({item:r,index:B})}))}))};var Fo={learnArticle:"article",learnTip:"tip"},lo=e=>{let o=ne(),{pushDetailView:n}=k(),s=(0,j.useCallback)(()=>{a.onExploreSectionClickedByUser({listName:e.type}),n(j.default.createElement(ae,null))},[n,e.type]);return j.default.createElement(Qe,{...e,ErrorBoundary:V,onSeeMore:s,onRowPress:({item:i,index:m})=>{a.onExploreLearnItemClickedByUser({itemDetails:{position:m,id:i.id,title:i.title,type:Fo[i.type]}}),i.type==="learnTip"&&i.page?o({},{destinationType:i.page,url:i.url}):i.type==="learnArticle"&&self.open(i.url,"_blank","noopener noreferrer")},ImageComponent:Io})},Io=({item:e})=>j.default.createElement(w,{image:e.type==="learnArticle"?e.backgroundImageUrl:e.icon});l();p();var q=u(y());l();p();var F=u(y());l();p();var $=u(y());var po=$.default.memo(()=>{let e=P(r=>r.networkOptions),o=P(r=>r.network),n=P(r=>r.setNetwork),s=P(r=>r.sortByOptions),t=P(r=>r.sortBy),i=P(r=>r.setSortBy),m=P(r=>r.timeFrameOptions),f=P(r=>r.timeFrame),d=P(r=>r.setTimeFrame);return $.default.createElement($.default.Fragment,null,$.default.createElement(se,{value:t,options:s,onChange:r=>{i(r),a.onExploreFilterChangedByUser({filterType:"sort",filterValue:r,listName:"sites"})}}),$.default.createElement(ie,{value:o,options:e,onChange:r=>{n(r),a.onExploreFilterChangedByUser({filterType:"network",filterValue:r,listName:"sites"})}}),$.default.createElement(le,{value:f,options:m,onChange:r=>{d(r),a.onExploreFilterChangedByUser({filterType:"timeframe",filterValue:r,listName:"sites"})}}))});var bo=F.default.memo(({rankAlgo:e,limit:o})=>{let{t:n}=b(),s=P(c=>c.sortBy),t=P(c=>c.timeFrame),i=P(c=>c.network),{data:m,error:f,isLoading:d,refetch:r}=Fe({sortBy:s,timeFrame:t,rankAlgo:e,limit:o,network:i}),B=({item:c,index:D,datasourceId:g=""})=>{a.onExploreListItemClickedByUser({datasourceId:g,listName:"sites",itemDetails:{position:D,title:c.name,id:c.domain}}),self.open(G(c.url),"_blank","noopener noreferrer")},v=!!f||m?.data.length===0,K=d||typeof m>"u";return F.default.createElement(x,{direction:"column",flex:1},F.default.createElement(x,{paddingX:"screen",paddingTop:"screen"},F.default.createElement(U,null,n("exploreSites"))),F.default.createElement(O,{isError:v,isLoading:K,refetch:r,filters:F.default.createElement(po,null),rows:(m?.data??[]).map((c,D)=>({...ze({label:n("commandOpen"),item:c,image:F.default.createElement(w,{image:c.imageUrl,index:D,displayRank:!0}),t:n}),onClick:()=>B({item:c,index:D})}))}))}),me=F.default.memo(()=>{let e=H(),o=(0,F.useMemo)(()=>e.sections.find(n=>n.type==="sites"),[e.sections]);return o?F.default.createElement(Ve,{sortByOptions:o.sortBy,sortBy:o.sortByDefault,networkOptions:o.network,network:o.networkDefault,timeFrameOptions:o.timeFrame,timeFrame:o.timeFrameDefault},F.default.createElement(bo,{rankAlgo:o.rankAlgo,limit:o.listLimit})):null});var ao=e=>{let{pushDetailView:o}=k(),n=(0,q.useCallback)(()=>{a.onExploreSectionClickedByUser({listName:e.type}),o(q.default.createElement(me,null))},[o,e.type]);return q.default.createElement(Ge,{...e,ErrorBoundary:V,onSeeMore:n,onRowPress:({item:t,index:i,datasourceId:m=""})=>{a.onExploreListItemClickedByUser({datasourceId:m,listName:"sites",itemDetails:{position:i,title:t.name,id:t.domain}}),self.open(G(t.url),"_blank","noopener noreferrer")},ImageComponent:Bo})},Bo=({item:e,index:o})=>q.default.createElement(w,{image:e.imageUrl,index:o,displayMedallionBadge:!0});l();p();var J=u(y());l();p();var A=u(y());var ce=A.default.memo(()=>{let{t:e}=b(),{data:o=[],refetch:n,isLoading:s,isError:t}=he(),{pushDetailView:i}=k(),m=(0,A.useCallback)(({category:f,index:d})=>{i(A.default.createElement(z,{category:f})),a.onExploreListItemClickedByUser({datasourceId:"",listName:"token-categories",context:"explore",itemDetails:{position:d,title:f.name,id:f.id}})},[i]);return A.default.createElement(x,{direction:"column",flex:1},A.default.createElement(x,{paddingX:"screen",paddingTop:"screen"},A.default.createElement(U,null,e("exploreTopTokenCategories"))),A.default.createElement(O,{refetch:n,isError:t,isLoading:s,rows:o.map((f,d)=>Ke({category:f,onPress:()=>m({category:f,index:d}),background:!1,t:e}))}))});var mo=e=>{let{pushDetailView:o}=k(),n=(0,J.useCallback)(()=>{a.onExploreSectionClickedByUser({listName:e.type}),o(J.default.createElement(ce,null))},[o,e.type]);return J.default.createElement(Ze,{onRowPress:({category:t,index:i})=>{o(J.default.createElement(z,{category:t})),a.onExploreListItemClickedByUser({datasourceId:"",listName:"token-categories",context:"explore",itemDetails:{position:i,title:t.name,id:t.id}})},onSeeMore:n})};l();p();var X=u(y());l();p();var C=u(y());var vo=C.default.memo(({rankAlgo:e,limit:o})=>{let{t:n}=b(),s=Z(g=>g.sortBy),t=Z(g=>g.sortDirection),i=Z(g=>g.timeFrame),m=Z(g=>g.network),{data:f,error:d,isLoading:r,refetch:B}=Te({sortBy:s,sortDirection:t,timeFrame:i,limit:o,rankAlgo:e,network:m}),{pushDetailView:v}=k(),K=(0,C.useCallback)(({item:g,index:R})=>{let Eo=oe({chainId:g.chainId,address:g.address,resourceType:"address"});a.onExploreListItemClickedByUser({datasourceId:"",listName:"tokens",context:"explore",itemDetails:{position:R,title:g.name||g.symbol,id:`${g.address}-${g.chainId}`}}),v(C.default.createElement(te,{caip19:Eo,title:g.name??void 0,entryPoint:"explore"}))},[v]),c=!!d||f?.items.length===0,D=r||typeof f>"u";return C.default.createElement(x,{direction:"column",flex:1},C.default.createElement(x,{paddingX:"screen",paddingTop:"screen"},C.default.createElement(U,null,n("exploreTokens"))),C.default.createElement(O,{isError:c,isLoading:D,refetch:B,filters:C.default.createElement(ro,null),listHeader:C.default.createElement(Xe,null),rows:(f?.items??[]).map((g,R)=>({...Ye({item:g,sortBy:s,t:n,image:C.default.createElement(w,{index:R,displayRank:!0,image:C.default.createElement(M,{image:{type:"fungible",src:g.logoUrl,fallback:g.symbol||g.name},size:48,badge:{type:"network",preset:ee.getChainID(g.chainId)}})})}),onClick:()=>K({item:g,index:R})}))}))}),fe=C.default.memo(()=>{let e=H(),o=(0,C.useMemo)(()=>e.sections.find(n=>n.type==="tokens"),[e.sections]);return o?C.default.createElement(Ne,{sortByOptions:o.sortBy,sortBy:o.sortByDefault,sortDirection:o.sortDirectionDefault,networkOptions:o.network,network:o.networkDefault,timeFrameOptions:o.timeFrame,timeFrame:o.timeFrameDefault},C.default.createElement(vo,{rankAlgo:o.rankAlgo,limit:o.listLimit})):null});var co=e=>{let{pushDetailView:o}=k(),n=(0,X.useCallback)(()=>{a.onExploreSectionClickedByUser({listName:e.type}),o(X.default.createElement(fe,null))},[o,e.type]);return X.default.createElement(je,{...e,ErrorBoundary:V,onSeeMore:n,onRowPress:({item:t,index:i})=>{let m=oe({chainId:t.chainId,address:t.address,resourceType:"address"});a.onExploreListItemClickedByUser({datasourceId:"",listName:"tokens",context:"explore",itemDetails:{position:i,title:t.name||t.symbol,id:`${t.address}-${t.chainId}`}}),o(X.default.createElement(te,{caip19:m,title:t.name??void 0,entryPoint:"explore"}))},ImageComponent:Uo})},Uo=({item:e,index:o})=>X.default.createElement(w,{index:o,displayMedallionBadge:!0,image:X.default.createElement(M,{image:{type:"fungible",src:e.logoUrl,fallback:e.symbol||e.name},size:48,badge:o>=3?{type:"network",preset:ee.getChainID(e.chainId)}:void 0})});var fo=Q.default.memo(({section:e})=>{switch(e.type){case"tokens":return Q.default.createElement(co,{...e});case"sites":return Q.default.createElement(ao,{...e});case"collections":return Q.default.createElement(so,{...e});case"learn":return Q.default.createElement(lo,{...e});case"token-categories":return Q.default.createElement(mo,{...e});default:return null}});l();p();var N=u(y());l();p();var I=u(y()),Oo=16,Ao=re({display:"flex",flexDirection:"row",gap:8,paddingX:"screen",cursor:{base:"default",hover:"pointer"}});function de({values:e}){let o=(0,I.useRef)(null),[n,s]=(0,I.useState)(null),[t,i]=(0,I.useState)(0);(0,I.useEffect)(()=>{o.current&&i(o.current.scrollWidth)},[e]);let m=ye(0),f=(0,I.useMemo)(()=>{let d=self.innerWidth-t-Oo;return Math.min(0,d)},[t]);return I.default.createElement("div",{ref:o},I.default.createElement(Ee.div,{className:Ao,drag:"x",style:{x:m},dragConstraints:{left:f,right:0},onDragStart:()=>{s(m.get())},onDragEnd:()=>{s(null)},onWheel:d=>{if(d.deltaX===0)return;let r=m.get()-d.deltaX;return r>0?m.set(0):r<f?m.set(f):m.set(r)}},e.map(({key:d,onClick:r,node:B})=>I.default.createElement("div",{key:d,onClick:v=>{if(n!==null){v.stopPropagation(),v.preventDefault();return}r()}},B))))}var No={tokens:{navigationPage:N.default.createElement(fe,null)},perps:{navigationPage:null},sites:{navigationPage:N.default.createElement(me,null)},collections:{navigationPage:N.default.createElement(pe,null)},learn:{navigationPage:N.default.createElement(ae,null)},"suggested-users-to-follow":{navigationPage:null},"suggested-users-to-follow-by-pnl":{navigationPage:null},"token-categories":{navigationPage:N.default.createElement(ce,null)},"tokens-for-you":{navigationPage:null}},go=()=>{let e=Pe(),{pushDetailView:o}=k();return N.default.createElement(x,null,N.default.createElement(de,{values:e.map(n=>{let s=No[n.type].navigationPage;return s?{node:N.default.createElement(qe,{type:n.type}),key:n.type,onClick:()=>{a.onExploreShortcutClickedByUser({listName:n.type}),o(s)}}:null}).filter(Se)}))};l();p();var xe=u(y());var xo=({value:e,isLoading:o,onChange:n})=>{let{t:s}=b();return xe.default.createElement(Vo,null,xe.default.createElement(ve,{placeholder:s("dappBrowserExtSearchPlaceholder"),value:e,onChange:t=>{"value"in t.target&&typeof t.target.value=="string"&&n(t.target.value)},showClearIcon:!!e,showLoadingIcon:o,onClear:()=>{n("")}}))},Vo=Be.div`
  padding: 16px;
  padding-bottom: 0;
`;var Ho=(0,uo.default)((e,o)=>{e&&a.searchedByUser({searchTerm:e,uiContext:o})},1e3),Mo=({section:e})=>e.type==="shortcuts"?S.default.createElement(x,{marginBottom:16},S.default.createElement(go,null)):e.type==="carousel"?S.default.createElement(no,null):e.type==="tokens"||e.type==="sites"||e.type==="collections"||e.type==="learn"||e.type==="token-categories"?S.default.createElement(x,{paddingX:"screen",marginBottom:20},S.default.createElement(fo,{section:e})):null,Xo=()=>{let e=H(),[o,n]=(0,S.useState)(""),s=Ce(o,250),t=ue(),i=Le({searchQuery:s,networkIds:t,excludePlaceholderTokens:!0,actorSearchHook:Re}),{showSpinner:m,showSearchResults:f}=i;return(0,S.useEffect)(()=>{Ho(s,"explore")},[s]),S.default.createElement(S.default.Fragment,null,S.default.createElement(xo,{value:o,onChange:n,isLoading:m}),f?S.default.createElement(eo,{...i,entryPoint:"explore",searchQuery:o}):S.default.createElement(x,{direction:"column",marginY:"screen"},e.sections.map(d=>S.default.createElement(x,{key:d.type},Mo({section:d}))),S.default.createElement(x,{paddingX:"screen",paddingBottom:"screen"},S.default.createElement(Ae,null))))},hi=Xo;export{hi as default};
//# sourceMappingURL=ExploreTabPage-YZSMH5EW.js.map
